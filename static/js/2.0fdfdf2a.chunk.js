/*! For license information please see 2.0fdfdf2a.chunk.js.LICENSE.txt */
(this.webpackJsonppiximi=this.webpackJsonppiximi||[]).push([[2],[function(e,t,n){"use strict";n.r(t),n.d(t,"AdadeltaOptimizer",(function(){return Ot})),n.d(t,"AdagradOptimizer",(function(){return jt})),n.d(t,"AdamOptimizer",(function(){return Et})),n.d(t,"AdamaxOptimizer",(function(){return Nt})),n.d(t,"MomentumOptimizer",(function(){return Dt})),n.d(t,"Optimizer",(function(){return wt})),n.d(t,"OptimizerConstructors",(function(){return Mt})),n.d(t,"RMSPropOptimizer",(function(){return It})),n.d(t,"SGDOptimizer",(function(){return Tt})),n.d(t,"Tensor",(function(){return fe.a})),n.d(t,"TensorBuffer",(function(){return fe.b})),n.d(t,"Variable",(function(){return fe.c})),n.d(t,"Rank",(function(){return Ft.a})),n.d(t,"sumOutType",(function(){return Ft.b})),n.d(t,"upcastType",(function(){return Ft.c})),n.d(t,"abs",(function(){return Rt.b})),n.d(t,"acos",(function(){return Rt.c})),n.d(t,"acosh",(function(){return Rt.d})),n.d(t,"add",(function(){return Rt.e})),n.d(t,"addN",(function(){return Rt.f})),n.d(t,"all",(function(){return Rt.g})),n.d(t,"any",(function(){return Rt.h})),n.d(t,"argMax",(function(){return Rt.i})),n.d(t,"argMin",(function(){return Rt.j})),n.d(t,"asin",(function(){return Rt.k})),n.d(t,"asinh",(function(){return Rt.l})),n.d(t,"atan",(function(){return Rt.m})),n.d(t,"atan2",(function(){return Rt.n})),n.d(t,"atanh",(function(){return Rt.o})),n.d(t,"avgPool",(function(){return Rt.p})),n.d(t,"avgPool3d",(function(){return Rt.q})),n.d(t,"basicLSTMCell",(function(){return Rt.r})),n.d(t,"batchToSpaceND",(function(){return Rt.w})),n.d(t,"batchNorm",(function(){return Rt.s})),n.d(t,"batchNorm2d",(function(){return Rt.t})),n.d(t,"batchNorm3d",(function(){return Rt.u})),n.d(t,"batchNorm4d",(function(){return Rt.v})),n.d(t,"bincount",(function(){return Rt.x})),n.d(t,"broadcastArgs",(function(){return Rt.z})),n.d(t,"broadcastTo",(function(){return Rt.A})),n.d(t,"buffer",(function(){return Rt.B})),n.d(t,"cast",(function(){return Rt.C})),n.d(t,"ceil",(function(){return Rt.D})),n.d(t,"clipByValue",(function(){return Rt.E})),n.d(t,"clone",(function(){return Rt.F})),n.d(t,"complex",(function(){return Rt.G})),n.d(t,"concat",(function(){return Rt.H})),n.d(t,"concat1d",(function(){return Rt.I})),n.d(t,"concat2d",(function(){return Rt.J})),n.d(t,"concat3d",(function(){return Rt.K})),n.d(t,"concat4d",(function(){return Rt.L})),n.d(t,"conv1d",(function(){return Rt.M})),n.d(t,"conv2d",(function(){return Rt.N})),n.d(t,"conv2dTranspose",(function(){return Rt.O})),n.d(t,"conv3d",(function(){return Rt.P})),n.d(t,"conv3dTranspose",(function(){return Rt.Q})),n.d(t,"cos",(function(){return Rt.R})),n.d(t,"cosh",(function(){return Rt.S})),n.d(t,"cumsum",(function(){return Rt.U})),n.d(t,"denseBincount",(function(){return Rt.V})),n.d(t,"depthToSpace",(function(){return Rt.W})),n.d(t,"depthwiseConv2d",(function(){return Rt.X})),n.d(t,"diag",(function(){return Rt.Y})),n.d(t,"dilation2d",(function(){return Rt.Z})),n.d(t,"div",(function(){return Rt.ab})),n.d(t,"divNoNan",(function(){return Rt.bb})),n.d(t,"dot",(function(){return Rt.cb})),n.d(t,"einsum",(function(){return Rt.eb})),n.d(t,"elu",(function(){return Rt.fb})),n.d(t,"equal",(function(){return Rt.hb})),n.d(t,"erf",(function(){return Rt.ib})),n.d(t,"exp",(function(){return Rt.jb})),n.d(t,"expandDims",(function(){return Rt.kb})),n.d(t,"expm1",(function(){return Rt.lb})),n.d(t,"eye",(function(){return Rt.mb})),n.d(t,"fill",(function(){return Rt.ob})),n.d(t,"floor",(function(){return Rt.pb})),n.d(t,"floorDiv",(function(){return Rt.qb})),n.d(t,"gather",(function(){return Rt.sb})),n.d(t,"greater",(function(){return Rt.ub})),n.d(t,"greaterEqual",(function(){return Rt.vb})),n.d(t,"imag",(function(){return Rt.xb})),n.d(t,"isFinite",(function(){return Rt.Bb})),n.d(t,"isInf",(function(){return Rt.Cb})),n.d(t,"isNaN",(function(){return Rt.Db})),n.d(t,"leakyRelu",(function(){return Rt.Eb})),n.d(t,"less",(function(){return Rt.Fb})),n.d(t,"lessEqual",(function(){return Rt.Gb})),n.d(t,"linspace",(function(){return Rt.Ib})),n.d(t,"localResponseNormalization",(function(){return Rt.Jb})),n.d(t,"log",(function(){return Rt.Kb})),n.d(t,"log1p",(function(){return Rt.Lb})),n.d(t,"logSigmoid",(function(){return Rt.Mb})),n.d(t,"logSoftmax",(function(){return Rt.Nb})),n.d(t,"logSumExp",(function(){return Rt.Ob})),n.d(t,"logicalAnd",(function(){return Rt.Pb})),n.d(t,"logicalNot",(function(){return Rt.Qb})),n.d(t,"logicalOr",(function(){return Rt.Rb})),n.d(t,"logicalXor",(function(){return Rt.Sb})),n.d(t,"matMul",(function(){return Rt.Ub})),n.d(t,"max",(function(){return Rt.Vb})),n.d(t,"maxPool",(function(){return Rt.Wb})),n.d(t,"maxPool3d",(function(){return Rt.Xb})),n.d(t,"maxPoolWithArgmax",(function(){return Rt.Yb})),n.d(t,"maximum",(function(){return Rt.Zb})),n.d(t,"mean",(function(){return Rt.ac})),n.d(t,"meshgrid",(function(){return Rt.bc})),n.d(t,"min",(function(){return Rt.cc})),n.d(t,"minimum",(function(){return Rt.dc})),n.d(t,"mirrorPad",(function(){return Rt.ec})),n.d(t,"mod",(function(){return Rt.fc})),n.d(t,"moments",(function(){return Rt.gc})),n.d(t,"mul",(function(){return Rt.ic})),n.d(t,"multiRNNCell",(function(){return Rt.jc})),n.d(t,"multinomial",(function(){return Rt.kc})),n.d(t,"neg",(function(){return Rt.lc})),n.d(t,"notEqual",(function(){return Rt.nc})),n.d(t,"oneHot",(function(){return Rt.oc})),n.d(t,"ones",(function(){return Rt.pc})),n.d(t,"onesLike",(function(){return Rt.qc})),n.d(t,"outerProduct",(function(){return Rt.sc})),n.d(t,"pad",(function(){return Rt.tc})),n.d(t,"pad1d",(function(){return Rt.uc})),n.d(t,"pad2d",(function(){return Rt.vc})),n.d(t,"pad3d",(function(){return Rt.wc})),n.d(t,"pad4d",(function(){return Rt.xc})),n.d(t,"pool",(function(){return Rt.yc})),n.d(t,"pow",(function(){return Rt.zc})),n.d(t,"prelu",(function(){return Rt.Ac})),n.d(t,"print",(function(){return Rt.Bc})),n.d(t,"prod",(function(){return Rt.Cc})),n.d(t,"rand",(function(){return Rt.Dc})),n.d(t,"randomGamma",(function(){return Rt.Ec})),n.d(t,"randomNormal",(function(){return Rt.Fc})),n.d(t,"randomUniform",(function(){return Rt.Gc})),n.d(t,"range",(function(){return Rt.Hc})),n.d(t,"real",(function(){return Rt.Ic})),n.d(t,"reciprocal",(function(){return Rt.Jc})),n.d(t,"relu",(function(){return Rt.Kc})),n.d(t,"relu6",(function(){return Rt.Lc})),n.d(t,"reshape",(function(){return Rt.Mc})),n.d(t,"reverse",(function(){return Rt.Nc})),n.d(t,"reverse1d",(function(){return Rt.Oc})),n.d(t,"reverse2d",(function(){return Rt.Pc})),n.d(t,"reverse3d",(function(){return Rt.Qc})),n.d(t,"reverse4d",(function(){return Rt.Rc})),n.d(t,"round",(function(){return Rt.Tc})),n.d(t,"rsqrt",(function(){return Rt.Uc})),n.d(t,"scalar",(function(){return Rt.Vc})),n.d(t,"selu",(function(){return Rt.Xc})),n.d(t,"separableConv2d",(function(){return Rt.Yc})),n.d(t,"setdiff1dAsync",(function(){return Rt.Zc})),n.d(t,"sigmoid",(function(){return Rt.ad})),n.d(t,"sign",(function(){return Rt.bd})),n.d(t,"sin",(function(){return Rt.dd})),n.d(t,"sinh",(function(){return Rt.ed})),n.d(t,"slice",(function(){return Rt.fd})),n.d(t,"slice1d",(function(){return Rt.gd})),n.d(t,"slice2d",(function(){return Rt.hd})),n.d(t,"slice3d",(function(){return Rt.id})),n.d(t,"slice4d",(function(){return Rt.jd})),n.d(t,"softmax",(function(){return Rt.kd})),n.d(t,"softplus",(function(){return Rt.ld})),n.d(t,"spaceToBatchND",(function(){return Rt.md})),n.d(t,"fft",(function(){return Rt.nb})),n.d(t,"ifft",(function(){return Rt.wb})),n.d(t,"irfft",(function(){return Rt.Ab})),n.d(t,"rfft",(function(){return Rt.Sc})),n.d(t,"split",(function(){return Rt.qd})),n.d(t,"sqrt",(function(){return Rt.rd})),n.d(t,"square",(function(){return Rt.sd})),n.d(t,"squaredDifference",(function(){return Rt.td})),n.d(t,"squeeze",(function(){return Rt.ud})),n.d(t,"stack",(function(){return Rt.vd})),n.d(t,"step",(function(){return Rt.wd})),n.d(t,"stridedSlice",(function(){return Rt.xd})),n.d(t,"sub",(function(){return Rt.zd})),n.d(t,"sum",(function(){return Rt.Ad})),n.d(t,"tan",(function(){return Rt.Bd})),n.d(t,"tanh",(function(){return Rt.Cd})),n.d(t,"tensor",(function(){return Rt.Dd})),n.d(t,"tensor1d",(function(){return Rt.Ed})),n.d(t,"tensor2d",(function(){return Rt.Fd})),n.d(t,"tensor3d",(function(){return Rt.Gd})),n.d(t,"tensor4d",(function(){return Rt.Hd})),n.d(t,"tensor5d",(function(){return Rt.Id})),n.d(t,"tensor6d",(function(){return Rt.Jd})),n.d(t,"tile",(function(){return Rt.Kd})),n.d(t,"topk",(function(){return Rt.Ld})),n.d(t,"truncatedNormal",(function(){return Rt.Nd})),n.d(t,"unique",(function(){return Rt.Od})),n.d(t,"unsortedSegmentSum",(function(){return Rt.Pd})),n.d(t,"unstack",(function(){return Rt.Qd})),n.d(t,"variable",(function(){return Rt.Rd})),n.d(t,"where",(function(){return Rt.Sd})),n.d(t,"whereAsync",(function(){return Rt.Td})),n.d(t,"zeros",(function(){return Rt.Ud})),n.d(t,"zerosLike",(function(){return Rt.Vd})),n.d(t,"booleanMaskAsync",(function(){return Rt.y})),n.d(t,"transpose",(function(){return Rt.Md})),n.d(t,"norm",(function(){return Rt.mc})),n.d(t,"movingAverage",(function(){return Rt.hc})),n.d(t,"scatterND",(function(){return Rt.Wc})),n.d(t,"sparseToDense",(function(){return Rt.od})),n.d(t,"gatherND",(function(){return Rt.tb})),n.d(t,"dropout",(function(){return Rt.db})),n.d(t,"enclosingPowerOfTwo",(function(){return Rt.gb})),n.d(t,"cosineWindow",(function(){return Rt.T})),n.d(t,"inTopKAsync",(function(){return Rt.zb})),n.d(t,"op",(function(){return Rt.rc})),n.d(t,"OP_SCOPE_SUFFIX",(function(){return Rt.a})),n.d(t,"image",(function(){return Rt.yb})),n.d(t,"linalg",(function(){return Rt.Hb})),n.d(t,"losses",(function(){return Rt.Tb})),n.d(t,"spectral",(function(){return Rt.pd})),n.d(t,"fused",(function(){return Rt.rb})),n.d(t,"signal",(function(){return Rt.cd})),n.d(t,"sparse",(function(){return Rt.nd})),n.d(t,"string",(function(){return Rt.yd})),n.d(t,"Reduction",(function(){return Pt.a})),n.d(t,"train",(function(){return zt})),n.d(t,"enableProdMode",(function(){return dt.g})),n.d(t,"enableDebugMode",(function(){return dt.f})),n.d(t,"disableDeprecationWarnings",(function(){return dt.c})),n.d(t,"deprecationWarn",(function(){return dt.b})),n.d(t,"disposeVariables",(function(){return dt.e})),n.d(t,"engine",(function(){return dt.h})),n.d(t,"memory",(function(){return dt.m})),n.d(t,"profile",(function(){return dt.n})),n.d(t,"tidy",(function(){return dt.t})),n.d(t,"dispose",(function(){return dt.d})),n.d(t,"keep",(function(){return dt.l})),n.d(t,"time",(function(){return dt.u})),n.d(t,"setBackend",(function(){return dt.r})),n.d(t,"ready",(function(){return dt.o})),n.d(t,"getBackend",(function(){return dt.k})),n.d(t,"removeBackend",(function(){return dt.q})),n.d(t,"findBackend",(function(){return dt.i})),n.d(t,"findBackendFactory",(function(){return dt.j})),n.d(t,"registerBackend",(function(){return dt.p})),n.d(t,"backend",(function(){return dt.a})),n.d(t,"setPlatform",(function(){return dt.s})),n.d(t,"getKernel",(function(){return Ge.c})),n.d(t,"getGradient",(function(){return Ge.b})),n.d(t,"getKernelsForBackend",(function(){return Ge.d})),n.d(t,"registerKernel",(function(){return Ge.f})),n.d(t,"registerGradient",(function(){return Ge.e})),n.d(t,"unregisterKernel",(function(){return Ge.h})),n.d(t,"unregisterGradient",(function(){return Ge.g})),n.d(t,"copyRegisteredKernels",(function(){return Ge.a})),n.d(t,"customGrad",(function(){return yt.a})),n.d(t,"grad",(function(){return yt.b})),n.d(t,"grads",(function(){return yt.c})),n.d(t,"valueAndGrad",(function(){return yt.d})),n.d(t,"valueAndGrads",(function(){return yt.e})),n.d(t,"variableGrads",(function(){return yt.f})),n.d(t,"Environment",(function(){return p.b})),n.d(t,"env",(function(){return p.c})),n.d(t,"ENV",(function(){return p.a})),n.d(t,"version_core",(function(){return ct})),n.d(t,"nextFrame",(function(){return Bt.a})),n.d(t,"browser",(function(){return i})),n.d(t,"io",(function(){return r})),n.d(t,"math",(function(){return a})),n.d(t,"serialization",(function(){return u})),n.d(t,"test_util",(function(){return ut})),n.d(t,"util",(function(){return st})),n.d(t,"backend_util",(function(){return c})),n.d(t,"broadcast_util",(function(){return Ve})),n.d(t,"tensor_util",(function(){return ot})),n.d(t,"slice_util",(function(){return nt})),n.d(t,"gather_util",(function(){return o})),n.d(t,"scatter_util",(function(){return tt})),n.d(t,"device_util",(function(){return Wn})),n.d(t,"kernel_impls",(function(){return l})),n.d(t,"KernelBackend",(function(){return Gn.b})),n.d(t,"DataStorage",(function(){return Gn.a})),n.d(t,"Abs",(function(){return He.a})),n.d(t,"Acos",(function(){return He.b})),n.d(t,"Acosh",(function(){return He.c})),n.d(t,"Add",(function(){return He.d})),n.d(t,"AddN",(function(){return He.e})),n.d(t,"All",(function(){return He.f})),n.d(t,"Any",(function(){return He.g})),n.d(t,"ArgMax",(function(){return He.h})),n.d(t,"ArgMin",(function(){return He.i})),n.d(t,"Asin",(function(){return He.j})),n.d(t,"Asinh",(function(){return He.k})),n.d(t,"Atan",(function(){return He.l})),n.d(t,"Atanh",(function(){return He.n})),n.d(t,"Atan2",(function(){return He.m})),n.d(t,"AvgPool",(function(){return He.o})),n.d(t,"AvgPoolGrad",(function(){return He.r})),n.d(t,"AvgPool3D",(function(){return He.p})),n.d(t,"AvgPool3DGrad",(function(){return He.q})),n.d(t,"BatchMatMul",(function(){return He.s})),n.d(t,"BatchToSpaceND",(function(){return He.t})),n.d(t,"Bincount",(function(){return He.u})),n.d(t,"BroadcastTo",(function(){return He.w})),n.d(t,"BroadcastArgs",(function(){return He.v})),n.d(t,"Cast",(function(){return He.x})),n.d(t,"Ceil",(function(){return He.y})),n.d(t,"ClipByValue",(function(){return He.z})),n.d(t,"Complex",(function(){return He.A})),n.d(t,"ComplexAbs",(function(){return He.B})),n.d(t,"Concat",(function(){return He.C})),n.d(t,"Conv2D",(function(){return He.D})),n.d(t,"Conv2DBackpropFilter",(function(){return He.E})),n.d(t,"Conv2DBackpropInput",(function(){return He.F})),n.d(t,"Conv3D",(function(){return He.G})),n.d(t,"Conv3DBackpropFilterV2",(function(){return He.H})),n.d(t,"Conv3DBackpropInputV2",(function(){return He.I})),n.d(t,"Cos",(function(){return He.J})),n.d(t,"Cosh",(function(){return He.K})),n.d(t,"Cumsum",(function(){return He.M})),n.d(t,"CropAndResize",(function(){return He.L})),n.d(t,"DenseBincount",(function(){return He.N})),n.d(t,"DepthToSpace",(function(){return He.O})),n.d(t,"DepthwiseConv2dNative",(function(){return He.P})),n.d(t,"DepthwiseConv2dNativeBackpropFilter",(function(){return He.Q})),n.d(t,"DepthwiseConv2dNativeBackpropInput",(function(){return He.R})),n.d(t,"Diag",(function(){return He.S})),n.d(t,"Dilation2D",(function(){return He.T})),n.d(t,"Dilation2DBackpropInput",(function(){return He.V})),n.d(t,"Dilation2DBackpropFilter",(function(){return He.U})),n.d(t,"RealDiv",(function(){return He.mc})),n.d(t,"Einsum",(function(){return He.W})),n.d(t,"Elu",(function(){return He.X})),n.d(t,"EluGrad",(function(){return He.Y})),n.d(t,"Erf",(function(){return He.ab})),n.d(t,"Equal",(function(){return He.Z})),n.d(t,"Exp",(function(){return He.bb})),n.d(t,"ExpandDims",(function(){return He.cb})),n.d(t,"Expm1",(function(){return He.db})),n.d(t,"FFT",(function(){return He.eb})),n.d(t,"Fill",(function(){return He.fb})),n.d(t,"FlipLeftRight",(function(){return He.gb})),n.d(t,"Floor",(function(){return He.hb})),n.d(t,"FloorDiv",(function(){return He.ib})),n.d(t,"FusedBatchNorm",(function(){return He.kb})),n.d(t,"GatherV2",(function(){return He.ob})),n.d(t,"GatherNd",(function(){return He.nb})),n.d(t,"Greater",(function(){return He.pb})),n.d(t,"GreaterEqual",(function(){return He.qb})),n.d(t,"Identity",(function(){return He.sb})),n.d(t,"IFFT",(function(){return He.rb})),n.d(t,"Imag",(function(){return He.tb})),n.d(t,"IsFinite",(function(){return He.ub})),n.d(t,"IsInf",(function(){return He.vb})),n.d(t,"IsNan",(function(){return He.wb})),n.d(t,"LeakyRelu",(function(){return He.zb})),n.d(t,"Less",(function(){return He.Ab})),n.d(t,"LessEqual",(function(){return He.Bb})),n.d(t,"LinSpace",(function(){return He.Cb})),n.d(t,"Log",(function(){return He.Db})),n.d(t,"Log1p",(function(){return He.Eb})),n.d(t,"LogicalAnd",(function(){return He.Gb})),n.d(t,"LogicalNot",(function(){return He.Hb})),n.d(t,"LogicalOr",(function(){return He.Ib})),n.d(t,"LogSoftmax",(function(){return He.Fb})),n.d(t,"LRN",(function(){return He.xb})),n.d(t,"LRNGrad",(function(){return He.yb})),n.d(t,"Max",(function(){return He.Jb})),n.d(t,"Maximum",(function(){return He.Pb})),n.d(t,"MaxPool",(function(){return He.Kb})),n.d(t,"MaxPoolGrad",(function(){return He.Nb})),n.d(t,"MaxPool3D",(function(){return He.Lb})),n.d(t,"MaxPool3DGrad",(function(){return He.Mb})),n.d(t,"MaxPoolWithArgmax",(function(){return He.Ob})),n.d(t,"Mean",(function(){return He.Qb})),n.d(t,"Min",(function(){return He.Rb})),n.d(t,"Minimum",(function(){return He.Sb})),n.d(t,"MirrorPad",(function(){return He.Tb})),n.d(t,"Mod",(function(){return He.Ub})),n.d(t,"Multinomial",(function(){return He.Vb})),n.d(t,"Multiply",(function(){return He.Wb})),n.d(t,"Neg",(function(){return He.Xb})),n.d(t,"NotEqual",(function(){return He.bc})),n.d(t,"NonMaxSuppressionV3",(function(){return He.Yb})),n.d(t,"NonMaxSuppressionV4",(function(){return He.Zb})),n.d(t,"NonMaxSuppressionV5",(function(){return He.ac})),n.d(t,"OnesLike",(function(){return He.dc})),n.d(t,"OneHot",(function(){return He.cc})),n.d(t,"Pack",(function(){return He.ec})),n.d(t,"PadV2",(function(){return He.fc})),n.d(t,"Pool",(function(){return He.gc})),n.d(t,"Pow",(function(){return He.hc})),n.d(t,"Prelu",(function(){return He.ic})),n.d(t,"Prod",(function(){return He.jc})),n.d(t,"Range",(function(){return He.kc})),n.d(t,"Real",(function(){return He.lc})),n.d(t,"Reciprocal",(function(){return He.nc})),n.d(t,"Relu",(function(){return He.oc})),n.d(t,"Reshape",(function(){return He.qc})),n.d(t,"ResizeNearestNeighbor",(function(){return He.tc})),n.d(t,"ResizeNearestNeighborGrad",(function(){return He.uc})),n.d(t,"ResizeBilinear",(function(){return He.rc})),n.d(t,"ResizeBilinearGrad",(function(){return He.sc})),n.d(t,"Relu6",(function(){return He.pc})),n.d(t,"Reverse",(function(){return He.vc})),n.d(t,"Round",(function(){return He.xc})),n.d(t,"Rsqrt",(function(){return He.yc})),n.d(t,"ScatterNd",(function(){return He.zc})),n.d(t,"Select",(function(){return He.Ac})),n.d(t,"Selu",(function(){return He.Bc})),n.d(t,"Slice",(function(){return He.Gc})),n.d(t,"Sin",(function(){return He.Ec})),n.d(t,"Sinh",(function(){return He.Fc})),n.d(t,"Sign",(function(){return He.Dc})),n.d(t,"Sigmoid",(function(){return He.Cc})),n.d(t,"Softplus",(function(){return He.Ic})),n.d(t,"Sqrt",(function(){return He.Qc})),n.d(t,"Sum",(function(){return He.Zc})),n.d(t,"SpaceToBatchND",(function(){return He.Jc})),n.d(t,"SplitV",(function(){return He.Pc})),n.d(t,"Softmax",(function(){return He.Hc})),n.d(t,"SparseFillEmptyRows",(function(){return He.Kc})),n.d(t,"SparseReshape",(function(){return He.Lc})),n.d(t,"SparseSegmentMean",(function(){return He.Mc})),n.d(t,"SparseSegmentSum",(function(){return He.Nc})),n.d(t,"SparseToDense",(function(){return He.Oc})),n.d(t,"SquaredDifference",(function(){return He.Sc})),n.d(t,"Square",(function(){return He.Rc})),n.d(t,"StridedSlice",(function(){return He.Uc})),n.d(t,"StringNGrams",(function(){return He.Vc})),n.d(t,"StringSplit",(function(){return He.Wc})),n.d(t,"StringToHashBucketFast",(function(){return He.Xc})),n.d(t,"Sub",(function(){return He.Yc})),n.d(t,"Tan",(function(){return He.ad})),n.d(t,"Tanh",(function(){return He.bd})),n.d(t,"Tile",(function(){return He.cd})),n.d(t,"TopK",(function(){return He.dd})),n.d(t,"Transform",(function(){return He.ed})),n.d(t,"Transpose",(function(){return He.fd})),n.d(t,"Unique",(function(){return He.gd})),n.d(t,"Unpack",(function(){return He.hd})),n.d(t,"UnsortedSegmentSum",(function(){return He.id})),n.d(t,"ZerosLike",(function(){return He.jd})),n.d(t,"Step",(function(){return He.Tc})),n.d(t,"FromPixels",(function(){return He.jb})),n.d(t,"RotateWithOffset",(function(){return He.wc})),n.d(t,"_FusedMatMul",(function(){return He.kd})),n.d(t,"FusedConv2D",(function(){return He.lb})),n.d(t,"FusedDepthwiseConv2D",(function(){return He.mb}));var r={};n.r(r),n.d(r,"copyModel",(function(){return ne})),n.d(r,"listModels",(function(){return J})),n.d(r,"moveModel",(function(){return ae})),n.d(r,"removeModel",(function(){return ee})),n.d(r,"browserFiles",(function(){return ge})),n.d(r,"browserHTTPRequest",(function(){return Te})),n.d(r,"concatenateArrayBuffers",(function(){return y.d})),n.d(r,"decodeWeights",(function(){return y.e})),n.d(r,"encodeWeights",(function(){return y.f})),n.d(r,"fromMemory",(function(){return Me})),n.d(r,"getLoadHandlers",(function(){return j})),n.d(r,"getModelArtifactsForJSON",(function(){return y.g})),n.d(r,"getModelArtifactsInfoForJSON",(function(){return y.h})),n.d(r,"getSaveHandlers",(function(){return k})),n.d(r,"http",(function(){return Ne})),n.d(r,"isHTTPScheme",(function(){return Ae})),n.d(r,"loadWeights",(function(){return ke})),n.d(r,"registerLoadRouter",(function(){return O})),n.d(r,"registerSaveRouter",(function(){return w})),n.d(r,"weightsLoaderFactory",(function(){return _e})),n.d(r,"withSaveHandler",(function(){return Fe}));var a={};n.r(a),n.d(a,"confusionMatrix",(function(){return We}));var i={};n.r(i),n.d(i,"fromPixelsAsync",(function(){return Ke})),n.d(i,"toPixels",(function(){return Ze})),n.d(i,"fromPixels",(function(){return Qe}));var o={};n.r(o),n.d(o,"prepareAndValidate",(function(){return et}));var u={};n.r(u),n.d(u,"Serializable",(function(){return rt})),n.d(u,"SerializationMap",(function(){return at})),n.d(u,"registerClass",(function(){return it}));var s={};n.r(s),n.d(s,"segOpComputeOptimalWindowSize",(function(){return Pn})),n.d(s,"computeOutShape",(function(){return zn})),n.d(s,"collectGatherOpShapeInfo",(function(){return Bn}));var c={};n.r(c),n.d(c,"axesAreInnerMostDims",(function(){return Lt.b})),n.d(c,"combineLocations",(function(){return Lt.c})),n.d(c,"computeOutAndReduceShapes",(function(){return Lt.d})),n.d(c,"expandShapeToKeepDim",(function(){return Lt.e})),n.d(c,"assertAxesAreInnerMostDims",(function(){return Lt.a})),n.d(c,"getAxesPermutation",(function(){return Lt.f})),n.d(c,"getUndoAxesPermutation",(function(){return Lt.h})),n.d(c,"getInnerMostAxes",(function(){return Lt.g})),n.d(c,"getBroadcastDims",(function(){return Ve.getBroadcastDims})),n.d(c,"getReductionAxes",(function(){return Ve.getReductionAxes})),n.d(c,"assertAndGetBroadcastShape",(function(){return Ve.assertAndGetBroadcastShape})),n.d(c,"assertParamsConsistent",(function(){return Ut})),n.d(c,"computeOutShape",(function(){return Wt})),n.d(c,"computeDilation2DInfo",(function(){return Vt.e})),n.d(c,"computePool2DInfo",(function(){return Vt.f})),n.d(c,"computePool3DInfo",(function(){return Vt.g})),n.d(c,"computeConv2DInfo",(function(){return Vt.b})),n.d(c,"computeConv3DInfo",(function(){return Vt.c})),n.d(c,"computeDefaultPad",(function(){return Vt.d})),n.d(c,"tupleValuesAreOne",(function(){return Vt.j})),n.d(c,"eitherStridesOrDilationsAreOne",(function(){return Vt.i})),n.d(c,"convertConv2DDataFormat",(function(){return Vt.h})),n.d(c,"checkPadOnDimRoundingMode",(function(){return Vt.a})),n.d(c,"getFusedDyActivation",(function(){return Ht.c})),n.d(c,"getFusedBiasGradient",(function(){return Ht.b})),n.d(c,"applyActivation",(function(){return Ht.a})),n.d(c,"shouldFuse",(function(){return Ht.d})),n.d(c,"PARALLELIZE_THRESHOLD",(function(){return Gt})),n.d(c,"computeOptimalWindowSize",(function(){return qt})),n.d(c,"slice_util",(function(){return nt})),n.d(c,"upcastType",(function(){return Ft.c})),n.d(c,"getImageCenter",(function(){return Xt})),n.d(c,"getReshaped",(function(){return Yt})),n.d(c,"getPermuted",(function(){return Kt})),n.d(c,"getReshapedPermuted",(function(){return $t})),n.d(c,"getSliceBeginCoords",(function(){return Zt})),n.d(c,"getSliceSize",(function(){return Jt})),n.d(c,"prepareAndValidate",(function(){return et})),n.d(c,"validateUpdateShape",(function(){return tt.validateUpdateShape})),n.d(c,"validateInput",(function(){return tt.validateInput})),n.d(c,"calculateShapes",(function(){return tt.calculateShapes})),n.d(c,"SELU_SCALEALPHA",(function(){return Qt.b})),n.d(c,"SELU_SCALE",(function(){return Qt.a})),n.d(c,"ERF_P",(function(){return en})),n.d(c,"ERF_A1",(function(){return tn})),n.d(c,"ERF_A2",(function(){return nn})),n.d(c,"ERF_A3",(function(){return rn})),n.d(c,"ERF_A4",(function(){return an})),n.d(c,"ERF_A5",(function(){return on})),n.d(c,"warn",(function(){return un.b})),n.d(c,"log",(function(){return un.a})),n.d(c,"mergeRealAndImagArrays",(function(){return sn})),n.d(c,"splitRealAndImagArrays",(function(){return cn})),n.d(c,"complexWithEvenIndex",(function(){return ln})),n.d(c,"complexWithOddIndex",(function(){return fn})),n.d(c,"getComplexWithIndex",(function(){return dn})),n.d(c,"assignToTypedArray",(function(){return hn})),n.d(c,"exponents",(function(){return pn})),n.d(c,"exponent",(function(){return vn})),n.d(c,"decodeEinsumEquation",(function(){return bn})),n.d(c,"getEinsumPermutation",(function(){return yn})),n.d(c,"checkEinsumDimSizes",(function(){return xn})),n.d(c,"getEinsumComputePath",(function(){return wn})),n.d(c,"isIdentityPermutation",(function(){return On})),n.d(c,"prepareSplitSize",(function(){return jn})),n.d(c,"getSparseFillEmptyRowsIndicesDenseShapeMismatch",(function(){return _n})),n.d(c,"getSparseFillEmptyRowsNegativeIndexErrorMessage",(function(){return Sn})),n.d(c,"getSparseFillEmptyRowsOutOfRangeIndexErrorMessage",(function(){return En})),n.d(c,"getSparseReshapeMultipleNegativeOneOutputDimErrorMessage",(function(){return An})),n.d(c,"getSparseReshapeNegativeOutputDimErrorMessage",(function(){return Cn})),n.d(c,"getSparseReshapeEmptyTensorZeroOutputDimErrorMessage",(function(){return Nn})),n.d(c,"getSparseReshapeInputOutputMultipleErrorMessage",(function(){return Tn})),n.d(c,"getSparseReshapeInputOutputMismatchErrorMessage",(function(){return Dn})),n.d(c,"getSparseSegmentReductionNegativeSegmentIdsErrorMessage",(function(){return In})),n.d(c,"getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage",(function(){return Mn})),n.d(c,"getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage",(function(){return Fn})),n.d(c,"getSparseSegmentReductionIndicesOutOfRangeErrorMessage",(function(){return Rn})),n.d(c,"segment_util",(function(){return s})),n.d(c,"fromUint8ToStringArray",(function(){return Ln})),n.d(c,"fromStringArrayToUint8",(function(){return Un}));var l={};n.r(l),n.d(l,"nonMaxSuppressionV3Impl",(function(){return Vn.a})),n.d(l,"nonMaxSuppressionV4Impl",(function(){return Vn.b})),n.d(l,"nonMaxSuppressionV5Impl",(function(){return Vn.c})),n.d(l,"whereImpl",(function(){return Hn.a}));var f=n(14),d=(n(280),n(4)),h=n(5),p=n(52),v=n(12),m=n(19),g=n(7),b=n.n(g),y=n(80),x=function(){function e(){Object(d.a)(this,e),this.saveRouters=[],this.loadRouters=[]}return Object(h.a)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&a.push(n)})),a}}]),e}(),w=function(e){return x.registerSaveRouter(e)},O=function(e){return x.registerLoadRouter(e)},k=function(e){return x.getSaveHandlers(e)},j=function(e,t){return x.getLoadHandlers(e,t)},_="tensorflowjs",S="models_store",E="model_info_store";function A(){if(!Object(p.c)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function C(e){var t=e.result;t.createObjectStore(S,{keyPath:"modelPath"}),t.createObjectStore(E,{keyPath:"modelPath"})}var N=function(){function e(t){if(Object(d.a)(this,e),this.indexedDB=A(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return Object(h.a)(e,[{key:"save",value:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var a=n.indexedDB.open(_,1);a.onupgradeneeded=function(){return C(a)},a.onsuccess=function(){var i=a.result;if(null==t){var o=i.transaction(S,"readonly"),u=o.objectStore(S).get(n.modelPath);u.onsuccess=function(){if(null==u.result)return i.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(u.result.modelArtifacts)},u.onerror=function(e){return i.close(),r(u.error)},o.oncomplete=function(){return i.close()}}else{var s,c=Object(y.h)(t),l=i.transaction(E,"readwrite"),f=l.objectStore(E),d=f.put({modelPath:n.modelPath,modelArtifactsInfo:c});d.onsuccess=function(){var a=(s=i.transaction(S,"readwrite")).objectStore(S).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});a.onsuccess=function(){return e({modelArtifactsInfo:c})},a.onerror=function(e){var t=(f=l.objectStore(E)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(a.error)},t.onerror=function(e){return i.close(),r(a.error)}}},d.onerror=function(e){return i.close(),r(d.error)},l.oncomplete=function(){null==s?i.close():s.oncomplete=function(){return i.close()}}}},a.onerror=function(e){return r(a.error)}}))}}]),e}();N.URL_SCHEME="indexeddb://";var T=function(e){return Object(p.c)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(N.URL_SCHEME)?(t=e.slice(N.URL_SCHEME.length),new N(t)):null;var t};x.registerSaveRouter(T),x.registerLoadRouter(T);var D=function(){function e(){Object(d.a)(this,e),this.indexedDB=A()}return Object(h.a)(e,[{key:"listModels",value:function(){var e=Object(m.a)(b.a.mark((function e(){var t=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(_,1);r.onupgradeneeded=function(){return C(r)},r.onsuccess=function(){var t=r.result,a=t.transaction(E,"readonly"),i=a.objectStore(E).getAll();i.onsuccess=function(){var t,n={},r=Object(v.a)(i.result);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.modelPath]=a.modelArtifactsInfo}}catch(o){r.e(o)}finally{r.f()}e(n)},i.onerror=function(e){return t.close(),n(i.error)},a.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=Object(m.a)(b.a.mark((function e(t){var n=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r=t).startsWith(N.URL_SCHEME)?r.slice(N.URL_SCHEME.length):r,e.abrupt("return",new Promise((function(e,r){var a=n.indexedDB.open(_,1);a.onupgradeneeded=function(){return C(a)},a.onsuccess=function(){var n,i=a.result,o=i.transaction(E,"readwrite"),u=o.objectStore(E),s=u.get(t);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var a=u.delete(t),o=function(){var a=(n=i.transaction(S,"readwrite")).objectStore(S).delete(t);a.onsuccess=function(){return e(s.result.modelArtifactsInfo)},a.onerror=function(e){return r(s.error)}};a.onsuccess=o,a.onerror=function(e){return o(),i.close(),r(s.error)}},s.onerror=function(e){return i.close(),r(s.error)},o.oncomplete=function(){null==n?i.close():n.oncomplete=function(){return i.close()}}},a.onerror=function(e){return r(a.error)}})));case 2:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),I=n(23),M="/",F="tensorflowjs_models",R="info",P="model_topology",z="weight_specs",B="weight_data",L="model_metadata";function U(e){return{info:[F,e,R].join(M),topology:[F,e,P].join(M),weightSpecs:[F,e,z].join(M),weightData:[F,e,B].join(M),modelMetadata:[F,e,L].join(M)}}function W(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function V(e){var t=e.split(M);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(M)}var H=function(){function e(t){if(Object(d.a)(this,e),!Object(p.c)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=U(this.modelPath)}return Object(h.a)(e,[{key:"save",value:function(){var e=Object(m.a)(b.a.mark((function e(t){var n,r,a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=Object(y.h)(t),e.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Object(y.a)(t.weightData)),i={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),e.abrupt("return",{modelArtifactsInfo:a});case 17:throw e.prev=17,e.t0=e.catch(7),W(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."));case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(m.a)(b.a.mark((function e(){var t,n,r,a,i,o,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=a,null!=(i=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(i),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,null!=o.signature&&(n.signature=o.signature),null!=o.userDefinedMetadata&&(n.userDefinedMetadata=o.userDefinedMetadata),null!=o.modelInitializer&&(n.modelInitializer=o.modelInitializer),null!=o.trainingConfig&&(n.trainingConfig=o.trainingConfig)),null!=(u=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=Object(y.b)(u),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();H.URL_SCHEME="localstorage://";var G=function(e){return Object(p.c)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(H.URL_SCHEME)?(t=e.slice(H.URL_SCHEME.length),new H(t)):null;var t};x.registerSaveRouter(G),x.registerLoadRouter(G);var q=function(){function e(){Object(d.a)(this,e),Object(I.b)(Object(p.c)().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),Object(I.b)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return Object(h.a)(e,[{key:"listModels",value:function(){var e=Object(m.a)(b.a.mark((function e(){var t,n,r,a,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=F+M,r=M+R,a=0;a<this.LS.length;++a)(i=this.LS.key(a)).startsWith(n)&&i.endsWith(r)&&(o=V(i),t[o]=JSON.parse(this.LS.getItem(i)));return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=Object(m.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(a=t).startsWith(H.URL_SCHEME)?a.slice(H.URL_SCHEME.length):a,n=U(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),W(n),e.abrupt("return",r);case 7:case"end":return e.stop()}var a}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),X="://",Y=function(){function e(){Object(d.a)(this,e),this.managers={}}return Object(h.a)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){Object(I.b)(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(X)&&(t=t.slice(0,t.indexOf(X))),Object(I.b)(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();Object(I.b)(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}},{key:"getSchemes",value:function(){return Object.keys(this.getInstance().managers)}}]),e}();function K(e){if(-1===e.indexOf(X))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(Y.getSchemes().join(",")));return{scheme:e.split(X)[0],path:e.split(X)[1]}}function $(e,t){return Z.apply(this,arguments)}function Z(){return Z=Object(m.a)(b.a.mark((function e(t,n){var r,a,i,o,u,s,c,l,f,d,h=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]&&h[2],Object(I.b)(t!==n,(function(){return"Old path and new path are the same: '".concat(t,"'")})),a=x.getLoadHandlers(t),Object(I.b)(a.length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),Object(I.b)(a.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"load handlers for source URL ".concat(t,".")})),i=a[0],o=x.getSaveHandlers(n),Object(I.b)(o.length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")})),Object(I.b)(o.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"save handlers for destination URL ".concat(n,".")})),u=o[0],s=K(t).scheme,c=K(t).path,l=s===K(t).scheme,e.next=15,i.load();case 15:if(f=e.sent,!r||!l){e.next=19;break}return e.next=19,Y.getManager(s).removeModel(c);case 19:return e.next=21,u.save(f);case 21:if(d=e.sent,!r||l){e.next=25;break}return e.next=25,Y.getManager(s).removeModel(c);case 25:return e.abrupt("return",d.modelArtifactsInfo);case 26:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function J(){return Q.apply(this,arguments)}function Q(){return(Q=Object(m.a)(b.a.mark((function e(){var t,n,r,a,i,o,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Y.getSchemes(),n={},r=Object(v.a)(t),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=13;break}return i=a.value,e.next=9,Y.getManager(i).listModels();case 9:for(u in o=e.sent)n[i+X+u]=o[u];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(m.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=K(t),r=Y.getManager(n.scheme),e.abrupt("return",r.removeModel(n.path));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.abrupt("return",$(t,n,false));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.abrupt("return",$(t,n,true));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}}]),e}();if(Object(p.c)().get("IS_BROWSER")){Object(p.c)().setPlatform("browser",new oe);try{Y.registerManager(H.URL_SCHEME,new q)}catch(qn){}try{Y.registerManager(N.URL_SCHEME,new D)}catch(qn){}}n(715);var ue=n(100),se=n(35),ce=n(136),le=n(330),fe=n(20);Object(f.b)();var de={buffer:ue.a,cast:se.a,clone:ce.a,print:le.a};Object(fe.f)(de);var he=n(16);function pe(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var ve=function(){function e(t){if(Object(d.a)(this,e),!Object(p.c)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return Object(h.a)(e,[{key:"save",value:function(){var e=Object(m.a)(b.a.mark((function e(t){var n,r,a,i,o,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a=Object(y.i)(t,r),i=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,o.href=i,e.next=15,pe((function(){return o.dispatchEvent(new MouseEvent("click"))}));case 15:if(null==t.weightData){e.next=21;break}return(u=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,u.href=n,e.next=21,pe((function(){return u.dispatchEvent(new MouseEvent("click"))}));case 21:return e.abrupt("return",{modelArtifactsInfo:Object(y.h)(t)});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();ve.URL_SCHEME="downloads://";var me=function(){function e(t){if(Object(d.a)(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return Object(h.a)(e,[{key:"load",value:function(){var e=Object(m.a)(b.a.mark((function e(){var t=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(r){var a=JSON.parse(r.target.result),i=a.modelTopology;if(null!=i)if(null!=a.weightsManifest)if(0!==t.weightsFiles.length){var o=Object(y.g)(a,(function(e){return t.loadWeights(e)}));e(o)}else e({modelTopology:i});else n(new Error("weightManifest field is missing from file ".concat(t.jsonFile.name)));else n(new Error("modelTopology field is missing from file ".concat(t.jsonFile.name)))},r.onerror=function(e){return n("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},r.readAsText(t.jsonFile)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t,n=this,r=[],a=[],i=Object(v.a)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;r.push.apply(r,Object(he.a)(o.weights)),a.push.apply(a,Object(he.a)(o.paths))}}catch(qn){i.e(qn)}finally{i.f()}var u=this.checkManifestAndWeightFiles(e),s=a.map((function(e){return n.loadWeightsFile(e,u[e])}));return Promise.all(s).then((function(e){return[r,Object(y.d)(e)]}))}},{key:"loadWeightsFile",value:function(e,t){return new Promise((function(n,r){var a=new FileReader;a.onload=function(e){var t=e.target.result;n(t)},a.onerror=function(t){return r("Failed to weights data from file of path '".concat(e,"'."))},a.readAsArrayBuffer(t)}))}},{key:"checkManifestAndWeightFiles",value:function(e){var t,n=this,r=[],a=this.weightsFiles.map((function(e){return Object(y.c)(e.name)})),i={},o=Object(v.a)(e);try{for(o.s();!(t=o.n()).done;){t.value.paths.forEach((function(e){var t=Object(y.c)(e);if(-1!==r.indexOf(t))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(t,"'"));if(r.push(t),-1===a.indexOf(t))throw new Error("Weight file with basename '".concat(t,"' is not provided."));i[e]=n.weightsFiles[a.indexOf(t)]}))}}catch(qn){o.e(qn)}finally{o.f()}if(r.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return i}}]),e}();function ge(e){return new me(e)}x.registerSaveRouter((function(e){return Object(p.c)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ve.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new ve(e)}(e.slice(ve.URL_SCHEME.length)):null}));var be=n(6);function ye(e,t,n,r){!function(e){Object(I.b)(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){Object(I.b)(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)})),Object(I.b)(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),Object(I.b)(t>=e,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map((function(i){return i.then((function(i){var o=n+ ++a/e.length*(r-n);return t(o),i})),i})))}var xe=n(298);function we(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(m.a)(b.a.mark((function e(t,n){var r,a,i,o,u,s,c,l,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?Object(p.c)().platform.fetch:n.fetchFunc,a=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),i=0,o=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(a);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,ye(a,n.onProgress,i,o);case 13:e.t0=e.sent;case 14:if(u=e.t0,s=u.map((function(e){return e.arrayBuffer()})),c=.5,l=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(s);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,ye(s,n.onProgress,c,l);case 26:e.t1=e.sent;case 27:return f=e.t1,e.abrupt("return",f);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return je.apply(this,arguments)}function je(){return je=Object(m.a)(b.a.mark((function e(t){var n,r,a,i,o=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",r=o.length>2?o[2]:void 0,a=o.length>3?o[3]:void 0,i=_e((function(e){return we(e,{requestInit:a})})),e.abrupt("return",i(t,n,r));case 6:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function _e(e){return function(){var t=Object(m.a)(b.a.mark((function t(n){var r,a,i,o,u,s,c,l,f,d,h,p,v=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=v.length>1&&void 0!==v[1]?v[1]:"",a=v.length>2?v[2]:void 0,i=n.map((function(){return!1})),o={},u=null!=a?a.map((function(){return!1})):[],s=[],n.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,c=xe.a[r]*I.O(e.shape),l=function(){i[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=a?a.forEach((function(t,n){t===e.name&&(l(),u[n]=!0)})):l(),s.push(e.name),n+=c}))})),u.every((function(e){return e}))){t.next=10;break}throw c=a.filter((function(e,t){return!u[t]})),new Error("Could not find weights in manifest with names: "+"".concat(c.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(s.join(", "),"."));case 10:return l=i.reduce((function(e,t,n){return t&&e.push(n),e}),[]),f=[],l.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;f.push(t)}))})),t.next=15,e(f);case 15:return d=t.sent,h={},p=0,l.forEach((function(e){for(var t=n[e].paths.length,r=0,a=0;a<t;a++)r+=d[p+a].byteLength;for(var i=new ArrayBuffer(r),u=new Uint8Array(i),s=0,c=0;c<t;c++){var l=new Uint8Array(d[p+c]);u.set(l,s),s+=l.byteLength}o[e].forEach((function(e){var t=i.slice(e.groupOffset,e.groupOffset+e.sizeBytes),n=Object(y.e)(t,[e.manifestEntry]);for(var r in n)h[r]=n[r]})),p+=t})),t.abrupt("return",h);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Se=function(){function e(t,n){if(Object(d.a)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?(Object(I.b)("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=Object(p.c)().platform.fetch,Object(I.b)(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&Object(I.b)(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return Object(h.a)(e,[{key:"save",value:function(){var e=Object(m.a)(b.a.mark((function e(t){var n,r,a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a=Object(y.i)(t,r),n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=10,this.fetch(this.path,n);case 10:if(!(i=e.sent).ok){e.next=15;break}return e.abrupt("return",{modelArtifactsInfo:Object(y.h)(t),responses:[i]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(i.status,"."));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(m.a)(b.a.mark((function e(){var t,n,r,a,i,o=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(a=n.modelTopology,i=n.weightsManifest,null!=a||null!=i){e.next=20;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 20:return e.abrupt("return",Object(y.g)(n,(function(e){return o.loadWeights(e)})));case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(t){var n,r,a,i,o,u,s,c,l,f,d,h,p,m,g,x,w,O,k;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=Ee(n),a=Object(be.a)(r,2),i=a[0],o=a[1],u=this.weightPathPrefix||i,s=[],c=Object(v.a)(t);try{for(c.s();!(l=c.n()).done;)f=l.value,s.push.apply(s,Object(he.a)(f.weights))}catch(qn){c.e(qn)}finally{c.f()}d=[],h=[],p=Object(v.a)(t);try{for(p.s();!(m=p.n()).done;){g=m.value,x=Object(v.a)(g.paths);try{for(x.s();!(w=x.n()).done;)O=w.value,null!=this.weightUrlConverter?h.push(this.weightUrlConverter(O)):d.push(u+O+o)}catch(qn){x.e(qn)}finally{x.f()}}}catch(qn){p.e(qn)}finally{p.f()}if(!this.weightUrlConverter){e.next=19;break}return e.t0=d.push,e.t1=d,e.t2=he.a,e.next=16,Promise.all(h);case 16:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 19:return e.next=21,we(d,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 21:return k=e.sent,e.abrupt("return",[s,Object(y.d)(k)]);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ee(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function Ae(e){return null!=e.match(Se.URL_SCHEME_REGEX)}Se.URL_SCHEME_REGEX=/^https?:\/\//;var Ce=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return Ae(e)})):Ae(e))?Ne(e,t):null};function Ne(e,t){return new Se(e,t)}function Te(e,t){return Ne(e,t)}x.registerSaveRouter(Ce),x.registerLoadRouter(Ce);var De=function(){function e(t){Object(d.a)(this,e),this.modelArtifacts=t}return Object(h.a)(e,[{key:"load",value:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.modelArtifacts);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ie=function(){function e(t){Object(d.a)(this,e),this.saveHandler=t}return Object(h.a)(e,[{key:"save",value:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.saveHandler(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Me(e,t,n,r){if(1===arguments.length){var a=null!=e.modelTopology||null!=e.weightSpecs;return a?new De(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new De({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new De({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function Fe(e){return new Ie(e)}var Re=n(9),Pe=n(61),ze=n(216),Be=n(13),Le=n(107);var Ue,We=Object(Be.b)({confusionMatrix_:function(e,t,n){var r=Object(Re.a)(e,"labels","confusionMatrix"),a=Object(Re.a)(t,"predictions","confusionMatrix");I.b(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, "+"but got ".concat(n)})),I.b(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got ".concat(r.rank)})),I.b(1===a.rank,(function(){return"Expected the rank of predictions to be 1, "+"but got ".concat(a.rank)})),I.b(r.shape[0]===a.shape[0],(function(){return"Mismatch in the number of examples: "+"".concat(r.shape[0]," vs. ").concat(a.shape[0],". ")+"Labels and predictions should have the same number of elements."})),I.b(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+"".concat(n)}));var i=Object(ze.a)(Object(se.a)(r,"int32"),n),o=Object(ze.a)(Object(se.a)(a,"int32"),n),u=Object(Le.a)(i),s=Object(Pe.a)(u,o);return Object(se.a)(s,"int32")}}),Ve=n(42),He=n(10),Ge=n(125),qe=n(360);function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,i=!1,o=!1,u=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));u=!0}if(a){var s=2;if(a&&e.readyState<s)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}var c=Object(Ge.c)(He.jb,f.a.backendName);if(null!=c){var l={pixels:e},d={numChannels:t};return f.a.runKernel(He.jb,l,d)}var h,p,v=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],m=Object(be.a)(v,2),g=m[0],b=m[1];if(o)h=e.getContext("2d").getImageData(0,0,g,b).data;else if(r||n)h=e.data;else if(i||a||u){if(null==Ue)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");Ue=new OffscreenCanvas(1,1).getContext("2d")}else Ue=document.createElement("canvas").getContext("2d");Ue.canvas.width=g,Ue.canvas.height=b,Ue.drawImage(e,0,0,g,b),h=Ue.getImageData(0,0,g,b).data}if(4===t)p=new Int32Array(h);else{var y=g*b;p=new Int32Array(y*t);for(var x=0;x<y;x++)for(var w=0;w<t;++w)p[x*t+w]=h[4*x+w]}var O=[b,g,t];return Object(qe.a)(p,O,"int32")}function Ye(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}function Ke(e){return $e.apply(this,arguments)}function $e(){return $e=Object(m.a)(b.a.mark((function e(t){var n,r,a,i=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:3,r=null,!Object(p.c)().getBool("WRAP_TO_IMAGEBITMAP")||!Ye(t)){e.next=15;break}return e.prev=3,e.next=6,createImageBitmap(t,{premultiplyAlpha:"none"});case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a=null;case 12:r=null!=a&&a.width===t.width&&a.height===t.height?a:t,e.next=16;break;case 15:r=t;case 16:return e.abrupt("return",Xe(r,n));case 17:case"end":return e.stop()}}),e,null,[[3,9]])}))),$e.apply(this,arguments)}function Ze(e,t){return Je.apply(this,arguments)}function Je(){return(Je=Object(m.a)(b.a.mark((function e(t,n){var r,a,i,o,u,s,c,l,f,d,h,p,v,m,g,y,x;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(Re.a)(t,"img","toPixels"),t instanceof fe.a||(a=r,r=Object(se.a)(a,"int32"),a.dispose()),2===r.rank||3===r.rank){e.next=4;break}throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(r.rank,"."));case 4:if(i=r.shape.slice(0,2),o=Object(be.a)(i,2),u=o[0],s=o[1],!((c=2===r.rank?1:r.shape[2])>4||2===c)){e.next=8;break}throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(c));case 8:if("float32"===r.dtype||"int32"===r.dtype){e.next=10;break}throw new Error("Unsupported type for toPixels: ".concat(r.dtype,".")+" Please use float32 or int32 tensors.");case 10:return e.next=12,r.data();case 12:l=e.sent,f="float32"===r.dtype?255:1,d=new Uint8ClampedArray(s*u*4),h=0;case 16:if(!(h<u*s)){e.next=41;break}p=[0,0,0,255],v=0;case 19:if(!(v<c)){e.next=33;break}if(m=l[h*c+v],"float32"!==r.dtype){e.next=26;break}if(!(m<0||m>1)){e.next=24;break}throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(m,"."));case 24:e.next=29;break;case 26:if("int32"!==r.dtype){e.next=29;break}if(!(m<0||m>255)){e.next=29;break}throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(m,"."));case 29:1===c?(p[0]=m*f,p[1]=m*f,p[2]=m*f):p[v]=m*f;case 30:v++,e.next=19;break;case 33:d[(g=4*h)+0]=Math.round(p[0]),d[g+1]=Math.round(p[1]),d[g+2]=Math.round(p[2]),d[g+3]=Math.round(p[3]);case 38:++h,e.next=16;break;case 41:return null!=n&&(n.width=s,n.height=u,y=n.getContext("2d"),x=new ImageData(d,s,u),y.putImageData(x,0,0)),r!==t&&r.dispose(),e.abrupt("return",d);case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qe=Object(Be.b)({fromPixels_:Xe});function et(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===Object(I.O)(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var a=t.shape,i=a[a.length-1],o=1,u=0;u<a.length-1;++u)o*=a[u];var s=e.shape,c=a.slice();c.pop();for(var l=1,f=i;f<n;++f)l*=s[f],c.push(s[f]);var d=[].concat(Object(he.a)(Object(I.j)(e.shape).map((function(e){return e/l}))),[1]).slice(0,i);return[c,o,l,d]}var tt=n(239),nt=n(240),rt=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),at=function(){function e(){Object(d.a)(this,e),this.classNameMap={}}return Object(h.a)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function it(e){Object(I.b)(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),Object(I.b)("string"===typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),Object(I.b)(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),at.register(e)}var ot=n(55),ut=n(266),st=n(27),ct="3.13.0",lt=n(17),ft=n(18),dt=n(65),ht=n(39),pt=n(41),vt=n(24),mt=n(85),gt=n(63),bt=n(49),yt=n(83),xt=n(46),wt=function(e){Object(lt.a)(n,e);var t=Object(ft.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),a=r.value,i=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:i[e.name]}}));this.applyGradients(o)}else this.applyGradients(i);return Object(dt.d)(i),t?a:(a.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return Object(yt.f)(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&Object(dt.d)(this.iterations_)}},{key:"saveIterations",value:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.iterations_&&(this.iterations_=0),e.abrupt("return",{name:"iter",tensor:Object(xt.a)(this.iterations_,"int32")});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(rt);Object.defineProperty(wt,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Ot=function(e){Object(lt.a)(n,e);var t=Object(ft.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(d.a)(this,n),(a=t.call(this)).learningRate=e,a.rho=r,a.epsilon=i,a.accumulatedGrads=[],a.accumulatedUpdates=[],null==i&&(a.epsilon=f.a.backend.epsilon()),a}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=f.a.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:Object(dt.t)((function(){return Object(bt.a)(a).variable(false)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:Object(dt.t)((function(){return Object(bt.a)(a).variable(false)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable,u=t.accumulatedUpdates[r].variable;Object(dt.t)((function(){var e=Object(ht.a)(Object(vt.a)(o,t.rho),Object(vt.a)(Object(gt.a)(i),1-t.rho)),n=Object(vt.a)(Object(pt.a)(Object(mt.a)(Object(ht.a)(u,t.epsilon)),Object(mt.a)(Object(ht.a)(o,t.epsilon))),i),r=Object(ht.a)(Object(vt.a)(u,t.rho),Object(vt.a)(Object(gt.a)(n),1-t.rho));o.assign(e),u.assign(r);var s=Object(ht.a)(Object(vt.a)(n,-t.learningRate),a);a.assign(s)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&(Object(dt.d)(this.accumulatedGrads.map((function(e){return e.variable}))),Object(dt.d)(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(he.a)(this.accumulatedGrads),Object(he.a)(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),n}(wt);Ot.className="Adadelta",it(Ot);var kt=n(189),jt=function(e){Object(lt.a)(n,e);var t=Object(ft.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return Object(d.a)(this,n),(r=t.call(this)).learningRate=e,r.initialAccumulatorValue=a,r.accumulatedGrads=[],r}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=f.a.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:Object(dt.t)((function(){return Object(kt.a)(a.shape,t.initialAccumulatorValue).variable(false)}))}}var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable;Object(dt.t)((function(){var e=Object(ht.a)(o,Object(gt.a)(i));o.assign(e);var n=Object(ht.a)(Object(vt.a)(Object(pt.a)(i,Object(mt.a)(Object(ht.a)(e,f.a.backend.epsilon()))),-t.learningRate),a);a.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&Object(dt.d)(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),n}(wt);jt.className="Adagrad",it(jt);var _t=n(111),St=n(40),Et=function(e){Object(lt.a)(n,e);var t=Object(ft.a)(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(d.a)(this,n),(i=t.call(this)).learningRate=e,i.beta1=r,i.beta2=a,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],Object(dt.t)((function(){i.accBeta1=Object(xt.a)(r).variable(),i.accBeta2=Object(xt.a)(a).variable()})),null==o&&(i.epsilon=f.a.backend.epsilon()),i}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Object(dt.t)((function(){var r=Object(St.a)(1,t.accBeta1),a=Object(St.a)(1,t.accBeta2);n.forEach((function(n,i){var o=f.a.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:Object(dt.t)((function(){return Object(bt.a)(o).variable(false)}))}),null==t.accumulatedSecondMoment[i]&&(t.accumulatedSecondMoment[i]={originalName:"".concat(n,"/v"),variable:Object(dt.t)((function(){return Object(bt.a)(o).variable(false)}))});var u=Array.isArray(e)?e[i].tensor:e[n];if(null!=u){var s=t.accumulatedFirstMoment[i].variable,c=t.accumulatedSecondMoment[i].variable,l=Object(ht.a)(Object(vt.a)(s,t.beta1),Object(vt.a)(u,1-t.beta1)),d=Object(ht.a)(Object(vt.a)(c,t.beta2),Object(vt.a)(Object(gt.a)(u),1-t.beta2)),h=Object(pt.a)(l,r),p=Object(pt.a)(d,a);s.assign(l),c.assign(d);var v=Object(ht.a)(Object(vt.a)(Object(pt.a)(h,Object(ht.a)(Object(mt.a)(p),t.epsilon)),-t.learningRate),o);o.assign(v)}})),t.accBeta1.assign(Object(vt.a)(t.accBeta1,t.beta1)),t.accBeta2.assign(Object(vt.a)(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Object(dt.d)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&Object(dt.d)(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(he.a)(this.accumulatedFirstMoment),Object(he.a)(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(t){var n,r=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,Object(dt.t)((function(){r.accBeta1.assign(Object(_t.a)(r.beta1,r.iterations_+1)),r.accBeta2.assign(Object(_t.a)(r.beta2,r.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),n}(wt);Et.className="Adam",it(Et);var At=n(92),Ct=n(190),Nt=function(e){Object(lt.a)(n,e);var t=Object(ft.a)(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return Object(d.a)(this,n),(i=t.call(this)).learningRate=e,i.beta1=r,i.beta2=a,i.epsilon=o,i.decay=u,i.accumulatedFirstMoment=[],i.accumulatedWeightedInfNorm=[],Object(dt.t)((function(){i.iteration=Object(xt.a)(0).variable(),i.accBeta1=Object(xt.a)(r).variable()})),null==o&&(i.epsilon=f.a.backend.epsilon()),i}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Object(dt.t)((function(){var r=Object(St.a)(1,t.accBeta1),a=Object(pt.a)(-t.learningRate,Object(ht.a)(Object(vt.a)(t.iteration,t.decay),1));n.forEach((function(n,i){var o=f.a.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:Object(bt.a)(o).variable(false)}),null==t.accumulatedWeightedInfNorm[i]&&(t.accumulatedWeightedInfNorm[i]={originalName:"".concat(n,"/v"),variable:Object(bt.a)(o).variable(false)});var u=Array.isArray(e)?e[i].tensor:e[n];if(null!=u){var s=t.accumulatedFirstMoment[i].variable,c=t.accumulatedWeightedInfNorm[i].variable,l=Object(ht.a)(Object(vt.a)(s,t.beta1),Object(vt.a)(u,1-t.beta1)),d=Object(vt.a)(c,t.beta2),h=Object(At.a)(u),p=Object(Ct.a)(d,h);s.assign(l),c.assign(p);var v=Object(ht.a)(Object(vt.a)(Object(pt.a)(a,r),Object(pt.a)(l,Object(ht.a)(p,t.epsilon))),o);o.assign(v)}})),t.iteration.assign(Object(ht.a)(t.iteration,1)),t.accBeta1.assign(Object(vt.a)(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Object(dt.d)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&Object(dt.d)(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),n}(wt);Nt.className="Adamax",it(Nt);var Tt=function(e){Object(lt.a)(n,e);var t=Object(ft.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).learningRate=e,r.setLearningRate(e),r}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var i=f.a.registeredVariables[n];Object(dt.t)((function(){var e=Object(ht.a)(Object(vt.a)(t.c,a),i);i.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Object(dt.l)(Object(xt.a)(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),n}(wt);Tt.className="SGD",it(Tt);var Dt=function(e){Object(lt.a)(n,e);var t=Object(ft.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(d.a)(this,n),(a=t.call(this,e)).learningRate=e,a.momentum=r,a.useNesterov=i,a.accumulations=[],a.m=Object(xt.a)(a.momentum),a}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=f.a.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:Object(dt.t)((function(){return Object(bt.a)(a).variable(false)}))}}var i=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&Object(dt.t)((function(){var e,n=Object(ht.a)(Object(vt.a)(t.m,i),o);e=t.useNesterov?Object(ht.a)(Object(vt.a)(t.c,Object(ht.a)(o,Object(vt.a)(n,t.m))),a):Object(ht.a)(Object(vt.a)(t.c,n),a),i.assign(n),a.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&Object(dt.d)(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),n}(Tt);Dt.className="Momentum",it(Dt);var It=function(e){Object(lt.a)(n,e);var t=Object(ft.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(d.a)(this,n),(r=t.call(this)).learningRate=e,r.decay=a,r.momentum=i,r.epsilon=o,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=u,null==o&&(r.epsilon=f.a.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return r}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=f.a.registeredVariables[n],i=!1;null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:Object(dt.t)((function(){return Object(bt.a)(a).variable(i)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:Object(dt.t)((function(){return Object(bt.a)(a).variable(i)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:Object(dt.t)((function(){return Object(bt.a)(a).variable(i)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var u=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;Object(dt.t)((function(){var e=Object(ht.a)(Object(vt.a)(u,t.decay),Object(vt.a)(Object(gt.a)(o),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,i=Object(ht.a)(Object(vt.a)(n,t.decay),Object(vt.a)(o,1-t.decay)),c=Object(pt.a)(Object(vt.a)(o,t.learningRate),Object(mt.a)(Object(St.a)(e,Object(ht.a)(Object(gt.a)(i),t.epsilon)))),l=Object(ht.a)(Object(vt.a)(s,t.momentum),c);u.assign(e),n.assign(i),s.assign(l);var f=Object(St.a)(a,l);a.assign(f)}else{var d=Object(ht.a)(Object(vt.a)(u,t.decay),Object(vt.a)(Object(gt.a)(o),1-t.decay)),h=Object(ht.a)(Object(vt.a)(s,t.momentum),Object(pt.a)(Object(vt.a)(o,t.learningRate),Object(mt.a)(Object(ht.a)(d,t.epsilon))));u.assign(d),s.assign(h);var p=Object(St.a)(a,h);a.assign(p)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&Object(dt.d)(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&Object(dt.d)(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&Object(dt.d)(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(he.a)(this.accumulatedMeanSquares),Object(he.a)(this.accumulatedMoments)),this.centered&&t.push.apply(t,Object(he.a)(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(m.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,r=!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),n}(wt);It.className="RMSProp",it(It);var Mt=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"sgd",value:function(e){return new Tt(e)}},{key:"momentum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Dt(e,t,n)}},{key:"rmsprop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new It(e,t,n,r,a)}},{key:"adam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Et(e,t,n,r)}},{key:"adadelta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Ot(e,t,n)}},{key:"adamax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new Nt(e,t,n,r,a)}},{key:"adagrad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new jt(e,t)}}]),e}(),Ft=n(188),Rt=n(51),Pt=n(84),zt={sgd:Mt.sgd,momentum:Mt.momentum,adadelta:Mt.adadelta,adagrad:Mt.adagrad,rmsprop:Mt.rmsprop,adamax:Mt.adamax,adam:Mt.adam},Bt=n(526),Lt=n(88);function Ut(e,t){var n=e[0].length;e.forEach((function(e,t){I.b(e.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")}))})),I.b(t>=0&&t<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=e[0];e.forEach((function(e,a){for(var i=0;i<n;i++)I.b(i===t||e[i]===r[i],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(a,".")}))}))}function Wt(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}var Vt=n(56),Ht=n(93),Gt=30;function qt(e){return e<=Gt?e:Object(I.G)(e,Math.floor(Math.sqrt(e)))}function Xt(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function Yt(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];if(r)(a=a.concat(t.slice(0))).push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var i=t.length,o=0;o<i;++o)a=a.concat([e[o+1]/t[o],t[o]]);a=a.concat(e.slice(i+1))}return a}function Kt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];if(n){r.push(t);for(var a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{for(var i=[],o=[],u=1;u<e;++u)u>=2*t+1||u%2===1?o.push(u):i.push(u);r.push.apply(r,i),r.push(0),r.push.apply(r,o)}return r}function $t(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function Zt(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function Jt(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}var Qt=n(292),en=.3275911,tn=.254829592,nn=-.284496736,rn=1.421413741,an=-1.453152027,on=1.061405429,un=n(153);function sn(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function cn(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function ln(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function fn(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function dn(e,t){return{real:e[2*t],imag:e[2*t+1]}}function hn(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function pn(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var i=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function vn(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}var mn="->",gn=/->/g;function bn(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(gn,"").length)/mn.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(mn,'").'));var r=e.split(mn),a=Object(be.a)(r,2),i=a[0],o=a[1];Object(I.b)(-1===i.indexOf("..."),(function(){return'The ellipsis notation ("'.concat("...",'") is not supported yet.')}));var u=i.split(","),s=u.length;if(t!==s)throw new Error("Expected ".concat(s," input tensors, received ").concat(t));if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var c=[],l=function(e){var t=o[e];if(!u.some((function(e){return-1!==e.indexOf(t)})))throw new Error("Output subscripts contain the label ".concat(t," ")+"not present in the input subscripts.");-1===c.indexOf(t)&&c.push(t)},f=0;f<o.length;++f)l(f);for(var d=0;d<i.length;++d){var h=i[d];-1===c.indexOf(h)&&","!==h&&c.push(h)}for(var p=new Array(u.length),v=0;v<s;++v){if(new Set(u[v].split("")).size!==u[v].length)throw new Error("Found duplicate axes in input component ".concat(u[v],". ")+"Support for duplicate axes in input is not implemented yet.");p[v]=[];for(var m=0;m<u[v].length;++m)p[v].push(c.indexOf(u[v][m]))}for(var g=c.length,b=[],y=o.length;y<g;++y)b.push(y);return{allDims:c,summedDims:b,idDims:p}}function yn(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var a=[],i=0;i<e;++i)-1===n[i]&&a.push(i);return{permutationIndices:n=n.filter((function(e){return-1!==e})),expandDims:a}}function xn(e,t,n){for(var r=new Array(e),a=function(e){for(var a=n[e].shape,i=function(n){void 0===r[t[e][n]]?r[t[e][n]]=a[n]:Object(I.b)(r[t[e][n]]===a[n],(function(){return"Expected dimension ".concat(r[t[e][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(a),", ")+"but got dimension ".concat(a[n])}))},o=0;o<t[e].length;++o)i(o)},i=0;i<n.length;++i)a(i)}function wn(e,t){var n,r=e,a=[];0===e.length&&r.push(-1),n=e.length+1;for(var i=0;i<n;++i)a.push([]);for(var o=[],u=0;u<r.length;++u){var s,c=kn(t,r[u]),l=Object(v.a)(c);try{for(l.s();!(s=l.n()).done;){var f=s.value;-1===o.indexOf(f)&&(a[u].push(f),o.push(f))}}catch(qn){l.e(qn)}finally{l.f()}}return{path:r,steps:a}}function On(e){return e.every((function(e,t){return e===t}))}function kn(e,t){for(var n=[],r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function jn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)Object(I.b)(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{var a=t.reduce((function(e,t){return-1===t&&(e+=1),e}),0);Object(I.b)(a<=1,(function(){return"There should be only one negative value in split array."}));var i=t.indexOf(-1);if(-1!==i){var o=t.reduce((function(e,t){return t>0?e+t:e}));t[i]=e.shape[n]-o}Object(I.b)(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}function _n(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function Sn(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function En(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function An(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function Cn(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function Nn(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Tn(e,t){var n=Object(I.O)(e),r=Object(I.O)(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function Dn(e,t){var n=Object(I.O)(e),r=Object(I.O)(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function In(){return"segment ids must be >= 0"}function Mn(){return"segment ids are not increasing"}function Fn(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function Rn(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function Pn(e,t){var n,r=!1;for(e<=Gt?(n=e,r=!0):n=Object(I.G)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=Object(I.G)(e,n+1);return n}function zn(e,t,n){for(var r=[],a=e.length,i=0;i<a;i++)i!==t?r.push(e[i]):r.push(n);return r}function Bn(e,t,n,r){var a=t.shape.length,i=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(r));if(r<0&&(r+=a),r>i)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(i,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var o=0;o<r;++o)if(e.shape[o]!==t.shape[o])throw new Error("x.shape[".concat(o,"]: ").concat(e.shape[o]," should be equal to indices.shape[").concat(o,"]: ").concat(t.shape[o],"."));for(var u=e.shape[n],s=[],c=1,l=1,f=1,d=0;d<r;++d)s.push(e.shape[d]),c*=e.shape[d];for(var h=r;h<n;h++)s.push(e.shape[h]),l*=e.shape[h];for(var p=r;p<a;p++)s.push(t.shape[p]);for(var v=n+1;v<i;v++)s.push(e.shape[v]),f*=e.shape[v];return{batchSize:c,sliceSize:f,outerSize:l,dimSize:u,outputShape:s}}function Ln(e){try{return e.map((function(e){return Object(st.decodeString)(e)}))}catch(qn){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(qn))}}function Un(e){return e.map((function(e){return Object(st.encodeString)(e)}))}var Wn=n(329),Vn=n(156),Hn=n(364),Gn=n(287)},function(e,t,n){"use strict";e.exports=n(659)},function(e,t,n){"use strict";e.exports=n(714)},function(e,t,n){"use strict";function r(e,t,n){return e.fields=t||[],e.fname=n,e}function a(e){return null==e?null:e.fname}function i(e){return null==e?null:e.fields}function o(e){return 1===e.length?u(e[0]):s(e)}n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return q})),n.d(t,"f",(function(){return $})),n.d(t,"g",(function(){return X})),n.d(t,"h",(function(){return K})),n.d(t,"i",(function(){return ee})),n.d(t,"j",(function(){return te})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return ne})),n.d(t,"m",(function(){return re})),n.d(t,"n",(function(){return ae})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return se})),n.d(t,"q",(function(){return f})),n.d(t,"r",(function(){return ce})),n.d(t,"s",(function(){return oe})),n.d(t,"t",(function(){return d})),n.d(t,"u",(function(){return h})),n.d(t,"v",(function(){return le})),n.d(t,"w",(function(){return fe})),n.d(t,"x",(function(){return w})),n.d(t,"y",(function(){return de})),n.d(t,"z",(function(){return he})),n.d(t,"A",(function(){return Y})),n.d(t,"B",(function(){return pe})),n.d(t,"C",(function(){return ve})),n.d(t,"D",(function(){return O})),n.d(t,"E",(function(){return me})),n.d(t,"F",(function(){return ge})),n.d(t,"G",(function(){return be})),n.d(t,"H",(function(){return ye})),n.d(t,"I",(function(){return x})),n.d(t,"J",(function(){return xe})),n.d(t,"K",(function(){return we})),n.d(t,"L",(function(){return j})),n.d(t,"M",(function(){return v})),n.d(t,"N",(function(){return ke})),n.d(t,"O",(function(){return F})),n.d(t,"P",(function(){return R})),n.d(t,"Q",(function(){return P})),n.d(t,"R",(function(){return z})),n.d(t,"S",(function(){return E})),n.d(t,"T",(function(){return H})),n.d(t,"U",(function(){return je})),n.d(t,"V",(function(){return l})),n.d(t,"W",(function(){return _e})),n.d(t,"X",(function(){return Se})),n.d(t,"Y",(function(){return Ae})),n.d(t,"Z",(function(){return A})),n.d(t,"ab",(function(){return Ne})),n.d(t,"bb",(function(){return Ce})),n.d(t,"cb",(function(){return Te})),n.d(t,"db",(function(){return m})),n.d(t,"eb",(function(){return G})),n.d(t,"fb",(function(){return De})),n.d(t,"gb",(function(){return p})),n.d(t,"hb",(function(){return L})),n.d(t,"ib",(function(){return U})),n.d(t,"jb",(function(){return W})),n.d(t,"kb",(function(){return V}));var u=function(e){return function(t){return t[e]}},s=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function c(e){throw Error(e)}function l(e){var t,n,r,a=[],i=e.length,o=null,u=0,s="";function l(){a.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<i;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===o)l(),o=null,u=-1;else{if(o)continue;t===u&&'"'===r||t===u&&"'"===r?(t=n+1,o=r):"."!==r||u?"["===r?(n>t&&l(),u=t=n+1):"]"===r&&(u||c("Access path missing open bracket: "+e),u>0&&l(),u=0,t=n+1):n>t?l():t=n+1}return u&&c("Access path missing closing bracket: "+e),o&&c("Access path missing closing quote: "+e),n>t&&(n++,l()),a}function f(e,t,n){var a=l(e);return e=1===a.length?a[0]:e,r((n&&n.get||o)(a),[e],t||e)}var d=f("id"),h=r((function(e){return e}),[],"identity"),p=r((function(){return 0}),[],"zero"),v=r((function(){return 1}),[],"one"),m=r((function(){return!0}),[],"true"),g=r((function(){return!1}),[],"false");function b(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var y=1;function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b,r=e||0;return{level:function(e){return arguments.length?(r=+e,this):r},error:function(){return r>=y&&n(t||"error","ERROR",arguments),this},warn:function(){return r>=2&&n(t||"warn","WARN",arguments),this},info:function(){return r>=3&&n(t||"log","INFO",arguments),this},debug:function(){return r>=4&&n(t||"log","DEBUG",arguments),this}}}var w=Array.isArray;function O(e){return e===Object(e)}var k=function(e){return"__proto__"!==e};function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=S(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;_(e,n,t[n],r)}return e}),{})}function _(e,t,n,r){var a,i;if(k(t))if(O(n)&&!w(n))for(a in i=O(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[a])?_(i,a,n[a]):k(a)&&(i[a]=n[a]);else e[t]=n}function S(e,t){if(null==e)return t;var n={},r=[];function a(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(a),e.forEach(a),r}function E(e){return e[e.length-1]}function A(e){return null==e||""===e?null:+e}var C=function(e){return function(t){return e*Math.exp(t)}},N=function(e){return function(t){return Math.log(e*t)}},T=function(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}},D=function(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}},I=function(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}};function M(e,t,n,r){var a=n(e[0]),i=n(E(e)),o=(i-a)*t;return[r(a-o),r(i-o)]}function F(e,t){return M(e,t,A,h)}function R(e,t){var n=Math.sign(e[0]);return M(e,t,N(n),C(n))}function P(e,t,n){return M(e,t,I(n),I(1/n))}function z(e,t,n){return M(e,t,T(n),D(n))}function B(e,t,n,r,a){var i=r(e[0]),o=r(E(e)),u=null!=t?r(t):(i+o)/2;return[a(u+(i-u)*n),a(u+(o-u)*n)]}function L(e,t,n){return B(e,t,n,A,h)}function U(e,t,n){var r=Math.sign(e[0]);return B(e,t,n,N(r),C(r))}function W(e,t,n,r){return B(e,t,n,I(r),I(1/r))}function V(e,t,n,r){return B(e,t,n,T(r),D(r))}function H(e){return 1+~~(new Date(e).getMonth()/3)}function G(e){return 1+~~(new Date(e).getUTCMonth()/3)}function q(e){return null!=e?w(e)?e:[e]:[]}function X(e,t,n){var r,a=e[0],i=e[1];return i<a&&(r=i,i=a,a=r),(r=i-a)>=n-t?[t,n]:[a=Math.min(Math.max(a,t),n-r),a+r]}function Y(e){return"function"===typeof e}function K(e,t,n){n=n||{},t=q(t)||[];var a=[],o=[],u={},s=n.comparator||Z;return q(e).forEach((function(e,r){null!=e&&(a.push("descending"===t[r]?-1:1),o.push(e=Y(e)?e:f(e,null,n)),(i(e)||[]).forEach((function(e){return u[e]=1})))})),0===o.length?null:r(s(o,a),Object.keys(u))}var $=function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)},Z=function(e,t){return 1===e.length?J(e[0],t[0]):Q(e,t,e.length)},J=function(e,t){return function(n,r){return $(e(n),e(r))*t}},Q=function(e,t,n){return t.push(0),function(r,a){for(var i,o=0,u=-1;0===o&&++u<n;)i=e[u],o=$(i(r),i(a));return o*t[u]}};function ee(e){return Y(e)?e:function(){return e}}function te(e,t){var n;return function(r){n&&clearTimeout(n),n=setTimeout((function(){return t(r),n=null}),e)}}function ne(e){for(var t,n,r=1,a=arguments.length;r<a;++r)for(n in t=arguments[r])e[n]=t[n];return e}function re(e,t){var n,r,a,i,o=0;if(e&&(n=e.length))if(null==t){for(r=e[o];o<n&&(null==r||r!==r);r=e[++o]);for(a=i=r;o<n;++o)null!=(r=e[o])&&(r<a&&(a=r),r>i&&(i=r))}else{for(r=t(e[o]);o<n&&(null==r||r!==r);r=t(e[++o]));for(a=i=r;o<n;++o)null!=(r=t(e[o]))&&(r<a&&(a=r),r>i&&(i=r))}return[a,i]}function ae(e,t){var n,r,a,i,o,u=e.length,s=-1;if(null==t){for(;++s<u;)if(null!=(r=e[s])&&r>=r){n=a=r;break}if(s===u)return[-1,-1];for(i=o=s;++s<u;)null!=(r=e[s])&&(n>r&&(n=r,i=s),a<r&&(a=r,o=s))}else{for(;++s<u;)if(null!=(r=t(e[s],s,e))&&r>=r){n=a=r;break}if(s===u)return[-1,-1];for(i=o=s;++s<u;)null!=(r=t(e[s],s,e))&&(n>r&&(n=r,i=s),a<r&&(a=r,o=s))}return[i,o]}var ie=Object.prototype.hasOwnProperty;function oe(e,t){return ie.call(e,t)}var ue={};function se(e){var t,n={};function r(e){return oe(n,e)&&n[e]!==ue}var a={size:0,empty:0,object:n,has:r,get:function(e){return r(e)?n[e]:void 0},set:function(e,t){return r(e)||(++a.size,n[e]===ue&&--a.empty),n[e]=t,this},delete:function(e){return r(e)&&(--a.size,++a.empty,n[e]=ue),this},clear:function(){a.size=a.empty=0,a.object=n={}},test:function(e){return arguments.length?(t=e,a):t},clean:function(){var e={},r=0;for(var i in n){var o=n[i];o===ue||t&&t(o)||(e[i]=o,++r)}a.size=r,a.empty=0,a.object=n=e}};return e&&Object.keys(e).forEach((function(t){a.set(t,e[t])})),a}function ce(e,t,n,r,a,i){if(!n&&0!==n)return i;var o,u=+n,s=e[0],c=E(e);c<s&&(o=s,s=c,c=o),o=Math.abs(t-s);var l=Math.abs(c-t);return o<l&&o<=u?r:l<=u?a:i}function le(e,t,n){var r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),ne(r,n)}function fe(e,t,n,r){var a,i=t[0],o=t[t.length-1];return i>o&&(a=i,i=o,o=a),r=void 0===r||r,((n=void 0===n||n)?i<=e:i<e)&&(r?e<=o:e<o)}function de(e){return"boolean"===typeof e}function he(e){return"[object Date]"===Object.prototype.toString.call(e)}function pe(e){return e&&Y(e[Symbol.iterator])}function ve(e){return"number"===typeof e}function me(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function ge(e){return"string"===typeof e}function be(e,t,n){e&&(e=t?q(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):q(e));var a,i=e&&e.length,u=n&&n.get||o,s=function(e){return u(t?[e]:l(e))};if(i)if(1===i){var c=s(e[0]);a=function(e){return""+c(e)}}else{var f=e.map(s);a=function(e){for(var t=""+f[0](e),n=0;++n<i;)t+="|"+f[n](e);return t}}else a=function(){return""};return r(a,e,"key")}function ye(e,t){var n=e[0],r=E(e),a=+t;return a?1===a?r:n+a*(r-n):n}function xe(e){var t,n,r;e=+e||1e4;var a=function(){t={},n={},r=0},i=function(a,i){return++r>e&&(n=t,t={},r=1),t[a]=i};return a(),{clear:a,has:function(e){return oe(t,e)||oe(n,e)},get:function(e){return oe(t,e)?t[e]:oe(n,e)?i(e,n[e]):void 0},set:function(e,n){return oe(t,e)?t[e]=n:i(e,n)}}}function we(e,t,n,r){var a=t.length,i=n.length;if(!i)return t;if(!a)return n;for(var o=r||new t.constructor(a+i),u=0,s=0,c=0;u<a&&s<i;++c)o[c]=e(t[u],n[s])>0?n[s++]:t[u++];for(;u<a;++u,++c)o[c]=t[u];for(;s<i;++s,++c)o[c]=n[s];return o}function Oe(e,t){for(var n="";--t>=0;)n+=e;return n}function ke(e,t,n,r){var a=n||" ",i=e+"",o=t-i.length;return o<=0?i:"left"===r?Oe(a,o)+i:"center"===r?Oe(a,~~(o/2))+i+Oe(a,Math.ceil(o/2)):i+Oe(a,o)}function je(e){return e&&E(e)-e[0]||0}function _e(e){return w(e)?"["+e.map(_e)+"]":O(e)||ge(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function Se(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}var Ee=function(e){return ve(e)||he(e)?e:Date.parse(e)};function Ae(e,t){return t=t||Ee,null==e||""===e?null:t(e)}function Ce(e){return null==e||""===e?null:e+""}function Ne(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return t}function Te(e,t,n,r){var a=null!=r?r:"\u2026",i=e+"",o=i.length,u=Math.max(0,t-a.length);return o<=t?i:"left"===n?a+i.slice(o-u):"center"===n?i.slice(0,Math.ceil(u/2))+a+i.slice(o-~~(u/2)):i.slice(0,u)+a}function De(e,t,n){if(e)if(t)for(var r=e.length,a=0;a<r;++a){var i=t(e[a]);i&&n(i,a,e)}else e.forEach(n)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(368);var a=n(199),i=n(369);function o(e,t){return Object(r.a)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){u=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}}(e,t)||Object(a.a)(e,t)||Object(i.a)()}},function(e,t,n){e.exports=n(666)},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(6),a=n(0);function i(e,t,n,r,i){var u=t.inputParams[e];if(u&&void 0!==u.inputIndexStart){var s=u.inputIndexStart,c=0===u.inputIndexEnd?void 0:void 0===u.inputIndexEnd?s+1:u.inputIndexEnd;if("tensor"===u.type)return o(t.inputNames[u.inputIndexStart],n,r,i);if("tensors"===u.type)return t.inputNames.slice(s,c).map((function(e){return o(e,n,r,i)}));var l=o(t.inputNames.slice(s)[0],n,r,i),f=l.dataSync();return"number"===u.type?f[0]:a.util.toNestedArray(l.shape,f)}var d=t.attrParams[e];return d&&d.value}function o(e,t,n,a){var i=l(e),o=Object(r.a)(i,2),u=o[0],s=o[1];if(null!=a){var f=a.getHashTableHandleByName(u);if(null!=f)return f}var d=n.currentContextIds.find((function(e){return!!t[c(u,e)]}));return void 0!==d?t[c(u,d)][s]:void 0}function u(e,t,n){return t[c(e,n.currentContextId)]}function s(e,t){var n=l(e),a=Object(r.a)(n,3),i=a[0],o=a[1],u=a[2];return[c(i,t&&t.currentContextId),o,u]}function c(e,t){return t?"".concat(e,"-").concat(t):e}function l(e){var t=e.split(":");if(1===t.length)return[e,0,void 0];var n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function f(e,t,n){var r=i("pad",e,t,n);if("explicit"===r){r=i("explicitPaddings",e,t,n);for(var a=[[0,0],[0,0],[0,0],[0,0]],o=0;o<4;o++)a[o][0]=r[2*o],a[o][1]=r[2*o+1];return a}return r}function d(e){return e.kept?e:Object(a.clone)(e)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n(14),a=n(52),i=n(20),o=n(23),u=n(27);function s(e,t){var n=e;if(Object(o.A)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||Object(o.A)(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&Object(a.c)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&c(e,r,[]),r}function c(e,t,n){if(n=n||[],Array.isArray(e)||Object(o.A)(e)){Object(o.b)(t.length>0,(function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")})),Object(o.b)(e.length===t[0],(function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")}));for(var r=t.slice(1),a=0;a<e.length;++a)c(e[a],r,n.concat(a))}else Object(o.b)(0===t.length,(function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")}))}function l(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function f(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof i.a)return l(a,e.dtype,t,n),e;var c=Object(o.r)(e);if("string"!==c&&["bool","int32","float32"].indexOf(a)>=0&&(c=a),l(a,c,t,n),null==e||!Object(o.A)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var f=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(f,"'"))}var d=s(e,c);Object(o.A)(e)||Array.isArray(e)||(e=[e]);var h=!0,p="string"!==c?Object(u.toTypedArray)(e,c):Object(o.m)(e,[],h);return r.a.makeTensor(p,d,c)}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");var a=e;return a.map((function(e,a){return f(e,"".concat(t,"[").concat(a,"]"),n,r)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return p})),n.d(t,"n",(function(){return v})),n.d(t,"m",(function(){return m})),n.d(t,"o",(function(){return g})),n.d(t,"r",(function(){return b})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return x})),n.d(t,"s",(function(){return w})),n.d(t,"t",(function(){return O})),n.d(t,"u",(function(){return k})),n.d(t,"w",(function(){return j})),n.d(t,"v",(function(){return _})),n.d(t,"x",(function(){return S})),n.d(t,"y",(function(){return E})),n.d(t,"z",(function(){return A})),n.d(t,"A",(function(){return C})),n.d(t,"B",(function(){return N})),n.d(t,"C",(function(){return T})),n.d(t,"D",(function(){return D})),n.d(t,"E",(function(){return I})),n.d(t,"F",(function(){return M})),n.d(t,"G",(function(){return F})),n.d(t,"H",(function(){return R})),n.d(t,"I",(function(){return P})),n.d(t,"J",(function(){return z})),n.d(t,"K",(function(){return B})),n.d(t,"M",(function(){return L})),n.d(t,"L",(function(){return U})),n.d(t,"N",(function(){return W})),n.d(t,"O",(function(){return V})),n.d(t,"P",(function(){return H})),n.d(t,"Q",(function(){return G})),n.d(t,"R",(function(){return q})),n.d(t,"S",(function(){return X})),n.d(t,"T",(function(){return Y})),n.d(t,"V",(function(){return K})),n.d(t,"U",(function(){return $})),n.d(t,"mc",(function(){return Z})),n.d(t,"W",(function(){return J})),n.d(t,"X",(function(){return Q})),n.d(t,"Y",(function(){return ee})),n.d(t,"ab",(function(){return te})),n.d(t,"Z",(function(){return ne})),n.d(t,"bb",(function(){return re})),n.d(t,"cb",(function(){return ae})),n.d(t,"db",(function(){return ie})),n.d(t,"eb",(function(){return oe})),n.d(t,"fb",(function(){return ue})),n.d(t,"gb",(function(){return se})),n.d(t,"hb",(function(){return ce})),n.d(t,"ib",(function(){return le})),n.d(t,"kb",(function(){return fe})),n.d(t,"ob",(function(){return de})),n.d(t,"nb",(function(){return he})),n.d(t,"pb",(function(){return pe})),n.d(t,"qb",(function(){return ve})),n.d(t,"sb",(function(){return me})),n.d(t,"rb",(function(){return ge})),n.d(t,"tb",(function(){return be})),n.d(t,"ub",(function(){return ye})),n.d(t,"vb",(function(){return xe})),n.d(t,"wb",(function(){return we})),n.d(t,"zb",(function(){return Oe})),n.d(t,"Ab",(function(){return ke})),n.d(t,"Bb",(function(){return je})),n.d(t,"Cb",(function(){return _e})),n.d(t,"Db",(function(){return Se})),n.d(t,"Eb",(function(){return Ee})),n.d(t,"Gb",(function(){return Ae})),n.d(t,"Hb",(function(){return Ce})),n.d(t,"Ib",(function(){return Ne})),n.d(t,"Fb",(function(){return Te})),n.d(t,"xb",(function(){return De})),n.d(t,"yb",(function(){return Ie})),n.d(t,"Jb",(function(){return Me})),n.d(t,"Pb",(function(){return Fe})),n.d(t,"Kb",(function(){return Re})),n.d(t,"Nb",(function(){return Pe})),n.d(t,"Lb",(function(){return ze})),n.d(t,"Mb",(function(){return Be})),n.d(t,"Ob",(function(){return Le})),n.d(t,"Qb",(function(){return Ue})),n.d(t,"Rb",(function(){return We})),n.d(t,"Sb",(function(){return Ve})),n.d(t,"Tb",(function(){return He})),n.d(t,"Ub",(function(){return Ge})),n.d(t,"Vb",(function(){return qe})),n.d(t,"Wb",(function(){return Xe})),n.d(t,"Xb",(function(){return Ye})),n.d(t,"bc",(function(){return Ke})),n.d(t,"Yb",(function(){return $e})),n.d(t,"Zb",(function(){return Ze})),n.d(t,"ac",(function(){return Je})),n.d(t,"dc",(function(){return Qe})),n.d(t,"cc",(function(){return et})),n.d(t,"ec",(function(){return tt})),n.d(t,"fc",(function(){return nt})),n.d(t,"gc",(function(){return rt})),n.d(t,"hc",(function(){return at})),n.d(t,"ic",(function(){return it})),n.d(t,"jc",(function(){return ot})),n.d(t,"kc",(function(){return ut})),n.d(t,"lc",(function(){return st})),n.d(t,"nc",(function(){return ct})),n.d(t,"oc",(function(){return lt})),n.d(t,"qc",(function(){return ft})),n.d(t,"tc",(function(){return dt})),n.d(t,"uc",(function(){return ht})),n.d(t,"rc",(function(){return pt})),n.d(t,"sc",(function(){return vt})),n.d(t,"pc",(function(){return mt})),n.d(t,"vc",(function(){return gt})),n.d(t,"xc",(function(){return bt})),n.d(t,"yc",(function(){return yt})),n.d(t,"zc",(function(){return xt})),n.d(t,"Ac",(function(){return wt})),n.d(t,"Bc",(function(){return Ot})),n.d(t,"Gc",(function(){return kt})),n.d(t,"Ec",(function(){return jt})),n.d(t,"Fc",(function(){return _t})),n.d(t,"Dc",(function(){return St})),n.d(t,"Cc",(function(){return Et})),n.d(t,"Ic",(function(){return At})),n.d(t,"Qc",(function(){return Ct})),n.d(t,"Zc",(function(){return Nt})),n.d(t,"Jc",(function(){return Tt})),n.d(t,"Pc",(function(){return Dt})),n.d(t,"Hc",(function(){return It})),n.d(t,"Kc",(function(){return Mt})),n.d(t,"Lc",(function(){return Ft})),n.d(t,"Mc",(function(){return Rt})),n.d(t,"Nc",(function(){return Pt})),n.d(t,"Oc",(function(){return zt})),n.d(t,"Sc",(function(){return Bt})),n.d(t,"Rc",(function(){return Lt})),n.d(t,"Uc",(function(){return Ut})),n.d(t,"Vc",(function(){return Wt})),n.d(t,"Wc",(function(){return Vt})),n.d(t,"Xc",(function(){return Ht})),n.d(t,"Yc",(function(){return Gt})),n.d(t,"ad",(function(){return qt})),n.d(t,"bd",(function(){return Xt})),n.d(t,"cd",(function(){return Yt})),n.d(t,"dd",(function(){return Kt})),n.d(t,"ed",(function(){return $t})),n.d(t,"fd",(function(){return Zt})),n.d(t,"gd",(function(){return Jt})),n.d(t,"hd",(function(){return Qt})),n.d(t,"id",(function(){return en})),n.d(t,"jd",(function(){return tn})),n.d(t,"Tc",(function(){return nn})),n.d(t,"jb",(function(){return rn})),n.d(t,"wc",(function(){return an})),n.d(t,"kd",(function(){return on})),n.d(t,"lb",(function(){return un})),n.d(t,"mb",(function(){return sn}));var r="Abs",a="Acos",i="Acosh",o="Add",u="AddN",s="All",c="Any",l="ArgMax",f="ArgMin",d="Asin",h="Asinh",p="Atan",v="Atanh",m="Atan2",g="AvgPool",b="AvgPoolGrad",y="AvgPool3D",x="AvgPool3DGrad",w="BatchMatMul",O="BatchToSpaceND",k="Bincount",j="BroadcastTo",_="BroadcastArgs",S="Cast",E="Ceil",A="ClipByValue",C="Complex",N="ComplexAbs",T="Concat",D="Conv2D",I="Conv2DBackpropFilter",M="Conv2DBackpropInput",F="Conv3D",R="Conv3DBackpropFilterV2",P="Conv3DBackpropInputV2",z="Cos",B="Cosh",L="Cumsum",U="CropAndResize",W="DenseBincount",V="DepthToSpace",H="DepthwiseConv2dNative",G="DepthwiseConv2dNativeBackpropFilter",q="DepthwiseConv2dNativeBackpropInput",X="Diag",Y="Dilation2D",K="Dilation2DBackpropInput",$="Dilation2DBackpropFilter",Z="RealDiv",J="Einsum",Q="Elu",ee="EluGrad",te="Erf",ne="Equal",re="Exp",ae="ExpandDims",ie="Expm1",oe="FFT",ue="Fill",se="FlipLeftRight",ce="Floor",le="FloorDiv",fe="FusedBatchNorm",de="GatherV2",he="GatherNd",pe="Greater",ve="GreaterEqual",me="Identity",ge="IFFT",be="Imag",ye="IsFinite",xe="IsInf",we="IsNan",Oe="LeakyRelu",ke="Less",je="LessEqual",_e="LinSpace",Se="Log",Ee="Log1p",Ae="LogicalAnd",Ce="LogicalNot",Ne="LogicalOr",Te="LogSoftmax",De="LRN",Ie="LRNGrad",Me="Max",Fe="Maximum",Re="MaxPool",Pe="MaxPoolGrad",ze="MaxPool3D",Be="MaxPool3DGrad",Le="MaxPoolWithArgmax",Ue="Mean",We="Min",Ve="Minimum",He="MirrorPad",Ge="Mod",qe="Multinomial",Xe="Multiply",Ye="Neg",Ke="NotEqual",$e="NonMaxSuppressionV3",Ze="NonMaxSuppressionV4",Je="NonMaxSuppressionV5",Qe="OnesLike",et="OneHot",tt="Pack",nt="PadV2",rt="Pool",at="Pow",it="Prelu",ot="Prod",ut="Range",st="Real",ct="Reciprocal",lt="Relu",ft="Reshape",dt="ResizeNearestNeighbor",ht="ResizeNearestNeighborGrad",pt="ResizeBilinear",vt="ResizeBilinearGrad",mt="Relu6",gt="Reverse",bt="Round",yt="Rsqrt",xt="ScatterNd",wt="Select",Ot="Selu",kt="Slice",jt="Sin",_t="Sinh",St="Sign",Et="Sigmoid",At="Softplus",Ct="Sqrt",Nt="Sum",Tt="SpaceToBatchND",Dt="SplitV",It="Softmax",Mt="SparseFillEmptyRows",Ft="SparseReshape",Rt="SparseSegmentMean",Pt="SparseSegmentSum",zt="SparseToDense",Bt="SquaredDifference",Lt="Square",Ut="StridedSlice",Wt="StringNGrams",Vt="StringSplit",Ht="StringToHashBucketFast",Gt="Sub",qt="Tan",Xt="Tanh",Yt="Tile",Kt="TopK",$t="Transform",Zt="Transpose",Jt="Unique",Qt="Unpack",en="UnsortedSegmentSum",tn="ZerosLike",nn="Step",rn="FromPixels",an="RotateWithOffset",on="_FusedMatMul",un="FusedConv2D",sn="FusedDepthwiseConv2D"},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(199);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(14),a=n(23),i="__op";function o(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],o=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=i;var u=function(){r.a.startScope(n);try{var e=o.apply(void 0,arguments);return Object(a.x)(e)&&console.error("Cannot return a Promise inside of tidy."),r.a.endScope(e),e}catch(t){throw r.a.endScope(null),t}};return Object.defineProperty(u,"name",{value:n,configurable:!0}),u}},function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return C}));var r=n(12),a=n(16),i=n(19),o=n(4),u=n(5),s=n(7),c=n.n(s),l=n(287),f=n(52),d=n(220),h=n(10),p=n(125),v=n(153),m=n(27),g=n(23),b=function(){function e(t,n){Object(o.a)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new y)}return Object(u.a)(e,[{key:"profileKernel",value:function(e,t,n){var a,i,o=function(){a=n()},u=m.now();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(o);else{o();var s,c=Object(r.a)(a);try{for(c.s();!(s=c.n()).done;){s.value.dataSync()}}catch(h){c.e(h)}finally{c.f()}i=Promise.resolve({kernelMs:m.now()-u})}if(Object(f.c)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var l=function(t){var n=a[t];n.data().then((function(t){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(n,"'")),!0}}(t,n.dtype,e)}))},d=0;d<a.length;d++)l(d);return{kernelName:e,outputs:a,inputs:t,timeMs:i.then((function(e){return e.kernelMs})),extraInfo:i.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,a=e.timeMs,i=e.inputs,o=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),a,o]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],i,r[2])}))}))}}]),e}();var y=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"logKernelProfile",value:function(e,t,n,r,a,i){var o="number"===typeof r?g.L("".concat(r,"ms"),9):r.error,u=g.L(e,25),s=t.rank,c=t.size,l=g.L(t.shape.toString(),14),f="";for(var d in a){var h=a[d];if(null!=h){var p=h.shape||t.shape,v=p.length;f+="".concat(d,": ").concat(v,"D ").concat(v>0?p:""," ")}}console.log("%c".concat(u,"\t%c").concat(o,"\t%c").concat(s,"D ").concat(l,"\t%c").concat(c,"\t%c").concat(f,"\t%c").concat(i),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();function x(e,t,n){for(var r={},a={},i=0;i<t.length;i++)r[t[i].id]=!0;for(var o=0;o<e.length;o++){var u=e[o],s=u.inputs;for(var c in s){for(var l=s[c],f=!1,d=0;d<t.length;d++)if(r[l.id]){u.outputs.forEach((function(e){return r[e.id]=!0})),f=!0,a[u.id]=!0;break}if(f)break}}var h={};h[n.id]=!0;for(var p={},v=e.length-1;v>=0;v--)for(var m=e[v],g=m.inputs,b=0;b<m.outputs.length;b++)if(h[m.outputs[b].id]){for(var y in g)h[g[y].id]=!0,p[m.id]=!0;break}for(var x=[],w=0;w<e.length;w++){var O=e[w];if(a[O.id]&&p[O.id]){var k={};for(var j in O.inputs){var _=O.inputs[j];r[_.id]&&(k[j]=_)}var S=Object.assign({},O);S.inputs=k,S.outputs=O.outputs,x.push(S)}}return x}function w(e,t,n,r){for(var a=function(a){var i=t[a],o=[];if(i.outputs.forEach((function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)})),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(i.kernelName,"."));var u=i.gradient(o),s=function(t){if(!(t in u))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(u),"."));var a=n((function(){return u[t]()}));if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));var o=i.inputs[t];if(!g.a(a.shape,o.shape))throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(o.shape,"'"));if(null==e[o.id])e[o.id]=a;else{var s=e[o.id];e[o.id]=r(s,a),s.dispose()}};for(var c in i.inputs)s(c)},i=t.length-1;i>=0;i--)a(i)}var O=n(20),k=n(55);function j(e){return null!=e.kernelName}var _=function(){function e(){Object(o.a)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return Object(u.a)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),S=function(){function e(t){Object(o.a)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new _}return Object(u.a)(e,[{key:"ready",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(v.b("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new b(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;Object(p.d)(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;Object(p.d)(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof l.b||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,i=r.then((function(n){return!(a<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return a<t.pendingBackendInitId||(t.pendingBackendInit=null,v.b("Initialization of backend ".concat(e," failed")),v.b(n.stack||n.message)),!1}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}catch(o){return v.b("Initialization of backend ".concat(e," failed")),v.b(o.stack||o.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,i=r.asyncInit;if(i||a)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,a=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(a){throw t(),a}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=C.runKernel(h.sb,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return C.runKernel(h.x,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=Object(p.c)(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(e){a+="complex64"===e.dtype?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-a-i;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,a=this,i=[],o=this.isTapeOn(),u=this.state.numBytes,s=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var c=j(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(j(e)){var l=e.kernelName,f=e.inputs,d=e.attrs;null==this.backendName&&this.backend;var h=Object(p.c)(l,this.backendName);g.b(null!=h,(function(){return"Cannot find registered kernel '".concat(l,"' for backend '").concat(a.backendName,"'")})),n=function(){var e=a.backend.numDataIds();r=h.kernelFunc({inputs:f,attrs:d,backend:a.backend});var t=Array.isArray(r)?r:[r];a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(l,e,t);var n=t.map((function(e){if(null!=e.rank)return e;var t=e.dataId,n=e.shape,r=e.dtype;return a.makeTensorFromDataId(t,n,r)}));if(o){var u=a.getTensorsForGradient(l,f,n);i=a.saveTensorsForBackwardMode(u)}return n}}else{var v=e.forwardFunc,m=function(e){o&&(i=e.map((function(e){return a.keep(a.clone(e))})))};n=function(){var e=a.backend.numDataIds();r=a.tidy((function(){return v(a.backend,m)}));var t=Array.isArray(r)?r:[r];return a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(c,e,t),t}}var b,y=e.inputs,x=e.attrs,w=j(e)?null:e.backwardsFunc;return this.scopedRun((function(){return a.state.kernelDepth++}),(function(){return a.state.kernelDepth--}),(function(){a.ENV.getBool("DEBUG")||a.state.profiling?(b=a.profiler.profileKernel(c,y,(function(){return n()})),a.ENV.getBool("DEBUG")&&a.profiler.logKernelProfile(b),t=b.outputs):t=n()})),o&&this.addTapeNode(c,y,t,w,i,x),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-u,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(y).map((function(e){return null!=y[e]?y[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:b.timeMs,extraInfo:b.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this;return e.map((function(e){return t.keep(t.clone(e))}))}},{key:"getTensorsForGradient",value:function(e,t,n){var r=Object(p.b)(e);if(null!=r){var a,i=r.inputsToSave||[],o=r.outputsToSave||[];r.saveAllInputs?(g.b(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),a=Object.keys(t).map((function(e){return t[e]}))):a=i.map((function(e){return t[e]}));var u=n.filter((function(e,t){return o[t]}));return a.concat(u)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&g.z(e[0])&&(a=e.map((function(e){return m.encodeString(e)})));var i=r.write(a,t,n),o=new O.a(t,n,i,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){var u=this.state.tensorInfo.get(i),s=Object(g.f)(a);this.state.numBytes+=s-u.bytes,u.bytes=s}return o}},{key:"makeTensorFromDataId",value:function(e,t,n,r){n=n||"float32";var a=new O.a(t,n,e,this.nextTensorId());return this.trackTensor(a,r),a}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var a=new O.c(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*g.g(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof O.c||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*g.g(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,i,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,i=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,Object(a.a)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-i,o=Object(r.a)(this.state.activeProfile.kernels),e.prev=12,o.s();case 14:if((u=o.n()).done){e.next=24;break}return s=u.value,e.next=18,s.kernelTimeMs;case 18:return s.kernelTimeMs=e.sent,e.next=21,s.extraInfo;case 21:s.extraInfo=e.sent;case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),o.e(e.t0);case 29:return e.prev=29,o.f(),e.finish(29);case 32:return e.abrupt("return",this.state.activeProfile);case 33:case"end":return e.stop()}}),e,this,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,a,i){var o=this,u={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},s=Object(p.b)(e);null!=s&&(r=s.gradFunc),null!=r&&(u.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],a=g.F(r.size,r.dtype);return o.makeTensor(a,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],a,i)}),this.state.activeTape.push(u)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=Object(k.getTensorsInContainer)(e),r=new Set(n.map((function(e){return e.id}))),a=0;a<this.state.activeScope.track.length;a++){var i=this.state.activeScope.track[a];i.kept||r.has(i.id)||i.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==o.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var a=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(g.b(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var o=this.scopedRun((function(){return a.startTape()}),(function(){return a.endTape()}),(function(){return a.tidy("forward",e)}));g.b(o instanceof O.a,(function(){return"The result y returned by f() must be a tensor."}));var u=x(this.state.activeTape,t,o);if(!i&&0===u.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[o.id]=null==n?E(o.shape):n,w(e,u,(function(e){return a.tidy(e)}),N);var i=t.map((function(t){return e[t.id]}));return 0===a.state.gradientDepth&&(a.state.activeTape.forEach((function(e){var t,n=Object(r.a)(e.saved);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(a){n.e(a)}finally{n.f()}})),a.state.activeTape=null),{value:o,grads:i}}))}},{key:"customGrad",value:function(e){var t=this;return g.b(g.u(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i;g.b(r.every((function(e){return e instanceof O.a})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var o={};r.forEach((function(e,t){o[t]=e}));var u=function(t,n){return i=e.apply(void 0,[].concat(r,[n])),g.b(i.value instanceof O.a,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),g.b(g.u(i.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),i.value},s=function(e,t){var n=i.gradFunc(e,t),a=Array.isArray(n)?n:[n];g.b(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),g.b(a.every((function(e){return e instanceof O.a})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return a.forEach((function(e,t){o[t]=function(){return e}})),o};return t.runKernelFunc({forwardFunc:u,backwardsFunc:s,inputs:o})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(m.now)(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=Object(m.now)()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new _,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function E(e){var t=Object(g.D)(Object(g.O)(e),"float32");return C.makeTensor(t,e,"float32")}function A(){var e=Object(d.b)();if(null==e._tfengine){var t=new f.b(e);e._tfengine=new S(t)}return Object(f.d)(e._tfengine.ENV),Object(O.g)((function(){return e._tfengine})),e._tfengine}S.nextTensorId=0,S.nextVariableId=0;var C=A();function N(e,t){var n={a:e,b:t};return C.runKernel(h.d,n)}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(296);var a=n(367),i=n(199);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(a.a)(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(164);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(34),a=n(371),i=n(200);function o(e){var t=Object(a.a)();return function(){var n,a=Object(r.a)(e);if(t){var o=Object(r.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}},function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var u=e[i](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function u(e){r(o,a,i,u,s,"next",e)}function s(e){r(o,a,i,u,s,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return k})),n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return E}));var r=n(17),a=n(18),i=n(19),o=n(4),u=n(5),s=n(7),c=n.n(s),l=n(220),f=n(16),d=n(23);function h(e,t,n,r){var a=Object(d.j)(t),i=function(e,t,n,r){var a=Object(d.O)(t),i=r[r.length-1],o=new Array(i).fill(0),u=t.length,s="complex64"===n?g(e):e;if(u>1)for(var c=0;c<a/i;c++)for(var l=c*i,f=0;f<i;f++)o[f]=Math.max(o[f],p(s[l+f],0,n).length);return o}(e,t,n,a),o=t.length,u=m(e,t,n,a,i),s=["Tensor"];return r&&(s.push("  dtype: ".concat(n)),s.push("  rank: ".concat(o)),s.push("  shape: [".concat(t,"]")),s.push("  values:")),s.push(u.map((function(e){return"    "+e})).join("\n")),s.join("\n")}function p(e,t,n){var r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ")+"".concat(parseFloat(e[1].toFixed(7)),"j"):Object(d.z)(e)?"'".concat(e,"'"):"bool"===n?v(e):parseFloat(e.toFixed(7)).toString(),Object(d.L)(r,t)}function v(e){return 0===e?"false":"true"}function m(e,t,n,r,a){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o="complex64"===n?2:1,u=t[0],s=t.length;if(0===s){if("complex64"===n){var c=g(e);return[p(c[0],0,n)]}return"bool"===n?[v(e[0])]:[e[0].toString()]}if(1===s){if(u>20){var l=3*o,d=Array.from(e.slice(0,l)),h=Array.from(e.slice((u-3)*o,u*o));return"complex64"===n&&(d=g(d),h=g(h)),["["+d.map((function(e,t){return p(e,a[t],n)})).join(", ")+", ..., "+h.map((function(e,t){return p(e,a[u-3+t],n)})).join(", ")+"]"]}var b="complex64"===n?g(e):Array.from(e);return["["+b.map((function(e,t){return p(e,a[t],n)})).join(", ")+"]"]}var y=t.slice(1),x=r.slice(1),w=r[0]*o,O=[];if(u>20){for(var k=0;k<3;k++){var j=k*w,_=j+w;O.push.apply(O,Object(f.a)(m(e.slice(j,_),y,n,x,a,!1)))}O.push("...");for(var S=u-3;S<u;S++){var E=S*w,A=E+w;O.push.apply(O,Object(f.a)(m(e.slice(E,A),y,n,x,a,S===u-1)))}}else for(var C=0;C<u;C++){var N=C*w,T=N+w;O.push.apply(O,Object(f.a)(m(e.slice(N,T),y,n,x,a,C===u-1)))}var D=2===s?",":"";O[0]="["+O[0]+D;for(var I=1;I<O.length-1;I++)O[I]=" "+O[I]+D;for(var M=",\n",F=2;F<s;F++)M+="\n";return O[O.length-1]=" "+O[O.length-1]+"]"+(i?"":M),O}function g(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var b=n(27),y=function(){function e(t,n,r){var a=this;if(Object(o.a)(this,e),this.dtype=n,this.shape=t.slice(),this.size=d.O(t),null!=r){var i=r.length;d.b(i===this.size,(function(){return"Length of values '".concat(i,"' does not match the size ")+"inferred by the shape '".concat(a.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||d.n(n,this.size),this.strides=Object(d.j)(t)}return Object(u.a)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),d.b(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")}));var i=this.locToIndex(r);this.values[i]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,a=0,i=t;a<i.length;a++){var o=i[a];if(o<0||o>=this.shape[r]){var u="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(u)}r++}for(var s=t[t.length-1],c=0;c<t.length-1;++c)s+=this.strides[c]*t[c];return this.values[s]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return x().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),x=null,w=null;function O(e){x=e}function k(e){w=e}function j(e){e}var _=function(){function e(t,n,r,a){Object(o.a)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=d.O(t),this.strides=Object(d.j)(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return Object(u.a)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",w.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return w.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",Object(d.U)(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return Object(d.U)(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=x().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return b.decodeString(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),x().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=x().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return b.decodeString(e)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,x().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(x().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return w.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),w.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return h(t,this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),w.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),x().makeVariable(this,e,t,n)}}]),e}();function S(){return Object(l.a)("Tensor",(function(){return _}))}Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),S();var E=function(e){Object(r.a)(n,e);var t=Object(a.a)(n);function n(e,r,a,i){var u;return Object(o.a)(this,n),(u=t.call(this,e.shape,e.dtype,e.dataId,i)).trainable=r,u.name=a,u}return Object(u.a)(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!d.a(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));x().disposeTensor(this),this.dataId=e.dataId,x().incRef(this,null)}},{key:"dispose",value:function(){x().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(_);Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return e instanceof _&&null!=e.assign&&e.assign instanceof Function}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({reshape_:function(e,t){var n={x:Object(i.a)(e,"x","reshape","string_or_numeric")},o={shape:t};return r.a.runKernel(a.qc,n,o)}})},function(e,t,n){e.exports=n(734)()},function(e,t,n){"use strict";function r(e){for(var t=e.length,n=0;t>0;)n=Math.random()*t|0,u(e,--t,n)}function a(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));for(var n=e.length,r=0;n>0;)r=Math.random()*n|0,u(e,--n,r),u(t,n,r)}function i(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e%2===0?e:e+1}function u(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function s(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function c(e,t){var n=Math.random();return t*n+(1-n)*e}function l(e,t){for(var n=0,r=0;r<e.length;r++){var a=Number(e[r])-Number(t[r]);n+=a*a}return n}function f(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";f(g(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function h(e){f(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||D(e)&&!n)for(var r=0;r<e.length;++r)p(e[r],t,n);else t.push(e);return t}function v(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function m(e){return 0===e.length}function g(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function b(e){return e%1===0}function y(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function x(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function w(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return r(t),t}function O(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,a){var i=0;!function o(){if(e())r();else{i++;var u=t(i);null!=n&&i>=n?a():setTimeout(o,u)}}()}))}function j(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(a));r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found ".concat(e[a]," at dim ").concat(a));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));var i=e.slice();return i[r]=t/n,i}function _(e,t){var n=t.length;return f((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)})),f(e.every((function(e){return b(e)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function S(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||a?null:_(t,e).sort(),o=0,u=0;u<e.length;++u){if(null!=i){if(i[o]===u&&1!==e[u])throw new Error("Can't squeeze axis ".concat(u," since its dim '").concat(e[u],"' is not 1"));(null==i[o]||i[o]>u)&&1===e[u]&&(n.push(e[u]),r.push(u)),i[o]<=u&&o++}1!==e[u]&&(n.push(e[u]),r.push(u))}return{newShape:n,keptDims:r}}function E(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type ".concat(e));n=new Uint8Array(t)}return n}function A(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function C(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}function N(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function T(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function D(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function I(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function M(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function F(e){return"string"===typeof e||e instanceof String}function R(e){return"boolean"===typeof e}function P(e){return"number"===typeof e}function z(e){return Array.isArray(e)?z(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":P(e)?"float32":F(e)?"string":R(e)?"bool":"float32"}function B(e){return!!(e&&e.constructor&&e.call&&e.apply)}function L(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function U(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function W(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new Array;if(1===t.length)for(var i=t[0]*(r?2:1),o=0;o<i;o++)a[o]=n[e+o];else for(var u=t[0],s=t.slice(1),c=s.reduce((function(e,t){return e*t}))*(r?2:1),l=0;l<u;l++)a[l]=W(e+l*c,s,n,r);return a}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return W(0,e,t,n)}function H(e,t){for(var n=G(e,t),r=0;r<n.length;r++)n[r]=1;return n}function G(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function q(e,t){var n=e.reduce((function(e,t){return e*t}),1);if(null==t||"float32"===t)return V(e,new Float32Array(n));if("int32"===t)return V(e,new Int32Array(n));if("bool"===t)return V(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function X(e){e.forEach((function(t){f(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")}))}))}function Y(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function K(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function $(e){return e&&e.then&&"function"===typeof e.then}n.d(t,"M",(function(){return r})),n.d(t,"N",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"H",(function(){return o})),n.d(t,"S",(function(){return u})),n.d(t,"R",(function(){return s})),n.d(t,"J",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"m",(function(){return p})),n.d(t,"O",(function(){return v})),n.d(t,"y",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"v",(function(){return b})),n.d(t,"T",(function(){return y})),n.d(t,"P",(function(){return x})),n.d(t,"k",(function(){return w})),n.d(t,"L",(function(){return O})),n.d(t,"K",(function(){return k})),n.d(t,"s",(function(){return j})),n.d(t,"I",(function(){return _})),n.d(t,"Q",(function(){return S})),n.d(t,"o",(function(){return E})),n.d(t,"n",(function(){return A})),n.d(t,"h",(function(){return C})),n.d(t,"B",(function(){return N})),n.d(t,"p",(function(){return T})),n.d(t,"A",(function(){return D})),n.d(t,"g",(function(){return I})),n.d(t,"f",(function(){return M})),n.d(t,"z",(function(){return F})),n.d(t,"t",(function(){return R})),n.d(t,"w",(function(){return P})),n.d(t,"r",(function(){return z})),n.d(t,"u",(function(){return B})),n.d(t,"G",(function(){return L})),n.d(t,"j",(function(){return U})),n.d(t,"U",(function(){return V})),n.d(t,"D",(function(){return H})),n.d(t,"F",(function(){return G})),n.d(t,"E",(function(){return q})),n.d(t,"c",(function(){return X})),n.d(t,"C",(function(){return Y})),n.d(t,"q",(function(){return K})),n.d(t,"x",(function(){return $}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(13);var c=Object(s.b)({mul_:function(e,t){var n=Object(u.a)(e,"a","mul"),s=Object(u.a)(t,"b","mul"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.Wb,f)}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return j}));var r=n(16),a=n(11),i=n(26),o=n(293),u=n(930),s=n(976),c=n(631),l=["variant"];function f(e){return 0===e.length}function d(e){var t=e.variant,n=Object(i.a)(e,l),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?f(r)?e[t]:Object(c.a)(e[t]):"".concat(f(r)?t:Object(c.a)(t)).concat(Object(c.a)(e[t].toString()))})),r}var h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],p=["theme"],v=["theme"];function m(e){return 0===Object.keys(e).length}var g=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},b=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=d(e.props);r[t]=e.style})),r},y=function(e,t,n,r){var a,i,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(a=n.components)||null==(i=a[r])?void 0:i.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[d(n.props)])})),s};function x(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var w=Object(u.a)();var O=n(201),k=function(e){return x(e)&&"classes"!==e},j=x,_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?w:t,u=e.rootShouldForwardProp,c=void 0===u?x:u,l=e.slotShouldForwardProp,f=void 0===l?x:l;return function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=u.name,d=u.slot,w=u.skipVariantsResolver,O=u.skipSx,k=u.overridesResolver,j=Object(i.a)(u,h),_=void 0!==w?w:d&&"Root"!==d||!1,S=O||!1;var E=x;"Root"===d?E=c:d&&(E=f);var A=Object(o.a)(e,Object(a.a)({shouldForwardProp:E,label:t},j)),C=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),u=1;u<t;u++)o[u-1]=arguments[u];var c=o?o.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,o=Object(i.a)(t,p);return e(Object(a.a)({theme:m(r)?n:r},o))}:e})):[],f=e;l&&k&&c.push((function(e){var t=m(e.theme)?n:e.theme,r=g(l,t);return r?k(e,r):null})),l&&!_&&c.push((function(e){var t=m(e.theme)?n:e.theme;return y(e,b(l,t),t,l)})),S||c.push((function(e){var t=m(e.theme)?n:e.theme;return Object(s.a)(Object(a.a)({},e,{theme:t}))}));var d=c.length-o.length;if(Array.isArray(e)&&d>0){var h=new Array(d).fill("");(f=[].concat(Object(r.a)(e),Object(r.a)(h))).raw=[].concat(Object(r.a)(e.raw),Object(r.a)(h))}else"function"===typeof e&&(f=function(t){var r=t.theme,o=Object(i.a)(t,v);return e(Object(a.a)({theme:m(r)?n:r},o))});var x=A.apply(void 0,[f].concat(Object(r.a)(c)));return x};return C}}({defaultTheme:O.a,rootShouldForwardProp:k});t.a=_},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"shuffle",(function(){return a.M})),n.d(t,"shuffleCombo",(function(){return a.N})),n.d(t,"clamp",(function(){return a.i})),n.d(t,"nearestLargerEven",(function(){return a.H})),n.d(t,"swap",(function(){return a.S})),n.d(t,"sum",(function(){return a.R})),n.d(t,"randUniform",(function(){return a.J})),n.d(t,"distSquared",(function(){return a.l})),n.d(t,"assert",(function(){return a.b})),n.d(t,"assertShapesMatch",(function(){return a.e})),n.d(t,"assertNonNull",(function(){return a.d})),n.d(t,"flatten",(function(){return a.m})),n.d(t,"sizeFromShape",(function(){return a.O})),n.d(t,"isScalarShape",(function(){return a.y})),n.d(t,"arraysEqual",(function(){return a.a})),n.d(t,"isInt",(function(){return a.v})),n.d(t,"tanh",(function(){return a.T})),n.d(t,"sizeToSquarishShape",(function(){return a.P})),n.d(t,"createShuffledIndices",(function(){return a.k})),n.d(t,"rightPad",(function(){return a.L})),n.d(t,"repeatedTry",(function(){return a.K})),n.d(t,"inferFromImplicitShape",(function(){return a.s})),n.d(t,"parseAxisParam",(function(){return a.I})),n.d(t,"squeezeShape",(function(){return a.Q})),n.d(t,"getTypedArrayFromDType",(function(){return a.o})),n.d(t,"getArrayFromDType",(function(){return a.n})),n.d(t,"checkConversionForErrors",(function(){return a.h})),n.d(t,"isValidDtype",(function(){return a.B})),n.d(t,"hasEncodingLoss",(function(){return a.p})),n.d(t,"isTypedArray",(function(){return a.A})),n.d(t,"bytesPerElement",(function(){return a.g})),n.d(t,"bytesFromStringArray",(function(){return a.f})),n.d(t,"isString",(function(){return a.z})),n.d(t,"isBoolean",(function(){return a.t})),n.d(t,"isNumber",(function(){return a.w})),n.d(t,"inferDtype",(function(){return a.r})),n.d(t,"isFunction",(function(){return a.u})),n.d(t,"nearestDivisor",(function(){return a.G})),n.d(t,"computeStrides",(function(){return a.j})),n.d(t,"toNestedArray",(function(){return a.U})),n.d(t,"makeOnesTypedArray",(function(){return a.D})),n.d(t,"makeZerosTypedArray",(function(){return a.F})),n.d(t,"makeZerosNestedTypedArray",(function(){return a.E})),n.d(t,"assertNonNegativeIntegerDimensions",(function(){return a.c})),n.d(t,"locToIndex",(function(){return a.C})),n.d(t,"indexToLoc",(function(){return a.q})),n.d(t,"isPromise",(function(){return a.x})),n.d(t,"hexToLong",(function(){return u})),n.d(t,"fingerPrint64",(function(){return w})),n.d(t,"createScalarValue",(function(){return O})),n.d(t,"toTypedArray",(function(){return k})),n.d(t,"now",(function(){return j})),n.d(t,"fetch",(function(){return _})),n.d(t,"encodeString",(function(){return S})),n.d(t,"decodeString",(function(){return E}));var r=n(52),a=n(23),i=n(456),o=n.n(i).a||i;function u(e){return o.fromString(e,!0,16)}var s=u("c3a5c85c97cb3127"),c=u("b492b66fbe98f273"),l=u("9ae16a3b2f90404f");function f(e){return e.xor(e.shru(47))}function d(e,t,n){var r=e.slice(t,t+n);return o.fromBytes(Array.from(r),!0,!0)}function h(e,t){return d(e,t,8)}function p(e,t){return d(e,t,4)}function v(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var a=t.xor(r).mul(n);return a=(a=a.xor(a.shru(47))).mul(n)}function g(e,t,n,r){return function(e,t,n,r,a,i){a=a.add(e),i=v(i.add(a).add(r),21);var o=a;return a=(a=a.add(t)).add(n),i=i.add(v(a,44)),[a.add(r),i.add(o)]}(h(e,t),h(e,t+8),h(e,t+16),h(e,t+24),n,r)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=l.add(2*t),r=h(e,0).add(l),a=h(e,t-8),i=v(a,37).mul(n).add(r),o=v(r,25).add(a).mul(n);return m(i,o,n)}if(t>=4){var u=l.add(2*t),c=p(e,0);return m(c.shl(3).add(t),p(e,t-4),u)}if(t>0){var d=e[0],g=e[t>>1],b=e[t-1],y=d+(g<<8),x=t+(b<<2);return f(l.mul(y).xor(s.mul(x))).mul(l)}return l}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=l.add(2*t),r=h(e,0).mul(c),a=h(e,8),i=h(e,t-8).mul(n),o=h(e,t-16).mul(l);return m(v(r.add(a),43).add(v(i,30)).add(o),r.add(v(a.add(l),18)).add(i),n)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=l.add(2*t),r=h(e,0).mul(l),a=h(e,8),i=h(e,t-8).mul(n),o=h(e,t-16).mul(l),u=v(r.add(a),43).add(v(i,30)).add(o),s=m(u,r.add(v(a.add(l),18)).add(i),n),c=h(e,16).mul(n),f=h(e,24),d=u.add(h(e,t-32)).mul(n),p=s.add(h(e,t-24)).mul(n);return m(v(c.add(f),43).add(v(d,30)).add(p),c.add(v(f.add(r),18)).add(d),n)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=o.fromNumber(81,!0);if(t<=32)return t<=16?b(e,t):y(e,t);if(t<=64)return x(e,t);var r=n,a=n.mul(c).add(113),i=f(a.mul(l).add(113)).mul(l),u=[o.UZERO,o.UZERO],d=[o.UZERO,o.UZERO];r=r.mul(l).add(h(e,0));var p=0,w=64*(t-1>>6),O=w+(t-1&63)-63;do{r=v(r.add(a).add(u[0]).add(h(e,p+8)),37).mul(c),a=v(a.add(u[1]).add(h(e,p+48)),42).mul(c),r=r.xor(d[1]),a=a.add(u[0]).add(h(e,p+40)),i=v(i.add(d[0]),33).mul(c),u=g(e,p,u[1].mul(c),r.add(d[0])),d=g(e,p+32,i.add(d[1]),a.add(h(e,p+16)));var k=[r,i];i=k[0],r=k[1],p+=64}while(p!==w);var j=c.add(i.and(255).shl(1));p=O,d[0]=d[0].add(t-1&63),u[0]=u[0].add(d[0]),d[0]=d[0].add(u[0]),r=v(r.add(a).add(u[0]).add(h(e,p+8)),37).mul(j),a=v(a.add(u[1]).add(h(e,p+48)),42).mul(j),r=r.xor(d[1].mul(9)),a=a.add(u[0].mul(9).add(h(e,p+40))),i=v(i.add(d[0]),33).mul(j),u=g(e,p,u[1].mul(j),r.add(d[0])),d=g(e,p+32,i.add(d[1]),a.add(h(e,p+16)));var _=[r,i];return i=_[0],r=_[1],m(m(u[0],d[0],j).add(f(a).mul(s)).add(i),m(u[1],d[1],j).add(r),j)}function O(e,t){return"string"===t?S(e):k([e],t)}function k(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=a.m(e)),Object(r.c)().getBool("DEBUG")&&a.h(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),i=0;i<n.length;++i)0!==Math.round(e[i])&&(n[i]=1);return n}throw new Error("Unknown data type ".concat(t))}function j(){return Object(r.c)().platform.now()}function _(e,t){return Object(r.c)().platform.fetch(e,t)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Object(r.c)().platform.encode(e,t)}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Object(r.c)().platform.decode(e,t)}},function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"===typeof e||"number"===typeof e)a+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.a=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},function(e,t,n){"use strict";var r=n(631);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return w.unstable_batchedUpdates}));var r=n(1),a=n.n(r),i=a.a.createContext(null);var o=function(e){e()};function u(){var e=o,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var s={notify:function(){},get:function(){return[]}};function c(e,t){var n,r=s;function a(){o.onStateChange&&o.onStateChange()}function i(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=u())}var o={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=s)},getListeners:function(){return r}};return o}var l="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;var f=function(e){var t=e.store,n=e.context,o=e.children,u=Object(r.useMemo)((function(){var e=c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),s=Object(r.useMemo)((function(){return t.getState()}),[t]);l((function(){var e=u.subscription;return e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[u,s]);var f=n||i;return a.a.createElement(f.Provider,{value:u},o)};n(11),n(26),n(264),n(238);function d(){return Object(r.useContext)(i)}function h(e){void 0===e&&(e=i);var t=e===i?d:function(){return Object(r.useContext)(e)};return function(){return t().store}}var p=h();function v(e){void 0===e&&(e=i);var t=e===i?p:h(e);return function(){return t().dispatch}}var m=v(),g=function(e,t){return e===t};function b(e){void 0===e&&(e=i);var t=e===i?d:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=g);var a=t(),i=function(e,t,n,a){var i,o=Object(r.useReducer)((function(e){return e+1}),0)[1],u=Object(r.useMemo)((function(){return c(n,a)}),[n,a]),s=Object(r.useRef)(),f=Object(r.useRef)(),d=Object(r.useRef)(),h=Object(r.useRef)(),p=n.getState();try{if(e!==f.current||p!==d.current||s.current){var v=e(p);i=void 0!==h.current&&t(v,h.current)?h.current:v}else i=h.current}catch(m){throw s.current&&(m.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),m}return l((function(){f.current=e,d.current=p,h.current=i,s.current=void 0})),l((function(){function e(){try{var e=n.getState();if(e===d.current)return;var r=f.current(e);if(t(r,h.current))return;h.current=r,d.current=e}catch(m){s.current=m}o()}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[n,u]),i}(e,n,a.store,a.subscription);return Object(r.useDebugValue)(i),i}}var y,x=b(),w=n(163);y=w.unstable_batchedUpdates,o=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return B})),n.d(t,"g",(function(){return q})),n.d(t,"h",(function(){return L})),n.d(t,"i",(function(){return K})),n.d(t,"j",(function(){return te})),n.d(t,"k",(function(){return ne})),n.d(t,"l",(function(){return ee})),n.d(t,"m",(function(){return ae})),n.d(t,"n",(function(){return M})),n.d(t,"o",(function(){return T})),n.d(t,"p",(function(){return R})),n.d(t,"q",(function(){return W})),n.d(t,"r",(function(){return I})),n.d(t,"s",(function(){return ie})),n.d(t,"t",(function(){return J})),n.d(t,"u",(function(){return $})),n.d(t,"v",(function(){return Z})),n.d(t,"w",(function(){return z})),n.d(t,"x",(function(){return re})),n.d(t,"y",(function(){return U})),n.d(t,"z",(function(){return l})),n.d(t,"A",(function(){return V})),n.d(t,"B",(function(){return D})),n.d(t,"C",(function(){return H})),n.d(t,"D",(function(){return G})),n.d(t,"E",(function(){return X})),n.d(t,"F",(function(){return y})),n.d(t,"G",(function(){return S})),n.d(t,"H",(function(){return u})),n.d(t,"I",(function(){return _})),n.d(t,"J",(function(){return x})),n.d(t,"K",(function(){return N})),n.d(t,"L",(function(){return p})),n.d(t,"M",(function(){return f})),n.d(t,"N",(function(){return g})),n.d(t,"O",(function(){return h})),n.d(t,"P",(function(){return j})),n.d(t,"Q",(function(){return s})),n.d(t,"R",(function(){return d})),n.d(t,"S",(function(){return E})),n.d(t,"T",(function(){return k})),n.d(t,"U",(function(){return O}));var r=n(71),a=n(11),i=n(57),o=n(366),u=function(e){return function(){return e}}(!0),s=function(){};var c=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;function l(e,t,n){if(!t(e))throw new Error(n)}var f=function(e,t){Object(a.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},d=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function h(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function p(e){var t=!1;return function(){t||(t=!0,e())}}var v=function(e){throw e},m=function(e){return{value:e,done:!0}};function g(e,t,n){void 0===t&&(t=v),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:m,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function b(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var y=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},x=function(e){return Array.apply(null,new Array(e))},w=function(e){return function(t){return e(Object.defineProperty(t,r.f,{value:!0}))}},O=function(e){return e===r.k},k=function(e){return e===r.j},j=function(e){return O(e)||k(e)};function _(e,t){var n=Object.keys(e),r=n.length;var a,o=0,u=Object(i.a)(e)?x(r):{},c={};return n.forEach((function(e){var n=function(n,i){a||(i||j(n)?(t.cancel(),t(n,i)):(u[e]=n,++o===r&&(a=!0,t(u))))};n.cancel=s,c[e]=n})),t.cancel=function(){a||(a=!0,n.forEach((function(e){return c[e].cancel()})))},c}function S(e){return{name:e.name||"anonymous",location:E(e)}}function E(e){return e[r.g]}var A={isEmpty:u,put:s,take:s};function C(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,a=0,i=0,o=function(t){n[a]=t,a=(a+1)%e,r++},u=function(){if(0!=r){var t=n[i];return n[i]=null,r--,i=(i+1)%e,t}},s=function(){for(var e=[];r;)e.push(u());return e};return{isEmpty:function(){return 0==r},put:function(u){var c;if(r<e)o(u);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[a]=u,i=a=(a+1)%e;break;case 4:c=2*e,n=s(),r=n.length,a=n.length,i=0,n.length=c,e=c,o(u)}},take:u,flush:s}}var N=function(){return A},T=function(e){return C(e,3)},D=function(e){return C(e,4)},I="TAKE",M="PUT",F="ALL",R="RACE",P="CALL",z="CPS",B="FORK",L="JOIN",U="CANCEL",W="SELECT",V="ACTION_CHANNEL",H="CANCELLED",G="FLUSH",q="GET_CONTEXT",X="SET_CONTEXT",Y=function(e,t){var n;return(n={})[r.c]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function K(e,t){return void 0===e&&(e="*"),Object(i.i)(e)?Y(I,{pattern:e}):Object(i.f)(e)&&Object(i.g)(t)&&Object(i.i)(t)?Y(I,{channel:e,pattern:t}):Object(i.b)(e)?Y(I,{channel:e}):void 0}function $(e,t){return Object(i.n)(t)&&(t=e,e=void 0),Y(M,{channel:e,action:t})}function Z(e){var t=Y(F,e);return t.combinator=!0,t}function J(e){var t=Y(R,e);return t.combinator=!0,t}function Q(e,t){var n,r=null;return Object(i.d)(e)?n=e:(Object(i.a)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&Object(i.k)(n)&&Object(i.d)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y(P,Q(e,n))}function te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y(B,Q(e,n))}function ne(e){return void 0===e&&(e=r.h),Y(U,e)}function re(e){void 0===e&&(e=c);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y(W,{selector:e,args:n})}function ae(e,t){return Y(V,{pattern:e,buffer:t})}var ie=ee.bind(null,o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(455),a=n(219);var i=n(201);function o(e){return function(e){var t=e.props,n=e.name,i=e.defaultTheme,o=Object(a.a)(i);return Object(r.a)({theme:o,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:i.a})}},,function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({cast_:function(e,t){var n=Object(i.a)(e,"x","cast");if(!o.B(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var u={x:n},s={dtype:t};return r.a.runKernel(a.x,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(34);function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=a(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},i.apply(this,arguments)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=c(n(737)),a=c(n(813)),i=c(n(839)),o=c(n(840)),u=c(n(841)),s=c(n(842));function c(e){return e&&e.__esModule?e:{default:e}}t.hover=o.default,t.handleHover=o.default,t.handleActive=u.default,t.loop=s.default;var l=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var u=(0,r.default)(n),s=(0,a.default)(e,u);return(0,i.default)(s)};t.default=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(15);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(13);var c=Object(s.b)({add_:function(e,t){var n=Object(u.a)(e,"a","add"),s=Object(u.a)(t,"b","add"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.d,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(13);var c=Object(s.b)({sub_:function(e,t){var n=Object(u.a)(e,"a","sub"),s=Object(u.a)(t,"b","sub"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.Yc,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(242),c=n(13);var l=Object(c.b)({div_:function(e,t){var n=Object(u.a)(e,"a","div"),c=Object(u.a)(t,"b","div"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);if(n=f[0],c=f[1],"int32"===n.dtype&&"int32"===c.dtype)return Object(s.a)(n,c);var d={a:n,b:c};return a.a.runKernel(i.mc,d,{})}})},function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&1===o&&r.unshift(i)}return r}function a(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],i=t.length-r-1,o=t[i];(null==a||1===a&&o>1)&&n.unshift(i)}return n}function i(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var i=e[e.length-a-1];null==i&&(i=1);var o=t[t.length-a-1];if(null==o&&(o=1),1===i)n.unshift(o);else if(1===o)n.unshift(i);else{if(i!==o){var u="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(u)}n.unshift(i)}}return n}n.r(t),n.d(t,"getBroadcastDims",(function(){return r})),n.d(t,"getReductionAxes",(function(){return a})),n.d(t,"assertAndGetBroadcastShape",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(35),u=n(13);var s=Object(u.b)({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=Object(i.a)(e,"x","sum");"bool"===u.dtype&&(u=Object(o.a)(u,"int32"));var s={x:u},c={axis:t,keepDims:n};return r.a.runKernel(a.Zc,s,c)}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(15),a=n(631),i=n(105);function o(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function u(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||a:o(e,n)||a,t&&(r=t(r)),r}t.a=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return Object(i.b)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":Object(a.a)(e)),e)),!1===s?n:Object(r.a)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(23),a=n(106);function i(e,t){if((Object(r.A)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Object(r.A)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Object(a.a)(e,[],[],t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o}));var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};function a(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(u){a={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}},function(e,t,n){(function(e,r){var a;(function(){var i,o="Expected a function",u="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,l=32,f=64,d=128,h=256,p=1/0,v=9007199254740991,m=NaN,g=4294967295,b=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",l],["partialRight",f],["rearg",h]],y="[object Arguments]",x="[object Array]",w="[object Boolean]",O="[object Date]",k="[object Error]",j="[object Function]",_="[object GeneratorFunction]",S="[object Map]",E="[object Number]",A="[object Object]",C="[object Promise]",N="[object RegExp]",T="[object Set]",D="[object String]",I="[object Symbol]",M="[object WeakMap]",F="[object ArrayBuffer]",R="[object DataView]",P="[object Float32Array]",z="[object Float64Array]",B="[object Int8Array]",L="[object Int16Array]",U="[object Int32Array]",W="[object Uint8Array]",V="[object Uint8ClampedArray]",H="[object Uint16Array]",G="[object Uint32Array]",q=/\b__p \+= '';/g,X=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,Z=RegExp(K.source),J=RegExp($.source),Q=/<%-([\s\S]+?)%>/g,ee=/<%([\s\S]+?)%>/g,te=/<%=([\s\S]+?)%>/g,ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ue=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,be=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,xe=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,Oe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ke=/($^)/,je=/['\n\r\u2028\u2029\\]/g,_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="['\u2019]",De="[\\ud800-\\udfff]",Ie="["+Ne+"]",Me="["+_e+"]",Fe="\\d+",Re="[\\u2700-\\u27bf]",Pe="["+Ee+"]",ze="[^\\ud800-\\udfff"+Ne+Fe+Se+Ee+Ae+"]",Be="\\ud83c[\\udffb-\\udfff]",Le="[^\\ud800-\\udfff]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",We="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Ae+"]",He="(?:"+Pe+"|"+ze+")",Ge="(?:"+Ve+"|"+ze+")",qe="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Xe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Me+"|"+Be+")"+"?",Ke="[\\ufe0e\\ufe0f]?",$e=Ke+Ye+("(?:\\u200d(?:"+[Le,Ue,We].join("|")+")"+Ke+Ye+")*"),Ze="(?:"+[Re,Ue,We].join("|")+")"+$e,Je="(?:"+[Le+Me+"?",Me,Ue,We,De].join("|")+")",Qe=RegExp(Te,"g"),et=RegExp(Me,"g"),tt=RegExp(Be+"(?="+Be+")|"+Je+$e,"g"),nt=RegExp([Ve+"?"+Pe+"+"+qe+"(?="+[Ie,Ve,"$"].join("|")+")",Ge+"+"+Xe+"(?="+[Ie,Ve+He,"$"].join("|")+")",Ve+"?"+He+"+"+qe,Ve+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fe,Ze].join("|"),"g"),rt=RegExp("[\\u200d\\ud800-\\udfff"+_e+Ce+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,ut={};ut[P]=ut[z]=ut[B]=ut[L]=ut[U]=ut[W]=ut[V]=ut[H]=ut[G]=!0,ut[y]=ut[x]=ut[F]=ut[w]=ut[R]=ut[O]=ut[k]=ut[j]=ut[S]=ut[E]=ut[A]=ut[N]=ut[T]=ut[D]=ut[M]=!1;var st={};st[y]=st[x]=st[F]=st[R]=st[w]=st[O]=st[P]=st[z]=st[B]=st[L]=st[U]=st[S]=st[E]=st[A]=st[N]=st[T]=st[D]=st[I]=st[W]=st[V]=st[H]=st[G]=!0,st[k]=st[j]=st[M]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ft=parseInt,dt="object"==typeof e&&e&&e.Object===Object&&e,ht="object"==typeof self&&self&&self.Object===Object&&self,pt=dt||ht||Function("return this")(),vt=t&&!t.nodeType&&t,mt=vt&&"object"==typeof r&&r&&!r.nodeType&&r,gt=mt&&mt.exports===vt,bt=gt&&dt.process,yt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),xt=yt&&yt.isArrayBuffer,wt=yt&&yt.isDate,Ot=yt&&yt.isMap,kt=yt&&yt.isRegExp,jt=yt&&yt.isSet,_t=yt&&yt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(r,o,n(o),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Tt(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}function Dt(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function It(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function Ft(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function Rt(e,t,n,r){var a=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}function Pt(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=qt("length");function Lt(e,t,n){var r;return n(e,(function(e,n,a){if(t(e,n,a))return r=n,!1})),r}function Ut(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function Wt(e,t,n){return t===t?function(e,t,n){var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Ht,n)}function Vt(e,t,n,r){for(var a=n-1,i=e.length;++a<i;)if(r(e[a],t))return a;return-1}function Ht(e){return e!==e}function Gt(e,t){var n=null==e?0:e.length;return n?Kt(e,t)/n:m}function qt(e){return function(t){return null==t?i:t[e]}}function Xt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,a){return a(e,(function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)})),n}function Kt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Zt(e){return e?e.slice(0,mn(e)+1).replace(ue,""):e}function Jt(e){return function(t){return e(t)}}function Qt(e,t){return Mt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var an=Xt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(e){return"\\"+ct[e]}function sn(e){return rt.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n];o!==t&&o!==s||(e[n]=s,i[a++]=n)}return i}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){var t=tt.lastIndex=0;for(;tt.test(e);)++t;return t}(e):Bt(e)}function vn(e){return sn(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var bn=function e(t){var n=(t=null==t?pt:bn.defaults(pt.Object(),t,bn.pick(pt,it))).Array,r=t.Date,a=t.Error,se=t.Function,_e=t.Math,Se=t.Object,Ee=t.RegExp,Ae=t.String,Ce=t.TypeError,Ne=n.prototype,Te=se.prototype,De=Se.prototype,Ie=t["__core-js_shared__"],Me=Te.toString,Fe=De.hasOwnProperty,Re=0,Pe=function(){var e=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ze=De.toString,Be=Me.call(Se),Le=pt._,Ue=Ee("^"+Me.call(Fe).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=gt?t.Buffer:i,Ve=t.Symbol,He=t.Uint8Array,Ge=We?We.allocUnsafe:i,qe=ln(Se.getPrototypeOf,Se),Xe=Se.create,Ye=De.propertyIsEnumerable,Ke=Ne.splice,$e=Ve?Ve.isConcatSpreadable:i,Ze=Ve?Ve.iterator:i,Je=Ve?Ve.toStringTag:i,tt=function(){try{var e=di(Se,"defineProperty");return e({},"",{}),e}catch(t){}}(),rt=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,ct=r&&r.now!==pt.Date.now&&r.now,dt=t.setTimeout!==pt.setTimeout&&t.setTimeout,ht=_e.ceil,vt=_e.floor,mt=Se.getOwnPropertySymbols,bt=We?We.isBuffer:i,yt=t.isFinite,Bt=Ne.join,Xt=ln(Se.keys,Se),yn=_e.max,xn=_e.min,wn=r.now,On=t.parseInt,kn=_e.random,jn=Ne.reverse,_n=di(t,"DataView"),Sn=di(t,"Map"),En=di(t,"Promise"),An=di(t,"Set"),Cn=di(t,"WeakMap"),Nn=di(Se,"create"),Tn=Cn&&new Cn,Dn={},In=Bi(_n),Mn=Bi(Sn),Fn=Bi(En),Rn=Bi(An),Pn=Bi(Cn),zn=Ve?Ve.prototype:i,Bn=zn?zn.valueOf:i,Ln=zn?zn.toString:i;function Un(e){if(ru(e)&&!qo(e)&&!(e instanceof Gn)){if(e instanceof Hn)return e;if(Fe.call(e,"__wrapped__"))return Li(e)}return new Hn(e)}var Wn=function(){function e(){}return function(t){if(!nu(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Vn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new Xn(e);this.size=t.size}function Zn(e,t){var n=qo(e),r=!n&&Go(e),a=!n&&!r&&$o(e),i=!n&&!r&&!a&&fu(e),o=n||r||a||i,u=o?$t(e.length,Ae):[],s=u.length;for(var c in e)!t&&!Fe.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yi(c,s))||u.push(c);return u}function Jn(e){var t=e.length;return t?e[Kr(0,t-1)]:i}function Qn(e,t){return Ri(Na(e),sr(t,0,e.length))}function er(e){return Ri(Na(e))}function tr(e,t,n){(n!==i&&!Wo(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function nr(e,t,n){var r=e[t];Fe.call(e,t)&&Wo(r,n)&&(n!==i||t in e)||or(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Wo(e[n][0],t))return n;return-1}function ar(e,t,n,r){return hr(e,(function(e,a,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Ta(t,Iu(t),e)}function or(e,t,n){"__proto__"==t&&tt?tt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var r=-1,a=t.length,o=n(a),u=null==e;++r<a;)o[r]=u?i:Au(e,t[r]);return o}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,a,o){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=a?n(e,r,a,o):n(e)),u!==i)return u;if(!nu(e))return e;var f=qo(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Fe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Na(e,u)}else{var d=vi(e),h=d==j||d==_;if($o(e))return ja(e,s);if(d==A||d==y||h&&!a){if(u=c||h?{}:gi(e),!s)return c?function(e,t){return Ta(e,pi(e),t)}(e,function(e,t){return e&&Ta(t,Mu(t),e)}(u,e)):function(e,t){return Ta(e,hi(e),t)}(e,ir(u,e))}else{if(!st[d])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case F:return _a(e);case w:case O:return new r(+e);case R:return function(e,t){var n=t?_a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case P:case z:case B:case L:case U:case W:case V:case H:case G:return Sa(e,n);case S:return new r;case E:case D:return new r(e);case N:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new r;case I:return a=e,Bn?Se(Bn.call(a)):{}}var a}(e,d,s)}}o||(o=new $n);var p=o.get(e);if(p)return p;o.set(e,u),su(e)?e.forEach((function(r){u.add(cr(r,t,n,r,e,o))})):au(e)&&e.forEach((function(r,a){u.set(a,cr(r,t,n,a,e,o))}));var v=f?i:(l?c?ii:ai:c?Mu:Iu)(e);return At(v||e,(function(r,a){v&&(r=e[a=r]),nr(u,a,cr(r,t,n,a,e,o))})),u}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Se(e);r--;){var a=n[r],o=t[a],u=e[a];if(u===i&&!(a in e)||!o(u))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ce(o);return Di((function(){e.apply(i,n)}),t)}function dr(e,t,n,r){var a=-1,i=Dt,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Mt(t,Jt(n))),r?(i=It,o=!1):t.length>=200&&(i=en,o=!1,t=new Kn(t));e:for(;++a<u;){var l=e[a],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var d=c;d--;)if(t[d]===f)continue e;s.push(l)}else i(t,f,r)||s.push(l)}return s}Un.templateSettings={escape:Q,evaluate:ee,interpolate:te,variable:"",imports:{_:Un}},Un.prototype=Vn.prototype,Un.prototype.constructor=Un,Hn.prototype=Wn(Vn.prototype),Hn.prototype.constructor=Hn,Gn.prototype=Wn(Vn.prototype),Gn.prototype.constructor=Gn,qn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(Nn){var n=t[e];return n===u?i:n}return Fe.call(t,e)?t[e]:i},qn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==i:Fe.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nn&&t===i?u:t,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Xn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Xn.prototype.has=function(e){return rr(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(Sn||Xn),string:new qn}},Yn.prototype.delete=function(e){var t=li(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return li(this,e).get(e)},Yn.prototype.has=function(e){return li(this,e).has(e)},Yn.prototype.set=function(e,t){var n=li(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,u),this},Kn.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new Xn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ma(wr),pr=Ma(Or,!0);function vr(e,t){var n=!0;return hr(e,(function(e,r,a){return n=!!t(e,r,a)})),n}function mr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],u=t(o);if(null!=u&&(s===i?u===u&&!lu(u):n(u,s)))var s=u,c=o}return c}function gr(e,t){var n=[];return hr(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}function br(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=bi),a||(a=[]);++i<o;){var u=e[i];t>0&&n(u)?t>1?br(u,t-1,n,r,a):Ft(a,u):r||(a[a.length]=u)}return a}var yr=Fa(),xr=Fa(!0);function wr(e,t){return e&&yr(e,t,Iu)}function Or(e,t){return e&&xr(e,t,Iu)}function kr(e,t){return Tt(t,(function(t){return Qo(e[t])}))}function jr(e,t){for(var n=0,r=(t=xa(t,e)).length;null!=e&&n<r;)e=e[zi(t[n++])];return n&&n==r?e:i}function _r(e,t,n){var r=t(e);return qo(e)?r:Ft(r,n(e))}function Sr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Se(e)?function(e){var t=Fe.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(o){}var a=ze.call(e);r&&(t?e[Je]=n:delete e[Je]);return a}(e):function(e){return ze.call(e)}(e)}function Er(e,t){return e>t}function Ar(e,t){return null!=e&&Fe.call(e,t)}function Cr(e,t){return null!=e&&t in Se(e)}function Nr(e,t,r){for(var a=r?It:Dt,o=e[0].length,u=e.length,s=u,c=n(u),l=1/0,f=[];s--;){var d=e[s];s&&t&&(d=Mt(d,Jt(t))),l=xn(d.length,l),c[s]=!r&&(t||o>=120&&d.length>=120)?new Kn(s&&d):i}d=e[0];var h=-1,p=c[0];e:for(;++h<o&&f.length<l;){var v=d[h],m=t?t(v):v;if(v=r||0!==v?v:0,!(p?en(p,m):a(f,m,r))){for(s=u;--s;){var g=c[s];if(!(g?en(g,m):a(e[s],m,r)))continue e}p&&p.push(m),f.push(v)}}return f}function Tr(e,t,n){var r=null==(e=Ai(e,t=xa(t,e)))?e:e[zi(Zi(t))];return null==r?i:St(r,e,n)}function Dr(e){return ru(e)&&Sr(e)==y}function Ir(e,t,n,r,a){return e===t||(null==e||null==t||!ru(e)&&!ru(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var u=qo(e),s=qo(t),c=u?x:vi(e),l=s?x:vi(t),f=(c=c==y?A:c)==A,d=(l=l==y?A:l)==A,h=c==l;if(h&&$o(e)){if(!$o(t))return!1;u=!0,f=!1}if(h&&!f)return o||(o=new $n),u||fu(e)?ni(e,t,n,r,a,o):function(e,t,n,r,a,i,o){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case F:return!(e.byteLength!=t.byteLength||!i(new He(e),new He(t)));case w:case O:case E:return Wo(+e,+t);case k:return e.name==t.name&&e.message==t.message;case N:case D:return e==t+"";case S:var u=cn;case T:var s=1&r;if(u||(u=dn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=ni(u(e),u(t),r,a,i,o);return o.delete(e),l;case I:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,c,n,r,a,o);if(!(1&n)){var p=f&&Fe.call(e,"__wrapped__"),v=d&&Fe.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return o||(o=new $n),a(m,g,n,r,o)}}if(!h)return!1;return o||(o=new $n),function(e,t,n,r,a,o){var u=1&n,s=ai(e),c=s.length,l=ai(t).length;if(c!=l&&!u)return!1;var f=c;for(;f--;){var d=s[f];if(!(u?d in t:Fe.call(t,d)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var v=!0;o.set(e,t),o.set(t,e);var m=u;for(;++f<c;){var g=e[d=s[f]],b=t[d];if(r)var y=u?r(b,g,d,t,e,o):r(g,b,d,e,t,o);if(!(y===i?g===b||a(g,b,n,r,o):y)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,n,r,a,o)}(e,t,n,r,Ir,a))}function Mr(e,t,n,r){var a=n.length,o=a,u=!r;if(null==e)return!o;for(e=Se(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=n[a])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in e))return!1}else{var d=new $n;if(r)var h=r(l,f,c,e,t,d);if(!(h===i?Ir(f,l,3,r,d):h))return!1}}return!0}function Fr(e){return!(!nu(e)||(t=e,Pe&&Pe in t))&&(Qo(e)?Ue:ye).test(Bi(e));var t}function Rr(e){return"function"==typeof e?e:null==e?is:"object"==typeof e?qo(e)?Wr(e[0],e[1]):Ur(e):ps(e)}function Pr(e){if(!ji(e))return Xt(e);var t=[];for(var n in Se(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function zr(e){if(!nu(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=ji(e),n=[];for(var r in e)("constructor"!=r||!t&&Fe.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function Lr(e,t){var r=-1,a=Yo(e)?n(e.length):[];return hr(e,(function(e,n,i){a[++r]=t(e,n,i)})),a}function Ur(e){var t=fi(e);return 1==t.length&&t[0][2]?Si(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function Wr(e,t){return wi(e)&&_i(t)?Si(zi(e),t):function(n){var r=Au(n,e);return r===i&&r===t?Cu(n,e):Ir(t,r,3)}}function Vr(e,t,n,r,a){e!==t&&yr(t,(function(o,u){if(a||(a=new $n),nu(o))!function(e,t,n,r,a,o,u){var s=Ni(e,n),c=Ni(t,n),l=u.get(c);if(l)return void tr(e,n,l);var f=o?o(s,c,n+"",e,t,u):i,d=f===i;if(d){var h=qo(c),p=!h&&$o(c),v=!h&&!p&&fu(c);f=c,h||p||v?qo(s)?f=s:Ko(s)?f=Na(s):p?(d=!1,f=ja(c,!0)):v?(d=!1,f=Sa(c,!0)):f=[]:ou(c)||Go(c)?(f=s,Go(s)?f=yu(s):nu(s)&&!Qo(s)||(f=gi(c))):d=!1}d&&(u.set(c,f),a(f,c,r,o,u),u.delete(c));tr(e,n,f)}(e,t,u,n,Vr,r,a);else{var s=r?r(Ni(e,u),o,u+"",e,t,a):i;s===i&&(s=o),tr(e,u,s)}}),Mu)}function Hr(e,t){var n=e.length;if(n)return yi(t+=t<0?n:0,n)?e[t]:i}function Gr(e,t,n){t=t.length?Mt(t,(function(e){return qo(e)?function(t){return jr(t,1===e.length?e[0]:e)}:e})):[is];var r=-1;t=Mt(t,Jt(ci()));var a=Lr(e,(function(e,n,a){var i=Mt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(a,(function(e,t){return function(e,t,n){var r=-1,a=e.criteria,i=t.criteria,o=a.length,u=n.length;for(;++r<o;){var s=Ea(a[r],i[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function qr(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],u=jr(e,o);n(u,o)&&ea(i,xa(o,e),u)}return i}function Xr(e,t,n,r){var a=r?Vt:Wt,i=-1,o=t.length,u=e;for(e===t&&(t=Na(t)),n&&(u=Mt(e,Jt(n)));++i<o;)for(var s=0,c=t[i],l=n?n(c):c;(s=a(u,l,s,r))>-1;)u!==e&&Ke.call(u,s,1),Ke.call(e,s,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==i){var i=a;yi(a)?Ke.call(e,a,1):da(e,a)}}return e}function Kr(e,t){return e+vt(kn()*(t-e+1))}function $r(e,t){var n="";if(!e||t<1||t>v)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Ii(Ei(e,t,is),e+"")}function Jr(e){return Jn(Wu(e))}function Qr(e,t){var n=Wu(e);return Ri(n,sr(t,0,n.length))}function ea(e,t,n,r){if(!nu(e))return e;for(var a=-1,o=(t=xa(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var c=zi(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=u){var f=s[c];(l=r?r(f,c,s):i)===i&&(l=nu(f)?f:yi(t[a+1])?[]:{})}nr(s,c,l),s=s[c]}return e}var ta=Tn?function(e,t){return Tn.set(e,t),e}:is,na=tt?function(e,t){return tt(e,"toString",{configurable:!0,enumerable:!1,value:ns(t),writable:!0})}:is;function ra(e){return Ri(Wu(e))}function aa(e,t,r){var a=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=n(i);++a<i;)o[a]=e[a+t];return o}function ia(e,t){var n;return hr(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}function oa(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t===t&&a<=2147483647){for(;r<a;){var i=r+a>>>1,o=e[i];null!==o&&!lu(o)&&(n?o<=t:o<t)?r=i+1:a=i}return a}return ua(e,t,is,n)}function ua(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var u=(t=n(t))!==t,s=null===t,c=lu(t),l=t===i;a<o;){var f=vt((a+o)/2),d=n(e[f]),h=d!==i,p=null===d,v=d===d,m=lu(d);if(u)var g=r||v;else g=l?v&&(r||h):s?v&&h&&(r||!p):c?v&&h&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);g?a=f+1:o=f}return xn(o,4294967294)}function sa(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!Wo(u,s)){var s=u;i[a++]=0===o?0:o}}return i}function ca(e){return"number"==typeof e?e:lu(e)?m:+e}function la(e){if("string"==typeof e)return e;if(qo(e))return Mt(e,la)+"";if(lu(e))return Ln?Ln.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fa(e,t,n){var r=-1,a=Dt,i=e.length,o=!0,u=[],s=u;if(n)o=!1,a=It;else if(i>=200){var c=t?null:$a(e);if(c)return dn(c);o=!1,a=en,s=new Kn}else s=t?[]:u;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var d=s.length;d--;)if(s[d]===f)continue e;t&&s.push(f),u.push(l)}else a(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function da(e,t){return null==(e=Ai(e,t=xa(t,e)))||delete e[zi(Zi(t))]}function ha(e,t,n,r){return ea(e,t,n(jr(e,t)),r)}function pa(e,t,n,r){for(var a=e.length,i=r?a:-1;(r?i--:++i<a)&&t(e[i],i,e););return n?aa(e,r?0:i,r?i+1:a):aa(e,r?i+1:0,r?a:i)}function va(e,t){var n=e;return n instanceof Gn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Ft([e],t.args))}),n)}function ma(e,t,r){var a=e.length;if(a<2)return a?fa(e[0]):[];for(var i=-1,o=n(a);++i<a;)for(var u=e[i],s=-1;++s<a;)s!=i&&(o[i]=dr(o[i]||u,e[s],t,r));return fa(br(o,1),t,r)}function ga(e,t,n){for(var r=-1,a=e.length,o=t.length,u={};++r<a;){var s=r<o?t[r]:i;n(u,e[r],s)}return u}function ba(e){return Ko(e)?e:[]}function ya(e){return"function"==typeof e?e:is}function xa(e,t){return qo(e)?e:wi(e,t)?[e]:Pi(xu(e))}var wa=Zr;function Oa(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:aa(e,t,n)}var ka=rt||function(e){return pt.clearTimeout(e)};function ja(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function _a(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Sa(e,t){var n=t?_a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ea(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=lu(e),u=t!==i,s=null===t,c=t===t,l=lu(t);if(!s&&!l&&!o&&e>t||o&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||s&&n&&a||!u&&a||!c)return-1}return 0}function Aa(e,t,r,a){for(var i=-1,o=e.length,u=r.length,s=-1,c=t.length,l=yn(o-u,0),f=n(c+l),d=!a;++s<c;)f[s]=t[s];for(;++i<u;)(d||i<o)&&(f[r[i]]=e[i]);for(;l--;)f[s++]=e[i++];return f}function Ca(e,t,r,a){for(var i=-1,o=e.length,u=-1,s=r.length,c=-1,l=t.length,f=yn(o-s,0),d=n(f+l),h=!a;++i<f;)d[i]=e[i];for(var p=i;++c<l;)d[p+c]=t[c];for(;++u<s;)(h||i<o)&&(d[p+r[u]]=e[i++]);return d}function Na(e,t){var r=-1,a=e.length;for(t||(t=n(a));++r<a;)t[r]=e[r];return t}function Ta(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),a?or(n,s,c):nr(n,s,c)}return n}function Da(e,t){return function(n,r){var a=qo(n)?Et:ar,i=t?t():{};return a(n,e,ci(r,2),i)}}function Ia(e){return Zr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,u=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,u&&xi(n[0],n[1],u)&&(o=a<3?i:o,a=1),t=Se(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))}function Ma(e,t){return function(n,r){if(null==n)return n;if(!Yo(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Se(n);(t?i--:++i<a)&&!1!==r(o[i],i,o););return n}}function Fa(e){return function(t,n,r){for(var a=-1,i=Se(t),o=r(t),u=o.length;u--;){var s=o[e?u:++a];if(!1===n(i[s],s,i))break}return t}}function Ra(e){return function(t){var n=sn(t=xu(t))?vn(t):i,r=n?n[0]:t.charAt(0),a=n?Oa(n,1).join(""):t.slice(1);return r[e]()+a}}function Pa(e){return function(t){return Rt(Qu(Gu(t).replace(Qe,"")),e,"")}}function za(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Wn(e.prototype),r=e.apply(n,t);return nu(r)?r:n}}function Ba(e){return function(t,n,r){var a=Se(t);if(!Yo(t)){var o=ci(n,3);t=Iu(t),n=function(e){return o(a[e],e,a)}}var u=e(t,n,r);return u>-1?a[o?t[u]:u]:i}}function La(e){return ri((function(t){var n=t.length,r=n,a=Hn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Ce(o);if(a&&!s&&"wrapper"==ui(u))var s=new Hn([],!0)}for(r=s?r:n;++r<n;){var c=ui(u=t[r]),l="wrapper"==c?oi(u):i;s=l&&Oi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[ui(l[0])].apply(s,l[3]):1==u.length&&Oi(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&qo(r))return s.plant(r).value();for(var a=0,i=n?t[a].apply(this,e):r;++a<n;)i=t[a].call(this,i);return i}}))}function Ua(e,t,r,a,o,u,s,c,l,f){var h=t&d,p=1&t,v=2&t,m=24&t,g=512&t,b=v?i:za(e);return function i(){for(var d=arguments.length,y=n(d),x=d;x--;)y[x]=arguments[x];if(m)var w=si(i),O=rn(y,w);if(a&&(y=Aa(y,a,o,m)),u&&(y=Ca(y,u,s,m)),d-=O,m&&d<f){var k=fn(y,w);return Ya(e,t,Ua,i.placeholder,r,y,k,c,l,f-d)}var j=p?r:this,_=v?j[e]:e;return d=y.length,c?y=Ci(y,c):g&&d>1&&y.reverse(),h&&l<d&&(y.length=l),this&&this!==pt&&this instanceof i&&(_=b||za(_)),_.apply(j,y)}}function Wa(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,a,i){t(r,n(e),a,i)})),r}(n,e,t(r),{})}}function Va(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=la(n),r=la(r)):(n=ca(n),r=ca(r)),a=e(n,r)}return a}}function Ha(e){return ri((function(t){return t=Mt(t,Jt(ci())),Zr((function(n){var r=this;return e(t,(function(e){return St(e,r,n)}))}))}))}function Ga(e,t){var n=(t=t===i?" ":la(t)).length;if(n<2)return n?$r(t,e):t;var r=$r(t,ht(e/pn(t)));return sn(t)?Oa(vn(r),0,e).join(""):r.slice(0,e)}function qa(e){return function(t,r,a){return a&&"number"!=typeof a&&xi(t,r,a)&&(r=a=i),t=vu(t),r===i?(r=t,t=0):r=vu(r),function(e,t,r,a){for(var i=-1,o=yn(ht((t-e)/(r||1)),0),u=n(o);o--;)u[a?o:++i]=e,e+=r;return u}(t,r,a=a===i?t<r?1:-1:vu(a),e)}}function Xa(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bu(t),n=bu(n)),e(t,n)}}function Ya(e,t,n,r,a,o,u,s,c,d){var h=8&t;t|=h?l:f,4&(t&=~(h?f:l))||(t&=-4);var p=[e,t,a,h?o:i,h?u:i,h?i:o,h?i:u,s,c,d],v=n.apply(i,p);return Oi(e)&&Ti(v,p),v.placeholder=r,Mi(v,e,t)}function Ka(e){var t=_e[e];return function(e,n){if(e=bu(e),(n=null==n?0:xn(mu(n),292))&&yt(e)){var r=(xu(e)+"e").split("e");return+((r=(xu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var $a=An&&1/dn(new An([,-0]))[1]==p?function(e){return new An(e)}:ls;function Za(e){return function(t){var n=vi(t);return n==S?cn(t):n==T?hn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ja(e,t,r,a,u,p,v,m){var g=2&t;if(!g&&"function"!=typeof e)throw new Ce(o);var b=a?a.length:0;if(b||(t&=-97,a=u=i),v=v===i?v:yn(mu(v),0),m=m===i?m:mu(m),b-=u?u.length:0,t&f){var y=a,x=u;a=u=i}var w=g?i:oi(e),O=[e,t,r,a,u,y,x,p,v,m];if(w&&function(e,t){var n=e[1],r=t[1],a=n|r,i=a<131,o=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!o)return e;1&r&&(e[2]=t[2],a|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Aa(c,u,t[4]):u,e[4]=c?fn(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ca(c,u,t[6]):u,e[6]=c?fn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&d&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(O,w),e=O[0],t=O[1],r=O[2],a=O[3],u=O[4],!(m=O[9]=O[9]===i?g?0:e.length:yn(O[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==c?function(e,t,r){var a=za(e);return function o(){for(var u=arguments.length,s=n(u),c=u,l=si(o);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:fn(s,l);return(u-=f.length)<r?Ya(e,t,Ua,o.placeholder,i,s,f,i,i,r-u):St(this&&this!==pt&&this instanceof o?a:e,this,s)}}(e,t,m):t!=l&&33!=t||u.length?Ua.apply(i,O):function(e,t,r,a){var i=1&t,o=za(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=a.length,f=n(l+s),d=this&&this!==pt&&this instanceof t?o:e;++c<l;)f[c]=a[c];for(;s--;)f[c++]=arguments[++u];return St(d,i?r:this,f)}}(e,t,r,a);else var k=function(e,t,n){var r=1&t,a=za(e);return function t(){return(this&&this!==pt&&this instanceof t?a:e).apply(r?n:this,arguments)}}(e,t,r);return Mi((w?ta:Ti)(k,O),e,t)}function Qa(e,t,n,r){return e===i||Wo(e,De[n])&&!Fe.call(r,n)?t:e}function ei(e,t,n,r,a,o){return nu(e)&&nu(t)&&(o.set(t,e),Vr(e,t,i,ei,o),o.delete(t)),e}function ti(e){return ou(e)?i:e}function ni(e,t,n,r,a,o){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var d=-1,h=!0,p=2&n?new Kn:i;for(o.set(e,t),o.set(t,e);++d<s;){var v=e[d],m=t[d];if(r)var g=u?r(m,v,d,t,e,o):r(v,m,d,e,t,o);if(g!==i){if(g)continue;h=!1;break}if(p){if(!zt(t,(function(e,t){if(!en(p,t)&&(v===e||a(v,e,n,r,o)))return p.push(t)}))){h=!1;break}}else if(v!==m&&!a(v,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function ri(e){return Ii(Ei(e,i,qi),e+"")}function ai(e){return _r(e,Iu,hi)}function ii(e){return _r(e,Mu,pi)}var oi=Tn?function(e){return Tn.get(e)}:ls;function ui(e){for(var t=e.name+"",n=Dn[t],r=Fe.call(Dn,t)?n.length:0;r--;){var a=n[r],i=a.func;if(null==i||i==e)return a.name}return t}function si(e){return(Fe.call(Un,"placeholder")?Un:e).placeholder}function ci(){var e=Un.iteratee||os;return e=e===os?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function li(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fi(e){for(var t=Iu(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,_i(a)]}return t}function di(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Fr(n)?n:i}var hi=mt?function(e){return null==e?[]:(e=Se(e),Tt(mt(e),(function(t){return Ye.call(e,t)})))}:gs,pi=mt?function(e){for(var t=[];e;)Ft(t,hi(e)),e=qe(e);return t}:gs,vi=Sr;function mi(e,t,n){for(var r=-1,a=(t=xa(t,e)).length,i=!1;++r<a;){var o=zi(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=a?i:!!(a=null==e?0:e.length)&&tu(a)&&yi(o,a)&&(qo(e)||Go(e))}function gi(e){return"function"!=typeof e.constructor||ji(e)?{}:Wn(qe(e))}function bi(e){return qo(e)||Go(e)||!!($e&&e&&e[$e])}function yi(e,t){var n=typeof e;return!!(t=null==t?v:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function xi(e,t,n){if(!nu(n))return!1;var r=typeof t;return!!("number"==r?Yo(n)&&yi(t,n.length):"string"==r&&t in n)&&Wo(n[t],e)}function wi(e,t){if(qo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!lu(e))||(re.test(e)||!ne.test(e)||null!=t&&e in Se(t))}function Oi(e){var t=ui(e),n=Un[t];if("function"!=typeof n||!(t in Gn.prototype))return!1;if(e===n)return!0;var r=oi(n);return!!r&&e===r[0]}(_n&&vi(new _n(new ArrayBuffer(1)))!=R||Sn&&vi(new Sn)!=S||En&&vi(En.resolve())!=C||An&&vi(new An)!=T||Cn&&vi(new Cn)!=M)&&(vi=function(e){var t=Sr(e),n=t==A?e.constructor:i,r=n?Bi(n):"";if(r)switch(r){case In:return R;case Mn:return S;case Fn:return C;case Rn:return T;case Pn:return M}return t});var ki=Ie?Qo:bs;function ji(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function _i(e){return e===e&&!nu(e)}function Si(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Se(n)))}}function Ei(e,t,r){return t=yn(t===i?e.length-1:t,0),function(){for(var a=arguments,i=-1,o=yn(a.length-t,0),u=n(o);++i<o;)u[i]=a[t+i];i=-1;for(var s=n(t+1);++i<t;)s[i]=a[i];return s[t]=r(u),St(e,this,s)}}function Ai(e,t){return t.length<2?e:jr(e,aa(t,0,-1))}function Ci(e,t){for(var n=e.length,r=xn(t.length,n),a=Na(e);r--;){var o=t[r];e[r]=yi(o,n)?a[o]:i}return e}function Ni(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ti=Fi(ta),Di=dt||function(e,t){return pt.setTimeout(e,t)},Ii=Fi(na);function Mi(e,t,n){var r=t+"";return Ii(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(b,(function(n){var r="_."+n[0];t&n[1]&&!Dt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(fe):[]}(r),n)))}function Fi(e){var t=0,n=0;return function(){var r=wn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ri(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Kr(n,a),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var Pi=function(e){var t=Ro(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ae,(function(e,n,r,a){t.push(r?a.replace(pe,"$1"):n||e)})),t}));function zi(e){if("string"==typeof e||lu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bi(e){if(null!=e){try{return Me.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Li(e){if(e instanceof Gn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=Na(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ui=Zr((function(e,t){return Ko(e)?dr(e,br(t,1,Ko,!0)):[]})),Wi=Zr((function(e,t){var n=Zi(t);return Ko(n)&&(n=i),Ko(e)?dr(e,br(t,1,Ko,!0),ci(n,2)):[]})),Vi=Zr((function(e,t){var n=Zi(t);return Ko(n)&&(n=i),Ko(e)?dr(e,br(t,1,Ko,!0),i,n):[]}));function Hi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:mu(n);return a<0&&(a=yn(r+a,0)),Ut(e,ci(t,3),a)}function Gi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=mu(n),a=n<0?yn(r+a,0):xn(a,r-1)),Ut(e,ci(t,3),a,!0)}function qi(e){return(null==e?0:e.length)?br(e,1):[]}function Xi(e){return e&&e.length?e[0]:i}var Yi=Zr((function(e){var t=Mt(e,ba);return t.length&&t[0]===e[0]?Nr(t):[]})),Ki=Zr((function(e){var t=Zi(e),n=Mt(e,ba);return t===Zi(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Nr(n,ci(t,2)):[]})),$i=Zr((function(e){var t=Zi(e),n=Mt(e,ba);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Nr(n,i,t):[]}));function Zi(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ji=Zr(Qi);function Qi(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var eo=ri((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Yr(e,Mt(t,(function(e){return yi(e,n)?+e:e})).sort(Ea)),r}));function to(e){return null==e?e:jn.call(e)}var no=Zr((function(e){return fa(br(e,1,Ko,!0))})),ro=Zr((function(e){var t=Zi(e);return Ko(t)&&(t=i),fa(br(e,1,Ko,!0),ci(t,2))})),ao=Zr((function(e){var t=Zi(e);return t="function"==typeof t?t:i,fa(br(e,1,Ko,!0),i,t)}));function io(e){if(!e||!e.length)return[];var t=0;return e=Tt(e,(function(e){if(Ko(e))return t=yn(e.length,t),!0})),$t(t,(function(t){return Mt(e,qt(t))}))}function oo(e,t){if(!e||!e.length)return[];var n=io(e);return null==t?n:Mt(n,(function(e){return St(t,i,e)}))}var uo=Zr((function(e,t){return Ko(e)?dr(e,t):[]})),so=Zr((function(e){return ma(Tt(e,Ko))})),co=Zr((function(e){var t=Zi(e);return Ko(t)&&(t=i),ma(Tt(e,Ko),ci(t,2))})),lo=Zr((function(e){var t=Zi(e);return t="function"==typeof t?t:i,ma(Tt(e,Ko),i,t)})),fo=Zr(io);var ho=Zr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oo(e,n)}));function po(e){var t=Un(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}var mo=ri((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Gn&&yi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:vo,args:[a],thisArg:i}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var go=Da((function(e,t,n){Fe.call(e,n)?++e[n]:or(e,n,1)}));var bo=Ba(Hi),yo=Ba(Gi);function xo(e,t){return(qo(e)?At:hr)(e,ci(t,3))}function wo(e,t){return(qo(e)?Ct:pr)(e,ci(t,3))}var Oo=Da((function(e,t,n){Fe.call(e,n)?e[n].push(t):or(e,n,[t])}));var ko=Zr((function(e,t,r){var a=-1,i="function"==typeof t,o=Yo(e)?n(e.length):[];return hr(e,(function(e){o[++a]=i?St(t,e,r):Tr(e,t,r)})),o})),jo=Da((function(e,t,n){or(e,n,t)}));function _o(e,t){return(qo(e)?Mt:Lr)(e,ci(t,3))}var So=Da((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Eo=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&xi(e,t[0],t[1])?t=[]:n>2&&xi(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,br(t,1),[])})),Ao=ct||function(){return pt.Date.now()};function Co(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ja(e,d,i,i,i,i,t)}function No(e,t){var n;if("function"!=typeof t)throw new Ce(o);return e=mu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var To=Zr((function(e,t,n){var r=1;if(n.length){var a=fn(n,si(To));r|=l}return Ja(e,r,t,n,a)})),Do=Zr((function(e,t,n){var r=3;if(n.length){var a=fn(n,si(Do));r|=l}return Ja(t,r,e,n,a)}));function Io(e,t,n){var r,a,u,s,c,l,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Ce(o);function v(t){var n=r,o=a;return r=a=i,f=t,s=e.apply(o,n)}function m(e){return f=e,c=Di(b,t),d?v(e):s}function g(e){var n=e-l;return l===i||n>=t||n<0||h&&e-f>=u}function b(){var e=Ao();if(g(e))return y(e);c=Di(b,function(e){var n=t-(e-l);return h?xn(n,u-(e-f)):n}(e))}function y(e){return c=i,p&&r?v(e):(r=a=i,s)}function x(){var e=Ao(),n=g(e);if(r=arguments,a=this,l=e,n){if(c===i)return m(l);if(h)return ka(c),c=Di(b,t),v(l)}return c===i&&(c=Di(b,t)),s}return t=bu(t)||0,nu(n)&&(d=!!n.leading,u=(h="maxWait"in n)?yn(bu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),x.cancel=function(){c!==i&&ka(c),f=0,r=l=a=c=i},x.flush=function(){return c===i?s:y(Ao())},x}var Mo=Zr((function(e,t){return fr(e,1,t)})),Fo=Zr((function(e,t,n){return fr(e,bu(t)||0,n)}));function Ro(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(o);var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Ro.Cache||Yn),n}function Po(e){if("function"!=typeof e)throw new Ce(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ro.Cache=Yn;var zo=wa((function(e,t){var n=(t=1==t.length&&qo(t[0])?Mt(t[0],Jt(ci())):Mt(br(t,1),Jt(ci()))).length;return Zr((function(r){for(var a=-1,i=xn(r.length,n);++a<i;)r[a]=t[a].call(this,r[a]);return St(e,this,r)}))})),Bo=Zr((function(e,t){var n=fn(t,si(Bo));return Ja(e,l,i,t,n)})),Lo=Zr((function(e,t){var n=fn(t,si(Lo));return Ja(e,f,i,t,n)})),Uo=ri((function(e,t){return Ja(e,h,i,i,i,t)}));function Wo(e,t){return e===t||e!==e&&t!==t}var Vo=Xa(Er),Ho=Xa((function(e,t){return e>=t})),Go=Dr(function(){return arguments}())?Dr:function(e){return ru(e)&&Fe.call(e,"callee")&&!Ye.call(e,"callee")},qo=n.isArray,Xo=xt?Jt(xt):function(e){return ru(e)&&Sr(e)==F};function Yo(e){return null!=e&&tu(e.length)&&!Qo(e)}function Ko(e){return ru(e)&&Yo(e)}var $o=bt||bs,Zo=wt?Jt(wt):function(e){return ru(e)&&Sr(e)==O};function Jo(e){if(!ru(e))return!1;var t=Sr(e);return t==k||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ou(e)}function Qo(e){if(!nu(e))return!1;var t=Sr(e);return t==j||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eu(e){return"number"==typeof e&&e==mu(e)}function tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=v}function nu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ru(e){return null!=e&&"object"==typeof e}var au=Ot?Jt(Ot):function(e){return ru(e)&&vi(e)==S};function iu(e){return"number"==typeof e||ru(e)&&Sr(e)==E}function ou(e){if(!ru(e)||Sr(e)!=A)return!1;var t=qe(e);if(null===t)return!0;var n=Fe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==Be}var uu=kt?Jt(kt):function(e){return ru(e)&&Sr(e)==N};var su=jt?Jt(jt):function(e){return ru(e)&&vi(e)==T};function cu(e){return"string"==typeof e||!qo(e)&&ru(e)&&Sr(e)==D}function lu(e){return"symbol"==typeof e||ru(e)&&Sr(e)==I}var fu=_t?Jt(_t):function(e){return ru(e)&&tu(e.length)&&!!ut[Sr(e)]};var du=Xa(Br),hu=Xa((function(e,t){return e<=t}));function pu(e){if(!e)return[];if(Yo(e))return cu(e)?vn(e):Na(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=vi(e);return(t==S?cn:t==T?dn:Wu)(e)}function vu(e){return e?(e=bu(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function mu(e){var t=vu(e),n=t%1;return t===t?n?t-n:t:0}function gu(e){return e?sr(mu(e),0,g):0}function bu(e){if("number"==typeof e)return e;if(lu(e))return m;if(nu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=be.test(e);return n||xe.test(e)?ft(e.slice(2),n?2:8):ge.test(e)?m:+e}function yu(e){return Ta(e,Mu(e))}function xu(e){return null==e?"":la(e)}var wu=Ia((function(e,t){if(ji(t)||Yo(t))Ta(t,Iu(t),e);else for(var n in t)Fe.call(t,n)&&nr(e,n,t[n])})),Ou=Ia((function(e,t){Ta(t,Mu(t),e)})),ku=Ia((function(e,t,n,r){Ta(t,Mu(t),e,r)})),ju=Ia((function(e,t,n,r){Ta(t,Iu(t),e,r)})),_u=ri(ur);var Su=Zr((function(e,t){e=Se(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&xi(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],u=Mu(o),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===i||Wo(f,De[l])&&!Fe.call(e,l))&&(e[l]=o[l])}return e})),Eu=Zr((function(e){return e.push(i,ei),St(Ru,i,e)}));function Au(e,t,n){var r=null==e?i:jr(e,t);return r===i?n:r}function Cu(e,t){return null!=e&&mi(e,t,Cr)}var Nu=Wa((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),e[t]=n}),ns(is)),Tu=Wa((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),Fe.call(e,t)?e[t].push(n):e[t]=[n]}),ci),Du=Zr(Tr);function Iu(e){return Yo(e)?Zn(e):Pr(e)}function Mu(e){return Yo(e)?Zn(e,!0):zr(e)}var Fu=Ia((function(e,t,n){Vr(e,t,n)})),Ru=Ia((function(e,t,n,r){Vr(e,t,n,r)})),Pu=ri((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=xa(t,e),r||(r=t.length>1),t})),Ta(e,ii(e),n),r&&(n=cr(n,7,ti));for(var a=t.length;a--;)da(n,t[a]);return n}));var zu=ri((function(e,t){return null==e?{}:function(e,t){return qr(e,t,(function(t,n){return Cu(e,n)}))}(e,t)}));function Bu(e,t){if(null==e)return{};var n=Mt(ii(e),(function(e){return[e]}));return t=ci(t),qr(e,n,(function(e,n){return t(e,n[0])}))}var Lu=Za(Iu),Uu=Za(Mu);function Wu(e){return null==e?[]:Qt(e,Iu(e))}var Vu=Pa((function(e,t,n){return t=t.toLowerCase(),e+(n?Hu(t):t)}));function Hu(e){return Ju(xu(e).toLowerCase())}function Gu(e){return(e=xu(e))&&e.replace(Oe,an).replace(et,"")}var qu=Pa((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Xu=Pa((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Yu=Ra("toLowerCase");var Ku=Pa((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var $u=Pa((function(e,t,n){return e+(n?" ":"")+Ju(t)}));var Zu=Pa((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ju=Ra("toUpperCase");function Qu(e,t,n){return e=xu(e),(t=n?i:t)===i?function(e){return at.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var es=Zr((function(e,t){try{return St(e,i,t)}catch(n){return Jo(n)?n:new a(n)}})),ts=ri((function(e,t){return At(t,(function(t){t=zi(t),or(e,t,To(e[t],e))})),e}));function ns(e){return function(){return e}}var rs=La(),as=La(!0);function is(e){return e}function os(e){return Rr("function"==typeof e?e:cr(e,1))}var us=Zr((function(e,t){return function(n){return Tr(n,e,t)}})),ss=Zr((function(e,t){return function(n){return Tr(e,n,t)}}));function cs(e,t,n){var r=Iu(t),a=kr(t,r);null!=n||nu(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=kr(t,Iu(t)));var i=!(nu(n)&&"chain"in n)||!!n.chain,o=Qo(e);return At(a,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),a=n.__actions__=Na(this.__actions__);return a.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ft([this.value()],arguments))})})),e}function ls(){}var fs=Ha(Mt),ds=Ha(Nt),hs=Ha(zt);function ps(e){return wi(e)?qt(zi(e)):function(e){return function(t){return jr(t,e)}}(e)}var vs=qa(),ms=qa(!0);function gs(){return[]}function bs(){return!1}var ys=Va((function(e,t){return e+t}),0),xs=Ka("ceil"),ws=Va((function(e,t){return e/t}),1),Os=Ka("floor");var ks=Va((function(e,t){return e*t}),1),js=Ka("round"),_s=Va((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Ce(o);return e=mu(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Co,Un.assign=wu,Un.assignIn=Ou,Un.assignInWith=ku,Un.assignWith=ju,Un.at=_u,Un.before=No,Un.bind=To,Un.bindAll=ts,Un.bindKey=Do,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qo(e)?e:[e]},Un.chain=po,Un.chunk=function(e,t,r){t=(r?xi(e,t,r):t===i)?1:yn(mu(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,u=0,s=n(ht(a/t));o<a;)s[u++]=aa(e,o,o+=t);return s},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Ft(qo(r)?Na(r):[r],br(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=ci();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Ce(o);return[n(e[0]),e[1]]})):[],Zr((function(n){for(var r=-1;++r<t;){var a=e[r];if(St(a[0],this,n))return St(a[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Iu(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Un.constant=ns,Un.countBy=go,Un.create=function(e,t){var n=Wn(e);return null==t?n:ir(n,t)},Un.curry=function e(t,n,r){var a=Ja(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Un.curryRight=function e(t,n,r){var a=Ja(t,c,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Un.debounce=Io,Un.defaults=Su,Un.defaultsDeep=Eu,Un.defer=Mo,Un.delay=Fo,Un.difference=Ui,Un.differenceBy=Wi,Un.differenceWith=Vi,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?aa(e,(t=n||t===i?1:mu(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?aa(e,0,(t=r-(t=n||t===i?1:mu(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?pa(e,ci(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?pa(e,ci(t,3),!0):[]},Un.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&xi(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=mu(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:mu(r))<0&&(r+=a),r=n>r?0:gu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(qo(e)?Tt:gr)(e,ci(t,3))},Un.flatMap=function(e,t){return br(_o(e,t),1)},Un.flatMapDeep=function(e,t){return br(_o(e,t),p)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:mu(n),br(_o(e,t),n)},Un.flatten=qi,Un.flattenDeep=function(e){return(null==e?0:e.length)?br(e,p):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?br(e,t=t===i?1:mu(t)):[]},Un.flip=function(e){return Ja(e,512)},Un.flow=rs,Un.flowRight=as,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},Un.functions=function(e){return null==e?[]:kr(e,Iu(e))},Un.functionsIn=function(e){return null==e?[]:kr(e,Mu(e))},Un.groupBy=Oo,Un.initial=function(e){return(null==e?0:e.length)?aa(e,0,-1):[]},Un.intersection=Yi,Un.intersectionBy=Ki,Un.intersectionWith=$i,Un.invert=Nu,Un.invertBy=Tu,Un.invokeMap=ko,Un.iteratee=os,Un.keyBy=jo,Un.keys=Iu,Un.keysIn=Mu,Un.map=_o,Un.mapKeys=function(e,t){var n={};return t=ci(t,3),wr(e,(function(e,r,a){or(n,t(e,r,a),e)})),n},Un.mapValues=function(e,t){var n={};return t=ci(t,3),wr(e,(function(e,r,a){or(n,r,t(e,r,a))})),n},Un.matches=function(e){return Ur(cr(e,1))},Un.matchesProperty=function(e,t){return Wr(e,cr(t,1))},Un.memoize=Ro,Un.merge=Fu,Un.mergeWith=Ru,Un.method=us,Un.methodOf=ss,Un.mixin=cs,Un.negate=Po,Un.nthArg=function(e){return e=mu(e),Zr((function(t){return Hr(t,e)}))},Un.omit=Pu,Un.omitBy=function(e,t){return Bu(e,Po(ci(t)))},Un.once=function(e){return No(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(qo(t)||(t=null==t?[]:[t]),qo(n=r?i:n)||(n=null==n?[]:[n]),Gr(e,t,n))},Un.over=fs,Un.overArgs=zo,Un.overEvery=ds,Un.overSome=hs,Un.partial=Bo,Un.partialRight=Lo,Un.partition=So,Un.pick=zu,Un.pickBy=Bu,Un.property=ps,Un.propertyOf=function(e){return function(t){return null==e?i:jr(e,t)}},Un.pull=Ji,Un.pullAll=Qi,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,ci(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,i,n):e},Un.pullAt=eo,Un.range=vs,Un.rangeRight=ms,Un.rearg=Uo,Un.reject=function(e,t){return(qo(e)?Tt:gr)(e,Po(ci(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],i=e.length;for(t=ci(t,3);++r<i;){var o=e[r];t(o,r,e)&&(n.push(o),a.push(r))}return Yr(e,a),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Ce(o);return Zr(e,t=t===i?t:mu(t))},Un.reverse=to,Un.sampleSize=function(e,t,n){return t=(n?xi(e,t,n):t===i)?1:mu(t),(qo(e)?Qn:Qr)(e,t)},Un.set=function(e,t,n){return null==e?e:ea(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ea(e,t,n,r)},Un.shuffle=function(e){return(qo(e)?er:ra)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&xi(e,t,n)?(t=0,n=r):(t=null==t?0:mu(t),n=n===i?r:mu(n)),aa(e,t,n)):[]},Un.sortBy=Eo,Un.sortedUniq=function(e){return e&&e.length?sa(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?sa(e,ci(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&xi(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=xu(e))&&("string"==typeof t||null!=t&&!uu(t))&&!(t=la(t))&&sn(e)?Oa(vn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Ce(o);return t=null==t?0:yn(mu(t),0),Zr((function(n){var r=n[t],a=Oa(n,0,t);return r&&Ft(a,r),St(e,this,a)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?aa(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?aa(e,0,(t=n||t===i?1:mu(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?aa(e,(t=r-(t=n||t===i?1:mu(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?pa(e,ci(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?pa(e,ci(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new Ce(o);return nu(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Io(e,t,{leading:r,maxWait:t,trailing:a})},Un.thru=vo,Un.toArray=pu,Un.toPairs=Lu,Un.toPairsIn=Uu,Un.toPath=function(e){return qo(e)?Mt(e,zi):lu(e)?[e]:Na(Pi(xu(e)))},Un.toPlainObject=yu,Un.transform=function(e,t,n){var r=qo(e),a=r||$o(e)||fu(e);if(t=ci(t,4),null==n){var i=e&&e.constructor;n=a?r?new i:[]:nu(e)&&Qo(i)?Wn(qe(e)):{}}return(a?At:wr)(e,(function(e,r,a){return t(n,e,r,a)})),n},Un.unary=function(e){return Co(e,1)},Un.union=no,Un.unionBy=ro,Un.unionWith=ao,Un.uniq=function(e){return e&&e.length?fa(e):[]},Un.uniqBy=function(e,t){return e&&e.length?fa(e,ci(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fa(e,i,t):[]},Un.unset=function(e,t){return null==e||da(e,t)},Un.unzip=io,Un.unzipWith=oo,Un.update=function(e,t,n){return null==e?e:ha(e,t,ya(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ha(e,t,ya(n),r)},Un.values=Wu,Un.valuesIn=function(e){return null==e?[]:Qt(e,Mu(e))},Un.without=uo,Un.words=Qu,Un.wrap=function(e,t){return Bo(ya(t),e)},Un.xor=so,Un.xorBy=co,Un.xorWith=lo,Un.zip=fo,Un.zipObject=function(e,t){return ga(e||[],t||[],nr)},Un.zipObjectDeep=function(e,t){return ga(e||[],t||[],ea)},Un.zipWith=ho,Un.entries=Lu,Un.entriesIn=Uu,Un.extend=Ou,Un.extendWith=ku,cs(Un,Un),Un.add=ys,Un.attempt=es,Un.camelCase=Vu,Un.capitalize=Hu,Un.ceil=xs,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=bu(n))===n?n:0),t!==i&&(t=(t=bu(t))===t?t:0),sr(bu(e),t,n)},Un.clone=function(e){return cr(e,4)},Un.cloneDeep=function(e){return cr(e,5)},Un.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||lr(e,t,Iu(t))},Un.deburr=Gu,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=ws,Un.endsWith=function(e,t,n){e=xu(e),t=la(t);var r=e.length,a=n=n===i?r:sr(mu(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Un.eq=Wo,Un.escape=function(e){return(e=xu(e))&&J.test(e)?e.replace($,on):e},Un.escapeRegExp=function(e){return(e=xu(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Un.every=function(e,t,n){var r=qo(e)?Nt:vr;return n&&xi(e,t,n)&&(t=i),r(e,ci(t,3))},Un.find=bo,Un.findIndex=Hi,Un.findKey=function(e,t){return Lt(e,ci(t,3),wr)},Un.findLast=yo,Un.findLastIndex=Gi,Un.findLastKey=function(e,t){return Lt(e,ci(t,3),Or)},Un.floor=Os,Un.forEach=xo,Un.forEachRight=wo,Un.forIn=function(e,t){return null==e?e:yr(e,ci(t,3),Mu)},Un.forInRight=function(e,t){return null==e?e:xr(e,ci(t,3),Mu)},Un.forOwn=function(e,t){return e&&wr(e,ci(t,3))},Un.forOwnRight=function(e,t){return e&&Or(e,ci(t,3))},Un.get=Au,Un.gt=Vo,Un.gte=Ho,Un.has=function(e,t){return null!=e&&mi(e,t,Ar)},Un.hasIn=Cu,Un.head=Xi,Un.identity=is,Un.includes=function(e,t,n,r){e=Yo(e)?e:Wu(e),n=n&&!r?mu(n):0;var a=e.length;return n<0&&(n=yn(a+n,0)),cu(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Wt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:mu(n);return a<0&&(a=yn(r+a,0)),Wt(e,t,a)},Un.inRange=function(e,t,n){return t=vu(t),n===i?(n=t,t=0):n=vu(n),function(e,t,n){return e>=xn(t,n)&&e<yn(t,n)}(e=bu(e),t,n)},Un.invoke=Du,Un.isArguments=Go,Un.isArray=qo,Un.isArrayBuffer=Xo,Un.isArrayLike=Yo,Un.isArrayLikeObject=Ko,Un.isBoolean=function(e){return!0===e||!1===e||ru(e)&&Sr(e)==w},Un.isBuffer=$o,Un.isDate=Zo,Un.isElement=function(e){return ru(e)&&1===e.nodeType&&!ou(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Yo(e)&&(qo(e)||"string"==typeof e||"function"==typeof e.splice||$o(e)||fu(e)||Go(e)))return!e.length;var t=vi(e);if(t==S||t==T)return!e.size;if(ji(e))return!Pr(e).length;for(var n in e)if(Fe.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Ir(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Ir(e,t,i,n):!!r},Un.isError=Jo,Un.isFinite=function(e){return"number"==typeof e&&yt(e)},Un.isFunction=Qo,Un.isInteger=eu,Un.isLength=tu,Un.isMap=au,Un.isMatch=function(e,t){return e===t||Mr(e,t,fi(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Mr(e,t,fi(t),n)},Un.isNaN=function(e){return iu(e)&&e!=+e},Un.isNative=function(e){if(ki(e))throw new a("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Fr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=iu,Un.isObject=nu,Un.isObjectLike=ru,Un.isPlainObject=ou,Un.isRegExp=uu,Un.isSafeInteger=function(e){return eu(e)&&e>=-9007199254740991&&e<=v},Un.isSet=su,Un.isString=cu,Un.isSymbol=lu,Un.isTypedArray=fu,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ru(e)&&vi(e)==M},Un.isWeakSet=function(e){return ru(e)&&"[object WeakSet]"==Sr(e)},Un.join=function(e,t){return null==e?"":Bt.call(e,t)},Un.kebabCase=qu,Un.last=Zi,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=mu(n))<0?yn(r+a,0):xn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Ut(e,Ht,a,!0)},Un.lowerCase=Xu,Un.lowerFirst=Yu,Un.lt=du,Un.lte=hu,Un.max=function(e){return e&&e.length?mr(e,is,Er):i},Un.maxBy=function(e,t){return e&&e.length?mr(e,ci(t,2),Er):i},Un.mean=function(e){return Gt(e,is)},Un.meanBy=function(e,t){return Gt(e,ci(t,2))},Un.min=function(e){return e&&e.length?mr(e,is,Br):i},Un.minBy=function(e,t){return e&&e.length?mr(e,ci(t,2),Br):i},Un.stubArray=gs,Un.stubFalse=bs,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=ks,Un.nth=function(e,t){return e&&e.length?Hr(e,mu(t)):i},Un.noConflict=function(){return pt._===this&&(pt._=Le),this},Un.noop=ls,Un.now=Ao,Un.pad=function(e,t,n){e=xu(e);var r=(t=mu(t))?pn(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return Ga(vt(a),n)+e+Ga(ht(a),n)},Un.padEnd=function(e,t,n){e=xu(e);var r=(t=mu(t))?pn(e):0;return t&&r<t?e+Ga(t-r,n):e},Un.padStart=function(e,t,n){e=xu(e);var r=(t=mu(t))?pn(e):0;return t&&r<t?Ga(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),On(xu(e).replace(ue,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&xi(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vu(e),t===i?(t=e,e=0):t=vu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=kn();return xn(e+a*(t-e+lt("1e-"+((a+"").length-1))),t)}return Kr(e,t)},Un.reduce=function(e,t,n){var r=qo(e)?Rt:Yt,a=arguments.length<3;return r(e,ci(t,4),n,a,hr)},Un.reduceRight=function(e,t,n){var r=qo(e)?Pt:Yt,a=arguments.length<3;return r(e,ci(t,4),n,a,pr)},Un.repeat=function(e,t,n){return t=(n?xi(e,t,n):t===i)?1:mu(t),$r(xu(e),t)},Un.replace=function(){var e=arguments,t=xu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,a=(t=xa(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[zi(t[r])];o===i&&(r=a,o=n),e=Qo(o)?o.call(e):o}return e},Un.round=js,Un.runInContext=e,Un.sample=function(e){return(qo(e)?Jn:Jr)(e)},Un.size=function(e){if(null==e)return 0;if(Yo(e))return cu(e)?pn(e):e.length;var t=vi(e);return t==S||t==T?e.size:Pr(e).length},Un.snakeCase=Ku,Un.some=function(e,t,n){var r=qo(e)?zt:ia;return n&&xi(e,t,n)&&(t=i),r(e,ci(t,3))},Un.sortedIndex=function(e,t){return oa(e,t)},Un.sortedIndexBy=function(e,t,n){return ua(e,t,ci(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oa(e,t);if(r<n&&Wo(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return oa(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return ua(e,t,ci(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oa(e,t,!0)-1;if(Wo(e[n],t))return n}return-1},Un.startCase=$u,Un.startsWith=function(e,t,n){return e=xu(e),n=null==n?0:sr(mu(n),0,e.length),t=la(t),e.slice(n,n+t.length)==t},Un.subtract=_s,Un.sum=function(e){return e&&e.length?Kt(e,is):0},Un.sumBy=function(e,t){return e&&e.length?Kt(e,ci(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&xi(e,t,n)&&(t=i),e=xu(e),t=ku({},t,r,Qa);var o,u,s=ku({},t.imports,r.imports,Qa),c=Iu(s),l=Qt(s,c),f=0,d=t.interpolate||ke,h="__p += '",p=Ee((t.escape||ke).source+"|"+d.source+"|"+(d===te?ve:ke).source+"|"+(t.evaluate||ke).source+"|$","g"),v="//# sourceURL="+(Fe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(p,(function(t,n,r,a,i,s){return r||(r=a),h+=e.slice(f,s).replace(je,un),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),i&&(u=!0,h+="';\n"+i+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=s+t.length,t})),h+="';\n";var m=Fe.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new a("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(u?h.replace(q,""):h).replace(X,"$1").replace(Y,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=es((function(){return se(c,v+"return "+h).apply(i,l)}));if(g.source=h,Jo(g))throw g;return g},Un.times=function(e,t){if((e=mu(e))<1||e>v)return[];var n=g,r=xn(e,g);t=ci(t),e-=g;for(var a=$t(r,t);++n<e;)t(n);return a},Un.toFinite=vu,Un.toInteger=mu,Un.toLength=gu,Un.toLower=function(e){return xu(e).toLowerCase()},Un.toNumber=bu,Un.toSafeInteger=function(e){return e?sr(mu(e),-9007199254740991,v):0===e?e:0},Un.toString=xu,Un.toUpper=function(e){return xu(e).toUpperCase()},Un.trim=function(e,t,n){if((e=xu(e))&&(n||t===i))return Zt(e);if(!e||!(t=la(t)))return e;var r=vn(e),a=vn(t);return Oa(r,tn(r,a),nn(r,a)+1).join("")},Un.trimEnd=function(e,t,n){if((e=xu(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=la(t)))return e;var r=vn(e);return Oa(r,0,nn(r,vn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=xu(e))&&(n||t===i))return e.replace(ue,"");if(!e||!(t=la(t)))return e;var r=vn(e);return Oa(r,tn(r,vn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(nu(t)){var a="separator"in t?t.separator:a;n="length"in t?mu(t.length):n,r="omission"in t?la(t.omission):r}var o=(e=xu(e)).length;if(sn(e)){var u=vn(e);o=u.length}if(n>=o)return e;var s=n-pn(r);if(s<1)return r;var c=u?Oa(u,0,s).join(""):e.slice(0,s);if(a===i)return c+r;if(u&&(s+=c.length-s),uu(a)){if(e.slice(s).search(a)){var l,f=c;for(a.global||(a=Ee(a.source,xu(me.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var d=l.index;c=c.slice(0,d===i?s:d)}}else if(e.indexOf(la(a),s)!=s){var h=c.lastIndexOf(a);h>-1&&(c=c.slice(0,h))}return c+r},Un.unescape=function(e){return(e=xu(e))&&Z.test(e)?e.replace(K,gn):e},Un.uniqueId=function(e){var t=++Re;return xu(e)+t},Un.upperCase=Zu,Un.upperFirst=Ju,Un.each=xo,Un.eachRight=wo,Un.first=Xi,cs(Un,function(){var e={};return wr(Un,(function(t,n){Fe.call(Un.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Un.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),At(["drop","take"],(function(e,t){Gn.prototype[e]=function(n){n=n===i?1:yn(mu(n),0);var r=this.__filtered__&&!t?new Gn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ci(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Gn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Gn.prototype[e]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(is)},Gn.prototype.find=function(e){return this.filter(e).head()},Gn.prototype.findLast=function(e){return this.reverse().find(e)},Gn.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new Gn(this):this.map((function(n){return Tr(n,e,t)}))})),Gn.prototype.reject=function(e){return this.filter(Po(ci(e)))},Gn.prototype.slice=function(e,t){e=mu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Gn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=mu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Gn.prototype.toArray=function(){return this.take(g)},wr(Gn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Un[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Un.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Gn,c=u[0],l=s||qo(t),f=function(e){var t=a.apply(Un,Ft([e],u));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var d=this.__chain__,h=!!this.__actions__.length,p=o&&!d,v=s&&!h;if(!o&&l){t=v?t:new Gn(this);var m=e.apply(t,u);return m.__actions__.push({func:vo,args:[f],thisArg:i}),new Hn(m,d)}return p&&v?e.apply(this,u):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(qo(a)?a:[],e)}return this[n]((function(n){return t.apply(qo(n)?n:[],e)}))}})),wr(Gn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Fe.call(Dn,r)||(Dn[r]=[]),Dn[r].push({name:t,func:n})}})),Dn[Ua(i,2).name]=[{name:"wrapper",func:i}],Gn.prototype.clone=function(){var e=new Gn(this.__wrapped__);return e.__actions__=Na(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Na(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Na(this.__views__),e},Gn.prototype.reverse=function(){if(this.__filtered__){var e=new Gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qo(e),r=t<0,a=n?e.length:0,i=function(e,t,n){var r=-1,a=n.length;for(;++r<a;){var i=n[r],o=i.size;switch(i.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=xn(t,e+o);break;case"takeRight":e=yn(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=i.start,u=i.end,s=u-o,c=r?u:o-1,l=this.__iteratees__,f=l.length,d=0,h=xn(s,this.__takeCount__);if(!n||!r&&a==s&&h==s)return va(e,this.__actions__);var p=[];e:for(;s--&&d<h;){for(var v=-1,m=e[c+=t];++v<f;){var g=l[v],b=g.iteratee,y=g.type,x=b(m);if(2==y)m=x;else if(!x){if(1==y)continue e;break e}}p[d++]=m}return p},Un.prototype.at=mo,Un.prototype.chain=function(){return po(this)},Un.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=Li(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Gn){var t=e;return this.__actions__.length&&(t=new Gn(this)),(t=t.reverse()).__actions__.push({func:vo,args:[to],thisArg:i}),new Hn(t,this.__chain__)}return this.thru(to)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return va(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Ze&&(Un.prototype[Ze]=function(){return this}),Un}();pt._=bn,(a=function(){return bn}.call(t,n,t,r))===i||(r.exports=a)}).call(this)}).call(this,n(116),n(146)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({zerosLike_:function(e){var t={x:Object(i.a)(e,"x","zerosLike")};return r.a.runKernel(a.jd,t)}})},function(e,t,n){"use strict";function r(e,t,n){var r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function a(e,t,n){var r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function i(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function o(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function u(e,t,n){return{row:s(e,t),column:c(e,n)}}function s(e,t){if("object"!==typeof t)throw new TypeError("unexpected type for row indices");if(t.some((function(t){return t<0||t>=e.rows})))throw new RangeError("row indices are out of range");return Array.isArray(t)||(t=Array.from(t)),t}function c(e,t){if("object"!==typeof t)throw new TypeError("unexpected type for column indices");if(t.some((function(t){return t<0||t>=e.columns})))throw new RangeError("column indices are out of range");return Array.isArray(t)||(t=Array.from(t)),t}function l(e,t,n,r,a){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(d("startRow",t),d("endRow",n),d("startColumn",r),d("endColumn",a),t>n||r>a||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||a<0||a>=e.columns)throw new RangeError("Submatrix indices are out of range")}function f(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<e;r++)n.push(t);return n}function d(e,t){if("number"!==typeof t)throw new TypeError("".concat(e," must be a number"))}function h(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}n.d(t,"g",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"e",(function(){return h}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return i.a})),n.d(t,"d",(function(){return o.a})),n.d(t,"e",(function(){return u.a})),n.d(t,"f",(function(){return s.a})),n.d(t,"g",(function(){return c.a})),n.d(t,"h",(function(){return l.a})),n.d(t,"i",(function(){return f.a})),n.d(t,"j",(function(){return d.a})),n.d(t,"k",(function(){return h.a})),n.d(t,"l",(function(){return p.a})),n.d(t,"m",(function(){return v.a})),n.d(t,"n",(function(){return m.a})),n.d(t,"o",(function(){return g.a})),n.d(t,"p",(function(){return b.a})),n.d(t,"q",(function(){return y.a})),n.d(t,"r",(function(){return A})),n.d(t,"w",(function(){return C.a})),n.d(t,"s",(function(){return N.a})),n.d(t,"t",(function(){return D})),n.d(t,"u",(function(){return I})),n.d(t,"v",(function(){return M})),n.d(t,"x",(function(){return F.a})),n.d(t,"z",(function(){return R.a})),n.d(t,"A",(function(){return P.a})),n.d(t,"B",(function(){return z.a})),n.d(t,"C",(function(){return B.a})),n.d(t,"D",(function(){return L.a})),n.d(t,"E",(function(){return U.a})),n.d(t,"F",(function(){return W.a})),n.d(t,"G",(function(){return V.a})),n.d(t,"H",(function(){return w.a})),n.d(t,"I",(function(){return H})),n.d(t,"J",(function(){return G})),n.d(t,"K",(function(){return q})),n.d(t,"L",(function(){return X})),n.d(t,"M",(function(){return Y.a})),n.d(t,"N",(function(){return K.a})),n.d(t,"O",(function(){return $.a})),n.d(t,"P",(function(){return Z.a})),n.d(t,"Q",(function(){return Q})),n.d(t,"R",(function(){return ee.a})),n.d(t,"S",(function(){return te.a})),n.d(t,"U",(function(){return ne.a})),n.d(t,"V",(function(){return re.a})),n.d(t,"W",(function(){return ae.a})),n.d(t,"X",(function(){return ie.a})),n.d(t,"Y",(function(){return se})),n.d(t,"Z",(function(){return ce.a})),n.d(t,"ab",(function(){return le.a})),n.d(t,"bb",(function(){return fe.a})),n.d(t,"cb",(function(){return de.a})),n.d(t,"eb",(function(){return he.a})),n.d(t,"fb",(function(){return pe.a})),n.d(t,"hb",(function(){return ve.a})),n.d(t,"ib",(function(){return me.a})),n.d(t,"jb",(function(){return ge.a})),n.d(t,"kb",(function(){return be.a})),n.d(t,"lb",(function(){return ye.a})),n.d(t,"mb",(function(){return Oe})),n.d(t,"ob",(function(){return ke.a})),n.d(t,"pb",(function(){return je.a})),n.d(t,"qb",(function(){return _e.a})),n.d(t,"sb",(function(){return Se.a})),n.d(t,"ub",(function(){return Ee.a})),n.d(t,"vb",(function(){return Ae.a})),n.d(t,"xb",(function(){return Ce.a})),n.d(t,"Bb",(function(){return Ne.a})),n.d(t,"Cb",(function(){return Te.a})),n.d(t,"Db",(function(){return De.a})),n.d(t,"Eb",(function(){return Ie.a})),n.d(t,"Fb",(function(){return Me.a})),n.d(t,"Gb",(function(){return Fe.a})),n.d(t,"Ib",(function(){return Re.a})),n.d(t,"Jb",(function(){return Pe.a})),n.d(t,"Kb",(function(){return ze.a})),n.d(t,"Lb",(function(){return Be.a})),n.d(t,"Mb",(function(){return Le.a})),n.d(t,"Nb",(function(){return Ue.a})),n.d(t,"Ob",(function(){return We.a})),n.d(t,"Pb",(function(){return Ve.a})),n.d(t,"Qb",(function(){return He.a})),n.d(t,"Rb",(function(){return Ge.a})),n.d(t,"Sb",(function(){return qe.a})),n.d(t,"Ub",(function(){return O.a})),n.d(t,"Vb",(function(){return Xe.a})),n.d(t,"Wb",(function(){return Ye.a})),n.d(t,"Xb",(function(){return Ke.a})),n.d(t,"Yb",(function(){return $e.a})),n.d(t,"Zb",(function(){return Ze.a})),n.d(t,"ac",(function(){return Je.a})),n.d(t,"bc",(function(){return tt})),n.d(t,"cc",(function(){return nt.a})),n.d(t,"dc",(function(){return rt.a})),n.d(t,"ec",(function(){return at.a})),n.d(t,"fc",(function(){return it.a})),n.d(t,"gc",(function(){return ct})),n.d(t,"ic",(function(){return k.a})),n.d(t,"jc",(function(){return lt})),n.d(t,"kc",(function(){return ft.a})),n.d(t,"lc",(function(){return dt.a})),n.d(t,"nc",(function(){return ht.a})),n.d(t,"oc",(function(){return pt.a})),n.d(t,"pc",(function(){return Qe.a})),n.d(t,"qc",(function(){return vt.a})),n.d(t,"sc",(function(){return mt})),n.d(t,"tc",(function(){return gt.a})),n.d(t,"uc",(function(){return bt})),n.d(t,"vc",(function(){return yt})),n.d(t,"wc",(function(){return xt})),n.d(t,"xc",(function(){return wt})),n.d(t,"yc",(function(){return Ot.a})),n.d(t,"zc",(function(){return kt.a})),n.d(t,"Ac",(function(){return jt.a})),n.d(t,"Bc",(function(){return _t.a})),n.d(t,"Cc",(function(){return St.a})),n.d(t,"Dc",(function(){return Et})),n.d(t,"Ec",(function(){return Ct})),n.d(t,"Fc",(function(){return Nt})),n.d(t,"Gc",(function(){return Tt.a})),n.d(t,"Hc",(function(){return Dt.a})),n.d(t,"Ic",(function(){return It.a})),n.d(t,"Jc",(function(){return Mt.a})),n.d(t,"Kc",(function(){return Ft.a})),n.d(t,"Lc",(function(){return Rt.a})),n.d(t,"Mc",(function(){return xe.a})),n.d(t,"Nc",(function(){return Pt.a})),n.d(t,"Oc",(function(){return zt})),n.d(t,"Pc",(function(){return Bt})),n.d(t,"Qc",(function(){return Lt})),n.d(t,"Rc",(function(){return Ut})),n.d(t,"Tc",(function(){return Wt.a})),n.d(t,"Uc",(function(){return Vt.a})),n.d(t,"Vc",(function(){return Ht.a})),n.d(t,"Xc",(function(){return Gt.a})),n.d(t,"Yc",(function(){return qt.a})),n.d(t,"Zc",(function(){return Xt.a})),n.d(t,"ad",(function(){return _.a})),n.d(t,"bd",(function(){return Yt.a})),n.d(t,"dd",(function(){return Kt.a})),n.d(t,"ed",(function(){return $t.a})),n.d(t,"fd",(function(){return S.a})),n.d(t,"gd",(function(){return Zt})),n.d(t,"hd",(function(){return Jt})),n.d(t,"id",(function(){return Qt})),n.d(t,"jd",(function(){return en})),n.d(t,"kd",(function(){return tn.a})),n.d(t,"ld",(function(){return nn.a})),n.d(t,"md",(function(){return rn.a})),n.d(t,"nb",(function(){return an.a})),n.d(t,"wb",(function(){return on.a})),n.d(t,"Ab",(function(){return un.a})),n.d(t,"Sc",(function(){return sn.a})),n.d(t,"qd",(function(){return cn.a})),n.d(t,"rd",(function(){return ln.a})),n.d(t,"sd",(function(){return ut.a})),n.d(t,"td",(function(){return fn.a})),n.d(t,"ud",(function(){return dn.a})),n.d(t,"vd",(function(){return hn.a})),n.d(t,"wd",(function(){return pn.a})),n.d(t,"xd",(function(){return vn.a})),n.d(t,"zd",(function(){return st.a})),n.d(t,"Ad",(function(){return mn.a})),n.d(t,"Bd",(function(){return gn.a})),n.d(t,"Cd",(function(){return E.a})),n.d(t,"Dd",(function(){return bn.a})),n.d(t,"Ed",(function(){return yn.a})),n.d(t,"Fd",(function(){return wn})),n.d(t,"Gd",(function(){return On.a})),n.d(t,"Hd",(function(){return kn})),n.d(t,"Id",(function(){return jn})),n.d(t,"Jd",(function(){return _n})),n.d(t,"Kd",(function(){return we.a})),n.d(t,"Ld",(function(){return Sn.a})),n.d(t,"Nd",(function(){return En.a})),n.d(t,"Od",(function(){return An.a})),n.d(t,"Pd",(function(){return Cn.a})),n.d(t,"Qd",(function(){return Nn.a})),n.d(t,"Rd",(function(){return Tn})),n.d(t,"Sd",(function(){return Dn.a})),n.d(t,"Td",(function(){return In.a})),n.d(t,"Ud",(function(){return Mn.a})),n.d(t,"Vd",(function(){return Fn.a})),n.d(t,"y",(function(){return Ln})),n.d(t,"Md",(function(){return Un.a})),n.d(t,"mc",(function(){return Wn.a})),n.d(t,"hc",(function(){return Hn})),n.d(t,"Wc",(function(){return Gn.a})),n.d(t,"od",(function(){return qn.a})),n.d(t,"tb",(function(){return Xn.a})),n.d(t,"db",(function(){return Yn})),n.d(t,"gb",(function(){return Kn})),n.d(t,"T",(function(){return $n})),n.d(t,"zb",(function(){return Jn})),n.d(t,"rc",(function(){return j.b})),n.d(t,"a",(function(){return j.a})),n.d(t,"yb",(function(){return ua})),n.d(t,"Hb",(function(){return sa})),n.d(t,"Tb",(function(){return ca})),n.d(t,"pd",(function(){return ia})),n.d(t,"rb",(function(){return r})),n.d(t,"cd",(function(){return oa})),n.d(t,"nd",(function(){return la})),n.d(t,"yd",(function(){return fa}));var r={};n.r(r),n.d(r,"conv2d",(function(){return or})),n.d(r,"depthwiseConv2d",(function(){return cr})),n.d(r,"matMul",(function(){return lr}));var a=n(92),i=n(491),o=n(492),u=n(39),s=n(493),c=n(331),l=n(332),f=n(333),d=n(334),h=n(494),p=n(495),v=n(496),m=n(335),g=n(497),b=n(243),y=n(498),x=n(9),w=n(75),O=n(61),k=n(24),j=n(13),_=n(137),S=n(64),E=n(291);var A=Object(j.b)({basicLSTMCell_:function(e,t,n,r,a,i){var o=Object(x.a)(e,"forgetBias","basicLSTMCell"),s=Object(x.a)(t,"lstmKernel","basicLSTMCell"),c=Object(x.a)(n,"lstmBias","basicLSTMCell"),l=Object(x.a)(r,"data","basicLSTMCell"),f=Object(x.a)(a,"c","basicLSTMCell"),d=Object(x.a)(i,"h","basicLSTMCell"),h=Object(w.a)([l,d],1),p=Object(O.a)(h,s),v=Object(u.a)(p,c),m=v.shape[0],g=v.shape[1]/4,b=[m,g],y=Object(S.a)(v,[0,0],b),j=Object(S.a)(v,[0,g],b),A=Object(S.a)(v,[0,2*g],b),C=Object(S.a)(v,[0,3*g],b),N=Object(u.a)(Object(k.a)(Object(_.a)(y),Object(E.a)(j)),Object(k.a)(f,Object(_.a)(Object(u.a)(o,A))));return[N,Object(k.a)(Object(E.a)(N),Object(_.a)(C))]}}),C=n(191),N=n(162),T=n(23);var D=Object(j.b)({batchNorm2d_:function(e,t,n,r,a,i){var o,u,s=Object(x.a)(e,"x","batchNorm"),c=Object(x.a)(t,"mean","batchNorm"),l=Object(x.a)(n,"variance","batchNorm");return null!=a&&(o=Object(x.a)(a,"scale","batchNorm")),null!=r&&(u=Object(x.a)(r,"offset","batchNorm")),T.b(2===s.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(s.rank,".")})),T.b(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(c.rank,".")})),T.b(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&T.b(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=u&&T.b(2===u.rank||1===u.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,".")})),Object(N.a)(s,c,l,u,o,i)}});var I=Object(j.b)({batchNorm3d_:function(e,t,n,r,a,i){var o,u,s=Object(x.a)(e,"x","batchNorm"),c=Object(x.a)(t,"mean","batchNorm"),l=Object(x.a)(n,"variance","batchNorm");return null!=a&&(o=Object(x.a)(a,"scale","batchNorm")),null!=r&&(u=Object(x.a)(r,"offset","batchNorm")),T.b(3===s.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(s.rank,".")})),T.b(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(c.rank,".")})),T.b(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&T.b(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=u&&T.b(3===u.rank||1===u.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,".")})),Object(N.a)(s,c,l,u,o,i)}});var M=Object(j.b)({batchNorm4d_:function(e,t,n,r,a,i){var o,u,s=Object(x.a)(e,"x","batchNorm"),c=Object(x.a)(t,"mean","batchNorm"),l=Object(x.a)(n,"variance","batchNorm");return null!=a&&(o=Object(x.a)(a,"scale","batchNorm")),null!=r&&(u=Object(x.a)(r,"offset","batchNorm")),T.b(4===s.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(s.rank,".")})),T.b(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(c.rank,".")})),T.b(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&T.b(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=u&&T.b(4===u.rank||1===u.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,".")})),Object(N.a)(s,c,l,u,o,i)}}),F=n(336),R=n(499),P=n(202),z=n(100),B=n(35),L=n(500),U=n(501),W=n(136),V=n(121);var H=Object(j.b)({concat1d_:function(e){return Object(w.a)(e,0)}});var G=Object(j.b)({concat2d_:function(e,t){return Object(w.a)(e,t)}});var q=Object(j.b)({concat3d_:function(e,t){return Object(w.a)(e,t)}});var X=Object(j.b)({concat4d_:function(e,t){return Object(w.a)(e,t)}}),Y=n(337),K=n(134),$=n(338),Z=n(502),J=n(380);var Q=Object(j.b)({conv3dTranspose_:function(e,t,n,r,a){var i=Object(x.a)(e,"x","conv3dTranspose"),o=Object(x.a)(t,"filter","conv3dTranspose");return Object(J.a)(n,i,o,r,a)}}),ee=n(244),te=n(339),ne=n(245),re=n(503),ae=n(340),ie=n(192),oe=n(14),ue=n(10);var se=Object(j.b)({diag_:function(e){var t={x:Object(x.a)(e,"x","diag")};return oe.a.runKernel(ue.S,t)}}),ce=n(341),le=n(41),fe=n(342),de=n(343),he=n(504),pe=n(246),ve=n(193),me=n(505),ge=n(89),be=n(126),ye=n(506),xe=n(21),we=n(138);var Oe=Object(j.b)({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var a=Object(z.a)([e,t],r),i=e<=t?e:t,o=0;o<i;++o)a.set(1,o,o);var u=Object(xe.a)(a.toTensor(),[e,t]);if(null==n)return u;if(1===n.length)return Object(we.a)(Object(be.a)(u,0),[n[0],1,1]);if(2===n.length)return Object(we.a)(Object(be.a)(Object(be.a)(u,0),0),[n[0],n[1],1,1]);if(3===n.length)return Object(we.a)(Object(be.a)(Object(be.a)(Object(be.a)(u,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}}),ke=n(189),je=n(247),_e=n(242),Se=n(194),Ee=n(90),Ae=n(135),Ce=n(248),Ne=n(507),Te=n(508),De=n(509),Ie=n(249),Me=n(250),Fe=n(117),Re=n(510),Pe=n(344),ze=n(151),Be=n(345),Le=n(511),Ue=n(512),We=n(251),Ve=n(122),He=n(195),Ge=n(252),qe=n(347),Xe=n(139),Ye=n(253),Ke=n(513),$e=n(514),Ze=n(190),Je=n(178),Qe=n(112),et=n(20);function tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.indexing,a=void 0===r?"xy":r;if("xy"!==a&&"ij"!==a)throw new TypeError("".concat(a," is not a valid third argument to meshgrid"));if(void 0===e)return[];var i=Object(x.a)(e,"x","meshgrid",e instanceof et.a?e.dtype:"float32");if(void 0===t)return[i];var o=Object(x.a)(t,"y","meshgrid",t instanceof et.a?t.dtype:"float32"),u=Object(T.O)(i.shape),s=Object(T.O)(o.shape);return"xy"===a?(i=Object(xe.a)(i,[1,-1]),o=Object(xe.a)(o,[-1,1]),[Object(O.a)(Object(Qe.a)([s,1],i.dtype),i),Object(O.a)(o,Object(Qe.a)([1,u],o.dtype))]):(i=Object(xe.a)(i,[-1,1]),o=Object(xe.a)(o,[1,-1]),[Object(O.a)(i,Object(Qe.a)([1,s],i.dtype)),Object(O.a)(Object(Qe.a)([u,1],o.dtype),o)])}var nt=n(215),rt=n(254),at=n(348),it=n(349),ot=n(88),ut=n(63),st=n(40);var ct=Object(j.b)({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=Object(x.a)(e,"x","moments");var r=Object(T.I)(t,e.shape),a=Object(Je.a)(e,r,n),i=a.shape;n||(i=Object(ot.e)(a.shape,r));var o=Object(ut.a)(Object(st.a)(Object(B.a)(e,"float32"),Object(xe.a)(a,i))),u=Object(Je.a)(o,r,n);return{mean:a,variance:u}}});var lt=Object(j.b)({multiRNNCell_:function(e,t,n,r){for(var a=Object(x.a)(t,"data","multiRNNCell"),i=Object(x.b)(n,"c","multiRNNCell"),o=Object(x.b)(r,"h","multiRNNCell"),u=a,s=[],c=0;c<e.length;c++){var l=e[c](u,i[c],o[c]);s.push(l[0]),s.push(l[1]),u=l[1]}for(var f=[],d=[],h=0;h<s.length;h+=2)f.push(s[h]),d.push(s[h+1]);return[f,d]}}),ft=n(515),dt=n(69),ht=n(255),pt=n(216),vt=n(516);var mt=Object(j.b)({outerProduct_:function(e,t){var n=Object(x.a)(e,"v1","outerProduct"),r=Object(x.a)(t,"v2","outerProduct");T.b(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=Object(xe.a)(n,[-1,1]),i=Object(xe.a)(r,[1,-1]);return Object(O.a)(a,i)}}),gt=n(118);var bt=Object(j.b)({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(T.b)(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),Object(gt.a)(e,[t],n)}});var yt=Object(j.b)({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(T.b)(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Object(gt.a)(e,t,n)}});var xt=Object(j.b)({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(T.b)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Object(gt.a)(e,t,n)}});var wt=Object(j.b)({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(T.b)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Object(gt.a)(e,t,n)}}),Ot=n(350),kt=n(111),jt=n(256),_t=n(330),St=n(351);var Et=Object(j.b)({rand_:function(e,t,n){var r=Object(T.O)(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(var i=0;i<r;i++)a[i]=t();return oe.a.makeTensor(a,e,n)}}),At=n(203);var Ct=Object(j.b)({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var i=new At.b(t,n,r,a),o=Object(z.a)(e,r),u=0;u<o.values.length;u++)o.values[u]=i.nextValue();return o.toTensor()}});var Nt=Object(j.b)({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var i=new At.a(t,n,r,!1,a),o=Object(z.a)(e,r),u=0;u<o.values.length;u++)o.values[u]=i.nextValue();return o.toTensor()}}),Tt=n(352),Dt=n(204),It=n(217),Mt=n(517),Ft=n(159),Rt=n(257),Pt=n(101);var zt=Object(j.b)({reverse1d_:function(e){var t=Object(x.a)(e,"x","reverse");return T.b(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),Object(Pt.a)(t,0)}});var Bt=Object(j.b)({reverse2d_:function(e,t){var n=Object(x.a)(e,"x","reverse");return T.b(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),Object(Pt.a)(n,t)}});var Lt=Object(j.b)({reverse3d_:function(e,t){var n=Object(x.a)(e,"x","reverse");return T.b(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),Object(Pt.a)(n,t)}});var Ut=Object(j.b)({reverse4d_:function(e,t){var n=Object(x.a)(e,"x","reverse");return T.b(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),Object(Pt.a)(n,t)}}),Wt=n(353),Vt=n(354),Ht=n(46),Gt=n(355),qt=n(356),Xt=n(518),Yt=n(519),Kt=n(357),$t=n(358);var Zt=Object(j.b)({slice1d_:function(e,t,n){var r=Object(x.a)(e,"x","slice1d");return T.b(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),Object(S.a)(r,[t],[n])}});var Jt=Object(j.b)({slice2d_:function(e,t,n){var r=Object(x.a)(e,"x","slice2d");return T.b(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),Object(S.a)(r,t,n)}});var Qt=Object(j.b)({slice3d_:function(e,t,n){var r=Object(x.a)(e,"x","slice3d");return T.b(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),Object(S.a)(r,t,n)}});var en=Object(j.b)({slice4d_:function(e,t,n){var r=Object(x.a)(e,"x","slice4d");return T.b(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),Object(S.a)(r,t,n)}}),tn=n(520),nn=n(346),rn=n(196),an=n(258),on=n(218),un=n(359),sn=n(259),cn=n(123),ln=n(85),fn=n(260),dn=n(197),hn=n(124),pn=n(160),vn=n(521),mn=n(43),gn=n(522),bn=n(165),yn=n(104),xn=n(106);function wn(e,t,n){if(Object(T.d)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Object(x.c)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Object(xn.a)(e,t,r,n)}var On=n(360);function kn(e,t,n){if(Object(T.d)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Object(x.c)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Object(xn.a)(e,t,r,n)}function jn(e,t,n){if(Object(T.d)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Object(x.c)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Object(xn.a)(e,t,r,n)}function _n(e,t,n){if(Object(T.d)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Object(x.c)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,Object(xn.a)(e,t,r,n)}var Sn=n(361),En=n(523),An=n(362),Cn=n(261),Nn=n(161);function Tn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return oe.a.makeVariable(e,t,n,r)}var Dn=n(79),In=n(363),Mn=n(158),Fn=n(49),Rn=n(19),Pn=n(7),zn=n.n(Pn);function Bn(){return(Bn=Object(Rn.a)(zn.a.mark((function e(t,n,r){var a,i,o,u,s,c,l,f,d,h,p,v,m;return zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=Object(x.a)(t,"tensor","boolMask"),i=Object(x.a)(n,"mask","boolMask","bool"),o=null==r?0:r,u=i.rank,s=a.shape,T.b(u>0,(function(){return"mask cannot be scalar"})),T.e(s.slice(o,o+u),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,l=o;l<o+u;l++)c*=s[l];return f=s.slice(0,o).concat([c],s.slice(o+u)),d=Object(xe.a)(a,f),h=Object(xe.a)(i,[-1]),e.next=14,Object(In.a)(h);case 14:return p=e.sent,v=Object(dn.a)(p,[1]),m=Object(Se.a)(d,v,o),t!==a&&a.dispose(),n!==i&&i.dispose(),v.dispose(),d.dispose(),h.dispose(),p.dispose(),e.abrupt("return",m);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ln=function(e,t,n){return Bn.apply(this,arguments)},Un=n(107),Wn=n(262),Vn=n(55);var Hn=Object(j.b)({movingAverage_:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=Object(x.a)(e,"v","movingAverage"),o=Object(x.a)(t,"x","movingAverage"),s=Object(x.a)(n,"decay","movingAverage");Object(Vn.assertTypesMatch)(i,o),T.b(T.a(i.shape,o.shape),(function(){return"Shape mismatch in v and x"}));var c=Object(Ht.a)(1),l=Object(st.a)(c,s),f=Object(k.a)(Object(st.a)(o,i),l);if(a){T.b(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var d=Object(x.a)(r,"step","movingAverage");f=Object(le.a)(f,Object(st.a)(c,Object(kt.a)(s,d)))}return Object(u.a)(i,f)}}),Gn=n(524),qn=n(562),Xn=n(525);var Yn=Object(j.b)({dropout_:function(e,t,n,r){var a=Object(x.a)(e,"x","dropout");if(T.b("float32"===a.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")})),T.b(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof et.a?a.clone():a;var i=function(e,t){if(null==t)return e.shape.slice();if(T.a(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),o=1-t,s=Object(le.a)(Object(je.a)(Object(u.a)(Object(Tt.a)(i,0,1,"float32",r),o)),o);return Object(k.a)(a,s)}});function Kn(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function $n(e,t,n){for(var r=1-e%2,a=new Float32Array(e),i=0;i<e;++i){var o=2*Math.PI*i/(e+r-1);a[i]=t-n*Math.cos(o)}return Object(yn.a)(a,"float32")}function Zn(){return Zn=Object(Rn.a)(zn.a.mark((function e(t,n){var r,a,i,o,u,s,c,l,f,d,h,p,v,m,g,b=arguments;return zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.length>2&&void 0!==b[2]?b[2]:1,a=Object(x.a)(t,"predictions","inTopK"),i=Object(x.a)(n,"targets","inTopK"),Object(T.b)(a.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(a.rank)})),Object(T.b)(a.rank-1===i.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(a.rank," and targets rank ").concat(i.rank)})),Object(T.e)(a.shape.slice(0,a.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=a.shape[a.shape.length-1],Object(T.b)(r>0&&r<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(r)})),e.next=10,a.data();case 10:return u=e.sent,e.next=13,i.data();case 13:s=e.sent,c=u.length/o,l=o,f=Object(T.o)("bool",c),d=0;case 17:if(!(d<c)){e.next=35;break}for(h=d*l,p=u.subarray(h,h+l),v=[],m=0;m<p.length;m++)v.push({value:p[m],index:m});v.sort((function(e,t){return t.value-e.value})),f[d]=0,g=0;case 25:if(!(g<r)){e.next=32;break}if(v[g].index!==s[d]){e.next=29;break}return f[d]=1,e.abrupt("break",32);case 29:g++,e.next=25;break;case 32:d++,e.next=17;break;case 35:return t!==a&&a.dispose(),n!==i&&i.dispose(),e.abrupt("return",Object(bn.a)(f,i.shape,"bool"));case 38:case"end":return e.stop()}}),e)}))),Zn.apply(this,arguments)}var Jn=function(e,t){return Zn.apply(this,arguments)},Qn=n(6),er=n(83),tr=n(42),nr=n(268),rr=n(265),ar=n(56),ir=n(93);var or=Object(j.b)({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=void 0===i?"NHWC":i,s=e.dilations,c=void 0===s?[1,1]:s,l=e.dimRoundingMode,f=e.bias,d=e.activation,h=void 0===d?"linear":d,p=e.preluActivationWeights,v=e.leakyreluAlpha;if(h=h||"linear",!1===Object(ir.d)(oe.a.state.gradientDepth,h)){var m=Object(K.a)(t,n,r,a,o,c,l);return null!=f&&(m=Object(u.a)(m,f)),Object(ir.a)(m,h,p,v)}var g=Object(x.a)(t,"x","conv2d","float32"),b=Object(x.a)(n,"filter","conv2d","float32"),y=g,w=!1;3===g.rank&&(w=!0,y=Object(xe.a)(g,[1,g.shape[0],g.shape[1],g.shape[2]])),T.b(4===y.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(y.rank,".")})),T.b(4===b.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(b.rank,".")})),ar.a("fused conv2d",a,l),T.b(y.shape[3]===b.shape[2],(function(){return"Error in conv2d: depth of input (".concat(y.shape[3],") must match ")+"input depth for filter ".concat(b.shape[2],".")})),T.b(ar.i(r,c),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(c,"'")})),T.b("NHWC"===o,(function(){return"Error in conv2d: got dataFormat of ".concat(o," but only NHWC is currently supported.")}));var O,k,j=ar.b(y.shape,b.shape,r,c,a,l);if(null!=f){O=Object(x.a)(f,"bias","fused conv2d");var _=Object(Vn.makeTypesMatch)(O,g);O=Object(Qn.a)(_,1)[0],tr.assertAndGetBroadcastShape(j.outShape,O.shape)}null!=p&&(k=Object(x.a)(p,"prelu weights","fused conv2d"));var S=function(e,t){var n=Object(Qn.a)(t,4),i=n[0],o=n[1],u=n[2],s=n[3],l=Object(ir.c)(e,u,h);T.b(ar.j(c),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(c,"'")}));var f=[Object(rr.a)(o.shape,l,i,r,a),Object(nr.a)(o,l,i.shape,r,a)];if(null!=s){var d=Object(ir.b)(s,l);f.push(d)}return f},E={x:y,filter:b,bias:O,preluActivationWeights:k},A={strides:r,pad:a,dataFormat:o,dilations:c,dimRoundingMode:l,activation:h,leakyreluAlpha:v};if(null==f){var C=Object(er.a)((function(e,t,n){var r=oe.a.runKernel(ue.lb,E,A);return n([t,e,r]),w&&(r=Object(xe.a)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:S}}));return C(y,b)}var N=Object(er.a)((function(e,t,n,r){var a=oe.a.runKernel(ue.lb,E,A);return r([t,e,a,n]),w&&(a=Object(xe.a)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:S}}));return N(y,b,O)}}),ur=n(384),sr=n(383);var cr=Object(j.b)({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=void 0===i?"NHWC":i,s=e.dilations,c=void 0===s?[1,1]:s,l=e.dimRoundingMode,f=e.bias,d=e.activation,h=void 0===d?"linear":d,p=e.preluActivationWeights,v=e.leakyreluAlpha;if(!1===Object(ir.d)(oe.a.state.gradientDepth,h)){var m=Object(ie.a)(t,n,r,a,o,c,l);return null!=f&&(m=Object(u.a)(m,f)),Object(ir.a)(m,h,p,v)}var g=Object(x.a)(t,"x","depthwiseConv2d","float32"),b=Object(x.a)(n,"filter","depthwiseConv2d","float32"),y=g,w=!1;3===g.rank&&(w=!0,y=Object(xe.a)(g,[1,g.shape[0],g.shape[1],g.shape[2]])),T.b(4===y.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(y.rank,".")})),T.b(4===b.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(b.rank,".")})),T.b(y.shape[3]===b.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(y.shape[3],") must match the inChannels dimension in ")+"filter ".concat(b.shape[2],".")})),null==c&&(c=[1,1]),T.b(ar.i(r,c),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(c,"'")})),ar.a("fused depthwiseConv2d",a,l);var O,k,j=ar.b(y.shape,b.shape,r,c,a,l,!0);if(null!=f){O=Object(x.a)(f,"bias","fused conv2d");var _=Object(Vn.makeTypesMatch)(O,g),S=Object(Qn.a)(_,1);O=S[0],tr.assertAndGetBroadcastShape(j.outShape,O.shape)}null!=p&&(k=Object(x.a)(p,"prelu weights","fused depthwiseConv2d"));var E=function(e,t){T.b(ar.j(c),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(c,"'")}));var n=Object(Qn.a)(t,4),i=n[0],o=n[1],u=n[2],s=n[3],f=Object(ir.c)(e,u,h),d=Object(sr.a)(o.shape,f,i,r,a,c,l),p=Object(ur.a)(o,f,i.shape,r,a,c,l);return null!=s?[d,p,Object(ir.b)(O,f)]:[d,p]},A={x:y,filter:b,bias:O,preluActivationWeights:k},C={strides:r,pad:a,dataFormat:o,dilations:c,dimRoundingMode:l,activation:h,leakyreluAlpha:v};if(null==f){var N=Object(er.a)((function(e,t,n){var r=oe.a.runKernel(ue.mb,A,C);return n([t,e,r]),w&&(r=Object(xe.a)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:E}}));return N(y,b)}var D=Object(er.a)((function(e,t,n,r){var a=oe.a.runKernel(ue.mb,A,C);return r([t,e,a,n]),w&&(a=Object(xe.a)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:E}}));return D(y,b,O)}});var lr=Object(j.b)({fusedMatMul_:function(e){var t=e.a,n=e.b,r=e.transposeA,a=void 0!==r&&r,i=e.transposeB,o=void 0!==i&&i,s=e.bias,c=e.activation,l=void 0===c?"linear":c,f=e.preluActivationWeights,d=e.leakyreluAlpha;if(!1===Object(ir.d)(oe.a.state.gradientDepth,l)){var h=Object(O.a)(t,n,a,o);return null!=s&&(h=Object(u.a)(h,s)),Object(ir.a)(h,l,f,d)}var p=Object(x.a)(t,"a","fused matMul"),v=Object(x.a)(n,"b","fused matMul"),m=Object(Vn.makeTypesMatch)(p,v),g=Object(Qn.a)(m,2);p=g[0],v=g[1];var b=a?p.shape[p.rank-2]:p.shape[p.rank-1],y=o?v.shape[v.rank-1]:v.shape[v.rank-2],w=a?p.shape[p.rank-1]:p.shape[p.rank-2],k=o?v.shape[v.rank-2]:v.shape[v.rank-1],j=p.shape.slice(0,-2),_=v.shape.slice(0,-2),S=T.O(j),E=T.O(_);T.b(b===y,(function(){return"Error in fused matMul: inner shapes (".concat(b,") and (")+"".concat(y,") of Tensors with shapes ").concat(p.shape," and ")+"".concat(v.shape," and transposeA=").concat(a)+" and transposeB=".concat(o," must match.")}));var A,C,N=tr.assertAndGetBroadcastShape(p.shape.slice(0,-2),v.shape.slice(0,-2)).concat([w,k]),D=a?Object(xe.a)(p,[S,b,w]):Object(xe.a)(p,[S,w,b]),I=o?Object(xe.a)(v,[E,k,y]):Object(xe.a)(v,[E,y,k]);if(null!=s){A=Object(x.a)(s,"bias","fused matMul");var M=Object(Vn.makeTypesMatch)(A,p);A=Object(Qn.a)(M,1)[0],tr.assertAndGetBroadcastShape(N,A.shape)}null!=f&&(C=Object(x.a)(f,"prelu weights","fused matMul"));var F=function(e,t){var n,r,i=Object(Qn.a)(t,4),u=i[0],c=i[1],f=i[2],d=i[3],h=Object(ir.c)(Object(xe.a)(e,f.shape),f,l);return a||o?!a&&o?(n=Object(O.a)(h,c,!1,!1),r=Object(O.a)(h,u,!0,!1)):a&&!o?(n=Object(O.a)(c,h,!1,!0),r=Object(O.a)(u,h,!1,!1)):(n=Object(O.a)(c,h,!0,!0),r=Object(O.a)(h,u,!0,!0)):(n=Object(O.a)(h,c,!1,!0),r=Object(O.a)(u,h,!0,!1)),null!=s?[n,r,Object(ir.b)(d,h)]:[n,r]},R={a:D,b:I,bias:A,preluActivationWeights:C},P={transposeA:a,transposeB:o,activation:l,leakyreluAlpha:d};if(null==s){var z=Object(er.a)((function(e,t,n){var r=oe.a.runKernel(ue.kd,R,P);return n([e,t,r]),{value:Object(xe.a)(r,N),gradFunc:F}}));return z(D,I)}var B=Object(er.a)((function(e,t,n,r){var a=oe.a.runKernel(ue.kd,R,P);return r([e,t,a,n]),{value:Object(xe.a)(a,N),gradFunc:F}}));return B(D,I,A)}});var fr=Object(j.b)({hammingWindow_:function(e){return $n(e,.54,.46)}});var dr=Object(j.b)({hannWindow_:function(e){return $n(e,.5,.5)}});var hr=Object(j.b)({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0,o=[];i+t<=e.size;)o.push(Object(S.a)(e,i,t)),i+=n;if(r)for(;i<e.size;){var u=i+t-e.size,s=Object(w.a)([Object(S.a)(e,i,t-u),Object(ke.a)([u],a)]);o.push(s),i+=n}return 0===o.length?wn([],[0,t]):Object(xe.a)(Object(w.a)(o),[o.length,t])}});var pr=Object(j.b)({stft_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dr;null==r&&(r=Kn(t));var i=hr(e,t,n),o=Object(k.a)(i,a(t));return Object(sn.a)(o,r)}});var vr=Object(j.b)({cropAndResize_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=Object(x.a)(e,"image","cropAndResize"),u=Object(x.a)(t,"boxes","cropAndResize","float32"),s=Object(x.a)(n,"boxInd","cropAndResize","int32"),c=u.shape[0];T.b(4===o.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),T.b(2===u.rank&&4===u.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(u.shape,".")})),T.b(1===s.rank&&s.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(u.shape,".")})),T.b(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),T.b(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),T.b("bilinear"===a||"nearest"===a,(function(){return"method must be bilinear or nearest, but was ".concat(a)}));var l={image:o,boxes:u,boxInd:s},f={method:a,extrapolationValue:i,cropSize:r},d=oe.a.runKernel(ue.L,l,f);return d}});var mr=Object(j.b)({flipLeftRight_:function(e){var t=Object(x.a)(e,"image","flipLeftRight","float32");T.b(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var n={image:t};return oe.a.runKernel(ue.gb,n,{})}});var gr=Object(j.b)({grayscaleToRGB_:function(e){var t=Object(x.a)(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];T.b(t.rank>=2,(function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")})),T.b(1===r,(function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")}));var a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,Object(we.a)(t,a)}});var br=Object(j.b)({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=Object(x.a)(e,"image","rotateWithOffset","float32");T.b(4===a.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")}));var i={image:a},o={radians:t,fillValue:n,center:r},u=oe.a.runKernel(ue.wc,i,o);return u}});function yr(e,t,n,r,a,i){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==i&&(i=0);var o=e.shape[0];return n=Math.min(n,o),T.b(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),T.b(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),T.b(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),T.b(1===t.rank,(function(){return"scores must be a 1D tensor"})),T.b(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected ".concat(o,", ")+"but was ".concat(t.shape[0])})),T.b(0<=i&&i<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(i,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}var xr=Object(j.b)({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=Object(x.a)(e,"boxes","nonMaxSuppression","float32"),o=Object(x.a)(t,"scores","nonMaxSuppression","float32"),u=yr(i,o,n,r,a),s={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold};return oe.a.runKernel(ue.Yb,{boxes:i,scores:o},s)}}),wr=n(156);function Or(){return Or=Object(Rn.a)(zn.a.mark((function e(t,n,r){var a,i,o,u,s,c,l,f,d,h,p=arguments;return zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>3&&void 0!==p[3]?p[3]:.5,i=p.length>4&&void 0!==p[4]?p[4]:Number.NEGATIVE_INFINITY,o=Object(x.a)(t,"boxes","nonMaxSuppressionAsync"),u=Object(x.a)(n,"scores","nonMaxSuppressionAsync"),s=yr(o,u,r,a,i),r=s.maxOutputSize,a=s.iouThreshold,i=s.scoreThreshold,e.next=10,Promise.all([o.data(),u.data()]);case 10:return c=e.sent,l=c[0],f=c[1],d=Object(wr.a)(l,f,r,a,i),h=d.selectedIndices,o!==t&&o.dispose(),u!==n&&u.dispose(),e.abrupt("return",Object(yn.a)(h,"int32"));case 17:case"end":return e.stop()}}),e)}))),Or.apply(this,arguments)}var kr=function(e,t,n){return Or.apply(this,arguments)};var jr=Object(j.b)({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=Object(x.a)(e,"boxes","nonMaxSuppression"),u=Object(x.a)(t,"scores","nonMaxSuppression"),s=yr(o,u,n,r,a,i),c={boxes:o,scores:u},l={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:a=s.scoreThreshold,softNmsSigma:i=s.softNmsSigma},f=oe.a.runKernel(ue.ac,c,l);return{selectedIndices:f[0],selectedScores:f[1]}}});function _r(){return _r=Object(Rn.a)(zn.a.mark((function e(t,n,r){var a,i,o,u,s,c,l,f,d,h,p,v,m=arguments;return zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>3&&void 0!==m[3]?m[3]:.5,i=m.length>4&&void 0!==m[4]?m[4]:Number.NEGATIVE_INFINITY,o=m.length>5&&void 0!==m[5]?m[5]:0,u=Object(x.a)(t,"boxes","nonMaxSuppressionAsync"),s=Object(x.a)(n,"scores","nonMaxSuppressionAsync"),c=yr(u,s,r,a,i,o),r=c.maxOutputSize,a=c.iouThreshold,i=c.scoreThreshold,o=c.softNmsSigma,e.next=12,Promise.all([u.data(),s.data()]);case 12:return l=e.sent,f=l[0],d=l[1],h=Object(wr.c)(f,d,r,a,i,o),p=h.selectedIndices,v=h.selectedScores,u!==t&&u.dispose(),s!==n&&s.dispose(),e.abrupt("return",{selectedIndices:Object(yn.a)(p,"int32"),selectedScores:Object(yn.a)(v)});case 19:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}var Sr=function(e,t,n){return _r.apply(this,arguments)};var Er=Object(j.b)({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Object(x.a)(e,"boxes","nonMaxSuppression"),u=Object(x.a)(t,"scores","nonMaxSuppression"),s=yr(o,u,n,r,a,null),c=s.maxOutputSize,l=s.iouThreshold,f=s.scoreThreshold,d={boxes:o,scores:u},h={maxOutputSize:c,iouThreshold:l,scoreThreshold:f,padToMaxOutputSize:i},p=oe.a.runKernel(ue.Zb,d,h);return{selectedIndices:p[0],validOutputs:p[1]}}});function Ar(){return Ar=Object(Rn.a)(zn.a.mark((function e(t,n,r){var a,i,o,u,s,c,l,f,d,h,p,v,m,g,b,y,w=arguments;return zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.length>3&&void 0!==w[3]?w[3]:.5,i=w.length>4&&void 0!==w[4]?w[4]:Number.NEGATIVE_INFINITY,o=w.length>5&&void 0!==w[5]&&w[5],u=Object(x.a)(t,"boxes","nonMaxSuppressionAsync"),s=Object(x.a)(n,"scores","nonMaxSuppressionAsync"),c=yr(u,s,r,a,i,null),l=c.maxOutputSize,f=c.iouThreshold,d=c.scoreThreshold,e.next=11,Promise.all([u.data(),s.data()]);case 11:return h=e.sent,p=Object(Qn.a)(h,2),v=p[0],m=p[1],g=Object(wr.b)(v,m,l,f,d,o),b=g.selectedIndices,y=g.validOutputs,u!==t&&u.dispose(),s!==n&&s.dispose(),e.abrupt("return",{selectedIndices:Object(yn.a)(b,"int32"),validOutputs:Object(Ht.a)(y,"int32")});case 19:case"end":return e.stop()}}),e)}))),Ar.apply(this,arguments)}var Cr=function(e,t,n){return Ar.apply(this,arguments)},Nr=n(382),Tr=n(381);function Dr(e,t){for(var n,r,a,i,o,s,c=Object(yn.a)([-1]),l=Object(yn.a)([0]),f=Object(yn.a)([0]),d=0;d<e.size-1;d++){n=Object(S.a)(e,0,d+1),r=Object(S.a)(e,d+1),o=Object(le.a)(Object(mn.a)(n),t),s=Object(le.a)(Object(mn.a)(r),t);var h=Object(mn.a)(Object(k.a)(n,Object(Dt.a)(0,n.size)));a=Object(le.a)(h,Object(mn.a)(n));var p=Object(ke.a)(r.shape,n.size),v=Object(u.a)(Object(Dt.a)(0,r.size),p),m=Object(k.a)(r,v);i=Object(le.a)(Object(mn.a)(m),Object(mn.a)(r));var g=Object(st.a)(a,i),b=Object(st.a)(a,i),y=Object(k.a)(o,s);f=Object(k.a)(Object(k.a)(y,g),b);var x=Object(Ee.a)(f,l);l=Object(Dn.a)(x,f,l),c=Object(Dn.a)(x,Object(yn.a)([d]),c)}return c}var Ir=Object(j.b)({threshold_:function(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,c=Object(x.a)(e,"image","threshold"),l=.2989,f=.587,d=.114,h=c.shape[0]*c.shape[1],p=Object(k.a)(Object(yn.a)([s]),255);if(T.b(3===c.rank,(function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(c.rank,".")})),T.b(3===c.shape[2]||1===c.shape[2],(function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(c.shape[2],".")})),T.b("int32"===c.dtype||"float32"===c.dtype,(function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(c.dtype,".")})),T.b("otsu"===i||"binary"===i,(function(){return"Method must be binary or otsu, but was ".concat(i)})),3===c.shape[2]){var v=Object(cn.a)(c,[1,1,1],-1),m=Object(Qn.a)(v,3);t=m[0],n=m[1],r=m[2];var g=Object(k.a)(t,l),b=Object(k.a)(n,f),y=Object(k.a)(r,d);a=Object(u.a)(Object(u.a)(g,b),y)}else a=e;if("otsu"===i){var w=Object(F.a)(Object(B.a)(Object(Wt.a)(a),"int32"),Object(bn.a)([]),256);p=Dr(w,h)}var O=o?Object(Fe.a)(a,p):Object(Ee.a)(a,p),j=Object(B.a)(Object(k.a)(O,255),"int32");return j}});var Mr=Object(j.b)({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,o=Object(x.a)(e,"image","transform","float32"),u=Object(x.a)(t,"transforms","transform","float32");T.b(4===o.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),T.b(2===u.rank&&(u.shape[0]===o.shape[0]||1===u.shape[0])&&8===u.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),T.b(null==i||2===i.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(i,".")}));var s={image:o,transforms:u},c={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return oe.a.runKernel(ue.ed,s,c)}});var Fr=Object(j.b)({bandPart_:function(e,t,n){Object(T.b)(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),Object(T.b)(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")}));var r=Object(x.a)(e,"a","bandPart");Object(T.b)(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var a=r.shape,i=r.shape.slice(-2),o=Object(Qn.a)(i,2),u=o[0],s=o[1];if(!(t<=u))throw new Error("bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(u,")."));if(!(n<=s))throw new Error("bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(s,")."));t<0&&(t=u),n<0&&(n=s);var c=Object(xe.a)(Object(Dt.a)(0,u,1,"int32"),[-1,1]),l=Object(Dt.a)(0,s,1,"int32"),f=Object(st.a)(c,l),d=Object(Ve.a)(Object(Fe.a)(f,Object(Ht.a)(+t,"int32")),Object(Ae.a)(f,Object(Ht.a)(-n,"int32"))),h=Object(Mn.a)([u,s],r.dtype);return Object(xe.a)(Object(hn.a)(Object(Nn.a)(Object(xe.a)(r,[-1,u,s])).map((function(e){return Object(Dn.a)(d,e,h)}))),a)}});var Rr=Object(j.b)({gramSchmidt_:function(e){var t;Array.isArray(e)?function(){t=!1,Object(T.b)(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){Object(T.b)(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")}))},a=1;a<e.length;++a)r(a)}():(t=!0,e=Object(cn.a)(e,e.shape[0],0).map((function(e){return Object(dn.a)(e,[0])}))),Object(T.b)(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")}));for(var n=[],r=e,a=function(e){n.push(oe.a.tidy((function(){var t=r[e];if(e>0)for(var a=0;a<e;++a){var i=Object(k.a)(Object(mn.a)(Object(k.a)(n[a],t)),n[a]);t=Object(st.a)(t,i)}return Object(le.a)(t,Object(Wn.a)(t,"euclidean"))})))},i=0;i<e.length;++i)a(i);return t?Object(hn.a)(n,0):n}}),Pr=n(65);function zr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return oe.a.tidy((function(){Object(T.b)(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],a=Oe(n),i=Object(W.a)(e),o=wn([[1]],[1,1]),u=Object(W.a)(o),s=n>=r?r:n,c=function(e){var t=i,s=u,c=a,l=oe.a.tidy((function(){var t=Object(S.a)(i,[e,e],[n-e,1]),s=Object(Wn.a)(t),c=Object(S.a)(i,[e,e],[1,1]),l=Object(Dn.a)(Object(Ee.a)(c,0),wn([[-1]]),wn([[1]])),f=Object(st.a)(c,Object(k.a)(l,s)),d=Object(le.a)(t,f);u=1===d.shape[0]?Object(W.a)(o):Object(w.a)([o,Object(S.a)(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);var h=Object(dt.a)(Object(le.a)(Object(O.a)(l,f),s)),p=Object(S.a)(i,[e,0],[n-e,r]),v=Object(k.a)(h,u),m=Object(Un.a)(u);if(0===e)i=Object(st.a)(p,Object(O.a)(v,Object(O.a)(m,p)));else{var g=Object(st.a)(p,Object(O.a)(v,Object(O.a)(m,p)));i=Object(w.a)([Object(S.a)(i,[0,0],[e,r]),g],0)}var b=Object(Un.a)(v),y=Object(S.a)(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=Object(st.a)(y,Object(O.a)(Object(O.a)(y,u),b));else{var x=Object(st.a)(y,Object(O.a)(Object(O.a)(y,u),b));a=Object(w.a)([Object(S.a)(a,[0,0],[n,e]),x],1)}return[u,i,a]})),f=Object(Qn.a)(l,3);u=f[0],i=f[1],a=f[2],Object(Pr.d)([t,s,c])},l=0;l<s;++l)c(l);return!t&&n>r&&(a=Object(S.a)(a,[0,0],[n,r]),i=Object(S.a)(i,[0,0],[r,r])),[a,i]}))}var Br=Object(j.b)({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(T.b)(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return zr(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=Object(Nn.a)(Object(xe.a)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];r.forEach((function(e){var n=zr(e,t),r=Object(Qn.a)(n,2),o=r[0],u=r[1];a.push(o),i.push(u)}));var o=Object(xe.a)(Object(hn.a)(a,0),e.shape),u=Object(xe.a)(Object(hn.a)(i,0),e.shape);return[o,u]}}),Lr=n(84);var Ur=Object(j.b)({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lr.a.SUM_BY_NONZERO_WEIGHTS,r=Object(x.a)(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=Object(x.a)(t,"weights","computeWeightedLoss"));var i=null==a?r:Object(k.a)(r,a);if(n===Lr.a.NONE)return i;if(n===Lr.a.SUM)return Object(mn.a)(i);if(n===Lr.a.MEAN){if(null==a)return Object(Je.a)(i);var o=r.size/a.size,u=Object(le.a)(Object(mn.a)(i),Object(mn.a)(a));return o>1?Object(le.a)(u,Object(Ht.a)(o)):u}if(n===Lr.a.SUM_BY_NONZERO_WEIGHTS){if(null==a)return Object(le.a)(Object(mn.a)(i),Object(Ht.a)(r.size));var s=Object(k.a)(a,Object(Qe.a)(r.shape)),c=Object(B.a)(Object(mn.a)(Object(ht.a)(s,Object(Ht.a)(0))),"float32");return Object(le.a)(Object(mn.a)(i),c)}throw Error("Unknown reduction: ".concat(n))}});var Wr=Object(j.b)({absoluteDifference_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lr.a.SUM_BY_NONZERO_WEIGHTS,i=Object(x.a)(e,"labels","absoluteDifference"),o=Object(x.a)(t,"predictions","absoluteDifference"),u=null;null!=n&&(u=Object(x.a)(n,"weights","absoluteDifference")),Object(T.e)(i.shape,o.shape,"Error in absoluteDifference: ");var s=Object(a.a)(Object(st.a)(i,o));return Ur(s,u,r)}});var Vr=Object(j.b)({cosineDistance_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lr.a.SUM_BY_NONZERO_WEIGHTS,i=Object(x.a)(e,"labels","cosineDistance"),o=Object(x.a)(t,"predictions","cosineDistance"),u=null;null!=r&&(u=Object(x.a)(r,"weights","cosineDistance")),Object(T.e)(i.shape,o.shape,"Error in cosineDistance: ");var s=Object(Ht.a)(1),c=Object(st.a)(s,Object(mn.a)(Object(k.a)(i,o),n,!0));return Ur(c,u,a)}});var Hr=Object(j.b)({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lr.a.SUM_BY_NONZERO_WEIGHTS,a=Object(x.a)(e,"labels","hingeLoss"),i=Object(x.a)(t,"predictions","hingeLoss"),o=null;null!=n&&(o=Object(x.a)(n,"weights","hingeLoss")),Object(T.e)(a.shape,i.shape,"Error in hingeLoss: ");var u=Object(Ht.a)(1);a=Object(st.a)(Object(k.a)(Object(Ht.a)(2),a),u);var s=Object(Ft.a)(Object(st.a)(u,Object(k.a)(a,i)));return Ur(s,o,r)}});var Gr=Object(j.b)({huberLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lr.a.SUM_BY_NONZERO_WEIGHTS,o=Object(x.a)(e,"labels","huberLoss"),s=Object(x.a)(t,"predictions","huberLoss"),c=null;null!=n&&(c=Object(x.a)(n,"weights","huberLoss")),Object(T.e)(o.shape,s.shape,"Error in huberLoss: ");var l=Object(Ht.a)(r),f=Object(a.a)(Object(st.a)(s,o)),d=Object(rt.a)(f,l),h=Object(st.a)(f,d),p=Object(u.a)(Object(k.a)(Object(Ht.a)(.5),Object(ut.a)(d)),Object(k.a)(l,h));return Ur(p,c,i)}});var qr=Object(j.b)({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lr.a.SUM_BY_NONZERO_WEIGHTS,i=Object(x.a)(e,"labels","logLoss"),o=Object(x.a)(t,"predictions","logLoss"),s=null;null!=n&&(s=Object(x.a)(n,"weights","logLoss")),Object(T.e)(i.shape,o.shape,"Error in logLoss: ");var c=Object(Ht.a)(1),l=Object(Ht.a)(r),f=Object(dt.a)(Object(k.a)(i,Object(ze.a)(Object(u.a)(o,l)))),d=Object(k.a)(Object(st.a)(c,i),Object(ze.a)(Object(u.a)(Object(st.a)(c,o),l))),h=Object(st.a)(f,d);return Ur(h,s,a)}});var Xr=Object(j.b)({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lr.a.SUM_BY_NONZERO_WEIGHTS,a=Object(x.a)(e,"labels","meanSquaredError"),i=Object(x.a)(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=Object(x.a)(n,"weights","meanSquaredError")),Object(T.e)(a.shape,i.shape,"Error in meanSquaredError: ");var u=Object(fn.a)(a,i);return Ur(u,o,r)}});function Yr(e,t){var n=Object(x.a)(e,"labels","sigmoidCrossEntropyWithLogits"),r=Object(x.a)(t,"logits","sigmoidCrossEntropyWithLogits");Object(T.e)(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=Object(Ft.a)(r),o=Object(k.a)(r,n),s=Object(Be.a)(Object(ge.a)(Object(dt.a)(Object(a.a)(r))));return Object(u.a)(Object(st.a)(i,o),s)}var Kr=Object(j.b)({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lr.a.SUM_BY_NONZERO_WEIGHTS,i=Object(x.a)(e,"multiClassLabels","sigmoidCrossEntropy"),o=Object(x.a)(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=Object(x.a)(n,"weights","sigmoidCrossEntropy")),Object(T.e)(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var c=Object(Ht.a)(r),l=Object(Ht.a)(1),f=Object(Ht.a)(.5);i=Object(u.a)(Object(k.a)(i,Object(st.a)(l,c)),Object(k.a)(f,c))}var d=Yr(i,o);return Ur(d,s,a)}});function $r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));var r=Object(er.a)((function(e,t,r){var a=Object(We.a)(t,[n],!0),i=Object(st.a)(Object(B.a)(t,"float32"),a);r([e,i]);var o=Object(dt.a)(Object(k.a)(i,e));return{value:Object(mn.a)(o,[n]),gradFunc:function(e,t){var r=Object(Qn.a)(t,2),a=r[0],i=r[1],o=Object(ot.e)(e.shape,[n]);return[Object(k.a)(Object(xe.a)(e,o),Object(st.a)(Object(B.a)(a,"float32"),Object(ge.a)(i))),Object(k.a)(Object(xe.a)(e,o),Object(st.a)(Object(ge.a)(i),Object(B.a)(a,"float32")))]}}}));return r(e,t)}var Zr=Object(j.b)({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lr.a.SUM_BY_NONZERO_WEIGHTS,i=Object(x.a)(e,"onehotLabels","softmaxCrossEntropy"),o=Object(x.a)(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=Object(x.a)(n,"weights","softmaxCrossEntropy")),Object(T.e)(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var c=Object(Ht.a)(r),l=Object(Ht.a)(1),f=Object(Ht.a)(i.shape[1]);i=Object(u.a)(Object(k.a)(i,Object(st.a)(l,c)),Object(le.a)(c,f))}var d=$r(i,o);return Ur(d,s,a)}});var Jr=Object(j.b)({sparseFillEmptyRows_:function(e,t,n,r){var a=Object(x.a)(e,"indices","sparseFillEmptyRows","int32"),i=Object(x.a)(t,"values","sparseFillEmptyRows"),o=Object(x.a)(n,"denseShape","sparseFillEmptyRows","int32"),u=Object(x.a)(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==i.rank)throw new Error("Values should be Tensor1D but received shape ".concat(i.shape));if(1!==o.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(o.shape));if(0!==u.rank)throw new Error("Default value should be a scalar but received shape ".concat(u.shape));var s={indices:a,values:i,denseShape:o,defaultValue:u},c=oe.a.runKernel(ue.Kc,s);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}});var Qr=Object(j.b)({sparseReshape_:function(e,t,n){var r=Object(x.a)(e,"inputIndices","sparseReshape","int32"),a=Object(x.a)(t,"inputShape","sparseReshape","int32"),i=Object(x.a)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==i.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(i.shape));var o={inputIndices:r,inputShape:a,newShape:i},u=oe.a.runKernel(ue.Lc,o);return{outputIndices:u[0],outputShape:u[1]}}});var ea=Object(j.b)({sparseSegmentMean_:function(e,t,n){var r=Object(x.a)(e,"data","sparseSegmentMean"),a=Object(x.a)(t,"indices","sparseSegmentMean","int32"),i=Object(x.a)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==i.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(i.shape));var o={data:r,indices:a,segmentIds:i};return oe.a.runKernel(ue.Mc,o)}});var ta=Object(j.b)({sparseSegmentSum_:function(e,t,n){var r=Object(x.a)(e,"data","sparseSegmentSum"),a=Object(x.a)(t,"indices","sparseSegmentSum","int32"),i=Object(x.a)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==i.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(i.shape));var o={data:r,indices:a,segmentIds:i};return oe.a.runKernel(ue.Nc,o)}});var na=Object(j.b)({stringNGrams_:function(e,t,n,r,a,i,o,u){var s=Object(x.a)(e,"data","stringNGrams","string");if("string"!==s.dtype)throw new Error("Data must be of datatype string");if(1!==s.shape.length)throw new Error("Data must be a vector, saw: ".concat(s.shape));var c=Object(x.a)(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");var l={separator:n,nGramWidths:r,leftPad:a,rightPad:i,padWidth:o,preserveShortSequences:u},f={data:s,dataSplits:c},d=oe.a.runKernel(ue.Vc,f,l);return{nGrams:d[0],nGramsSplits:d[1]}}});var ra=Object(j.b)({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(x.a)(e,"input","stringSplit","string"),a=Object(x.a)(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));var i={skipEmpty:n},o={input:r,delimiter:a},u=oe.a.runKernel(ue.Wc,o,i);return{indices:u[0],values:u[1],shape:u[2]}}});var aa=Object(j.b)({stringToHashBucketFast_:function(e,t){var n=Object(x.a)(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var a={input:n};return oe.a.runKernel(ue.Xc,a,r)}}),ia={fft:an.a,ifft:on.a,rfft:sn.a,irfft:un.a},oa={hammingWindow:fr,hannWindow:dr,frame:hr,stft:pr},ua={flipLeftRight:mr,grayscaleToRGB:gr,resizeNearestNeighbor:Tr.a,resizeBilinear:Nr.a,rotateWithOffset:br,cropAndResize:vr,nonMaxSuppression:xr,nonMaxSuppressionAsync:kr,nonMaxSuppressionWithScore:jr,nonMaxSuppressionWithScoreAsync:Sr,nonMaxSuppressionPadded:Er,nonMaxSuppressionPaddedAsync:Cr,threshold:Ir,transform:Mr},sa={bandPart:Fr,gramSchmidt:Rr,qr:Br},ca={absoluteDifference:Wr,computeWeightedLoss:Ur,cosineDistance:Vr,hingeLoss:Hr,huberLoss:Gr,logLoss:qr,meanSquaredError:Xr,sigmoidCrossEntropy:Kr,softmaxCrossEntropy:Zr},la={sparseFillEmptyRows:Jr,sparseReshape:Qr,sparseSegmentMean:ea,sparseSegmentSum:ta},fa={stringNGrams:na,stringSplit:ra,stringToHashBucketFast:aa}},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return m}));var r=n(6),a=n(19),i=n(4),o=n(5),u=n(7),s=n.n(u),c=n(23),l="tfjsflags",f=function(){function e(t){Object(i.a)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=d,this.populateURLFlags()}return Object(o.a)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(p().getBool("IS_TEST")||p().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(t,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];p().getBool("IS_TEST")||p().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=Object(a.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if(Object(c.x)(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if(l in t)t.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),a=Object(r.a)(n,2),i=a[0],o=a[1];e.urlFlags[i]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(e,"."))}(i,o)}))}}}]),e}();function d(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return h(t,r[0],r[1]),r.join("=")})),t}function h(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function p(){return v}var v=null;function m(e){v=e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return M}));var r=n(200),a=n(17),i=n(18),o=n(4),u=n(5),s=n(109);var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(s.a)(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,a=t.toIndex,i=void 0===a?e.length:a;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=r||i>e.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=e[r],u=r+1;u<i;u++)e[u]>o&&(o=e[u]);return o};var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(s.a)(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,a=t.toIndex,i=void 0===a?e.length:a;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=r||i>e.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=e[r],u=r+1;u<i;u++)e[u]<o&&(o=e[u]);return o};function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(s.a)(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!Object(s.a)(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(e.length);var r=l(e),a=c(e);if(r===a)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=n.min,o=void 0===i?n.autoMinMax?r:0:i,u=n.max,f=void 0===u?n.autoMinMax?a:1:u;if(o>=f)throw new RangeError("min option must be smaller than max option");for(var d=(f-o)/(a-r),h=0;h<e.length;h++)t[h]=(e[h]-r)*d+o;return t}var d=" ".repeat(2),h=" ".repeat(4);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxRows,r=void 0===n?15:n,a=t.maxColumns,i=void 0===a?10:a,o=t.maxNumSize,u=void 0===o?8:o;return"".concat(e.constructor.name," {\n").concat(d,"[\n").concat(h).concat(v(e,r,i,u),"\n").concat(d,"]\n").concat(d,"rows: ").concat(e.rows,"\n").concat(d,"columns: ").concat(e.columns,"\n}")}function v(e,t,n,r){for(var a=e.rows,i=e.columns,o=Math.min(a,t),u=Math.min(i,n),s=[],c=0;c<o;c++){for(var l=[],f=0;f<u;f++)l.push(m(e.get(c,f),r));s.push("".concat(l.join(" ")))}return u!==i&&(s[s.length-1]+=" ... ".concat(i-n," more columns")),o!==a&&s.push("... ".concat(a-t," more rows")),s.join("\n".concat(h))}function m(e,t){var n=String(e);if(n.length<=t)return n.padEnd(t," ");var r=e.toPrecision(t-2);if(r.length<=t)return r;var a=e.toExponential(t-2),i=a.indexOf("e"),o=a.slice(i);return a.slice(0,t-o.length)+o}var g=n(50);function b(e,t,n){for(var r=e.rows,a=e.columns,i=[],o=0;o<r;o++){for(var u=0,s=0,c=0,l=0;l<a;l++)u+=c=e.get(o,l)-n[o],s+=c*c;t?i.push((s-u*u/a)/(a-1)):i.push((s-u*u/a)/a)}return i}function y(e,t,n){for(var r=e.rows,a=e.columns,i=[],o=0;o<a;o++){for(var u=0,s=0,c=0,l=0;l<r;l++)u+=c=e.get(l,o)-n[o],s+=c*c;t?i.push((s-u*u/r)/(r-1)):i.push((s-u*u/r)/r)}return i}function x(e,t,n){for(var r=e.rows,a=e.columns,i=r*a,o=0,u=0,s=0,c=0;c<r;c++)for(var l=0;l<a;l++)o+=s=e.get(c,l)-n,u+=s*s;return t?(u-o*o/i)/(i-1):(u-o*o/i)/i}function w(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function O(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function k(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function j(e){for(var t=[],n=0;n<e.rows;n++){for(var r=0,a=0;a<e.columns;a++)r+=Math.pow(e.get(n,a),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function _(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function S(e){for(var t=[],n=0;n<e.columns;n++){for(var r=0,a=0;a<e.rows;a++)r+=Math.pow(e.get(a,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function E(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function A(e){for(var t=e.size-1,n=0,r=0;r<e.columns;r++)for(var a=0;a<e.rows;a++)n+=Math.pow(e.get(a,r),2)/t;return Math.sqrt(n)}function C(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}var N=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(e){if("function"!==typeof e)throw new TypeError("callback must be a function");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.call(this,t,n);return this}},{key:"to1DArray",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"to2DArray",value:function(){for(var e=[],t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++)e[t].push(this.get(t,n))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,a=!1;e<this.rows&&r;){for(t=0,a=!1;t<this.columns&&!1===a;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(a=!0,n=t):(r=!1,a=!0);e++}return r}},{key:"isReducedEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,a=!1;e<this.rows&&r;){for(t=0,a=!1;t<this.columns&&!1===a;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(a=!0,n=t):(r=!1,a=!0);for(var i=t+1;i<this.rows;i++)0!==this.get(e,i)&&(r=!1);e++}return r}},{key:"echelonForm",value:function(){for(var e=this.clone(),t=0,n=0;t<e.rows&&n<e.columns;){for(var r=t,a=t;a<e.rows;a++)e.get(a,n)>e.get(r,n)&&(r=a);if(0===e.get(r,n))n++;else{e.swapRows(t,r);for(var i=e.get(t,n),o=n;o<e.columns;o++)e.set(t,o,e.get(t,o)/i);for(var u=t+1;u<e.rows;u++){var s=e.get(u,n)/e.get(t,n);e.set(u,n,0);for(var c=n+1;c<e.columns;c++)e.set(u,c,e.get(u,c)-e.get(t,c)*s)}t++,n++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),t=e.columns,n=e.rows,r=n-1;r>=0;)if(0===e.maxRow(r))r--;else{for(var a=0,i=!1;a<n&&!1===i;)1===e.get(r,a)?i=!0:a++;for(var o=0;o<r;o++)for(var u=e.get(o,a),s=a;s<t;s++){var c=e.get(o,s)-u*e.get(r,s);e.set(o,s,c)}r--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.rows,n=void 0===t?1:t,r=e.columns,a=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(a)||a<=0)throw new TypeError("columns must be a positive integer");for(var i=new M(this.rows*n,this.columns*a),o=0;o<n;o++)for(var u=0;u<a;u++)i.setSubMatrix(this,this.rows*o,this.columns*u);return i}},{key:"fill",value:function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){Object(g.g)(this,e);for(var t=[],n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"getRowVector",value:function(e){return M.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,t){Object(g.g)(this,e),t=Object(g.i)(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}},{key:"swapRows",value:function(e,t){Object(g.g)(this,e),Object(g.g)(this,t);for(var n=0;n<this.columns;n++){var r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}},{key:"getColumn",value:function(e){Object(g.a)(this,e);for(var t=[],n=0;n<this.rows;n++)t.push(this.get(n,e));return t}},{key:"getColumnVector",value:function(e){return M.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,t){Object(g.a)(this,e),t=Object(g.c)(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}},{key:"swapColumns",value:function(e,t){Object(g.a)(this,e),Object(g.a)(this,t);for(var n=0;n<this.rows;n++){var r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}},{key:"addRowVector",value:function(e){e=Object(g.i)(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}},{key:"subRowVector",value:function(e){e=Object(g.i)(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}},{key:"mulRowVector",value:function(e){e=Object(g.i)(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}},{key:"divRowVector",value:function(e){e=Object(g.i)(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}},{key:"addColumnVector",value:function(e){e=Object(g.c)(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}},{key:"subColumnVector",value:function(e){e=Object(g.c)(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}},{key:"mulColumnVector",value:function(e){e=Object(g.c)(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}},{key:"divColumnVector",value:function(e){e=Object(g.c)(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}},{key:"mulRow",value:function(e,t){Object(g.g)(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}},{key:"mulColumn",value:function(e,t){Object(g.a)(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxIndex",value:function(){Object(g.e)(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minIndex",value:function(){Object(g.e)(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"maxRow",value:function(e){if(Object(g.g)(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxRowIndex",value:function(e){Object(g.g)(this,e),Object(g.e)(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}},{key:"minRow",value:function(e){if(Object(g.g)(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minRowIndex",value:function(e){Object(g.g)(this,e),Object(g.e)(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}},{key:"maxColumn",value:function(e){if(Object(g.a)(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}},{key:"maxColumnIndex",value:function(e){Object(g.a)(this,e),Object(g.e)(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}},{key:"minColumn",value:function(e){if(Object(g.a)(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}},{key:"minColumnIndex",value:function(e){Object(g.a)(this,e),Object(g.e)(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),t=[],n=0;n<e;n++)t.push(this.get(n,n));return t}},{key:"norm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",t=0;if("max"===e)return this.max();if("frobenius"===e){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t+=this.get(n,r)*this.get(n,r);return Math.sqrt(t)}throw new RangeError("unknown norm type: ".concat(e))}},{key:"cumulativeSum",value:function(){for(var e=0,t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}},{key:"dot",value:function(t){e.isMatrix(t)&&(t=t.to1DArray());var n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,a=0;a<n.length;a++)r+=n[a]*t[a];return r}},{key:"mmul",value:function(e){e=M.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.columns,a=new M(t,r),i=new Float64Array(n),o=0;o<r;o++){for(var u=0;u<n;u++)i[u]=e.get(u,o);for(var s=0;s<t;s++){for(var c=0,l=0;l<n;l++)c+=this.get(s,l)*i[l];a.set(s,o,c)}}return a}},{key:"strassen2x2",value:function(e){e=M.checkMatrix(e);var t=new M(2,2),n=this.get(0,0),r=e.get(0,0),a=this.get(0,1),i=e.get(0,1),o=this.get(1,0),u=e.get(1,0),s=this.get(1,1),c=e.get(1,1),l=(n+s)*(r+c),f=(o+s)*r,d=n*(i-c),h=s*(u-r),p=(n+a)*c,v=l+h-p+(a-s)*(u+c),m=d+p,g=f+h,b=l-f+d+(o-n)*(r+i);return t.set(0,0,v),t.set(0,1,m),t.set(1,0,g),t.set(1,1,b),t}},{key:"strassen3x3",value:function(e){e=M.checkMatrix(e);var t=new M(3,3),n=this.get(0,0),r=this.get(0,1),a=this.get(0,2),i=this.get(1,0),o=this.get(1,1),u=this.get(1,2),s=this.get(2,0),c=this.get(2,1),l=this.get(2,2),f=e.get(0,0),d=e.get(0,1),h=e.get(0,2),p=e.get(1,0),v=e.get(1,1),m=e.get(1,2),g=e.get(2,0),b=e.get(2,1),y=e.get(2,2),x=(n-i)*(-d+v),w=(-n+i+o)*(f-d+v),O=(i+o)*(-f+d),k=n*f,j=(-n+s+c)*(f-h+m),_=(-n+s)*(h-m),S=(s+c)*(-f+h),E=(-a+c+l)*(v+g-b),A=(a-l)*(v-b),C=a*g,N=(c+l)*(-g+b),T=(-a+o+u)*(m+g-y),D=(a-u)*(m-y),I=(o+u)*(-g+y),F=k+C+r*p,R=(n+r+a-i-o-c-l)*v+w+O+k+E+C+N,P=k+j+S+(n+r+a-o-u-s-c)*m+C+T+I,z=x+o*(-f+d+p-v-m-g+y)+w+k+C+T+D,B=x+w+O+k+u*b,L=C+T+D+I+i*h,U=k+j+_+c*(-f+h+p-v-m-g+b)+E+A+C,W=E+A+C+N+s*d,V=k+j+_+S+l*y;return t.set(0,0,F),t.set(0,1,R),t.set(0,2,P),t.set(1,0,z),t.set(1,1,B),t.set(1,2,L),t.set(2,0,U),t.set(2,1,W),t.set(2,2,V),t}},{key:"mmulStrassen",value:function(t){t=M.checkMatrix(t);var n=this.clone(),r=n.rows,a=n.columns,i=t.rows,o=t.columns;function u(t,n,r){var a=t.rows,i=t.columns;if(a===n&&i===r)return t;var o=e.zeros(n,r);return o=o.setSubMatrix(t,0,0)}a!==i&&console.warn("Multiplying ".concat(r," x ").concat(a," and ").concat(i," x ").concat(o," matrix: dimensions do not match."));var s=Math.max(r,i),c=Math.max(a,o);return function t(n,r,a,i){if(a<=512||i<=512)return n.mmul(r);a%2===1&&i%2===1?(n=u(n,a+1,i+1),r=u(r,a+1,i+1)):a%2===1?(n=u(n,a+1,i),r=u(r,a+1,i)):i%2===1&&(n=u(n,a,i+1),r=u(r,a,i+1));var o=parseInt(n.rows/2,10),s=parseInt(n.columns/2,10),c=n.subMatrix(0,o-1,0,s-1),l=r.subMatrix(0,o-1,0,s-1),f=n.subMatrix(0,o-1,s,n.columns-1),d=r.subMatrix(0,o-1,s,r.columns-1),h=n.subMatrix(o,n.rows-1,0,s-1),p=r.subMatrix(o,r.rows-1,0,s-1),v=n.subMatrix(o,n.rows-1,s,n.columns-1),m=r.subMatrix(o,r.rows-1,s,r.columns-1),g=t(e.add(c,v),e.add(l,m),o,s),b=t(e.add(h,v),l,o,s),y=t(c,e.sub(d,m),o,s),x=t(v,e.sub(p,l),o,s),w=t(e.add(c,f),m,o,s),O=t(e.sub(h,c),e.add(l,d),o,s),k=t(e.sub(f,v),e.add(p,m),o,s),j=e.add(g,x);j.sub(w),j.add(k);var _=e.add(y,w),S=e.add(b,x),E=e.sub(g,b);E.add(y),E.add(O);var A=e.zeros(2*j.rows,2*j.columns);return(A=(A=(A=(A=A.setSubMatrix(j,0,0)).setSubMatrix(_,j.rows,0)).setSubMatrix(S,0,j.columns)).setSubMatrix(E,j.rows,j.columns)).subMatrix(0,a-1,0,i-1)}(n=u(n,s,c),t=u(t,s,c),s,c)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,a=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(a))throw new TypeError("max must be a number");if(n>=a)throw new RangeError("min must be smaller than max");for(var i=new M(this.rows,this.columns),o=0;o<this.rows;o++){var u=this.getRow(o);u.length>0&&f(u,{min:n,max:a,output:u}),i.setRow(o,u)}return i}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,a=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(a))throw new TypeError("max must be a number");if(n>=a)throw new RangeError("min must be smaller than max");for(var i=new M(this.rows,this.columns),o=0;o<this.columns;o++){var u=this.getColumn(o);u.length&&f(u,{min:n,max:a,output:u}),i.setColumn(o,u)}return i}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),t=0;t<this.rows;t++)for(var n=0;n<e;n++){var r=this.get(t,n),a=this.get(t,this.columns-1-n);this.set(t,n,a),this.set(t,this.columns-1-n,r)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),t=0;t<this.columns;t++)for(var n=0;n<e;n++){var r=this.get(n,t),a=this.get(this.rows-1-n,t);this.set(n,t,a),this.set(this.rows-1-n,t,r)}return this}},{key:"kroneckerProduct",value:function(e){e=M.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.rows,a=e.columns,i=new M(t*r,n*a),o=0;o<t;o++)for(var u=0;u<n;u++)for(var s=0;s<r;s++)for(var c=0;c<a;c++)i.set(r*o+s,a*u+c,this.get(o,u)*e.get(s,c));return i}},{key:"kroneckerSum",value:function(e){if(e=M.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var t=this.rows,n=e.rows,r=this.kroneckerProduct(M.eye(n,n)),a=M.eye(t,t).kroneckerProduct(e);return r.add(a)}},{key:"transpose",value:function(){for(var e=new M(this.columns,this.rows),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}},{key:"subMatrix",value:function(e,t,n,r){Object(g.f)(this,e,t,n,r);for(var a=new M(t-e+1,r-n+1),i=e;i<=t;i++)for(var o=n;o<=r;o++)a.set(i-e,o-n,this.get(i,o));return a}},{key:"subMatrixRow",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new M(e.length,n-t+1),a=0;a<e.length;a++)for(var i=t;i<=n;i++){if(e[a]<0||e[a]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[a]));r.set(a,i-t,this.get(e[a],i))}return r}},{key:"subMatrixColumn",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new M(n-t+1,e.length),a=0;a<e.length;a++)for(var i=t;i<=n;i++){if(e[a]<0||e[a]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[a]));r.set(i-t,a,this.get(i,e[a]))}return r}},{key:"setSubMatrix",value:function(e,t,n){if((e=M.checkMatrix(e)).isEmpty())return this;var r=t+e.rows-1,a=n+e.columns-1;Object(g.f)(this,t,r,n,a);for(var i=0;i<e.rows;i++)for(var o=0;o<e.columns;o++)this.set(t+i,n+o,e.get(i,o));return this}},{key:"selection",value:function(e,t){for(var n=Object(g.d)(this,e,t),r=new M(e.length,t.length),a=0;a<n.row.length;a++)for(var i=n.row[a],o=0;o<n.column.length;o++){var u=n.column[o];r.set(a,o,this.get(i,u))}return r}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}},{key:"clone",value:function(){for(var e=new M(this.rows,this.columns),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(t,n,this.get(t,n));return e}},{key:"sum",value:function(e){switch(e){case"row":return function(e){for(var t=Object(g.j)(e.rows),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}(this);case"column":return function(e){for(var t=Object(g.j)(e.columns),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=0,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t+=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return function(e){for(var t=Object(g.j)(e.rows,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}(this);case"column":return function(e){for(var t=Object(g.j)(e.columns,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=1,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t*=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var t=this.sum(e);switch(e){case"row":for(var n=0;n<this.rows;n++)t[n]/=this.columns;return t;case"column":for(var r=0;r<this.columns;r++)t[r]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.unbiased,a=void 0===r||r,i=n.mean,o=void 0===i?this.mean(e):i;if("boolean"!==typeof a)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!Array.isArray(o))throw new TypeError("mean must be an array");return b(this,a,o);case"column":if(!Array.isArray(o))throw new TypeError("mean must be an array");return y(this,a,o);case void 0:if("number"!==typeof o)throw new TypeError("mean must be a number");return x(this,a,o);default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,t){"object"===typeof e&&(t=e,e=void 0);var n=this.variance(e,t);if(void 0===e)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:"center",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.center,a=void 0===r?this.mean(e):r;switch(e){case"row":if(!Array.isArray(a))throw new TypeError("center must be an array");return w(this,a),this;case"column":if(!Array.isArray(a))throw new TypeError("center must be an array");return O(this,a),this;case void 0:if("number"!==typeof a)throw new TypeError("center must be a number");return k(this,a),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t.scale;switch(e){case"row":if(void 0===n)n=j(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return _(this,n),this;case"column":if(void 0===n)n=S(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return E(this,n),this;case void 0:if(void 0===n)n=A(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return C(this,n),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"toString",value:function(e){return p(this,e)}}],[{key:"from1DArray",value:function(e,t,n){if(e*t!==n.length)throw new RangeError("data length does not match given dimensions");for(var r=new M(e,t),a=0;a<e;a++)for(var i=0;i<t;i++)r.set(a,i,n[a*t+i]);return r}},{key:"rowVector",value:function(e){for(var t=new M(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}},{key:"columnVector",value:function(e){for(var t=new M(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}},{key:"zeros",value:function(e,t){return new M(e,t)}},{key:"ones",value:function(e,t){return new M(e,t).fill(1)}},{key:"rand",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");for(var r=n.random,a=void 0===r?Math.random:r,i=new M(e,t),o=0;o<e;o++)for(var u=0;u<t;u++)i.set(o,u,a());return i}},{key:"randInt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");var r=n.min,a=void 0===r?0:r,i=n.max,o=void 0===i?1e3:i,u=n.random,s=void 0===u?Math.random:u;if(!Number.isInteger(a))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(a>=o)throw new RangeError("min must be smaller than max");for(var c=o-a,l=new M(e,t),f=0;f<e;f++)for(var d=0;d<t;d++){var h=a+Math.round(s()*c);l.set(f,d,h)}return l}},{key:"eye",value:function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);for(var r=Math.min(e,t),a=this.zeros(e,t),i=0;i<r;i++)a.set(i,i,n);return a}},{key:"diag",value:function(e,t,n){var r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);for(var a=Math.min(r,t,n),i=this.zeros(t,n),o=0;o<a;o++)i.set(o,o,e[o]);return i}},{key:"min",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,a=new M(n,r),i=0;i<n;i++)for(var o=0;o<r;o++)a.set(i,o,Math.min(e.get(i,o),t.get(i,o)));return a}},{key:"max",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,a=new this(n,r),i=0;i<n;i++)for(var o=0;o<r;o++)a.set(i,o,Math.max(e.get(i,o),t.get(i,o)));return a}},{key:"checkMatrix",value:function(t){return e.isMatrix(t)?t:new M(t)}},{key:"isMatrix",value:function(e){return null!=e&&"Matrix"===e.klass}}]),e}();function T(e,t){return e-t}N.prototype.klass="Matrix","undefined"!==typeof Symbol&&(N.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return p(this)}),N.random=N.rand,N.randomInt=N.randInt,N.diagonal=N.diag,N.prototype.diagonal=N.prototype.diag,N.identity=N.eye,N.prototype.negate=N.prototype.neg,N.prototype.tensorProduct=N.prototype.kroneckerProduct;var D,I,M=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,a){var i;if(Object(o.a)(this,n),i=t.call(this),n.isMatrix(e))return Object(r.a)(i,e.clone());if(Number.isInteger(e)&&e>=0){if(i.data=[],!(Number.isInteger(a)&&a>=0))throw new TypeError("nColumns must be a positive integer");for(var u=0;u<e;u++)i.data.push(new Float64Array(a))}else{if(!Array.isArray(e))throw new TypeError("First argument must be a positive number or an array");var s=e;if("number"!==typeof(a=(e=s.length)?s[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");i.data=[];for(var c=0;c<e;c++){if(s[c].length!==a)throw new RangeError("Inconsistent array dimensions");i.data.push(Float64Array.from(s[c]))}}return i.rows=e,i.columns=a,i}return Object(u.a)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}},{key:"removeRow",value:function(e){return Object(g.g)(this,e),this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,t){return void 0===t&&(t=e,e=this.rows),Object(g.g)(this,e,!0),t=Float64Array.from(Object(g.i)(this,t)),this.data.splice(e,0,t),this.rows+=1,this}},{key:"removeColumn",value:function(e){Object(g.a)(this,e);for(var t=0;t<this.rows;t++){for(var n=new Float64Array(this.columns-1),r=0;r<e;r++)n[r]=this.data[t][r];for(var a=e+1;a<this.columns;a++)n[a-1]=this.data[t][a];this.data[t]=n}return this.columns-=1,this}},{key:"addColumn",value:function(e,t){"undefined"===typeof t&&(t=e,e=this.columns),Object(g.a)(this,e,!0),t=Object(g.c)(this,t);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),a=0;a<e;a++)r[a]=this.data[n][a];for(r[a++]=t[n];a<this.columns+1;a++)r[a]=this.data[n][a-1];this.data[n]=r}return this.columns+=1,this}}]),n}(N);I=M,(D=N).prototype.add=function(e){return"number"===typeof e?this.addS(e):this.addM(e)},D.prototype.addS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e);return this},D.prototype.addM=function(e){if(e=I.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e.get(t,n));return this},D.add=function(e,t){return new I(e).add(t)},D.prototype.sub=function(e){return"number"===typeof e?this.subS(e):this.subM(e)},D.prototype.subS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e);return this},D.prototype.subM=function(e){if(e=I.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e.get(t,n));return this},D.sub=function(e,t){return new I(e).sub(t)},D.prototype.subtract=D.prototype.sub,D.prototype.subtractS=D.prototype.subS,D.prototype.subtractM=D.prototype.subM,D.subtract=D.sub,D.prototype.mul=function(e){return"number"===typeof e?this.mulS(e):this.mulM(e)},D.prototype.mulS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this},D.prototype.mulM=function(e){if(e=I.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e.get(t,n));return this},D.mul=function(e,t){return new I(e).mul(t)},D.prototype.multiply=D.prototype.mul,D.prototype.multiplyS=D.prototype.mulS,D.prototype.multiplyM=D.prototype.mulM,D.multiply=D.mul,D.prototype.div=function(e){return"number"===typeof e?this.divS(e):this.divM(e)},D.prototype.divS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e);return this},D.prototype.divM=function(e){if(e=I.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e.get(t,n));return this},D.div=function(e,t){return new I(e).div(t)},D.prototype.divide=D.prototype.div,D.prototype.divideS=D.prototype.divS,D.prototype.divideM=D.prototype.divM,D.divide=D.div,D.prototype.mod=function(e){return"number"===typeof e?this.modS(e):this.modM(e)},D.prototype.modS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e);return this},D.prototype.modM=function(e){if(e=I.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e.get(t,n));return this},D.mod=function(e,t){return new I(e).mod(t)},D.prototype.modulus=D.prototype.mod,D.prototype.modulusS=D.prototype.modS,D.prototype.modulusM=D.prototype.modM,D.modulus=D.mod,D.prototype.and=function(e){return"number"===typeof e?this.andS(e):this.andM(e)},D.prototype.andS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e);return this},D.prototype.andM=function(e){if(e=I.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e.get(t,n));return this},D.and=function(e,t){return new I(e).and(t)},D.prototype.or=function(e){return"number"===typeof e?this.orS(e):this.orM(e)},D.prototype.orS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e);return this},D.prototype.orM=function(e){if(e=I.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e.get(t,n));return this},D.or=function(e,t){return new I(e).or(t)},D.prototype.xor=function(e){return"number"===typeof e?this.xorS(e):this.xorM(e)},D.prototype.xorS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e);return this},D.prototype.xorM=function(e){if(e=I.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e.get(t,n));return this},D.xor=function(e,t){return new I(e).xor(t)},D.prototype.leftShift=function(e){return"number"===typeof e?this.leftShiftS(e):this.leftShiftM(e)},D.prototype.leftShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e);return this},D.prototype.leftShiftM=function(e){if(e=I.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e.get(t,n));return this},D.leftShift=function(e,t){return new I(e).leftShift(t)},D.prototype.signPropagatingRightShift=function(e){return"number"===typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},D.prototype.signPropagatingRightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e);return this},D.prototype.signPropagatingRightShiftM=function(e){if(e=I.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e.get(t,n));return this},D.signPropagatingRightShift=function(e,t){return new I(e).signPropagatingRightShift(t)},D.prototype.rightShift=function(e){return"number"===typeof e?this.rightShiftS(e):this.rightShiftM(e)},D.prototype.rightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e);return this},D.prototype.rightShiftM=function(e){if(e=I.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e.get(t,n));return this},D.rightShift=function(e,t){return new I(e).rightShift(t)},D.prototype.zeroFillRightShift=D.prototype.rightShift,D.prototype.zeroFillRightShiftS=D.prototype.rightShiftS,D.prototype.zeroFillRightShiftM=D.prototype.rightShiftM,D.zeroFillRightShift=D.rightShift,D.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},D.not=function(e){return new I(e).not()},D.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},D.abs=function(e){return new I(e).abs()},D.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},D.acos=function(e){return new I(e).acos()},D.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},D.acosh=function(e){return new I(e).acosh()},D.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},D.asin=function(e){return new I(e).asin()},D.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},D.asinh=function(e){return new I(e).asinh()},D.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},D.atan=function(e){return new I(e).atan()},D.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},D.atanh=function(e){return new I(e).atanh()},D.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},D.cbrt=function(e){return new I(e).cbrt()},D.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},D.ceil=function(e){return new I(e).ceil()},D.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},D.clz32=function(e){return new I(e).clz32()},D.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},D.cos=function(e){return new I(e).cos()},D.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},D.cosh=function(e){return new I(e).cosh()},D.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},D.exp=function(e){return new I(e).exp()},D.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},D.expm1=function(e){return new I(e).expm1()},D.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},D.floor=function(e){return new I(e).floor()},D.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},D.fround=function(e){return new I(e).fround()},D.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},D.log=function(e){return new I(e).log()},D.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},D.log1p=function(e){return new I(e).log1p()},D.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},D.log10=function(e){return new I(e).log10()},D.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},D.log2=function(e){return new I(e).log2()},D.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},D.round=function(e){return new I(e).round()},D.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},D.sign=function(e){return new I(e).sign()},D.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},D.sin=function(e){return new I(e).sin()},D.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},D.sinh=function(e){return new I(e).sinh()},D.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},D.sqrt=function(e){return new I(e).sqrt()},D.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},D.tan=function(e){return new I(e).tan()},D.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},D.tanh=function(e){return new I(e).tanh()},D.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},D.trunc=function(e){return new I(e).trunc()},D.pow=function(e,t){return new I(e).pow(t)},D.prototype.pow=function(e){return"number"===typeof e?this.powS(e):this.powM(e)},D.prototype.powS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e));return this},D.prototype.powM=function(e){if(e=I.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e.get(t,n)));return this}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o.argMax})),n.d(t,"h",(function(){return o.oneHot})),n.d(t,"i",(function(){return o.scalar})),n.d(t,"d",(function(){return o.image})),n.d(t,"m",(function(){return o.train})),n.d(t,"l",(function(){return o.tidy})),n.d(t,"b",(function(){return o.browser})),n.d(t,"e",(function(){return o.io})),n.d(t,"k",(function(){return o.serialization})),n.d(t,"n",(function(){return o.util})),n.d(t,"g",(function(){return Po})),n.d(t,"j",(function(){return Ro})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return i}));var r={};n.r(r),n.d(r,"inputLayer",(function(){return Xs})),n.d(r,"elu",(function(){return Ys})),n.d(r,"reLU",(function(){return Ks})),n.d(r,"leakyReLU",(function(){return $s})),n.d(r,"prelu",(function(){return Zs})),n.d(r,"softmax",(function(){return Js})),n.d(r,"thresholdedReLU",(function(){return Qs})),n.d(r,"conv1d",(function(){return ec})),n.d(r,"conv2d",(function(){return tc})),n.d(r,"conv2dTranspose",(function(){return nc})),n.d(r,"conv3d",(function(){return rc})),n.d(r,"conv3dTranspose",(function(){return ac})),n.d(r,"separableConv2d",(function(){return ic})),n.d(r,"cropping2D",(function(){return oc})),n.d(r,"upSampling2d",(function(){return uc})),n.d(r,"depthwiseConv2d",(function(){return sc})),n.d(r,"activation",(function(){return cc})),n.d(r,"dense",(function(){return lc})),n.d(r,"dropout",(function(){return fc})),n.d(r,"spatialDropout1d",(function(){return dc})),n.d(r,"flatten",(function(){return hc})),n.d(r,"repeatVector",(function(){return pc})),n.d(r,"reshape",(function(){return vc})),n.d(r,"permute",(function(){return mc})),n.d(r,"embedding",(function(){return gc})),n.d(r,"add",(function(){return bc})),n.d(r,"average",(function(){return yc})),n.d(r,"concatenate",(function(){return xc})),n.d(r,"maximum",(function(){return wc})),n.d(r,"minimum",(function(){return Oc})),n.d(r,"multiply",(function(){return kc})),n.d(r,"dot",(function(){return jc})),n.d(r,"batchNormalization",(function(){return _c})),n.d(r,"layerNormalization",(function(){return Sc})),n.d(r,"zeroPadding2d",(function(){return Ec})),n.d(r,"averagePooling1d",(function(){return Ac})),n.d(r,"avgPool1d",(function(){return Cc})),n.d(r,"avgPooling1d",(function(){return Nc})),n.d(r,"averagePooling2d",(function(){return Tc})),n.d(r,"avgPool2d",(function(){return Dc})),n.d(r,"avgPooling2d",(function(){return Ic})),n.d(r,"averagePooling3d",(function(){return Mc})),n.d(r,"avgPool3d",(function(){return Fc})),n.d(r,"avgPooling3d",(function(){return Rc})),n.d(r,"globalAveragePooling1d",(function(){return Pc})),n.d(r,"globalAveragePooling2d",(function(){return zc})),n.d(r,"globalMaxPooling1d",(function(){return Bc})),n.d(r,"globalMaxPooling2d",(function(){return Lc})),n.d(r,"maxPooling1d",(function(){return Uc})),n.d(r,"maxPooling2d",(function(){return Wc})),n.d(r,"maxPooling3d",(function(){return Vc})),n.d(r,"gru",(function(){return Hc})),n.d(r,"gruCell",(function(){return Gc})),n.d(r,"lstm",(function(){return qc})),n.d(r,"lstmCell",(function(){return Xc})),n.d(r,"simpleRNN",(function(){return Yc})),n.d(r,"simpleRNNCell",(function(){return Kc})),n.d(r,"convLstm2d",(function(){return $c})),n.d(r,"convLstm2dCell",(function(){return Zc})),n.d(r,"rnn",(function(){return Jc})),n.d(r,"stackedRNNCells",(function(){return Qc})),n.d(r,"bidirectional",(function(){return el})),n.d(r,"timeDistributed",(function(){return tl})),n.d(r,"globalMaxPool1d",(function(){return nl})),n.d(r,"globalMaxPool2d",(function(){return rl})),n.d(r,"maxPool1d",(function(){return al})),n.d(r,"maxPool2d",(function(){return il})),n.d(r,"Layer",(function(){return Ba})),n.d(r,"RNN",(function(){return Bu})),n.d(r,"RNNCell",(function(){return Lu})),n.d(r,"input",(function(){return zo})),n.d(r,"gaussianNoise",(function(){return ol})),n.d(r,"gaussianDropout",(function(){return ul})),n.d(r,"alphaDropout",(function(){return sl})),n.d(r,"masking",(function(){return cl}));var a={};n.r(a),n.d(a,"abs",(function(){return ll.b})),n.d(a,"acos",(function(){return ll.c})),n.d(a,"acosh",(function(){return ll.d})),n.d(a,"add",(function(){return ll.e})),n.d(a,"addN",(function(){return ll.f})),n.d(a,"all",(function(){return ll.g})),n.d(a,"any",(function(){return ll.h})),n.d(a,"argMax",(function(){return ll.i})),n.d(a,"argMin",(function(){return ll.j})),n.d(a,"asin",(function(){return ll.k})),n.d(a,"asinh",(function(){return ll.l})),n.d(a,"atan",(function(){return ll.m})),n.d(a,"atan2",(function(){return ll.n})),n.d(a,"atanh",(function(){return ll.o})),n.d(a,"avgPool",(function(){return ll.p})),n.d(a,"avgPool3d",(function(){return ll.q})),n.d(a,"basicLSTMCell",(function(){return ll.r})),n.d(a,"batchToSpaceND",(function(){return ll.w})),n.d(a,"batchNorm",(function(){return ll.s})),n.d(a,"batchNorm2d",(function(){return ll.t})),n.d(a,"batchNorm3d",(function(){return ll.u})),n.d(a,"batchNorm4d",(function(){return ll.v})),n.d(a,"bincount",(function(){return ll.x})),n.d(a,"broadcastArgs",(function(){return ll.z})),n.d(a,"broadcastTo",(function(){return ll.A})),n.d(a,"buffer",(function(){return ll.B})),n.d(a,"cast",(function(){return ll.C})),n.d(a,"ceil",(function(){return ll.D})),n.d(a,"clipByValue",(function(){return ll.E})),n.d(a,"clone",(function(){return ll.F})),n.d(a,"complex",(function(){return ll.G})),n.d(a,"concat",(function(){return ll.H})),n.d(a,"concat1d",(function(){return ll.I})),n.d(a,"concat2d",(function(){return ll.J})),n.d(a,"concat3d",(function(){return ll.K})),n.d(a,"concat4d",(function(){return ll.L})),n.d(a,"conv1d",(function(){return ll.M})),n.d(a,"conv2d",(function(){return ll.N})),n.d(a,"conv2dTranspose",(function(){return ll.O})),n.d(a,"conv3d",(function(){return ll.P})),n.d(a,"conv3dTranspose",(function(){return ll.Q})),n.d(a,"cos",(function(){return ll.R})),n.d(a,"cosh",(function(){return ll.S})),n.d(a,"cumsum",(function(){return ll.U})),n.d(a,"denseBincount",(function(){return ll.V})),n.d(a,"depthToSpace",(function(){return ll.W})),n.d(a,"depthwiseConv2d",(function(){return ll.X})),n.d(a,"diag",(function(){return ll.Y})),n.d(a,"dilation2d",(function(){return ll.Z})),n.d(a,"div",(function(){return ll.ab})),n.d(a,"divNoNan",(function(){return ll.bb})),n.d(a,"dot",(function(){return ll.cb})),n.d(a,"einsum",(function(){return ll.eb})),n.d(a,"elu",(function(){return ll.fb})),n.d(a,"equal",(function(){return ll.hb})),n.d(a,"erf",(function(){return ll.ib})),n.d(a,"exp",(function(){return ll.jb})),n.d(a,"expandDims",(function(){return ll.kb})),n.d(a,"expm1",(function(){return ll.lb})),n.d(a,"eye",(function(){return ll.mb})),n.d(a,"fill",(function(){return ll.ob})),n.d(a,"floor",(function(){return ll.pb})),n.d(a,"floorDiv",(function(){return ll.qb})),n.d(a,"gather",(function(){return ll.sb})),n.d(a,"greater",(function(){return ll.ub})),n.d(a,"greaterEqual",(function(){return ll.vb})),n.d(a,"imag",(function(){return ll.xb})),n.d(a,"isFinite",(function(){return ll.Bb})),n.d(a,"isInf",(function(){return ll.Cb})),n.d(a,"isNaN",(function(){return ll.Db})),n.d(a,"leakyRelu",(function(){return ll.Eb})),n.d(a,"less",(function(){return ll.Fb})),n.d(a,"lessEqual",(function(){return ll.Gb})),n.d(a,"linspace",(function(){return ll.Ib})),n.d(a,"localResponseNormalization",(function(){return ll.Jb})),n.d(a,"log",(function(){return ll.Kb})),n.d(a,"log1p",(function(){return ll.Lb})),n.d(a,"logSigmoid",(function(){return ll.Mb})),n.d(a,"logSoftmax",(function(){return ll.Nb})),n.d(a,"logSumExp",(function(){return ll.Ob})),n.d(a,"logicalAnd",(function(){return ll.Pb})),n.d(a,"logicalNot",(function(){return ll.Qb})),n.d(a,"logicalOr",(function(){return ll.Rb})),n.d(a,"logicalXor",(function(){return ll.Sb})),n.d(a,"matMul",(function(){return ll.Ub})),n.d(a,"max",(function(){return ll.Vb})),n.d(a,"maxPool",(function(){return ll.Wb})),n.d(a,"maxPool3d",(function(){return ll.Xb})),n.d(a,"maxPoolWithArgmax",(function(){return ll.Yb})),n.d(a,"maximum",(function(){return ll.Zb})),n.d(a,"mean",(function(){return ll.ac})),n.d(a,"meshgrid",(function(){return ll.bc})),n.d(a,"min",(function(){return ll.cc})),n.d(a,"minimum",(function(){return ll.dc})),n.d(a,"mirrorPad",(function(){return ll.ec})),n.d(a,"mod",(function(){return ll.fc})),n.d(a,"moments",(function(){return ll.gc})),n.d(a,"mul",(function(){return ll.ic})),n.d(a,"multiRNNCell",(function(){return ll.jc})),n.d(a,"multinomial",(function(){return ll.kc})),n.d(a,"neg",(function(){return ll.lc})),n.d(a,"notEqual",(function(){return ll.nc})),n.d(a,"oneHot",(function(){return ll.oc})),n.d(a,"ones",(function(){return ll.pc})),n.d(a,"onesLike",(function(){return ll.qc})),n.d(a,"outerProduct",(function(){return ll.sc})),n.d(a,"pad",(function(){return ll.tc})),n.d(a,"pad1d",(function(){return ll.uc})),n.d(a,"pad2d",(function(){return ll.vc})),n.d(a,"pad3d",(function(){return ll.wc})),n.d(a,"pad4d",(function(){return ll.xc})),n.d(a,"pool",(function(){return ll.yc})),n.d(a,"pow",(function(){return ll.zc})),n.d(a,"prelu",(function(){return ll.Ac})),n.d(a,"print",(function(){return ll.Bc})),n.d(a,"prod",(function(){return ll.Cc})),n.d(a,"rand",(function(){return ll.Dc})),n.d(a,"randomGamma",(function(){return ll.Ec})),n.d(a,"randomNormal",(function(){return ll.Fc})),n.d(a,"randomUniform",(function(){return ll.Gc})),n.d(a,"range",(function(){return ll.Hc})),n.d(a,"real",(function(){return ll.Ic})),n.d(a,"reciprocal",(function(){return ll.Jc})),n.d(a,"relu",(function(){return ll.Kc})),n.d(a,"relu6",(function(){return ll.Lc})),n.d(a,"reshape",(function(){return ll.Mc})),n.d(a,"reverse",(function(){return ll.Nc})),n.d(a,"reverse1d",(function(){return ll.Oc})),n.d(a,"reverse2d",(function(){return ll.Pc})),n.d(a,"reverse3d",(function(){return ll.Qc})),n.d(a,"reverse4d",(function(){return ll.Rc})),n.d(a,"round",(function(){return ll.Tc})),n.d(a,"rsqrt",(function(){return ll.Uc})),n.d(a,"scalar",(function(){return ll.Vc})),n.d(a,"selu",(function(){return ll.Xc})),n.d(a,"separableConv2d",(function(){return ll.Yc})),n.d(a,"setdiff1dAsync",(function(){return ll.Zc})),n.d(a,"sigmoid",(function(){return ll.ad})),n.d(a,"sign",(function(){return ll.bd})),n.d(a,"sin",(function(){return ll.dd})),n.d(a,"sinh",(function(){return ll.ed})),n.d(a,"slice",(function(){return ll.fd})),n.d(a,"slice1d",(function(){return ll.gd})),n.d(a,"slice2d",(function(){return ll.hd})),n.d(a,"slice3d",(function(){return ll.id})),n.d(a,"slice4d",(function(){return ll.jd})),n.d(a,"softmax",(function(){return ll.kd})),n.d(a,"softplus",(function(){return ll.ld})),n.d(a,"spaceToBatchND",(function(){return ll.md})),n.d(a,"fft",(function(){return ll.nb})),n.d(a,"ifft",(function(){return ll.wb})),n.d(a,"irfft",(function(){return ll.Ab})),n.d(a,"rfft",(function(){return ll.Sc})),n.d(a,"split",(function(){return ll.qd})),n.d(a,"sqrt",(function(){return ll.rd})),n.d(a,"square",(function(){return ll.sd})),n.d(a,"squaredDifference",(function(){return ll.td})),n.d(a,"squeeze",(function(){return ll.ud})),n.d(a,"stack",(function(){return ll.vd})),n.d(a,"step",(function(){return ll.wd})),n.d(a,"stridedSlice",(function(){return ll.xd})),n.d(a,"sub",(function(){return ll.zd})),n.d(a,"sum",(function(){return ll.Ad})),n.d(a,"tan",(function(){return ll.Bd})),n.d(a,"tanh",(function(){return ll.Cd})),n.d(a,"tensor",(function(){return ll.Dd})),n.d(a,"tensor1d",(function(){return ll.Ed})),n.d(a,"tensor2d",(function(){return ll.Fd})),n.d(a,"tensor3d",(function(){return ll.Gd})),n.d(a,"tensor4d",(function(){return ll.Hd})),n.d(a,"tensor5d",(function(){return ll.Id})),n.d(a,"tensor6d",(function(){return ll.Jd})),n.d(a,"tile",(function(){return ll.Kd})),n.d(a,"topk",(function(){return ll.Ld})),n.d(a,"truncatedNormal",(function(){return ll.Nd})),n.d(a,"unique",(function(){return ll.Od})),n.d(a,"unsortedSegmentSum",(function(){return ll.Pd})),n.d(a,"unstack",(function(){return ll.Qd})),n.d(a,"variable",(function(){return ll.Rd})),n.d(a,"where",(function(){return ll.Sd})),n.d(a,"whereAsync",(function(){return ll.Td})),n.d(a,"zeros",(function(){return ll.Ud})),n.d(a,"zerosLike",(function(){return ll.Vd})),n.d(a,"booleanMaskAsync",(function(){return ll.y})),n.d(a,"transpose",(function(){return ll.Md})),n.d(a,"norm",(function(){return ll.mc})),n.d(a,"movingAverage",(function(){return ll.hc})),n.d(a,"scatterND",(function(){return ll.Wc})),n.d(a,"sparseToDense",(function(){return ll.od})),n.d(a,"gatherND",(function(){return ll.tb})),n.d(a,"dropout",(function(){return ll.db})),n.d(a,"enclosingPowerOfTwo",(function(){return ll.gb})),n.d(a,"cosineWindow",(function(){return ll.T})),n.d(a,"inTopKAsync",(function(){return ll.zb})),n.d(a,"op",(function(){return ll.rc})),n.d(a,"OP_SCOPE_SUFFIX",(function(){return ll.a})),n.d(a,"image",(function(){return ll.yb})),n.d(a,"linalg",(function(){return ll.Hb})),n.d(a,"losses",(function(){return ll.Tb})),n.d(a,"spectral",(function(){return ll.pd})),n.d(a,"fused",(function(){return ll.rb})),n.d(a,"signal",(function(){return ll.cd})),n.d(a,"sparse",(function(){return ll.nd})),n.d(a,"string",(function(){return ll.yd}));var i={};n.r(i),n.d(i,"array",(function(){return ml})),n.d(i,"Dataset",(function(){return pl})),n.d(i,"zip",(function(){return gl})),n.d(i,"CSVDataset",(function(){return Sl})),n.d(i,"TextLineDataset",(function(){return yl})),n.d(i,"csv",(function(){return Pl})),n.d(i,"func",(function(){return zl})),n.d(i,"generator",(function(){return Bl})),n.d(i,"microphone",(function(){return Wl})),n.d(i,"webcam",(function(){return Ll})),n.d(i,"FileDataSource",(function(){return Fl})),n.d(i,"URLDataSource",(function(){return Rl})),n.d(i,"version_data",(function(){return Hl}));var o=n(0),u=n(6),s=n(10),c=n(35),l=n(24),f=n(160),d={kernelName:s.a,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(f.a)(Object(c.a)(n,"float32"),-1))}}}},h=n(41),p=n(69),v=n(46),m=n(85),g=n(63),b=n(40),y={kernelName:s.b,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){var t=Object(g.a)(Object(c.a)(n,"float32")),r=Object(m.a)(Object(b.a)(Object(v.a)(1),t));return Object(p.a)(Object(h.a)(e,r))}}}},x={kernelName:s.c,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){var t=Object(m.a)(Object(b.a)(Object(g.a)(Object(c.a)(n,"float32")),1));return Object(h.a)(e,t)}}}},w=n(42),O=n(21),k=n(43),j={kernelName:s.d,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=w.assertAndGetBroadcastShape(r.shape,a.shape);return{a:function(){var t=e,n=w.getReductionAxes(r.shape,i);return n.length>0&&(t=Object(k.a)(t,n)),Object(O.a)(t,r.shape)},b:function(){var t=e,n=w.getReductionAxes(a.shape,i);return n.length>0&&(t=Object(k.a)(t,n)),Object(O.a)(t,a.shape)}}}},_={kernelName:s.e,saveAllInputs:!0,gradFunc:function(e,t){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}},S=n(49),E={kernelName:s.h,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(S.a)(n)}}}},A={kernelName:s.i,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(S.a)(n)}}}},C={kernelName:s.j,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(m.a)(Object(b.a)(Object(v.a)(1),Object(g.a)(Object(c.a)(n,"float32")))))}}}},N=n(39),T={kernelName:s.k,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){var t=Object(m.a)(Object(N.a)(Object(v.a)(1),Object(g.a)(Object(c.a)(n,"float32"))));return Object(h.a)(e,t)}}}},D={kernelName:s.m,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(w.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=Object(N.a)(Object(g.a)(r),Object(g.a)(a)),n=Object(l.a)(e,Object(h.a)(a,t)),o=Object(w.getReductionAxes)(r.shape,i);return o.length>0&&(n=Object(k.a)(n,o)),Object(O.a)(n,r.shape)},b:function(){var t=Object(N.a)(Object(g.a)(r),Object(g.a)(a)),n=Object(p.a)(Object(l.a)(e,Object(h.a)(r,t))),o=Object(w.getReductionAxes)(a.shape,i);return o.length>0&&(n=Object(k.a)(n,o)),Object(O.a)(n,a.shape)}}}},I={kernelName:s.l,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(N.a)(Object(g.a)(Object(c.a)(n,"float32")),1))}}}},M={kernelName:s.n,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(b.a)(Object(v.a)(1),Object(g.a)(Object(c.a)(n,"float32"))))}}}},F=n(14),R=n(9),P=n(23),z=n(56),B=n(13);var L=Object(B.b)({avgPool3dGrad_:function(e,t,n,r,a,i){var o=Object(R.a)(e,"dy","avgPool3dGrad"),u=Object(R.a)(t,"input","avgPool3dGrad"),c=o,l=u,f=!1;4===u.rank&&(f=!0,c=Object(O.a)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),l=Object(O.a)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),P.b(5===c.rank,(function(){return"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(c.rank,".")})),P.b(5===l.rank,(function(){return"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(l.rank,".")})),Object(z.a)("avgPool3dGrad",a,i);var d={dy:c,input:l},h={filterSize:n,strides:r,pad:a,dimRoundingMode:i},p=F.a.runKernel(s.q,d,h);return f?Object(O.a)(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),U={kernelName:s.p,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.filterSize,i=n.strides,o=n.pad,s=n.dimRoundingMode;return{x:function(){return L(e,r,a,i,o,s)}}}};var W=Object(B.b)({avgPoolGrad_:function(e,t,n,r,a){var i=Object(R.a)(e,"dy","avgPoolGrad"),o=Object(R.a)(t,"input","avgPoolGrad");P.b(o.rank===i.rank,(function(){return"Rank of input (".concat(o.rank,") does not match rank of dy (").concat(i.rank,")")}));var u=o,c=i,l=!1;3===o.rank&&(l=!0,u=Object(O.a)(o,[1,o.shape[0],o.shape[1],o.shape[2]]),c=Object(O.a)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),P.b(4===c.rank,(function(){return"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(c.rank,".")})),P.b(4===u.rank,(function(){return"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(u.rank,".")}));var f={dy:c,input:u},d={filterSize:n,strides:r,pad:a},h=F.a.runKernel(s.r,f,d);return l?Object(O.a)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}}),V={kernelName:s.o,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.filterSize,i=n.strides,o=n.pad;return{x:function(){return W(e,r,a,i,o)}}}},H=n(61),G={kernelName:s.s,inputsToSave:["a","b"],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.transposeA,s=n.transposeB;return o||s?!o&&s?{a:function(){return Object(H.a)(e,i,!1,!1)},b:function(){return Object(H.a)(e,a,!0,!1)}}:o&&!s?{a:function(){return Object(H.a)(i,e,!1,!0)},b:function(){return Object(H.a)(a,e,!1,!1)}}:{a:function(){return Object(H.a)(i,e,!0,!0)},b:function(){return Object(H.a)(e,a,!0,!0)}}:{a:function(){return Object(H.a)(e,i,!1,!0)},b:function(){return Object(H.a)(a,e,!0,!1)}}}},q=n(196),X={kernelName:s.t,gradFunc:function(e,t,n){var r=n.blockShape,a=n.crops;return{x:function(){return Object(q.a)(e,r,a)}}}},Y={kernelName:s.w,gradFunc:function(e,t,n){for(var r=n,a=r.inputShape,i=r.shape,o=Array.from(i),u=a.length-1;u>=0;u--)if(a[u]===i[u])o[u]=1;else if(1!==a[u])throw new Error("broadcastTo(): [".concat(a,"] cannot be broadcast to [").concat(i,"]."));for(var s=[],c=0;c<o.length;c++)o[c]>1&&s.push(c);return{x:function(){return Object(k.a)(e,s,!0)}}}},K={kernelName:s.x,gradFunc:function(e){return{x:function(){return e.clone()}}}},$={kernelName:s.y,gradFunc:function(e){return{x:function(){return Object(S.a)(e)}}}},Z=n(135),J=n(117),Q=n(122),ee=n(79),te={kernelName:s.z,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.clipValueMin,i=n.clipValueMax;return{x:function(){return Object(ee.a)(Object(Q.a)(Object(Z.a)(r,a),Object(J.a)(r,i)),e,Object(S.a)(e))}}}},ne={kernelName:s.B,inputsToSave:["x"],gradFunc:d.gradFunc},re=n(123),ae={kernelName:s.C,saveAllInputs:!0,gradFunc:function(e,t,n){var r=t.map((function(e){return e.shape})),a=n.axis,i=Object(P.I)(a,t[0].shape)[0],o=r.map((function(e){return e[i]}));return Object(re.a)(e,o,i).map((function(e){return function(){return e}}))}},ie=n(268),oe=n(265),ue={kernelName:s.D,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.dilations,s=n.strides,c=n.pad,l=n.dataFormat;return P.b(z.j(o),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(o,"'")})),{x:function(){return Object(oe.a)(a.shape,e,i,s,c,l)},filter:function(){return Object(ie.a)(a,e,i.shape,s,c,l)}}}},se=n(134),ce={kernelName:s.F,inputsToSave:["dy","filter"],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.strides,s=n.pad,c=n.dataFormat,l=n.dimRoundingMode;return{dy:function(){return Object(se.a)(e,i,o,s,c,1,l)},filter:function(){return Object(ie.a)(e,a,i.shape,o,s,c,l)}}}};var le=Object(B.b)({conv3DBackpropFilter_:function(e,t,n,r,a){var i=e;4===e.rank&&(i=Object(O.a)(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));var o=t;4===o.rank&&(o=Object(O.a)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),P.b(5===i.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(i.shape,".")})),P.b(5===o.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(o.shape,".")})),P.b(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,".")})),P.b(i.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input ".concat(i.shape[4],") must ")+"match input depth in filter (".concat(n[3],".")})),P.b(o.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy (".concat(o.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")}));var u={x:i,dy:o},c={strides:r,pad:a,filterShape:n};return F.a.runKernel(s.H,u,c)}}),fe=n(380),de={kernelName:s.G,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,i=n.pad;P.b(Object(z.j)(r),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(r,"'")}));var o=Object(u.a)(t,2),s=o[0],c=o[1];return{x:function(){return Object(fe.a)(s.shape,e,c,a,i)},filter:function(){return le(s,e,c.shape,a,i)}}}},he=n(357),pe={kernelName:s.J,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(Object(p.a)(Object(he.a)(Object(c.a)(n,"float32"))),e)}}}},ve=n(358),me={kernelName:s.K,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(Object(ve.a)(Object(c.a)(n,"float32")),e)}}}},ge=n(88),be=n(245),ye=n(107),xe={kernelName:s.M,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.axis,i=n.exclusive,o=n.reverse;return{x:function(){var t=Object(ge.f)([a],r.rank),n=Object(be.a)(e,a,i,!o);return null!=t&&(n=Object(ye.a)(n,t)),n}}}},we=n(384),Oe=n(383),ke={kernelName:s.P,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,i=n.pad,o=n.dimRoundingMode,s=null==r?[1,1]:r;P.b(z.j(s),(function(){return"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")}));var c=Object(u.a)(t,2),l=c[0],f=c[1];return P.b(4===l.rank,(function(){return"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(l.rank,".")})),P.b(4===f.rank,(function(){return"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(f.rank,".")})),P.b(l.shape[3]===f.shape[2],(function(){return"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(l.shape[3],") must match the inChannels dimension ")+"in filter ".concat(f.shape[2],".")})),P.b(z.i(a,s),(function(){return"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(a," and dilations ")+"'".concat(s,"'.")})),z.a("depthwiseConv2d",i,o),{x:function(){return Object(Oe.a)(l.shape,e,f,a,i,s,o)},filter:function(){return Object(we.a)(l,e,f.shape,a,i,s,o)}}}},je={kernelName:s.T,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o={x:a,filter:i,dy:e},c={x:a,filter:i,dy:e};return{x:function(){return F.a.runKernel(s.V,o,n)},filter:function(){return F.a.runKernel(s.U,c,n)}}}},_e={kernelName:s.X,outputsToSave:[!0],gradFunc:function(e,t){var n={dy:e,y:Object(u.a)(t,1)[0]};return{x:function(){return F.a.runKernel(s.Y,n)}}}},Se=n(89),Ee={kernelName:s.ab,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0],r=Object(l.a)(Object(Se.a)(Object(p.a)(Object(g.a)(n))),2/Math.sqrt(Math.PI));return{x:function(){return Object(l.a)(e,r)}}}},Ae={kernelName:s.bb,outputsToSave:[!0],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,n)}}}},Ce={kernelName:s.cb,inputsToSave:["input"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{input:function(){return Object(O.a)(e,n.shape)}}}},Ne={kernelName:s.db,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(Se.a)(n))}}}},Te={kernelName:s.hb,gradFunc:function(e){return{x:function(){return Object(S.a)(e)}}}},De={kernelName:s.ib,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(w.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=Object(h.a)(e,Object(c.a)(a,"float32")),n=Object(w.getReductionAxes)(r.shape,i);return n.length>0?Object(O.a)(Object(k.a)(t,n),r.shape):t},b:function(){var t=Object(l.a)(e,Object(c.a)(r,"float32")),n=Object(w.getReductionAxes)(a.shape,i);n.length>0&&(t=Object(O.a)(Object(k.a)(t,n),a.shape));var o=Object(g.a)(a);return Object(p.a)(Object(h.a)(t,Object(c.a)(o,"float32")))}}}},Ie=n(354),Me=n(138),Fe={kernelName:s.kb,inputsToSave:["x","mean","variance","scale"],gradFunc:function(e,t,n){var r=n.varianceEpsilon,a=Object(u.a)(t,4),i=a[0],o=a[1],s=a[2],c=a[3],f=null==c?Object(v.a)(1):c,d=Object(w.getReductionAxes)(o.shape,i.shape),h=[];if(1===o.rank){for(var p=0;p<i.shape.length-1;++p)h.push(i.shape[p]);h.push(1)}var m=Object(b.a)(i,o),g=Object(l.a)(e,f),y=Object(Ie.a)(Object(N.a)(s,Object(v.a)(r))),x=Object(l.a)(Object(l.a)(Object(l.a)(y,y),y),Object(v.a)(-.5));return{x:function(){return 1===o.rank?Object(O.a)(Object(l.a)(Object(l.a)(e,Object(Me.a)(Object(O.a)(y,[1,1,1,o.shape[0]]),h)),f),i.shape):Object(O.a)(Object(l.a)(Object(l.a)(e,y),f),i.shape)},mean:function(){var e=Object(l.a)(Object(l.a)(y,Object(v.a)(-1)),g);return 1===o.rank&&(e=Object(k.a)(e,d)),Object(O.a)(e,o.shape)},variance:function(){var e=Object(l.a)(Object(l.a)(x,m),g);return 1===o.rank&&(e=Object(k.a)(e,d)),Object(O.a)(e,o.shape)},scale:function(){var t=Object(l.a)(m,y),n=Object(l.a)(e,t);return 1===o.rank&&(n=Object(k.a)(n,d)),Object(O.a)(n,o.shape)},offset:function(){var t=e;return 1===o.rank&&(t=Object(k.a)(t,d)),Object(O.a)(t,o.shape)}}}},Re=n(261),Pe={kernelName:s.ob,inputsToSave:["x","indices"],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.axis,s=Object(P.I)(o,a.shape)[0];return{x:function(){var t=a.shape,n=i.size,r=t.slice(0,s),u=r.length,c=t.slice(o,t.length).slice(1),l=c.length,f=ze(0,u),d=ze(u+1,u+1+l),h=Be([r,[n],c]),p=Object(O.a)(e,h),v=Object(O.a)(i,[n]),m=Be([[u],f,d]),g=Object(ye.a)(p,m),b=Object(Re.a)(g,v,a.shape[s]),y=Object(ge.h)(m);return b=Object(ye.a)(b,y)},indices:function(){return i}}}};function ze(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function Be(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var Le={kernelName:s.qb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1];return{a:function(){return Object(S.a)(r)},b:function(){return Object(S.a)(a)}}}},Ue={kernelName:s.sb,gradFunc:function(e){return{x:function(){return Object(c.a)(e,"float32")}}}},We={kernelName:s.ub,gradFunc:function(e){return{x:function(){return Object(S.a)(e)}}}},Ve={kernelName:s.vb,gradFunc:function(e){return{x:function(){return Object(S.a)(e)}}}},He={kernelName:s.wb,gradFunc:function(e){return{x:function(){return Object(S.a)(e)}}}},Ge=n(90),qe={kernelName:s.zb,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.alpha,i=Object(Ge.a)(r,0);return{x:function(){return Object(ee.a)(i,e,Object(l.a)(e,a))}}}},Xe={kernelName:s.Eb,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(N.a)(n,1))}}}},Ye={kernelName:s.Db,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(c.a)(n,"float32"))}}}},Ke={kernelName:s.Fb,inputsToSave:[],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.axis;return{logits:function(){var t=Object(Se.a)(r);return Object(b.a)(e,Object(l.a)(Object(k.a)(e,a,!0),t))}}}};var $e=Object(B.b)({localResponseNormalizationBackprop_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5,u={x:e,y:t,dy:n},c={depthRadius:r,bias:a,alpha:i,beta:o};return F.a.runKernel(s.yb,u,c)}}),Ze={kernelName:s.xb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.depthRadius,s=n.bias,c=n.alpha,l=n.beta;return{x:function(){return $e(a,i,e,o,s,c,l)}}}},Je=n(193);function Qe(e,t,n,r){return t.rank<n.rank&&(t=Object(O.a)(t,ge.e(t.shape,r))),e.rank<n.rank&&(e=Object(O.a)(e,ge.e(e.shape,r))),{x:function(){return Object(l.a)(e,Object(c.a)(Object(Je.a)(n,t),e.dtype))}}}var et={kernelName:s.Jb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.reductionIndices,a=t[0],i=Qe(e,t[1],a,P.I(r,a.shape));return{x:function(){return i.x()}}}},tt=n(250),nt={kernelName:s.Pb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1];return{a:function(){return Object(l.a)(e,Object(c.a)(Object(Z.a)(r,a),"float32"))},b:function(){return Object(l.a)(e,Object(c.a)(Object(tt.a)(r,a),"float32"))}}}};var rt=Object(B.b)({maxPool3dGrad_:function(e,t,n,r,a,i,o){var u=Object(R.a)(e,"dy","maxPool3dGrad"),c=Object(R.a)(t,"input","maxPool3dGrad"),l=Object(R.a)(n,"output","maxPool3dGrad"),f=u,d=c,h=l,p=!1;4===c.rank&&(p=!0,f=Object(O.a)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),d=Object(O.a)(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),h=Object(O.a)(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),P.b(5===f.rank,(function(){return"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(f.rank,".")})),P.b(5===d.rank,(function(){return"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(d.rank,".")})),P.b(5===h.rank,(function(){return"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(h.rank,".")})),Object(z.a)("maxPool3dGrad",i,o);var v={dy:f,input:d,output:h},m={filterSize:r,strides:a,pad:i,dimRoundingMode:o},g=F.a.runKernel(s.Mb,v,m);return p?Object(O.a)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),at={kernelName:s.Lb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.filterSize,s=n.strides,c=n.pad,l=n.dimRoundingMode;return{x:function(){return rt(e,a,i,o,s,c,l)}}}};var it=Object(B.b)({maxPoolGrad_:function(e,t,n,r,a,i,o){var u=Object(R.a)(e,"dy","maxPoolGrad"),c=Object(R.a)(t,"input","maxPoolGrad"),l=Object(R.a)(n,"output","maxPoolGrad");P.b(c.rank===u.rank,(function(){return"Rank of input (".concat(c.rank,") does not match rank of dy ")+"(".concat(u.rank,")")})),P.b(4===u.rank,(function(){return"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(u.rank,".")})),P.b(4===c.rank,(function(){return"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(c.rank,".")})),z.a("maxPoolGrad",i,o);var f={dy:u,input:c,output:l},d={filterSize:r,strides:a,pad:i,dimRoundingMode:o};return F.a.runKernel(s.Nb,f,d)}}),ot={kernelName:s.Kb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.filterSize,s=n.strides,c=n.pad;return{x:function(){return it(e,a,i,o,s,c)}}}},ut=n(112),st={kernelName:s.Qb,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.axis,i=P.I(a,r.shape),o=Object(ge.d)(r.shape,i)[1],s=P.O(o);return{x:function(){var t=r.shape.slice();i.forEach((function(e){t[e]=1}));var n=Object(O.a)(e,t);return Object(h.a)(Object(l.a)(n,Object(ut.a)(r.shape,"float32")),s)}}}},ct={kernelName:s.Rb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.axis,a=Object(u.a)(t,2),i=a[0],o=Qe(e,a[1],i,P.I(r,i.shape));return{x:function(){return o.x()}}}},lt={kernelName:s.Sb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1];return{a:function(){return Object(l.a)(e,Object(c.a)(Object(J.a)(r,a),"float32"))},b:function(){return Object(l.a)(e,Object(c.a)(Object(Ge.a)(r,a),"float32"))}}}},ft=n(64),dt={kernelName:s.Tb,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return Object(ft.a)(e,a,r.shape)}}}},ht=n(247),pt={kernelName:s.Ub,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(w.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=Object(w.getReductionAxes)(r.shape,i);return t.length>0?Object(O.a)(Object(k.a)(e,t),r.shape):e},b:function(){var t=Object(l.a)(e,Object(p.a)(Object(ht.a)(Object(h.a)(r,a)))),n=Object(w.getReductionAxes)(a.shape,i);return n.length>0?Object(O.a)(Object(k.a)(t,n),a.shape):t}}}},vt={kernelName:s.Wb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(w.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=Object(l.a)(e,Object(c.a)(a,"float32")),n=Object(w.getReductionAxes)(r.shape,i);return n.length>0?Object(O.a)(Object(k.a)(t,n),r.shape):t},b:function(){var t=Object(l.a)(e,Object(c.a)(r,"float32")),n=Object(w.getReductionAxes)(a.shape,i);return n.length>0?Object(O.a)(Object(k.a)(t,n),a.shape):t}}}},mt={kernelName:s.Xb,gradFunc:function(e){return{x:function(){return Object(p.a)(e)}}}},gt=n(158),bt={kernelName:s.cc,inputsToSave:["indices"],gradFunc:function(e,t){var n=t[0];return{indices:function(){return Object(gt.a)(n.shape,"float32")}}}},yt={kernelName:s.dc,gradFunc:function(e){return{x:function(){return Object(S.a)(e)}}}},xt=n(161),wt={kernelName:s.ec,saveAllInputs:!0,gradFunc:function(e,t,n){var r=n.axis;return Object(xt.a)(e,r).map((function(e){return function(){return e}}))}},Ot={kernelName:s.fc,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return Object(ft.a)(e,a,r.shape)}}}},kt=n(151),jt=n(111),_t={kernelName:s.hc,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:function(e,t){var n=Object(u.a)(t,3),r=n[0],a=n[1],i=n[2],o=r,s=a,f=w.assertAndGetBroadcastShape(o.shape,s.shape);return{a:function(){var t=Object(c.a)(s,"float32"),n=Object(l.a)(e,Object(l.a)(t,Object(jt.a)(o,Object(b.a)(t,Object(v.a)(1))))),r=w.getReductionAxes(o.shape,f);return r.length>0&&(n=Object(k.a)(n,r)),Object(O.a)(n,o.shape)},b:function(){var t=Object(Ge.a)(o,0),n=Object(ee.a)(t,Object(kt.a)(o),Object(S.a)(o)),r=Object(l.a)(e,Object(l.a)(i,n)),a=w.getReductionAxes(s.shape,f);return a.length>0&&(r=Object(k.a)(r,a)),Object(O.a)(r,s.shape)}}}},St={kernelName:s.ic,inputsToSave:["x","alpha"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(Ge.a)(r,0);return{x:function(){return Object(ee.a)(i,e,Object(l.a)(e,a))},alpha:function(){var t=Object(ee.a)(i,Object(S.a)(e),Object(l.a)(e,r)),n=Object(w.getReductionAxes)(a.shape,e.shape);return n.length>0&&(t=Object(k.a)(t,n)),Object(O.a)(t,a.shape)}}}},Et={kernelName:s.mc,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=w.assertAndGetBroadcastShape(r.shape,a.shape);return{a:function(){var t=Object(h.a)(e,Object(c.a)(a,"float32")),n=w.getReductionAxes(r.shape,i);return n.length>0?Object(O.a)(Object(k.a)(t,n),r.shape):t},b:function(){var t=Object(l.a)(e,Object(c.a)(r,"float32")),n=w.getReductionAxes(a.shape,i);n.length>0&&(t=Object(O.a)(Object(k.a)(t,n),a.shape));var o=Object(g.a)(a);return Object(p.a)(Object(h.a)(t,Object(c.a)(o,"float32")))}}}},At={kernelName:s.nc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(p.a)(Object(g.a)(n)))}}}},Ct={kernelName:s.pc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0],r=Object(l.a)(Object(J.a)(n,6),Object(f.a)(n));return{x:function(){return Object(l.a)(e,Object(c.a)(r,"float32"))}}}},Nt={kernelName:s.oc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(c.a)(Object(f.a)(n),"float32"))}}}},Tt={kernelName:s.qc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(O.a)(e,n.shape)}}}},Dt={kernelName:s.rc,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:Object(u.a)(t,1)[0]};return{images:function(){return F.a.runKernel(s.sc,r,n)}}}},It={kernelName:s.tc,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:Object(u.a)(t,1)[0]};return{images:function(){return F.a.runKernel(s.uc,r,n)}}}},Mt=n(101),Ft={kernelName:s.vc,gradFunc:function(e,t,n){var r=n.dims,a=Object(P.I)(r,e.shape);return{x:function(){return Object(Mt.a)(e,a)}}}},Rt={kernelName:s.xc,gradFunc:function(e){return{x:function(){return Object(S.a)(e)}}}},Pt={kernelName:s.yc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(p.a)(Object(h.a)(e,Object(l.a)(Object(jt.a)(n,1.5),2)))}}}},zt=n(195),Bt={kernelName:s.Ac,inputsToSave:["condition"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{condition:function(){return Object(c.a)(Object(S.a)(n),"float32")},t:function(){return Object(l.a)(e,Object(c.a)(n,e.dtype))},e:function(){return Object(l.a)(e,Object(c.a)(Object(zt.a)(n),e.dtype))}}}},Lt=n(292),Ut={kernelName:s.Bc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){var t=Object(Ge.a)(n,Object(v.a)(0)),r=Object(v.a)(Lt.b),a=Object(v.a)(Lt.a),i=Object(l.a)(e,a),o=Object(l.a)(Object(l.a)(e,r),Object(Se.a)(Object(c.a)(n,"float32")));return Object(ee.a)(t,i,o)}}}},Wt={kernelName:s.Cc,outputsToSave:[!0],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(l.a)(n,Object(b.a)(Object(v.a)(1),n)))}}}},Vt={kernelName:s.Dc,gradFunc:function(e){return{x:function(){return Object(S.a)(e)}}}},Ht=n(244),Gt={kernelName:s.Ec,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(Object(Ht.a)(Object(c.a)(n,"float32")),e)}}}},qt=n(339),Xt={kernelName:s.Fc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(Object(qt.a)(Object(c.a)(n,"float32")),e)}}}},Yt=n(118),Kt=n(240),$t={kernelName:s.Gc,inputsToSave:["x"],gradFunc:function(e,t,n){for(var r=Object(u.a)(t,1)[0],a=n.begin,i=n.size,o=r.shape,s=Object(Kt.parseSliceParams)(r,a,i),c=Object(u.a)(s,2),l=c[0],f=c[1],d=[],h=0;h<e.rank;h++)d.push([l[h],o[h]-l[h]-f[h]]);return{x:function(){return Object(Yt.a)(e,d)}}}},Zt={kernelName:s.Hc,outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.dim,i=Object(l.a)(e,r);return{logits:function(){return Object(b.a)(i,Object(l.a)(Object(k.a)(i,[a],true),r))}}}},Jt=n(137),Qt={kernelName:s.Ic,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(Jt.a)(n))}}}},en=n(191),tn={kernelName:s.Jc,gradFunc:function(e,t,n){var r=n.blockShape,a=n.paddings;return{x:function(){return Object(en.a)(e,r,a)}}}},nn=n(75),rn={kernelName:s.Pc,gradFunc:function(e,t,n){var r=n.axis;return{x:function(){return Object(nn.a)(e,r)}}}},an={kernelName:s.Qc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(l.a)(Object(m.a)(Object(c.a)(n,"float32")),2))}}}},on={kernelName:s.Rc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(l.a)(Object(c.a)(n,"float32"),2))}}}},un={kernelName:s.Sc,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(v.a)(2);return{a:function(){return Object(l.a)(e,Object(l.a)(i,Object(b.a)(r,a)))},b:function(){return Object(l.a)(e,Object(l.a)(i,Object(b.a)(a,r)))}}}},sn={kernelName:s.Tc,gradFunc:function(e){return{x:function(){return Object(S.a)(e)}}}},cn={kernelName:s.Yc,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=w.assertAndGetBroadcastShape(r.shape,a.shape);return{a:function(){var t=e,n=w.getReductionAxes(r.shape,i);return n.length>0&&(t=Object(k.a)(t,n)),Object(O.a)(t,r.shape)},b:function(){var t=e,n=w.getReductionAxes(a.shape,i);return n.length>0&&(t=Object(k.a)(t,n)),Object(O.a)(Object(p.a)(t),a.shape)}}}},ln={kernelName:s.Zc,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=r.shape.slice(),i=n.axis;Object(P.I)(i,r.shape).forEach((function(e){a[e]=1}));var o=Object(O.a)(e,a),s=Object(l.a)(o,Object(ut.a)(r.shape,"float32"));return{x:function(){return s}}}},fn={kernelName:s.ad,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(g.a)(Object(Ht.a)(n)))}}}},dn={kernelName:s.bd,outputsToSave:[!0],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(Object(b.a)(Object(v.a)(1),Object(g.a)(n)),e)}}}},hn={kernelName:s.cd,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.reps;return{x:function(){var t=Object(S.a)(r);if(1===r.rank)for(var n=0;n<a[0];++n)t=Object(N.a)(t,Object(ft.a)(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var i=0;i<a[0];++i)for(var o=0;o<a[1];++o)t=Object(N.a)(t,Object(ft.a)(e,[i*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var u=0;u<a[0];++u)for(var s=0;s<a[1];++s)for(var c=0;c<a[2];++c)t=Object(N.a)(t,Object(ft.a)(e,[u*r.shape[0],s*r.shape[1],c*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(r.rank," tensors yet."));for(var l=0;l<a[0];++l)for(var f=0;f<a[1];++f)for(var d=0;d<a[2];++d)for(var h=0;h<a[3];++h)t=Object(N.a)(t,Object(ft.a)(e,[l*r.shape[0],f*r.shape[1],d*r.shape[2],h*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},pn={kernelName:s.fd,gradFunc:function(e,t,n){var r=n.perm,a=ge.h(r);return{x:function(){return Object(ye.a)(e,a)}}}},vn=n(124),mn={kernelName:s.hd,gradFunc:function(e,t,n){var r=n.axis;return{value:function(){return Object(vn.a)(e,r)}}}},gn=n(126),bn=n(194),yn=n(190),xn={kernelName:s.id,inputsToSave:["segmentIds"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return function(e,t){for(var n=Object(yn.a)(t,Object(S.a)(t)),r=Object(bn.a)(e,n),a=Object(Z.a)(t,Object(v.a)(0,"int32")),i=r.rank-a.rank,o=0;o<i;++o)a=Object(gn.a)(a,o+1);a=Object(Q.a)(a,Object(ut.a)(r.shape,"bool"));var u=Object(S.a)(r);return Object(ee.a)(a,r,u)}(e,n)}}}};for(var wn={kernelName:s.jd,gradFunc:function(e){return{x:function(){return Object(S.a)(e)}}}},On=n(125),kn=0,jn=[d,y,x,j,_,E,A,C,T,D,I,M,U,V,G,X,Y,K,$,te,ne,ae,ce,ue,de,pe,me,xe,ke,je,Et,_e,Ee,Ae,Ce,Ne,De,Te,Fe,Pe,Le,Ue,We,Ve,He,qe,Xe,Ye,Ke,Ze,et,et,nt,at,ot,st,ct,lt,dt,pt,vt,mt,bt,yt,wt,Ot,Ot,_t,St,At,Ct,Nt,Tt,Dt,It,Ft,Rt,Pt,Bt,Ut,Wt,Vt,Gt,Xt,$t,Zt,Qt,tn,tn,rn,rn,an,un,on,sn,cn,ln,fn,dn,hn,pn,mn,xn,wn];kn<jn.length;kn++){var _n=jn[kn];Object(On.e)(_n)}n(560);var Sn,En=n(4),An=n(5),Cn=n(17),Nn=n(18);function Tn(){return null==Sn&&(Sn=Object(o.backend)().epsilon()),Sn}var Dn=n(16),In=n(12),Mn=n(67),Fn=n(183),Rn=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),r=t.call(this,e),Object.setPrototypeOf(Object(Mn.a)(r),n.prototype),r}return Object(An.a)(n)}(Object(Fn.a)(Error)),Pn=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),r=t.call(this,e),Object.setPrototypeOf(Object(Mn.a)(r),n.prototype),r}return Object(An.a)(n)}(Object(Fn.a)(Error)),zn=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),r=t.call(this,e),Object.setPrototypeOf(Object(Mn.a)(r),n.prototype),r}return Object(An.a)(n)}(Object(Fn.a)(Error)),Bn=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),r=t.call(this,e),Object.setPrototypeOf(Object(Mn.a)(r),n.prototype),r}return Object(An.a)(n)}(Object(Fn.a)(Error)),Ln=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),r=t.call(this,e),Object.setPrototypeOf(Object(Mn.a)(r),n.prototype),r}return Object(An.a)(n)}(Object(Fn.a)(Error));Error;function Un(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}var a=new Array(t);return a.fill(e),a}function Wn(e,t){if(!e)throw new Ln(t)}function Vn(e,t){var n,r=0,a=Object(In.a)(e);try{for(a.s();!(n=a.n()).done;){n.value===t&&r++}}catch(i){a.e(i)}finally{a.f()}return r}function Hn(e){return 1===e.length?e[0]:e}function Gn(e){return Array.isArray(e)?e:[e]}function qn(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function Xn(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}var Yn={};function Kn(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function $n(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((function(e){return $n(e)}));else for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],a=e[r];null!=a&&"object"===typeof a&&(Array.isArray(a)||"ndarray"!==a.type||"number"!==typeof a.value?$n(a):e[r]=a.value)}}function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){var i,o=e;if(o in n)i=n[o];else if(o in Yn)i=Yn[o];else if(null==(i=t[o]))throw new zn("Unknown ".concat(r,": ").concat(e,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return i}var s=e;if(null==s.className||null==s.config)throw new zn("".concat(r,": Improper config format: ")+"".concat(JSON.stringify(s),".\n")+"'className' and 'config' must set.");var c,l,f=s.className;if(f in n){var d=Object(u.a)(n[f],2);c=d[0],l=d[1]}else if(f in Yn){var h=Object(u.a)(Yn.className,2);c=h[0],l=h[1]}else if(f in t){var p=Object(u.a)(t[f],2);c=p[0],l=p[1]}if(null==c)throw new zn("Unknown ".concat(r,": ").concat(f,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=l){for(var v={},m=0,g=Object.keys(Yn);m<g.length;m++){var b=g[m];v[b]=Yn[b]}for(var y=0,x=Object.keys(n);y<x.length;y++){var w=x[y];v[w]=n[w]}var O=s.config;O.customObjects=v;for(var k=Object.assign({},Yn),j=0,_=Object.keys(n);j<_.length;j++){var S=_[j];Yn[S]=n[S]}$n(s.config);var E=l(c,s.config,n,a);return Yn=Object.assign({},k),E}for(var A=Object.assign({},Yn),C=0,N=Object.keys(n);C<N.length;C++){var T=N[C];Yn[T]=n[T]}var D=new c(s.config);return Yn=Object.assign({},A),D}function Jn(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function Qn(e){if(null==e)return e;var t,n=[],r=Object(In.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;-1===n.indexOf(a)&&n.push(a)}}catch(i){r.e(i)}finally{r.f()}return n}function er(e){if(null==e)throw new zn("Invalid value in obj: ".concat(JSON.stringify(e)));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function tr(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new zn("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function nr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return Wn(n>=0),Wn(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((function(e){return typeof e===t}))}function rr(e,t){Array.isArray(e)?(o.util.assert(e.length>0,(function(){return"".concat(t," is unexpectedly an empty array.")})),e.forEach((function(e,n){return rr(e,"element ".concat(n+1," of ").concat(t))}))):o.util.assert(Number.isInteger(e)&&e>0,(function(){return"Expected ".concat(t," to be a positive integer, but got ")+"".concat(ar(e),".")}))}function ar(e){return null===e?"null":Array.isArray(e)?"["+e.map((function(e){return ar(e)})).join(",")+"]":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}function ir(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}function or(e,t){return Object(o.tidy)((function(){return o.sqrt(o.sum(o.mul(e,e),t,!0))}))}var ur=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"getConfig",value:function(){return{}}}]),n}(o.serialization.Serializable),sr=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this)).defaultMaxValue=2,r.defaultAxis=0,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return Object(An.a)(n,[{key:"apply",value:function(e){var t=this;return Object(o.tidy)((function(){var n=or(e,t.axis),r=o.clipByValue(n,0,t.maxValue);return o.mul(e,o.div(r,o.add(Tn(),n)))}))}},{key:"getConfig",value:function(){return{maxValue:this.maxValue,axis:this.axis}}}]),n}(ur);sr.className="MaxNorm",o.serialization.registerClass(sr);var cr=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this)).defaultAxis=0,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return Object(An.a)(n,[{key:"apply",value:function(e){var t=this;return Object(o.tidy)((function(){return o.div(e,o.add(Tn(),or(e,t.axis)))}))}},{key:"getConfig",value:function(){return{axis:this.axis}}}]),n}(ur);cr.className="UnitNorm",o.serialization.registerClass(cr);var lr=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return o.relu(e)}}]),n}(ur);lr.className="NonNeg",o.serialization.registerClass(lr);var fr=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this)).defaultMinValue=0,r.defaultMaxValue=1,r.defaultRate=1,r.defaultAxis=0,r.minValue=null!=e.minValue?e.minValue:r.defaultMinValue,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.rate=null!=e.rate?e.rate:r.defaultRate,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return Object(An.a)(n,[{key:"apply",value:function(e){var t=this;return Object(o.tidy)((function(){var n=or(e,t.axis),r=o.add(o.mul(t.rate,o.clipByValue(n,t.minValue,t.maxValue)),o.mul(1-t.rate,n));return o.mul(e,o.div(r,o.add(Tn(),n)))}))}},{key:"getConfig",value:function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}]),n}(ur);fr.className="MinMaxNorm",o.serialization.registerClass(fr);var dr={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function hr(e){return Kn(e)}function pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zn(e,o.serialization.SerializationMap.getMap().classNameMap,t,"constraint")}function vr(e){return null==e?null:"string"===typeof e?pr({className:e in dr?dr[e]:e,config:{}}):e instanceof ur?e:pr(e)}var mr=["channelsFirst","channelsLast"],gr=["nearest","bilinear"],br=["valid","same","causal"],yr=["max","avg"],xr=["sum","mul","concat","ave"],wr=new Map;function Or(e){tr(mr,"DataFormat",e)}function kr(e){tr(br,"PaddingMode",e)}function jr(e){tr(yr,"PoolMode",e)}var _r=[];function Sr(e,t){_r.push(e);try{var n=t();return _r.pop(),n}catch(r){throw _r.pop(),r}}function Er(e){if(!Nr(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===_r.length?"":_r.join("/")+"/")+e}function Ar(e){if(!Nr(e))throw new Error("Not a valid tensor name: '"+e+"'");wr.has(e)||wr.set(e,0);var t=wr.get(e);if(wr.set(e,wr.get(e)+1),t>0){var n="".concat(e,"_").concat(t);return wr.set(n,1),n}return e}var Cr=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Nr(e){return!!e.match(Cr)}function Tr(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,a=t;a<n;++a)r*=e[a];return r}function Dr(e){if(0===e.length)return Number.NaN;for(var t=Number.POSITIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r<t&&(t=r)}return t}function Ir(e){if(0===e.length)return Number.NaN;for(var t=Number.NEGATIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r>t&&(t=r)}return t}function Mr(e,t){if(t<e)throw new zn("end (".concat(t,") < begin (").concat(e,") is forbidden."));for(var n=[],r=e;r<t;++r)n.push(r);return n}function Fr(e,t){return o.cast(e,t)}function Rr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),o.reshape(e,n)}function Pr(e){var t=[Tr(e.shape)];return o.reshape(e,t)}function zr(e,t,n){return Object(o.tidy)((function(){switch(e.rank){case 1:return o.slice1d(e,t,n);case 2:return o.slice2d(e,[t,0],[n,e.shape[1]]);case 3:return o.slice3d(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return o.slice4d(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return o.slice(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return o.slice(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new zn("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Br(e,t,n){return Object(o.tidy)((function(){switch(e.rank){case 1:return o.slice1d(e,t,n);case 2:return o.slice2d(e,[0,t],[e.shape[0],n]);case 3:return o.slice3d(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return o.slice4d(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new zn("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Lr(e,t,n,r){return Object(o.tidy)((function(){switch(e.rank){case 1:return o.slice1d(e,t,n);case 2:switch(r){case 1:return zr(e,t,n);case 2:return Br(e,t,n);default:throw new zn("The axis is not within the rank of the tensor "+"".concat(r))}case 3:switch(r){case 1:return zr(e,t,n);case 2:return o.slice3d(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Br(e,t,n);default:throw new zn("The axis is not within the rank of the tensor "+"".concat(r))}case 4:switch(r){case 1:return zr(e,t,n);case 2:return o.slice4d(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return o.slice4d(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Br(e,t,n);default:throw new zn("The axis is not within the rank of the tensor "+"".concat(r))}default:throw new zn("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Ur(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(n=0!==(t=e[0].rank)?t:0),n===e[0].rank&&(n=-1),o.concat(e,n)}function Wr(e,t){switch(e.rank){case 1:return o.concat1d([e,t]);case 2:return o.concat2d([e,t],0);case 3:return o.concat3d([e,t],0);case 4:return o.concat4d([e,t],0);default:throw new zn("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(e.rank))}}function Vr(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new zn("The length of input n (".concat(t.length,") does not match ")+"the number of dimensions in input x (".concat(e.rank,")"));return o.tile(e,t)}function Hr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return o.randomNormal(e,t,n,r,a)}function Gr(e,t,n,r){if(e.rank<2||t.rank<2)throw new Bn("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3&&e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new Bn("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(e.shape," and ")+" y shape = ".concat(t.shape));if(2===e.rank&&2===t.rank){return o.fused.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Yr(e.rank,r,"channelsLast"):null,activation:n})}var a=e.shape.slice(),i=a.pop();e=o.reshape(e,[-1,i]);var u=t.shape.slice(),s=u.pop(),c=u.pop(),l=[].concat(Object(Dn.a)(u),[s]),f=Array.from({length:t.rank},(function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n}));t=o.reshape(o.transpose(t,f),[c,-1]);var d=[].concat(Object(Dn.a)(a),Object(Dn.a)(l));return o.reshape(o.fused.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Yr(e.rank,r,"channelsLast"):null,activation:n}),d)}function qr(e,t,n){return Object(o.tidy)((function(){return t=Array.isArray(t)?Object(o.tensor1d)(t,"int32"):o.cast(t,"int32"),o.gather(e,t,n)}))}function Xr(e){return o.mul(e,e)}function Yr(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new zn("Unexpected bias dimensions: ".concat(t.rank)+"; expected it to be 1 or ".concat(e));if(5===e){if("channelsFirst"===n)return 1===r.length?o.reshape(t,[1,r[0],1,1,1]):o.reshape(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?o.reshape(t,[1,1,1,1,r[0]]):o.reshape(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?o.reshape(t,[1,r[0],1,1]):o.reshape(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?o.reshape(t,[1,1,1,r[0]]):o.reshape(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?o.reshape(t,[1,r[0],1]):o.reshape(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?o.reshape(t,[1,1,r[0]]):o.reshape(t,[1].concat(r))}else if(e<3)return t;throw new zn("Unsupported input rank by biasAdd: ".concat(t.rank))}function Kr(e,t,n){return Object(o.tidy)((function(){return null==n&&(n="channelsLast"),Or(n),o.add(e,Yr(e.rank,t,n))}))}function $r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new Bn("Support for alpha values other than 1 (".concat(t,") is not implemented ")+"yet.");return o.elu(e)}function Zr(e,t,n,r){return Object(o.tidy)((function(){return o.dropout(e,t,n,r)}))}function Jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e():t()}var Qr=["fanIn","fanOut","fanAvg"],ea=["normal","uniform","truncatedNormal"];var ta=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"fromConfigUsesCustomObjects",value:function(){return!1}},{key:"getConfig",value:function(){return{}}}]),n}(o.serialization.Serializable),na=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e,t){return Object(o.zeros)(e,t)}}]),n}(ta);na.className="Zeros",o.serialization.registerClass(na);var ra=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e,t){return Object(o.ones)(e,t)}}]),n}(ta);ra.className="Ones",o.serialization.registerClass(ra);var aa=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),r=t.call(this),"object"!==typeof e)throw new zn("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new zn("config must have value set but got ".concat(e));return r.value=e.value,r}return Object(An.a)(n,[{key:"apply",value:function(e,t){var n=this;return Object(o.tidy)((function(){return Object(o.mul)(Object(o.scalar)(n.value),Object(o.ones)(e,t))}))}},{key:"getConfig",value:function(){return{value:this.value}}}]),n}(ta);aa.className="Constant",o.serialization.registerClass(aa);var ia=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this)).DEFAULT_MINVAL=-.05,r.DEFAULT_MAXVAL=.05,r.minval=e.minval||r.DEFAULT_MINVAL,r.maxval=e.maxval||r.DEFAULT_MAXVAL,r.seed=e.seed,r}return Object(An.a)(n,[{key:"apply",value:function(e,t){return Object(o.randomUniform)(e,this.minval,this.maxval,t)}},{key:"getConfig",value:function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}]),n}(ta);ia.className="RandomUniform",o.serialization.registerClass(ia);var oa=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return Object(An.a)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Bn("randomNormal does not support dType ".concat(t,"."));return Hr(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(ta);oa.className="RandomNormal",o.serialization.registerClass(oa);var ua=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return Object(An.a)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Bn("truncatedNormal does not support dType ".concat(t,"."));return Object(o.truncatedNormal)(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(ta);ua.className="TruncatedNormal",o.serialization.registerClass(ua);var sa=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this)).gain=null!=e.gain?e.gain:1,r}return Object(An.a)(n,[{key:"apply",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(2!==e.length||e[0]!==e[1])throw new zn("Identity matrix initializer can only be used for 2D square matrices.");return Object(o.mul)(n.gain,Object(o.eye)(e[0]))}))}},{key:"getConfig",value:function(){return{gain:this.gain}}}]),n}(ta);sa.className="Identity",o.serialization.registerClass(sa);var ca=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r,a;if(Object(En.a)(this,n),r=t.call(this),e.scale<0)throw new zn("scale must be a positive float. Got: ".concat(e.scale));return r.scale=null==e.scale?1:e.scale,r.mode=null==e.mode?"fanIn":e.mode,a=r.mode,tr(Qr,"FanMode",a),r.distribution=null==e.distribution?"normal":e.distribution,function(e){tr(ea,"Distribution",e)}(r.distribution),r.seed=e.seed,r}return Object(An.a)(n,[{key:"apply",value:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(Or(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){var a=Tr(e,2);t=e[1]*a,n=e[0]*a}else if("channelsLast"===r){var i=Tr(e,0,e.length-2);t=e[e.length-2]*i,n=e[e.length-1]*i}}else{var o=Tr(e);t=Math.sqrt(o),n=Math.sqrt(o)}return[t,n]}(e),r=n[0],a=n[1],i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,a):i/=Math.max(1,(r+a)/2),"normal"===this.distribution){var u=Math.sqrt(i);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Bn("".concat(this.getClassName()," does not support dType ").concat(t,"."));return Object(o.truncatedNormal)(e,0,u,t,this.seed)}var s=Math.sqrt(3*i);return Object(o.randomUniform)(e,-s,s,t)}},{key:"getConfig",value:function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}]),n}(ta);ca.className="VarianceScaling",o.serialization.registerClass(ca);var la=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}return Object(An.a)(n,[{key:"getClassName",value:function(){return ca.className}}]),n}(ca);la.className="GlorotUniform",o.serialization.registerClass(la);var fa=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}return Object(An.a)(n,[{key:"getClassName",value:function(){return ca.className}}]),n}(ca);fa.className="GlorotNormal",o.serialization.registerClass(fa);var da=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return Object(An.a)(n,[{key:"getClassName",value:function(){return ca.className}}]),n}(ca);da.className="HeNormal",o.serialization.registerClass(da);var ha=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return Object(An.a)(n,[{key:"getClassName",value:function(){return ca.className}}]),n}(ca);ha.className="HeUniform",o.serialization.registerClass(ha);var pa=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return Object(An.a)(n,[{key:"getClassName",value:function(){return ca.className}}]),n}(ca);pa.className="LeCunNormal",o.serialization.registerClass(pa);var va=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return Object(An.a)(n,[{key:"getClassName",value:function(){return ca.className}}]),n}(ca);va.className="LeCunNormal",o.serialization.registerClass(va);var ma=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),(r=t.call(this)).DEFAULT_GAIN=1,r.gain=null==e.gain?r.DEFAULT_GAIN:e.gain,r.seed=e.seed,null!=r.seed)throw new Bn("Random seed is not implemented for Orthogonal Initializer yet.");return r}return Object(An.a)(n,[{key:"apply",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(e.length<2)throw new Bn("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than 2000 (".concat(e[0]*e[1],") elements: ")+"Slowness may result.");var t=Hr(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),r=o.linalg.gramSchmidt(t);return e[0]>e[1]&&(r=Object(o.transpose)(r)),Object(o.mul)(n.gain,r)}))}},{key:"getConfig",value:function(){return{gain:this.gain,seed:this.seed}}}]),n}(ta);ma.className="Orthogonal",o.serialization.registerClass(ma);var ga={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function ba(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zn(e,o.serialization.SerializationMap.getMap().classNameMap,t,"initializer")}function ya(e){return Kn(e)}function xa(e){if("string"===typeof e){var t=e in ga?ga[e]:e;if("GlorotNormal"===t)return new fa;if("GlorotUniform"===t)return new la;if("HeNormal"===t)return new da;if("HeUniform"===t)return new ha;if("LeCunNormal"===t)return new pa;if("LeCunUniform"===t)return new va;var n={};return n.className=t,n.config={},ba(n)}return e instanceof ta?e:ba(e)}var wa=0;function Oa(){return wa++}var ka={};function ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in ka||(ka[e]=0),ka[e]+=1,e+ka[e].toString()}function _a(e){return Array.isArray(e)&&Array.isArray(e[0])}function Sa(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Ea(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new zn("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function Aa(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new zn("Expected exactly 1 Shape; got ".concat(e.length))}return e}function Ca(e){var t,n=0,r=Object(In.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;0===a.shape.length?n+=1:n+=a.shape.reduce((function(e,t){return e*t}))}}catch(i){r.e(i)}finally{r.f()}return n}var Na="Variable",Ta=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Na,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(En.a)(this,e),this.dtype=null==n?"float32":n,this.shape=t.shape,this.id=Oa(),r=null==r?Na:r,this.originalName=Er(r),this.name=Ar(this.originalName),this.trainable_=a,this.constraint=i,this.val=o.variable(t,this.trainable_,this.name,this.dtype)}return Object(An.a)(e,[{key:"read",value:function(){return this.assertNotDisposed(),this.val}},{key:"write",value:function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}},{key:"dispose",value:function(){this.assertNotDisposed(),this.val.dispose()}},{key:"assertNotDisposed",value:function(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e}}]),e}();function Da(e){return e.map((function(e){return e.read()}))}function Ia(e){e.forEach((function(e){e[0].write(e[1])}))}var Ma=Object(An.a)((function e(t){Object(En.a)(this,e),this.dtype=t.dtype,this.shape=t.shape,null!=t.shape?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}})),Fa=Object(An.a)((function e(t,n,r,a,i,o,u){Object(En.a)(this,e),this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=i,this.outputTensorIndex=u,this.id=Oa(),null!=o&&(this.originalName=Er(o),this.name=Ar(this.originalName)),this.rank=n.length})),Ra=0,Pa=function(){function e(t,n){Object(En.a)(this,e),this.callArgs=n,this.id=Ra++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;var r,a=Object(In.a)(t.inboundLayers);try{for(a.s();!(r=a.n()).done;){var i=r.value;null!=i&&i.outboundNodes.push(this)}}catch(o){a.e(o)}finally{a.f()}t.outboundLayer.inboundNodes.push(this)}return Object(An.a)(e,[{key:"getConfig",value:function(){var e,t=[],n=Object(In.a)(this.inboundLayers);try{for(n.s();!(e=n.n()).done;){var r=e.value;null!=r?t.push(r.name):t.push(null)}}catch(a){n.e(a)}finally{n.f()}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}]),e}(),za=0,Ba=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(En.a)(this,n),(e=t.call(this))._callHook=null,e._addedWeightNames=[],e._stateful=!1,e.id=za++,e.activityRegularizer=null,e.inputSpec=null,e.supportsMasking=!1,e._trainableWeights=[],e._nonTrainableWeights=[],e._losses=[],e._updates=[],e._built=!1,e.inboundNodes=[],e.outboundNodes=[];var a=r.name;if(!a){var i=e.getClassName();a=qn(i)+"_"+ja(i)}if(e.name=a,e.trainable_=null==r.trainable||r.trainable,null!=r.inputShape||null!=r.batchInputShape){var o;if(null!=r.batchInputShape)o=r.batchInputShape;else if(null!=r.inputShape){var u=null;null!=r.batchSize&&(u=r.batchSize),o=[u].concat(r.inputShape)}e.batchInputShape=o;var s=r.dtype;null==s&&(s=r.inputDType),null==s&&(s="float32"),e.dtype=s}return null!=r.weights?e.initialWeights=r.weights:e.initialWeights=null,e._refCount=null,e.fastWeightInitDuringBuild=!1,e}return Object(An.a)(n,[{key:"getNodeAtIndex",value:function(e,t){if(0===this.inboundNodes.length)throw new Pn("The layer has never been called "+"and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new zn("Asked to get ".concat(t," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}},{key:"getInputAt",value:function(e){return Hn(this.getNodeAtIndex(e,"input").inputTensors)}},{key:"getOutputAt",value:function(e){return Hn(this.getNodeAtIndex(e,"output").outputTensors)}},{key:"input",get:function(){if(this.inboundNodes.length>1)throw new Rn("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new Rn("Layer ".concat(this.name)+" is not connected, no input to return.");return Hn(this.getNodeAtIndex(0,"input").inputTensors)}},{key:"output",get:function(){if(0===this.inboundNodes.length)throw new Rn("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new Rn("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return Hn(this.getNodeAtIndex(0,"output").outputTensors)}},{key:"losses",get:function(){return this._losses}},{key:"calculateLosses",value:function(){return this.losses.map((function(e){return e()}))}},{key:"updates",get:function(){return this._updates}},{key:"built",get:function(){return this._built},set:function(e){this._built=e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach((function(t){return t.trainable=e})),this.trainable_=e}},{key:"trainableWeights",get:function(){return this.trainable_?this._trainableWeights.filter((function(e){return e.trainable})):[]},set:function(e){this._trainableWeights=e}},{key:"nonTrainableWeights",get:function(){return this.trainable?this._trainableWeights.filter((function(e){return!e.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){return this._stateful}},{key:"resetStates",value:function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}},{key:"assertInputCompatibility",value:function(e){if(e=Gn(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=Gn(this.inputSpec);if(e.length!==t.length)throw new zn("Layer ".concat(this.name," expects ").concat(t.length," inputs, ")+"but it received ".concat(e.length," input tensors. ")+"Input received: ".concat(e));for(var n=0;n<e.length;n++){var r=e[n],a=t[n];if(null!=a){var i=r.rank;if(null!=a.ndim&&i!==a.ndim)throw new zn("Input ".concat(n," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(a.ndim,", found ndim=").concat(i));if(null!=a.maxNDim&&i>a.maxNDim)throw new zn("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(a.maxNDim,", found ndim=").concat(i));if(null!=a.minNDim&&i<a.minNDim)throw new zn("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(a.minNDim,", found ndim=").concat(i,"."));if(null!=a.dtype&&r.dtype!==a.dtype)throw new zn("Input ".concat(n," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(a.dtype,", found dtype=").concat(r.dtype,"."));if(a.axes){var o=r.shape;for(var u in a.axes){var s=Number(u),c=a.axes[u],l=s>=0?o[s]:o[o.length+s];if(null!=c&&-1===[c,null].indexOf(l))throw new zn("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(s," of input shape to ")+"have value ".concat(c," but got shape ").concat(o,"."))}}if(null!=a.shape)for(var f=0;f<a.shape.length;++f){var d=a.shape[f],h=r.shape[f];if(null!=d&&null!=h&&d!==h)throw new zn("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(a.shape,", ")+"found shape=".concat(r.shape,"."))}}}}}},{key:"call",value:function(e,t){return e}},{key:"invokeCallHook",value:function(e,t){null!=this._callHook&&this._callHook(e,t)}},{key:"setCallHook",value:function(e){this._callHook=e}},{key:"clearCallHook",value:function(){this._callHook=null}},{key:"apply",value:function(e,t){var n=this;t=t||{},this.assertNotDisposed();var r,a=Gn(e),i=!0,o=Object(In.a)(a);try{for(o.s();!(r=o.n()).done;){if(!(r.value instanceof Fa)){i=!1;break}}}catch(l){o.e(l)}finally{o.f()}var u,s=!0,c=Object(In.a)(a);try{for(c.s();!(u=c.n()).done;){if(u.value instanceof Fa){s=!1;break}}}catch(l){c.e(l)}finally{c.f()}if(i===s)throw new zn("Arguments to apply() must be all SymbolicTensors or all Tensors");return Sr(this.name,(function(){if(!n.built){n.assertInputCompatibility(e);var r,i=[],o=Object(In.a)(Gn(e));try{for(o.s();!(r=o.n()).done;){var u=r.value;i.push(u.shape)}}catch(l){o.e(l)}finally{o.f()}n.build(Hn(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&s&&(n._refCount=1)}if(n.assertInputCompatibility(e),s){var c,f=n.call(e,t),d=Gn(f),h=[],p=Object(In.a)(d);try{for(p.s();!(c=p.n()).done;){var v=c.value;-1!==a.indexOf(v)&&(v=v.clone()),h.push(v)}}catch(l){p.e(l)}finally{p.f()}if(f=Hn(h),null!=n.activityRegularizer)throw new Bn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return f}var m,g=function(e){e=Gn(e);var t,n=[],r=Object(In.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(a.shape)}}catch(l){r.e(l)}finally{r.f()}return Hn(n)}(e),b=n.computeOutputShape(g),y="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(e)?g[0]:g),m=null!=b&&b.length>0&&Array.isArray(b[0])?b.map((function(r,a){return new Fa(y,r,n,Gn(e),t,n.name,a)})):new Fa(y,b,n,Gn(e),t,n.name),n.addInboundNode(e,m,null,null,g,b,t),n._refCount++,null!=n.activityRegularizer)throw new Bn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return m}))}},{key:"warnOnIncompatibleInputShape",value:function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{var t=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}},{key:"outputShape",get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new Rn("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");var e,t=[],n=Object(In.a)(this.inboundNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=JSON.stringify(r.outputShapes);-1===t.indexOf(a)&&t.push(a)}}catch(o){n.e(o)}finally{n.f()}if(1===t.length){var i=this.inboundNodes[0].outputShapes;return Array.isArray(i)&&Array.isArray(i[0])&&1===i.length?i[0]:i}throw new Rn("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}},{key:"countParams",value:function(){if(!this.built)throw new Pn("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return Ca(this.weights)}},{key:"build",value:function(e){this.built=!0}},{key:"getWeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Da(e?this.trainableWeights:this.weights)}},{key:"setWeights",value:function(e){var t=this;Object(o.tidy)((function(){var n=t.weights;if(n.length!==e.length)throw new zn('You called setWeights(weights) on layer "'.concat(t.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(n.length," weights. ")+"Provided weights: ".concat(e,"..."));if(0!==n.length){for(var r=[],a=Da(n),i=0;i<a.length;++i){var u=a[i],s=n[i],c=e[i];if(!o.util.arraysEqual(u.shape,c.shape))throw new zn("Layer weight shape ".concat(u.shape," ")+"not compatible with provided weight shape ".concat(c.shape));r.push([s,c])}Ia(r)}}))}},{key:"addWeight",value:function(e,t,n,r,a,i,o,u){if(-1!==this._addedWeightNames.indexOf(e))throw new zn("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=u?u():xa("zeros"));var s=r.apply(t,n),c=new Ta(s,n,e,i,o);return s.dispose(),null!=a&&this.addLoss((function(){return a.apply(c.read())})),null==i&&(i=!0),i?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}},{key:"setFastWeightInitDuringBuild",value:function(e){this.fastWeightInitDuringBuild=e}},{key:"addLoss",value:function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=Gn(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,Object(Dn.a)(e)))}},{key:"computeOutputShape",value:function(e){return e}},{key:"computeMask",value:function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");t.forEach((function(e){if(null!=e)throw new TypeError("Layer ".concat(n.name," does not support masking, ")+"but was passed an inputMask.")}))}return null}return t}},{key:"addInboundNode",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=Gn(e);t=Gn(t),n=Gn(n),r=Gn(r),a=Sa(a),i=Sa(i);var s,c=[],l=[],f=[],d=Object(In.a)(u);try{for(d.s();!(s=d.n()).done;){var h=s.value;c.push(h.sourceLayer),l.push(h.nodeIndex),f.push(h.tensorIndex)}}catch(v){d.e(v)}finally{d.f()}new Pa({outboundLayer:this,inboundLayers:c,nodeIndices:l,tensorIndices:f,inputTensors:u,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:i},o);for(var p=0;p<t.length;p++)t[p].sourceLayer=this,t[p].nodeIndex=this.inboundNodes.length-1,t[p].tensorIndex=p}},{key:"getConfig",value:function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}},{key:"disposeWeights",value:function(){return this.weights.forEach((function(e){return e.dispose()})),this.weights.length}},{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();var e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}],[{key:"nodeKey",value:function(e,t){return e.name+"_ib-"+t.toString()}}]),n}(o.serialization.Serializable);function La(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var a=[],i=0;i<r.inboundLayers.length;i++){var o,u=La(r.inputTensors[i],r.inboundLayers[i],r.nodeIndices[i]),s=Object(In.a)(u);try{for(s.s();!(o=s.n()).done;){var c=o.value;-1===a.indexOf(c)&&a.push(c)}}catch(l){s.e(l)}finally{s.f()}}return a}var Ua=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),r=t.call(this,{dtype:e.dtype,name:null!=e.name?e.name:ja("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),r.trainable=!1,r.built=!0,r.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new zn("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var a=e.batchInputShape;if(null==a){if(null==e.inputShape)throw new zn("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");a=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new zn("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var i=e.dtype||"float32";r.batchInputShape=a,r.dtype=i,r.inputSpec=[{shape:a}];var o=new Fa(r.dtype,r.batchInputShape,Object(Mn.a)(r),[],{},r.name);return o.nodeIndex=0,o.tensorIndex=0,new Pa({outboundLayer:Object(Mn.a)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[o],outputTensors:[o],inputMasks:[null],outputMasks:[null],inputShapes:[a],outputShapes:[a]}),r}return Object(An.a)(n,[{key:"apply",value:function(e,t){throw new zn("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}},{key:"dispose",value:function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}},{key:"getConfig",value:function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}]),n}(Ba);function Wa(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new zn("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new Ua({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}Ua.className="InputLayer",o.serialization.registerClass(Ua);var Va,Ha=n(19),Ga=n(7),qa=n.n(Ga);function Xa(e){return Ya.apply(this,arguments)}function Ya(){return(Ya=Object(Ha.a)(qa.a.mark((function e(t){var n,r,a,i,u,s,c,l;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:for(i in n=[],r=[],a=[],t)"number"!==typeof(u=t[i])&&(s=u,n.push(s.data()),r.push(i),a.push(s));if(!(n.length>0)){e.next=12;break}return e.next=9,Promise.all(n);case 9:for(c=e.sent,l=0;l<c.length;++l)t[r[l]]=c[l][0];Object(o.dispose)(a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ka(e){if(null!=e)for(var t in e){var n=e[t];"number"!==typeof n&&n.dispose()}}!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(Va||(Va={}));var $a=function(){function e(){Object(En.a)(this,e),this.validationData=null}return Object(An.a)(e,[{key:"setParams",value:function(e){this.params=e}},{key:"onEpochBegin",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setModel",value:function(e){}}]),e}(),Za=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;Object(En.a)(this,e),null==t&&(t=[]),this.callbacks=t,this.queueLength=n}return Object(An.a)(e,[{key:"append",value:function(e){this.callbacks.push(e)}},{key:"setParams",value:function(e){var t,n=Object(In.a)(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setParams(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"setModel",value:function(e){var t,n=Object(In.a)(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setModel(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"onEpochBegin",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r,a,i;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Object(In.a)(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onEpochBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r,a,i;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Object(In.a)(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onEpochEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r,a,i;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Object(In.a)(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onBatchBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r,a,i;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Object(In.a)(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onBatchEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){var n,r,a;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=Object(In.a)(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a.onTrainBegin(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){var n,r,a;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=Object(In.a)(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a.onTrainEnd(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ja=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.call(this)}return Object(An.a)(n,[{key:"onEpochBegin",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.seen=0,this.totals={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r,a,i,u=this;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in null==n&&(n={}),r=null==n.size?0:n.size,this.seen+=r,a=function(e){var t=n[e];if("number"===typeof t)u.totals.hasOwnProperty(e)||(u.totals[e]=0),u.totals[e]=u.totals[e]+t*r;else{var a;e in u.totals?a=u.totals[e]:u.totals[e]=0;var i=Object(o.tidy)((function(){return Object(o.add)(u.totals[e],Object(o.mul)(t,r))}));u.totals[e]=i,null!=a&&a.dispose()}},n)a(i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r,a,i,u=this;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=19;break}r=Object(In.a)(this.params.metrics),e.prev=2,i=function(){var e=a.value;if(null==u.totals[e])return"continue";"number"===typeof u.totals[e]?n[e]=u.totals[e]/u.seen:Object(o.tidy)((function(){var t=Object(o.mul)(Object(o.div)(1,u.seen),u.totals[e]);n[e]=t,u.totals[e].dispose(),Object(o.keep)(n[e])}))},r.s();case 5:if((a=r.n()).done){e.next=11;break}if("continue"!==i()){e.next=9;break}return e.abrupt("continue",9);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[2,13,16,19]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}($a),Qa=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"onTrainBegin",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.epoch=[],this.history={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in null==n&&(n={}),this.epoch.push(t),n)null==this.history[r]&&(this.history[r]=[]),this.history[r].push(n[r]);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"syncData",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t,n,r,a,i,o,u,s,c;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],n=[],r=[],this.history)for(i=this.history[a],o=0;o<i.length;++o)"number"!==typeof i[o]&&(u=i[o],t.push(u.data()),n.push(a),r.push(o));return e.next=6,Promise.all(t);case 6:for(s=e.sent,c=0;c<s.length;++c)this.history[n[c]][r[c]].dispose(),this.history[n[c]][r[c]]=s[c][0];case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}($a),ei=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e,r){var a;if(Object(En.a)(this,n),(a=t.call(this)).currentEpoch=0,a.nowFunc=e.nowFunc,a.nextFrameFunc=e.nextFrameFunc||o.nextFrame,a.yieldEvery=r||"auto","auto"===a.yieldEvery&&(a.yieldEvery=125),"never"===a.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return o.util.isNumber(a.yieldEvery)&&(a.maybeWait=function(e,t,n){var r,a=null!=n?n():o.util.now();return function(){var i=null!=n?n():o.util.now();return i-a<t?r:(a=i,r=e.apply(void 0,arguments))}}(a.maybeWait.bind(Object(Mn.a)(a)),a.yieldEvery,a.nowFunc)),a.trainBegin=e.onTrainBegin,a.trainEnd=e.onTrainEnd,a.epochBegin=e.onEpochBegin,a.epochEnd=e.onEpochEnd,a.batchBegin=e.onBatchBegin,a.batchEnd=e.onBatchEnd,a.yield=e.onYield,a}return Object(An.a)(n,[{key:"maybeWait",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n,r){var a;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],null==this.yield){e.next=5;break}return e.next=4,Xa(r);case 4:a.push(this.yield(t,n,r));case 5:return a.push(this.nextFrameFunc()),e.next=8,Promise.all(a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onEpochBegin",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentEpoch=t,null==this.epochBegin){e.next=6;break}return e.next=4,Xa(n);case 4:return e.next=6,this.epochBegin(t,n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.epochEnd){e.next=5;break}return e.next=4,Xa(n);case 4:r.push(this.epochEnd(t,n));case 5:return"epoch"===this.yieldEvery&&r.push(this.nextFrameFunc()),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.batchBegin){e.next=5;break}return e.next=3,Xa(n);case 3:return e.next=5,this.batchBegin(t,n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.batchEnd){e.next=5;break}return e.next=4,Xa(n);case 4:r.push(this.batchEnd(t,n));case 5:return"batch"===this.yieldEvery?r.push(this.nextFrameFunc()):o.util.isNumber(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,t,n)),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainBegin){e.next=5;break}return e.next=3,Xa(t);case 3:return e.next=5,this.trainBegin(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainEnd){e.next=5;break}return e.next=3,Xa(t);case 3:return e.next=5,this.trainEnd(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}($a);function ti(e,t){return null==e&&(e={}),e instanceof $a?[e]:Array.isArray(e)&&e[0]instanceof $a?e:Gn(e).map((function(e){return new ei(e,t)}))}var ni=function(){function e(){Object(En.a)(this,e)}return Object(An.a)(e,null,[{key:"registerCallbackConstructor",value:function(t,n){o.util.assert(t>=0&&Number.isInteger(t),(function(){return"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(t)})),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)}},{key:"checkForDuplicate",value:function(t){for(var n in e.constructors){e.constructors[+n].forEach((function(e){if(e===t)throw new zn("Duplicate callback constructor.")}))}}},{key:"clear",value:function(){e.constructors={}}},{key:"createCallbacks",value:function(t){var n=[];for(var r in e.constructors){var a=+r;t>=a&&n.push.apply(n,Object(Dn.a)(e.constructors[a]))}return n.map((function(e){return new e}))}}]),e}();function ri(e,t,n,r,a,i,o,u,s){var c=new Qa,l=[new Ja].concat(Object(Dn.a)(ni.createCallbacks(t)));null!=e&&l.push.apply(l,Object(Dn.a)(e)),l.push(c);var f=new Za(l);return f.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:o,verbose:t,doValidation:u,metrics:s}),{callbackList:f,history:c}}ni.constructors={};var ai=n(36),ii=n(34);function oi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Zn(e,o.serialization.SerializationMap.getMap().classNameMap,t,"layer",n)}function ui(e,t){return Object(o.tidy)((function(){"float32"!==e.dtype&&(e=o.cast(e,"float32"));var n=o.sum(Xr(e),t,!0),r=o.fill(n.shape,Tn()),a=o.sqrt(o.maximum(n,r));return o.div(e,a)}))}function si(e,t){return Object(o.tidy)((function(){return o.mean(Xr(o.sub(t,e)),-1)}))}function ci(e,t){return Object(o.tidy)((function(){return o.mean(o.abs(o.sub(t,e)),-1)}))}function li(e,t){return Object(o.tidy)((function(){var n=o.sub(e,t),r=o.clipByValue(o.abs(e),Tn(),Number.MAX_VALUE),a=o.abs(o.div(n,r));return o.mul(100,o.mean(a,-1))}))}function fi(e,t){return Object(o.tidy)((function(){var n=o.clipByValue(t,Tn(),Number.MAX_VALUE),r=o.log(o.add(1,n)),a=o.clipByValue(e,Tn(),Number.MAX_VALUE),i=o.log(o.add(1,a));return o.mean(Xr(o.sub(r,i)),-1)}))}function di(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(o.tidy)((function(){if(n)t=o.softmax(t);else{var r=o.sum(t,t.shape.length-1,!0);t=o.div(t,r)}return t=o.clipByValue(t,Tn(),1-Tn()),o.neg(o.sum(o.mul(o.cast(e,"float32"),o.log(t)),t.shape.length-1))}))}function hi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(o.tidy)((function(){var r=o.cast(o.floor(Pr(e)),"int32"),a=(t=o.clipByValue(t,Tn(),1-Tn())).shape;return di(o.reshape(o.oneHot(r,a[a.length-1]),a),t,n)}))}function pi(e,t){return Object(o.tidy)((function(){var n;return n=o.clipByValue(t,Tn(),1-Tn()),n=o.log(o.div(n,o.sub(1,n))),o.mean(function(e,t){if(!o.util.arraysEqual(e.shape,t.shape))throw new zn("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return Object(o.tidy)((function(){var n=o.relu(t),r=o.neg(o.abs(t));return o.add(o.sub(n,o.mul(t,e)),o.log1p(o.exp(r)))}))}(e,n),-1)}))}function vi(e,t){return Object(o.tidy)((function(){var n=o.clipByValue(e,Tn(),1),r=o.clipByValue(t,Tn(),1);return o.sum(o.mul(e,o.log(o.div(n,r))),-1)}))}function mi(e,t){return Object(o.tidy)((function(){var n=ui(e,-1),r=ui(t,-1),a=o.mul(n,r);return o.neg(o.sum(a,-1))}))}var gi={meanSquaredError:si,meanAbsoluteError:ci,meanAbsolutePercentageError:li,meanSquaredLogarithmicError:fi,squaredHinge:function(e,t){return Object(o.tidy)((function(){var n=o.maximum(0,o.sub(1,o.mul(e,t)));return o.mean(Xr(n),-1)}))},hinge:function(e,t){return Object(o.tidy)((function(){var n=o.maximum(0,o.sub(1,o.mul(e,t)));return o.mean(n,-1)}))},categoricalHinge:function(e,t){return Object(o.tidy)((function(){var n=o.sum(o.mul(e,t),-1),r=o.max(o.mul(o.sub(1,e),t),-1);return o.maximum(0,o.add(1,o.sub(r,n)))}))},logcosh:function(e,t){return Object(o.tidy)((function(){var n=Math.log(2),r=o.sub(t,e),a=o.sub(o.add(r,o.softplus(o.mul(-2,r))),n);return o.mean(a,-1)}))},categoricalCrossentropy:di,sparseCategoricalCrossentropy:hi,binaryCrossentropy:pi,kullbackLeiblerDivergence:vi,poisson:function(e,t){return Object(o.tidy)((function(){var n=o.log(o.add(Tn(),t));return o.mean(o.sub(t,o.mul(e,n)),-1)}))},cosineProximity:mi};function bi(e){if("string"===typeof e){if(e in gi)return gi[e];var t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new zn(t)}return e}function yi(e,t){return Object(o.tidy)((function(){var n=o.mul(.5,o.onesLike(t)),r=Fr(o.greater(t,n),e.dtype);return o.mean(o.equal(e,r),-1)}))}function xi(e,t){return Object(o.tidy)((function(){return Fr(o.equal(o.argMax(e,-1),o.argMax(t,-1)),"float32")}))}function wi(e,t){return Object(o.tidy)((function(){return o.cast(o.sum(o.logicalAnd(o.equal(e,1),o.equal(t,1))),"float32")}))}function Oi(e,t){return Object(o.tidy)((function(){var n=wi(e,t),r=function(e,t){return Object(o.tidy)((function(){return o.cast(o.sum(o.logicalAnd(o.equal(e,0),o.equal(t,1))),"float32")}))}(e,t),a=o.add(n,r);return o.cast(o.where(o.greater(a,0),o.div(n,a),0),"float32")}))}function ki(e,t){return pi(e,t)}function ji(e,t){return e.rank===t.rank&&(e=o.squeeze(e,[e.rank-1])),(t=o.argMax(t,-1)).dtype!==e.dtype&&(t=o.cast(t,e.dtype)),o.cast(o.equal(e,t),"float32")}var _i=di,Si=hi,Ei={binaryAccuracy:yi,categoricalAccuracy:xi,precision:Oi,categoricalCrossentropy:_i,sparseCategoricalCrossentropy:Si,mse:si,MSE:si,mae:ci,MAE:ci,mape:li,MAPE:li,cosine:mi};function Ai(e){if("string"===typeof e&&e in Ei)return Ei[e];if("string"!==typeof e&&null!=e)return e;throw new zn("Unknown metric ".concat(e))}function Ci(e){if(Wn(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"===typeof e)return e;for(var t,n=0,r=Object.keys(gi);n<r.length;n++){var a=r[n];if(gi[a]===e){t=a;break}}if(void 0!==t)return t;for(var i=0,o=Object.keys(Ei);i<o.length;i++){var u=o[i];if(Ei[u]===e){t=u;break}}return void 0!==t?t:e.name}var Ni=1048576;function Ti(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!Di(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>Ni&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in ')+"size (length=".concat(r.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(Ni,"."))}}function Di(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"!==typeof r)return!1;if(!Di(e[r]))return!1}return!0}if(Array.isArray(e)){var a,i=Object(In.a)(e);try{for(i.s();!(a=i.n()).done;){if(!Di(a.value))return!1}}catch(u){i.e(u)}finally{i.f()}return!0}return!1}var o=typeof e;return"string"===o||"number"===o||"boolean"===o}function Ii(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log,i=Fi(e),o=["Layer (type)","Output shape","Param #"];if(i?(t=t||65,n=n||[.45,.85,1]):(t=t||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map((function(e){return Math.floor(t*e)}))),!i)for(var u in o.push("Receives inputs"),r=[],e.nodesByDepth){var s;(s=r).push.apply(s,Object(Dn.a)(e.nodesByDepth[u]))}a("_".repeat(t)),Ri(o,n,a),a("=".repeat(t));for(var c=e.layers,l=0;l<c.length;++l)i?Pi(c[l],n,a):zi(c[l],n,r,a),a((l===c.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var f=Mi(e),d=Ca(e.nonTrainableWeights);a("Total params: ".concat(f+d)),a("Trainable params: ".concat(f)),a("Non-trainable params: ".concat(d)),a("_".repeat(t))}function Mi(e){return null!=e.collectedTrainableWeights?Ca(e.collectedTrainableWeights):Ca(e.trainableWeights)}function Fi(e){var t=!0,n=[],r=[];for(var a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(var i=0,o=n;i<o.length;i++){var u=o[i];if(u.length>1||1===u.length&&u[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,Object(Dn.a)(u))}if(t){var s,c=Object(In.a)(e.layers);try{for(c.s();!(s=c.n()).done;){var l,f=s.value,d=!1,h=Object(In.a)(f.inboundNodes);try{for(h.s();!(l=h.n()).done;){var p=l.value;if(-1!==r.indexOf(p)){if(d){t=!1;break}d=!0}}}catch(v){h.e(v)}finally{h.f()}if(!t)break}}catch(v){c.e(v)}finally{c.f()}}return t}function Ri(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="",a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[a]).slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function Pi(e,t,n){var r;try{r=JSON.stringify(e.outputShape)}catch(o){r="multiple"}var a=e.name,i=e.getClassName();Ri(["".concat(a," (").concat(i,")"),r,e.countParams().toString()],t,n)}function zi(e,t,n,r){var a;try{a=JSON.stringify(e.outputShape)}catch(g){a="multiple"}var i,o=[],u=Object(In.a)(e.inboundNodes);try{for(u.s();!(i=u.n()).done;){var s=i.value;if(!(null!=n&&n.length>0&&-1===n.indexOf(s)))for(var c=0;c<s.inboundLayers.length;++c){var l=s.inboundLayers[c].name,f=s.nodeIndices[c],d=s.tensorIndices[c];o.push("".concat(l,"[").concat(f,"][").concat(d,"]"))}}}catch(g){u.e(g)}finally{u.f()}var h=e.name,p=e.getClassName(),v=0===o.length?"":o[0];Ri(["".concat(h," (").concat(p,")"),a,e.countParams().toString(),v],t,r);for(var m=1;m<o.length;++m)Ri(["","","",o[m]],t,r)}function Bi(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function Li(e,t){if(null===e)return null;if("string"===typeof e)return Xn(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];Bi(t,a,i)?n.push(i):n.push(Li(i,t))}return n}for(var o={},u=0,s=Object.keys(e);u<s.length;u++){var c=s[u],l=e[c];if("name"===c&&"string"===typeof l)o[c]=l;else{var f=Xn(c);o[f]=Li(l,f)}}return o}function Ui(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return qn(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];Bi(t,a,i)?n.push(i):n.push(Ui(i,t))}return n}for(var o={},u=0,s=Object.keys(e);u<s.length;u++){var c=s[u],l=e[c],f=qn(c);o[f]="name"!==c&&"className"!==c||"string"!==typeof l?Ui(l,c):l}return o}var Wi="3.13.0";var Vi=function(){function e(t){if(Object(En.a)(this,e),this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;var r,a=Object(In.a)(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.add(i.key,i.value)}}catch(o){a.e(o)}finally{a.f()}}}return Object(An.a)(e,[{key:"add",value:function(e,t,n){if(null!=this.id2Value[e.id])throw new zn("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return Object(o.cast)(t,e.dtype)}catch(n){throw new zn("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype ")+"of the key '".concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}},{key:"addFeed",value:function(e){this.add(e.key,e.value)}},{key:"hasKey",value:function(e){return null!=this.id2Value[e.id]}},{key:"names",value:function(){return Object.keys(this.name2Id)}},{key:"getValue",value:function(e){if(e instanceof Fa){if(null==this.id2Value[e.id])throw new zn("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new zn("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}},{key:"getMask",value:function(e){if(e instanceof Fa){if(null==this.id2Value[e.id])throw new zn("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new zn("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}},{key:"disposeMasks",value:function(){null!=this.id2Mask&&Object(o.dispose)(this.id2Mask)}}]),e}(),Hi={},Gi={};function qi(e,t,n,r){var a,i=null!=n&&n.training,u=Array.isArray(e),s=u?e:[e],c=s.map((function(e){return e.name})),l=[],f=t.names(),d=Object(In.a)(c);try{for(d.s();!(a=d.n()).done;){var h=a.value;-1!==f.indexOf(h)?l.push(t.getValue(h)):l.push(null)}}catch(z){d.e(z)}finally{d.f()}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var p,v,m=c.join(",")+"|"+t.names().join(",");if(null==Hi[m]){var g=function(e,t){o.util.assert(null!=e&&e.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],r={};if(1===e.length){var a=Yi(e[0],t);n=a.sorted,r=a.recipientMap}else{var i,u=new Set,s=Object(In.a)(e);try{for(s.s();!(i=s.n()).done;){var c,l=Yi(i.value,t),f=l.sorted,d=l.recipientMap,h=Object(In.a)(f);try{for(h.s();!(c=h.n()).done;){var p=c.value;u.has(p.name)||(n.push(p),u.add(p.name))}}catch(z){h.e(z)}finally{h.f()}var v=function(e){null==r[e]&&(r[e]=new Set),d[e].forEach((function(t){return r[e].add(t)}))};for(var m in d)v(m)}}catch(z){s.e(z)}finally{s.f()}}return{sorted:n,recipientCounts:Xi(r)}}(s,t);p=g.sorted,v=g.recipientCounts,Hi[m]=p,Gi[m]=v}p=Hi[m],v={},i||Object.assign(v,Gi[m]);for(var b=new Vi(t),y=0;y<p.length;++y){if(null!=r){var x=Object(o.memory)().numTensors;x>r.maxNumTensors&&(r.maxNumTensors=x),x<r.minNumTensors&&(r.minNumTensors=x)}var w=p[y],O=w.sourceLayer;if(!(O instanceof Ua)){var k,j=[],_=[],S=[],E=!1,A=Object(In.a)(w.inputs);try{for(A.s();!(k=A.n()).done;){var C=k.value,N=b.getValue(C),T=b.getMask(C);j.push(N),_.push(T),null!=T&&(E=!0),i||(v[C.name]--,0!==v[C.name]||t.hasKey(C)||-1!==c.indexOf(C.name)||N.isDisposed||!0===C.sourceLayer.stateful||S.push(N))}}catch(z){A.e(z)}finally{A.f()}E&&((n=n||{}).mask=_[0]);var D=Gn(O.apply(j,n)),I=null;O.supportsMasking&&(I=O.computeMask(j,_));for(var M=Ki(w),F=Array.isArray(M)?M:[M],R=0;R<F.length;++R){b.hasKey(F[R])||b.add(F[R],D[R],Array.isArray(I)?I[0]:I);var P=c.indexOf(F[R].name);-1!==P&&(l[P]=D[R])}i||Object(o.dispose)(S)}}return b.disposeMasks(),u?l:l[0]}function Xi(e){var t={};for(var n in e)t[n]=e[n].size;return t}function Yi(e,t){var n,r=new Set,a=[],i={},o=Object(In.a)(t.names());try{for(o.s();!(n=o.n()).done;){var u=n.value;r.add(u)}}catch(v){o.e(v)}finally{o.f()}var s=[],c=[];for(s.push(e);s.length>0;){var l=s[s.length-1];if(r.has(l.name))s.pop();else{var f=c[c.length-1]===s.length-1;if(0===l.inputs.length||f)s.pop(),a.push(l),r.add(l.name),f&&c.pop();else{c.push(s.length-1);var d,h=Object(In.a)(l.inputs);try{for(h.s();!(d=h.n()).done;){var p=d.value;null==i[p.name]&&(i[p.name]=new Set),i[p.name].add(l.name),r.has(p.name)||s.push(p)}}catch(v){h.e(v)}finally{h.f()}}}}return{sorted:a,recipientMap:i}}function Ki(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r){var a,i=Object(In.a)(e.sourceLayer.inboundNodes[r].outputTensors);try{for(i.s();!(a=i.n()).done;){if(a.value.id===e.id){n=r;break}}}catch(o){i.e(o)}finally{i.f()}}t=e.sourceLayer.getOutputAt(n)}return t}var $i=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),(r=t.call(this,{})).containerNodes=new Set,r.name=e.name,null==r.name){var a=r.getClassName().toLowerCase();r.name=ja(a)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(e.inputs)?r.inputs=e.inputs.slice():r.inputs=[e.inputs],Array.isArray(e.outputs)?r.outputs=e.outputs.slice():r.outputs=[e.outputs],Qn(r.inputs).length!==r.inputs.length)throw new zn("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(r.inputs.map((function(e){return e.name}))));Qn(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(r.outputs.map((function(e){return e.name})))),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];var i,o=Object(In.a)(r.outputs);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.sourceLayer,c=u.nodeIndex,l=u.tensorIndex;r.outputLayers.push(s),r.outputLayersNodeIndices.push(c),r.outputLayersTensorIndices.push(l)}}catch(Oe){o.e(Oe)}finally{o.f()}var f,d=Object(In.a)(r.inputs);try{for(d.s();!(f=d.n()).done;){var h=f.value,p=h.sourceLayer,v=h.nodeIndex,m=h.tensorIndex;Wn(0===v,"input layer has >1 nodes"),Wn(0===m,"input layer has >1 tensors"),r.inputLayers.push(p),r.inputLayersNodeIndices.push(v),r.inputLayersTensorIndices.push(m)}}catch(Oe){d.e(Oe)}finally{d.f()}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var g=0;g<r.inputLayers.length;g++){var b=r.inputLayers[g];if(!(b instanceof Ua))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(g," (0-based) originates ")+"from layer type ".concat(b.getClassName(),"."));r.inputNames.push(b.name),r.feedInputShapes.push(b.batchInputShape),r.feedInputNames.push(b.name)}var y,x=Object(In.a)(r.outputLayers);try{for(x.s();!(y=x.n()).done;){var w=y.value;r.outputNames.push(w.name)}}catch(Oe){x.e(Oe)}finally{x.f()}r.internalInputShapes=r.inputs.map((function(e){return e.shape})),r.internalOutputShapes=r.outputs.map((function(e){return e.shape}));var O,k={},j={},_={},S={},E={},A=[],C=function e(t,a,i,o,u,s){null!=o&&null!=u&&null!=s||(o=t.sourceLayer,u=t.nodeIndex,s=t.tensorIndex);var c=o.inboundNodes[u];if(-1!==i.indexOf(c))throw new Pn("The tensor ".concat(t.name,' at layer "').concat(o.name,'" ')+"is part of a cycle.");if(-1===a.indexOf(c)){r.containerNodes.add(n.nodeKey(o,u)),o.id in E||(E[o.id]=Object.keys(E).length),-1===i.indexOf(c)&&i.push(c);for(var l=c.inboundLayers.length,f=0;f<l;f++){e(c.inputTensors[f],a,i,c.inboundLayers[f],c.nodeIndices[f],c.tensorIndices[f])}for(a.push(c);i.indexOf(c)>=0;)i.splice(i.indexOf(c),1);A.push(c)}},N=[],T=[],D=Object(In.a)(r.outputs);try{for(D.s();!(O=D.n()).done;){C(O.value,N,T)}}catch(Oe){D.e(Oe)}finally{D.f()}var I,M=A.slice().reverse(),F=Object(In.a)(M);try{for(F.s();!(I=F.n()).done;){var R=I.value;j[R.id]=R,R.id in k||(k[R.id]=0);var P=k[R.id],z=null==_[R.outboundLayer.id]?0:_[R.outboundLayer.id];P=Math.max(P,z),_[R.outboundLayer.id]=P,S[R.outboundLayer.id]=R.outboundLayer,k[R.id]=P;for(var B=0;B<R.inboundLayers.length;B++){var L=R.inboundLayers[B],U=R.nodeIndices[B],W=L.inboundNodes[U],V=null==k[W.id]?0:k[W.id];k[W.id]=Math.max(P+1,V),j[W.id]=W}}}catch(Oe){F.e(Oe)}finally{F.f()}var H={};for(var G in k){var q=k[G];q in H||(H[q]=[]),H[q].push(j[G])}var X={};for(var Y in _){var K=_[Y];K in X||(X[K]=[]),X[K].push(S[Y])}var $=Object.keys(X).map((function(e){return parseInt(e,10)})).sort(Jn);r.layers=[];var Z,J=Object(In.a)($);try{for(J.s();!(Z=J.n()).done;){var Q=X[Z.value];Q.sort((function(e,t){var n=E[e.id],r=E[t.id];return n<r?-1:n>r?1:0}));var ee,te=Object(In.a)(Q);try{for(te.s();!(ee=te.n()).done;){var ne=ee.value;ne instanceof n&&r.internalContainerRefs.push(ne),r.layers.push(ne)}}catch(Oe){te.e(Oe)}finally{te.f()}}}catch(Oe){J.e(Oe)}finally{J.f()}r.layersByDepth=X,$=Object.keys(H).map((function(e){return parseInt(e,10)})).sort(Jn);var re,ae=r.inputs.slice(),ie=[],oe=Object(In.a)($);try{for(oe.s();!(re=oe.n()).done;){var ue,se=re.value,ce=Object(In.a)(H[se]);try{for(ce.s();!(ue=ce.n()).done;){var le=ue.value,fe=le.outboundLayer;if(null!=fe){var de,he=Object(In.a)(le.inputTensors);try{for(he.s();!(de=he.n()).done;){var pe=de.value;if(-1===ae.indexOf(pe))throw new Pn("Graph disconnected: cannot obtain value for tensor ".concat(pe)+' at layer "'.concat(fe.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(ie))}}catch(Oe){he.e(Oe)}finally{he.f()}var ve,me=Object(In.a)(le.outputTensors);try{for(me.s();!(ve=me.n()).done;){var ge=ve.value;ae.push(ge)}}catch(Oe){me.e(Oe)}finally{me.f()}ie.push(fe.name)}}}catch(Oe){ce.e(Oe)}finally{ce.f()}}}catch(Oe){oe.e(Oe)}finally{oe.f()}r.nodesByDepth=H;var be,ye=r.layers.map((function(e){return e.name})),xe=Object(In.a)(ye);try{var we=function(){var e=be.value,t=ye.filter((function(t){return t===e})).length;if(1!==t)throw new Pn('The name "'.concat(e,'" is used ').concat(t," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(ye))};for(xe.s();!(be=xe.n()).done;)we()}catch(Oe){xe.e(Oe)}finally{xe.f()}return r.outboundNodes=[],r.inboundNodes=[],new Pa({outboundLayer:Object(Mn.a)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map((function(e){return null})),outputMasks:r.outputs.map((function(e){return null})),inputShapes:r.inputs.map((function(e){return e.shape})),outputShapes:r.outputs.map((function(e){return e.shape}))}),r.built=!0,r._refCount=1,r}return Object(An.a)(n,[{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){var t,n=Object(In.a)(this.layers);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.numDisposedVariables+=r.dispose().numDisposedVariables}}catch(u){n.e(u)}finally{n.f()}var a,i=Object(In.a)(this.internalContainerRefs);try{for(i.s();!(a=i.n()).done;){var o=a.value;e.numDisposedVariables+=o.dispose().numDisposedVariables}}catch(u){i.e(u)}finally{i.f()}}return e.refCountAfterDispose=this._refCount,e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.layers.forEach((function(t){t._trainableWeights.forEach((function(t){return t.trainable=e}))})),this.trainable_=e}},{key:"trainableWeights",get:function(){if(this._trainableWeights.length>0)throw new zn("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];var e,t=[],n=Object(In.a)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t=t.concat(r.trainableWeights)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=Object(In.a)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,Object(Dn.a)(r.nonTrainableWeights))}}catch(s){n.e(s)}finally{n.f()}if(!this.trainable){var a,i=[],o=Object(In.a)(this.layers);try{for(o.s();!(a=o.n()).done;){var u=a.value;i.push.apply(i,Object(Dn.a)(u.trainableWeights))}}catch(s){o.e(s)}finally{o.f()}return i.concat(t)}return t}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"loadWeights",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={},a=0,i=Object(In.a)(this.layers);try{for(i.s();!(t=i.n()).done;){var o,u=t.value,s=Object(In.a)(u.weights);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(null!=r[c.originalName])throw new zn("Duplicate weight name: ".concat(c.originalName));r[c.originalName]=c,a++}}catch(g){s.e(g)}finally{s.f()}}}catch(g){i.e(g)}finally{i.f()}var l=[];for(var f in e){var d=f;if(null==r[f]){var h=f.split("/"),p=h.slice(0,-2).concat([h[h.length-1]]);d=p.join("/")}if(null!=r[d])l.push([r[d],e[f]]);else if(n)throw new zn("Provided weight data has no target variable: ".concat(f));delete r[d]}if(n){var v=[];for(var m in r)v.push(m);if(v.length>0)throw new zn("".concat(v.length," of ").concat(a," weights are not set: ")+"".concat(v))}Ia(l)}},{key:"updatedConfig",value:function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat(Wi),t.backend="TensorFlow.js",t}},{key:"toJSON",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Ui(this.updatedConfig());return t?JSON.stringify(n):n}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){e=Gn(e);for(var r=new Vi,a=0;a<n.inputs.length;++a)r.add(n.inputs[a],e[a]);return qi(n.outputs,r,t)}))}},{key:"computeMask",value:function(e,t){var n=this;return Object(o.tidy)((function(){var r;return e=Gn(e),r=null==t?Un(null,e.length):Gn(t),n.runInternalGraph(e,r)[1]}))}},{key:"computeOutputShape",value:function(e){var t=Sa(e);if(t.length!==this.inputLayers.length)throw new zn("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));for(var n={},r=0;r<t.length;r++){var a=this.inputLayers[r],i=t[r];n[a.name+"_0_0"]=i}var o=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(Jn);if(o.length>1){var u,s=Object(In.a)(o);try{for(s.s();!(u=s.n()).done;){var c,l=u.value,f=this.nodesByDepth[l],d=Object(In.a)(f);try{for(d.s();!(c=d.n()).done;){var h=c.value,p=h.outboundLayer;if(-1===this.inputLayers.map((function(e){return e.id})).indexOf(p.id)){for(var v=[],m=0;m<h.inboundLayers.length;m++){var g=h.inboundLayers[m],b=h.nodeIndices[m],y=h.tensorIndices[m],x=n["".concat(g.name,"_").concat(b,"_").concat(y)];v.push(x)}for(var w=Sa(p.computeOutputShape(Hn(v))),O=p.inboundNodes.indexOf(h),k=0;k<w.length;k++){n["".concat(p.name,"_").concat(O,"_").concat(k)]=w[k]}}}}catch(I){d.e(I)}finally{d.f()}}}catch(I){s.e(I)}finally{s.f()}}for(var j=[],_=[],S=0;S<this.outputLayers.length;S++){var E=this.outputLayers[S],A=this.outputLayersNodeIndices[S],C=this.outputLayersTensorIndices[S],N="".concat(E.name,"_").concat(A,"_").concat(C);_.push(N)}for(var T=0;T<_.length;T++){var D=_[T];Wn(D in n),j.push(n[D])}return Hn(j)}},{key:"runInternalGraph",value:function(e,t){null==t&&(t=Un(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var a=this.inputs[r],i=e[r],o=t[r];n[a.id]=[i,o]}var s,c=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(Jn),l=Object(In.a)(c);try{for(l.s();!(s=l.n()).done;){var f,d=s.value,h=this.nodesByDepth[d],p=Object(In.a)(h);try{for(p.s();!(f=p.n()).done;){var v,m=f.value,g=m.outboundLayer,b=m.inputTensors,y=m.outputTensors,x=new Array,w=Object(In.a)(b);try{for(w.s();!(v=w.n()).done;){var O=v.value;O.id in n&&x.push(n[O.id])}}catch(H){w.e(H)}finally{w.f()}if(x.length===b.length){var k={},j=void 0,_=void 0,S=void 0,E=void 0;if(null!=m.callArgs&&(k=m.callArgs),1===x.length){var A=Object(u.a)(x[0],2),C=A[0],N=A[1];null==k.mask&&(k.mask=N),S=Gn(g.call(C,k)),E=Gn(g.computeMask(C,N)),j=[C],_=[N]}else j=x.map((function(e){return e[0]})),_=x.map((function(e){return e[1]})),null==k.mask&&(k.mask=_),S=Gn(g.call(j,k)),E=Gn(g.computeMask(j,_));if(g.activityRegularizer)throw new Bn("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var T=0;T<y.length;++T){var D=y[T],I=S[T],M=E[T];n[D.id]=[I,M]}}}}catch(H){p.e(H)}finally{p.f()}}}catch(H){l.e(H)}finally{l.f()}var F,R=[],P=[],z=[],B=Object(In.a)(this.outputs);try{for(B.s();!(F=B.n()).done;){var L=F.value;Wn(L.id in n,"Could not compute output ".concat(L.name," : ").concat(L.id));var U=Object(u.a)(n[L.id],2),W=U[0],V=U[1];z.push(W.shape),R.push(W),P.push(V)}}catch(H){B.e(H)}finally{B.f()}return[R,P,z]}},{key:"buildNodeConversionMap",value:function(e){var t,r,a={},i=Object(In.a)(this.layers);try{for(i.s();!(r=i.n()).done;){var o=r.value;t=o instanceof n?1:0;for(var u=0;u<o.inboundNodes.length;u++){var s=n.nodeKey(o,u);this.containerNodes.has(s)&&(a[s]=t,t+=1)}}}catch(c){i.e(c)}finally{i.f()}return a}},{key:"getLayer",value:function(e,t){if(null!=t){if(this.layers.length<=t)throw new zn("Was asked to retrieve layer at index ".concat(t,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[t]}if(null==e)throw new zn("Provide either a layer name or layer index");var n,r=Object(In.a)(this.layers);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.name===e)return a}}catch(i){r.e(i)}finally{r.f()}throw new zn("No such layer: ".concat(e))}},{key:"calculateLosses",value:function(){var e=this;return Object(o.tidy)((function(){var t,r=[],a=Object(In.a)(e.layers);try{for(a.s();!(t=a.n()).done;)for(var i=t.value,o=0;o<i.inboundNodes.length;++o){var u=n.nodeKey(i,o);e.containerNodes.has(u)&&r.push.apply(r,Object(Dn.a)(i.calculateLosses()))}}catch(s){a.e(s)}finally{a.f()}return r}))}},{key:"getConfig",value:function(){var e,t={name:this.name},r=this.buildNodeConversionMap(this.layers),a=[],i=Object(In.a)(this.layers);try{for(i.s();!(e=i.n()).done;){for(var o=e.value,u=o.getClassName(),s=o.getConfig(),c=[],l=0;l<o.inboundNodes.length;l++){var f=o.inboundNodes[l],d=n.nodeKey(o,l),h={};if(this.containerNodes.has(d)){if(f.callArgs)try{JSON.stringify(f.callArgs),h=f.callArgs}catch(F){console.warn("Layer ".concat(o.name," was passed ")+"non-serializable keyword arguments: "+"".concat(f.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),h={}}if(f.inboundLayers.length>0){for(var p=[],v=0;v<f.inboundLayers.length;v++){var m=f.inboundLayers[v],g=f.nodeIndices[v],b=f.tensorIndices[v],y=r[n.nodeKey(m,g)];null==y&&(y=0),p.push([m.name,y,b,h])}c.push(p)}}}var x={};x.name=o.name,x.className=u,x.config=s,x.inboundNodes=c,a.push(x)}}catch(F){i.e(F)}finally{i.f()}t.layers=a;for(var w=[],O=0;O<this.inputLayers.length;O++){var k=this.inputLayers[O],j=this.inputLayersNodeIndices[O],_=n.nodeKey(k,j);if(this.containerNodes.has(_)){var S=r[_];null!==S&&void 0!==S||(S=0);var E=this.inputLayersTensorIndices[O];w.push([k.name,S,E])}}t.inputLayers=w;for(var A=[],C=0;C<this.outputLayers.length;C++){var N=this.outputLayers[C],T=this.outputLayersNodeIndices[C],D=n.nodeKey(N,T);if(this.containerNodes.has(D)){var I=r[D];null!==I&&void 0!==I||(I=0);var M=this.outputLayersTensorIndices[C];A.push([N.name,I,M])}}return t.outputLayers=A,t}},{key:"stateful",get:function(){if(this._stateful)throw new zn("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");var e,t=Object(In.a)(this.layers);try{for(t.s();!(e=t.n()).done;){if(e.value.stateful)return!0}}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"resetStates",value:function(){var e=this;Object(o.tidy)((function(){e.layers.forEach((function(e){e.stateful&&e.resetStates()}))}))}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={},a={};function i(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function o(e,t){var n,a,o=[],u=Object(In.a)(t);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s[0],l=s[1],f=s[2];if(n=null==s[3]?{}:s[3],!(c in r))return void i(e,t);var d=r[c];if(d.inboundNodes.length<=l)return void i(e,t);var h=d.inboundNodes[l];o.push(h.outputTensors[f])}}catch(p){u.e(p)}finally{u.f()}o.length>0&&e.apply(Hn(o),n)}function u(e){var a=e.name,o=oi(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(n),r[a]=o,e.inboundNodes.forEach((function(e){if(!(e instanceof Array))throw new zn("Corrupted configuration, expected array for nodeData: ".concat(e));i(o,e)}))}var s,c=t.name,l=t.layers,f=Object(In.a)(l);try{for(f.s();!(s=f.n()).done;){var d=s.value;u(d)}}catch(U){f.e(U)}finally{f.f()}for(;!er(a);){var h,p=Object(In.a)(l);try{for(p.s();!(h=p.n()).done;){var v=h.value,m=r[v.name];if(m.name in a){var g=a[m.name];delete a[m.name];var b,y=Object(In.a)(g);try{for(y.s();!(b=y.n()).done;){var x=b.value;o(m,x)}}catch(U){y.e(U)}finally{y.f()}}}}catch(U){p.e(U)}finally{p.f()}}var w,O=[],k=[],j=t.inputLayers,_=Object(In.a)(j);try{for(_.s();!(w=_.n()).done;){var S=w.value,E=S[0],A=S[1],C=S[2];Wn(E in r);var N=r[E],T=N.inboundNodes[A].outputTensors;O.push(T[C])}}catch(U){_.e(U)}finally{_.f()}var D,I=t.outputLayers,M=Object(In.a)(I);try{for(M.s();!(D=M.n()).done;){var F=D.value,R=F[0],P=F[1],z=F[2];Wn(R in r);var B=r[R],L=B.inboundNodes[P].outputTensors;k.push(L[z])}}catch(U){M.e(U)}finally{M.f()}return new e({inputs:O,outputs:k,name:c})}}]),n}(Ba);function Zi(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return null}));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," ")+"element(s), but the model has ".concat(r," outputs. ")+"Make sure a set of weights is provided for each model output.");return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){var a=[];return t.forEach((function(t){t in e?a.push(e[t]):a.push(null)})),a}throw new Error("The model has multiple (".concat(r,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(r," elements or an object with ").concat(t," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(e)))}function Ji(e,t){return Zi(e,t,"classWeight")}function Qi(e,t,n,r){return eo.apply(this,arguments)}function eo(){return(eo=Object(Ha.a)(qa.a.mark((function e(t,n,r,a){var i,u,s;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&null==a){e.next=2;break}throw new Error("Support sampleWeight is not implemented yet");case 2:if(null==r){e.next=15;break}return i=Object(o.tidy)((function(){if(1===t.shape.length)return Object(o.clone)(t);if(2===t.shape.length){if(t.shape[1]>1){return Object(o.argMax)(t,1)}if(1===t.shape[1])return Object(o.reshape)(t,[t.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(t.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(t.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")})),e.t0=Array,e.next=7,i.data();case 7:return e.t1=e.sent,u=e.t0.from.call(e.t0,e.t1),Object(o.dispose)(i),s=[],u.forEach((function(e){if(null==r[e])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(e," exists in the data but not in ")+"classWeight");s.push(r[e])})),e.abrupt("return",Object(o.tensor1d)(s,"float32"));case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function to(e,t){return Object(o.mul)(e,t)}function no(e,t){var n,r,a=t;n=a.xs,r=a.ys,o.util.assert(null!=n&&null!=r,(function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(t)}));var i=ro("input",e.inputNames,n),u=ro("output",e.outputNames,r),s=i[0].shape[0];o.util.assert(i.length===e.inputs.length,(function(){return"LayersModel has ".concat(e.inputs.length," inputs, but the dataset ")+"provides ".concat(i.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(e.inputNames),")")})),o.util.assert(u.length===e.outputs.length,(function(){return"LayersModel has ".concat(e.outputs.length," outputs, but the dataset ")+"provides ".concat(u.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(e.outputNames),")")}));for(var c=function(t){o.util.assert(i[t].shape[0]===s,(function(){return"Batch size mismatch: input "+"".concat(e.inputNames[t]," has ").concat(i[t].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")}))},l=0;l<i.length;l++)c(l);for(var f=function(t){o.util.assert(u[t].shape[0]===s,(function(){return"Batch size mismatch: output "+"".concat(e.outputNames[t]," has ").concat(u[t].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")}))},d=0;d<u.length;d++)f(d);return{xs:i,ys:u}}function ro(e,t,n){if(n instanceof o.Tensor)return[n];if(Array.isArray(n))return o.util.assert(n.length===t.length,(function(){return"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,".")})),n;var r,a=[],i=Object(In.a)(t);try{for(i.s();!(r=i.n()).done;){var u=r.value;if(null==n[u])throw new zn("The feature data generated by the dataset lacks the required "+"".concat(e," key '").concat(u,"'."));a.push(n[u])}}catch(s){i.e(s)}finally{i.f()}return a}function ao(e){if(3===e.length)throw new Bn("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}function io(e,t,n){return oo.apply(this,arguments)}function oo(){return(oo=Object(Ha.a)(qa.a.mark((function e(t,n,r){var a,i,u,s,c,l,f,d,h,p,v,m,g,b,y,x,w,O,k,j,_,S,E,A,C,N,T,D,I,M,F,R,P;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=r.batchesPerEpoch,o.util.assert(null!=t.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),o.util.assert(null!=r,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),o.util.assert(null!=r.epochs&&r.epochs>0&&Number.isInteger(r.epochs),(function(){return"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(r.epochs)})),o.util.assert(!a||r.batchesPerEpoch>0&&Number.isInteger(r.batchesPerEpoch),(function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(r.batchesPerEpoch)})),o.util.assert(null==r.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),!t.isTraining){e.next=8;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 8:return t.isTraining=!0,e.prev=9,(i=null!=r.validationData)&&(so(r.validationData)?o.util.assert(null==r.validationBatches||r.validationBatches>0&&Number.isInteger(r.validationBatches),(function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(r.validationBatches)})):(c=ao(r.validationData),u=c.xs,s=c.ys)),l=t.makeTrainFunction(),f=t.getDedupedMetricsNames(),d=i?f.slice().concat(f.map((function(e){return"val_"+e}))):f.slice(),h=ti(r.callbacks,r.yieldEvery),p=null==r.verbose?1:r.verbose,v=ri(h,p,r.epochs,null,null,uo(n,r),null,i,d),m=v.callbackList,g=v.history,m.setModel(t),t.history=g,e.next=22,m.onTrainBegin();case 22:return t.stopTraining_=!1,b=null==r.initialEpoch?0:r.initialEpoch,e.next=26,n.iterator();case 26:y=e.sent;case 27:if(!(b<r.epochs)){e.next=98;break}return x={},e.next=31,m.onEpochBegin(b);case 31:if(w=0,O=0,a){e.next=37;break}return e.next=36,n.iterator();case 36:y=e.sent;case 37:if(a&&!(w<r.batchesPerEpoch)){e.next=91;break}return e.next=40,y.next();case 40:if(k=e.sent,!a||!k.done){e.next=44;break}return console.warn("You provided `batchesPerEpoch` as "+"".concat(r.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(w," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(r.batchesPerEpoch*r.epochs," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("break",91);case 44:if(null==k.value){e.next=73;break}return j=no(t,k.value),_=j.xs,S=j.ys,(E={}).batch=O,E.size=_[0].shape[0],e.next=51,m.onBatchBegin(O,E);case 51:if(A=[],null==r.classWeight){e.next=64;break}C=Ji(r.classWeight,t.outputNames),N=0;case 55:if(!(N<C.length)){e.next=64;break}return e.t0=A,e.next=59,Qi(S[N],null,C[N]);case 59:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 61:++N,e.next=55;break;case 64:for(T=_.concat(S).concat(A),D=l(T),o.dispose(T),I=0;I<f.length;++I)M=f[I],F=D[I],E[M]=F,o.keep(F);return e.next=70,m.onBatchEnd(O,E);case 70:Ka(E),O++,w++;case 73:if(!(a?w>=r.batchesPerEpoch:k.done)){e.next=87;break}if(!i){e.next=86;break}if(R=void 0,!so(r.validationData)){e.next=84;break}return e.t2=Gn,e.next=80,t.evaluateDataset(r.validationData,{batches:r.validationBatches});case 80:e.t3=e.sent,R=(0,e.t2)(e.t3),e.next=85;break;case 84:R=Gn(t.evaluate(u,s,{batchSize:null==r.validationBatchSize?32:r.validationBatchSize,verbose:0}));case 85:for(P=0;P<t.metricsNames.length;++P)x["val_".concat(t.metricsNames[P])]=R[P];case 86:return e.abrupt("break",91);case 87:if(!t.stopTraining_){e.next=89;break}return e.abrupt("break",91);case 89:e.next=37;break;case 91:return e.next=93,m.onEpochEnd(b,x);case 93:if(b++,!t.stopTraining_){e.next=96;break}return e.abrupt("break",98);case 96:e.next=27;break;case 98:return e.next=100,m.onTrainEnd();case 100:return e.next=102,t.history.syncData();case 102:return e.abrupt("return",t.history);case 103:return e.prev=103,t.isTraining=!1,e.finish(103);case 106:case"end":return e.stop()}}),e,null,[[9,,103,106]])})))).apply(this,arguments)}function uo(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function so(e){return"function"===typeof e.iterator}function co(e){return"function"===typeof e.next}function lo(e,t,n){return fo.apply(this,arguments)}function fo(){return(fo=Object(Ha.a)(qa.a.mark((function e(t,n,r){var a,i,u,s,c,l,f,d,h;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=(r=r||{}).batches,i=t.testFunction,u=[],!(r.verbose>0)){e.next=6;break}throw new Bn("Verbose mode is not implemented yet.");case 6:if(o.util.assert(!a||r.batches>0&&Number.isInteger(r.batches),(function(){return"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(r.batches))})),!co(n)){e.next=11;break}e.t0=n,e.next=14;break;case 11:return e.next=13,n.iterator();case 13:e.t0=e.sent;case 14:s=e.t0,c=0,l=0,f=qa.a.mark((function e(){var n;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.next();case 2:if(n=e.sent,u=o.tidy((function(){return n.value&&function(){var e=no(t,n.value),r=e.xs,a=e.ys,s=r.concat(a),f=o.tidy((function(){return i(s)}));if(o.dispose(s),0===l)for(var d=0;d<f.length;++d)u.push(Object(o.scalar)(0));for(var h=s[0].shape[0],p=function(e){var t=f[e],n=u[e];u[e]=o.tidy((function(){return o.add(u[e],o.mul(h,t))})),l>0&&o.dispose(n)},v=0;v<f.length;++v)p(v);o.dispose(f),c+=h,++l}(),u})),!n.done){e.next=7;break}return a&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(r.batches," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("return","break");case 7:case"end":return e.stop()}}),e)}));case 18:if(a&&!(l<r.batches)){e.next=25;break}return e.delegateYield(f(),"t1",20);case 20:if("break"!==e.t1){e.next=23;break}return e.abrupt("break",25);case 23:e.next=18;break;case 25:for(d=0;d<u.length;++d)h=u[d],u[d]=o.div(u[d],c),o.dispose(h);return e.abrupt("return",Hn(u));case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ho(e){o.util.assert(e>0&&Number.isInteger(e),(function(){return"batchSize is required to be a positive integer, but got ".concat(e)}))}function po(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((function(e){return zr(e,t,n-t)})):zr(e,t,n-t)}function vo(e,t){return o.tidy((function(){return null==e?null:Array.isArray(e)?e.map((function(e){return vo(e,t)})):qr(e,"int32"===t.dtype?t:o.cast(t,"int32"))}))}function mo(e,t){for(var n=[],r=0,a=null;r<e;)(a=r+t)>=e&&(a=e),n.push([r,a]),r=a;return n}function go(e,t,n,r,a,i,o,u,s,c,l,f,d,h,p){return bo.apply(this,arguments)}function bo(){return(bo=Object(Ha.a)(qa.a.mark((function e(t,n,r,a,i,u,s,c,l,f,d,h,p,v,m){var g,b,y,x,w,O,k,j;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==i&&(i=32),null==u&&(u=1),null==d&&(d=!0),null==p&&(p=0),g=!1,null!=l&&null!=f&&(g=!0),null==m){e.next=10;break}if(g=!0,null!=v){e.next=10;break}throw new zn("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");case 10:return null!=(b=t.checkNumSamples(r,i,v,"steps_per_epoch"))&&(y=Mr(0,b)),null==s&&(s=1),x=ri(c,s,u,p,b,v,i,g,h),w=x.callbackList,O=x.history,w.setModel(t),t.history=O,e.next=18,w.onTrainBegin();case 18:t.stopTraining_=!1,k=qa.a.mark((function e(u){var s;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.onEpochBegin(u);case 2:if(s={},null==v){e.next=7;break}throw new Bn("stepsPerEpoch mode is not implemented yet.");case 7:return e.delegateYield(qa.a.mark((function e(){var u,c,h,p;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("batch"!==d){e.next=4;break}throw new Bn("batch shuffling is not implemneted yet");case 4:d&&o.util.shuffle(y);case 5:u=Object(o.tensor1d)(y),c=mo(b,i),h=qa.a.mark((function e(d){var h;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h={},e.next=3,w.onBatchBegin(d,h);case 3:return o.tidy((function(){var e=c[d][0],p=c[d][1],v=zr(u,e,p-e);h.batch=d,h.size=p-e;for(var m=vo(r,v),b=n(m),y=0;y<a.length;++y){var x=a[y],w=b[y];h[x]=w,o.keep(w)}if(d===c.length-1&&g)for(var O=t.testLoop(l,f,i),k=0;k<a.length;++k){var j=a[k],_=O[k];o.keep(_),s["val_"+j]=_}})),e.next=6,w.onBatchEnd(d,h);case 6:if(Ka(h),!t.stopTraining_){e.next=9;break}return e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),p=0;case 9:if(!(p<c.length)){e.next=17;break}return e.delegateYield(h(p),"t0",11);case 11:if("break"!==e.t0){e.next=14;break}return e.abrupt("break",17);case 14:++p,e.next=9;break;case 17:u.dispose();case 18:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:return e.next=10,w.onEpochEnd(u,s);case 10:if(!t.stopTraining_){e.next=12;break}return e.abrupt("return","break");case 12:case"end":return e.stop()}}),e)})),j=p;case 21:if(!(j<u)){e.next=29;break}return e.delegateYield(k(j),"t0",23);case 23:if("break"!==e.t0){e.next=26;break}return e.abrupt("break",29);case 26:++j,e.next=21;break;case 29:return e.next=31,w.onTrainEnd();case 31:return e.next=33,t.history.syncData();case 33:return e.abrupt("return",t.history);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(e,t,n){return xo.apply(this,arguments)}function xo(){return xo=Object(Ha.a)(qa.a.mark((function e(t,n,r){var a,i,u,s,c,l,f,d,h,p,v,m,g,b,y,x,w,O,k,j,_,S,E,A,C,N,T=arguments;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=T.length>3&&void 0!==T[3]?T[3]:{},!t.isTraining){e.next=3;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 3:return t.isTraining=!0,e.prev=4,ho(v=null==a.batchSize?32:a.batchSize),m=!1,e.next=10,t.standardizeUserData(n,r,a.sampleWeight,a.classWeight,m,v);case 10:if(g=e.sent,i=g[0],u=g[1],p=g[2],b=!1,!(null!=a.validationData&&a.validationData.length>0)){e.next=36;break}if(b=!0,2!==a.validationData.length){e.next=22;break}l=a.validationData[0],f=a.validationData[1],e.next=27;break;case 22:if(3!==a.validationData.length){e.next=26;break}throw new Bn("validationData including sample weights is not supported yet.");case 26:throw new zn("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(a.validationData," is invalid."));case 27:return x=!0,e.next=30,t.standardizeUserData(l,f,null,null,x,v);case 30:w=e.sent,d=w[0],h=w[1],y=d.concat(h),e.next=37;break;case 36:null!=a.validationSplit&&a.validationSplit>0&&a.validationSplit<1?(b=!0,O=Math.floor(i[0].shape[0]*(1-a.validationSplit)),k=i[0].shape[0],d=po(i,O,k),s=i,i=po(i,0,O),h=po(u,O,k),c=u,u=po(u,0,O),y=d.concat(h)):null!=a.validationSteps&&(b=!0);case 37:return j=i.concat(u).concat(p),t.checkTrainableWeightsConsistency(),_=t.makeTrainFunction(),S=t.getDedupedMetricsNames(),b?(t.makeTestFunction(),E=t.testFunction,A=S.slice().concat(S.map((function(e){return"val_"+e})))):(E=null,y=[],A=S.slice()),C=ti(a.callbacks,a.yieldEvery),e.next=45,go(t,_,j,S,v,a.epochs,a.verbose,C,E,y,a.shuffle,A,a.initialEpoch,null,null);case 45:return N=e.sent,e.abrupt("return",N);case 47:return e.prev=47,t.isTraining=!1,Oo(i,n),Oo(u,r),Oo(s,n),Oo(c,r),Oo(d,l),Oo(h,f),null!=p&&o.dispose(p),e.finish(47);case 57:case"end":return e.stop()}}),e,null,[[4,,47,57]])}))),xo.apply(this,arguments)}function wo(e){var t=[];e instanceof o.Tensor&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(Rr(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function Oo(e,t){if(null!=e){var n=[];if(t instanceof o.Tensor)n.push(t.id);else if(Array.isArray(t))t.forEach((function(e){return n.push(e.id)}));else if(null!=t)for(var r in t){var a=t[r];n.push(a.id)}var i=[];if(e instanceof o.Tensor)-1===n.indexOf(e.id)&&i.push(e);else if(Array.isArray(e))e.forEach((function(e){-1===n.indexOf(e.id)&&i.push(e)}));else if(null!=e)for(var u in e){var s=e[u];-1===n.indexOf(s.id)&&i.push(s)}i.forEach((function(e){e.isDisposed||e.dispose()}))}}function ko(e){return Array.isArray(e)}function jo(e){return!function(e){return e instanceof o.Tensor}(e)&&!ko(e)}function _o(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){var o=!1;if(ko(e)&&e.length>0)o=!0;else if(jo(e)){for(var u in e)if(e.hasOwnProperty(u)){o=!0;break}}else o=!0;if(o)throw new zn("Error when checking model ".concat(i," expected no data, ")+"but got ".concat(e))}return[]}if(null==e)return t.map((function(e){return null}));if(jo(e)){e=e,r=[];var s,c=Object(In.a)(t);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(null==e[l])throw new zn('No data provided for "'.concat(l,'". Need data for each key in: ')+"".concat(t));r.push(e[l])}}catch(m){c.e(m)}finally{c.f()}}else if(ko(e)){if((e=e).length!==t.length)throw new zn("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(t.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(e));r=e}else{if(e=e,t.length>1)throw new zn("The model ".concat(i," expects ").concat(t.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(e.shape));r=[e]}if(r=wo(r),null!=n)for(var f=0;f<t.length;++f)if(null!=n[f]){var d=r[f];if(d.shape.length!==n[f].length)throw new zn("Error when checking ".concat(i,": expected ").concat(t[f]," ")+"to have ".concat(n[f].length," dimension(s). but got array with ")+"shape ".concat(d.shape));for(var h=0;h<n[f].length;++h)if(0!==h||a){var p=d.shape[h],v=n[f][h];if(null!=v&&v>=0&&p!==v)throw new zn("".concat(i," expected a batch of elements where each ")+"example has shape [".concat(n[f].slice(1,n[f].length),"] ")+"(i.e.,tensor shape [*,".concat(n[f].slice(1,n[f].length),"])")+" but the ".concat(i," received an input with ").concat(d.shape[0])+" examples, each with shape [".concat(d.shape.slice(1,d.shape.length),"]")+" (tensor shape [".concat(d.shape,"])"))}}return r}function So(e,t,n){var r=Qn(e.map((function(e){return e.shape[0]})));r.sort();var a=Qn(t.map((function(e){return e.shape[0]})));if(a.sort(),r.length>1)throw new zn("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map((function(e){return e.shape})))));if(a.length>1)throw new zn("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map((function(e){return e.shape})))));if(r.length>0&&a.length>0&&!o.util.arraysEqual(r,a))throw new zn("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(r[0]," input sample(s) and ").concat(a[0]," target ")+"sample(s).")}function Eo(e,t,n){for(var r=[si,pi,di],a=0;a<e.length;++a){var i=e[a],o=t[a],u=n[a];if(null!=o){if(o===di&&1===i.shape[i.shape.length-1])throw new zn("You are passing a target array of shape ".concat(i.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o))for(var s=i.shape.slice(1),c=u.slice(1),l=0;l<s.length;++l){var f=s[l],d=c[l];if(null!=d&&f!==d)throw new zn("A target Tensor with shape ".concat(i.shape," was passed for an ")+"output of shape ".concat(u,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}function Ao(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new zn("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(t.length," Tensor(s),")+" but instead got ".concat(e.length," Tensors(s)."));r=e}else{if(t.length>1)throw new zn("The model expects ".concat(t.length," ").concat(i," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(e.shape),"."));r=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var u=r[o];if(u.shape.length!==n[o].length)throw new zn("Error when checking ".concat(i,": expected ").concat(t[o]," ")+"to have ".concat(n[o].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(u.shape)));for(var s=0;s<n[o].length;++s)if(0!==s||a){var c=u.shape[s],l=n[o][s];if(null!=l&&l!==c)throw new zn("Error when checking ".concat(i,": expected ")+"".concat(t[o]," to have shape ").concat(JSON.stringify(n[o])," but ")+"got array with shape ".concat(JSON.stringify(u.shape),"."))}}}var Co=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).isTraining=!1,r}return Object(An.a)(n,[{key:"summary",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new zn("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Ii(this,e,t,n)}},{key:"compile",value:function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return o.train.adagrad(.01)},Adadelta:function(){return o.train.adadelta(1,.95,Tn())},Adam:function(){return o.train.adam(.001,.9,.999,Tn())},Adamax:function(){return o.train.adamax(.002,.9,.999,Tn(),0)},RMSProp:function(){return o.train.rmsprop(.001,.9,0,Tn())},SGD:function(){return o.train.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new zn("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof o.Optimizer))throw new zn("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new zn("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));var r=e.loss;n=r.map((function(e){return bi(e)}))}else{var a=bi(e.loss);this.outputs.forEach((function(e){n.push(a)}))}else{for(var i in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(i))throw new zn('Unknown entry in loss dictionary: "'.concat(i,'". ')+"Only expected the following keys: ".concat(this.outputNames));var u,s=Object(In.a)(this.outputNames);try{for(s.s();!(u=s.n()).done;){var c=u.value;null==e.loss[c]&&console.warn('Output "'.concat(c,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(c," during training")),n.push(bi(e.loss[c]))}}catch(m){s.e(m)}finally{s.f()}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var l=0;l<this.outputs.length;++l){var f=this.internalOutputShapes[l],d=this.outputNames[l];this.feedOutputNames.push(d),this.feedOutputShapes.push(f),this.feedLossFns.push(this.lossFunctions[l])}var h=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Sr("loss",(function(){for(var e=0;e<t.outputs.length;++e)if(-1===h.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}}));var p=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return[]}));var n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map((function(e){return n}));var r,a=[],i=Object(In.a)(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,u=n.hasOwnProperty(o)?n[o]:[];Array.isArray(u)||(u=[u]),a.push(u)}}catch(m){i.e(m)}finally{i.f()}return a}(e.metrics,this.outputNames),v=function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])};Sr("metric",(function(){for(var e=function(e){if(-1!==h.indexOf(e))return"continue";!function(n){var r,a,i,o,u=Object(In.a)(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;if("string"===typeof s&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(s)){var c=t.internalOutputShapes[e];1===c[c.length-1]||t.lossFunctions[e]===pi?-1!==["accuracy","acc"].indexOf(s)?a=yi:-1!==["crossentropy","ce"].indexOf(s)&&(a=ki):t.lossFunctions[e]===hi?-1!==["accuracy","acc"].indexOf(s)?a=ji:-1!==["crossentropy","ce"].indexOf(s)&&(a=Si):-1!==["accuracy","acc"].indexOf(s)?a=xi:-1!==["crossentropy","ce"].indexOf(s)&&(a=_i);var l=void 0;-1!==["accuracy","acc"].indexOf(s)?l="acc":-1!==["crossentropy","ce"].indexOf(s)&&(l="ce"),i=a,r=""+l}else{var f=Ai(s);i=f,r=""+Ci(s)}var d=void 0;Sr(r,(function(){d=i})),v(e,r,d)}}catch(m){u.e(m)}finally{u.f()}}(p[e])},n=0;n<t.outputs.length;++n)e(n)})),this.collectedTrainableWeights=this.trainableWeights}},{key:"checkTrainableWeightsConsistency",value:function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n.batchSize?32:n.batchSize;ho(r);var a=!0,i=this.standardizeUserDataXY(e,t,a,r);try{var o=i[0].concat(i[1]);this.makeTestFunction();var u=this.testFunction,s=this.testLoop(u,o,r,n.verbose,n.steps);return Hn(s)}finally{Oo(i[0],e),Oo(i[1],t)}}},{key:"evaluateDataset",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.makeTestFunction(),e.abrupt("return",lo(this,t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkNumSamples",value:function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new zn("If ".concat(a," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(t))}else{if(null==e)throw new zn("Either the input data should have a defined shape, or "+"".concat(a," shoud be specified."));r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}},{key:"execute",value:function(e,t){if(Array.isArray(t)&&0===t.length)throw new zn("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),i=new Vi;if(e instanceof o.Tensor&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new zn("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(var u=0;u<this.inputs.length;++u)i.add(this.inputs[u],e[u])}else{var s,c=Object(In.a)(this.inputs);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e[l.name];if(null==f)throw new zn("No value is provided for the model's input ".concat(l.name));i.add(l,f)}}catch(h){c.e(h)}finally{c.f()}}var d=qi(a,i);return n?d:d[0]}},{key:"retrieveSymbolicTensors",value:function(e){var t,n=Un(null,e.length),r=e.length,a=Object(In.a)(this.layers);try{for(a.s();!(t=a.n()).done;){for(var i=t.value,o=Array.isArray(i.output)?i.output:[i.output],u=o.map((function(e){return e.name})),s=0;s<e.length;++s){var c=u.indexOf(e[s]);if(-1!==c&&(n[s]=o[c],r--),0===r)break}if(0===r)break}}catch(f){a.e(f)}finally{a.f()}if(r>0){var l=[];throw n.forEach((function(t,n){null==t&&l.push(e[n])})),new zn("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(l)))}return n}},{key:"predictLoop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.tidy((function(){var a=t.checkNumSamples(e);if(r)throw new Bn("Verbose predictLoop() is not implemented yet.");for(var i=mo(a,n),u=t.outputs.map((function(e){return[]})),s=function(n){o.tidy((function(){var r=i[n][0],a=i[n][1],o=po(e,r,a),u=[];if(Array.isArray(o))for(var s=0;s<o.length;++s)u.push({key:t.inputs[s],value:o[s]});else u.push({key:t.inputs[0],value:o});var c=new Vi(u);return qi(t.outputs,c)})).forEach((function(e,t){return u[t].push(e)}))},c=0;c<i.length;++c)s(c);return Hn(u.map((function(e){return o.concat(e,0)})))}))}},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=wo(e);Ao(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return ho(r),this.predictLoop(n,r)}finally{Oo(n,e)}}},{key:"predictOnBatch",value:function(e){Ao(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}},{key:"standardizeUserDataXY",value:function(e,t){var n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new Pn("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var r=[],a=0;a<this.feedOutputShapes.length;++a){var i=this.feedOutputShapes[a],o=this.feedLossFns[a];o===hi?r.push(i.slice(0,i.length-1).concat([1])):r.push(i)}if(So(e=_o(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=_o(t,this.feedOutputNames,r,!1,"target")),Eo(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new zn("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}},{key:"standardizeUserData",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n,r,a){var i,o,s,c,l,f,d,h,p,v=arguments;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!(v.length>4&&void 0!==v[4])||v[4],o=v.length>5?v[5]:void 0,s=this.standardizeUserDataXY(t,n,i,o),c=Object(u.a)(s,2),l=c[0],f=c[1],null==r){e.next=5;break}throw new Error("sample weight is not supported yet.");case 5:if(d=null,null==a){e.next=19;break}h=Ji(a,this.outputNames),d=[],p=0;case 10:if(!(p<h.length)){e.next=19;break}return e.t0=d,e.next=14,Qi(f[p],null,h[p]);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:++p,e.next=10;break;case 19:return e.abrupt("return",[l,f,d]);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"testLoop",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;return o.tidy((function(){var u=r.checkNumSamples(t,n,i,"steps"),s=[];if(a>0)throw new Bn("Verbose mode is not implemented yet.");if(null!=i)throw new Bn("steps mode in testLoop() is not implemented yet");for(var c=mo(u,n),l=Object(o.tensor1d)(Mr(0,u)),f=0;f<c.length;++f){var d=c[f][0],h=c[f][1],p=zr(l,d,h-d),v=vo(t,p),m=e(v);if(0===f)for(var g=0;g<m.length;++g)s.push(Object(o.scalar)(0));for(var b=0;b<m.length;++b){var y=m[b];s[b]=o.add(s[b],o.mul(h-d,y))}}for(var x=0;x<s.length;++x)s[x]=o.div(s[x],u);return s}))}},{key:"getDedupedMetricsNames",value:function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],a=r;if(Vn(e,r)>1){var i=Vn(e.slice(0,n),r);a+="_".concat(i)}t.push(a)}return t}},{key:"makeTrainFunction",value:function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),i=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),u=[],s=e.collectedTrainableWeights.map((function(e){return e.read()}));return[e.optimizer_.minimize((function(){for(var t=[],s=0;s<e.inputs.length;++s)t.push({key:e.inputs[s],value:r[s]});for(var c,l=new Vi(t),f=qi(e.outputs,l,{training:!0}),d=0;d<e.lossFunctions.length;++d){var h=(0,e.lossFunctions[d])(a[d],f[d]);null!=i[d]&&(h=to(h,i[d]));var p=o.mean(h);n.push(p),c=0===d?h:o.add(c,h)}for(var v=0;v<e.metricsTensors.length;++v){var m=void 0;if(e.outputs.length>1&&v<e.outputs.length)m=n[v];else{var g=e.metricsTensors[v][0],b=e.metricsTensors[v][1];m=o.mean(g(a[b],f[b]))}o.keep(m),u.push(m)}return c=o.mean(c),e.calculateLosses().forEach((function(e){c=o.add(c,e)})),c}),!0,s)].concat(u)}}},{key:"makeTestFunction",value:function(){var e=this;this.testFunction=function(t){return o.tidy((function(){for(var n,r=[],a=t.slice(0,e.inputs.length),i=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),u=[],s=0;s<e.inputs.length;++s)u.push({key:e.inputs[s],value:a[s]});for(var c=new Vi(u),l=qi(e.outputs,c),f=0;f<e.lossFunctions.length;++f){var d=e.lossFunctions[f],h=o.mean(d(i[f],l[f]));n=0===f?h:o.add(n,h),r.push(n)}for(var p=0;p<e.metricsTensors.length;++p){var v=e.metricsTensors[p][0],m=e.metricsTensors[p][1],g=o.mean(v(i[m],l[m]));r.push(g)}return r}))}}},{key:"fit",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r,a=arguments;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},e.abrupt("return",yo(this,t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(this,t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r,a,i,u,s,c,l,f,d,h;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.standardizeUserData(t,n);case 2:r=e.sent,a=r[0],i=r[1],u=this.makeTrainFunction(),s=u(a.concat(i)),c=[],l=Object(In.a)(s),e.prev=9,l.s();case 11:if((f=l.n()).done){e.next=19;break}return d=f.value,e.next=15,d.data();case 15:h=e.sent,c.push(h[0]);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),l.e(e.t0);case 24:return e.prev=24,l.f(),e.finish(24);case 27:return o.dispose(s),Oo(r[0],t),Oo(r[1],n),e.abrupt("return",Hn(c));case 31:case"end":return e.stop()}}),e,this,[[9,21,24,27]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNamedWeights",value:function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n),i=0;i<r.length;++i)n&&!r[i].trainable||t.push({name:r[i].originalName,tensor:a[i]});return t}},{key:"stopTraining",get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e}},{key:"optimizer",get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}},{key:"dispose",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"dispose",this).call(this);if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var t=o.memory().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-o.memory().numTensors}return e}},{key:"getLossIdentifiers",value:function(){var e;if("string"===typeof this.loss)e=qn(this.loss);else if(Array.isArray(this.loss)){var t,n=Object(In.a)(this.loss);try{for(n.s();!(t=n.n()).done;){if("string"!==typeof t.value)throw new Error("Serialization of non-string loss is not supported.")}}catch(s){n.e(s)}finally{n.f()}e=this.loss.map((function(e){return qn(e)}))}else{var r=Object.keys(this.loss);e={};for(var a=this.loss,i=0,o=r;i<o.length;i++){var u=o[i];if("string"!==typeof a[u])throw new Error("Serialization of non-string loss is not supported.");e[u]=qn(a[u])}}return e}},{key:"getMetricIdentifiers",value:function(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[qn(Ci(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(e){return qn(Ci(e))}));var e={};for(var t in this.metrics)e[t]=qn(Ci(this.metrics[t]));return e}},{key:"getTrainingConfig",value:function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}},{key:"loadTrainingConfig",value:function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=oi(Li(e.optimizer_config));if("string"===typeof e.loss)t=Xn(e.loss);else if(Array.isArray(e.loss))t=e.loss.map((function(e){return Xn(e)}));else if(null!=e.loss)for(var a in t={},e.loss)t[a]=Xn(e.loss[a]);if(Array.isArray(e.metrics))n=e.metrics.map((function(e){return Xn(e)}));else if(null!=e.metrics)for(var i in n={},e.metrics)n[i]=Xn(e.metrics[i]);this.compile({loss:t,metrics:n,optimizer:r})}},{key:"save",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r,a,i,u,s,c,l,f,d;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=o.io.getSaveHandlers(t)).length){e.next=6;break}throw new zn("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new zn("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new zn("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.next=13,o.io.encodeWeights(this.getNamedWeights(n));case 13:if(a=e.sent,!1,null,i=this.toJSON(null,false),u={modelTopology:i,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat(Wi),convertedBy:null},!(null!=n&&n.includeOptimizer)||null==this.optimizer){e.next=34;break}return u.trainingConfig=this.getTrainingConfig(),c="optimizer",e.t0=o.io,e.next=25,this.optimizer.getWeights();case 25:return e.t1=e.sent,e.t2=c,e.next=29,e.t0.encodeWeights.call(e.t0,e.t1,e.t2);case 29:l=e.sent,f=l.data,d=l.specs,(s=a.specs).push.apply(s,Object(Dn.a)(d)),a.data=o.io.concatenateArrayBuffers([a.data,f]);case 34:return null!=this.userDefinedMetadata&&(!0,Ti(this.userDefinedMetadata,this.name,true),u.userDefinedMetadata=this.userDefinedMetadata),u.weightData=a.data,u.weightSpecs=a.specs,e.abrupt("return",t.save(u));case 38:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUserDefinedMetadata",value:function(e){Ti(e,this.name),this.userDefinedMetadata=e}},{key:"getUserDefinedMetadata",value:function(){return this.userDefinedMetadata}}]),n}($i);Co.className="Model",o.serialization.registerClass(Co);var No=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n)}(Co);function To(){return(To=Object(Ha.a)(qa.a.mark((function e(t,n){var r;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),"string"!==typeof t){e.next=10;break}if(0!==(r=o.io.getLoadHandlers(t,n)).length){e.next=7;break}r.push(o.io.browserHTTPRequest(t,n)),e.next=9;break;case 7:if(!(r.length>1)){e.next=9;break}throw new zn("Found more than one (".concat(r.length,") load handlers for ")+"URL '".concat(t,"'"));case 9:t=r[0];case 10:return e.abrupt("return",Do(t,void 0,n));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e,t,n){return Io.apply(this,arguments)}function Io(){return(Io=Object(Ha.a)(qa.a.mark((function e(t,n,r){var a,i,u,s,c,l,f,d,h;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==r&&(r={}),null!=t.load){e.next=3;break}throw new zn("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");case 3:return e.next=5,t.load();case 5:if(a=e.sent,null!=(i=a.modelTopology).model_config&&(i=i.model_config),u=null==r.strict||r.strict,s=null!=a.weightData&&null!=a.weightSpecs&&u,c=oi(Li(i),n,s),null!=(l=a.trainingConfig)&&c.loadTrainingConfig(l),null!=a.userDefinedMetadata&&c.setUserDefinedMetadata(a.userDefinedMetadata),null==a.weightData){e.next=24;break}if(null!=a.weightSpecs){e.next=17;break}throw new zn("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");case 17:if(f=Mo(a.weightData,a.weightSpecs),d=f.modelWeights,h=f.optimizerWeights,c.loadWeights(d,u),!(null!=c.optimizer&&h.length>0)){e.next=22;break}return e.next=22,c.optimizer.setWeights(h);case 22:Object(o.dispose)(d),Object(o.dispose)(h.map((function(e){return e.tensor})));case 24:return e.abrupt("return",c);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(e,t){var n=o.io.decodeWeights(e,t),r={},a=[];return t.forEach((function(e){"optimizer"===e.group?a.push({name:e.name,tensor:n[e.name]}):r[e.name]=n[e.name]})),{modelWeights:r,optimizerWeights:a}}No.className="Functional",o.serialization.registerClass(No);var Fo=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),e=e||{},(r=t.call(this,{inputs:[],outputs:[]})).trainable=!0,r.built=!1,r.name=null!=e.name?e.name:ja("sequential_"),null!=e.layers){var a,i=Object(In.a)(e.layers);try{for(i.s();!(a=i.n()).done;){var o=a.value;r.add(o)}}catch(u){i.e(u)}finally{i.f()}}return r}return Object(An.a)(n,[{key:"checkShape",value:function(e){if(e.inboundNodes[0].outputTensors[0].shape.some((function(e){return e<0})))throw new zn("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}},{key:"add",value:function(e){var t,r=e instanceof n||e instanceof Co;if(r){if(1!==(t=e).outputs.length)throw new zn("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==t.inputs.length)throw new zn("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new zn("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var a=Wa({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(r)this.outputs=t.outputs,this.inputs=t.inputs;else{if(1!==e.inboundNodes.length)throw new zn("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new zn("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=La(this.outputs[0])}this.inboundNodes=[],new Pa({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Un(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(e){return e.shape})),outputShapes:this.outputs[0].shape})}else{var i=e.apply(this.outputs[0]);if(Array.isArray(i))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[i],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}},{key:"pop",value:function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}},{key:"call",value:function(e,t){return null==this.model&&this.build(),this.model.call(e,t)}},{key:"build",value:function(e){if(Aa(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Co({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}},{key:"countParams",value:function(){return this.built||this.build(),Object(ai.a)(Object(ii.a)(n.prototype),"countParams",this).call(this)}},{key:"summary",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),Object(ai.a)(Object(ii.a)(n.prototype),"summary",this).call(this,e,t,r)}},{key:"setWeights",value:function(e){null==this.model&&this.build(),this.model.setWeights(e)}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new Pn("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}},{key:"evaluateDataset",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new Pn("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.evaluateDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}},{key:"predictOnBatch",value:function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}},{key:"compile",value:function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}},{key:"optimizer",get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e}},{key:"fit",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){var r,a=arguments;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},this.built){e.next=3;break}throw new Pn("The model needs to be compiled before being used.");case 3:return e.abrupt("return",this.model.fit(t,n,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new Pn("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.fitDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t,n){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.trainOnBatch(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stopTraining",get:function(){if(null==this.model)throw new zn("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new zn("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}},{key:"getConfig",value:function(){var e,t=[],n=Object(In.a)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value,a={};a.className=r.getClassName(),a.config=r.getConfig(),t.push(a)}}catch(i){n.e(i)}finally{n.f()}return{name:this.name,layers:t}}}],[{key:"fromConfig",value:function(e,t){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new zn("Legacy serialization format not supported yet.");r=t}else o.util.assert(null!=t.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),r=t.layers,delete t.layers,i=t;var u=new e(i);if(!(u instanceof n))throw new Bn("Sequential.fromConfig called on non-Sequential input: ".concat(u));var s,c=Object(In.a)(r);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=void 0,d=oi(l,f,a);a&&d.setFastWeightInitDuringBuild(!0),u.add(d)}}catch(h){c.e(h)}finally{c.f()}return u}}]),n}(Co);function Ro(e){return new Fo(e)}function Po(e,t){return null==t&&(t={}),function(e,t){return To.apply(this,arguments)}(e,t)}function zo(e){return Wa(e)}Fo.className="Sequential",o.serialization.registerClass(Fo);var Bo=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"getConfig",value:function(){return{}}}]),n}(o.serialization.Serializable),Lo=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return $r(e,t)}}]),n}(Bo);Lo.className="elu",o.serialization.registerClass(Lo);var Uo=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return o.selu(e)}}]),n}(Bo);Uo.className="selu",o.serialization.registerClass(Uo);var Wo=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return o.relu(e)}}]),n}(Bo);Wo.className="relu",o.serialization.registerClass(Wo);var Vo=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return Object(o.tidy)((function(){return o.minimum(6,o.relu(e))}))}}]),n}(Bo);Vo.className="relu6",o.serialization.registerClass(Vo);var Ho=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return e}}]),n}(Bo);Ho.className="linear",o.serialization.registerClass(Ho);var Go=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return o.sigmoid(e)}}]),n}(Bo);Go.className="sigmoid",o.serialization.registerClass(Go);var qo=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return function(e){return Object(o.tidy)((function(){var t=o.add(.5,o.mul(.2,e));return o.clipByValue(t,0,1)}))}(e)}}]),n}(Bo);qo.className="hardSigmoid",o.serialization.registerClass(qo);var Xo=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return o.softplus(e)}}]),n}(Bo);Xo.className="softplus",o.serialization.registerClass(Xo);var Yo=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return function(e){return Object(o.tidy)((function(){return o.div(e,o.add(o.abs(e),1))}))}(e)}}]),n}(Bo);Yo.className="softsign",o.serialization.registerClass(Yo);var Ko=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return o.tanh(e)}}]),n}(Bo);Ko.className="tanh",o.serialization.registerClass(Ko);var $o=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return o.softmax(e,t)}}]),n}(Bo);$o.className="softmax",o.serialization.registerClass($o);var Zo=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return o.logSoftmax(e,t)}}]),n}(Bo);Zo.className="logSoftmax",o.serialization.registerClass(Zo);var Jo=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(o.tidy)((function(){return o.mul(o.sigmoid(o.mul(e,t)),e)}))}}]),n}(Bo);Jo.className="swish",o.serialization.registerClass(Jo);var Qo=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return Object(o.tidy)((function(){return o.mul(e,o.tanh(o.softplus(e)))}))}}]),n}(Bo);function eu(e){return e.getClassName()}function tu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zn(e,o.serialization.SerializationMap.getMap().classNameMap,t,"activation")}function nu(e){if(null==e){var t={className:"linear",config:{}};return tu(t)}if("string"===typeof e){var n={};return n.className=e,n.config={},tu(n)}return e instanceof Bo?e:tu(e)}function ru(e){if(null!=e&&"object"!==typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(e))}Qo.className="mish",o.serialization.registerClass(Qo);var au=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n)}(o.serialization.Serializable),iu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),r=t.call(this),ru(e),r.l1=null==e||null==e.l1?.01:e.l1,r.l2=null==e||null==e.l2?.01:e.l2,r.hasL1=0!==r.l1,r.hasL2=0!==r.l2,r}return Object(An.a)(n,[{key:"apply",value:function(e){var t=this;return Object(o.tidy)((function(){var n=Object(o.zeros)([1]);return t.hasL1&&(n=Object(o.add)(n,Object(o.sum)(o.mul(t.l1,Object(o.abs)(e))))),t.hasL2&&(n=Object(o.add)(n,Object(o.sum)(o.mul(t.l2,Xr(e))))),o.reshape(n,[])}))}},{key:"getConfig",value:function(){return{l1:this.l1,l2:this.l2}}}],[{key:"fromConfig",value:function(e,t){return new e({l1:t.l1,l2:t.l2})}}]),n}(au);iu.className="L1L2",o.serialization.registerClass(iu);var ou={l1l2:"L1L2"};function uu(e){return Kn(e)}function su(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zn(e,o.serialization.SerializationMap.getMap().classNameMap,t,"regularizer")}function cu(e){return null==e?null:"string"===typeof e?su({className:e in ou?ou[e]:e,config:{}}):e instanceof au?e:su(e)}var lu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,null!=e&&(r.maxValue=e.maxValue),r}return Object(An.a)(n,[{key:"call",value:function(e,t){e=Ea(e);var n=Object(o.relu)(e);return null!=this.maxValue&&(n=Object(o.clipByValue)(n,0,this.maxValue)),n}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={maxValue:this.maxValue},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);lu.className="ReLU",o.serialization.registerClass(lu);var fu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=.3,null==e&&(e={}),r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=Ea(e);return Object(o.leakyRelu)(n,this.alpha)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);fu.className="LeakyReLU",o.serialization.registerClass(fu);var du=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),r.supportsMasking=!0,r.alphaInitializer=xa(e.alphaInitializer||r.DEFAULT_ALPHA_INITIALIZER),r.alphaRegularizer=cu(e.alphaRegularizer),r.alphaConstraint=vr(e.alphaConstraint),null==e.sharedAxes)r.sharedAxes=null;else if(Array.isArray(e.sharedAxes))r.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new zn("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes));r.sharedAxes=[e.sharedAxes]}return r}return Object(An.a)(n,[{key:"build",value:function(e){var t=(e=Aa(e)).slice(1);if(null!=this.sharedAxes){var n,r=Object(In.a)(this.sharedAxes);try{for(r.s();!(n=r.n()).done;){t[n.value-1]=1}}catch(o){r.e(o)}finally{r.f()}}this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var a={};if(null!=this.sharedAxes)for(var i=1;i<e.length;++i)a[i]=e[i];this.inputSpec=[new Ma({ndim:e.length,axes:a})],this.built=!0}},{key:"call",value:function(e,t){return e=Ea(e),Object(o.prelu)(e,this.alpha.read())}},{key:"getConfig",value:function(){var e={alphaInitializer:ya(this.alphaInitializer),alphaRegularizer:uu(this.alphaRegularizer),alphaConstraint:hr(this.alphaConstraint),sharedAxes:this.sharedAxes},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);du.className="PReLU",o.serialization.registerClass(du);var hu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==r.DEFAULT_ALPHA)throw new Bn("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");return r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=Ea(e);return Object(o.elu)(n)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);hu.className="ELU",o.serialization.registerClass(hu);var pu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_THETA=1,null==e&&(e={}),r.theta=null==e.theta?r.DEFAULT_THETA:e.theta,r}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=Ea(e);return Object(o.mul)(n,Object(o.cast)(Object(o.greater)(n,this.theta),"float32"))}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={theta:this.theta},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);pu.className="ThresholdedReLU",o.serialization.registerClass(pu);var vu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_AXIS=1,null==e&&(e={}),r.softmax=(new $o).apply,r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=Ea(e);return this.softmax(n,this.axis)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={axis:this.axis},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);vu.className="Softmax",o.serialization.registerClass(vu);var mu=n(15);function gu(e,t,n){if("number"===typeof e)return Un(e,t);if(e.length!==t)throw new zn("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers.")+" Received: ".concat(e.length," elements."));for(var r=0;r<t;++r){var a=e[r];if((i=a)!==parseInt(i.toString(),10))throw new zn("The ".concat(n," argument must be an integer or tuple of ").concat(t)+" integers. Received: ".concat(JSON.stringify(e)," including a")+" non-integer number ".concat(a))}return e;var i}function bu(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(null==e)return e;var i,o=t+(t-1)*(a-1);return i="same"===n?e:e-o+1,Math.floor((i+r-1)/r)}function yu(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+Ir([n-t,0]);else{if("same"!==r)throw new zn("Unsupport padding mode: ".concat(r,"."));e*=t}return e}function xu(e,t){return Object(o.tidy)((function(){return Or(t),"channelsFirst"===t?o.transpose(e,[0,2,3,1]):e}))}function wu(e,t){return Object(o.tidy)((function(){return Or(t),"channelsFirst"===t?o.transpose(e,[0,2,3,4,1]):e}))}function Ou(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return Object(o.tidy)((function(){if(null==i&&(i="channelsLast"),Or(i),3!==e.shape.length)throw new zn("The input of a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new zn("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new zn("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(t.shape.length," instead"));if("channelsFirst"===i&&(e=o.transpose(e,[0,2,1])),"causal"===a)throw new Bn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=o.conv1d(e,t,r,"same"===a?"same":"valid","NWC",u);return null!=n&&(s=Kr(s,n)),s}))}function ku(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return Object(o.tidy)((function(){if(null==i&&(i="channelsLast"),Or(i),3!==e.rank&&4!==e.rank)throw new zn("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new zn("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));var c=xu(e,i);if("causal"===a)throw new Bn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return c=o.fused.conv2d({x:c,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:u,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===i&&(c=o.transpose(c,[0,3,1,2])),c}))}function ju(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0;return Object(o.tidy)((function(){if(null==i&&(i="channelsLast"),Or(i),4!==e.rank&&5!==e.rank)throw new zn("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new zn("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(e.rank,"."));var s=wu(e,i);if("causal"===a)throw new Bn("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=o.conv3d(s,t,r,"same"===a?"same":"valid","NDHWC",u),null!=n&&(s=Kr(s,n)),"channelsFirst"===i&&(s=o.transpose(s,[0,4,1,2,3])),s}))}var _u=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e,r){var a;if(Object(En.a)(this,n),(a=t.call(this,r)).bias=null,a.DEFAULT_KERNEL_INITIALIZER="glorotNormal",a.DEFAULT_BIAS_INITIALIZER="zeros",n.verifyArgs(r),a.rank=e,rr(a.rank,"rank"),1!==a.rank&&2!==a.rank&&3!==a.rank)throw new Bn("Convolution layer for rank other than 1, 2, or 3 (".concat(a.rank,") is ")+"not implemented yet.");if(a.kernelSize=gu(r.kernelSize,e,"kernelSize"),a.strides=gu(null==r.strides?1:r.strides,e,"strides"),a.padding=null==r.padding?"valid":r.padding,kr(a.padding),a.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,Or(a.dataFormat),a.activation=nu(r.activation),a.useBias=null==r.useBias||r.useBias,a.biasInitializer=xa(r.biasInitializer||a.DEFAULT_BIAS_INITIALIZER),a.biasConstraint=vr(r.biasConstraint),a.biasRegularizer=cu(r.biasRegularizer),a.activityRegularizer=cu(r.activityRegularizer),a.dilationRate=gu(null==r.dilationRate?1:r.dilationRate,e,"dilationRate"),1===a.rank&&Array.isArray(a.dilationRate)&&1!==a.dilationRate.length)throw new zn("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(a.dilationRate)));if(2===a.rank){if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate];else if(2!==a.dilationRate.length)throw new zn("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(a.dilationRate)))}else if(3===a.rank)if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate,a.dilationRate];else if(3!==a.dilationRate.length)throw new zn("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(a.dilationRate)));return a}return Object(An.a)(n,[{key:"getConfig",value:function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:eu(this.activation),useBias:this.useBias,biasInitializer:ya(this.biasInitializer),biasRegularizer:uu(this.biasRegularizer),activityRegularizer:uu(this.activityRegularizer),biasConstraint:hr(this.biasConstraint)},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(Wn("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!nr(e.kernelSize,"number",1,3))throw new zn("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(Ba),Su=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e,r){var a;return Object(En.a)(this,n),(a=t.call(this,e,r)).kernel=null,n.verifyArgs(r),a.filters=r.filters,rr(a.filters,"filters"),a.kernelInitializer=xa(r.kernelInitializer||a.DEFAULT_KERNEL_INITIALIZER),a.kernelConstraint=vr(r.kernelConstraint),a.kernelRegularizer=cu(r.kernelRegularizer),a}return Object(An.a)(n,[{key:"build",value:function(e){e=Aa(e);var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new zn("The channel dimension of the input should be defined. "+"Found ".concat(e[t]));var n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:Object(mu.a)({},t,n)}],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var t;e=Ea(e);var r=null==n.bias?null:n.bias.read(),a=ir(n.activation.getClassName());if(null!=a&&2===n.rank)t=ku(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)t=Ou(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=ku(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new Bn("convolutions greater than 3D are not implemented yet.");t=ju(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t}))}},{key:"computeOutputShape",value:function(e){e=Aa(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var a=bu(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(a)}var i=[e[0]];return"channelsLast"===this.dataFormat?(i=i.concat(t)).push(this.filters):(i.push(this.filters),i=i.concat(t)),i}},{key:"getConfig",value:function(){var e={filters:this.filters,kernelInitializer:ya(this.kernelInitializer),kernelRegularizer:uu(this.kernelRegularizer),kernelConstraint:hr(this.kernelConstraint)},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new zn("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}]),n}(_u),Eu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),r=t.call(this,2,e),n.verifyArgs(e),r}return Object(An.a)(n,[{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!nr(e.kernelSize,"number",1,2))throw new zn("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(Su);Eu.className="Conv2D",o.serialization.registerClass(Eu);var Au=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),r=t.call(this,3,e),n.verifyArgs(e),r}return Object(An.a)(n,[{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new zn("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(Su);Au.className="Conv3D",o.serialization.registerClass(Au);var Cu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),(r=t.call(this,e)).inputSpec=[new Ma({ndim:4})],"same"!==r.padding&&"valid"!==r.padding)throw new zn("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(r.padding));return r}return Object(An.a)(n,[{key:"build",value:function(e){if(4!==(e=Aa(e)).length)throw new zn("Input should have rank 4; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new zn("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Ma({ndim:4,axes:Object(mu.a)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return o.tidy((function(){var t=Ea(e);if(4!==t.shape.length)throw new zn("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,a,i=t.shape,u=i[0];"channelsFirst"===n.dataFormat?(r=2,a=3):(r=1,a=2);var s=i[r],c=i[a],l=n.kernelSize[0],f=n.kernelSize[1],d=n.strides[0],h=n.strides[1],p=[u,yu(s,d,l,n.padding),yu(c,h,f,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=o.transpose(t,[0,2,3,1]));var v=o.conv2dTranspose(t,n.kernel.read(),p,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(v=o.transpose(v,[0,3,1,2])),null!=n.bias&&(v=Kr(v,n.bias.read(),n.dataFormat)),null!=n.activation&&(v=n.activation.apply(v)),v}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=(e=Aa(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var i=this.kernelSize[0],o=this.kernelSize[1],u=this.strides[0],s=this.strides[1];return a[t]=this.filters,a[n]=yu(a[n],u,i,this.padding),a[r]=yu(a[r],s,o,this.padding),a}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(Eu);Cu.className="Conv2DTranspose",o.serialization.registerClass(Cu);var Nu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),(r=t.call(this,e)).inputSpec=[new Ma({ndim:5})],"same"!==r.padding&&"valid"!==r.padding)throw new zn("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(r.padding));return r}return Object(An.a)(n,[{key:"build",value:function(e){if(5!==(e=Aa(e)).length)throw new zn("Input should have rank 5; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new zn("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Ma({ndim:5,axes:Object(mu.a)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return o.tidy((function(){var t=Ea(e);if(5!==t.shape.length)throw new zn("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,a,i,u=t.shape,s=u[0];"channelsFirst"===n.dataFormat?(i=2,r=3,a=4):(i=1,r=2,a=3);var c=u[i],l=u[r],f=u[a],d=n.kernelSize[0],h=n.kernelSize[1],p=n.kernelSize[2],v=n.strides[0],m=n.strides[1],g=n.strides[2],b=[s,yu(c,v,d,n.padding),yu(l,m,h,n.padding),yu(f,g,p,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=o.transpose(t,[0,2,3,4,1]));var y=o.conv3dTranspose(t,n.kernel.read(),b,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(y=o.transpose(y,[0,4,1,2,3])),null!==n.bias&&(y=Kr(y,n.bias.read(),n.dataFormat)),null!==n.activation&&(y=n.activation.apply(y)),y}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a,i=(e=Aa(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3,a=4):(t=4,n=1,r=2,a=3);var o=this.kernelSize[0],u=this.kernelSize[1],s=this.kernelSize[2],c=this.strides[0],l=this.strides[1],f=this.strides[2];return i[t]=this.filters,i[n]=yu(i[n],c,o,this.padding),i[r]=yu(i[r],l,u,this.padding),i[a]=yu(i[a],f,s,this.padding),i}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(Au);Nu.className="Conv3DTranspose",o.serialization.registerClass(Nu);var Tu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e,r){var a;if(Object(En.a)(this,n),(a=t.call(this,e,r)).DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",a.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",a.depthwiseKernel=null,a.pointwiseKernel=null,null==r.filters)throw new zn("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=r.kernelInitializer||null!=r.kernelRegularizer||null!=r.kernelConstraint)throw new zn("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=r.padding&&"same"!==r.padding&&"valid"!==r.padding)throw new zn("SeparableConv".concat(a.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(r.padding)));return a.depthMultiplier=null==r.depthMultiplier?1:r.depthMultiplier,a.depthwiseInitializer=xa(r.depthwiseInitializer||a.DEFAULT_DEPTHWISE_INITIALIZER),a.depthwiseRegularizer=cu(r.depthwiseRegularizer),a.depthwiseConstraint=vr(r.depthwiseConstraint),a.pointwiseInitializer=xa(r.depthwiseInitializer||a.DEFAULT_POINTWISE_INITIALIZER),a.pointwiseRegularizer=cu(r.pointwiseRegularizer),a.pointwiseConstraint=vr(r.pointwiseConstraint),a}return Object(An.a)(n,[{key:"build",value:function(e){if((e=Aa(e)).length<this.rank+2)throw new zn("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new zn("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[t])));for(var n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[],i=0;i<this.rank;++i)a.push(1);a.push(n*this.depthMultiplier,this.filters);var o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new Ma({ndim:this.rank+2,axes:Object(mu.a)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var t;if(e=Ea(e),1===n.rank)throw new Bn("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=o.transpose(e,[0,2,3,1])),t=o.separableConv2d(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=Kr(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=o.transpose(t,[0,3,1,2])),t}))}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=ya(this.depthwiseInitializer),e.pointwiseInitializer=ya(this.pointwiseInitializer),e.depthwiseRegularizer=uu(this.depthwiseRegularizer),e.pointwiseRegularizer=uu(this.pointwiseRegularizer),e.depthwiseConstraint=hr(this.depthwiseConstraint),e.pointwiseConstraint=hr(this.pointwiseConstraint),e}}]),n}(Su);Tu.className="SeparableConv";var Du=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,2,e)}return Object(An.a)(n)}(Tu);Du.className="SeparableConv2D",o.serialization.registerClass(Du);var Iu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),r=t.call(this,1,e),n.verifyArgs(e),r.inputSpec=[{ndim:3}],r}return Object(An.a)(n,[{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.dataFormat,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!nr(e.kernelSize,"number",1,1))throw new zn("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(Su);Iu.className="Conv1D",o.serialization.registerClass(Iu);var Mu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),r=t.call(this,e),"number"===typeof e.cropping?r.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?r.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:r.cropping=e.cropping,r.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,r.inputSpec=[{ndim:4}],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(e=Ea(e),"channelsLast"===n.dataFormat){var t=Lr(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2);return Lr(t,n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3)}var r=Lr(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3);return Lr(r,n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))}},{key:"getConfig",value:function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);Mu.className="Cropping2D",o.serialization.registerClass(Mu);var Fu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r,a;return Object(En.a)(this,n),(r=t.call(this,e)).DEFAULT_SIZE=[2,2],r.inputSpec=[{ndim:4}],r.size=null==e.size?r.DEFAULT_SIZE:e.size,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Or(r.dataFormat),r.interpolation=null==e.interpolation?"nearest":e.interpolation,a=r.interpolation,tr(gr,"InterpolationFormat",a),r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}var r=null==e[1]?null:this.size[0]*e[1],a=null==e[2]?null:this.size[1]*e[2];return[e[0],r,a,e[3]]}},{key:"call",value:function(e,t){var n=this;return o.tidy((function(){var t=Ea(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=o.transpose(t,[0,2,3,1]);var a=n.size[0]*r[2],i=n.size[1]*r[3],u="nearest"===n.interpolation?o.image.resizeNearestNeighbor(t,[a,i]):o.image.resizeBilinear(t,[a,i]);return o.transpose(u,[0,3,1,2])}var s=n.size[0]*r[1],c=n.size[1]*r[2];return"nearest"===n.interpolation?o.image.resizeNearestNeighbor(t,[s,c]):o.image.resizeBilinear(t,[s,c])}))}},{key:"getConfig",value:function(){var e={size:this.size,dataFormat:this.dataFormat},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);Fu.className="UpSampling2D",o.serialization.registerClass(Fu);var Ru=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,2,e)).depthwiseKernel=null,r.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,r.depthwiseInitializer=xa(e.depthwiseInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.depthwiseConstraint=vr(e.depthwiseConstraint),r.depthwiseRegularizer=cu(e.depthwiseRegularizer),r}return Object(An.a)(n,[{key:"build",value:function(e){if((e=Aa(e)).length<4)throw new zn("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new zn("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[t],")."));var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return Object(o.tidy)((function(){null==a&&(a="channelsLast"),Or(a);var u=xu(e,a);if(4!==e.rank)throw new zn("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));if(4!==t.rank)throw new zn("depthwiseKernel is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));return u=o.depthwiseConv2d(u,t,n,"same"===r?"same":"valid","NHWC",i),"channelsFirst"===a&&(u=o.transpose(u,[0,3,1,2])),u}))}(e=Ea(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=Kr(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t}))}},{key:"computeOutputShape",value:function(e){e=Aa(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=bu(t,this.kernelSize[0],this.padding,this.strides[0]),i=bu(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,i]:[e[0],a,i,r]}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=ya(this.depthwiseInitializer),e.depthwiseRegularizer=uu(this.depthwiseRegularizer),e.depthwiseConstraint=hr(this.depthwiseRegularizer),e}}]),n}(_u);function Pu(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new zn("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function zu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return o.tidy((function(){var c=t.shape.length;if(c<3)throw new zn("Input should be at least 3D, but is ".concat(c,"D."));var l=[1,0].concat(Mr(2,c));if(t=o.transpose(t,l),null!=i)throw new Bn("The rnn() functoin of the deeplearn.js backend does not support constants yet.");u&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=o.cast(o.cast(a,"bool"),"float32")).rank===c-1&&(a=o.expandDims(a,-1)),a=o.transpose(a,l)),r&&(t=o.reverse(t,0),null!=a&&(a=o.reverse(a,0)));var f,d,h=[],p=n,v=t.shape[0],m=o.unstack(t);null!=a&&(d=o.unstack(a));for(var g,b=function(t){var n=m[t],r=o.tidy((function(){return e(n,p)}));if(null==a)f=r[0],p=r[1];else{var i=o.tidy((function(){var e=d[t],n=o.sub(o.onesLike(e),e);return{output:o.add(o.mul(r[0],e),o.mul(p[0],n)),newStates:p.map((function(t,a){return o.add(o.mul(r[1][a],e),o.mul(t,n))}))}}));f=i.output,p=i.newStates}s&&h.push(f)},y=0;y<v;++y)b(y);if(s){g=o.stack(h,1)}return[f,g,p]}))}Ru.className="DepthwiseConv2D",o.serialization.registerClass(Ru);var Bu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r,a;if(Object(En.a)(this,n),r=t.call(this,e),null==e.cell)throw new zn("cell property is missing for the constructor of RNN.");if(null==(a=Array.isArray(e.cell)?new Xu({cells:e.cell}):e.cell).stateSize)throw new zn("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=a,r.returnSequences=null!=e.returnSequences&&e.returnSequences,r.returnState=null!=e.returnState&&e.returnState,r.goBackwards=null!=e.goBackwards&&e.goBackwards,r._stateful=null!=e.stateful&&e.stateful,r.unroll=null!=e.unroll&&e.unroll,r.supportsMasking=!0,r.inputSpec=[new Ma({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return Object(An.a)(n,[{key:"getStates",value:function(){return null==this.states_?Mr(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(e){return null})):this.states_}},{key:"setStates",value:function(e){this.states_=e}},{key:"computeOutputShape",value:function(e){_a(e)&&(e=e[0]),e=e;var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){var a,i=[],o=Object(In.a)(t);try{for(o.s();!(a=o.n()).done;){var u=a.value;i.push([e[0],u])}}catch(s){o.e(s)}finally{o.f()}return[n].concat(i)}return n}},{key:"computeMask",value:function(e,t){var n=this;return o.tidy((function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map((function(e){return null}));return[e].concat(r)}return e}))}},{key:"states",get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e}},{key:"build",value:function(e){if(null!=this.numConstants)throw new Bn("Constants support is not implemented in RNN yet.");_a(e)&&(e=e[0]),e=e;var t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Ma({shape:[t,null].concat(Object(Dn.a)(n))});var r,a=[e[0]].concat(e.slice(2));if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!o.util.arraysEqual(this.stateSpec.map((function(e){return e.shape[e.shape.length-1]})),r))throw new zn("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=r.map((function(e){return new Ma({shape:[null,e]})}));this.stateful&&this.resetStates()}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(o.tidy)((function(){if(!t.stateful)throw new Rn("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape[0];if(null==r)throw new zn("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.states_)Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return o.zeros([r,e])})):t.states_=[o.zeros([r,t.cell.stateSize])];else if(null==e)o.dispose(t.states_),null!=t.keptStates&&(o.dispose(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return o.zeros([r,e])})):t.states_[0]=o.zeros([r,t.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new zn("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));!0===n?t.keptStates.push(t.states_.slice()):o.dispose(t.states_);for(var a=0;a<t.states_.length;++a){var i=e[a],u=Array.isArray(t.cell.stateSize)?t.cell.stateSize[a]:t.cell.stateSize,s=[r,u];if(!o.util.arraysEqual(i.shape,s))throw new zn("State ".concat(a," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(s,", received shape=").concat(i.shape));t.states_[a]=i}}t.states_=t.states_.map((function(e){return o.keep(e.clone())}))}))}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var i=Pu(e,r,a,this.numConstants);e=i.inputs,r=i.initialState,a=i.constants;var o=[],u=[];if(null!=r){t.initialState=r,o=o.concat(r),this.stateSpec=[];var s,c=Object(In.a)(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;this.stateSpec.push(new Ma({shape:l.shape}))}}catch(v){c.e(v)}finally{c.f()}u=u.concat(this.stateSpec)}if(null!=a&&(t.constants=a,o=o.concat(a),this.numConstants=a.length),o[0]instanceof Fa){var f=[e].concat(o),d=this.inputSpec.concat(u),h=this.inputSpec;this.inputSpec=d;var p=Object(ai.a)(Object(ii.a)(n.prototype),"apply",this).call(this,f,t);return this.inputSpec=h,p}return Object(ai.a)(Object(ii.a)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var r=null==t?null:t.mask,a=null==t?null:t.training,i=null==t?null:t.initialState;e=Ea(e),null==i&&(i=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(i.length!==o)throw new zn("RNN Layer has ".concat(o," state(s) but was passed ")+"".concat(i.length," initial state(s)."));n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var u={training:a},s=zu((function(e,t){var r=n.cell.call([e].concat(t),u);return[r[0],r.slice(1)]}),e,i,n.goBackwards,r,null,n.unroll,n.returnSequences),c=s[0],l=s[1],f=s[2];n.stateful&&n.resetStates(f,a);var d=n.returnSequences?l:c;return n.returnState?[d].concat(f):d}))}},{key:"getInitialState",value:function(e){var t=this;return Object(o.tidy)((function(){var n=o.zeros(e.shape);return n=Rr(n=o.sum(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map((function(e){return e>1?Vr(n,[1,e]):n})):t.cell.stateSize>1?[Vr(n,[1,t.cell.stateSize])]:[n]}))}},{key:"trainableWeights",get:function(){return this.trainable?this.cell.trainableWeights:[]}},{key:"nonTrainableWeights",get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}},{key:"setFastWeightInitDuringBuild",value:function(e){Object(ai.a)(Object(ii.a)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var r=this.cell.getConfig();return this.getClassName()===n.className&&(t.cell={className:this.cell.getClassName(),config:r}),Object.assign({},r,e,t)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.cell,a=oi(r,n);return new e(Object.assign(t,{cell:a}))}}]),n}(Ba);Bu.className="RNN",o.serialization.registerClass(Bu);var Lu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n)}(Ba),Uu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,rr(r.units,"units"),r.activation=nu(null==e.activation?r.DEFAULT_ACTIVATION:e.activation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=xa(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=xa(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=xa(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=cu(e.kernelRegularizer),r.recurrentRegularizer=cu(e.recurrentRegularizer),r.biasRegularizer=cu(e.biasRegularizer),r.kernelConstraint=vr(e.kernelConstraint),r.recurrentConstraint=vr(e.recurrentConstraint),r.biasConstraint=vr(e.biasConstraint),r.dropout=Dr([1,Ir([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Dr([1,Ir([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return Object(An.a)(n,[{key:"build",value:function(e){e=Aa(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(2!==(e=e).length)throw new zn("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));var r=e[1];e=e[0];var a,i=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Yu({ones:function(){return o.onesLike(e)},rate:n.dropout,training:i,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Yu({ones:function(){return o.onesLike(r)},rate:n.recurrentDropout,training:i,dropoutFunc:n.dropoutFunc}));var u=n.dropoutMask,s=n.recurrentDropoutMask;a=Gr(null!=u?o.mul(e,u):e,n.kernel.read()),null!=n.bias&&(a=Kr(a,n.bias.read())),null!=s&&(r=o.mul(r,s));var c=o.add(a,Gr(r,n.recurrentKernel.read()));return null!=n.activation&&(c=n.activation.apply(c)),[c,c]}))}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:eu(this.activation),useBias:this.useBias,kernelInitializer:ya(this.kernelInitializer),recurrentInitializer:ya(this.recurrentInitializer),biasInitializer:ya(this.biasInitializer),kernelRegularizer:uu(this.kernelRegularizer),recurrentRegularizer:uu(this.recurrentRegularizer),biasRegularizer:uu(this.biasRegularizer),activityRegularizer:uu(this.activityRegularizer),kernelConstraint:hr(this.kernelConstraint),recurrentConstraint:hr(this.recurrentConstraint),biasConstraint:hr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,t)}}]),n}(Lu);Uu.className="SimpleRNNCell",o.serialization.registerClass(Uu);var Wu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),e.cell=new Uu(e),t.call(this,e)}return Object(An.a)(n,[{key:"call",value:function(e,t){var r=this;return Object(o.tidy)((function(){null!=r.cell.dropoutMask&&(o.dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(o.dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,u=null==t?null:t.initialState;return Object(ai.a)(Object(ii.a)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:u})}))}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(Bu);Wu.className="SimpleRNN",o.serialization.registerClass(Wu);var Vu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new zn("GRUCell does not support reset_after parameter set to true.");return r.units=e.units,rr(r.units,"units"),r.activation=nu(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=nu(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=xa(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=xa(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=xa(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=cu(e.kernelRegularizer),r.recurrentRegularizer=cu(e.recurrentRegularizer),r.biasRegularizer=cu(e.biasRegularizer),r.kernelConstraint=vr(e.kernelConstraint),r.recurrentConstraint=vr(e.recurrentConstraint),r.biasConstraint=vr(e.biasConstraint),r.dropout=Dr([1,Ir([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Dr([1,Ir([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return Object(An.a)(n,[{key:"build",value:function(e){var t=(e=Aa(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(2!==(e=e).length)throw new zn("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=null!=t.training&&t.training,a=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Yu({ones:function(){return o.onesLike(e)},rate:n.dropout,training:r,count:3,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Yu({ones:function(){return o.onesLike(a)},rate:n.recurrentDropout,training:r,count:3,dropoutFunc:n.dropoutFunc}));var i,s,c,l=n.dropoutMask,f=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=o.mul(e,l[0]));var d=Gr(e,n.kernel.read());n.useBias&&(d=Kr(d,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(a=o.mul(a,f[0]));var h=n.recurrentKernel.read(),p=o.split(h,[2*n.units,n.units],h.rank-1),v=Object(u.a)(p,2),m=v[0],g=v[1],b=Gr(a,m),y=o.split(d,3,d.rank-1),x=Object(u.a)(y,3),w=x[0],O=x[1],k=x[2],j=o.split(b,2,b.rank-1),_=Object(u.a)(j,2),S=_[0],E=_[1];i=n.recurrentActivation.apply(o.add(w,S)),s=n.recurrentActivation.apply(o.add(O,E));var A=Gr(o.mul(s,a),g);c=n.activation.apply(o.add(k,A));var C=o.add(o.mul(i,a),o.mul(o.add(1,o.neg(i)),c));return[C,C]}))}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:eu(this.activation),recurrentActivation:eu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:ya(this.kernelInitializer),recurrentInitializer:ya(this.recurrentInitializer),biasInitializer:ya(this.biasInitializer),kernelRegularizer:uu(this.kernelRegularizer),recurrentRegularizer:uu(this.recurrentRegularizer),biasRegularizer:uu(this.biasRegularizer),activityRegularizer:uu(this.activityRegularizer),kernelConstraint:hr(this.kernelConstraint),recurrentConstraint:hr(this.recurrentConstraint),biasConstraint:hr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,t)}}]),n}(Lu);Vu.className="GRUCell",o.serialization.registerClass(Vu);var Hu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Vu(e),t.call(this,e)}return Object(An.a)(n,[{key:"call",value:function(e,t){var r=this;return Object(o.tidy)((function(){null!=r.cell.dropoutMask&&(o.dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(o.dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,u=null==t?null:t.initialState;return Object(ai.a)(Object(ii.a)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:u})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(Bu);Hu.className="GRU",o.serialization.registerClass(Hu);var Gu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,rr(r.units,"units"),r.activation=nu(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=nu(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=xa(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=xa(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=xa(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.unitForgetBias=e.unitForgetBias,r.kernelRegularizer=cu(e.kernelRegularizer),r.recurrentRegularizer=cu(e.recurrentRegularizer),r.biasRegularizer=cu(e.biasRegularizer),r.kernelConstraint=vr(e.kernelConstraint),r.recurrentConstraint=vr(e.recurrentConstraint),r.biasConstraint=vr(e.biasConstraint),r.dropout=Dr([1,Ir([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Dr([1,Ir([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=[r.units,r.units],r.dropoutMask=null,r.recurrentDropoutMask=null,r}return Object(An.a)(n,[{key:"build",value:function(e){var t,n,r=(e=Aa(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var a=this.biasInitializer,i=this.units;n=new(t=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e,t){var n=a.apply([i]),r=(new ra).apply([i]),o=a.apply([2*i]);return Wr(Wr(n,r),o)}}]),n}(ta),t.className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var r=null!=t.training&&t.training;if(3!==(e=e).length)throw new zn("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var a=e[1],i=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Yu({ones:function(){return o.onesLike(e)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Yu({ones:function(){return o.onesLike(a)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var s,c,l,f,d=n.dropoutMask,h=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=o.mul(e,d[0]));var p=Gr(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(a=o.mul(a,h[0])),p=o.add(p,Gr(a,n.recurrentKernel.read())),n.useBias&&(p=Kr(p,n.bias.read()));var v=o.split(p,4,p.rank-1),m=Object(u.a)(v,4),g=m[0],b=m[1],y=m[2],x=m[3];s=n.recurrentActivation.apply(g),c=n.recurrentActivation.apply(b),l=o.add(o.mul(c,i),o.mul(s,n.activation.apply(y))),f=n.recurrentActivation.apply(x);var w=o.mul(f,n.activation.apply(l));return[w,w,l]}))}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:eu(this.activation),recurrentActivation:eu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:ya(this.kernelInitializer),recurrentInitializer:ya(this.recurrentInitializer),biasInitializer:ya(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:uu(this.kernelRegularizer),recurrentRegularizer:uu(this.recurrentRegularizer),biasRegularizer:uu(this.biasRegularizer),activityRegularizer:uu(this.activityRegularizer),kernelConstraint:hr(this.kernelConstraint),recurrentConstraint:hr(this.recurrentConstraint),biasConstraint:hr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,t)}}]),n}(Lu);Gu.className="LSTMCell",o.serialization.registerClass(Gu);var qu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Gu(e),t.call(this,e)}return Object(An.a)(n,[{key:"call",value:function(e,t){var r=this;return Object(o.tidy)((function(){null!=r.cell.dropoutMask&&(o.dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(o.dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,u=null==t?null:t.initialState;return Object(ai.a)(Object(ii.a)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:u})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(Bu);qu.className="LSTM",o.serialization.registerClass(qu);var Xu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).cells=e.cells,r}return Object(An.a)(n,[{key:"stateSize",get:function(){var e,t=[],n=Object(In.a)(this.cells.slice().reverse());try{for(n.s();!(e=n.n()).done;){var r=e.value;Array.isArray(r.stateSize)?t.push.apply(t,Object(Dn.a)(r.stateSize)):t.push(r.stateSize)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var r,a=(e=e).slice(1),i=[],o=Object(In.a)(n.cells.slice().reverse());try{for(o.s();!(r=o.n()).done;){var u=r.value;Array.isArray(u.stateSize)?i.push(a.splice(0,u.stateSize.length)):i.push(a.splice(0,1))}}catch(m){o.e(m)}finally{o.f()}i.reverse();for(var s,c=[],l=0;l<n.cells.length;++l){var f=n.cells[l];a=i[l],s=0===l?[e[0]].concat(a):[s[0]].concat(a),s=f.call(s,t),c.push(s.slice(1))}a=[];var d,h=Object(In.a)(c.slice().reverse());try{for(h.s();!(d=h.n()).done;){var p,v=d.value;(p=a).push.apply(p,Object(Dn.a)(v))}}catch(m){h.e(m)}finally{h.f()}return[s[0]].concat(a)}))}},{key:"build",value:function(e){var t;_a(e)&&(e=e[0]),e=e,this.cells.forEach((function(n,r){Sr("RNNCell_".concat(r),(function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this),t={cells:this.cells.map((function(e){return{className:e.getClassName(),config:e.getConfig()}}))};return Object.assign({},e,t)}},{key:"trainableWeights",get:function(){if(!this.trainable)return[];var e,t=[],n=Object(In.a)(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,Object(Dn.a)(r.trainableWeights))}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=Object(In.a)(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,Object(Dn.a)(r.nonTrainableWeights))}}catch(s){n.e(s)}finally{n.f()}if(!this.trainable){var a,i=[],o=Object(In.a)(this.cells);try{for(o.s();!(a=o.n()).done;){var u=a.value;i.push.apply(i,Object(Dn.a)(u.trainableWeights))}}catch(s){o.e(s)}finally{o.f()}return i.concat(t)}return t}},{key:"getWeights",value:function(){var e,t=[],n=Object(In.a)(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,Object(Dn.a)(r.weights))}}catch(a){n.e(a)}finally{n.f()}return Da(t)}},{key:"setWeights",value:function(e){var t,n=[],r=Object(In.a)(this.cells);try{for(r.s();!(t=r.n()).done;)for(var a=t.value,i=a.weights.length,o=e.splice(i),u=0;u<a.weights.length;++u)n.push([a.weights[u],o[u]])}catch(s){r.e(s)}finally{r.f()}Ia(n)}}],[{key:"fromConfig",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],i=Object(In.a)(t.cells);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.push(oi(o,r))}}catch(u){i.e(u)}finally{i.f()}return new e({cells:a})}}]),n}(Lu);function Yu(e){var t=e.ones,n=e.rate,r=e.training,a=void 0!==r&&r,i=e.count,u=void 0===i?1:i,s=e.dropoutFunc,c=function(){return null!=s?s(t(),n):Zr(t(),n)},l=function(){return Jr(c,t,a)};return!u||u<=1?o.keep(l().clone()):Array(u).fill(void 0).map(l).map((function(e){return o.keep(e.clone())}))}Xu.className="StackedRNNCells",o.serialization.registerClass(Xu);var Ku=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},$u=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),e.unroll)throw new Bn("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Bn("It is not possible at the moment to stack convolutional cells.");return(r=t.call(this,e)).inputSpec=[new Ma({ndim:5})],r}return Object(An.a)(n,[{key:"call",value:function(e,t){var r=this;return o.tidy((function(){if(null!=r.cell.dropoutMask&&(o.dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(o.dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null),t&&t.constants)throw new zn("ConvRNN2D cell does not support constants");var a=null==t?null:t.mask,i=null==t?null:t.training,u=null==t?null:t.initialState;return Object(ai.a)(Object(ii.a)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:u})}))}},{key:"computeOutputShape",value:function(e){var t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0]].concat(Object(Dn.a)(t.slice(2)))),this.returnState&&(t=[t].concat(Object(Dn.a)(Array(2).fill([e[0]].concat(Object(Dn.a)(t.slice(-3))))))),t}},{key:"getInitialState",value:function(e){var t=this;return o.tidy((function(){var n=t.cell.stateSize,r=e.shape,a=t.computeSingleOutputShape(r),i=[a[0]].concat(Object(Dn.a)(a.slice(2))),u=o.zeros(i);return Array.isArray(n)?Array(n.length).fill(u):[u]}))}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.tidy((function(){if(!t.stateful)throw new Rn("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape,a=t.computeSingleOutputShape(r),i=[a[0]].concat(Object(Dn.a)(a.slice(2)));if(null==r[0])throw new zn("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.getStates())Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return o.zeros(i)})):t.states_=[o.zeros(i)];else if(null==e)o.dispose(t.states_),null!=t.keptStates&&(o.dispose(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return o.zeros(i)})):t.states_[0]=o.zeros(i);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new zn("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n?t.keptStates.push(t.states_.slice()):o.dispose(t.states_);for(var u=0;u<t.states_.length;++u){var s=e[u],c=i;if(!o.util.arraysEqual(s.shape,c))throw new zn("State ".concat(u," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(c,", received shape=").concat(s.shape));t.states_[u]=s}}t.states_=t.states_.map((function(e){return o.keep(e.clone())}))}))}},{key:"computeSingleOutputShape",value:function(e){var t=this.cell,n=t.dataFormat,r=t.filters,a=t.kernelSize,i=t.padding,o=t.strides,u=t.dilationRate,s="channelsFirst"===n,c=e[s?3:2],l=e[s?4:3],f=bu(c,a[0],i,o[0],u[0]),d=bu(l,a[1],i,o[1],u[1]);return[].concat(Object(Dn.a)(e.slice(0,2)),Object(Dn.a)(s?[r,f,d]:[f,d,r]))}}]),n}(Bu);$u.className="ConvRNN2D";var Zu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;Object(En.a)(this,n);var a=e.filters,i=e.kernelSize,o=e.strides,u=e.padding,s=e.dataFormat,c=e.dilationRate;return(r=t.call(this,Object.assign({},e,{units:a}))).filters=a,rr(r.filters,"filters"),r.kernelSize=gu(i,2,"kernelSize"),r.kernelSize.forEach((function(e){return rr(e,"kernelSize")})),r.strides=gu(o||1,2,"strides"),r.strides.forEach((function(e){return rr(e,"strides")})),r.padding=u||"valid",kr(r.padding),r.dataFormat=s||"channelsLast",Or(r.dataFormat),r.dilationRate=gu(c||1,2,"dilationRate"),r.dilationRate.forEach((function(e){return rr(e,"dilationRate")})),r}return Object(An.a)(n,[{key:"build",value:function(e){var t;e=Aa(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new zn("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));var r=e[n],a=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);var i=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){var u;if(this.unitForgetBias){var s=this.biasInitializer,c=this.filters;u=new(t=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e,t){return Ur([s.apply([c]),o.ones([c]),s.apply([2*c])])}}]),n}(ta),t.className="CustomInit",t)}else u=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,u,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}},{key:"call",value:function(e,t){var n=this;return o.tidy((function(){if(3!==e.length)throw new zn("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=t.training||!1,a=e[0],i=e[1],s=e[2];0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Yu({ones:function(){return o.onesLike(a)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var c=n.dropoutMask,l=function(e,t,n){return t&&t[n]?o.mul(t[n],e):e},f=l(a,c,0),d=l(a,c,1),h=l(a,c,2),p=l(a,c,3);0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Yu({ones:function(){return o.onesLike(i)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var v=n.recurrentDropoutMask,m=l(i,v,0),g=l(i,v,1),b=l(i,v,2),y=l(i,v,3),x=o.split(n.kernel.read(),4,3),w=Object(u.a)(x,4),O=w[0],k=w[1],j=w[2],_=w[3],S=n.useBias?o.split(n.bias.read(),4):[null,null,null,null],E=Object(u.a)(S,4),A=E[0],C=E[1],N=E[2],T=E[3];f=n.inputConv(f,O,A,n.padding),d=n.inputConv(d,k,C,n.padding),h=n.inputConv(h,j,N,n.padding),p=n.inputConv(p,_,T,n.padding);var D=o.split(n.recurrentKernel.read(),4,3),I=Object(u.a)(D,4),M=I[0],F=I[1],R=I[2],P=I[3];m=n.recurrentConv(m,M),g=n.recurrentConv(g,F),b=n.recurrentConv(b,R),y=n.recurrentConv(y,P);var z=n.recurrentActivation.apply(o.add(f,m)),B=n.recurrentActivation.apply(o.add(d,g)),L=o.add(o.mul(B,s),o.mul(z,n.activation.apply(o.add(h,b)))),U=o.mul(n.recurrentActivation.apply(o.add(p,y)),n.activation.apply(L));return[U,U,L]}))}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this),t=(e.units,Ku(e,["units"])),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},t,r)}},{key:"inputConv",value:function(e,t,n,r){var a=o.conv2d(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?Kr(a,n,this.dataFormat):a}},{key:"recurrentConv",value:function(e,t){return o.conv2d(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}]),n}(Gu);Zu.className="ConvLSTM2DCell",o.serialization.registerClass(Zu);var Ju=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){Object(En.a)(this,n);var r=new Zu(e);return t.call(this,Object.assign({},e,{cell:r}))}return Object(An.a)(n,null,[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}($u);Ju.className="ConvLSTM2D",o.serialization.registerClass(Ju);var Qu=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).rate=Math.max(Math.min(e.rate,1),0),r.noiseShape=e.noiseShape,r.seed=e.seed,r.supportsMasking=!0,r}return Object(An.a)(n,[{key:"getNoiseShape",value:function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Ea(e);if(0<n.rate&&n.rate<1){var a=null!=t.training&&t.training,i=n.getNoiseShape(r);return Jr((function(){return Zr(r,n.rate,i,n.seed)}),(function(){return r}),a)}return e}))}},{key:"getConfig",value:function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"dispose",value:function(){return Object(ai.a)(Object(ii.a)(n.prototype),"dispose",this).call(this)}}]),n}(Ba);Qu.className="Dropout",o.serialization.registerClass(Qu);var es=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).inputSpec=[{ndim:3}],r}return Object(An.a)(n,[{key:"getNoiseShape",value:function(e){var t=e.shape;return[t[0],1,t[2]]}}]),n}(Qu);es.className="SpatialDropout1D",o.serialization.registerClass(es);var ts=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),(r=t.call(this,e)).activation=null,r.useBias=!0,r.kernel=null,r.bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var a=null;null!=e.batchSize&&(a=e.batchSize),r.batchInputShape=[a,e.inputDim]}return r.units=e.units,rr(r.units,"units"),r.activation=nu(e.activation),null!=e.useBias&&(r.useBias=e.useBias),r.kernelInitializer=xa(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.biasInitializer=xa(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelConstraint=vr(e.kernelConstraint),r.biasConstraint=vr(e.biasConstraint),r.kernelRegularizer=cu(e.kernelRegularizer),r.biasRegularizer=cu(e.biasRegularizer),r.activityRegularizer=cu(e.activityRegularizer),r.supportsMasking=!0,r.inputSpec=[{minNDim:2}],r}return Object(An.a)(n,[{key:"build",value:function(e){var t=(e=Aa(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:Object(mu.a)({},-1,t)}],this.built=!0}},{key:"computeOutputShape",value:function(e){var t=(e=Aa(e)).slice();return t[t.length-1]=this.units,t}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r,a=Ea(e),i=ir(n.activation.getClassName());return null!=i?r=Gr(a,n.kernel.read(),i,n.bias?n.bias.read():null):(r=Gr(a,n.kernel.read()),null!=n.bias&&(r=Kr(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))}},{key:"getConfig",value:function(){var e={units:this.units,activation:eu(this.activation),useBias:this.useBias,kernelInitializer:ya(this.kernelInitializer),biasInitializer:ya(this.biasInitializer),kernelRegularizer:uu(this.kernelRegularizer),biasRegularizer:uu(this.biasRegularizer),activityRegularizer:uu(this.activityRegularizer),kernelConstraint:hr(this.kernelConstraint),biasConstraint:hr(this.biasConstraint)},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);ts.className="Dense",o.serialization.registerClass(ts);var ns=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),e=e||{},(r=t.call(this,e)).inputSpec=[{minNDim:3}],r.dataFormat=e.dataFormat,r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){e=Aa(e);var t,n=Object(In.a)(e.slice(1));try{for(n.s();!(t=n.n()).done;){if(null==t.value)throw new zn('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.')}}catch(r){n.e(r)}finally{n.f()}return[e[0],Tr(e,1)]}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Ea(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var a=[0],i=2;i<r.rank;++i)a.push(i);a.push(1),r=Object(o.transpose)(r,a)}return function(e){if(e.rank<=1)throw new zn("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));var t=[e.shape[0],Tr(e.shape,1)];return o.reshape(e,t)}(r)}))}},{key:"getConfig",value:function(){var e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);var t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);ns.className="Flatten",o.serialization.registerClass(ns);var rs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.activation=nu(e.activation),r}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Ea(e);return n.activation.apply(r)}))}},{key:"getConfig",value:function(){var e={activation:eu(this.activation)},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);rs.className="Activation",o.serialization.registerClass(rs);var as=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).n=e.n,r.inputSpec=[{ndim:2}],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return[e[0],this.n,e[1]]}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){return e=Ea(e),t=e,r=n.n,Object(o.tidy)((function(){if(2!==t.shape.length)throw new zn("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(t.shape.length," tensor."));return Vr(Rr(t,1),[1,r,1])}));var t,r}))}},{key:"getConfig",value:function(){var e={n:this.n},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);as.className="RepeatVector",o.serialization.registerClass(as);var is=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;Object(En.a)(this,n),(r=t.call(this,e)).targetShape=e.targetShape;for(var a=0;a<r.targetShape.length;++a)r.isUnknown(r.targetShape[a])&&(r.targetShape[a]=null);return r}return Object(An.a)(n,[{key:"isUnknown",value:function(e){return e<0||null==e}},{key:"fixUnknownDimension",value:function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),a=1,i=null,o=0;o<r.length;++o){var u=r[o];if(this.isUnknown(u)){if(null!==i)throw new zn("Can only specifiy one unknown dimension.");i=o}else a*=u}var s=Tr(e);if(null!==i){if(0===a||s%a!==0)throw new zn(n);r[i]=s/a}else if(s!==a)throw new zn(n);return r}},{key:"computeOutputShape",value:function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Ea(e),a=r.shape,i=a.slice(0,1).concat(n.fixUnknownDimension(a.slice(1),n.targetShape));return Object(o.reshape)(r,i)}))}},{key:"getConfig",value:function(){var e={targetShape:this.targetShape},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);is.className="Reshape",o.serialization.registerClass(is);var os=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),r=t.call(this,e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));var a=Mr(1,e.dims.length+1);if(!o.util.arraysEqual(e.dims.slice().sort(),a))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return r.dims=e.dims,r.dimsIncludingBatch=[0].concat(r.dims),r.inputSpec=[new Ma({ndim:r.dims.length+1})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){var t=(e=Aa(e)).slice();return this.dims.forEach((function(n,r){t[r+1]=e[n]})),t}},{key:"call",value:function(e,t){return Object(o.transpose)(Ea(e),this.dimsIncludingBatch)}},{key:"getConfig",value:function(){var e={dims:this.dims},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);os.className="Permute",o.serialization.registerClass(os);var us=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,r.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0,r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this),t={maskValue:this.maskValue};return Object.assign(t,e),t}},{key:"computeMask",value:function(e,t){var n=Ea(e);return Object(o.any)(Object(o.notEqual)(n,this.maskValue),-1)}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Ea(e),a=Object(o.any)(Object(o.notEqual)(r,n.maskValue),-1,!0);return Object(o.mul)(r,Object(o.cast)(a,r.dtype))}))}}]),n}(Ba);us.className="Masking",o.serialization.registerClass(us);var ss=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),(r=t.call(this,e)).embeddings=null,r.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var a=null;null!=e.batchSize&&(a=e.batchSize),null==e.inputLength?r.batchInputShape=[a,null]:r.batchInputShape=[a].concat(Gn(e.inputLength))}return r.inputDim=e.inputDim,rr(r.inputDim,"inputDim"),r.outputDim=e.outputDim,rr(r.outputDim,"outputDim"),r.embeddingsInitializer=xa(e.embeddingsInitializer||r.DEFAULT_EMBEDDINGS_INITIALIZER),r.embeddingsRegularizer=cu(e.embeddingsRegularizer),r.activityRegularizer=cu(e.activityRegularizer),r.embeddingsConstraint=vr(e.embeddingsConstraint),r.maskZero=e.maskZero,r.supportsMasking=e.maskZero,r.inputLength=e.inputLength,r}return Object(An.a)(n,[{key:"build",value:function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}},{key:"warnOnIncompatibleInputShape",value:function(e){}},{key:"computeMask",value:function(e,t){var n=this;return Object(o.tidy)((function(){return n.maskZero?(e=Ea(e),Object(o.notEqual)(e,Object(o.zerosLike)(e))):null}))}},{key:"computeOutputShape",value:function(e){if(e=Aa(e),null==this.inputLength)return[].concat(Object(Dn.a)(e),[this.outputDim]);var t=Gn(this.inputLength);if(t.length!==e.length-1)throw new zn('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));for(var n=0,r=0;r<t.length;++r){var a=t[r],i=e[r+1];if(null!=a&&null!=i&&a!==i)throw new zn('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));null==a&&(t[n]=i),n++}return[e[0]].concat(Object(Dn.a)(t),[this.outputDim])}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Ea(e);"int32"!==r.dtype&&(r=Fr(r,"int32"));var a=qr(n.embeddings.read(),Object(o.reshape)(r,[r.size]));return Object(o.reshape)(a,Aa(n.computeOutputShape(r.shape)))}))}},{key:"getConfig",value:function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:ya(this.embeddingsInitializer),embeddingsRegularizer:uu(this.embeddingsRegularizer),activityRegularizer:uu(this.activityRegularizer),embeddingsConstraint:hr(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);ss.className="Embedding",o.serialization.registerClass(ss);var cs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e||{})).supportsMasking=!0,r}return Object(An.a)(n,[{key:"mergeFunction",value:function(e){throw new Bn}},{key:"computeElementwiseOpOutputShape",value:function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var a=e[e.length-t.length+r],i=t[r];if(null==a||null==i||a<0||i<0)n.push(null);else if(1===a)n.push(i);else if(1===i)n.push(a);else{if(a!==i)throw new zn("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}},{key:"build",value:function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Aa(e)]),(e=e).length<2)throw new zn("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));var t,n=[],r=Object(In.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;null!=a&&null!==a[0]&&n.push(a[0])}}catch(c){r.e(c)}finally{r.f()}if((n=Qn(n)).length>1)throw new zn("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));for(var i=null==e[0]?null:e[0].slice(1),o=1;o<e.length;++o){var u=null==e[o]?null:e[o].slice(1);i=this.computeElementwiseOpOutputShape(i,u)}var s=e.map((function(e){return e.length}));-1===e.indexOf(null)&&1===Qn(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(e=e,n.reshapeRequired){var t=[],r=e.map((function(e){return e.rank}));if(-1===r.indexOf(null)){var a,i=Ir(r),u=Object(In.a)(e);try{for(u.s();!(a=u.n()).done;){for(var s=a.value,c=s.rank,l=0;l<i-c;++l)s=Rr(s,1);t.push(s)}}catch(E){u.e(E)}finally{u.f()}return n.mergeFunction(t)}var f,d=!1,h=Object(In.a)(e);try{for(h.s();!(f=h.n()).done;){var p=f.value,v=p.rank;if(null==v){var m=p.shape,g=m[0],b=m.slice(1).concat([g]),y=o.reshape(p,[g].concat(Tr(m.slice(1))));y=o.transpose(y,[1,0]),y=o.reshape(y,b),t.push(y),d=!0}else if(v>1){var x=Mr(1,v).concat([0]);t.push(o.transpose(p,x)),d=!0}else t.push(p)}}catch(E){h.e(E)}finally{h.f()}var w=n.mergeFunction(t),O=w.rank;if(d)if(null==O){var k=w.shape,j=k[k.length-1],_=[j].concat(k.slice(0,k.length-1));w=o.reshape(o.transpose(o.reshape(w,[-1,j]),[1,0]),_)}else if(O>1){var S=[O-1].concat(Mr(0,O-1));w=o.transpose(w,S)}return w}return n.mergeFunction(e)}))}},{key:"computeOutputShape",value:function(e){var t;t=null==(e=e)[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}var a,i=[],o=Object(In.a)(e);try{for(o.s();!(a=o.n()).done;){var u=a.value;null!=u&&null!==u[0]&&i.push(u[0])}}catch(s){o.e(s)}finally{o.f()}return t=1===(i=Qn(i)).length?i.concat(t):[null].concat(t)}},{key:"computeMask",value:function(e,t){return o.tidy((function(){if(null==t)return null;if(!Array.isArray(t))throw new zn("`mask` should be an Array");if(!Array.isArray(e))throw new zn("`inputs` should be an Array");if(t.length!==e.length)throw new zn("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(t.length,")"));if(t.every((function(e){return null==e})))return null;for(var n=(t=t.map((function(e){return null==e?e:o.expandDims(e,0)})))[0],r=1;r<t.length-1;++r)n=o.logicalAnd(n,t[r]);return n}))}}]),n}(Ba),ls=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"mergeFunction",value:function(e){return Object(o.tidy)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=o.add(t,e[n]);return t}))}}]),n}(cs);ls.className="Add",o.serialization.registerClass(ls);var fs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"mergeFunction",value:function(e){return Object(o.tidy)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=o.mul(t,e[n]);return t}))}}]),n}(cs);fs.className="Multiply",o.serialization.registerClass(fs);var ds=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"mergeFunction",value:function(e){return Object(o.tidy)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=o.add(t,e[n]);return o.mul(1/e.length,t)}))}}]),n}(cs);ds.className="Average",o.serialization.registerClass(ds);var hs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"mergeFunction",value:function(e){return Object(o.tidy)((function(){for(var t=e[0],n=1;n<e.length;++n)t=o.maximum(t,e[n]);return t}))}}]),n}(cs);hs.className="Maximum",o.serialization.registerClass(hs);var ps=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"mergeFunction",value:function(e){return Object(o.tidy)((function(){for(var t=e[0],n=1;n<e.length;++n)t=o.minimum(t,e[n]);return t}))}}]),n}(cs);ps.className="Minimum",o.serialization.registerClass(ps);var vs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).DEFAULT_AXIS=-1,null==e&&(e={}),r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r.supportsMasking=!0,r.reshapeRequired=!1,r}return Object(An.a)(n,[{key:"build",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new zn("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;var t,n=!0,r=Object(In.a)(e);try{for(r.s();!(t=r.n()).done;){if(null!=t.value){n=!1;break}}}catch(d){r.e(d)}finally{r.f()}if(!n){for(var a=[],i=0;i<e.length;++i){var u=e[i].slice();u.splice(this.axis,1);var s,c=!1,l=Object(In.a)(a);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(o.util.arraysEqual(f,u)){c=!0;break}}}catch(d){l.e(d)}finally{l.f()}c||a.push(u)}if(a.length>1)throw new zn("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}}},{key:"mergeFunction",value:function(e){var t=this;return Object(o.tidy)((function(){return Ur(e,t.axis)}))}},{key:"computeOutputShape",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new zn("A `Concatenate` layer should be called on a list of inputs.");var t,n=e,r=n[0].slice(),a=this.axis<0?r.length+this.axis:this.axis,i=Object(In.a)(n.slice(1));try{for(i.s();!(t=i.n()).done;){var o=t.value;if(null==r[a]||null==o[a]){r[a]=null;break}r[a]+=o[a]}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"computeMask",value:function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new zn("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new zn("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new zn("Mismatch in the length of mask (".concat(t.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return o.tidy((function(){var r=!0;if(t.forEach((function(e){null==e||(r=!1)})),r)return null;for(var a=[],i=0;i<e.length;++i)null==t[i]?a.push(o.cast(o.onesLike(e[i]),"bool")):t[i].rank<e[i].rank?a.push(o.expandDims(t[i],-1)):a.push(t[i]);var u=o.concat(a,n.axis);return o.all(u,-1,!1)}))}},{key:"getConfig",value:function(){var e={axis:this.axis},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(cs);function ms(e,t){for(;e<0;)e+=t;return e}vs.className="Concatenate",o.serialization.registerClass(vs);var gs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).axes=e.axes,r.normalize=null!=e.normalize&&e.normalize,r.supportsMasking=!0,r.reshapeRequired=!1,r}return Object(An.a)(n,[{key:"build",value:function(e){o.util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new Bn("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new zn("Dimension incompatibility: "+"".concat(t[r[0]]," !== ").concat(n[r[1]]))}},{key:"mergeFunction",value:function(e){if(2!==e.length)throw new zn("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map((function(t,n){return ms(t,e[n].shape.length)})):[ms(this.axes,n.shape.length),ms(this.axes,r.shape.length)],this.normalize&&(n=ui(n,t[0]),r=ui(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Bn("batchDot is not implemented for tensors of 4D or higher rank yet");if(o.util.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of x to be >= 2, "+"but got ".concat(e.shape.length)})),o.util.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of y to be >= 2, "+"but got ".concat(t.shape.length)})),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new Bn("batchDot is not implemented for complex64-type Tensors yet.");var r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);var i=n;return o.tidy((function(){var n,u;if(r>a){n=r-a;for(var s=[],c=0;c<n;++c)s.push(1);t=o.reshape(t,t.shape.concat(s))}else if(a>r){n=a-r;for(var l=[],f=0;f<n;++f)l.push(1);e=o.reshape(e,e.shape.concat(l))}else n=0;if(2===e.shape.length&&2===t.shape.length)u=i[0]===i[1]?o.sum(o.mul(e,t),i[0]):o.sum(o.mul(o.transpose(e,[1,0]),t),i[1]);else{var d=i[0]!==e.shape.length-1,h=i[1]===t.shape.length-1;u=o.matMul(e,t,d,h)}if(n>0){for(var p,v=[],m=p=r>a?r+a-3:r-1;m<p+n;++m)v.push(m);u=o.squeeze(u,v)}return 1===u.shape.length&&(u=o.expandDims(u,1)),u}))}(n,r,t)}},{key:"interpretAxes",value:function(e,t){return Array.isArray(this.axes)?this.axes:[ms(this.axes,e.length),ms(this.axes,t.length)]}},{key:"computeOutputShape",value:function(e){o.util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new Bn("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var a=t.concat(n);return 1===a.length&&a.push(1),a}},{key:"computeMask",value:function(e,t){return null}},{key:"getConfig",value:function(){var e={axes:this.axes,normalize:this.normalize},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(cs);gs.className="Dot",o.serialization.registerClass(gs);var bs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.stddev=e.stddev,r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this),t={stddev:this.stddev};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Ea(e);return Jr((function(){return Object(o.add)(Hr(r.shape,0,n.stddev),r)}),(function(){return r}),t.training||!1)}))}}]),n}(Ba);bs.className="GaussianNoise",o.serialization.registerClass(bs);var ys=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Ea(e);if(n.rate>0&&n.rate<1){return Jr((function(){var e=Math.sqrt(n.rate/(1-n.rate));return Object(o.mul)(r,Hr(r.shape,1,e))}),(function(){return r}),t.training||!1)}return r}))}}]),n}(Ba);ys.className="GaussianDropout",o.serialization.registerClass(ys);var xs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r.noiseShape=e.noiseShape,r}return Object(An.a)(n,[{key:"_getNoiseShape",value:function(e){return this.noiseShape||Ea(e).shape}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return Jr((function(){var t=Ea(e),a=-1.7580993408473766,i=Object(o.greaterEqual)(Object(o.randomUniform)(r),n.rate);i=Fr(i,"float32");var u=Math.pow((1-n.rate)*(1+n.rate*Math.pow(a,2)),-.5),s=-u*a*n.rate,c=Object(o.add)(Object(o.mul)(t,i),Object(o.mul)(Object(o.add)(i,-1),a));return Object(o.add)(Object(o.mul)(c,u),s)}),(function(){return Ea(e)}),t.training||!1)}return e}))}}]),n}(Ba);function ws(e,t,n,r,a){var i,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)i=o.batchNorm2d(e,t,n,r,a,u);else if(3===e.rank)i=o.batchNorm3d(e,t,n,r,a,u);else{if(4!==e.rank)throw new Bn("batchNormalization is not implemented for array of rank ".concat(e.rank," ")+"yet");i=o.batchNorm4d(e,t,n,r,a,u)}return i}function Os(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Object(o.tidy)((function(){var i=o.moments(e,r),u=i.mean,s=i.variance;return[ws(e,u,s,n,t,a),u,s]}))}function ks(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Object(o.tidy)((function(){var i,u=o.moments(e,r),s=u.mean,c=u.variance,l=[],f=Object(In.a)(Mr(0,e.rank));try{for(f.s();!(i=f.n()).done;){var d=i.value;-1!==r.indexOf(d)?l.push(1):l.push(e.shape[d])}}catch(g){f.e(g)}finally{f.f()}var h=Object(o.reshape)(s,l),p=Object(o.reshape)(c,l),v=null==t?null:Object(o.reshape)(t,l),m=null==n?null:Object(o.reshape)(n,l);return[ws(e,h,p,m,v,a),s,c]}))}xs.className="AlphaDropout",o.serialization.registerClass(xs);var js=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),null==e&&(e={}),(r=t.call(this,e)).supportsMasking=!0,r.axis=null==e.axis?-1:e.axis,r.momentum=null==e.momentum?.99:e.momentum,r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=xa(e.betaInitializer||"zeros"),r.gammaInitializer=xa(e.gammaInitializer||"ones"),r.movingMeanInitializer=xa(e.movingMeanInitializer||"zeros"),r.movingVarianceInitializer=xa(e.movingVarianceInitializer||"ones"),r.betaConstraint=vr(e.betaConstraint),r.gammaConstraint=vr(e.gammaConstraint),r.betaRegularizer=cu(e.betaRegularizer),r.gammaRegularizer=cu(e.gammaRegularizer),r}return Object(An.a)(n,[{key:"build",value:function(e){e=Aa(e);var t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new zn("Axis ".concat(t," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new Ma({ndim:e.length,axes:Object(mu.a)({},t,n)})];var r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var r=null!=t.training&&t.training,a=Ea(e),i=a.shape,s=i.length,c=Mr(0,s),l=n.axis>=0?n.axis:n.axis+s;c.splice(l,1);var f=Un(1,s);f[l]=i[l];var d=c.slice();d.sort();var h=!o.util.arraysEqual(d,Mr(0,s).slice(0,s-1));if(!r)return function(){if(h){var e=Object(o.reshape)(n.movingMean.read(),f),t=Object(o.reshape)(n.movingVariance.read(),f),r=n.center?Object(o.reshape)(n.beta.read(),f):null,i=n.scale?Object(o.reshape)(n.gamma.read(),f):null;return ws(a,e,t,r,i,n.epsilon)}return ws(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var p=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return o.util.arraysEqual(r.slice().sort(),Mr(0,e.rank-1))?Os(e,t,n,r,a):ks(e,t,n,r,a)}(a,n.gamma.read(),n.beta.read(),c,n.epsilon),v=Object(u.a)(p,3),m=v[0],g=v[1],b=v[2],y=function(e,t,n){o.tidy((function(){var r=1-n,a=e.read(),i=o.mul(o.sub(a,t),r);e.write(o.sub(a,i))}))};return y(n.movingMean,g,n.momentum),y(n.movingVariance,b,n.momentum),m}))}},{key:"getConfig",value:function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:ya(this.betaInitializer),gammaInitializer:ya(this.gammaInitializer),movingMeanInitializer:ya(this.movingMeanInitializer),movingVarianceInitializer:ya(this.movingVarianceInitializer),betaRegularizer:uu(this.betaRegularizer),gammaRegularizer:uu(this.gammaRegularizer),betaConstraint:hr(this.betaConstraint),gammaConstraint:hr(this.gammaConstraint)},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);js.className="BatchNormalization",o.serialization.registerClass(js);var _s=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),null==e&&(e={}),(r=t.call(this,e)).axis=null==e.axis?-1:e.axis,"number"===typeof r.axis){if(!Number.isInteger(r.axis))throw new Error("Expected axis to be an integer, but received ".concat(r.axis))}else{if(!Array.isArray(r.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(r.axis)));var a,i=Object(In.a)(r.axis);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!Number.isInteger(o))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(r.axis)))}}catch(u){i.e(u)}finally{i.f()}}return r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=xa(e.betaInitializer||"zeros"),r.gammaInitializer=xa(e.gammaInitializer||"ones"),r.betaRegularizer=cu(e.betaRegularizer),r.gammaRegularizer=cu(e.gammaRegularizer),r.supportsMasking=!0,r}return Object(An.a)(n,[{key:"build",value:function(e){var t=(e=Aa(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);var r,a=Object(In.a)(this.axis);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i<0||i>=t)throw new Error("Invalid axis: ".concat(i))}}catch(u){a.e(u)}finally{a.f()}if(this.axis.length!==Qn(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));var o=this.axis.map((function(t){return e[t]}));this.scale?this.gamma=this.addWeight("gamma",o,"float32",this.gammaInitializer,this.gammaRegularizer,true):this.gamma=null,this.center?this.beta=this.addWeight("beta",o,"float32",this.betaInitializer,this.betaRegularizer,true):this.beta=null,this.built=!0}},{key:"call",value:function(e,t){var n=this,r=Ea(e),a=r.shape,i=a.length;return Object(o.tidy)((function(){var e,t=Object(o.moments)(r,n.axis,!0),u=t.mean,s=t.variance,c=Un(1,i),l=Object(In.a)(n.axis);try{for(l.s();!(e=l.n()).done;){var f=e.value;c[f]=a[f]}}catch(b){l.e(b)}finally{l.f()}for(var d=function(e){return null!=e&&e.shape.length!==i?o.reshape(e,c):e},h=d(n.gamma.read()),p=d(n.beta.read()),v=[],m=[],g=0;g<i;++g)-1!==n.axis.indexOf(g)?(v.push(a[g]),m.push(1)):(v.push(1),m.push(a[g]));return u=o.tile(u,v),s=o.tile(s,v),h=o.tile(h,m),p=o.tile(p,m),ws(r,u,s,p,h,n.epsilon)}))}},{key:"getConfig",value:function(){var e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:ya(this.betaInitializer),gammaInitializer:ya(this.gammaInitializer),betaRegularizer:uu(this.betaRegularizer),gammaRegularizer:uu(this.gammaRegularizer)},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);_s.className="LayerNormalization",o.serialization.registerClass(_s);var Ss=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),null==e&&(e={}),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)r.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)r.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new zn("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));var a,i;if("number"===typeof e.padding[0])a=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new zn("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(a=e.padding[0],2!==e.padding[1].length)throw new zn("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));i=e.padding[1]}r.padding=[a,i]}return r.inputSpec=[new Ma({ndim:4})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){var t,n;return e=Aa(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){return t=Ea(e),r=n.padding,a=n.dataFormat,Object(o.tidy)((function(){if(4!==t.rank)throw new zn("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(t.rank,"-D tensor."));if(null==r&&(r=[[1,1],[1,1]]),2!==r.length||2!==r[0].length||2!==r[1].length)throw new zn("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==a&&(a="channelsLast"),"channelsLast"!==a&&"channelsFirst"!==a)throw new zn("Unknown data format: ".concat(a,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");var e;return e="channelsFirst"===a?[[0,0],[0,0],r[0],r[1]]:[[0,0],r[0],r[1],[0,0]],o.pad(t,e)}));var t,r,a}))}},{key:"getConfig",value:function(){var e={padding:this.padding,dataFormat:this.dataFormat},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba);function Es(e,t,n,r,a,i){return Object(o.tidy)((function(){var u;Or(a),jr(i),kr(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=xu(e,a);var s="same"===r?"same":"valid";return u="max"===i?o.maxPool(e,t,n,s):o.avgPool(e,t,n,s),"channelsFirst"===a&&(u=o.transpose(u,[0,3,1,2])),u}))}function As(e,t,n,r,a,i){return Object(o.tidy)((function(){var u;Or(a),jr(i),kr(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=wu(e,a);var s="same"===r?"same":"valid";return u="max"===i?o.maxPool3d(e,t,n,s):o.avgPool3d(e,t,n,s),"channelsFirst"===a&&(u=o.transpose(u,[0,4,1,2,3])),u}))}Ss.className="ZeroPadding2D",o.serialization.registerClass(Ss);var Cs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),null==e.poolSize&&(e.poolSize=2),r=t.call(this,e),"number"===typeof e.poolSize)r.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new zn("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));r.poolSize=e.poolSize}if(rr(r.poolSize,"poolSize"),null==e.strides)r.strides=r.poolSize;else if("number"===typeof e.strides)r.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new zn("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));r.strides=e.strides}return rr(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,kr(r.padding),r.inputSpec=[new Ma({ndim:3})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){var t=bu((e=Aa(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t),e=Rr(Ea(e),2);var r=n.poolingFunction(Ea(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return o.squeeze(r,[2])}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba),Ns=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return Or(a),kr(r),Es(e,t,n,r,a,"max")}}]),n}(Cs);Ns.className="MaxPooling1D",o.serialization.registerClass(Ns);var Ts=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return Or(a),kr(r),Es(e,t,n,r,a,"avg")}}]),n}(Cs);Ts.className="AveragePooling1D",o.serialization.registerClass(Ts);var Ds=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),null==e.poolSize&&(e.poolSize=[2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new zn("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides];return rr(r.poolSize,"poolSize"),rr(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Or(r.dataFormat),kr(r.padding),r.inputSpec=[new Ma({ndim:4})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){e=Aa(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=bu(t,this.poolSize[0],this.padding,this.strides[0]),n=bu(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){return n.invokeCallHook(e,t),n.poolingFunction(Ea(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba),Is=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return Or(a),kr(r),Es(e,t,n,r,a,"max")}}]),n}(Ds);Is.className="MaxPooling2D",o.serialization.registerClass(Is);var Ms=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return Or(a),kr(r),Es(e,t,n,r,a,"avg")}}]),n}(Ds);Ms.className="AveragePooling2D",o.serialization.registerClass(Ms);var Fs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;if(Object(En.a)(this,n),null==e.poolSize&&(e.poolSize=[2,2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new zn("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides,e.strides];return rr(r.poolSize,"poolSize"),rr(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Or(r.dataFormat),kr(r.padding),r.inputSpec=[new Ma({ndim:5})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){e=Aa(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=bu(t,this.poolSize[0],this.padding,this.strides[0]),n=bu(n,this.poolSize[1],this.padding,this.strides[1]),r=bu(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){return n.invokeCallHook(e,t),n.poolingFunction(Ea(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba),Rs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return Or(a),kr(r),As(e,t,n,r,a,"max")}}]),n}(Fs);Rs.className="MaxPooling3D",o.serialization.registerClass(Rs);var Ps=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return Or(a),kr(r),As(e,t,n,r,a,"avg")}}]),n}(Fs);Ps.className="AveragePooling3D",o.serialization.registerClass(Ps);var zs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).inputSpec=[new Ma({ndim:3})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return[e[0],e[2]]}},{key:"call",value:function(e,t){throw new Bn}}]),n}(Ba),Bs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e||{})}return Object(An.a)(n,[{key:"call",value:function(e,t){return Object(o.tidy)((function(){var t=Ea(e);return o.mean(t,1)}))}}]),n}(zs);Bs.className="GlobalAveragePooling1D",o.serialization.registerClass(Bs);var Ls=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){return Object(En.a)(this,n),t.call(this,e||{})}return Object(An.a)(n,[{key:"call",value:function(e,t){return Object(o.tidy)((function(){var t=Ea(e);return o.max(t,1)}))}}]),n}(zs);Ls.className="GlobalMaxPooling1D",o.serialization.registerClass(Ls);var Us=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Or(r.dataFormat),r.inputSpec=[new Ma({ndim:4})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return e=e,"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}},{key:"call",value:function(e,t){throw new Bn}},{key:"getConfig",value:function(){var e={dataFormat:this.dataFormat},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ba),Ws=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var t=Ea(e);return"channelsLast"===n.dataFormat?o.mean(t,[1,2]):o.mean(t,[2,3])}))}}]),n}(Us);Ws.className="GlobalAveragePooling2D",o.serialization.registerClass(Ws);var Vs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){return Object(En.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var t=Ea(e);return"channelsLast"===n.dataFormat?o.max(t,[1,2]):o.max(t,[2,3])}))}}]),n}(Us);Vs.className="GlobalMaxPooling2D",o.serialization.registerClass(Vs);var Hs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).layer=e.layer,r}return Object(An.a)(n,[{key:"build",value:function(e){this.built=!0}},{key:"trainable",get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)}},{key:"trainableWeights",get:function(){return this.layer.trainableWeights}},{key:"nonTrainableWeights",get:function(){return this.layer.nonTrainableWeights}},{key:"updates",get:function(){return this.layer._updates}},{key:"losses",get:function(){return this.layer.losses}},{key:"getWeights",value:function(){return this.layer.getWeights()}},{key:"setWeights",value:function(e){this.layer.setWeights(e)}},{key:"getConfig",value:function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"setFastWeightInitDuringBuild",value:function(e){Object(ai.a)(Object(ii.a)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.layer,a=oi(r,n);delete t.layer;var i={layer:a};return Object.assign(i,t),new e(i)}}]),n}(Ba),Gs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this,e)).supportsMasking=!0,r}return Object(An.a)(n,[{key:"build",value:function(e){if((e=Aa(e)).length<3)throw new zn("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];var t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),Object(ai.a)(Object(ii.a)(n.prototype),"build",this).call(this,e)}},{key:"computeOutputShape",value:function(e){var t=[(e=Aa(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){return zu((function(e,r){return[Ea(n.layer.call(e,t)),[]]}),e=Ea(e),[],!1,null,null,!1,!0)[1]}))}}]),n}(Hs);Gs.className="TimeDistributed",o.serialization.registerClass(Gs);var qs=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;Object(En.a)(this,n),r=t.call(this,e);var a=e.layer.getConfig(),i={};i.className=e.layer.getClassName(),i.config=a,r.forwardLayer=oi(i),a.goBackwards=!0!==a.goBackwards;var o,u={};if(u.className=e.layer.getClassName(),u.config=a,r.backwardLayer=oi(u),r.forwardLayer.name="forward_"+r.forwardLayer.name,r.backwardLayer.name="backward_"+r.backwardLayer.name,r.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,o=r.mergeMode,tr(xr,"BidirectionalMergeMode",o),e.weights)throw new Bn("weights support is not implemented for Bidirectional layer yet.");return r._stateful=e.layer.stateful,r.returnSequences=e.layer.returnSequences,r.returnState=e.layer.returnState,r.supportsMasking=!0,r._trainable=!0,r.inputSpec=e.layer.inputSpec,r.numConstants=null,r}return Object(An.a)(n,[{key:"trainable",get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}},{key:"getWeights",value:function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}},{key:"setWeights",value:function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),a=a,this.returnState?(r=a.slice(1),t=a[0]):t=a[0],t=t,"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):Hn(n)}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var i=Pu(e,r,a,this.numConstants);if(e=i.inputs,r=i.initialState,a=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return Object(ai.a)(Object(ii.a)(n.prototype),"apply",this).call(this,e,t);var o=[],u=[];if(null!=r){var s=r.length;if(s%2>0)throw new zn("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=r,o.push.apply(o,Object(Dn.a)(r));var c=r.map((function(e){return new Ma({shape:e.shape})}));this.forwardLayer.stateSpec=c.slice(0,s/2),this.backwardLayer.stateSpec=c.slice(s/2),u.push.apply(u,Object(Dn.a)(c))}if(null!=a)throw new Bn("Support for constants in Bidirectional layers is not implemented yet.");for(var l=o[0]instanceof Fa,f=0,d=o;f<d.length;f++){if(d[f]instanceof Fa!==l)throw new zn("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors")}if(l){var h=[e].concat(o),p=this.inputSpec.concat(u),v=this.inputSpec;this.inputSpec=p;var m=Object(ai.a)(Object(ii.a)(n.prototype),"apply",this).call(this,h,t);return this.inputSpec=v,m}return Object(ai.a)(Object(ii.a)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var r,a,i,u,s=t.initialState;if(null==s)r=n.forwardLayer.call(e,t),a=n.backwardLayer.call(e,t);else{var c=s.slice(0,s.length/2),l=s.slice(s.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:c})),a=n.backwardLayer.call(e,Object.assign(t,{initialState:l}))}return n.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),n.returnSequences&&(a=o.reverse(a,1)),"concat"===n.mergeMode?u=Ur([r,a]):"sum"===n.mergeMode?u=o.add(r,a):"ave"===n.mergeMode?u=o.mul(.5,o.add(r,a)):"mul"===n.mergeMode?u=o.mul(r,a):null==n.mergeMode&&(u=[r,a]),n.returnState?null==n.mergeMode?u.concat(i):[u].concat(i):u}))}},{key:"resetStates",value:function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}},{key:"build",value:function(e){var t=this;Sr(this.forwardLayer.name,(function(){t.forwardLayer.build(e)})),Sr(this.backwardLayer.name,(function(){t.backwardLayer.build(e)})),this.built=!0}},{key:"computeMask",value:function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map((function(e){return null}));return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n}},{key:"trainableWeights",get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}},{key:"nonTrainableWeights",get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}},{key:"setFastWeightInitDuringBuild",value:function(e){Object(ai.a)(Object(ii.a)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e={mergeMode:this.mergeMode},t=Object(ai.a)(Object(ii.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"fromConfig",value:function(e,t){var n=oi(t.layer);if(delete t.layer,null!=t.numConstants)throw new Bn("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)}}]),n}(Hs);function Xs(e){return new Ua(e)}function Ys(e){return new hu(e)}function Ks(e){return new lu(e)}function $s(e){return new fu(e)}function Zs(e){return new du(e)}function Js(e){return new vu(e)}function Qs(e){return new pu(e)}function ec(e){return new Iu(e)}function tc(e){return new Eu(e)}function nc(e){return new Cu(e)}function rc(e){return new Au(e)}function ac(e){return new Nu(e)}function ic(e){return new Du(e)}function oc(e){return new Mu(e)}function uc(e){return new Fu(e)}function sc(e){return new Ru(e)}function cc(e){return new rs(e)}function lc(e){return new ts(e)}function fc(e){return new Qu(e)}function dc(e){return new es(e)}function hc(e){return new ns(e)}function pc(e){return new as(e)}function vc(e){return new is(e)}function mc(e){return new os(e)}function gc(e){return new ss(e)}function bc(e){return new ls(e)}function yc(e){return new ds(e)}function xc(e){return new vs(e)}function wc(e){return new hs(e)}function Oc(e){return new ps(e)}function kc(e){return new fs(e)}function jc(e){return new gs(e)}function _c(e){return new js(e)}function Sc(e){return new _s(e)}function Ec(e){return new Ss(e)}function Ac(e){return new Ts(e)}function Cc(e){return Ac(e)}function Nc(e){return Ac(e)}function Tc(e){return new Ms(e)}function Dc(e){return Tc(e)}function Ic(e){return Tc(e)}function Mc(e){return new Ps(e)}function Fc(e){return Mc(e)}function Rc(e){return Mc(e)}function Pc(e){return new Bs(e)}function zc(e){return new Ws(e)}function Bc(e){return new Ls(e)}function Lc(e){return new Vs(e)}function Uc(e){return new Ns(e)}function Wc(e){return new Is(e)}function Vc(e){return new Rs(e)}function Hc(e){return new Hu(e)}function Gc(e){return new Vu(e)}function qc(e){return new qu(e)}function Xc(e){return new Gu(e)}function Yc(e){return new Wu(e)}function Kc(e){return new Uu(e)}function $c(e){return new Ju(e)}function Zc(e){return new Zu(e)}function Jc(e){return new Bu(e)}function Qc(e){return new Xu(e)}function el(e){return new qs(e)}function tl(e){return new Gs(e)}qs.className="Bidirectional",o.serialization.registerClass(qs);var nl=Bc,rl=Lc,al=Uc,il=Wc;function ol(e){return new bs(e)}function ul(e){return new ys(e)}function sl(e){return new xs(e)}function cl(e){return new us(e)}Object(o.env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")}));n(120),n(8),n(214),n(493),n(349),n(342),n(242),n(254),n(260),n(92),n(491),n(492),n(494),n(495),n(496),n(335),n(497),n(500),n(121),n(246),n(505),n(506),n(345),n(248),n(517),n(217),n(159),n(353),n(355),n(519),n(346),n(291),n(522),n(501),n(257),n(351),n(249),n(256),n(509);n(337);var ll=n(51);n(338),n(192),n(502),n(243),n(253),n(514),n(498),n(513),n(341);n(189),n(510),n(515),n(216),n(516),n(352),n(204),n(523),n(363),n(518);n(361),n(362),n(104),n(255),n(252),n(504),n(162),n(344),n(520),n(512),n(562),n(139),n(178),n(215),n(331),n(332),n(333),n(334),n(336),n(503),n(521),n(197),n(524),n(525),n(258),n(218),n(259),n(359),n(348),n(340),n(202),n(499);var fl=n(169),dl=n(94),hl=n(145),pl=function(){function e(){Object(En.a)(this,e),this.size=null}return Object(An.a)(e,[{key:"batch",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;return o.util.assert(e>0,(function(){return"batchSize needs to be positive, but it is\n      ".concat(e)})),t=this.size===1/0||null==this.size?this.size:n?Math.ceil(this.size/e):Math.floor(this.size/e),vl(Object(Ha.a)(qa.a.mark((function t(){return qa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.iterator();case 2:return t.abrupt("return",t.sent.columnMajorBatch(e,n,bl));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"concatenate",value:function(e){var t,n=this;return t=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,vl(Object(Ha.a)(qa.a.mark((function t(){return qa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=t.sent,t.next=5,e.iterator();case 5:return t.t1=t.sent,t.abrupt("return",t.t0.concatenate.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t)}))),t)}},{key:"filter",value:function(e){var t,n=this;return t=this.size===1/0?1/0:null,vl(Object(Ha.a)(qa.a.mark((function t(){return qa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.filter((function(t){return o.tidy((function(){return e(t)}))})));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"forEachAsync",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.iterator();case 2:return e.abrupt("return",e.sent.forEachAsync(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){var t=this;return vl(Object(Ha.a)(qa.a.mark((function n(){return qa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.map((function(t){return o.tidy((function(){return e(t)}))})));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"mapAsync",value:function(e){var t=this;return vl(Object(Ha.a)(qa.a.mark((function n(){return qa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.mapAsync(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"prefetch",value:function(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var t=this;return vl(Object(Ha.a)(qa.a.mark((function n(){return qa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.prefetch(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"repeat",value:function(e){var t,n=this;return t=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,vl(Object(Ha.a)(qa.a.mark((function t(){var r;return qa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(dl.e)(Object(Ha.a)(qa.a.mark((function e(){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 4:case"end":return e.stop()}}),e)})))),t.abrupt("return",Object(dl.d)(r.take(e)));case 2:case"end":return t.stop()}}),t)}))),t)}},{key:"skip",value:function(e){var t,n=this;return t=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,vl(Object(Ha.a)(qa.a.mark((function t(){return qa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.skip(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"shuffle",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));var r=this,a=fl.alea(t||o.util.now().toString());return vl(Object(Ha.a)(qa.a.mark((function t(){var i;return qa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.int32(),n&&(i+=a.int32()),t.next=4,r.iterator();case 4:return t.abrupt("return",t.sent.shuffle(e,i.toString()));case 5:case"end":return t.stop()}}),t)}))),this.size)}},{key:"take",value:function(e){var t,n=this;return t=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,vl(Object(Ha.a)(qa.a.mark((function t(){return qa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.take(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"toArray",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArray());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArrayForTest());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new(function(n){Object(Cn.a)(a,n);var r=Object(Nn.a)(a);function a(){var e;return Object(En.a)(this,a),(e=r.apply(this,arguments)).size=t,e}return Object(An.a)(a,[{key:"iterator",value:function(){var t=Object(Ha.a)(qa.a.mark((function t(){return qa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),a}(pl))}function ml(e){return vl(Object(Ha.a)(qa.a.mark((function t(){return qa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(dl.f)(e));case 1:case"end":return t.stop()}}),t)}))),e.length)}function gl(e){if(!Object(hl.e)(e))throw new Error("The argument to zip() must be an object or array.");var t;if(Array.isArray(e))for(var n=0;n<e.length;n++)t=null==t?e[n].size:Math.min(t,e[n].size);else if(e instanceof Object)for(var r in e)t=null==t?e[r].size:Math.min(t,e[r].size);return vl(Object(Ha.a)(qa.a.mark((function t(){var n;return qa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(hl.c)(e,(function(e){if(e instanceof pl)return{value:e.iterator(),recurse:!1};if(Object(hl.e)(e))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")}));case 2:return n=t.sent,t.abrupt("return",Object(dl.g)(n,dl.c.SHORTEST));case 4:case"end":return t.stop()}}),t)}))),t)}function bl(e){if(null===e)return null;var t=e[0];return Object(hl.a)(t)?{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof o.Tensor?o.stack(e):o.tensor(e)}(e),recurse:!1}:{value:null,recurse:!0}}pl.MAX_BUFFER_SIZE=1e4;var yl=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;return Object(En.a)(this,n),(r=t.call(this)).input=e,r}return Object(An.a)(n,[{key:"iterator",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t,n,r;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.input.iterator();case 2:return t=e.sent,n=t.decodeUTF8(),r=n.split("\n").map((function(e){return e.endsWith("\r")&&(e=e.slice(0,-1)),e})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(pl),xl='"',wl=Symbol("out"),Ol=Symbol("field"),kl=Symbol("quote"),jl=Symbol("quoteafterquote"),_l=Symbol("quoteinquote"),Sl=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e,r){var a;return Object(En.a)(this,n),(a=t.call(this)).input=e,a.hasHeader=!0,a.fullColumnNames=null,a.columnNamesValidated=!1,a.columnConfigs=null,a.configuredColumnsOnly=!1,a.delimiter=",",a.delimWhitespace=!1,a.base=new yl(e),r||(r={}),a.hasHeader=!1!==r.hasHeader,a.fullColumnNames=r.columnNames,a.columnConfigs=r.columnConfigs,a.configuredColumnsOnly=r.configuredColumnsOnly,r.delimWhitespace?(o.util.assert(null==r.delimiter,(function(){return"Delimiter should not be provided when delimWhitespace is true."})),a.delimWhitespace=!0,a.delimiter=" "):a.delimiter=r.delimiter?r.delimiter:",",a}return Object(An.a)(n,[{key:"columnNames",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.columnNamesValidated){e.next=3;break}return e.next=3,this.setColumnNames();case 3:return e.abrupt("return",this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setColumnNames",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t,n,r,a,i,u,s=this;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.maybeReadHeaderLine();case 2:if(t=e.sent,this.fullColumnNames||t){e.next=7;break}throw new Error("Column names must be provided if there is no header line.");case 7:this.fullColumnNames&&t&&o.util.assert(t.length===this.fullColumnNames.length,(function(){return"The length of provided columnNames ("+s.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+t.length.toString()+")."}));case 8:if(this.fullColumnNames||(this.fullColumnNames=t),n=this.fullColumnNames.reduce((function(e,t){return e[t]=e[t]+1||1,e}),{}),r=Object.keys(n).filter((function(e){return n[e]>1})),o.util.assert(0===r.length,(function(){return"Duplicate column names found: "+r.toString()})),!this.columnConfigs){e.next=22;break}a=0,i=Object.keys(this.columnConfigs);case 14:if(!(a<i.length)){e.next=22;break}if(u=i[a],-1!==this.fullColumnNames.indexOf(u)){e.next=19;break}throw new Error('The key "'+u+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").");case 19:a++,e.next=14;break;case 22:this.columnNamesValidated=!0;case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"maybeReadHeaderLine",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t,n,r,a;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasHeader){e.next=14;break}return e.next=3,this.base.iterator();case 3:return t=e.sent,e.next=6,t.next();case 6:if(!(n=e.sent).done){e.next=9;break}throw new Error("No data was found for CSV parsing.");case 9:return r=n.value,a=this.parseRow(r,!1),e.abrupt("return",a);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"iterator",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t,n=this;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.columnNamesValidated){e.next=3;break}return e.next=3,this.setColumnNames();case 3:return e.next=5,this.base.iterator();case 5:return t=e.sent,this.hasHeader&&(t=t.skip(1)),e.abrupt("return",t.map((function(e){return n.makeDataElement(e)})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"makeDataElement",value:function(e){for(var t=this.parseRow(e),n={},r={},a=0;a<this.fullColumnNames.length;a++){var i=this.fullColumnNames[a],o=this.columnConfigs?this.columnConfigs[i]:null;if(!this.configuredColumnsOnly||o){var u=t[a],s=null;if(""===u)if(o&&void 0!==o.default)s=o.default;else{if(o&&(o.required||o.isLabel))throw new Error("Required column ".concat(i," is empty in this line: ").concat(e));s=void 0}else{var c=Number(u);if(isNaN(c))s=o&&"bool"===o.dtype?this.getBoolean(u):u;else if(o&&o.dtype)switch(o.dtype){case"float32":default:s=c;break;case"int32":s=Math.floor(c);break;case"bool":s=this.getBoolean(u)}else s=c}o&&o.isLabel?r[i]=s:n[i]=s}}return 0===Object.keys(r).length?n:{xs:n,ys:r}}},{key:"getBoolean",value:function(e){return"1"===e||"true"===e.toLowerCase()?1:0}},{key:"parseRow",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=0,a=e.length,i=wl,o=0;o<a;o++)switch(i){case wl:switch(e.charAt(o)){case xl:r=o+1,i=kl;break;case this.delimiter:if(r=o+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),i=wl;break;default:i=Ol,r=o}break;case Ol:if(e.charAt(o)===this.delimiter)n.push(e.substring(r,o)),i=wl,r=o+1;break;case kl:if(e.charAt(o)===xl)i=jl;break;case jl:switch(e.charAt(o)){case this.delimiter:n.push(e.substring(r,o-1)),i=wl,r=o+1;break;case xl:i=kl;break;default:i=_l}break;case _l:if(e.charAt(o)===xl)i=kl}if(i===jl?n.push(e.substring(r,a-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error("Invalid row in csv file. Should have ".concat(this.fullColumnNames.length," elements in a row, but got ").concat(n));return n}}]),n}(pl),El=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r;Object(En.a)(this,n),(r=t.call(this)).microphoneConfig=e,r.isClosed=!1,r.fftSize=e.fftSize||1024;var a=Math.log2(r.fftSize);if(r.fftSize<0||a<4||a>14||!Number.isInteger(a))throw new Error("Invalid fftSize: it must be a power of 2 between "+"2 to 4 and 2 to 14, but got ".concat(r.fftSize));if(r.numFrames=e.numFramesPerSpectrogram||43,r.sampleRateHz=e.sampleRateHz,r.columnTruncateLength=e.columnTruncateLength||r.fftSize,r.audioTrackConstraints=e.audioTrackConstraints,r.smoothingTimeConstant=e.smoothingTimeConstant||0,r.includeSpectrogram=!1!==e.includeSpectrogram,r.includeWaveform=!0===e.includeWaveform,!r.includeSpectrogram&&!r.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.");return r}return Object(An.a)(n,[{key:"summary",value:function(){return"microphone"}},{key:"start",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t,n;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1});case 3:this.stream=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error thrown while initializing video stream: ".concat(e.t0.message));case 9:if(this.stream){e.next=11;break}throw new Error("Could not obtain audio from microphone.");case 11:if(t=window.AudioContext||window.webkitAudioContext,this.audioContext=new t,this.sampleRateHz){e.next=17;break}this.sampleRateHz=this.audioContext.sampleRate,e.next=19;break;case 17:if(this.audioContext.sampleRate===this.sampleRateHz){e.next=19;break}throw new Error("Mismatch in sampling rate: "+"Expected: ".concat(this.sampleRateHz,"; ")+"Actual: ".concat(this.audioContext.sampleRate));case 19:return n=this.audioContext.createMediaStreamSource(this.stream),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,n.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize),e.abrupt("return");case 27:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t,n,r,a,i;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.next=4,this.getAudioData();case 4:return r=e.sent,this.includeSpectrogram&&(a=this.flattenQueue(r.freqDataQueue),t=this.getTensorFromAudioDataArray(a,[this.numFrames,this.columnTruncateLength,1])),this.includeWaveform&&(i=this.flattenQueue(r.timeDataQueue),n=this.getTensorFromAudioDataArray(i,[this.numFrames*this.fftSize,1])),e.abrupt("return",{value:{spectrogram:t,waveform:n},done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"capture",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAudioData",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t,n,r,a=this;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],r=0,e.abrupt("return",new Promise((function(e){var i=setInterval((function(){a.includeSpectrogram&&(a.analyser.getFloatFrequencyData(a.freqData),a.freqData[0]===-1/0&&e({freqDataQueue:t,timeDataQueue:n}),t.push(a.freqData.slice(0,a.columnTruncateLength))),a.includeWaveform&&(a.analyser.getFloatTimeDomainData(a.timeData),n.push(a.timeData.slice())),++r===a.numFrames&&(clearInterval(i),e({freqDataQueue:t,timeDataQueue:n}))}),a.fftSize/a.sampleRateHz*1e3)})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}},{key:"toArray",value:function(){throw new Error("Can not convert infinite audio stream to array.")}},{key:"getSampleRate",value:function(){return this.sampleRateHz}},{key:"flattenQueue",value:function(e){var t=e[0].length,n=new Float32Array(e.length*t);return e.forEach((function(e,r){return n.set(e,r*t)})),n}},{key:"getTensorFromAudioDataArray",value:function(e,t){var n=new Float32Array(o.util.sizeFromShape(t));return n.set(e,n.length-e.length),Object(o.tensor)(n,t)}}],[{key:"create",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t,r,a=arguments;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},!Object(o.env)().get("IS_NODE")){e.next=3;break}throw new Error("microphone API is only supported in browser environment.");case 3:return r=new n(t),e.next=6,r.start();case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(dl.a),Al=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e,r){var a;if(Object(En.a)(this,n),(a=t.call(this)).webcamVideoElement=e,a.webcamConfig=r,a.isClosed=!0,a.resize=!1,a.needToResize())if(a.resize=!0,a.cropSize=[a.webcamConfig.resizeHeight,a.webcamConfig.resizeWidth],a.cropBoxInd=Object(o.tensor1d)([0],"int32"),a.webcamConfig.centerCrop){var i=1*a.webcamConfig.resizeWidth/a.webcamVideoElement.width,u=1*a.webcamConfig.resizeHeight/a.webcamVideoElement.height,s=(1-i)/2,c=(1-u)/2,l=s+i,f=u+c;a.cropBox=Object(o.tensor2d)([c,s,f,l],[1,4])}else a.cropBox=Object(o.tensor2d)([0,0,1,1],[1,4]);return a}return Object(An.a)(n,[{key:"summary",value:function(){return"webcam"}},{key:"start",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t=this;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.webcamConfig.facingMode&&o.util.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,(function(){return"Invalid webcam facing mode: ".concat(t.webcamConfig.facingMode,". ")+"Please provide 'user' or 'environment'"})),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}});case 4:this.stream=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0.message="Error thrown while initializing video stream: ".concat(e.t0.message),e.t0;case 11:if(this.stream){e.next=13;break}throw new Error("Could not obtain video from webcam.");case 13:try{this.webcamVideoElement.srcObject=this.stream}catch(n){console.log(n),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,e.abrupt("return",new Promise((function(e){t.webcamVideoElement.onloadedmetadata=function(){e()}})));case 17:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:e.prev=2,t=o.browser.fromPixels(this.webcamVideoElement),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),new Error("Error thrown converting video to pixels: ".concat(JSON.stringify(e.t0)));case 9:if(!this.resize){e.next=22;break}return e.prev=10,e.abrupt("return",{value:this.cropAndResizeFrame(t),done:!1});case 14:throw e.prev=14,e.t1=e.catch(10),new Error("Error thrown cropping the video: ".concat(e.t1.message));case 17:return e.prev=17,t.dispose(),e.finish(17);case 20:e.next=23;break;case 22:return e.abrupt("return",{value:t,done:!1});case 23:case"end":return e.stop()}}),e,this,[[2,6],[10,14,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"needToResize",value:function(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)}},{key:"cropAndResizeFrame",value:function(e){var t=this;return Object(o.tidy)((function(){var n,r=Object(o.expandDims)(Object(o.cast)(e,"float32"),0),a=(n=o.image.cropAndResize(r,t.cropBox,t.cropBoxInd,t.cropSize,"bilinear")).shape;return Object(o.reshape)(n,a.slice(1))}))}},{key:"capture",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.stream.getTracks().forEach((function(e){return e.stop()}));try{this.webcamVideoElement.srcObject=null}catch(e){console.log(e),this.webcamVideoElement.src=null}this.isClosed=!0}},{key:"toArray",value:function(){throw new Error("Can not convert infinite video stream to array.")}}],[{key:"create",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){var r,a,i=arguments;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},!Object(o.env)().get("IS_NODE")){e.next=3;break}throw new Error("tf.data.webcam is only supported in browser environment.");case 3:if(t){e.next=9;break}if(t=document.createElement("video"),r.resizeWidth&&r.resizeHeight){e.next=7;break}throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");case 7:t.width=r.resizeWidth,t.height=r.resizeHeight;case 9:return a=new n(t,r),e.next=12,a.start();case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(dl.a),Cl=Object(An.a)((function e(){Object(En.a)(this,e)})),Nl=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(En.a)(this,n),(r=t.call(this)).file=e,r.options=a,o.util.assert(e instanceof Uint8Array||!!Object(o.env)().get("IS_BROWSER")&&(e instanceof File||e instanceof Blob),(function(){return"FileChunkIterator only supports File, Blob and Uint8Array right now."})),r.offset=a.offset||0,r.chunkSize=a.chunkSize||1048576,r}return Object(An.a)(n,[{key:"summary",value:function(){return"FileChunks ".concat(this.file)}},{key:"next",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t,n=this;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size))){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=new Promise((function(e,t){var r=n.offset+n.chunkSize;if(n.file instanceof Uint8Array)e(new Uint8Array(n.file.slice(n.offset,r)));else{var a=new FileReader;a.onload=function(n){var r=a.result;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(r instanceof Uint8Array))return t(new TypeError("FileReader returned unknown type."));e(r)},a.onabort=function(e){return t(new Error("Aborted"))},a.onerror=function(e){return t(new Error(e.type))};var i=n.file.slice(n.offset,r);a.readAsArrayBuffer(i)}n.offset=r})),e.next=5,t;case 5:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(n(594).a);function Tl(e){return Dl.apply(this,arguments)}function Dl(){return Dl=Object(Ha.a)(qa.a.mark((function e(t){var n,r,a,i,u,s,c=arguments;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2?c[2]:void 0,"string"===typeof t?a=t:(a=t.url,i=Il(t)),e.next=5,(r||o.util.fetch)(a,i);case 5:if(!(u=e.sent).ok){e.next=15;break}return e.t0=Uint8Array,e.next=10,u.arrayBuffer();case 10:return e.t1=e.sent,s=new e.t0(e.t1),e.abrupt("return",new Nl(s,n));case 15:throw new Error(u.statusText);case 16:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}var Il=function(e){return{method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}};function Ml(e){return"string"===typeof e&&"file://"===e.substr(0,7)}var Fl=function(e){Object(Cn.a)(r,e);var t=Object(Nn.a)(r);function r(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(En.a)(this,r),(n=t.call(this)).input=e,n.options=a,n}return Object(An.a)(r,[{key:"iterator",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){var t;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ml(this.input)&&Object(o.env)().get("IS_NODE")&&(t=n(730),this.input=t.readFileSync(this.input.substr(7))),e.abrupt("return",new Nl(this.input,this.options));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(Cl),Rl=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(En.a)(this,n),(r=t.call(this)).url=e,r.fileOptions=a,r}return Object(An.a)(n,[{key:"iterator",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ml(this.url)){e.next=4;break}return e.abrupt("return",new Fl(this.url,this.fileOptions).iterator());case 4:return e.abrupt("return",Tl(this.url,this.fileOptions));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Cl);function Pl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Sl(new Rl(e),t)}function zl(e){var t=Object(dl.e)(e);return vl(Object(Ha.a)(qa.a.mark((function e(){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))))}function Bl(e){return vl(Object(Ha.a)(qa.a.mark((function t(){var n;return qa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:return n=t.sent,t.abrupt("return",Object(dl.e)((function(){return n.next()})));case 4:case"end":return t.stop()}}),t)}))))}function Ll(e,t){return Ul.apply(this,arguments)}function Ul(){return(Ul=Object(Ha.a)(qa.a.mark((function e(t,n){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Al.create(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wl(e){return Vl.apply(this,arguments)}function Vl(){return(Vl=Object(Ha.a)(qa.a.mark((function e(t){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El.create(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hl="3.13.0";function Gl(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&o.util.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")}))}))}var ql=o.kernel_impls.whereImpl,Xl=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(){var e;return Object(En.a)(this,n),(e=t.call(this)).blockSize=48,e.firstUse=!0,e.data=new o.DataStorage(Object(Mn.a)(e),Object(o.engine)()),e}return Object(An.a)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,Object(o.env)().get("IS_NODE")&&o.backend_util.warn("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&o.util.isString(n[0])){var a=n.map((function(e){return o.util.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensorInfos;if("complex64"===n){var a=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return o.backend_util.mergeRealAndImagArrays(a,i)}return this.data.get(e).values}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return o.util.decodeString(e)}))}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return Object(o.buffer)(e.shape,e.dtype,n)}},{key:"makeOutput",value:function(e,t,n){var r=this.write(e,t,n);return Object(o.engine)().makeTensorFromDataId(r,t,n,this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e),r=n.complexTensorInfos;null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){var n,r;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.util.now(),t(),r=o.util.now()-n,e.abrupt("return",{kernelMs:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){Gl([e],"where");var t=this.readSync(e.dataId);return ql(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return Object(ai.a)(Object(ii.a)(n.prototype),"epsilon",this).call(this)}}]),n}(o.KernelBackend);Xl.nextDataId=0;function Yl(e,t,n){return function(r){var a=r.inputs,i=r.attrs,u=r.backend,s=a.x;if(Gl(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");for(var c=u,l=c.data.get(s.dataId).values,f=o.util.sizeFromShape(s.shape),d=n||s.dtype,h=o.util.getArrayFromDType(d,f),p=0;p<f;++p)h[p]=t(l[p],i);return c.makeTensorInfo(s.shape,d,h)}}function Kl(e,t,n){return function(r){var a=r.inputs,i=r.attrs,o=r.backend,u=a.x;if(Gl(u,e),"string"===u.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");var s=o,c=s.data.get(u.dataId).values,l=n||u.dtype,f=t(c,l,i);return s.makeTensorInfo(u.shape,l,f)}}Object(o.registerBackend)("cpu",(function(){return new Xl}),1);var $l=Yl(o.Elu,(function(e){return e>=0?e:Math.exp(e)-1})),Zl={kernelName:o.Elu,backendName:"cpu",kernelFunc:$l};function Jl(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var Ql={kernelName:o.Identity,backendName:"cpu",kernelFunc:Jl};function ef(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.alpha;Gl([a],"leakyRelu");for(var u=o.util.sizeFromShape(a.shape),s=n.data.get(a.dataId).values,c=o.util.getTypedArrayFromDType("float32",u),l=0;l<s.length;l++)c[l]=s[l]<0?i*s[l]:s[l];return n.makeTensorInfo(a.shape,"float32",c)}var tf={kernelName:o.LeakyRelu,backendName:"cpu",kernelFunc:ef};function nf(e){return function(t,n,r,a,i){var u=o.backend_util.assertAndGetBroadcastShape(t,n),s=u.length,c=o.util.computeStrides(u),l=o.util.sizeFromShape(u),f=o.util.getTypedArrayFromDType(i,l),d=t.length,h=n.length,p=o.util.computeStrides(t),v=o.util.computeStrides(n),m=o.backend_util.getBroadcastDims(t,u),g=o.backend_util.getBroadcastDims(n,u);if(m.length+g.length===0)for(var b=0;b<f.length;++b)f[b]=e(r[b%r.length],a[b%a.length]);else for(var y=function(t){var n=o.util.indexToLoc(t,s,c),i=n.slice(-d);m.forEach((function(e){return i[e]=0}));var u=o.util.locToIndex(i,d,p),l=n.slice(-h);g.forEach((function(e){return l[e]=0}));var b=o.util.locToIndex(l,h,v);f[t]=e(r[u],a[b])},x=0;x<f.length;++x)y(x);return[f,u]}}var rf=nf((function(e,t){return e<0?t*e:e}));function af(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha;Gl([r,a],"prelu");var i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=rf(r.shape,a.shape,i,o,"float32"),c=Object(u.a)(s,2),l=c[0],f=c[1];return n.makeTensorInfo(f,"float32",l)}var of={kernelName:o.Prelu,backendName:"cpu",kernelFunc:af},uf=Yl(o.Relu,(function(e){return Math.max(0,e)})),sf={kernelName:o.Relu,backendName:"cpu",kernelFunc:uf},cf=Yl(o.Relu6,(function(e){return Math.min(Math.max(0,e),6)})),lf={kernelName:o.Relu6,backendName:"cpu",kernelFunc:cf};function ff(e){return function(t,n,r){for(var a=o.util.getTypedArrayFromDType(n,t.length),i=0;i<t.length;++i)a[i]=e(t[i],r);return a}}var df=ff((function(e){return 1/(1+Math.exp(-e))})),hf=Yl(o.Sigmoid,(function(e){return 1/(1+Math.exp(-e))})),pf={kernelName:o.Sigmoid,backendName:"cpu",kernelFunc:hf};function vf(e,t,n,r,a){if("linear"===n)return Jl({inputs:{x:t},backend:e});if("relu"===n)return uf({inputs:{x:t},backend:e});if("elu"===n)return $l({inputs:{x:t},backend:e});if("relu6"===n)return cf({inputs:{x:t},backend:e});if("prelu"===n)return af({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return ef({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return hf({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function mf(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,u=n.makeTensorInfo(r.shape,"complex64");return n.data.get(u.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(a.shape,"float32",o)},u}var gf={kernelName:o.Complex,backendName:"cpu",kernelFunc:mf};function bf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var r=bf(e,t,"float32"),a=bf(e,t,"float32");return mf({inputs:{real:r,imag:a},backend:e})}var i=o.util.makeZerosTypedArray(o.util.sizeFromShape(t),n);return e.makeTensorInfo(t,n,i)}function yf(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var xf={kernelName:o.Real,backendName:"cpu",kernelFunc:yf};function wf(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dtype;if("complex64"===i){if("complex64"===a.dtype)return Jl({inputs:{x:a},backend:n});var s=bf(n,a.shape,a.dtype),c=wf({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),l=mf({inputs:{real:c,imag:s},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(c),l}if("complex64"===a.dtype){var f=yf({inputs:{input:a},backend:n}),d=wf({inputs:{x:f},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(f),d}if(!o.util.hasEncodingLoss(a.dtype,i)){var h=Jl({inputs:{x:a},backend:n});return{dataId:h.dataId,shape:h.shape,dtype:i}}if("int32"===i){var p=n.data.get(a.dataId).values,v=Int32Array.from(p);return n.makeTensorInfo(a.shape,"int32",v)}if("bool"===i){var m=n.data.get(a.dataId).values,g=o.util.toTypedArray([0],a.dtype),b=nf((function(e,t){return e!==t?1:0}))(a.shape,[],m,g,"bool"),y=Object(u.a)(b,2),x=y[0],w=y[1];return n.makeTensorInfo(w,"bool",x)}throw new Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(i))}var Of={kernelName:o.Cast,backendName:"cpu",kernelFunc:wf};function kf(e,t,n,r){return null==n?function(n){var a=n.inputs,i=n.backend,s=a.a,c=a.b,l=i;Gl([s,c],e);var f=l.data.get(s.dataId).values,d=l.data.get(c.dataId).values,h="string"===s.dtype?o.backend_util.fromUint8ToStringArray(f):f,p="string"===s.dtype?o.backend_util.fromUint8ToStringArray(d):d,v=r||s.dtype,m=t(s.shape,c.shape,h,p,v),g=Object(u.a)(m,2),b=g[0],y=g[1];return l.makeTensorInfo(y,v,b)}:function(e){var a=e.inputs,i=e.backend,o=a.a,s=a.b,c=i;if("complex64"===o.dtype||"complex64"===s.dtype){var l=wf({inputs:{x:o},backend:c,attrs:{dtype:"complex64"}}),f=c.data.get(l.dataId),d=f.complexTensorInfos.real,h=f.complexTensorInfos.imag,p=c.data.get(d.dataId).values,v=c.data.get(h.dataId).values,m=wf({inputs:{x:s},backend:c,attrs:{dtype:"complex64"}}),g=c.data.get(m.dataId),b=g.complexTensorInfos.real,y=g.complexTensorInfos.imag,x=c.data.get(b.dataId).values,w=c.data.get(y.dataId).values,O=n(o.shape,s.shape,p,v,x,w),k=Object(u.a)(O,3),j=k[0],_=k[1],S=k[2],E=c.makeTensorInfo(S,"float32",j),A=c.makeTensorInfo(S,"float32",_),C=mf({inputs:{real:E,imag:A},backend:c});return c.disposeIntermediateTensorInfo(l),c.disposeIntermediateTensorInfo(m),c.disposeIntermediateTensorInfo(E),c.disposeIntermediateTensorInfo(A),C}var N=c.data.get(o.dataId).values,T=c.data.get(s.dataId).values,D=r||o.dtype,I=t(o.shape,s.shape,N,T,D),M=Object(u.a)(I,2),F=M[0],R=M[1];return c.makeTensorInfo(R,D,F)}}function jf(e){return function(t,n,r,a,i,u){var s=o.backend_util.assertAndGetBroadcastShape(t,n),c=o.util.sizeFromShape(s),l=s.length,f=o.util.computeStrides(s),d=o.util.getTypedArrayFromDType("float32",c),h=o.util.getTypedArrayFromDType("float32",c),p=o.backend_util.getBroadcastDims(t,s),v=o.backend_util.getBroadcastDims(n,s),m=o.backend_util.mergeRealAndImagArrays(r,a),g=o.backend_util.mergeRealAndImagArrays(i,u),b=t.length,y=o.util.computeStrides(t),x=n.length,w=o.util.computeStrides(n);if(p.length+v.length===0)for(var O=0;O<d.length;O++){var k=O%m.length,j=O%g.length,_=e(m[2*k],m[2*k+1],g[2*j],g[2*j+1]);d[O]=_.real,h[O]=_.imag}else for(var S=function(t){var n=o.util.indexToLoc(t,l,f),r=n.slice(-b);p.forEach((function(e){return r[e]=0}));var a=o.util.locToIndex(r,b,y),i=n.slice(-x);v.forEach((function(e){return i[e]=0}));var u=o.util.locToIndex(i,x,w),s=e(m[2*a],m[2*a+1],g[2*u],g[2*u+1]);d[t]=s.real,h[t]=s.imag},E=0;E<d.length;E++)S(E);return[d,h,s]}}var _f=nf((function(e,t){return e+t})),Sf=jf((function(e,t,n,r){return{real:e+n,imag:t+r}})),Ef=kf(o.Add,_f,Sf),Af={kernelName:o.Add,backendName:"cpu",kernelFunc:Ef};function Cf(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.shape,u=o.util.sizeFromShape(a.shape),s=o.util.inferFromImplicitShape(i,u),c=o.util.sizeFromShape(s);o.util.assert(u===c,(function(){return"The new shape (".concat(s,") has ").concat(c," elements and the old ")+"shape (".concat(a.shape,") has ").concat(u," elements. The new shape and old ")+"shape must have the same number of elements."})),n.incRef(a.dataId);var l=n.data.get(a.dataId);if(null!=l.complexTensorInfos){var f=l.complexTensorInfos.real,d=l.complexTensorInfos.imag;f.shape=s,d.shape=s}return{dataId:a.dataId,shape:s,dtype:a.dtype}}var Nf={kernelName:o.Reshape,backendName:"cpu",kernelFunc:Cf};function Tf(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,s=r.transposeA,c=r.transposeB;Gl([a,i],"matMul");var l=a.shape.length,f=i.shape.length,d=s?a.shape[l-2]:a.shape[l-1],h=c?i.shape[f-1]:i.shape[f-2],p=s?a.shape[l-1]:a.shape[l-2],v=c?i.shape[f-2]:i.shape[f-1],m=a.shape.slice(0,-2),g=i.shape.slice(0,-2),b=o.util.sizeFromShape(m),y=o.util.sizeFromShape(g),x=o.broadcast_util.assertAndGetBroadcastShape(a.shape.slice(0,-2),i.shape.slice(0,-2)).concat([p,v]);o.util.assert(d===h,(function(){return"Error in matMul: inner shapes (".concat(d,") and (")+"".concat(h,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(i.shape," and transposeA=").concat(s)+" and transposeB=".concat(c," must match.")}));for(var w=c?[y,v,h]:[y,h,v],O=Cf({inputs:{x:a},backend:n,attrs:{shape:s?[b,d,p]:[b,p,d]}}),k=Cf({inputs:{x:i},backend:n,attrs:{shape:w}}),j=s?O.shape[1]:O.shape[2],_=s?O.shape[2]:O.shape[1],S=c?k.shape[1]:k.shape[2],E=Math.max(b,y),A=n.data.get(O.dataId).values,C=n.data.get(k.dataId).values,N=o.util.computeStrides(O.shape),T=o.util.computeStrides(k.shape),D=s?[N[0],1,N[1]]:[N[0],N[1],1],I=Object(u.a)(D,3),M=I[0],F=I[1],R=I[2],P=c?[1,T[1],T[0]]:[T[1],1,T[0]],z=Object(u.a)(P,3),B=z[0],L=z[1],U=z[2],W=_*S,V=Object(o.buffer)([E,_,S],O.dtype),H=V.values,G=n.blockSize,q=0;q<E;q++)for(var X=0;X<_;X+=G)for(var Y=0;Y<S;Y+=G)for(var K=0;K<j;K+=G)for(var $=Math.min(X+G,_),Z=Math.min(Y+G,S),J=Math.min(K+G,j),Q=X;Q<$;Q++)for(var ee=Y;ee<Z;ee++){for(var te=0,ne=K;ne<J;ne++){var re=Math.min(q,b-1)*M,ae=Math.min(q,y-1)*U;te+=A[re+Q*F+ne*R]*C[ne*B+ee*L+ae]}H[q*W+(Q*S+ee)]+=te}return n.disposeIntermediateTensorInfo(O),n.disposeIntermediateTensorInfo(k),n.makeTensorInfo(x,V.dtype,V.values)}var Df={kernelName:o.BatchMatMul,backendName:"cpu",kernelFunc:Tf};var If={kernelName:o._FusedMatMul,backendName:"cpu",kernelFunc:function(e){var t,n,r,a=e.inputs,i=e.backend,o=e.attrs,u=a.a,s=a.b,c=a.bias,l=a.preluActivationWeights,f=o.transposeA,d=o.transposeB,h=o.activation,p=o.leakyreluAlpha,v=[];t=Tf({inputs:{a:u,b:s},attrs:{transposeA:f,transposeB:d},backend:i}),c&&(n=Ef({inputs:{a:t,b:c},backend:i}),v.push(t),t=n),h&&(r=vf(i,t,h,l,p),v.push(t),t=r);for(var m=0,g=v;m<g.length;m++){var b=g[m];i.disposeIntermediateTensorInfo(b)}return t}};function Mf(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var Ff={kernelName:o.Abs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs.x,n=e.backend;Gl(t,"abs");var r=new Float32Array(o.util.sizeFromShape(t.shape));return r=Mf(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},Rf=Yl(o.Acos,(function(e){return Math.acos(e)})),Pf={kernelName:o.Acos,backendName:"cpu",kernelFunc:Rf},zf=Yl(o.Acosh,(function(e){return Math.acosh(e)})),Bf={kernelName:o.Acosh,backendName:"cpu",kernelFunc:zf};var Lf={kernelName:o.AddN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;Gl(t,"addN");for(var a=r.map((function(e){return n.data.get(e.dataId).values})),i=Object(o.buffer)(r[0].shape,r[0].dtype),u=i.values,s=0;s<r.length;s++)for(var c=a[s],l=0;l<u.length;l++)u[l]+=c[l];return n.makeTensorInfo(i.shape,i.dtype,i.values)}};function Uf(e,t,n,r,a){for(var i=t.length,u=o.util.sizeFromShape(t),s=o.util.computeStrides(t),c=o.util.computeStrides(a),l=o.util.getTypedArrayFromDType(n,o.util.sizeFromShape(a)),f=0;f<u;++f){for(var d=o.util.indexToLoc(f,i,s),h=new Array(d.length),p=0;p<h.length;p++)h[p]=d[r[p]];l[o.util.locToIndex(h,i,c)]=e[f]}return l}function Wf(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.perm;Gl(a,"transpose");for(var o=a.shape.length,u=new Array(o),s=0;s<u.length;s++)u[s]=a.shape[i[s]];var c=Uf(r.data.get(a.dataId).values,a.shape,a.dtype,i,u);return{dataId:r.write(c,u,a.dtype),shape:u,dtype:a.dtype}}var Vf={kernelName:o.Transpose,backendName:"cpu",kernelFunc:Wf};var Hf={kernelName:o.All,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims;Gl(a,"all");var c=o.util.parseAxisParam(i,a.shape),l=c,f=o.backend_util.getAxesPermutation(l,a.shape.length),d=a;null!=f&&(d=Wf({inputs:{x:a},backend:n,attrs:{perm:f}}),l=o.backend_util.getInnerMostAxes(l.length,a.shape.length)),o.backend_util.assertAxesAreInnerMostDims("all",l,d.shape.length);for(var h=o.backend_util.computeOutAndReduceShapes(d.shape,l),p=Object(u.a)(h,2),v=p[0],m=p[1],g=o.util.sizeFromShape(m),b=o.util.makeZerosTypedArray(o.util.sizeFromShape(v),d.dtype),y=n.data.get(d.dataId).values,x=0;x<b.length;++x){for(var w=x*g,O=y[w],k=0;k<g;++k){var j=y[w+k];O=O&&j}b[x]=O}null!=f&&n.disposeIntermediateTensorInfo(d);var _=n.makeTensorInfo(v,d.dtype,b);if(s){var S=Cf({inputs:{x:_},backend:n,attrs:{shape:o.backend_util.expandShapeToKeepDim(v,c)}});return n.disposeIntermediateTensorInfo(_),S}return _}};var Gf={kernelName:o.Any,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims;Gl(a,"any");var c=o.util.parseAxisParam(i,a.shape),l=c,f=o.backend_util.getAxesPermutation(l,a.shape.length),d=a;null!=f&&(d=Wf({inputs:{x:a},backend:n,attrs:{perm:f}}),l=o.backend_util.getInnerMostAxes(l.length,a.shape.length)),o.backend_util.assertAxesAreInnerMostDims("any",l,d.shape.length);for(var h=o.backend_util.computeOutAndReduceShapes(d.shape,l),p=Object(u.a)(h,2),v=p[0],m=p[1],g=o.util.sizeFromShape(m),b=o.util.makeZerosTypedArray(o.util.sizeFromShape(v),d.dtype),y=n.data.get(d.dataId).values,x=0;x<b.length;++x){for(var w=x*g,O=y[w],k=0;k<g;++k){var j=y[w+k];O=O||j}b[x]=O}null!=f&&n.disposeIntermediateTensorInfo(d);var _=n.makeTensorInfo(v,d.dtype,b);if(s){var S=Cf({inputs:{x:_},backend:n,attrs:{shape:o.backend_util.expandShapeToKeepDim(v,c)}});return n.disposeIntermediateTensorInfo(_),S}return _}};var qf={kernelName:o.ArgMax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis;Gl(a,"argMax");var s=o.util.parseAxisParam(i,a.shape),c=o.backend_util.getAxesPermutation(s,a.shape.length),l=a,f=[];null!=c&&(l=Wf({inputs:{x:a},backend:n,attrs:{perm:c}}),f.push(l),s=o.backend_util.getInnerMostAxes(s.length,l.shape.length)),s=[s[0]],o.backend_util.assertAxesAreInnerMostDims("argMax",s,l.shape.length);for(var d=o.backend_util.computeOutAndReduceShapes(l.shape,s),h=Object(u.a)(d,2),p=h[0],v=h[1],m=o.util.sizeFromShape(p),g=o.util.makeZerosTypedArray(m,"int32"),b=o.util.sizeFromShape(v),y=n.data.get(l.dataId).values,x=0;x<g.length;++x){for(var w=x*b,O=y[w],k=0,j=0;j<b;++j){var _=y[w+j];_>O&&(O=_,k=j)}g[x]=k}return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",g)}};var Xf={kernelName:o.ArgMin,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis;Gl(a,"argMin");var s=o.util.parseAxisParam(i,a.shape),c=o.backend_util.getAxesPermutation(s,a.shape.length),l=a,f=[];null!=c&&(l=Wf({inputs:{x:a},backend:n,attrs:{perm:c}}),f.push(l),s=o.backend_util.getInnerMostAxes(s.length,l.shape.length)),s=[s[0]],o.backend_util.assertAxesAreInnerMostDims("argMin",s,l.shape.length);for(var d=o.backend_util.computeOutAndReduceShapes(l.shape,s),h=Object(u.a)(d,2),p=h[0],v=h[1],m=o.util.sizeFromShape(p),g=o.util.makeZerosTypedArray(m,"int32"),b=o.util.sizeFromShape(v),y=n.data.get(l.dataId).values,x=0;x<g.length;++x){for(var w=x*b,O=y[w],k=0,j=0;j<b;++j){var _=y[w+j];_<O&&(O=_,k=j)}g[x]=k}return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",g)}},Yf=Yl(o.Asin,(function(e){return Math.asin(e)})),Kf={kernelName:o.Asin,backendName:"cpu",kernelFunc:Yf},$f=Yl(o.Asinh,(function(e){return Math.asinh(e)})),Zf={kernelName:o.Asinh,backendName:"cpu",kernelFunc:$f},Jf=Yl(o.Atan,(function(e){return Math.atan(e)})),Qf={kernelName:o.Atan,backendName:"cpu",kernelFunc:Jf},ed=nf((function(e,t){return Math.atan2(e,t)})),td=kf(o.Atan2,ed),nd={kernelName:o.Atan2,backendName:"cpu",kernelFunc:td},rd=Yl(o.Atanh,(function(e){return Math.atanh(e)})),ad={kernelName:o.Atanh,backendName:"cpu",kernelFunc:rd};function id(e,t,n,r,a,i){for(var u=a.strideHeight,s=a.strideWidth,c=a.dilationHeight,l=a.dilationWidth,f=a.effectiveFilterHeight,d=a.effectiveFilterWidth,h=a.padInfo.top,p=a.padInfo.left,v="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=Object(o.buffer)(a.outShape,n),g=m.values,b=a.outShape[1]*a.outShape[2]*a.outShape[3],y=a.outShape[2]*a.outShape[3],x=a.outShape[3],w=0;w<a.batchSize;++w)for(var O=w*b,k=w*r[0],j=0;j<a.inChannels;++j)for(var _=0;_<a.outHeight;++_)for(var S=_*u-h,E=Math.max(0,S),A=Math.min(a.inHeight,f+S),C=O+_*y,N=0;N<a.outWidth;++N){for(var T=N*s-p,D=Math.max(0,T),I=Math.min(a.inWidth,d+T),M=v,F=0,R=0,P=E;P<A;P+=c){for(var z=k+P*r[1],B=D;B<I;B+=l){var L=e[z+B*r[2]+j];"max"===i&&L>M?M=L:"avg"===i&&(F+=L,R++)}if(isNaN(M))break}g[C+N*x+j]="avg"===i?F/R:M}return m}function od(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=Object(o.buffer)(r.outShape,"int32"),s=r.strideHeight,c=r.strideWidth,l=r.dilationHeight,f=r.dilationWidth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,p=r.padInfo.top,v=r.padInfo.left,m=Object(o.buffer)(t,n,e),g=0;g<r.batchSize;++g)for(var b=0;b<r.inChannels;++b)for(var y=0;y<r.outHeight;++y){for(var x=y*s-p,w=x;w<0;)w+=l;for(var O=Math.min(r.inHeight,d+x),k=0;k<r.outWidth;++k){for(var j=k*c-v,_=j;_<0;)_+=f;for(var S=Math.min(r.inWidth,h+j),E=Number.NEGATIVE_INFINITY,A=-1,C=w;C<O;C+=l)for(var N=C-x,T=_;T<S;T+=f){var D=T-j,I=m.get(g,C,T,b);I>E&&(E=I,A=a?i?((g*r.inHeight+C)*r.inWidth+T)*r.inChannels+b:(C*r.inWidth+T)*r.inChannels+b:N*h+D)}u.set(A,g,y,k,b)}}return u}function ud(e,t,n,r,a,i){for(var u=a.strideDepth,s=a.strideHeight,c=a.strideWidth,l=a.dilationDepth,f=a.dilationHeight,d=a.dilationWidth,h=a.effectiveFilterDepth,p=a.effectiveFilterHeight,v=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,b=a.padInfo.left,y="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,x=Object(o.buffer)(a.outShape,n),w=x.values,O=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],k=a.outShape[2]*a.outShape[3]*a.outShape[4],j=a.outShape[3]*a.outShape[4],_=a.outShape[4],S=0;S<a.batchSize;++S)for(var E=S*O,A=S*r[0],C=0;C<a.inChannels;++C)for(var N=0;N<a.outDepth;++N){for(var T=N*u-m,D=T;D<0;)D+=l;for(var I=Math.min(a.inDepth,h+T),M=E+N*k,F=0;F<a.outHeight;++F){for(var R=F*s-g,P=R;P<0;)P+=f;for(var z=Math.min(a.inHeight,p+R),B=M+F*j,L=0;L<a.outWidth;++L){for(var U=L*c-b,W=U;W<0;)W+=d;for(var V=Math.min(a.inWidth,v+U),H=B+L*_,G=y,q=0,X=0,Y=D;Y<I;Y+=l){for(var K=A+Y*r[1],$=P;$<z;$+=f){for(var Z=K+$*r[2],J=W;J<V;J+=d){var Q=e[Z+J*r[3]+C];if("max"===i&&Q>G?G=Q:"avg"===i&&(q+=Q,X++),isNaN(G))break}if(isNaN(G))break}if(isNaN(G))break}w[H+C]="avg"===i?q/X:G}}}return x}var sd={kernelName:o.AvgPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;Gl(a,"avgPool");var i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode;o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(u," and dilations '").concat(1,"'")}));var l,f=o.backend_util.computePool2DInfo(a.shape,i,u,1,s,c);if(1===f.filterWidth&&1===f.filterHeight&&o.util.arraysEqual(f.inShape,f.outShape))l=Jl({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,h=o.util.computeStrides(a.shape),p=id(d,a.shape,a.dtype,h,f,"avg");l=n.makeTensorInfo(f.outShape,a.dtype,p.values)}return l}};var cd={kernelName:o.AvgPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode,l=r.dataFormat;Gl(a,"avgPool3d");var f=o.backend_util.computePool3DInfo(a.shape,i,u,1,s,c,l),d=ud(n.data.get(a.dataId).values,a.shape,a.dtype,o.util.computeStrides(a.shape),f,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};var ld={kernelName:o.AvgPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode;Gl([a,i],"avgPool3DGrad");for(var f=o.backend_util.computePool3DInfo(i.shape,u,s,1,c,l),d=f.strideDepth,h=f.strideHeight,p=f.strideWidth,v=f.filterDepth,m=f.filterHeight,g=f.filterWidth,b=f.dilationDepth,y=f.dilationHeight,x=f.dilationWidth,w=f.effectiveFilterDepth,O=f.effectiveFilterHeight,k=f.effectiveFilterWidth,j=w-1-f.padInfo.front,_=k-1-f.padInfo.left,S=O-1-f.padInfo.top,E=Object(o.buffer)(i.shape,"float32"),A=1/(v*m*g),C=n.bufferSync(a),N=0;N<f.batchSize;++N)for(var T=0;T<f.inChannels;++T)for(var D=0;D<f.inDepth;++D)for(var I=0;I<f.inHeight;++I)for(var M=0;M<f.inWidth;++M){for(var F=D-j,R=I-S,P=M-_,z=0,B=0;B<w;B+=b){var L=(F+B)/d;if(!(L<0||L>=f.outDepth||Math.floor(L)!==L))for(var U=0;U<O;U+=y){var W=(R+U)/h;if(!(W<0||W>=f.outHeight||Math.floor(W)!==W))for(var V=0;V<k;V+=x){var H=(P+V)/p;if(!(H<0||H>=f.outWidth||Math.floor(H)!==H))z+=C.get(N,L,W,H,T)}}}E.set(z*A,N,D,I,M,T)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}};var fd={kernelName:o.AvgPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=i;Gl([a,i],"avgPoolGrad");for(var s=r.filterSize,c=r.strides,l=r.pad,f=o.backend_util.computePool2DInfo(u.shape,s,c,1,l),d=f.strideHeight,h=f.strideWidth,p=f.filterHeight,v=f.filterWidth,m=f.dilationHeight,g=f.dilationWidth,b=f.effectiveFilterHeight,y=f.effectiveFilterWidth,x=y-1-f.padInfo.left,w=b-1-f.padInfo.top,O=Object(o.buffer)(u.shape,"float32"),k=1/(p*v),j=n.data.get(a.dataId).values,_=Object(o.buffer)(a.shape,"float32",j),S=0;S<f.batchSize;++S)for(var E=0;E<f.inChannels;++E)for(var A=0;A<f.inHeight;++A)for(var C=0;C<f.inWidth;++C){for(var N=A-w,T=C-x,D=0,I=0;I<b;I+=m){var M=(N+I)/d;if(!(M<0||M>=f.outHeight||Math.floor(M)!==M))for(var F=0;F<y;F+=g){var R=(T+F)/h;if(!(R<0||R>=f.outWidth||Math.floor(R)!==R))D+=_.get(S,M,R,E)}}O.set(D*k,S,A,C,E)}return n.makeTensorInfo(O.shape,O.dtype,O.values)}};var dd={kernelName:o.FusedBatchNorm,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.scale,u=t.offset,s=t.mean,c=t.variance;o.util.assert(s.shape.length===c.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),o.util.assert(null==u||s.shape.length===u.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),o.util.assert(null==i||s.shape.length===i.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),Gl([a,s,c,i,u],"batchNorm");var l=r.varianceEpsilon;null==l&&(l=.001);for(var f=n.data.get(a.dataId).values,d=n.data.get(s.dataId).values,h=n.data.get(c.dataId).values,p=i?n.data.get(i.dataId).values:new Float32Array([1]),v=u?n.data.get(u.dataId).values:new Float32Array([0]),m=new Float32Array(f.length),g=v.length,b=p.length,y=h.length,x=d.length,w=0,O=0,k=0,j=0,_=0;_<f.length;++_)m[_]=v[w++]+(f[_]-d[O++])*p[k++]/Math.sqrt(h[j++]+l),w>=g&&(w=0),O>=x&&(O=0),k>=b&&(k=0),j>=y&&(j=0);return n.makeTensorInfo(a.shape,a.dtype,m)}};function hd(e,t,n,r,a){var i=o.slice_util.isSliceContinous(r,t,n),u=o.util.sizeFromShape(n),s=o.util.computeStrides(r);if(i){var c=o.slice_util.computeFlatOffset(t,s);return"string"===a?e.slice(c,c+u):e.subarray(c,c+u)}for(var l="string"===a?o.backend_util.fromUint8ToStringArray(e):e,f=Object(o.buffer)(r,a,l),d=Object(o.buffer)(n,a),h=0;h<d.size;++h){var p=d.indexToLoc(h),v=p.map((function(e,n){return e+t[n]}));d.set.apply(d,[f.get.apply(f,Object(Dn.a)(v))].concat(Object(Dn.a)(p)))}return"string"===a?o.backend_util.fromStringArrayToUint8(d.values):d.values}function pd(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,s=r.size;Gl(a,"slice");var c=o.slice_util.parseSliceParams(a,i,s),l=Object(u.a)(c,2),f=l[0],d=l[1];o.slice_util.assertParamsValid(a,f,d);var h=hd(n.data.get(a.dataId).values,f,d,a.shape,a.dtype);return n.makeTensorInfo(d,a.dtype,h)}var vd={kernelName:o.Slice,backendName:"cpu",kernelFunc:pd};var md={kernelName:o.BatchToSpaceND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,u=r.crops;Gl([a],"batchToSpaceND");var s=i.reduce((function(e,t){return e*t})),c=o.backend_util.getReshaped(a.shape,i,s),l=o.backend_util.getPermuted(c.length,i.length),f=o.backend_util.getReshapedPermuted(a.shape,i,s),d=o.backend_util.getSliceBeginCoords(u,i.length),h=o.backend_util.getSliceSize(f,u,i.length),p=Cf({inputs:{x:a},backend:n,attrs:{shape:c}}),v=Wf({inputs:{x:p},backend:n,attrs:{perm:l}}),m=Cf({inputs:{x:v},backend:n,attrs:{shape:f}}),g=pd({inputs:{x:m},backend:n,attrs:{begin:d,size:h}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),g}};function gd(e,t,n,r,a){for(var i=o.util.sizeFromShape(r),u=o.util.makeZerosTypedArray(a,n),s=0;s<e.length;s++){var c=e[s];if(c<0)throw new Error("Input x must be non-negative!");c>=a||(u[c]+=i>0?t[s]:1)}return u}function bd(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],i=e.shape[1],u=Object(o.buffer)([a,n],t.dtype),s=0;s<a;s++)for(var c=0;c<i;c++){var l=e.get(s,c);if(l<0)throw new Error("Input x must be non-negative!");l>=n||(r?u.set(1,s,l):t.size>0?u.set(u.get(s,l)+t.get(s,c),s,l):u.set(u.get(s,l)+1,s,l))}return u}var yd={kernelName:o.Bincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,u=gd(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}};var xd={kernelName:o.BroadcastArgs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,i=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,s=o.backend_util.assertAndGetBroadcastShape(Array.from(i),Array.from(u));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},wd=ff((function(e){return Math.ceil(e)})),Od=Kl(o.Ceil,wd),kd={kernelName:o.Ceil,backendName:"cpu",kernelFunc:Od},jd=Yl(o.ClipByValue,(function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),_d={kernelName:o.ClipByValue,backendName:"cpu",kernelFunc:jd},Sd={kernelName:o.ComplexAbs,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,r=new Float32Array(o.util.sizeFromShape(t.shape)),a=n.data.get(t.dataId),i=a.complexTensorInfos.real,u=a.complexTensorInfos.imag,s=n.data.get(i.dataId).values,c=n.data.get(u.dataId).values,l=0;l<s.length;l++){var f=s[l],d=c[l];r[l]=Math.hypot(f,d)}return n.makeOutput(r,t.shape,"float32")}};function Ed(e,t,n,r){var a=o.util.getArrayFromDType(n,o.util.sizeFromShape(t));if(r&&"string"!==n){var i=0;e.forEach((function(e){var t=o.util.sizeFromShape(e.shape);a.set(e.vals,i),i+=t}))}else{var u=0;e.forEach((function(e){for(var r="string"===n?o.backend_util.fromUint8ToStringArray(e.vals):e.vals,i=0,s=0;s<e.shape[0];++s)for(var c=s*t[1]+u,l=0;l<e.shape[1];++l)a[c+l]=r[i++];u+=e.shape[1]}))}return a}function Ad(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var Cd={kernelName:o.Imag,backendName:"cpu",kernelFunc:Ad};function Nd(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=o.util.parseAxisParam(r,t[0].shape)[0],i=o.backend_util.computeOutShape(t.map((function(e){return e.shape})),a);if(0===o.util.sizeFromShape(i))return n.makeTensorInfo(i,t[0].dtype,[]);var u=t.filter((function(e){return o.util.sizeFromShape(e.shape)>0}));if(1===u.length)return Jl({inputs:{x:u[0]},backend:n});var s=u.map((function(e){return e.shape}));if(o.backend_util.assertParamsConsistent(s,a),"complex64"===u[0].dtype){var c=u.map((function(e){return yf({inputs:{input:e},backend:n})})),l=u.map((function(e){return Ad({inputs:{input:e},backend:n})})),f=Nd({inputs:c,backend:n,attrs:{axis:a}}),d=Nd({inputs:l,backend:n,attrs:{axis:a}}),h=mf({inputs:{real:f,imag:d},backend:n});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),h}var p=u.map((function(e){var t=o.util.sizeFromShape(e.shape.slice(a));return Cf({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),v=p.map((function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}}));i=o.backend_util.computeOutShape(p.map((function(e){return e.shape})),1);var m=1===p[0].shape[0],g=Ed(v,i,t[0].dtype,m),b=o.backend_util.computeOutShape(u.map((function(e){return e.shape})),a),y=n.makeTensorInfo(b,t[0].dtype,g);return p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}var Td={kernelName:o.Concat,backendName:"cpu",kernelFunc:Nd};function Dd(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=r.strides,s=r.pad,c=r.dataFormat,l=r.dilations,f=r.dimRoundingMode;Gl([a,i],"conv2d");for(var d=o.backend_util.convertConv2DDataFormat(c),h=o.backend_util.computeConv2DInfo(a.shape,i.shape,u,l,s,f,!1,d),p=h.filterHeight,v=h.filterWidth,m=h.dilationHeight,g=h.dilationWidth,b=h.padInfo.left,y=h.padInfo.top,x="channelsLast"===h.dataFormat,w=new o.TensorBuffer(h.outShape,a.dtype),O=o.util.computeStrides(a.shape),k=o.util.computeStrides(i.shape),j=O[0],_=x?O[1]:O[2],S=x?O[2]:1,E=x?1:O[1],A=w.strides[0],C=x?w.strides[1]:w.strides[2],N=x?w.strides[2]:1,T=x?1:w.strides[1],D=n.data.get(a.dataId).values,I=n.data.get(i.dataId).values,M=w.values,F=0;F<h.batchSize;++F)for(var R=F*j,P=F*A,z=0;z<h.outHeight;++z)for(var B=P+z*C,L=z*h.strideHeight-y,U=0;U<p;++U){var W=L+U*m;if(!(W<0||W>=h.inHeight))for(var V=U*k[0],H=R+W*_,G=0;G<h.outWidth;++G)for(var q=B+G*N,X=G*h.strideWidth-b,Y=0;Y<v;++Y){var K=X+Y*g;if(!(K<0||K>=h.inWidth))for(var $=H+K*S,Z=V+Y*k[1],J=0;J<h.inChannels;++J){for(var Q=D[$+J*E],ee=0;ee<h.outChannels;++ee)M[q+ee*T]+=Q*I[Z+ee];Z+=h.outChannels}}}return n.makeTensorInfo(w.shape,w.dtype,M)}var Id={kernelName:o.Conv2D,backendName:"cpu",kernelFunc:Dd};var Md={kernelName:o.Conv2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,u=r.strides,s=r.pad,c=r.dataFormat,l=r.dimRoundingMode,f=r.filterShape;Gl([a,i],"conv2dBackpropFilter");for(var d=o.backend_util.convertConv2DDataFormat(c),h=o.backend_util.computeConv2DInfo(a.shape,f,u,1,s,l,!1,d),p=h.strideHeight,v=h.strideWidth,m=h.filterHeight,g=h.filterWidth,b="channelsLast"===h.dataFormat,y=new o.TensorBuffer(h.filterShape,"float32"),x=h.padInfo.left,w=h.padInfo.top,O=n.data.get(a.dataId).values,k=n.data.get(i.dataId).values,j=new o.TensorBuffer(a.shape,a.dtype,O),_=new o.TensorBuffer(i.shape,i.dtype,k),S=0;S<m;++S)for(var E=Math.max(0,Math.ceil((w-S)/p)),A=Math.min(h.outHeight,(h.inHeight+w-S)/p),C=0;C<g;++C)for(var N=Math.max(0,Math.ceil((x-C)/v)),T=Math.min(h.outWidth,(h.inWidth+x-C)/v),D=0;D<h.inChannels;++D)for(var I=0;I<h.outChannels;++I){for(var M=0,F=0;F<h.batchSize;++F)for(var R=E;R<A;++R)for(var P=S+R*p-w,z=N;z<T;++z){var B=C+z*v-x;M+=b?j.get(F,P,B,D)*_.get(F,R,z,I):j.get(F,D,P,B)*_.get(F,I,R,z)}y.set(M,S,C,D,I)}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var Fd={kernelName:o.Conv2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,s=r.inputShape,c=r.strides,l=r.pad,f=r.dataFormat,d=r.dimRoundingMode;Gl([a,i],"conv2dBackpropInput");var h=o.util.computeStrides(i.shape),p=o.util.computeStrides(a.shape),v=o.backend_util.convertConv2DDataFormat(f),m=o.backend_util.computeConv2DInfo(s,i.shape,c,1,l,d,!1,v),g=new o.TensorBuffer(m.inShape,"float32"),b=g.values,y=n.data.get(a.dataId).values,x=n.data.get(i.dataId).values,w=Object(u.a)(h,3),O=w[0],k=w[1],j=w[2],_=m.batchSize,S=m.filterHeight,E=m.filterWidth,A=m.inChannels,C=m.inHeight,N=m.inWidth,T=m.outChannels,D=m.outHeight,I=m.outWidth,M=m.strideHeight,F=m.strideWidth;v=m.dataFormat;for(var R=S-1-m.padInfo.top,P=E-1-m.padInfo.left,z="channelsLast"===v,B=g.strides[0],L=z?g.strides[1]:g.strides[2],U=z?g.strides[2]:1,W=z?1:g.strides[1],V=p[0],H=z?p[1]:p[2],G=z?p[2]:1,q=z?1:p[1],X=0;X<_;++X)for(var Y=0;Y<A;++Y)for(var K=0;K<C;++K)for(var $=K-R,Z=Math.max(0,Math.ceil($/M)),J=Math.min(D,(S+$)/M),Q=0;Q<N;++Q){for(var ee=Q-P,te=Math.max(0,Math.ceil(ee/F)),ne=Math.min(I,(E+ee)/F),re=0,ae=Z;ae<J;++ae)for(var ie=ae*M-$,oe=te;oe<ne;++oe)for(var ue=V*X+H*ae+G*oe,se=O*(S-1-ie)+k*(E-1-(oe*F-ee))+j*Y,ce=0;ce<T;++ce){re+=y[ue+q*ce]*x[se+ce]}b[B*X+L*K+U*Q+W*Y]=re}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var Rd={kernelName:o.Conv3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=r.strides,s=r.pad,c=r.dilations;Gl([a,i],"conv3d");for(var l=o.backend_util.computeConv3DInfo(a.shape,i.shape,u,c,s),f=l.filterDepth,d=l.filterHeight,h=l.filterWidth,p=l.dilationDepth,v=l.dilationHeight,m=l.dilationWidth,g=l.padInfo,b=g.front,y=g.left,x=g.top,w=new o.TensorBuffer(l.outShape,a.dtype),O=n.data.get(a.dataId).values,k=n.data.get(i.dataId).values,j=w.values,_=o.util.computeStrides(a.shape),S=o.util.computeStrides(i.shape),E=0;E<l.batchSize;++E)for(var A=E*_[0],C=E*w.strides[0],N=0;N<l.outDepth;++N)for(var T=C+N*w.strides[1],D=N*l.strideDepth-b,I=0;I<f;++I){var M=D+I*p;if(!(M<0||M>=l.inDepth))for(var F=I*S[0],R=A+M*_[1],P=0;P<l.outHeight;++P)for(var z=T+P*w.strides[2],B=P*l.strideHeight-x,L=0;L<d;++L){var U=B+L*v;if(!(U<0||U>=l.inHeight))for(var W=F+L*S[1],V=R+U*_[2],H=0;H<l.outWidth;++H)for(var G=z+H*l.outChannels,q=H*l.strideWidth-y,X=0;X<h;++X){var Y=q+X*m;if(!(Y<0||Y>=l.inWidth))for(var K=W+X*S[2],$=V+Y*l.inChannels,Z=K,J=0;J<l.inChannels;++J){for(var Q=O[$+J],ee=0;ee<l.outChannels;++ee)j[G+ee]+=Q*k[Z+ee];Z+=l.outChannels}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var Pd={kernelName:o.Conv3DBackpropFilterV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,s=r.strides,c=r.pad,l=r.filterShape;Gl([a,i],"conv3dBackpropFilterV2");for(var f=o.util.computeStrides(a.shape),d=o.util.computeStrides(i.shape),h=o.backend_util.computeConv3DInfo(a.shape,l,s,1,c),p=h.strideDepth,v=h.strideHeight,m=h.strideWidth,g=h.filterDepth,b=h.filterHeight,y=h.filterWidth,x=new o.TensorBuffer(h.filterShape,"float32"),w=x.values,O=Object(u.a)(x.strides,4),k=O[0],j=O[1],_=O[2],S=O[3],E=n.data.get(i.dataId).values,A=Object(u.a)(d,4),C=A[0],N=A[1],T=A[2],D=A[3],I=n.data.get(a.dataId).values,M=Object(u.a)(f,4),F=M[0],R=M[1],P=M[2],z=M[3],B=h.padInfo.front,L=h.padInfo.left,U=h.padInfo.top,W=0;W<g;++W)for(var V=Math.max(0,Math.ceil((B-W)/p)),H=Math.min(h.outDepth,(h.inDepth+B-W)/p),G=W*k,q=0;q<b;++q)for(var X=Math.max(0,Math.ceil((U-q)/v)),Y=Math.min(h.outHeight,(h.inHeight+U-q)/v),K=q*j+G,$=0;$<y;++$)for(var Z=Math.max(0,Math.ceil((L-$)/m)),J=Math.min(h.outWidth,(h.inWidth+L-$)/m),Q=$*_+K,ee=0;ee<h.inChannels;++ee)for(var te=ee*S+Q,ne=0;ne<h.outChannels;++ne){for(var re=0,ae=0;ae<h.batchSize;++ae)for(var ie=ae*F,oe=ae*C,ue=V;ue<H;++ue)for(var se=(W+ue*p-B)*R+ie,ce=ue*N+oe,le=X;le<Y;++le)for(var fe=(q+le*v-U)*P+se,de=le*T+ce,he=Z;he<J;++he){var pe=he*D+de;re+=I[($+he*m-L)*z+fe+ee]*E[pe+ne]}w[te+ne]=re}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var zd={kernelName:o.Conv3DBackpropInputV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,s=r.pad,c=r.strides,l=r.inputShape;Gl([a],"conv3dBackpropInputV2");for(var f=o.util.computeStrides(a.shape),d=o.util.computeStrides(i.shape),h=o.backend_util.computeConv3DInfo(l,i.shape,c,1,s),p=new o.TensorBuffer(h.inShape,"float32"),v=p.values,m=Object(u.a)(p.strides,4),g=m[0],b=m[1],y=m[2],x=m[3],w=n.data.get(a.dataId).values,O=Object(u.a)(f,4),k=O[0],j=O[1],_=O[2],S=O[3],E=n.data.get(i.dataId).values,A=Object(u.a)(d,4),C=A[0],N=A[1],T=A[2],D=A[3],I=h.batchSize,M=h.filterDepth,F=h.filterHeight,R=h.filterWidth,P=h.inChannels,z=h.inDepth,B=h.inHeight,L=h.inWidth,U=h.outChannels,W=h.outDepth,V=h.outHeight,H=h.outWidth,G=h.strideDepth,q=h.strideHeight,X=h.strideWidth,Y=M-1-h.padInfo.front,K=F-1-h.padInfo.top,$=R-1-h.padInfo.left,Z=0;Z<I;++Z)for(var J=0;J<P;++J)for(var Q=0;Q<z;++Q)for(var ee=Q-Y,te=Math.max(0,Math.ceil(ee/G)),ne=Math.min(W,(M+ee)/G),re=0;re<B;++re)for(var ae=re-K,ie=Math.max(0,Math.ceil(ae/q)),oe=Math.min(V,(F+ae)/q),ue=0;ue<L;++ue){for(var se=ue-$,ce=Math.max(0,Math.ceil(se/X)),le=Math.min(H,(R+se)/X),fe=0,de=te;de<ne;++de)for(var he=de*G-ee,pe=ie;pe<oe;++pe)for(var ve=pe*q-ae,me=ce;me<le;++me)for(var ge=k*Z+j*de+_*pe+S*me,be=C*(M-1-he)+N*(F-1-ve)+T*(R-1-(me*X-se))+D*J,ye=0;ye<U;++ye){fe+=w[ge+ye]*E[be+ye]}v[g*Z+b*Q+y*re+x*ue+J]=fe}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},Bd=Yl(o.Cos,(function(e){return Math.cos(e)})),Ld={kernelName:o.Cos,backendName:"cpu",kernelFunc:Bd},Ud=Yl(o.Cosh,(function(e){return Math.cosh(e)})),Wd={kernelName:o.Cosh,backendName:"cpu",kernelFunc:Ud};var Vd={kernelName:o.CropAndResize,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.boxes,s=t.boxInd,c=r.cropSize,l=r.method,f=r.extrapolationValue,d=Object(u.a)(a.shape,4),h=d[0],p=d[1],v=d[2],m=d[3],g=i.shape[0],b=Object(u.a)(c,2),y=b[0],x=b[1],w=Object(o.buffer)([g,y,x,m],"float32"),O=n.data.get(i.dataId).values,k=n.data.get(s.dataId).values,j=n.data.get(a.dataId).values,_=o.util.computeStrides(a.shape),S=o.util.computeStrides(w.shape),E=0;E<g;E++){var A=4*E,C=O[A],N=O[A+1],T=O[A+2],D=O[A+3],I=k[E];if(!(I>=h))for(var M=y>1?(T-C)*(p-1)/(y-1):0,F=x>1?(D-N)*(v-1)/(x-1):0,R=0;R<y;R++){var P=y>1?C*(p-1)+R*M:.5*(C+T)*(p-1);if(P<0||P>p-1)for(var z=0;z<x;z++)for(var B=0;B<m;B++){var L=B+z*S[2]+R*S[1]+E*S[0];w.values[L]=f}else if("bilinear"===l)for(var U=Math.floor(P),W=Math.ceil(P),V=P-U,H=0;H<x;H++){var G=x>1?N*(v-1)+H*F:.5*(N+D)*(v-1);if(G<0||G>v-1)for(var q=0;q<m;q++){var X=q+H*S[2]+R*S[1]+E*S[0];w.values[X]=f}else for(var Y=Math.floor(G),K=Math.ceil(G),$=G-Y,Z=0;Z<m;Z++){var J=Z+Y*_[2]+U*_[1]+I*_[0],Q=j[J],ee=j[J=Z+K*_[2]+U*_[1]+I*_[0]],te=j[J=Z+Y*_[2]+W*_[1]+I*_[0]],ne=Q+(ee-Q)*$,re=te+(j[J=Z+K*_[2]+W*_[1]+I*_[0]]-te)*$;J=Z+H*S[2]+R*S[1]+E*S[0],w.values[J]=ne+(re-ne)*V}}else for(var ae=0;ae<x;++ae){var ie=x>1?N*(v-1)+ae*F:.5*(N+D)*(v-1);if(ie<0||ie>v-1)for(var oe=0;oe<m;oe++){var ue=oe+ae*S[2]+R*S[1]+E*S[0];w.values[ue]=f}else for(var se=Math.round(ie),ce=Math.round(P),le=0;le<m;le++){var fe=le+se*_[2]+ce*_[1]+I*_[0],de=le+ae*S[2]+R*S[1]+E*S[0];w.values[de]=j[fe]}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var Hd={kernelName:o.Cumsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,u=r.exclusive,s=r.reverse;Gl(a,"cumsum");var c=o.backend_util.getAxesPermutation([i],a.shape.length),l=a;null!=c&&(l=Wf({inputs:{x:a},backend:n,attrs:{perm:c}}));var f=o.backend_util.getInnerMostAxes(1,a.shape.length)[0];if(f!==l.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(f));for(var d=Object(o.upcastType)(l.dtype,"int32"),h=o.util.makeZerosTypedArray(o.util.sizeFromShape(l.shape),d),p=n.data.get(l.dataId).values,v=l.shape[l.shape.length-1],m=s?function(e,t){return e+v-t-1}:function(e,t){return e+t},g=0;g<p.length;g+=v)for(var b=0;b<v;b++){var y=m(g,b);if(0===b)h[y]=u?0:p[y];else{var x=m(g,b-1);h[y]=u?p[x]+h[x]:p[y]+h[x]}}var w=n.makeTensorInfo(l.shape,d,h);if(null!=c){var O=Wf({inputs:{x:w},backend:n,attrs:{perm:o.backend_util.getUndoAxesPermutation(c)}});return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(l),O}return w}};var Gd={kernelName:o.DenseBincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,u=r.binaryOutput;if(1===a.shape.length){var s=gd(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,s)}if(2===a.shape.length){var c=bd(n.bufferSync(a),n.bufferSync(i),o,u);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}};var qd={kernelName:o.DepthToSpace,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockSize,u=r.dataFormat;o.util.assert("NHWC"===u,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(u)}));for(var s=a.shape[0],c=a.shape[1],l=a.shape[2],f=a.shape[3],d=c*i,h=l*i,p=f/(i*i),v=n.data.get(a.dataId).values,m=new Float32Array(s*d*h*p),g=0,b=0;b<s;++b)for(var y=0;y<d;++y)for(var x=Math.floor(y/i),w=y%i,O=0;O<h;++O)for(var k=Math.floor(O/i),j=(w*i+O%i)*p,_=0;_<p;++_){var S=_+j+f*(k+l*(x+c*b));m[g++]=v[S]}return n.makeTensorInfo([s,d,h,p],a.dtype,m)}};function Xd(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=r.strides,s=r.pad,c=r.dilations,l=r.dimRoundingMode;Gl([a,i],"depthwiseConv2DNative");var f=o.util.computeStrides(a.shape),d=o.util.computeStrides(i.shape),h=c;null==h&&(h=[1,1]),o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,h),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(u," and dilations '").concat(h,"'")}));for(var p=o.backend_util.computeConv2DInfo(a.shape,i.shape,u,h,s,l,!0),v=p.filterHeight,m=p.filterWidth,g=p.dilationHeight,b=p.dilationWidth,y=p.padInfo,x=y.left,w=y.top,O=p.outChannels/p.inChannels,k=new o.TensorBuffer(p.outShape,a.dtype),j=n.data.get(a.dataId).values,_=n.data.get(i.dataId).values,S=k.values,E=0;E<p.batchSize;++E)for(var A=E*f[0],C=E*k.strides[0],N=0;N<p.outHeight;++N)for(var T=C+N*k.strides[1],D=N*p.strideHeight-w,I=0;I<v;++I){var M=D+I*g;if(!(M<0||M>=p.inHeight))for(var F=I*d[0],R=A+M*f[1],P=0;P<p.outWidth;++P)for(var z=T+P*k.strides[2],B=P*p.strideWidth-x,L=0;L<m;++L){var U=B+L*b;if(!(U<0||U>=p.inWidth))for(var W=F+L*d[1],V=R+U*p.inChannels,H=z,G=W,q=0;q<p.inChannels;++q){for(var X=j[V+q],Y=0;Y<O;++Y)S[H+Y]+=X*_[G+Y];H+=O,G+=O}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}var Yd={kernelName:o.DepthwiseConv2dNative,backendName:"cpu",kernelFunc:Xd};var Kd={kernelName:o.DepthwiseConv2dNativeBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,u=r.strides,s=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.filterShape;Gl([a,i],"depthwiseConv2dNativeBackpropFilter");for(var d=o.backend_util.computeConv2DInfo(a.shape,f,u,s,c,l,!0),h=d.strideHeight,p=d.strideWidth,v=d.filterHeight,m=d.filterWidth,g=new o.TensorBuffer(d.filterShape,"float32"),b=d.padInfo.left,y=d.padInfo.top,x=d.outChannels/d.inChannels,w=n.data.get(a.dataId).values,O=new o.TensorBuffer(a.shape,a.dtype,w),k=n.data.get(i.dataId).values,j=new o.TensorBuffer(i.shape,i.dtype,k),_=0;_<v;++_)for(var S=Math.max(0,Math.ceil((y-_)/h)),E=Math.min(d.outHeight,(d.inHeight+y-_)/h),A=0;A<m;++A)for(var C=Math.max(0,Math.ceil((b-A)/p)),N=Math.min(d.outWidth,(d.inWidth+b-A)/p),T=0;T<d.outChannels;++T){for(var D=Math.trunc(T/x),I=T%x,M=0,F=0;F<d.batchSize;++F)for(var R=S;R<E;++R)for(var P=_+R*h-y,z=C;z<N;++z){var B=A+z*p-b;M+=O.get(F,P,B,D)*j.get(F,R,z,T)}g.set(M,_,A,D,I)}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var $d={kernelName:o.DepthwiseConv2dNativeBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,s=r.strides,c=r.dilations,l=r.pad,f=r.dimRoundingMode,d=r.inputShape;Gl([a,i],"depthwiseConv2DNativeBackpropInput");for(var h=o.util.computeStrides(a.shape),p=o.util.computeStrides(i.shape),v=o.backend_util.computeConv2DInfo(d,i.shape,s,c,l,f,!0),m=new o.TensorBuffer(v.inShape,"float32"),g=m.values,b=Object(u.a)(m.strides,3),y=b[0],x=b[1],w=b[2],O=n.data.get(a.dataId).values,k=Object(u.a)(h,3),j=k[0],_=k[1],S=k[2],E=n.data.get(i.dataId).values,A=Object(u.a)(p,3),C=A[0],N=A[1],T=A[2],D=v.batchSize,I=v.filterHeight,M=v.filterWidth,F=v.inChannels,R=v.inHeight,P=v.inWidth,z=v.outChannels,B=v.outHeight,L=v.outWidth,U=v.strideHeight,W=v.strideWidth,V=I-1-v.padInfo.top,H=M-1-v.padInfo.left,G=z/F,q=0;q<D;++q)for(var X=0;X<F;++X)for(var Y=0;Y<R;++Y)for(var K=Y-V,$=Math.max(0,Math.ceil(K/U)),Z=Math.min(B,(I+K)/U),J=0;J<P;++J){for(var Q=J-H,ee=Math.max(0,Math.ceil(Q/W)),te=Math.min(L,(M+Q)/W),ne=0,re=$;re<Z;++re)for(var ae=re*U-K,ie=ee;ie<te;++ie)for(var oe=j*q+_*re+S*ie,ue=C*(I-1-ae)+N*(M-1-(ie*W-Q))+T*X,se=0;se<G;++se){ne+=O[oe+(X*G+se)]*E[ue+se]}g[y*q+x*Y+w*J+X]=ne}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};var Zd={kernelName:o.Diag,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=t.x,a=o.util.sizeFromShape(r.shape),i=n.data.get(r.dataId).values,u=Object(o.buffer)([a,a],r.dtype),s=u.values,c=0;c<i.length;c++)s[c*a+c]=i[c];var l=[].concat(Object(Dn.a)(r.shape),Object(Dn.a)(r.shape));return n.makeTensorInfo(l,u.dtype,u.values)}},Jd={kernelName:o.Dilation2D,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=r.strides,s=r.pad,c=r.dilations,l=n,f=l.data.get(a.dataId).values,d=a.shape.length,h=l.data.get(i.dataId).values,p=i.shape.length,v=o.backend_util.computeDilation2DInfo(a.shape,i.shape,u,s,"NHWC",c),m=v.batchSize,g=v.inHeight,b=v.inWidth,y=v.inChannels,x=v.outHeight,w=v.outWidth,O=v.padInfo,k=v.strideHeight,j=v.strideWidth,_=v.filterHeight,S=v.filterWidth,E=v.dilationHeight,A=v.dilationWidth,C=v.outShape,N=o.util.sizeFromShape(C),T=C.length,D=o.util.getArrayFromDType(a.dtype,N),I=0;I<m;++I)for(var M=0;M<x;++M)for(var F=M*k-O.top,R=0;R<w;++R)for(var P=R*j-O.left,z=0;z<y;++z){for(var B=Number.MIN_SAFE_INTEGER,L=0;L<_;++L){var U=F+L*E;if(U>=0&&U<g)for(var W=0;W<S;++W){var V=P+W*A;if(V>=0&&V<b){var H=o.util.locToIndex([I,U,V,z],d,o.util.computeStrides(a.shape)),G=o.util.locToIndex([L,W,z],p,o.util.computeStrides(i.shape)),q=f[H]+h[G];q>B&&(B=q)}}}D[o.util.locToIndex([I,M,R,z],T,o.util.computeStrides(C))]=B}return{dataId:l.write(o.util.toTypedArray(D,a.dtype),C,a.dtype),shape:C,dtype:a.dtype}}},Qd={kernelName:o.Dilation2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=t.dy,s=r.strides,c=r.pad,l=r.dilations,f=n,d=o.util.toNestedArray(a.shape,f.data.get(a.dataId).values),h=o.util.toNestedArray(i.shape,f.data.get(i.dataId).values),p=o.backend_util.computeDilation2DInfo(a.shape,i.shape,s,c,"NHWC",l),v=p.batchSize,m=p.inHeight,g=p.inWidth,b=p.inChannels,y=p.outHeight,x=p.outWidth,w=p.padInfo,O=p.strideHeight,k=p.strideWidth,j=p.filterHeight,_=p.filterWidth,S=p.dilationHeight,E=p.dilationWidth,A=p.outShape;o.util.assert(u.rank===A.length,(function(){return"Error in ".concat(o.Dilation2DBackpropFilter,", dy ")+"must have the same rank as output ".concat(A.length,", but got ")+"".concat(u.rank)}));for(var C=o.util.toNestedArray(A,f.data.get(u.dataId).values),N=o.util.makeZerosNestedTypedArray(i.shape,i.dtype),T=0;T<v;++T)for(var D=0;D<y;++D)for(var I=D*O-w.top,M=0;M<x;++M)for(var F=M*k-w.left,R=0;R<b;++R){for(var P=Number.MIN_SAFE_INTEGER,z=0,B=0,L=0;L<j;++L){var U=I+L*S;if(U>=0&&U<m)for(var W=0;W<_;++W){var V=F+W*E;if(V>=0&&V<g){var H=d[T][U][V][R]+h[L][W][R];H>P&&(P=H,z=L,B=W)}}}N[z][B][R]+=C[T][D][M][R]}return{dataId:f.write(o.util.toTypedArray(N,a.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},eh={kernelName:o.Dilation2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=t.dy,s=r.strides,c=r.pad,l=r.dilations,f=n,d=o.util.toNestedArray(a.shape,f.data.get(a.dataId).values),h=o.util.toNestedArray(i.shape,f.data.get(i.dataId).values),p=o.backend_util.computeDilation2DInfo(a.shape,i.shape,s,c,"NHWC",l),v=p.batchSize,m=p.inHeight,g=p.inWidth,b=p.inChannels,y=p.outHeight,x=p.outWidth,w=p.padInfo,O=p.strideHeight,k=p.strideWidth,j=p.filterHeight,_=p.filterWidth,S=p.dilationHeight,E=p.dilationWidth,A=p.outShape;o.util.assert(u.rank===A.length,(function(){return"Error in ".concat(o.Dilation2DBackpropInput,", dy ")+"must have the same rank as output ".concat(A.length,", but got ")+"".concat(u.rank)}));for(var C=o.util.toNestedArray(A,f.data.get(u.dataId).values),N=o.util.makeZerosNestedTypedArray(a.shape,a.dtype),T=0;T<v;++T)for(var D=0;D<y;++D)for(var I=D*O-w.top,M=0;M<x;++M)for(var F=M*k-w.left,R=0;R<b;++R){for(var P=Number.MIN_SAFE_INTEGER,z=I<0?0:I,B=F<0?0:F,L=0;L<j;++L){var U=I+L*S;if(U>=0&&U<m)for(var W=0;W<_;++W){var V=F+W*E;if(V>=0&&V<g){var H=d[T][U][V][R]+h[L][W][R];H>P&&(P=H,z=U,B=V)}}}N[T][z][B][R]+=C[T][D][M][R]}return{dataId:f.write(o.util.toTypedArray(N,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},th=nf((function(e,t){return e*t})),nh=jf((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})),rh=kf(o.Multiply,th,nh),ah={kernelName:o.Multiply,backendName:"cpu",kernelFunc:rh};function ih(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,s=a.axis,c=a.keepDims;Gl(i,"sum");var l=(t="bool"===i.dtype?wf({inputs:{x:i},backend:r,attrs:{dtype:"int32"}}):Jl({inputs:{x:i},backend:r})).shape.length,f=o.util.parseAxisParam(s,t.shape),d=o.backend_util.getAxesPermutation(f,l),h=f,p=t;null!=d&&(p=Wf({inputs:{x:t},backend:r,attrs:{perm:d}}),h=o.backend_util.getInnerMostAxes(h.length,l)),o.backend_util.assertAxesAreInnerMostDims("sum",h,p.shape.length);for(var v=o.backend_util.computeOutAndReduceShapes(p.shape,h),m=Object(u.a)(v,2),g=m[0],b=m[1],y=bf(r,g,o.backend_util.upcastType(p.dtype,"int32")),x=o.util.sizeFromShape(b),w=r.data.get(y.dataId).values,O=r.data.get(p.dataId).values,k=0;k<w.length;++k){for(var j=k*x,_=0,S=0;S<x;++S)_+=O[j+S];w[k]=_}if(c){var E=y;y=Cf({inputs:{x:y},backend:r,attrs:{shape:o.backend_util.expandShapeToKeepDim(y.shape,f)}}),r.disposeIntermediateTensorInfo(E)}return r.disposeIntermediateTensorInfo(t),null!=d&&r.disposeIntermediateTensorInfo(p),y}var oh={kernelName:o.Sum,backendName:"cpu",kernelFunc:ih};var uh={kernelName:o.Einsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,i=o.backend_util.decodeEinsumEquation(r,a.length),u=i.allDims,s=i.summedDims,c=i.idDims;o.backend_util.checkEinsumDimSizes(u.length,c,a);for(var l=o.backend_util.getEinsumComputePath(s,c),f=l.path,d=l.steps,h=d.length,p=null,v=u.length,m=[],g=0;g<h;++g){var b,y=Object(In.a)(d[g]);try{for(y.s();!(b=y.n()).done;){var x=b.value,w=o.backend_util.getEinsumPermutation(v,c[x]),O=w.permutationIndices,k=w.expandDims,j=void 0;o.backend_util.isIdentityPermutation(O)?j=a[x]:(j=Wf({inputs:{x:a[x]},backend:n,attrs:{perm:O}}),m.push(j));for(var _=j.shape.slice(),S=0;S<k.length;++S)_.splice(k[S],0,1);o.util.arraysEqual(j.shape,_)||(j=Cf({inputs:{x:j},backend:n,attrs:{shape:_}}),m.push(j)),null===p?p=j:(p=rh({inputs:{a:j,b:p},backend:n}),m.push(p))}}catch(N){y.e(N)}finally{y.f()}g<h-1&&(f[g]>=0&&(p=ih({inputs:{x:p},backend:n,attrs:{axis:f[g]-(u.length-v),keepDims:!1}}),m.push(p)),v--)}for(var E=0,A=m;E<A.length;E++){var C=A[E];C!==p&&n.disposeIntermediateTensorInfo(C)}return p}};var sh={kernelName:o.EluGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y;Gl([r,a],"eluGrad");for(var i=new Float32Array(o.util.sizeFromShape(a.shape)),u=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values,c=0;c<u.length;++c){var l=u[c];i[c]=l>=1?s[c]:s[c]*(l+1)}return n.makeTensorInfo(a.shape,"float32",i)}},ch=nf((function(e,t){return e===t?1:0})),lh=kf(o.Equal,ch,null,"bool"),fh={kernelName:o.Equal,backendName:"cpu",kernelFunc:lh},dh=o.backend_util.ERF_P,hh=o.backend_util.ERF_A1,ph=o.backend_util.ERF_A2,vh=o.backend_util.ERF_A3,mh=o.backend_util.ERF_A4,gh=o.backend_util.ERF_A5,bh=Yl(o.Erf,(function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+dh*n);return t*(1-((((gh*r+mh)*r+vh)*r+ph)*r+hh)*r*Math.exp(-n*n))})),yh={kernelName:o.Erf,backendName:"cpu",kernelFunc:bh},xh=ff((function(e){return Math.exp(e)})),wh=Kl(o.Exp,xh,"float32"),Oh={kernelName:o.Exp,backendName:"cpu",kernelFunc:wh};function kh(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.input,i=r.dim,u=a.shape.length,s=a.shape.slice(),c=i;return i<0&&(o.util.assert(-(u+1)<=i,(function(){return"Axis must be in the interval [".concat(-(u+1),", ").concat(u,"]")})),c=u+i+1),s.splice(c,0,1),Cf({inputs:{x:a},backend:n,attrs:{shape:s}})}var jh={kernelName:o.ExpandDims,backendName:"cpu",kernelFunc:kh},_h=ff((function(e){return Math.expm1(e)})),Sh=Kl(o.Expm1,_h),Eh={kernelName:o.Expm1,backendName:"cpu",kernelFunc:Sh},Ah=nf((function(e,t){return e/t})),Ch=kf(o.RealDiv,Ah),Nh={kernelName:o.RealDiv,backendName:"cpu",kernelFunc:Ch},Th=nf((function(e,t){return e-t})),Dh=jf((function(e,t,n,r){return{real:e-n,imag:t-r}})),Ih=kf(o.Sub,Th,Dh),Mh={kernelName:o.Sub,backendName:"cpu",kernelFunc:Ih};function Fh(e,t,n){for(var r=e.shape,a=r[0],i=r[1],u=n.data.get(e.dataId),s=u.complexTensorInfos.real,c=u.complexTensorInfos.imag,l=[a,i],f=o.util.sizeFromShape(l),d=o.util.getTypedArrayFromDType("float32",f),h=o.util.getTypedArrayFromDType("float32",f),p=0;p<a;p++){for(var v=pd({inputs:{x:s},backend:n,attrs:{begin:[p,0],size:[1,i]}}),m=pd({inputs:{x:c},backend:n,attrs:{begin:[p,0],size:[1,i]}}),g=mf({inputs:{real:v,imag:m},backend:n}),b=Rh(g,t,n),y=b.real,x=b.imag,w=o.backend_util.mergeRealAndImagArrays(y,x),O=0;O<i;O++){var k=o.backend_util.getComplexWithIndex(w,O);d[p*i+O]=k.real,h[p*i+O]=k.imag}n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g)}var j=n.makeTensorInfo(l,"float32",d),_=n.makeTensorInfo(l,"float32",h),S=mf({inputs:{real:j,imag:_},backend:n});return n.disposeIntermediateTensorInfo(j),n.disposeIntermediateTensorInfo(_),S}function Rh(e,t,n){var r=o.util.sizeFromShape(e.shape),a=n.data.get(e.dataId),i=n.data.get(a.complexTensorInfos.real.dataId).values,u=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((b=r)&b-1)){var s=Ph(i,u,r,t,n),c=[e.shape[0],e.shape[1]];if(t){var l=n.makeTensorInfo(c,"float32",s.real),f=n.makeTensorInfo(c,"float32",s.imag),d=n.makeTensorInfo([],"float32",o.util.createScalarValue(r,"float32")),h=Jl({inputs:{x:d},backend:n}),p=Nh.kernelFunc({inputs:{a:l,b:d},backend:n}),v=Nh.kernelFunc({inputs:{a:f,b:h},backend:n}),m=n.data.get(p.dataId).values,g=n.data.get(v.dataId).values;return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),{real:m,imag:g}}return s}var b,y=function(e,t,n){for(var r=new Float32Array(2*t),a=0;a<t;a++){for(var i=0,u=0,s=0;s<t;s++){var c=o.backend_util.exponent(a*s,t,n),l=o.backend_util.getComplexWithIndex(e,s);i+=l.real*c.real-l.imag*c.imag,u+=l.real*c.imag+l.imag*c.real}n&&(i/=t,u/=t),o.backend_util.assignToTypedArray(r,i,u,a)}return r}(o.backend_util.mergeRealAndImagArrays(i,u),r,t);return o.backend_util.splitRealAndImagArrays(y)}function Ph(e,t,n,r,a){if(1===n)return{real:e,imag:t};var i=o.backend_util.mergeRealAndImagArrays(e,t),u=n/2,s=o.backend_util.complexWithEvenIndex(i),c=s.real,l=s.imag,f=[c.length],d=a.makeTensorInfo(f,"float32",c),h=a.makeTensorInfo(f,"float32",l),p=mf({inputs:{real:d,imag:h},backend:a}),v=o.backend_util.complexWithOddIndex(i),m=v.real,g=v.imag,b=[m.length],y=a.makeTensorInfo(b,"float32",m),x=a.makeTensorInfo(b,"float32",g),w=mf({inputs:{real:y,imag:x},backend:a}),O=Ph(c,l,u,r,a),k=O.real,j=O.imag,_=[k.length],S=a.makeTensorInfo(_,"float32",k),E=a.makeTensorInfo(_,"float32",j),A=mf({inputs:{real:S,imag:E},backend:a}),C=Ph(m,g,u,r,a),N=C.real,T=C.imag,D=[N.length],I=a.makeTensorInfo(D,"float32",N),M=a.makeTensorInfo(D,"float32",T),F=mf({inputs:{real:I,imag:M},backend:a}),R=o.backend_util.exponents(n,r),P=[R.real.length],z=a.makeTensorInfo(P,"float32",R.real),B=a.makeTensorInfo(P,"float32",R.imag),L=mf({inputs:{real:z,imag:B},backend:a}),U=rh({inputs:{a:L,b:F},backend:a}),W=Ef({inputs:{a:A,b:U},backend:a}),V=Ih({inputs:{a:A,b:U},backend:a}),H=yf({inputs:{input:W},backend:a}),G=yf({inputs:{input:V},backend:a}),q=Ad({inputs:{input:W},backend:a}),X=Ad({inputs:{input:V},backend:a}),Y=Nd({inputs:[H,G],backend:a,attrs:{axis:0}}),K=Nd({inputs:[q,X],backend:a,attrs:{axis:0}}),$=a.data.get(Y.dataId).values,Z=a.data.get(K.dataId).values;return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(y),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(w),a.disposeIntermediateTensorInfo(S),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(A),a.disposeIntermediateTensorInfo(I),a.disposeIntermediateTensorInfo(M),a.disposeIntermediateTensorInfo(F),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(L),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(X),a.disposeIntermediateTensorInfo(Y),a.disposeIntermediateTensorInfo(K),{real:$,imag:Z}}var zh={kernelName:o.FFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=o.util.sizeFromShape(r.shape),i=r.shape[r.shape.length-1],u=Cf({inputs:{x:r},backend:n,attrs:{shape:[a/i,i]}}),s=Fh(u,!1,n),c=Cf({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(s),c}};function Bh(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,i=n.dtype||o.util.inferDtype(a),u=o.util.getArrayFromDType(i,o.util.sizeFromShape(r));return function(e,t,n){e.fill(t)}(u,a),t.makeTensorInfo(r,i,u)}var Lh={kernelName:o.Fill,backendName:"cpu",kernelFunc:Bh};var Uh={kernelName:o.FlipLeftRight,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),r=t.image,a=n,i=o.util.getTypedArrayFromDType(r.dtype,o.util.sizeFromShape(r.shape)),s=Object(u.a)(r.shape,4),c=s[0],l=s[1],f=s[2],d=s[3],h=a.data.get(r.dataId).values,p=0;p<c;p++)for(var v=p*f*l*d,m=0;m<l;m++)for(var g=m*(f*d),b=0;b<f;b++)for(var y=b*d,x=0;x<d;x++){var w=Math.round(f-b-1),O=v+g+y+x,k=h[O];if(w>=0&&w<f)k=h[v+g+w*d+x];i[O]=k}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Wh=ff((function(e){return Math.floor(e)})),Vh=Kl(o.Floor,Wh),Hh={kernelName:o.Floor,backendName:"cpu",kernelFunc:Vh},Gh=nf((function(e,t){return Math.floor(e/t)})),qh=kf(o.FloorDiv,Gh,null,"int32"),Xh={kernelName:o.FloorDiv,backendName:"cpu",kernelFunc:qh};var Yh={kernelName:o.FusedConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,u=t.preluActivationWeights,s=r.strides,c=r.pad,l=r.dataFormat,f=r.dilations,d=r.dimRoundingMode,h=r.activation,p=r.leakyreluAlpha,v=Dd({inputs:{x:a,filter:i},backend:n,attrs:{strides:s,pad:c,dataFormat:l,dilations:f,dimRoundingMode:d}});if(o){var m=v;v=Ef({inputs:{a:v,b:o},backend:n}),n.disposeIntermediateTensorInfo(m)}if(h){var g=v;v=vf(n,v,h,u,p),n.disposeIntermediateTensorInfo(g)}return v}};var Kh={kernelName:o.FusedDepthwiseConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,u=t.preluActivationWeights,s=r.strides,c=r.pad,l=r.dataFormat,f=r.dilations,d=r.dimRoundingMode,h=r.activation,p=r.leakyreluAlpha,v=Xd({inputs:{x:a,filter:i},backend:n,attrs:{strides:s,pad:c,dataFormat:l,dilations:f,dimRoundingMode:d}});if(o){var m=v;v=Ef({inputs:{a:v,b:o},backend:n}),n.disposeIntermediateTensorInfo(m)}if(h){var g=v;v=vf(n,v,h,u,p),n.disposeIntermediateTensorInfo(g)}return v}};function $h(e,t,n,r,a,i,u,s,c){for(var l=Object(o.buffer)([r,i],n),f=0;f<r;f++){for(var d=[],h=0,p=0;p<a;p++){var v=e[f*a+p];h+=v*u[p],d.push(v)}if(h<0||h>=c/i)throw new Error("Invalid indices: ".concat(d," does not index into ").concat(s));for(var m=0;m<i;m++)l.values[f*i+m]=t.get.apply(t,Object(Dn.a)(t.indexToLoc(h*i+m)))}return l}var Zh={kernelName:o.GatherNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,i=o.util.sizeFromShape(r.shape),s=a.shape,c=s[s.length-1],l=o.backend_util.prepareAndValidate(r,a),f=Object(u.a)(l,4),d=f[0],h=f[1],p=f[2],v=f[3];if(0===h)return n.makeTensorInfo(d,r.dtype,[]);var m=$h(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,h,c,p,v,r.shape,i);return n.makeTensorInfo(d,r.dtype,m.values)}};function Jh(e,t,n){for(var r=Object(o.buffer)(n,e.dtype),a=0;a<r.size;++a){var i=r.indexToLoc(a).slice(),u=i[0],s=i[2],c=t.locToIndex([u,s]);i[2]=t.values[c];var l=e.locToIndex(i);0<=l&&l<e.values.length&&(r.values[a]=e.values[l])}return r}var Qh={kernelName:o.GatherV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.indices,u=r.axis,s=r.batchDims;Gl([a,i],"gatherV2");for(var c=o.util.parseAxisParam(u,a.shape)[0],l=n.data.get(i.dataId).values,f=a.shape[c],d=function(e){var t=l[e];o.util.assert(t<=f-1&&t>=0,(function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(f-1,"]")}))},h=0;h<l.length;++h)d(h);var p=s;null==s&&(p=0);var v=o.util.sizeFromShape(i.shape),m=o.backend_util.segment_util.collectGatherOpShapeInfo(a,i,c,p),g=Cf({inputs:{x:a},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),b=Cf({inputs:{x:i},backend:n,attrs:{shape:[m.batchSize,v/m.batchSize]}}),y=[m.batchSize,m.outerSize,v/m.batchSize,m.sliceSize],x=n.bufferSync(b),w=Jh(n.bufferSync(g),x,y);return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(b),n.makeTensorInfo(m.outputShape,w.dtype,w.values)}},ep=nf((function(e,t){return e>t?1:0})),tp=kf(o.Greater,ep,null,"bool"),np={kernelName:o.Greater,backendName:"cpu",kernelFunc:tp},rp=nf((function(e,t){return e>=t?1:0})),ap=kf(o.GreaterEqual,rp,null,"bool"),ip={kernelName:o.GreaterEqual,backendName:"cpu",kernelFunc:ap};var op={kernelName:o.IFFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=o.util.sizeFromShape(r.shape),i=r.shape[r.shape.length-1],u=Cf({inputs:{x:r},backend:n,attrs:{shape:[a/i,i]}}),s=Fh(u,!0,n),c=Cf({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(s),c}},up=Yl(o.IsFinite,(function(e){return Number.isFinite(e)?1:0}),"bool"),sp={kernelName:o.IsFinite,backendName:"cpu",kernelFunc:up},cp=Yl(o.IsInf,(function(e){return Math.abs(e)===1/0?1:0}),"bool"),lp={kernelName:o.IsInf,backendName:"cpu",kernelFunc:cp},fp=Yl(o.IsNan,(function(e){return Number.isNaN(e)?1:0}),"bool"),dp={kernelName:o.IsNan,backendName:"cpu",kernelFunc:fp},hp=nf((function(e,t){return e<t?1:0})),pp=kf(o.Less,hp,null,"bool"),vp={kernelName:o.Less,backendName:"cpu",kernelFunc:pp},mp=nf((function(e,t){return e<=t?1:0})),gp=kf(o.LessEqual,mp,null,"bool"),bp={kernelName:o.LessEqual,backendName:"cpu",kernelFunc:gp};function yp(e,t,n){var r=(t-e)/(n-1),a=o.util.makeZerosTypedArray(n,"float32");a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+r;return a}var xp={kernelName:o.LinSpace,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=yp(n.start,n.stop,n.num);return t.makeTensorInfo([r.length],"float32",r)}},wp=ff((function(e){return Math.log(e)})),Op=Kl(o.Log,wp),kp={kernelName:o.Log,backendName:"cpu",kernelFunc:Op},jp=Yl(o.Log1p,(function(e){return Math.log1p(e)})),_p={kernelName:o.Log1p,backendName:"cpu",kernelFunc:jp},Sp=nf((function(e,t){return e&&t})),Ep=kf(o.LogicalAnd,Sp,null,"bool"),Ap={kernelName:o.LogicalAnd,backendName:"cpu",kernelFunc:Ep},Cp=Yl(o.LogicalNot,(function(e){return e?0:1}),"bool"),Np={kernelName:o.LogicalNot,backendName:"cpu",kernelFunc:Cp},Tp=nf((function(e,t){return e||t})),Dp=kf(o.LogicalOr,Tp,null,"bool"),Ip={kernelName:o.LogicalOr,backendName:"cpu",kernelFunc:Dp};var Mp={kernelName:o.LRN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.depthRadius,u=r.bias,s=r.alpha,c=r.beta;Gl(a,"LRN");var l=a.shape[3],f=l-1,d=n.data.get(a.dataId).values,h=o.util.sizeFromShape(a.shape),p=new Float32Array(h);function v(e){for(var t=e%l,n=e-t+Math.max(0,t-i),r=e-t+Math.min(t+i,f),a=0;n<=r;n++){var o=d[n];a+=o*o}return a}for(var m=0;m<h;m++){var g=v(m),b=d[m]*Math.pow(u+s*g,-c);p[m]=b}return n.makeTensorInfo(a.shape,a.dtype,p)}};var Fp={kernelName:o.LRNGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.y,u=t.dy,s=r.depthRadius,c=r.bias,l=r.alpha,f=r.beta;Gl(u,"LRNGrad");for(var d=o.util.sizeFromShape(u.shape),h=u.shape[3],p=n.data.get(u.dataId).values,v=n.data.get(a.dataId).values,m=n.data.get(i.dataId).values,g=new Float32Array(d),b=d,y=0;y<b;y++){for(var x=y%h,w=y-x+Math.max(0,x-s),O=y-x+Math.min(h,x+s+1),k=0,j=w;j<O;j++)k+=Math.pow(v[j],2);k=l*k+c;for(var _=w;_<O;_++){var S=-2*l*f*v[_]*m[y]/k;y===_&&(S+=Math.pow(k,-f)),S*=p[y],g[_]+=S}}return n.makeTensorInfo(u.shape,a.dtype,g)}};function Rp(e,t,n,r){for(var a=o.util.getTypedArrayFromDType(r,o.util.sizeFromShape(n)),i=0;i<a.length;++i){for(var u=i*t,s=e[u],c=0;c<t;++c){var l=e[u+c];(Number.isNaN(l)||l>s)&&(s=l)}a[i]=s}return a}function Pp(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reductionIndices,s=r.keepDims,c=n,l=a.shape,f=l.length,d=o.util.parseAxisParam(i,l),h=d,p=o.backend_util.getAxesPermutation(h,f),v=c.data.get(a.dataId).values;if(null!=p){for(var m=new Array(f),g=0;g<m.length;g++)m[g]=l[p[g]];v=Uf(v,l,a.dtype,p,m),h=o.backend_util.getInnerMostAxes(h.length,f),l=m}Gl(a,"max"),o.backend_util.assertAxesAreInnerMostDims("max",h,f);var b=o.backend_util.computeOutAndReduceShapes(l,h),y=Object(u.a)(b,2),x=y[0],w=y[1],O=Rp(v,o.util.sizeFromShape(w),x,a.dtype),k=c.write(O,x,a.dtype),j=x;s&&(j=o.backend_util.expandShapeToKeepDim(x,d));return{dataId:k,shape:j,dtype:a.dtype}}var zp={kernelName:o.Max,backendName:"cpu",kernelFunc:Pp},Bp=nf((function(e,t){return Math.max(e,t)})),Lp=kf(o.Maximum,Bp),Up={kernelName:o.Maximum,backendName:"cpu",kernelFunc:Lp};var Wp={kernelName:o.MaxPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;Gl(a,"maxPool");var i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode;o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(u," and dilations '").concat(1,"'")}));var l,f=o.backend_util.computePool2DInfo(a.shape,i,u,1,s,c);if(1===f.filterWidth&&1===f.filterHeight&&o.util.arraysEqual(f.inShape,f.outShape))l=Jl({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,h=o.util.computeStrides(a.shape),p=id(d,a.shape,a.dtype,h,f,"max");l=n.makeTensorInfo(f.outShape,a.dtype,p.values)}return l}};var Vp={kernelName:o.MaxPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode,l=r.dataFormat;Gl(a,"maxPool3d");var f=o.backend_util.computePool3DInfo(a.shape,i,u,1,s,c,l),d=ud(n.data.get(a.dataId).values,a.shape,a.dtype,o.util.computeStrides(a.shape),f,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};var Hp={kernelName:o.MaxPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode;Gl([a,i],"maxPool3DGrad");for(var f=o.backend_util.computePool3DInfo(i.shape,u,s,1,c,l),d=function(e,t){for(var n=Object(o.buffer)(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,i=t.strideWidth,u=t.dilationDepth,s=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.front,p=t.padInfo.top,v=t.padInfo.left,m=0;m<t.batchSize;++m)for(var g=0;g<t.inChannels;++g)for(var b=0;b<t.outDepth;++b){for(var y=b*r-h,x=y;x<0;)x+=u;for(var w=Math.min(t.inDepth,l+y),O=0;O<t.outHeight;++O){for(var k=O*a-p,j=k;j<0;)j+=s;for(var _=Math.min(t.inHeight,f+k),S=0;S<t.outWidth;++S){for(var E=S*i-v,A=E;A<0;)A+=c;for(var C=Math.min(t.inWidth,d+E),N=Number.NEGATIVE_INFINITY,T=-1,D=x;D<w;D+=u)for(var I=D-y,M=j;M<_;M+=s)for(var F=M-k,R=A;R<C;R+=c){var P=R-E,z=e.get(m,D,M,R,g);z>=N&&(N=z,T=I*f*d+F*f+P)}n.set(T,m,b,O,S,g)}}}return n}(n.bufferSync(i),f),h=f.strideDepth,p=f.strideHeight,v=f.strideWidth,m=f.dilationDepth,g=f.dilationHeight,b=f.dilationWidth,y=f.effectiveFilterDepth,x=f.effectiveFilterHeight,w=f.effectiveFilterWidth,O=y-1-f.padInfo.front,k=w-1-f.padInfo.left,j=x-1-f.padInfo.top,_=Object(o.buffer)(i.shape,"float32"),S=n.bufferSync(a),E=0;E<f.batchSize;++E)for(var A=0;A<f.inChannels;++A)for(var C=0;C<f.inDepth;++C)for(var N=0;N<f.inHeight;++N)for(var T=0;T<f.inWidth;++T){for(var D=C-O,I=N-j,M=T-k,F=0,R=0;R<y;R+=m){var P=(D+R)/h;if(!(P<0||P>=f.outDepth||Math.floor(P)!==P))for(var z=0;z<x;z+=g){var B=(I+z)/p;if(!(B<0||B>=f.outHeight||Math.floor(B)!==B))for(var L=0;L<w;L+=b){var U=(M+L)/v;if(!(U<0||U>=f.outWidth||Math.floor(U)!==U)){var W=y*x*w-1-d.get(E,P,B,U,A)===R*x*w+z*w+L?1:0;if(0!==W)F+=S.get(E,P,B,U,A)*W}}}}_.set(F,E,C,N,T,A)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};var Gp={kernelName:o.MaxPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=i;Gl([i,t.output],"maxPoolGrad");for(var s=r.filterSize,c=r.strides,l=r.pad,f=r.dimRoundingMode,d=o.backend_util.computePool2DInfo(u.shape,s,c,1,l,f),h=n.data.get(u.dataId).values,p=Object(o.buffer)(d.outShape,u.dtype,od(h,u.shape,u.dtype,d).values),v=d.strideHeight,m=d.strideWidth,g=d.dilationHeight,b=d.dilationWidth,y=d.effectiveFilterHeight,x=d.effectiveFilterWidth,w=x-1-d.padInfo.left,O=y-1-d.padInfo.top,k=Object(o.buffer)(u.shape,"float32"),j=n.data.get(a.dataId).values,_=Object(o.buffer)(a.shape,"float32",j),S=0;S<d.batchSize;++S)for(var E=0;E<d.inChannels;++E)for(var A=0;A<d.inHeight;++A)for(var C=0;C<d.inWidth;++C){for(var N=A-O,T=C-w,D=0,I=0;I<y;I+=g){var M=(N+I)/v;if(!(M<0||M>=d.outHeight||Math.floor(M)!==M))for(var F=0;F<x;F+=b){var R=(T+F)/m;if(!(R<0||R>=d.outWidth||Math.floor(R)!==R)){var P=y*x-1-p.get(S,M,R,E)===I*x+F?1:0;if(0!==P)D+=_.get(S,M,R,E)*P}}}k.set(D,S,A,C,E)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};var qp={kernelName:o.MaxPoolWithArgmax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.filterSize,s=n.strides,c=n.pad,l=n.includeBatchInIndex,f=r;Gl(a,"MaxPoolWithArgmax");var d=f.data.get(a.dataId).values,h=o.backend_util.computePool2DInfo(a.shape,i,s,[1,1],c),p=function(e,t,n,r,a){var i=id(e,0,n,o.util.computeStrides(t),a,"max"),u=od(e,t,n,a,!0,r);return[i.values,u.values]}(d,a.shape,a.dtype,l,h),v=Object(u.a)(p,2),m=v[0],g=v[1],b=f.write(m,h.outShape,a.dtype),y=f.write(g,h.outShape,a.dtype);return[{dataId:b,shape:h.outShape,dtype:a.dtype},{dataId:y,shape:h.outShape,dtype:"int32"}]}};var Xp={kernelName:o.Mean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,u=r.keepDims,s=o.util.parseAxisParam(i,a.shape),c=o.backend_util.computeOutAndReduceShapes(a.shape,s)[1],l=o.util.sizeFromShape(c),f=[],d=n.makeTensorInfo([],"float32",new Float32Array([l]));f.push(d);var h=wf({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});f.push(h);var p=Ch({inputs:{a:h,b:d},backend:n});f.push(p);var v=ih({inputs:{x:p},backend:n,attrs:{axis:i,keepDims:u}});return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}};var Yp={kernelName:o.Min,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims;Gl(a,"min");var c=o.util.parseAxisParam(i,a.shape),l=c,f=o.backend_util.getAxesPermutation(l,a.shape.length),d=a;null!=f&&(d=Wf({inputs:{x:a},backend:n,attrs:{perm:f}}),l=o.backend_util.getInnerMostAxes(l.length,a.shape.length)),o.backend_util.assertAxesAreInnerMostDims("min",l,d.shape.length);for(var h=o.backend_util.computeOutAndReduceShapes(d.shape,l),p=Object(u.a)(h,2),v=p[0],m=p[1],g=o.util.sizeFromShape(m),b=o.util.makeZerosTypedArray(o.util.sizeFromShape(v),d.dtype),y=n.data.get(d.dataId).values,x=0;x<b.length;++x){for(var w=x*g,O=y[w],k=0;k<g;++k){var j=y[w+k];(Number.isNaN(j)||j<O)&&(O=j)}b[x]=O}null!=f&&n.disposeIntermediateTensorInfo(d);var _=n.makeTensorInfo(v,d.dtype,b);if(s){var S=Cf({inputs:{x:_},backend:n,attrs:{shape:o.backend_util.expandShapeToKeepDim(v,c)}});return n.disposeIntermediateTensorInfo(_),S}return _}},Kp=nf((function(e,t){return Math.min(e,t)})),$p=kf(o.Minimum,Kp),Zp={kernelName:o.Minimum,backendName:"cpu",kernelFunc:$p};var Jp={kernelName:o.MirrorPad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,u=r.mode;Gl(a,"mirrorPad");for(var s=i.map((function(e,t){return e[0]+a.shape[t]+e[1]})),c=i.map((function(e){return e[0]})),l=i.map((function(e,t){return e[0]+a.shape[t]})),f="reflect"===u?0:1,d=n.data.get(a.dataId).values,h=a.shape.length,p=o.util.computeStrides(a.shape),v=o.util.sizeFromShape(s),m=s.length,g=o.util.computeStrides(s),b=o.util.getTypedArrayFromDType(a.dtype,v),y=0;y<v;y++){for(var x=o.util.indexToLoc(y,m,g),w=0;w<m;w++)x[w]<c[w]?x[w]=2*c[w]-x[w]-f:x[w]>=l[w]&&(x[w]=2*(l[w]-1)-x[w]+f);x=x.map((function(e,t){return e-c[t]}));var O=o.util.locToIndex(x,h,p);b[y]=d[O]}return{dataId:n.write(b,s,a.dtype),shape:s,dtype:a.dtype}}},Qp=nf((function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),ev=kf(o.Mod,Qp),tv={kernelName:o.Mod,backendName:"cpu",kernelFunc:ev};function nv(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.dim,u=a.shape.length,s=i;if(-1===s&&(s=u-1),s!==u-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(u," and dim was ").concat(s));var c=o.util.parseAxisParam([s],a.shape),l=Pp({inputs:{x:a},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),f=o.backend_util.expandShapeToKeepDim(l.shape,c),d=Cf({inputs:{x:l},backend:n,attrs:{shape:f}}),h=Ih({inputs:{a:a,b:d},backend:n}),p=wh({inputs:{x:h},backend:n}),v=ih({inputs:{x:p},backend:n,attrs:{axis:c,keepDims:!1}}),m=Cf({inputs:{x:v},backend:n,attrs:{shape:f}}),g=Ch({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),g}var rv={kernelName:o.Softmax,backendName:"cpu",kernelFunc:nv};var av={kernelName:o.Multinomial,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.numSamples,u=r.seed,s=r.normalized;Gl(a,"multinomial");for(var c=s?a:nv({inputs:{logits:a},backend:n,attrs:{dim:-1}}),l=c.shape[0],f=c.shape[1],d=n.data.get(c.dataId).values,h=[l,i],p=o.util.makeZerosTypedArray(o.util.sizeFromShape(h),"int32"),v=0;v<l;++v){var m=v*f,g=new Float32Array(f-1);g[0]=d[m];for(var b=1;b<g.length;++b)g[b]=g[b-1]+d[m+b];for(var y=fl.alea(u.toString()),x=v*i,w=0;w<i;++w){var O=y();p[x+w]=g.length;for(var k=0;k<g.length;k++)if(O<g[k]){p[x+w]=k;break}}}return s||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(h,"int32",p)}};function iv(e,t,n){var r=o.util.createScalarValue(-1,n);return th([],t,r,e,n)}var ov={kernelName:o.Neg,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x;Gl(r,"neg");var a=iv(n.data.get(r.dataId).values,r.shape,r.dtype),i=Object(u.a)(a,2),o=i[0],s=i[1];return n.makeTensorInfo(s,r.dtype,o)}},uv=o.kernel_impls.nonMaxSuppressionV3Impl;var sv={kernelName:o.NonMaxSuppressionV3,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,u=r.iouThreshold,s=r.scoreThreshold;Gl(a,"NonMaxSuppression");var c=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,f=uv(c,l,o,u,s).selectedIndices;return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}},cv=o.kernel_impls.nonMaxSuppressionV4Impl;var lv={kernelName:o.NonMaxSuppressionV4,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,u=r.iouThreshold,s=r.scoreThreshold,c=r.padToMaxOutputSize;Gl(a,"NonMaxSuppressionPadded");var l=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,d=cv(l,f,o,u,s,c),h=d.selectedIndices,p=d.validOutputs;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},fv=o.kernel_impls.nonMaxSuppressionV5Impl;var dv={kernelName:o.NonMaxSuppressionV5,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,u=r.iouThreshold,s=r.scoreThreshold,c=r.softNmsSigma;Gl(a,"NonMaxSuppressionWithScore");var l=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,d=fv(l,f,o,u,s,c),h=d.selectedIndices,p=d.selectedScores;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([p.length],"float32",new Float32Array(p))]}},hv=nf((function(e,t){return e!==t?1:0})),pv=kf(o.NotEqual,hv,null,"bool"),vv={kernelName:o.NotEqual,backendName:"cpu",kernelFunc:pv};var mv={kernelName:o.OneHot,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=r.depth,u=r.onValue,s=r.offValue;Gl(a,"oneHot");var c=o.util.sizeFromShape(a.shape),l=new Float32Array(c*i);l.fill(s);for(var f=n.data.get(a.dataId).values,d=0;d<c;++d)f[d]>=0&&f[d]<i&&(l[d*i+f[d]]=u);return n.makeTensorInfo([].concat(Object(Dn.a)(a.shape),[i]),"int32",l)}};function gv(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var a=yf({inputs:{input:r},backend:n}),i=gv({inputs:{x:a},backend:n}),o=Ad({inputs:{input:r},backend:n}),u=gv({inputs:{x:o},backend:n}),s=mf({inputs:{real:i,imag:u},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),s}return Bh({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var bv={kernelName:o.ZerosLike,backendName:"cpu",kernelFunc:gv};var yv={kernelName:o.OnesLike,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){var i=yf({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),u=Ad({inputs:{input:a},backend:r}),s=gv({inputs:{x:u},backend:r}),c=mf({inputs:{real:o,imag:s},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(u),r.disposeIntermediateTensorInfo(s),c}return Bh({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function xv(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return kh({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,i=t[0].dtype;t.forEach((function(e){o.util.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),o.util.assert(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var u=[],s=Nd({inputs:t.map((function(e){var t=kh({inputs:{input:e},backend:n,attrs:{dim:r}});return u.push(t),t})),backend:n,attrs:{axis:r}});return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),s}var wv={kernelName:o.Pack,backendName:"cpu",kernelFunc:xv};var Ov={kernelName:o.PadV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,u=r.constantValue;Gl(a,"pad");var s=i.map((function(e,t){return e[0]+a.shape[t]+e[1]})),c=i.map((function(e){return e[0]})),l=n.data.get(a.dataId).values,f=o.util.sizeFromShape(a.shape),d=a.shape.length,h=o.util.computeStrides(a.shape),p=o.util.sizeFromShape(s),v=s.length,m=o.util.computeStrides(s),g=o.util.getTypedArrayFromDType(a.dtype,p);0!==u&&g.fill(u);for(var b=0;b<f;b++){var y=o.util.indexToLoc(b,d,h).map((function(e,t){return e+c[t]}));g[o.util.locToIndex(y,v,m)]=l[b]}return{dataId:n.write(g,s,a.dtype),shape:s,dtype:a.dtype}}},kv=nf((function(e,t){return Math.pow(e,t)})),jv=kf(o.Pow,kv),_v={kernelName:o.Pow,backendName:"cpu",kernelFunc:jv};function Sv(e,t,n,r){for(var a=o.backend_util.computeOutAndReduceShapes(e,r),i=Object(u.a)(a,2),s=i[0],c=i[1],l=Object(o.upcastType)(t,"int32"),f=o.util.makeZerosTypedArray(o.util.sizeFromShape(s),l),d=o.util.sizeFromShape(c),h=0;h<f.length;++h){for(var p=h*d,v=1,m=0;m<d;++m)v*=n[p+m];f[h]=v}return{outVals:f,outShape:s,outDtype:l}}var Ev={kernelName:o.Prod,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,u=r.keepDims;Gl(a,"prod");var s=a.shape.length,c=o.util.parseAxisParam(i,a.shape),l=o.backend_util.getAxesPermutation(c,s),f=c,d=a,h=[];null!=l&&(d=Wf({inputs:{x:a},backend:n,attrs:{perm:l}}),h.push(d),f=o.backend_util.getInnerMostAxes(f.length,s));var p=n.data.get(d.dataId).values,v=Sv(d.shape,d.dtype,p,f),m=v.outVals,g=v.outShape,b=v.outDtype,y=g;return u&&(y=o.backend_util.expandShapeToKeepDim(g,c)),h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(y,b,m)}};function Av(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return o.util.makeZerosTypedArray(0,r);var a=Math.abs(Math.ceil((t-e)/n)),i=o.util.makeZerosTypedArray(a,r);t<e&&1===n&&(n=-1),i[0]=e;for(var u=1;u<i.length;u++)i[u]=i[u-1]+n;return i}var Cv={kernelName:o.Range,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.dtype,o=Av(r,a,n.step,i);return t.makeTensorInfo([o.length],i,o)}},Nv=Yl(o.Reciprocal,(function(e){return 1/e})),Tv={kernelName:o.Reciprocal,backendName:"cpu",kernelFunc:Nv};var Dv={kernelName:o.ResizeBilinear,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.halfPixelCenters,c=r.size;Gl(a,"resizeBilinear");for(var l=o.util.computeStrides(a.shape),f=Object(u.a)(c,2),d=f[0],h=f[1],p=Object(u.a)(a.shape,4),v=p[0],m=p[1],g=p[2],b=p[3],y=n.data.get(a.dataId).values,x=new Float32Array(o.util.sizeFromShape([v,d,h,b])),w=[i&&d>1?m-1:m,i&&h>1?g-1:g],O=[i&&d>1?d-1:d,i&&h>1?h-1:h],k=0,j=w[0]/O[0],_=w[1]/O[1],S=0;S<v;S++)for(var E=0;E<d;E++){var A=void 0;A=s?j*(E+.5)-.5:j*E;for(var C=Math.max(0,Math.floor(A)),N=A-C,T=Math.min(m-1,Math.ceil(A)),D=S*l[0]+C*l[1],I=S*l[0]+T*l[1],M=0;M<h;M++){var F=void 0;F=s?_*(M+.5)-.5:_*M;for(var R=Math.max(0,Math.floor(F)),P=F-R,z=Math.min(g-1,Math.ceil(F)),B=D+R*l[2],L=I+R*l[2],U=D+z*l[2],W=I+z*l[2],V=0;V<b;V++){var H=y[B+V],G=y[L+V],q=H+(y[U+V]-H)*P,X=q+(G+(y[W+V]-G)*P-q)*N;x[k++]=X}}}return n.makeTensorInfo([v,d,h,b],"float32",x)}};var Iv={kernelName:o.ResizeBilinearGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,s=r.alignCorners;Gl([i,a],"resizeBilinearGrad");for(var c=o.util.computeStrides(a.shape),l=Object(u.a)(a.shape,4),f=l[0],d=l[1],h=l[2],p=l[3],v=Object(u.a)(i.shape,3),m=v[1],g=v[2],b=new Float32Array(f*d*h*p),y=[s&&m>1?d-1:d,s&&g>1?h-1:h],x=[s&&m>1?m-1:m,s&&g>1?g-1:g],w=y[0]/x[0],O=y[1]/x[1],k=n.data.get(i.dataId).values,j=0,_=0;_<f;_++)for(var S=_*c[0],E=0;E<m;E++)for(var A=E*w,C=Math.floor(A),N=Math.min(Math.ceil(A),d-1),T=S+C*c[1],D=S+N*c[1],I=A-C,M=1-I,F=0;F<g;F++)for(var R=F*O,P=Math.floor(R),z=Math.min(Math.ceil(R),h-1),B=R-P,L=1-B,U=T+P*c[2],W=T+z*c[2],V=D+P*c[2],H=D+z*c[2],G=M*L,q=M*B,X=I*L,Y=I*B,K=0;K<p;K++){var $=k[j++];b[U+K]+=$*G,b[W+K]+=$*q,b[V+K]+=$*X,b[H+K]+=$*Y}return n.makeTensorInfo([f,h,d,p],"float32",b)}};var Mv={kernelName:o.ResizeNearestNeighbor,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.halfPixelCenters,c=r.size;Gl(a,"resizeNearestNeighbor");for(var l=o.util.computeStrides(a.shape),f=Object(u.a)(c,2),d=f[0],h=f[1],p=Object(u.a)(a.shape,4),v=p[0],m=p[1],g=p[2],b=p[3],y=n.data.get(a.dataId).values,x=new Float32Array(v*d*h*b),w=[i&&d>1?m-1:m,i&&h>1?g-1:g],O=[i&&d>1?d-1:d,i&&h>1?h-1:h],k=w[0]/O[0],j=w[1]/O[1],_=0,S=0;S<v;S++)for(var E=S*l[0],A=0;A<d;A++){var C=s?k*(A+.5):k*A,N=Math.min(m-1,i?Math.round(C):Math.floor(C));s&&(N=Math.max(0,N));for(var T=E+N*l[1],D=0;D<h;D++){var I=s?j*(D+.5):j*D,M=Math.min(g-1,i?Math.round(I):Math.floor(I));s&&(M=Math.max(0,M));for(var F=T+M*l[2],R=0;R<b;R++){var P=y[F+R];x[_++]=P}}}return n.makeTensorInfo([v,d,h,b],a.dtype,x)}};var Fv={kernelName:o.ResizeNearestNeighborGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,s=r.alignCorners;Gl([i,a],"resizeNearestNeighborGrad");for(var c=o.util.computeStrides(a.shape),l=o.util.computeStrides(i.shape),f=Object(u.a)(a.shape,4),d=f[0],h=f[1],p=f[2],v=f[3],m=Object(u.a)(i.shape,3),g=m[1],b=m[2],y=new Float32Array(d*h*p*v),x=n.data.get(i.dataId).values,w=[s&&g>1?h-1:h,s&&b>1?p-1:p],O=[s&&g>1?g-1:g,s&&b>1?b-1:b],k=w[0]/O[0],j=w[1]/O[1],_=1/k,S=1/j,E=2*Math.ceil(_)+2,A=2*Math.ceil(S)+2,C=0;C<d;C++)for(var N=C*c[0],T=0;T<h;T++)for(var D=N+T*c[1],I=Math.floor(T*_),M=Math.floor(I-E/2),F=0;F<p;F++)for(var R=D+F*c[2],P=Math.floor(F*S),z=Math.floor(P-A/2),B=0;B<v;B++){for(var L=0,U=0;U<E;U++){var W=U+M;if(!(W<0||W>=g)){var V=N+W*l[1],H=W*k;if(T===Math.min(h-1,s?Math.round(H):Math.floor(H)))for(var G=0;G<A;G++){var q=G+z;if(!(q<0||q>=b)){var X=V+q*l[2],Y=q*j;F===Math.min(p-1,s?Math.round(Y):Math.floor(Y))&&(L+=x[X+B])}}}}y[R+B]=L}return n.makeTensorInfo(a.shape,a.dtype,y)}};var Rv={kernelName:o.Reverse,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dims;Gl(a,"reverse");var u=a.shape.length,s=o.util.parseAxisParam(i,a.shape);if(0===u)return Jl({inputs:{x:a},backend:n});for(var c=new o.TensorBuffer(a.shape,a.dtype),l=n.bufferSync(a),f=function(e){var t=c.indexToLoc(e),n=t.slice();s.forEach((function(e){return n[e]=a.shape[e]-1-n[e]})),c.set.apply(c,[l.get.apply(l,Object(Dn.a)(n))].concat(Object(Dn.a)(t)))},d=0;d<c.size;d++)f(d);return n.makeTensorInfo(c.shape,c.dtype,c.values)}},Pv={kernelName:o.RotateWithOffset,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=n.radians,s=n.fillValue,c=n.center,l=r,f=o.util.getTypedArrayFromDType(a.dtype,o.util.sizeFromShape(a.shape)),d=Object(u.a)(a.shape,4),h=d[0],p=d[1],v=d[2],m=d[3],g=o.backend_util.getImageCenter(c,p,v),b=Object(u.a)(g,2),y=b[0],x=b[1],w=Math.sin(i),O=Math.cos(i),k=l.data.get(a.dataId).values,j=0;j<h;j++)for(var _=j*v*p*m,S=0;S<p;S++)for(var E=S*(v*m),A=0;A<v;A++)for(var C=A*m,N=0;N<m;N++){var T=[h,S,A,N],D=T[2],I=T[1],M=(D-y)*O-(I-x)*w,F=(D-y)*w+(I-x)*O;M=Math.round(M+y),F=Math.round(F+x);var R=s;if("number"!==typeof s&&(R=3===N?255:s[N]),M>=0&&M<v&&F>=0&&F<p)R=k[_+F*(v*m)+M*m+N];f[_+E+C+N]=R}return{dataId:l.write(f,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},zv=Yl(o.Round,(function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),Bv={kernelName:o.Round,backendName:"cpu",kernelFunc:zv},Lv=ff((function(e){return 1/Math.sqrt(e)})),Uv=Kl(o.Rsqrt,Lv),Wv={kernelName:o.Rsqrt,backendName:"cpu",kernelFunc:Uv};function Vv(e,t,n,r,a,i,u,s,c,l){var f=[r/a,a],d=e.values,h=t.values;if(0===r)return Object(o.buffer)(n,t.dtype);var p=Object(o.buffer)(f,t.dtype);p.values.fill(c);for(var v=0;v<i;v++){for(var m=[],g=0,b=0;b<u;b++){var y=d[v*u+b];m.push(y),g+=y*s[b]}if(g<0||g>=r/a)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(n));for(var x=0;x<a;x++)l?p.values[g*a+x]+=h[v*a+x]:p.values[g*a+x]=0===t.rank?h[0]:h[v*a+x]}return p}var Hv={kernelName:o.ScatterNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=t.updates,u=r.shape,s=o.backend_util.calculateShapes(i,a,u),c=s.sliceRank,l=s.numUpdates,f=s.sliceSize,d=s.strides,h=s.outputSize,p=Vv(n.bufferSync(a),n.bufferSync(i),u,h,f,l,c,d,0,!0);return n.makeTensorInfo(u,p.dtype,p.values)}};var Gv={kernelName:o.Select,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,i=t.e;Gl([r,a,i],"select");for(var u=r.shape.length,s=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,f=Object(o.upcastType)(a.dtype,i.dtype),d=o.util.makeZerosTypedArray(o.util.sizeFromShape(a.shape),f),h=0,p=0===u||u>1||1===a.shape.length?1:o.util.sizeFromShape(a.shape.slice(1)),v=0;v<s.length;v++)for(var m=0;m<p;m++)1===s[v]?d[h++]=c[v]:d[h++]=l[v];return n.makeTensorInfo(a.shape,f,d)}},qv=o.backend_util.SELU_SCALEALPHA,Xv=o.backend_util.SELU_SCALE,Yv=Yl(o.Selu,(function(e){return e>=0?Xv*e:qv*(Math.exp(e)-1)})),Kv={kernelName:o.Selu,backendName:"cpu",kernelFunc:Yv},$v=Yl(o.Sign,(function(e){return e<0?-1:e>0?1:0})),Zv={kernelName:o.Sign,backendName:"cpu",kernelFunc:$v},Jv=Yl(o.Sin,(function(e){return Math.sin(e)})),Qv={kernelName:o.Sin,backendName:"cpu",kernelFunc:Jv},em=Yl(o.Sinh,(function(e){return Math.sinh(e)})),tm={kernelName:o.Sinh,backendName:"cpu",kernelFunc:em},nm=Math.log(1.1920928955078125e-7)+2,rm=Yl(o.Softplus,(function(e){var t=e>-nm,n=e<nm,r=Math.exp(e);return n?r:t?e:Math.log(1+r)})),am={kernelName:o.Softplus,backendName:"cpu",kernelFunc:rm};var im={kernelName:o.SpaceToBatchND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,u=r.paddings;Gl([a],"spaceToBatchND");var s=o.util.sizeFromShape(i),c=[[0,0]];c.push.apply(c,Object(Dn.a)(u));for(var l=1+i.length;l<a.shape.length;++l)c.push([0,0]);var f=Ov.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),d=o.backend_util.getReshaped(f.shape,i,s,!1),h=o.backend_util.getPermuted(d.length,i.length,!1),p=o.backend_util.getReshapedPermuted(f.shape,i,s,!1),v=Cf({inputs:{x:f},backend:n,attrs:{shape:d}}),m=Wf({inputs:{x:v},backend:n,attrs:{perm:h}}),g=Cf({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),g}};function om(e,t,n,r,a,i,u){var s=t[0],c=i[0],l=new Array(c),f=new Array(s),d=t[1];if(0===c){if(0!==s)throw new Error(o.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(s));return[o.util.getArrayFromDType(n,0),[0,d],o.util.getArrayFromDType(a,0),l,f]}for(var h=!0,p=0,v=new Array(c).fill(0),m=0;m<s;++m){var g=e[m*d];if(g<0)throw new Error(o.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(m,g));if(g>=c)throw new Error(o.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(m,g,c));++v[g],h=h&&g>=p,p=g}for(var b=!0,y=0;y<c;++y){var x=0===v[y];l[y]=x,b=b&&!x,v[y]=Math.max(v[y],1),y>0&&(v[y]+=v[y-1])}if(b&&h){for(var w=e,O=r,k=0;k<s;++k)f[k]=k;return[w,[s,d],O,l,f]}for(var j=v[c-1],_=o.util.getArrayFromDType(n,j*d),S=o.util.getArrayFromDType(a,j),E=new Array(c).fill(0),A=0;A<s;++A){var C=e[A*d],N=E[C],T=(0===C?0:v[C-1])+N;E[C]++;for(var D=0;D<d;++D)_[T*d+D]=e[A*d+D];S[T]=r[A],f[A]=T}for(var I=0;I<c;++I){if(0===E[I]){var M=0===I?0:v[I-1];_[M*d+0]=I;for(var F=1;F<d;++F)_[M*d+F]=0;S[M]=u}}return[_,[j,d],S,l,f]}var um={kernelName:o.SparseFillEmptyRows,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,i=t.denseShape,o=t.defaultValue;if(1!==i.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(i.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(a.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));var s=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,f=n.data.get(o.dataId).values[0],d=om(s,r.shape,r.dtype,c,a.dtype,l,f),h=Object(u.a)(d,5),p=h[0],v=h[1],m=h[2],g=h[3],b=h[4];return[n.makeTensorInfo(v,r.dtype,p),n.makeTensorInfo([v[0]],a.dtype,m),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map((function(e){return Number(e)})))),n.makeTensorInfo([b.length],r.dtype,new Int32Array(b))]}};function sm(e,t,n,r,a){for(var i=o.util.sizeFromShape(r),u=t[0],s=a.length,c=[],l=1,f=-1,d=0;d<s;++d){var h=a[d];if(-1===h){if(-1!==f)throw new Error(o.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(f,d));f=d,c.push(1)}else{if(h<0)throw new Error(o.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(d,h));l*=h,c.push(h)}}if(-1!==f){if(l<=0)throw new Error(o.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());var p=Math.trunc(i/l);if(l*p!==i)throw new Error(o.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(r,c));c[f]=p}if(o.util.sizeFromShape(c)!==i)throw new Error(o.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(r,c));var v=r.length,m=[];if(v>0){m[v-1]=1;for(var g=v-2;g>=0;--g)m[g]=m[g+1]*r[g+1]}var b=[];if(s>0){b[s-1]=1;for(var y=s-2;y>=0;--y)b[y]=b[y+1]*c[y+1]}for(var x=o.util.getArrayFromDType(n,u*s),w=0;w<u;++w){for(var O=0,k=0;k<v;++k)O+=e[w*v+k]*m[k];for(var j=0;j<s;++j)x[w*s+j]=Math.trunc(O/b[j]),O%=b[j]}return[x,[u,s],c]}var cm={kernelName:o.SparseReshape,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,i=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(a.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));var o=Array.from(n.data.get(a.dataId).values),s=n.data.get(r.dataId).values,c=Array.from(n.data.get(i.dataId).values),l=sm(s,r.shape,r.dtype,o,c),f=Object(u.a)(l,3),d=f[0],h=f[1],p=f[2];return[n.makeTensorInfo(h,r.dtype,d),n.makeTensorInfo([p.length],i.dtype,new Int32Array(p))]}};function lm(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=r.length,c=[t[0],e.length/t[0]],l=c[1],f=s>0?a[s-1]+1:0,d=f;if(d<0)throw new Error(o.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var h=t.slice();h[0]=d;var p=h.reduce((function(e,t){return e*t}),1),v=o.util.getArrayFromDType(n,p);if(0===s)return d>0&&v.fill(u),[v,h];if(d<=0)throw new Error(o.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());for(var m=0,g=1,b=0,y=a[m];;){var x=0;if(g<s){if(y===(x=a[g])){++g;continue}if(y>=x)throw new Error(o.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(y<0||y>=d)throw new Error(o.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(y,d));y>b&&v.fill(u,b*l,y*l);for(var w=m;w<g;++w){var O=r[w];if(O<0||O>=c[0])throw new Error(o.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(w,r[w],c[0]));for(var k=0;k<l;k++)v[y*l+k]+=e[O*l+k]}if(i)for(var j=0;j<l;j++)v[y*l+j]/=g-m;if(m=g,b=y+1,y=x,++g>s)break}return b<d&&v.fill(u,b*l,d*l),[v,h]}var fm={kernelName:o.SparseSegmentMean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(i.shape));if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,l=lm(o,r.shape,r.dtype,s,c,!0),f=Object(u.a)(l,2),d=f[0],h=f[1];return n.makeTensorInfo(h,r.dtype,d)}};var dm={kernelName:o.SparseSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(i.shape));if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,l=lm(o,r.shape,r.dtype,s,c),f=Object(u.a)(l,2),d=f[0],h=f[1];return n.makeTensorInfo(h,r.dtype,d)}};var hm={kernelName:o.SparseToDense,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,i=t.sparseValues,u=t.defaultValue,s=r.outputShape,c=o.backend_util.calculateShapes(i,a,s),l=c.sliceRank,f=c.numUpdates,d=c.sliceSize,h=c.strides,p=c.outputSize,v=Vv(n.bufferSync(a),n.bufferSync(i),s,p,d,f,l,h,n.data.get(u.dataId).values[0],!1);return n.makeTensorInfo(s,v.dtype,v.values)}};var pm={kernelName:o.SplitV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.numOrSizeSplits,u=r.axis,s=o.util.parseAxisParam(u,a.shape)[0],c=o.backend_util.prepareSplitSize(a,i,s),l=new Array(a.shape.length).fill(0),f=a.shape.slice();return c.map((function(e){var t=Object(Dn.a)(f);t[s]=e;var r=pd({inputs:{x:a},backend:n,attrs:{begin:l,size:t}});return l[s]+=e,r}))}},vm=ff((function(e){return Math.sqrt(e)})),mm=Yl(o.Sqrt,(function(e){return Math.sqrt(e)})),gm={kernelName:o.Sqrt,backendName:"cpu",kernelFunc:mm},bm={kernelName:o.Square,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;Gl(r,"square");for(var i=a.data.get(r.dataId).values,o=new Float32Array(i.length),u=0;u<i.length;++u){var s=i[u];o[u]=s*s}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},ym=nf((function(e,t){var n=e-t;return n*n})),xm=kf(o.SquaredDifference,ym),wm={kernelName:o.SquaredDifference,backendName:"cpu",kernelFunc:xm},Om=Yl(o.Step,(function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),km={kernelName:o.Step,backendName:"cpu",kernelFunc:Om};function jm(e,t,n,r){for(var a=Object(o.buffer)(e,t.dtype),i=0;i<a.size;i++){for(var u=a.indexToLoc(i),s=new Array(u.length),c=0;c<s.length;c++)s[c]=u[c]*n[c]+r[c];a.set.apply(a,[t.get.apply(t,s)].concat(Object(Dn.a)(u)))}return a}var _m={kernelName:o.StridedSlice,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,u=r.end,s=r.strides,c=r.beginMask,l=r.endMask,f=r.ellipsisMask,d=r.newAxisMask,h=r.shrinkAxisMask;Gl(a,"stridedSlice");var p,v=o.slice_util.sliceInfo(a.shape,i,u,s,c,l,f,d,h),m=v.finalShapeSparse,g=v.finalShape,b=v.isIdentity,y=v.sliceDim0,x=v.isSimpleSlice,w=v.begin,O=v.end,k=v.strides;if(b)p=Cf({inputs:{x:a},backend:n,attrs:{shape:g}});else if(y||x){o.util.assert(a.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)}));var j=o.slice_util.computeOutShape(w,O,k),_=pd({inputs:{x:a},backend:n,attrs:{begin:w,size:j}});p=Cf({inputs:{x:_},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(_)}else{var S=jm(m,n.bufferSync(a),k,w);p=n.makeTensorInfo(g,S.dtype,S.values)}return p}},Sm=function(){function e(t,n,r,a,i,u){Object(En.a)(this,e),this.separator=o.util.encodeString(t),this.nGramWidths=n,this.leftPad=o.util.encodeString(r),this.rightPad=o.util.encodeString(a),this.padWidth=i,this.preserveShort=u}return Object(An.a)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,a,i){for(var o=this,u=function(u){var s=o.getPadWidth(i),c=Math.max(0,s-u),l=Math.max(0,s-(a-(u+1))),f=i-(c+l),d=t+(c>0?0:u-s),h=0;h+=c*o.leftPad.length;for(var p=0;p<f;++p)h+=e[d+p].length;h+=l*o.rightPad.length,h+=(c+l+f-1)*o.separator.length,n[r+u]=new Uint8Array(h);for(var v=n[r+u],m=0,g=function(e){return e.forEach((function(e){return v[m++]=e}))},b=0;b<c;++b)g(o.leftPad),g(o.separator);for(var y=0;y<f-1;++y)g(e[d+y]),g(o.separator);if(f>0){g(e[d+f-1]);for(var x=0;x<l;++x)g(o.separator),g(o.rightPad)}else{for(var w=0;w<l-1;++w)g(o.rightPad),g(o.separator);g(o.rightPad)}},s=0;s<a;++s)u(s)}},{key:"compute",value:function(e,t){var n=this,r=e.length,a=t.length;if(a>0){var i=t[0];if(0!==i)throw new Error("First split value must be 0, got ".concat(i));for(var u=1;u<a;++u){var s=t[u]>=i;if(!(s=s&&t[u]<=r))throw new Error("Invalid split value ".concat(t[u],", must be in [").concat(i,", ").concat(r,"]"));i=t[u]}if(i!==r)throw new Error("Last split value must be data size. Expected ".concat(r,", got ").concat(i))}var c=a-1,l=o.util.getArrayFromDType("int32",a);if(0===r||0===a){for(var f=new Array(r),d=0;d<=c;++d)l[d]=0;return[f,l]}l[0]=0;for(var h=function(e){var r=t[e]-t[e-1],a=0;n.nGramWidths.forEach((function(e){a+=n.getNumNGrams(r,e)})),n.preserveShort&&r>0&&0===a&&(a=1),l[e]=l[e-1]+a},p=1;p<=c;++p)h(p);for(var v=new Array(l[c]),m=function(r){var a=t[r],i=l[r];if(n.nGramWidths.forEach((function(o){var u=t[r+1]-t[r],s=n.getNumNGrams(u,o);n.createNGrams(e,a,v,i,s,o),i+=s})),n.preserveShort&&i===l[r]){var o=t[r+1]-t[r];if(0===o)return"continue";var u=o+2*n.padWidth;n.createNGrams(e,a,v,i,1,u)}},g=0;g<c;++g)m(g);return[v,l]}}]),e}();function Em(e,t,n,r,a,i,o,u){return new Sm(n,r,a,i,o,u).compute(e,t)}var Am={kernelName:o.StringNGrams,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,i=r.nGramWidths,o=r.leftPad,s=r.rightPad,c=r.padWidth,l=r.preserveShortSequences,f=t.data,d=t.dataSplits,h=Em(n.data.get(f.dataId).values,n.data.get(d.dataId).values,a,i,o,s,c,l),p=Object(u.a)(h,2),v=p[0],m=p[1];return[n.makeTensorInfo([v.length],"string",v),n.makeTensorInfo(d.shape,"int32",m)]}};function Cm(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var a=0,i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){var o=e.subarray(a,i);n&&0===o.length||r.push(o),a=i+1}}else{for(var u=t[0],s=e.indexOf(u);-1!==s;){var c=e.subarray(0,s);n&&0===c.length||r.push(c),s=(e=e.subarray(s+1)).indexOf(u)}n&&0===e.length||r.push(e)}else for(var l=0;l<e.length;++l)r.push(e.subarray(l,l+1))}function Nm(e,t,n){for(var r=e.length,a=[],i=0,u=0,s=new Array(r),c=0;c<r;++c){var l=a.length;Cm(e[c],t,n,a);var f=a.length-l;s[c]=f,i+=f,u=Math.max(u,f)}for(var d=o.util.getArrayFromDType("int32",2*i),h=new Array(i),p=[r,u],v=0,m=0;m<r;++m)for(var g=0;g<s[m];++g)d[2*v]=m,d[2*v+1]=g,h[v]=a[v],++v;return[d,h,p]}var Tm={kernelName:o.StringSplit,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,i=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==i.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(i.shape));var o=Nm(n.data.get(a.dataId).values,n.data.get(i.dataId).values[0],r),s=Object(u.a)(o,3),c=s[0],l=s[1],f=s[2],d=l.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",l),n.makeTensorInfo([2],"int32",new Int32Array(f))]}};function Dm(e,t){for(var n=o.util.getArrayFromDType("int32",e.length),r=0;r<e.length;++r)n[r]=o.util.fingerPrint64(e[r]).modulo(t).getLowBitsUnsigned();return n}var Im={kernelName:o.StringToHashBucketFast,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var i=Dm(n.data.get(a.dataId).values,r);return n.makeTensorInfo(a.shape,"int32",i)}},Mm=Yl(o.Tan,(function(e){return Math.tan(e)})),Fm={kernelName:o.Tan,backendName:"cpu",kernelFunc:Mm},Rm=Yl(o.Tanh,(function(e){return Math.tanh(e)})),Pm={kernelName:o.Tanh,backendName:"cpu",kernelFunc:Rm};function zm(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];for(var a=Object(o.buffer)(n,e.dtype),i=0;i<a.values.length;++i){for(var u=a.indexToLoc(i),s=new Array(e.rank),c=0;c<s.length;c++)s[c]=u[c]%e.shape[c];var l=e.locToIndex(s);a.values[i]=e.values[l]}return a}var Bm={kernelName:o.Tile,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;Gl(a,"tile");var o=zm(n.bufferSync(a),i);return n.makeTensorInfo(o.shape,o.dtype,o.values)}},Lm=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function Um(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;r>n;){if(r-n>600){var a=r-n+1,i=t-n+1,u=Math.log(a),s=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*s*(a-s)/a)*Math.sign(i-a/2),l=Math.max(n,Math.floor(t-i*s/a+c)),f=Math.min(r,Math.floor(t+(a-i)*s/a+c));Um(e,t,l,f)}var d=e[t],h=n,p=r;for(o.util.swap(e,n,t),Lm(e[r],d)>0&&o.util.swap(e,n,r);h<p;){for(o.util.swap(e,h,p),h++,p--;Lm(e[h],d)<0;)h+=1;for(;Lm(e[p],d)>0;)p-=1}0===Lm(e[n],d)?o.util.swap(e,n,p):(p+=1,o.util.swap(e,p,r)),p<=t&&(n=p+1),t<=p&&(r=p-1)}}function Wm(e,t,n,r,a){for(var i=t[t.length-1],u=e.length/i,s=i,c=o.util.getTypedArrayFromDType(n,u*r),l=o.util.getTypedArrayFromDType("int32",u*r),f=function(t){var n=t*s,i=e.subarray(n,n+s),o=new Array(i.length);i.forEach((function(e,t){return o[t]={value:e,index:t}})),r<o.length&&(Um(o,r),o=o.slice(0,r)),a&&o.sort(Lm);for(var u=t*r,f=c.subarray(u,u+r),d=l.subarray(u,u+r),h=0;h<r;h++)f[h]=o[h].value,d[h]=o[h].index},d=0;d<u;d++)f(d);var h=t.slice();return h[h.length-1]=r,[Object(o.buffer)(h,n,c),Object(o.buffer)(h,"int32",l)]}var Vm={kernelName:o.TopK,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k,o=r.sorted;Gl(a,"topk");var s=Wm(n.data.get(a.dataId).values,a.shape,a.dtype,i,o),c=Object(u.a)(s,2),l=c[0],f=c[1];return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(f.shape,f.dtype,f.values)]}};var Hm={kernelName:o.Transform,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=t.transforms,s=n.interpolation,c=n.fillMode,l=n.fillValue,f=n.outputShape,d=Object(u.a)(a.shape,4),h=d[0],p=d[1],v=d[2],m=d[3],g=null!=f?f:[p,v],b=Object(u.a)(g,2),y=b[0],x=b[1],w=[h,y,x,m],O=o.util.computeStrides(a.shape),k=O[0],j=O[1],_=O[2],S=o.util.getTypedArrayFromDType(a.dtype,o.util.sizeFromShape(w));S.fill(l);for(var E=r.data.get(a.dataId).values,A=r.data.get(i.dataId).values,C=0;C<h;++C){for(var N=1===i.shape[0]?A:A.subarray(8*C,8*C+8),T=0;T<y;++T)for(var D=0;D<x;++D)for(var I=0;I<m;++I){var M=void 0,F=N[6]*D+N[7]*T+1;if(0!==F){var R=(N[0]*D+N[1]*T+N[2])/F,P=(N[3]*D+N[4]*T+N[5])/F,z=Gm(R,v,c),B=Gm(P,p,c);switch(s){case"nearest":M=Xm(E,p,v,k,j,_,C,B,z,I,l);break;case"bilinear":M=Ym(E,p,v,k,j,_,C,B,z,I,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(s))}S[C*k+T*j+D*_+I]=M}}return r.makeTensorInfo(w,a.dtype,S)}return{dataId:r.write(S,w,a.dtype),shape:a.shape,dtype:a.dtype}}};function Gm(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{var a=2*t;(n-=a*Math.trunc(n/a))>=t&&(n=a-n-1)}return o.util.clamp(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{var a=t-1;n-=t*Math.trunc(n/a)}return o.util.clamp(0,n,t-1)}(e,t);case"nearest":return function(e,t){return o.util.clamp(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function qm(e,t,n,r,a,i,o,u,s,c,l){return 0<=u&&u<t&&0<=s&&s<n?e[o*r+u*a+s*i+c]:l}function Xm(e,t,n,r,a,i,o,u,s,c,l){return qm(e,t,n,r,a,i,o,Math.round(u),Math.round(s),c,l)}function Ym(e,t,n,r,a,i,o,u,s,c,l){var f=Math.floor(u),d=Math.floor(s),h=f+1,p=d+1;return(h-u)*((p-s)*qm(e,t,n,r,a,i,o,f,d,c,l)+(s-d)*qm(e,t,n,r,a,i,o,f,p,c,l))+(u-f)*((p-s)*qm(e,t,n,r,a,i,o,h,d,c,l)+(s-d)*qm(e,t,n,r,a,i,o,h,p,c,l))}function Km(e,t,n,r){for(var a=o.util.parseAxisParam(t,n)[0],i=[1,n[0],1],u=0;u<a;u++)i[0]*=n[u];i[1]=n[a];for(var s=a+1;s<n.length;s++)i[2]*=n[s];for(var c={},l=new Int32Array(n[a]),f=new o.TensorBuffer(i,r,e),d=[],h=1===i[0]&&1===i[2],p=0;p<n[a];p++){var v=void 0;if(h)v=e[p].toString();else{for(var m=[],g=0;g<i[0];g++)for(var b=0;b<i[2];b++)m.push(f.get(g,p,b));v=m.join(",")}if(void 0!==c[v])l[p]=c[v];else{var y=Object.keys(c).length;c[v]=y,l[p]=y,d.push(p)}}var x=i.slice();x[1]=Object.keys(c).length;var w=new o.TensorBuffer(x,r);d.forEach((function(e,t){for(var n=0;n<i[0];n++)for(var r=0;r<i[2];r++)w.set(f.get(n,e,r),n,t,r)}));var O=n.slice();return O[a]=x[1],{outputValues:w.values,outputShape:O,indices:l}}var $m={kernelName:o.Unique,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;Gl(i,"unique");var o=Km(r.data.get(i.dataId).values,a,i.shape,i.dtype),u=o.outputValues,s=o.outputShape,c=o.indices;return[r.makeTensorInfo(s,i.dtype,u),r.makeTensorInfo([c.length],"int32",c)]}};var Zm={kernelName:o.Unpack,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a.shape.length,u=a.shape[i],s=new Array(o-1),c=0,l=0;l<o;l++)l!==i&&(s[c++]=a.shape[l]);var f=new Array(o).fill(0),d=a.shape.slice();d[i]=1;for(var h=new Array(u),p=0;p<h.length;p++){f[i]=p;var v=pd({inputs:{x:a},backend:n,attrs:{begin:f,size:d}});h[p]=Cf({inputs:{x:v},backend:n,attrs:{shape:s}}),n.disposeIntermediateTensorInfo(v)}return h}};for(var Jm={kernelName:o.UnsortedSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.segmentIds,u=r.numSegments;Gl(a,"unsortedSegmentSum");for(var s=[],c=[],l=a.shape.length-i.shape.length,f=i,d=0;d<l;++d){var h=kh({inputs:{input:f},backend:n,attrs:{dim:d+1}});f=h,c.push(h)}for(var p=0;p<u;++p){var v=o.util.createScalarValue(p,"int32"),m=n.makeTensorInfo([],"int32",v),g=lh({inputs:{a:m,b:f},backend:n}),b=wf({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),y=rh({inputs:{a:b,b:a},backend:n}),x=ih({inputs:{x:y},backend:n,attrs:{axis:0,keepDims:!1}});s.push(x),c.push(m),c.push(g),c.push(b),c.push(y),c.push(x)}var w=xv({inputs:s,backend:n,attrs:{axis:0}});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),w}},Qm=0,eg=[If,Ff,Pf,Bf,Af,Lf,Hf,Gf,qf,Xf,Kf,Zf,Qf,nd,ad,sd,cd,ld,fd,Df,dd,md,yd,xd,Of,kd,_d,gf,Sd,Td,Id,Md,Fd,Rd,Pd,zd,Ld,Wd,Vd,Hd,Gd,qd,Yd,Kd,$d,Zd,Jd,Qd,eh,uh,Zl,sh,fh,yh,Oh,jh,Eh,zh,Lh,Uh,Hh,Xh,Yh,Kh,Zh,Qh,np,ip,Ql,op,Cd,sp,lp,dp,tf,vp,bp,xp,kp,_p,Ap,Np,Ip,Mp,Fp,zp,Up,Wp,Vp,Hp,Gp,qp,Xp,Yp,Zp,Jp,tv,av,ah,ov,sv,lv,dv,vv,mv,yv,wv,Ov,_v,of,Ev,Cv,xf,Nh,Tv,sf,lf,Nf,Dv,Iv,Mv,Fv,Rv,Pv,Bv,Wv,Hv,Gv,Kv,pf,Zv,Qv,tm,vd,rv,am,im,um,cm,fm,dm,hm,pm,gm,bm,wm,km,_m,Am,Tm,Im,Mh,oh,Fm,Pm,Bm,Vm,Hm,Vf,$m,Zm,Jm,bv];Qm<eg.length;Qm++){var tg=eg[Qm];Object(o.registerKernel)(tg)}var ng,rg,ag,ig={},og={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function ug(e,t){if(!(e in ig)){var n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=null==t?function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;if(n.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete ig[e]}),!1),1===e)return n.getContext("webgl",og)||n.getContext("experimental-webgl",og);return n.getContext("webgl2",og)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;ig[e]=n}var r=ig[e];return null==r||r.isContextLost()?(delete ig[e],ug(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),ig[e])}function sg(e,t){return[t,e]}function cg(e){var t=o.util.sizeFromShape(e),n=Math.ceil(t/4);return o.util.sizeToSquarishShape(n)}function lg(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function fg(e,t){var n,r,a,i,u,s,c,l,f,d,h=e;return 2===Object(o.env)().getNumber("WEBGL_VERSION")?(n=h.R32F,r=h.R16F,a=h.RGBA16F,i=h.RGBA32F,u=h.RED,c=4,l=1,f=h.HALF_FLOAT,d=h.FLOAT,s=h.RGBA8):(n=e.RGBA,r=e.RGBA,a=e.RGBA,i=h.RGBA,u=e.RGBA,c=4,l=4,f=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,s=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:u,downloadTextureFormat:s,downloadUnpackNumChannels:c,defaultNumChannels:l,textureTypeHalfFloat:f,textureTypeFloat:d}}function dg(e,t){var n=t();return Object(o.env)().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(ng||(ng={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(rg||(rg={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(ag||(ag={}));function hg(e){return!!(Object(o.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function pg(e,t){return Eg(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function vg(e,t){var n=Eg(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(dg(e,(function(){return e.shaderSource(n,t)})),dg(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw function(e,t){var n=bg.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var r=+n[1],a=e.split("\n"),i=a.length.toString().length+2,u=a.map((function(e,t){return o.util.rightPad((t+1).toString(),i)+e})),s=0,c=0;c<u.length;c++)s=Math.max(u[c].length,s);var l=u.slice(0,r-1),f=u.slice(r-1,r),d=u.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(o.util.rightPad(f[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var mg,gg,bg=/ERROR: [0-9]+:([0-9]+):/g;function yg(e,t){if(dg(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function xg(e,t,n,r,a,i,o){var u=e.getAttribLocation(t,n);return-1!==u&&(dg(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),dg(e,(function(){return e.vertexAttribPointer(u,a,e.FLOAT,!1,i,o)})),dg(e,(function(){return e.enableVertexAttribArray(u)})),!0)}function wg(e,t,n){return Eg(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function Og(e,t,n){return e.getUniformLocation(t,n)}function kg(e,t,n,r){dg(e,(function(){return function(e,t,n){Ag(e,n),dg(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),dg(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}(e,t,r)})),dg(e,(function(){return e.uniform1i(n,r)}))}function jg(e,t,n){dg(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),dg(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function _g(e,t){dg(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),dg(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function Sg(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}(e,t))}function Eg(e,t,n){var r=dg(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function Ag(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var a="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(a,"."))}}function Cg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return o.util.sizeFromShape(e.slice(0,e.length-t))}function Ng(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Tg(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[Cg(e)].concat(Object(Dn.a)(Ng(e)))),t}function Dg(e){return e%2===0}function Ig(e,t){if(e=e.slice(-2),t=t.slice(-2),o.util.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(Dg(n)&&Dg(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Dg(e[0])&&Dg(t[0])}function Mg(e,t){return null!=e.getExtension(t)}function Fg(e){try{if(null!=ug(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function Rg(e){if(0===e)return!1;var t=ug(e);if(1!==e){if(Mg(t,"EXT_color_buffer_float"))return Pg(t);var n="EXT_color_buffer_half_float";if(Mg(t,n)){var r=t.getExtension(n);return function(e,t){var n=fg(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var a=1,i=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,a,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var u=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),u}(t,r)}return!1}return!!Mg(t,"OES_texture_float")&&(!!Mg(t,"WEBGL_color_buffer_float")&&Pg(t))}function Pg(e){var t=fg(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function zg(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&o.util.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."}))}))}var Bg=Object(o.env)();function Lg(){var e,t,n,r,a,i,u,s,c,l;return 2===Object(o.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",u="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",c="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",u="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:u,defineSpecialNaN:s,defineSpecialInf:c,defineRound:l}}function Ug(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=o.util.computeStrides(t);return r.map((function(t,a){var i="int ".concat(e[a]," = ").concat(n," / ").concat(t),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(t):"index -= ".concat(e[a]," * ").concat(t);return"".concat(i,"; ").concat(o,";")})).join("")}function Wg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=o.util.computeStrides(t);return r.map((function(t,a){var i="int ".concat(e[a]," = ").concat(n," / outShapeStrides[").concat(a,"]"),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * outShapeStrides[").concat(a,"]"):"index -= ".concat(e[a]," * outShapeStrides[").concat(a,"]");return"".concat(i,"; ").concat(o,";")})).join("")}function Vg(e,t){var n=e.length,r=e.map((function(e){return"".concat(t,"[").concat(e,"]")})),a=new Array(n-1);a[n-2]=r[n-1];for(var i=n-3;i>=0;--i)a[i]="(".concat(a[i+1]," * ").concat(r[i+1],")");return a}function Hg(e){var t=o.util.computeStrides(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}Bg.registerFlag("HAS_WEBGL",(function(){return Bg.getNumber("WEBGL_VERSION")>0})),Bg.registerFlag("WEBGL_VERSION",(function(){return Fg(2)?2:Fg(1)?1:0})),Bg.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),Bg.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===Bg.get("WEBGL_VERSION")})),Bg.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),Bg.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),Bg.registerFlag("WEBGL_PACK",(function(){return Bg.getBool("HAS_WEBGL")})),Bg.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return Bg.getBool("WEBGL_PACK")})),Bg.registerFlag("WEBGL_PACK_CLIP",(function(){return Bg.getBool("WEBGL_PACK")})),Bg.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return Bg.getBool("WEBGL_PACK")})),Bg.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return Bg.getBool("WEBGL_PACK")})),Bg.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return Bg.getBool("WEBGL_PACK")})),Bg.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return Bg.getBool("WEBGL_PACK")})),Bg.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return Bg.getBool("WEBGL_PACK")})),Bg.registerFlag("WEBGL_PACK_REDUCE",(function(){return Bg.getBool("WEBGL_PACK")})),Bg.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return Bg.getBool("WEBGL_PACK")})),Bg.registerFlag("WEBGL_CONV_IM2COL",(function(){return Bg.getBool("WEBGL_PACK")})),Bg.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return function(e){if(null==mg){var t=ug(e);mg=t.getParameter(t.MAX_TEXTURE_SIZE)}return mg}(Bg.getNumber("WEBGL_VERSION"))})),Bg.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return function(e){if(null==gg){var t=ug(e);gg=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,gg)}(Bg.getNumber("WEBGL_VERSION"))})),Bg.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=Bg.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;var t=ug(e);return Mg(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Mg(t,"EXT_disjoint_timer_query")?1:0}(e)})),Bg.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return Bg.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!o.device_util.isMobile()})),Bg.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return function(e){if(0===e)return!1;var t=ug(e);if(1===e){if(!Mg(t,"OES_texture_float"))return!1}else if(!Mg(t,"EXT_color_buffer_float"))return!1;return Pg(t)}(Bg.getNumber("WEBGL_VERSION"))})),Bg.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!Bg.getBool("WEBGL_FORCE_F16_TEXTURES")&&Bg.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),Bg.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return Rg(Bg.getNumber("WEBGL_VERSION"))})),Bg.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return 2===(e=Bg.getNumber("WEBGL_VERSION"))&&null!=ug(e).fenceSync;var e})),Bg.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return Bg.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),Bg.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),Bg.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return o.device_util.isMobile()?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),Bg.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 128})),Bg.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(function(){return!1})),Bg.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e5})),Bg.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(function(){return 128}));var Gg="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",qg=o.backend_util.getBroadcastDims;function Xg(e,t,n){var r=[];if(e.forEach((function(e){var t=o.util.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){switch(db(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((function(e){r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));var a,i,u=r.join("\n"),s=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,a="";a+=n?Kg(e,r):Yg(e,r);var i=e.shapeInfo.logicalShape,o=t.logicalShape;i.length<=o.length&&(a+=n?cb(e,t):lb(e,t));return a}(e,t,n.packedInputs,n.enableShapeUniforms)})).join("\n"),c=t.texShape,l=Lg(),f=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(l),d=function(e){return"".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat($g,"\n    ").concat(Zg,"\n    ").concat(Jg,"\n  ")}(l);return t.isPacked?(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(o.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");var a=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),i=a*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(i,";\n      index -= b * ").concat(i,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),i=a*Math.ceil(e[e.length-2]/2),o=i,u="",s="b, r, c",c=2;c<e.length-1;c++)o*=e[e.length-c-1],u="\n      int b".concat(c," = index / ").concat(o,";\n      index -= b").concat(c," * ").concat(o,";\n    ")+u,s="b".concat(c,", ")+s;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(u,"\n\n      int b = index / ").concat(i,";\n      index -= b * ").concat(i,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec").concat(e.length,"(").concat(s,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,c,n.enableShapeUniforms),i=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(l)):(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(o.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){var r=Wg(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(r,"\n    return ivec3(r, c, d);\n  }\n")}var a=Ug(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){var r=Wg(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}var a=Ug(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){var n=Ug(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=Ug(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,c,n.enableShapeUniforms),i=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(l)),n.packedInputs&&(d+=Qg),[d,f,i,u,a,s,n.userCode].join("\n")}function Yg(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return tb(e,t);case 1:return nb(e,t);case 2:return rb(e,t);case 3:return ab(e,t);case 4:return ib(e,t);case 5:return ob(e);case 6:return ub(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function Kg(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=Lg();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=Lg();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ");var o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,u=i[0],s=i[1],c=Lg();if(null!=i&&o.util.arraysEqual(n,i))return t?"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(u,".0);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(a,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");var l=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],f=Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(f,", ").concat(l[0],", ").concat(l[1],", row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){var u=[1,2],s=hb(e,n.slice(1)),c=["b","row","col"];return"\n        ".concat(Kg(s,t),"\n        vec4 ").concat(a,"(int b, int row, int col) {\n          return ").concat(a,"(").concat(pb(c,u),");\n        }\n      ")}var l=Lg();if(t)return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ");var f=o[0],d=o[1],h=Math.ceil(n[2]/2),p=h*Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(f,", ").concat(d,", ").concat(p,", ").concat(h,", b, row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=Lg();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");for(var i=e.shapeInfo.logicalShape,o=i.length,u=e.shapeInfo.texShape,s=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],c=s[0],l=s[1],f=Math.ceil(i[o-1]/2),d=f*Math.ceil(i[o-2]/2),h="int b, int row, int col",p="b * ".concat(d," + (row / 2) * ").concat(f," + (col / 2)"),v=2;v<o-1;v++)h="int b".concat(v,", ")+h,d*=i[o-v-1],p="b".concat(v," * ").concat(d," + ")+p;return"\n    vec4 ".concat(r,"(").concat(h,") {\n      int index = ").concat(p,";\n      int texR = index / ").concat(l,";\n      int texC = index - texR * ").concat(l,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(l,", ").concat(c,");\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}var $g="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Zg="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Jg="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Qg="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function eb(e){return"offset".concat(e)}function tb(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");var a=Object(u.a)(e.shapeInfo.texShape,2),i=a[0],o=a[1];if(1===i&&1===o)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=eb(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var c=Object(u.a)(e.shapeInfo.texShape,2),l=c[0],f=c[1];return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(l,", ").concat(f,", ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function nb(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(sb(e),"\n      }\n    ");var a=e.shapeInfo.texShape,i=a[0],o=a[1];if(1===o&&1===i)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var u=eb(n);return 1===o?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(u,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(u,") + 0.5) / ").concat(i,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):1===i?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(u,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(u,") + 0.5) / ").concat(o,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):t?"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(u,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  "):"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(i,", ").concat(o,", index + ").concat(u,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function rb(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(null!=i&&o.util.arraysEqual(n,i)){if(t)return"\n      float ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var u=i[0],s=i[1];return"\n    float ".concat(a,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(u,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}var c=o.util.squeezeShape(n),l=c.newShape,f=c.keptDims,d=l;if(d.length<n.length){var h=hb(e,d);return"\n      ".concat(Yg(h,t),"\n      float ").concat(a,"(int row, int col) {\n        return ").concat(a,"(").concat(pb(["row","col"],f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(sb(e),"\n      }\n    ");var p=i[0],v=i[1],m=eb(r);return 1===v?t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(p,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):1===p?t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(v,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):t?"\n      float ".concat(a,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(m,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n  float ".concat(a,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(m,";\n    vec2 uv = uvFromFlat(").concat(p,", ").concat(v,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}function ab(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],u=n[2],s=o.util.squeezeShape(n),c=s.newShape,l=s.keptDims,f=c;if(f.length<n.length){var d=hb(e,f);return"\n        ".concat(Yg(d,t),"\n        float ").concat(a,"(int row, int col, int depth) {\n          return ").concat(a,"(").concat(pb(["row","col","depth"],l),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(i,", ").concat(u,", 1)));\n        ").concat(sb(e),"\n      }\n    ");var h=e.shapeInfo.texShape,p=h[0],v=h[1],m=e.shapeInfo.flatOffset;if(v===i&&null==m)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(a,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(u,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(v,".0, ").concat(p,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(v===u&&null==m)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(v,".0, ").concat(p,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");var g=eb(r);return t?"\n    float ".concat(a,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * ").concat(i," + col * ").concat(u," + depth + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    "):"\n      float ".concat(a,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(i," + col * ").concat(u," + depth + ").concat(g,";\n        vec2 uv = uvFromFlat(").concat(p,", ").concat(v,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}function ib(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],u=n[2]*i,s=n[1]*u,c=o.util.squeezeShape(n),l=c.newShape,f=c.keptDims;if(l.length<n.length){var d=hb(e,l);return"\n      ".concat(Yg(d,t),"\n      float ").concat(a,"(int row, int col, int depth, int depth2) {\n        return ").concat(a,"(").concat(pb(["row","col","depth","depth2"],f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(u,", ").concat(i,", 1)));\n        ").concat(sb(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,v=p[0],m=p[1],g="int stride2 = ".concat(r,"Shape[3];"),b="int stride1 = ".concat(r,"Shape[2] * stride2;"),y="int stride0 = ".concat(r,"Shape[1] * stride1;");if(m===s&&null==h)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        ").concat(g,"\n        ").concat(b,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(u,", ").concat(i,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(m===i&&null==h)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var x=eb(r);return t?"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(g,"\n      ").concat(b,"\n      ").concat(y,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(x,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(u," +\n          depth * ").concat(i," + depth2;\n      vec2 uv = uvFromFlat(").concat(v,", ").concat(m,", index + ").concat(x,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}function ob(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],i=t[3]*a,u=t[2]*i,s=t[1]*u,c=o.util.squeezeShape(t),l=c.newShape,f=c.keptDims;if(l.length<t.length){var d=hb(e,l);return"\n      ".concat(Yg(d),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(pb(["row","col","depth","depth2","depth3"],f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(u,", ").concat(i,", ").concat(a,")) +\n          depth3;\n        ").concat(sb(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,v=p[0],m=p[1];if(m===s&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(u,", ").concat(i,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(m===a&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var g=eb(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(u," + depth * ").concat(i," +\n          depth2 * ").concat(a," + depth3 + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(v,", ").concat(m,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function ub(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=o.util.squeezeShape(t),i=a.newShape,u=a.keptDims;if(i.length<t.length){var s=hb(e,i);return"\n      ".concat(Yg(s),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(pb(["row","col","depth","depth2","depth3","depth4"],u),");\n      }\n    ")}var c=t[5],l=t[4]*c,f=t[3]*l,d=t[2]*f,h=t[1]*d;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(h,", ").concat(d,", ").concat(f,", ").concat(l,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(c,", 1)));\n        ").concat(sb(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,v=e.shapeInfo.texShape,m=v[0],g=v[1];if(g===h&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(d,", ").concat(f,", ").concat(l,", ").concat(c,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(g===c&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var b=eb(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(h," + col * ").concat(d," + depth * ").concat(f," +\n          depth2 * ").concat(l," + depth3 * ").concat(c," + depth4 + ").concat(b,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(g,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function sb(e){var t=e.name,n=o.util.sizeFromShape(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function cb(e,t){var n,r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),i="get"+a+"AtOutCoords",u=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,c=qg(e.shapeInfo.logicalShape,t.logicalShape),l=fb(s),f=s-u,d=["x","y","z","w","u","v"];n=0===u?"":s<2&&c.length>=1?"coords = 0;":c.map((function(e){return"coords.".concat(d[e+f]," = 0;")})).join("\n");var h="";h=s<2&&u>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(d[t+f])})).join(", ");var p="return outputValue;",v=1===o.util.sizeFromShape(e.shapeInfo.logicalShape),m=1===o.util.sizeFromShape(t.logicalShape);if(1!==u||v||m){if(v&&!m)p=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(c.length){var g=u-2,b=u-1;c.indexOf(g)>-1&&c.indexOf(b)>-1?p="return vec4(outputValue.x);":c.indexOf(g)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":c.indexOf(b)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(i,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(a,"(").concat(h,");\n      ").concat(p,"\n    }\n  ")}function lb(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=t.texShape,u=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,c=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===c&&null==e.shapeInfo.flatOffset&&o.util.arraysEqual(u,i))return"\n      float ".concat(a,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var l,f=fb(c),d=qg(e.shapeInfo.logicalShape,t.logicalShape),h=c-s,p=["x","y","z","w","u","v"];l=0===s?"":c<2&&d.length>=1?"coords = 0;":d.map((function(e){return"coords.".concat(p[e+h]," = 0;")})).join("\n");var v="";return v=c<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(p[t+h])})).join(", "),"\n    float ".concat(a,"() {\n      ").concat(f," coords = getOutputCoords();\n      ").concat(l,"\n      return get").concat(r,"(").concat(v,");\n    }\n  ")}function fb(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function db(e,t,n){var r=o.util.squeezeShape(t),a=r.newShape,i=r.keptDims,u=t.length,s=e&&3===u&&1===t[0],c=s?t.slice(1):a,l=!e&&u>1&&!o.util.arraysEqual(t,n)&&a.length<u||s;return{useSqueezeShape:l,uniformShape:l?c:t,keptDims:i}}function hb(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function pb(e,t){return t.map((function(t){return e[t]})).join(", ")}function vb(e,t,n,r){var a=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),i=a.map((function(e){return e.shapeInfo})),u={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=Xg(a,u,t),c=vg(e.gl,s),l=e.createProgram(c),f=null,d=e.getUniformLocation(l,"NAN",!1);1===Object(o.env)().getNumber("WEBGL_VERSION")&&(f=e.getUniformLocation(l,"INFINITY",!1));for(var h,p,v,m=!1,g={},b={},y={},x=0;x<t.variableNames.length;x++){var w=t.variableNames[x];g[w]=e.getUniformLocation(l,w,m),g["offset".concat(w)]=e.getUniformLocation(l,"offset".concat(w),m),t.enableShapeUniforms&&(b["".concat(w,"Shape")]=e.getUniformLocation(l,"".concat(w,"Shape"),m),y["".concat(w,"TexShape")]=e.getUniformLocation(l,"".concat(w,"TexShape"),m))}t.enableShapeUniforms&&(h=e.getUniformLocation(l,"outShape",m),v=e.getUniformLocation(l,"outShapeStrides",m),p=e.getUniformLocation(l,"outTexShape",m));var O=[];return t.customUniforms&&t.customUniforms.forEach((function(t,n){O[n]=e.getUniformLocation(l,t.name,m)})),{program:t,fragmentShader:c,source:s,webGLProgram:l,uniformLocations:g,customUniformLocations:O,inShapeInfos:i,outShapeInfo:u,infLoc:f,nanLoc:d,inShapesLocations:b,inTexShapesLocations:y,outShapeLocation:h,outShapeStridesLocation:v,outTexShapeLocation:p}}function mb(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach((function(e,n){var r=e.logicalShape,a=t[n],i=a.shape;if(!o.util.arraysEqual(r,i))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(i," must match"));if(!e.isUniform||!a.isUniform){var u=e.texShape,s=a.isUniform?null:a.texData.texShape;if(!o.util.arraysEqual(u,s))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(u," and ").concat(s," must match"))}}))}function gb(e,t,n,r,a){t.program.enableShapeUniforms||(mb(t.inShapeInfos,n),mb([t.outShapeInfo],[r]));var i=r.texData.texture,u=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,u[0],u[1]):e.setOutputMatrixTexture(i.texture,u[0],u[1]),e.setProgram(t.webGLProgram),1===Object(o.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var a=t.program.variableNames[r],i=t.uniformLocations[a],u=t.uniformLocations["offset".concat(a)],s=t.inShapesLocations["".concat(a,"Shape")],c=t.inTexShapesLocations["".concat(a,"TexShape")];if(s){var l=db(t.program.packedInputs,n.shape,n.texData.texShape).uniformShape;switch(l.length){case 1:e.gl.uniform1iv(s,new Int32Array(l));break;case 2:e.gl.uniform2iv(s,new Int32Array(l));break;case 3:e.gl.uniform3iv(s,new Int32Array(l));break;case 4:e.gl.uniform4iv(s,new Int32Array(l))}}if(c&&e.gl.uniform2i(c,n.texData.texShape[0],n.texData.texShape[1]),null!=i)if(n.isUniform)if(o.util.sizeFromShape(n.shape)<2)e.gl.uniform1f(i,n.uniformValues[0]);else{var f=n.uniformValues;f instanceof Float32Array||(f=new Float32Array(f)),e.gl.uniform1fv(i,f)}else null!=n.texData.slice&&null!=u&&e.gl.uniform1i(u,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,i,r)}));var s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){var c=o.util.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(c));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(c));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(c))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a&&t.program.customUniforms.forEach((function(n,r){var i=t.customUniformLocations[r],o=a[r];if("float"===n.type)e.gl.uniform1fv(i,o);else if("vec2"===n.type)e.gl.uniform2fv(i,o);else if("vec3"===n.type)e.gl.uniform3fv(i,o);else if("vec4"===n.type)e.gl.uniform4fv(i,o);else if("int"===n.type)e.gl.uniform1iv(i,o);else if("ivec2"===n.type)e.gl.uniform2iv(i,o);else if("ivec3"===n.type)e.gl.uniform3iv(i,o);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(i,o)}})),e.executeProgram()}function bb(e,t,n){var r="";t.concat(n).forEach((function(t){var a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var i=t.texData.texShape,u=db(e.packedInputs,t.shape,i),s=u.useSqueezeShape,c=u.uniformShape,l=u.keptDims,f="",d="",h="";if(1===c.length&&e.packedInputs){var p=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];f="".concat(p[0]>1,"_").concat(p[1]>1)}else if(2!==c.length||e.packedInputs){if(c.length>2&&!e.packedInputs){var v=o.util.computeStrides(c);h="".concat(v[0]===i[1],"_").concat(v[v.length-1]===i[1])}}else d="".concat(c[0]>1,"_").concat(c[1]>1);var m=t.shape.length,g=2===c.length&&o.util.arraysEqual(t.shape,i),b=1===o.util.sizeFromShape(t.shape),y=o.backend_util.getBroadcastDims(t.shape,n.shape),x=!e.packedInputs&&m===n.shape.length&&o.util.arraysEqual(i,n.texData.texShape),w=e.packedInputs||c.length>2?"":"".concat(i[0]>1,"_").concat(i[1]>1);r+="".concat(m,"_").concat(x,"_").concat(s?l:"","_").concat(c.length,"_").concat(b,"_").concat(y,"_").concat(g,"_").concat(f,"_").concat(d,"_").concat(h,"_").concat(w,"_").concat(a)}else{var O=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(O,"_").concat(a)}}));var a=e.userCode,i=e.constructor.name;return i+="_"+r+"_"+a+"".concat(Object(o.env)().getNumber("WEBGL_VERSION"))}function yb(e){return Object(o.env)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var xb=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=ng.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=Lg();this.outputShape=t,this.enableShapeUniforms=yb(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?Wg(["r","c","d"],t):Ug(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),wb=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=ng.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=Lg();this.outputShape=t,this.enableShapeUniforms=yb(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?Wg(["r","c","d"],t):Ug(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),Ob=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["A"],this.outTexUsage=rg.DOWNLOAD;var n=Lg();this.outputShape=t,this.userCode="\n      ".concat(Gg,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),kb=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=rg.DOWNLOAD;var n=Lg();this.outputShape=t,this.userCode="\n      ".concat(Gg,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),jb=Object(An.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(En.a)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=Lg();this.outputShape=t,this.enableShapeUniforms=yb(this.outputShape.length);var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Hg(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ").concat(r.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(r.output," = vec4(").concat(a,", 0., 0., 0.);\n      }\n    ")})),_b=Object(An.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=Lg();this.outputShape=t,this.enableShapeUniforms=yb(this.outputShape.length);var a="",i="result";n&&(i="floor(result * 255. + 0.5)");for(var o=0;o<=1;o++)for(var u=0;u<=1;u++){var s=2*o+u;a+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(u," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n          localCoords[2] += ").concat(u,";\n          if (localCoords[1] + ").concat(o," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n            localCoords[1] += ").concat(o,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(r.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(s,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(s,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(s,"] = values[2];\n            } else {\n              result[").concat(s,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Hg(t),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(a,"\n\n          ").concat(r.output," = ").concat(i,";\n        }\n    ")}));function Sb(e){var t=Lg();return function(e,t){var n=Eg(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(dg(e,(function(){return e.shaderSource(n,t)})),dg(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function Eb(e){return function(e,t){var n=Eg(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return dg(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),dg(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Ab(e){return function(e,t){var n=Eg(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return dg(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),dg(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Uint16Array([0,1,2,2,1,3]))}function Cb(e,t,n,r,a,i){!function(e,t){var n=Object(o.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){var a="[".concat(e,"x").concat(t,"]"),i="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+i+".")}}(t,n);var u=function(e){return Eg(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}(e),s=e.TEXTURE_2D;return dg(e,(function(){return e.bindTexture(s,u)})),dg(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),dg(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),dg(e,(function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)})),dg(e,(function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)})),1===Object(o.env)().getNumber("WEBGL_VERSION")?dg(e,(function(){return e.texImage2D(s,0,r,t,n,0,a,i,null)})):dg(e,(function(){return e.texStorage2D(s,1,r,t,n)})),dg(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),{texture:u,texShape:[n,t]}}function Nb(e){return e.internalFormatFloat}function Tb(e){return e.internalFormatHalfFloat}function Db(e){return e.downloadTextureFormat}function Ib(e){return e.internalFormatPackedFloat}function Mb(e){return e.internalFormatPackedHalfFloat}function Fb(e,t,n,r,a,i,o,s){var c=e,l=new Float32Array(function(e,t){var n=lg(e,t),r=Object(u.a)(n,2);return r[0]*r[1]*4}(i,o));return c.bindBuffer(c.PIXEL_PACK_BUFFER,t),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,l),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),l}var Rb=function(){function e(t){Object(En.a)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=Object(o.env)().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,function(e,t){ig[e]=t}(n,t)):this.gl=ug(n);var r="WEBGL_color_buffer_float",a="EXT_color_buffer_half_float";if(1===Object(o.env)().getNumber("WEBGL_VERSION")){var i="OES_texture_half_float";if(this.textureFloatExtension=pg(this.gl,"OES_texture_float"),Mg(this.gl,i))this.textureHalfFloatExtension=pg(this.gl,i);else if(Object(o.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Mg(this.gl,a))this.colorBufferHalfFloatExtension=pg(this.gl,a);else if(Object(o.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Mg(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!Mg(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=Eb(this.gl),this.indexBuffer=Ab(this.gl),this.framebuffer=function(e){return Eg(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=fg(this.gl,this.textureHalfFloatExtension)}return Object(An.a)(e,[{key:"debug",get:function(){return Object(o.env)().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;dg(t,(function(){return t.finish()})),dg(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),dg(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),dg(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),dg(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),dg(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=sg(t,n),i=Object(u.a)(a,2);return Cb(e,i[0],i[1],Nb(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=sg(t,n),i=Object(u.a)(a,2);return Cb(e,i[0],i[1],Tb(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=sg(t,n),i=Object(u.a)(a,2);return Cb(e,i[0],i[1],Db(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),function(e,t,n){dg(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?2===Object(o.env)().getNumber("WEBGL_VERSION")?dg(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)})):dg(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):2===Object(o.env)().getNumber("WEBGL_VERSION")?dg(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)})):dg(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),dg(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,a,i){var u,s,c;dg(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),a instanceof Uint8Array?(u=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,c=e.RGBA):(u=new Float32Array(n*r*4),s=e.FLOAT,c=i.internalFormatPackedFloat),u.set(a),2===Object(o.env)().getNumber("WEBGL_VERSION")?dg(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,u)})):dg(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,c,n,r,0,e.RGBA,s,u)})),dg(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=lg(t,n),i=Object(u.a)(a,2);return Cb(e,i[0],i[1],Mb(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=lg(t,n),i=Object(u.a)(a,2);return Cb(e,i[0],i[1],Ib(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(_g(this.gl,this.framebuffer),this.outputTexture=null),dg(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n,r){var a=sg(t,n),i=Object(u.a)(a,2),o=i[0],s=i[1],c=new Uint8Array(t*n*4);return dg(e,(function(){return e.readPixels(0,0,o,s,r.downloadTextureFormat,e.UNSIGNED_BYTE,c)})),new Float32Array(c.buffer)}(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,a,i){return Fb(this.gl,e,0,0,0,a,i,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return function(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=function(e,t,n,r){var a=e.createBuffer();dg(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var i=16*t*n;return dg(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)})),dg(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),dg(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if(Object(o.env)().getBool("WEBGL_FENCE_API_ENABLED")){var a=e,i=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=a.clientWaitSync(i,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=i}else Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n){var r=new Float32Array(t*n*4);return dg(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}(r.gl,t,n)}))}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=Sb(n));var r=function(e){return Eg(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}(n);return dg(n,(function(){return n.attachShader(r,t.vertexShader)})),dg(n,(function(){return n.attachShader(r,e)})),function(e,t){if(dg(e,(function(){return e.linkProgram(t)})),!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(n,r),this.debug&&yg(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=function(e,t,n){return dg(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),xg(e,t,"clipSpacePos",n,3,20,0)&&xg(e,t,"uv",n,2,20,12)}(n,this.program,this.vertexBuffer)),r}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&dg(this.gl,(function(){return t.gl.deleteProgram(e)}))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&yg(this.gl,this.program),dg(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?wg(this.gl,e,t):Og(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),dg(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),kg(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=lg(t,n),a=Object(u.a)(r,2),i=a[0],o=a[1];this.setOutputMatrixTextureDriver(e,i,o)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&yg(this.gl,this.program),Sg(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),dg(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),dg(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=pg(this.gl,2===Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a}},{key:"endQuery",value:function(){if(2!==Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){var n=this;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.util.repeatedTry((function(){return n.disposed||n.isQueryAvailable(t,Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return e.abrupt("return",this.getQueryTime(t,Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}var i=this.getQueryTimerExtensionWebGL1(),o=i.getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||o.util.repeatedTry((function(){return n.pollItems(),0===n.itemsToPoll.length}))}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),jg(this.gl,e,this.framebuffer),this.debug&&Sg(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(jg(this.gl,this.outputTexture,this.framebuffer),this.debug&&Sg(this.gl)):_g(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;jg(r,e,this.framebuffer),this.debug&&Sg(r),this.outputTexture=e,dg(r,(function(){return r.viewport(0,0,t,n)})),dg(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var a=this;this.throwIfDisposed(),dg(this.gl,(function(){return a.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}}]),e}();var Pb=_f,zb=gd,Bb=bd,Lb=wd,Ub=Ed,Wb=ch,Vb=xh,Hb=_h,Gb=Wh,qb=$h,Xb=Jh,Yb=ep,Kb=rp,$b=hp,Zb=mp,Jb=yp,Qb=wp,ey=Rp,ty=Bp,ny=Kp,ry=th,ay=iv,iy=hv,oy=Sv,uy=Av,sy=Lv,cy=df,ly=Mf,fy=hd,dy=om,hy=sm,py=lm,vy=vm,my=jm,gy=Em,by=Nm,yy=Dm,xy=Th,wy=zm,Oy=Wm,ky=Uf,jy=Km;function _y(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return"".concat(e,".").concat(t)}))}function Sy(e,t){return 1===t?[e]:_y(e,t)}var Ey=function(){function e(t){if(Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=yb(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=Sy("rc",this.rank),r=fb(this.rank),a=this.getOutOfBoundsCondition(n),i=this.getSetup(n),o=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(r," rc = getOutputCoords();\n\n          if(").concat(a,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(i,"\n\n            setOutput(vec4(").concat(o,"));\n          }\n        }\n      ")}}return Object(An.a)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var a="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1"),i=2;i<this.rank;i++)a="".concat(e[e.length-1-i],",")+a;t.push(a)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);if(1===this.rank){var n=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(n," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}(),Ay=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=yb(this.outputShape.length);for(var r="",a=0;a<4;a++){var i="thisRC = rc;";a%2===1&&(i+="thisRC.z += 1;"),a>1&&(i+="thisRC.y += 1;"),r+="\n        ".concat(i,"\n        ").concat(a>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(a>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){var n=t?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=e.map((function(e,t){return t})),a=Vg(r,t);return a.map((function(t,r){var i="int ".concat(e[r]," = ").concat(n," / ").concat(a[r]),o=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(a[r]):"index -= ".concat(e[r]," * ").concat(a[r]);return"".concat(i,"; ").concat(o,";")})).join("")}(["r","c","d"],"inputShape"):Ug(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Hg(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")}));var Cy=function(){function e(t){Object(En.a)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return Object(An.a)(e,[{key:"acquireTexture",value:function(e,t,n){var r=Ty(t,n),a=Dy(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);var i,o=Ny(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();var u=this.freeTextures[a].shift();return this.usedTextures[a].push(u),u}return r===ag.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===ag.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===ag.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===ag.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===ag.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(i),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),i}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var a=Ty(n,r),i=Dy(t,a,r);i in this.freeTextures||(this.freeTextures[i]=[]);var u=Ny(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=Object(o.env)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=u):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=u),this.numUsedTextures--;var c=this.usedTextures[i],l=c.indexOf(e);if(l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c.splice(l,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function Ny(e,t,n,r,a){var i,o=function(e,t){switch(e){case ag.PACKED_2X2_FLOAT32:return Ib(t);case ag.PACKED_2X2_FLOAT16:return Mb(t);case ag.UNPACKED_FLOAT32:return Nb(t);case ag.UNPACKED_FLOAT16:return Tb(t);case ag.PACKED_4X1_UNSIGNED_BYTE:return Db(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(a){var s=lg(e[0],e[1]),c=Object(u.a)(s,2);i=c[0]*c[1]}else{var l=sg(e[0],e[1]),f=Object(u.a)(l,2);i=f[0]*f[1]}var d=function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,o);return i*d}function Ty(e,t){if(e===rg.UPLOAD)return ag.PACKED_2X2_FLOAT32;if(e===rg.RENDER||null==e)return function(e){return Object(o.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?ag.PACKED_2X2_FLOAT32:ag.UNPACKED_FLOAT32:e?ag.PACKED_2X2_FLOAT16:ag.UNPACKED_FLOAT16}(t);if(e===rg.DOWNLOAD||e===rg.PIXELS)return ag.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function Dy(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var Iy=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=yb(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),My="if (isnan(x)) return x;",Fy="return x;",Ry="return abs(x);";var Py="return (x >= 0.0) ? x : (exp(x) - 1.0);",zy=My+"\n  return (x < 0.0) ? 0.0 : x;\n",By=My+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Ly="return x;",Uy="return 1.0 / (1.0 + exp(-1.0 * x));",Wy="return x;",Vy="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Hy="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Gy="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",qy="return 1.0 / (1.0 + exp(-1.0 * x));",Xy=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=yb(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),Yy=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=yb(this.outputShape.length);var n=t.length,r=Sy("rc",n),a=fb(n),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),o=r.slice(-2),u=n<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(a," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(i,");\n\n        setOutput(getChannel(packedInput, ").concat(u,"));\n      }\n    ")})),Ky=o.kernel_impls.whereImpl,$y={};var Zy=Object(o.env)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");var Jy=function(e){Object(Cn.a)(n,e);var t=Object(Nn.a)(n);function n(e){var r,a,i;if(Object(En.a)(this,n),(r=t.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!Object(o.env)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null!=e){if(e instanceof Rb)a=e;else{var u=ug(Object(o.env)().getNumber("WEBGL_VERSION"),e);a=new Rb(u)}r.binaryCache={},r.gpgpuCreatedLocally=!1}else{var s=ug(Object(o.env)().getNumber("WEBGL_VERSION"));a=new Rb(s),r.binaryCache=((i=Object(o.env)().getNumber("WEBGL_VERSION"))in $y||($y[i]={}),$y[i]),r.gpgpuCreatedLocally=!0}return r.gpgpu=a,r.canvas=r.gpgpu.gl.canvas,r.textureManager=new Cy(r.gpgpu),r.numMBBeforeWarning=null==Object(o.env)().global.screen?1024:Object(o.env)().global.screen.height*Object(o.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new o.DataStorage(Object(Mn.a)(r),Object(o.engine)()),r}return Object(An.a)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"write",value:function(e,t,n){if((Object(o.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Object(o.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:rg.UPLOAD,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){if(Object(o.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:rg.UPLOAD,refCount:a})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,a=t.complexTensorInfos,i=t.slice,u=t.shape,s=t.isPacked;if(null!=i){var c;c=s?new Xy(u,Ly):new Iy(u,Ly);var l=this.runWebGLProgram(c,[{dataId:e,shape:u,dtype:r}],r),f=this.readSync(l.dataId);return this.disposeIntermediateTensorInfo(l),f}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var d,h,p=null!=this.activeTimers;if(p&&(d=o.util.now()),"complex64"===r){var v=this.readSync(a.real.dataId),m=this.readSync(a.imag.dataId);h=o.backend_util.mergeRealAndImagArrays(v,m)}else h=this.getValuesFromTexture(e);return p&&(this.downloadWaitMs+=o.util.now()-d),this.convertAndCacheOnCPU(e,h)}},{key:"read",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){var n,r,a,i,u,s,c,l,f,d,h,p,v,m,g,b,y,x,w,O,k,j,_;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise((function(e){return n.push(e)})));case 3:if(r=this.texData.get(t),a=r.values,i=r.shape,u=r.slice,s=r.dtype,c=r.complexTensorInfos,l=r.isPacked,null==u){e.next=11;break}return f=l?new Xy(i,Ly):new Iy(i,Ly),d=this.runWebGLProgram(f,[{dataId:t,shape:i,dtype:s}],s),h=this.read(d.dataId),this.disposeIntermediateTensorInfo(d),e.abrupt("return",h);case 11:if(null==a){e.next=13;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 13:if(!Object(o.env)().getBool("DEBUG")){e.next=16;break}if(Object(o.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==Object(o.env)().getNumber("WEBGL_VERSION")){e.next=16;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 16:if(p=null,"complex64"!==s&&Object(o.env)().get("WEBGL_BUFFER_SUPPORTED")&&(v=this.decode(t),g=this.texData.get(v.dataId),p=(m=this.gpgpu).createBufferFromTexture.apply(m,[g.texture.texture].concat(Object(Dn.a)(cg(i))))),this.pendingRead.set(t,[]),"complex64"===s){e.next=22;break}return e.next=22,this.gpgpu.createAndWaitForFence();case 22:if("complex64"!==s){e.next=31;break}return e.next=25,Promise.all([this.read(c.real.dataId),this.read(c.imag.dataId)]);case 25:y=e.sent,x=y[0],w=y[1],b=o.backend_util.mergeRealAndImagArrays(x,w),e.next=32;break;case 31:null==p?b=this.getValuesFromTexture(t):(O=o.util.sizeFromShape(i),b=this.gpgpu.downloadFloat32MatrixFromBuffer(p,O));case 32:return null!=v&&this.disposeIntermediateTensorInfo(v),null!=p&&dg(k=this.gpgpu.gl,(function(){return k.deleteBuffer(p)})),j=this.convertAndCacheOnCPU(t,b),_=this.pendingRead.get(t),this.pendingRead.delete(t),_.forEach((function(e){return e(j)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&Object(o.engine)().removeDataId(t,this),this.pendingDeletes--),e.abrupt("return",j);case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.texData.get(e),r=n.values,a=n.shape,i=n.slice,u=n.dtype,s=n.isPacked,c=n.texture;if("complex64"===u)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=i){var l;l=s?new Xy(a,Ly):new Iy(a,Ly);var f=this.runWebGLProgram(l,[{dataId:e,shape:a,dtype:u}],u),d=this.readToGPU(f,t);return this.disposeIntermediateTensorInfo(f),d}if(null==c)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var h=this.decode(e,t.customTexShape),p=Object(o.engine)().makeTensorFromDataId(h.dataId,h.shape,h.dtype),v=this.texData.get(h.dataId);return Object.assign({tensorRef:p},v.texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return o.util.decodeString(e)}))}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return Object(o.buffer)(e.shape,e.dtype,n)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!hg(n)){if(Object(o.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.isPacked,i=o.util.sizeFromShape(n);if(Object(o.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var u,s=this.decode(e),c=this.texData.get(s.dataId),l=(u=this.gpgpu).downloadMatrixFromPackedTexture.apply(u,[c.texture.texture].concat(Object(Dn.a)(cg(n)))).subarray(0,i);return this.disposeIntermediateTensorInfo(s),l}var f=Object(o.env)().getBool("WEBGL_PACK")&&!0===a,d=f?Tg(n):n,h=f?new kb(d):new Ob(d),p=this.runWebGLProgram(h,[{shape:d,dtype:r,dataId:e}],"float32"),v=this.texData.get(p.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture.texture,v.texShape[0],v.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(p),m}},{key:"timerAvailable",value:function(){return Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this,n=this.activeTimers,r=[],a=!1;null==this.programTimersStack?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,e();var i=o.util.flatten(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),u=o.util.flatten(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e}));this.activeTimers=n,a&&(this.programTimersStack=null);var s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return Object(Ha.a)(qa.a.mark((function e(){var n;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=8;break}return e.next=3,Promise.all(i);case 3:n=e.sent,s.kernelMs=o.util.sum(n),s.getExtraProfileInfo=function(){return n.map((function(e,t){return{name:u[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},e.next=9;break;case 8:s.kernelMs={error:"WebGL query timers are not supported in this environment."};case 9:return t.uploadWaitMs=0,t.downloadWaitMs=0,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:o.util.now(),endMs:null}}},{key:"endTimer",value:function(e){return Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=o.util.now(),e)}},{key:"getQueryTime",value:function(){var e=Object(Ha.a)(qa.a.mark((function e(t){var n;return qa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e),r=n.complexTensorInfos;return null!=r&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,a=t.texShape,i=t.usage,o=t.isPacked,u=t.slice,s=u&&u.origDataId||e,c=this.dataRefCount.get(s);c>1?this.dataRefCount.set(s,c-1):(this.dataRefCount.delete(s),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,i,o)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zy;return Object(o.env)().getBool("WEBGL_CPU_FORWARD")&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&o.util.sizeFromShape(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){o.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Ky(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new Xy(e.shape,t),a=this.compileAndRun(r,[e],n);return Object(o.engine)().makeTensorFromDataId(a.dataId,a.shape,a.dtype)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=ly(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(Object(o.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ry,e.dtype);var n=new Iy(e.shape,Ry),r=this.compileAndRun(n,[e]);return Object(o.engine)().makeTensorFromDataId(r.dataId,r.shape,r.dtype)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&o.util.isString(n[0])){var a=n.map((function(e){return o.util.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){var r=this.makeTensorInfo(e,t,n).dataId;return Object(o.engine)().makeTensorFromDataId(r,e,t,this)}},{key:"unpackTensor",value:function(e){var t=new Yy(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new Ey(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[Cg(e.shape)].concat(Object(Dn.a)(Ng(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[Cg(t)].concat(Object(Dn.a)(Ng(t))),i=new Ay(a,n),o=[n],u=this.runWebGLProgram(i,[r],e.dtype,o,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}},{key:"decode",value:function(e,t){var n=this.texData.get(e),r=n.isPacked,a=n.shape,i=n.dtype;if(null!=t){var u=o.util.sizeFromShape(a),s=t[0]*t[1]*4;o.util.assert(u<=s,(function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."}))}var c,l=Tg(a);c=r?new wb(l):new xb(l);var f=[null!=t?t:cg(l)];return{dtype:i,shape:a,dataId:this.runWebGLProgram(c,[{shape:l,dtype:i,dataId:e}],i,f,!0,t).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var a=this,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5?arguments[5]:void 0,s=this.makeTensorInfo(e.outputShape,n),c=this.texData.get(s.dataId);if(e.packedOutput&&(c.isPacked=!0),e.outPackingScheme===ng.DENSE){var l=null!=u?u:cg(e.outputShape);c.texShape=l.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(c.usage=e.outTexUsage),0===o.util.sizeFromShape(s.shape))return c.values=o.util.getTypedArrayFromDType(s.dtype,0),s;var f=[],d=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&o.util.sizeFromShape(t.shape)<=Object(o.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(a.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),f.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!Ig(n.shape,t.shape)){var r=t,i=t.shape;t.shape=n.shape,t=a.packedReshape(t,i),f.push(t),n=a.texData.get(t.dataId),r.shape=i}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(s.dataId);var h,p={shape:s.shape,texData:c,isUniform:!1},v=bb(e,d,p),m=this.getAndSaveBinary(v,(function(){return vb(a.gpgpu,e,d,p)})),g=null!=this.activeTimers;g&&(h=this.startTimer()),gb(this.gpgpu,m,d,p,r),f.forEach((function(e){return a.disposeIntermediateTensorInfo(e)})),g&&(h=this.endTimer(h),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(h)}));var b=Object(o.env)().get("WEBGL_FLUSH_THRESHOLD");if(b>0){var y=o.util.now();y-this.lastGlFlushTime>b&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=y)}if(!Object(o.env)().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&!1===i){var x=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),x}return s}},{key:"compileAndRun",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;var i=this.runWebGLProgram(e,t,n,r,a);return i}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!Object(o.env)().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Object(o.tidy)((function(){if(!Object(o.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=Object(o.env)().getBool("DEBUG");Object(o.env)().set("DEBUG",!1);var n=e.abs(Object(o.scalar)(1e-8)).dataSync()[0];if(Object(o.env)().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.values,i=t.texture,s=t.usage,c=t.isPacked;if(null==i){var l,f=null!=this.activeTimers;f&&(l=o.util.now());var d=t.texShape;if(null==d&&(d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(o.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map((function(t,n){return n>=e.length-2?o.util.nearestLargerEven(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var r=o.util.squeezeShape(e);e=r.newShape}var a=o.util.sizeFromShape(e);if(e.length<=1&&a<=n)return[1,a];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var i=Cg(e),s=2,c=2;if(e.length){var l=Ng(e),f=Object(u.a)(l,2);s=f[0],c=f[1]}return a=i*(s/2)*(c/2),o.util.sizeToSquarishShape(a).map((function(e){return 2*e}))}return o.util.sizeToSquarishShape(a)}(n,c),t.texShape=d),null!=a){var h,p=Tg(n),v=d[1],m=d[0],g=a instanceof Uint8Array||a instanceof Uint8ClampedArray;if(c||!g){var b=lg(d[0],d[1]),y=Object(u.a)(b,2);v=y[0],m=y[1]}h=c?new _b(p,g):new jb(p,g);var x=g?[m,v]:d,w=this.makeTensorInfo(x,r),O=this.texData.get(w.dataId);O.usage=g?rg.PIXELS:rg.UPLOAD,O.texShape=x,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(w.dataId),v,m,a);var k=[[m,v]],j=this.runWebGLProgram(h,[w],r,k,!0),_=this.texData.get(j.dataId);t.texture=_.texture,t.texShape=_.texShape,t.isPacked=_.isPacked,t.usage=_.usage,this.disposeIntermediateTensorInfo(w),this.texData.delete(j.dataId),t.values=null,f&&(this.uploadWaitMs+=o.util.now()-l)}else{var S=this.acquireTexture(d,s,r,c);t.texture=S}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(a," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*o.util.bytesPerElement(t)}}]),n}(o.KernelBackend);Jy.nextDataId=0;o.device_util.isBrowser()&&Object(o.registerBackend)("webgl",(function(){return new Jy}),2);var Qy=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["A","B"],this.outputShape=o.backend_util.assertAndGetBroadcastShape(n,r),this.enableShapeUniforms=yb(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")})),ex=Object(An.a)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(En.a)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o.backend_util.assertAndGetBroadcastShape(n,r);var i=this.outputShape.length;this.enableShapeUniforms=yb(i);var u="";if(a)if(0===i||1===o.util.sizeFromShape(this.outputShape))u="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var s=fb(i);if(u="\n          ".concat(s," coords = getOutputCoords();\n        "),1===i)this.enableShapeUniforms?u+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":u+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var c=Sy("coords",i);this.enableShapeUniforms?u+="\n            bool nextRowOutOfBounds =\n              (".concat(c[i-2]," + 1) >= outShape[").concat(i," - 2];\n            bool nextColOutOfBounds =\n              (").concat(c[i-1]," + 1) >= outShape[").concat(i," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):u+="\n            bool nextRowOutOfBounds =\n              (".concat(c[i-2]," + 1) >= ").concat(this.outputShape[i-2],";\n            bool nextColOutOfBounds =\n              (").concat(c[i-1]," + 1) >= ").concat(this.outputShape[i-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(u,"\n\n        setOutput(result);\n      }\n    ")}));function tx(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var nx={kernelName:o.Identity,backendName:"webgl",kernelFunc:tx};function rx(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(i.dataId),u=tx({inputs:{x:r},backend:n}),s=tx({inputs:{x:a},backend:n});return o.complexTensorInfos={real:u,imag:s},i}var ax={kernelName:o.Complex,backendName:"webgl",kernelFunc:rx},ix="return (a < 0.) ? b * a : a;",ox="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var ux={kernelName:o.LeakyRelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.alpha,u=n.makeTensorInfo([],"float32",o.util.createScalarValue(i,"float32")),s=Object(o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ex(ox,a.shape,u.shape):new Qy(ix,a.shape,u.shape),c=n.runWebGLProgram(s,[a,u],"float32");return n.disposeIntermediateTensorInfo(u),c}},sx="return (a < 0.) ? b * a : a;",cx="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var lx={kernelName:o.Prelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha,i=Object(o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ex(cx,r.shape,a.shape):new Qy(sx,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],"float32")}};function fx(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,a=e.dtype;return function(e){var i,u=e.inputs,s=e.backend,c=u.x,l=s,f=a||c.dtype;if(l.shouldExecuteOnCPU([c])&&null!=r){var d=l.texData.get(c.dataId),h=r(d.values,f);return l.makeTensorInfo(c.shape,f,h)}return i=Object(o.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new Xy(c.shape,n):new Iy(c.shape,t),l.runWebGLProgram(i,[c],f)}}function dx(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,a=void 0!==r&&r,i=e.supportsComplex,s=void 0!==i&&i,c=e.cpuKernelImpl,l=e.dtype;return function(e){var r=e.inputs,i=e.backend,f=r.a,d=r.b,h=i;if(s&&"complex64"===f.dtype){var p=h.texData.get(f.dataId),v=h.texData.get(d.dataId),m=[[p.complexTensorInfos.real,v.complexTensorInfos.real],[p.complexTensorInfos.imag,v.complexTensorInfos.imag]].map((function(e){var n=Object(u.a)(e,2),r=n[0],a=n[1],i={dataId:r.dataId,dtype:r.dtype,shape:f.shape},s={dataId:a.dataId,dtype:a.dtype,shape:d.shape},c=new Qy(t,f.shape,d.shape);return h.runWebGLProgram(c,[i,s],Object(o.upcastType)(r.dtype,a.dtype))})),g=Object(u.a)(m,2),b=g[0],y=g[1],x=rx({inputs:{real:b,imag:y},backend:h});return h.disposeIntermediateTensorInfo(b),h.disposeIntermediateTensorInfo(y),x}var w,O=l||Object(o.upcastType)(f.dtype,d.dtype);if(("string"===f.dtype||"string"===d.dtype||h.shouldExecuteOnCPU([f,d]))&&null!=c){var k=h.texData.get(f.dataId).values,j=h.texData.get(d.dataId).values,_="string"===f.dtype?o.backend_util.fromUint8ToStringArray(k):k,S="string"===f.dtype?o.backend_util.fromUint8ToStringArray(j):j,E=c(f.shape,d.shape,_,S,O),A=Object(u.a)(E,2),C=A[0],N=A[1],T=h.makeTensorInfo(N,O);return h.texData.get(T.dataId).values=C,T}return w=Object(o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new ex(n,f.shape,d.shape,a):new Qy(t,f.shape,d.shape),h.runWebGLProgram(w,[f,d],O)}}function hx(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?Wy:Fy;if("relu"===e)return t?Hy:zy;if("elu"===e)return t?Vy:Py;if("relu6"===e)return t?Gy:By;if("prelu"===e)return t?cx:sx;if("leakyrelu"===e)return t?ox:ix;if("sigmoid"===e)return t?qy:Uy;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var px=Object(An.a)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];Object(En.a)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=yb(this.outputShape.length);var l=a?t[1]:t[2],f=Math.ceil(l/2),d=a?"i * 2, rc.y":"rc.y, i * 2",h=i?"rc.z, i * 2":"i * 2, rc.z",p=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],v=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],m="",g="";u&&(m=s?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(u,"\n        }"):c?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(u,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(u,"\n        }"),g="result = activation(result);");var b=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");var y="rc.x",x="rc.x";t[0]<n[0]?y="int(min(float(rc.x), ".concat(t[0]-1,".))"):n[0]<t[0]&&(x="int(min(float(rc.x), ".concat(n[0]-1,".))")),this.userCode="\n      ".concat(m,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(f,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(f,"; i++) {\n          int batchA = ").concat(y,";\n          int batchB = ").concat(x,";\n          vec4 a = getMatrixA(batchA, ").concat(d,");\n          vec4 b = getMatrixB(batchB, ").concat(h,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(p[0]," * ").concat(v[0],");\n          result += (").concat(p[1]," * ").concat(v[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(b,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")})),vx="return areal * breal - aimag * bimag;",mx="return areal * bimag + aimag * breal;",gx=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=o.backend_util.assertAndGetBroadcastShape(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")})),bx="return a * b;";function yx(e){var t,n=e.inputs,r=e.backend,a=n.a,i=n.b,s=o.backend_util.upcastType(a.dtype,i.dtype);if("complex64"===a.dtype){var c=r.texData.get(a.dataId),l=r.texData.get(i.dataId),f=new gx(vx,a.shape,i.shape),d=new gx(mx,a.shape,i.shape),h=[{dataId:c.complexTensorInfos.real.dataId,dtype:c.complexTensorInfos.real.dtype,shape:a.shape},{dataId:c.complexTensorInfos.imag.dataId,dtype:c.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:i.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:i.shape}],p=r.runWebGLProgram(f,h,"float32"),v=r.runWebGLProgram(d,h,"float32"),m=rx({inputs:{real:p,imag:v},backend:r});return r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(v),m}if(r.shouldExecuteOnCPU([a,i])){var g=r.texData.get(a.dataId),b=r.texData.get(i.dataId),y=ry(a.shape,i.shape,g.values,b.values,s),x=Object(u.a)(y,2),w=x[0],O=x[1],k=r.makeTensorInfo(O,s);return r.texData.get(k.dataId).values=w,k}return t=Object(o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ex(bx,a.shape,i.shape):new Qy(bx,a.shape,i.shape),r.runWebGLProgram(t,[a,i],s)}var xx={kernelName:o.Multiply,backendName:"webgl",kernelFunc:yx};function wx(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.shape,u=n,s=o.util.sizeFromShape(a.shape),c=o.util.inferFromImplicitShape(i,s),l=o.util.sizeFromShape(c);o.util.assert(s===l,(function(){return"The new shape (".concat(c,") has ").concat(l," elements and the old ")+"shape (".concat(a.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."}));var f=u.texData.get(a.dataId);return!f.isPacked||Ig(a.shape,c)||null!==f.texture&&Ig(f.shape,c)?(u.incRef(a.dataId),{dataId:a.dataId,shape:c,dtype:a.dtype}):function(e,t,n){var r=[Cg(e.shape)].concat(Object(Dn.a)(Ng(e.shape))),a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[Cg(t)].concat(Object(Dn.a)(Ng(t))),o=new Ay(i,r),u=[r],s=n.runWebGLProgram(o,[a],e.dtype,u,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}(a,c,u)}var Ox={kernelName:o.Reshape,backendName:"webgl",kernelFunc:wx},kx=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,i=t.inSize,u=t.outSize;this.outputShape=[a,u];var s=4*Math.floor(r/4),c=r%4,l="sumValue += dot(values, ones);";if(null!=n){var f=1/n;l="sumValue += dot(values * ".concat(o.util.isInt(f)?f.toPrecision(2):f,", ones);")}var d="";i%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(l,"\n        }\n        setOutput(sumValue);\n      }\n    ")})),jx=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.outSize;this.outputShape=[a,o];var u="0.0",s="";"prod"===n?u="1.0":"min"===n?(u="1.0 / 1e-20",s="min"):"max"===n&&(u="-1.0 / 1e-20",s="max");var c="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?c="sumValue":"prod"===n?c="prodValue":"all"===n?c="allValue":"any"===n&&(c="anyValue");var l=4*Math.floor(r/4),f=r%4,d="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(s,"(values, minMaxValue);\n        if (").concat("min"===n," || ").concat("max"===n,") {\n          minMaxValue = ").concat(s,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),h="vec4";"all"===n?(u="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===n&&(u="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var p="";i%r>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(u,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(p,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(u,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(l,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(d,"\n        }\n\n        int inIdx = inOffset + ").concat(l,";\n        if (").concat(1===f,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(2===f,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(3===f,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(d,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}));function _x(e,t,n,r){for(var a=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=o.backend_util.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),i=e,u=0;u<a.length;u++){var s,c=a[u],l=c.inSize,f=c.windowSize,d=c.outSize,h=void 0;h="mean"===n?0===u?new kx({windowSize:f,inSize:l,batchSize:e.shape[0],outSize:d},l):new kx({windowSize:f,inSize:l,batchSize:e.shape[0],outSize:d}):new jx({windowSize:f,inSize:l,batchSize:e.shape[0],outSize:d},n),s=i,i=r.runWebGLProgram(h,[i],t),s.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(s)}return i}var Sx=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];this.outputShape=r,this.rank=r.length;var i=fb(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(i," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")}));var Ex=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var i=fb(this.rank),o=_y("rc",this.rank),u=new Array(this.rank),s=0;s<n.length;s++)u[n[s]]=o[s];var c="vec2(".concat(u.slice(-2).join(),")"),l="++".concat(o[this.rank-1]," < ").concat(r[this.rank-1]),f="getChannel(getA(".concat(u.join(),"), ").concat(c,")");this.userCode="\n    void main() {\n      ".concat(i," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(f,";\n      if(").concat(l,") {\n        result[1] = ").concat(f,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(f,";\n        if(").concat(l,") {\n          result[3] = ").concat(f,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}));function Ax(e,t,n){var r=Object(o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ex(e.shape,t):new Sx(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function Cx(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var a=t,i=e.shape.length,s=o.util.parseAxisParam(a,e.shape),c=s,l=o.backend_util.getAxesPermutation(c,i),f=null!=l,d=e;f&&(d=Ax(e,l,r),c=o.backend_util.getInnerMostAxes(c.length,i)),o.backend_util.assertAxesAreInnerMostDims("sum",c,i);var h=o.backend_util.computeOutAndReduceShapes(d.shape,c),p=Object(u.a)(h,2),v=p[0],m=p[1],g=v;n&&(g=o.backend_util.expandShapeToKeepDim(v,s));var b=o.util.sizeFromShape(m),y=wx({inputs:{x:d},attrs:{shape:[o.util.sizeFromShape(e.shape)/b,b]},backend:r}),x=_x(y,Object(o.sumOutType)(e.dtype),"sum",r),w=wx({inputs:{x:x},attrs:{shape:g},backend:r});return r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(x),f&&r.disposeIntermediateTensorInfo(d),w}(t.x,r.axis,r.keepDims,n)}var Nx={kernelName:o.Sum,backendName:"webgl",kernelFunc:Cx};function Tx(e){for(var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.perm,u=r,s=i.shape.length,c=new Array(s),l=0;l<c.length;l++)c[l]=i.shape[o[l]];if(u.shouldExecuteOnCPU([i])){var f=u.texData.get(i.dataId).values,d=ky(f,i.shape,i.dtype,o,c);t=u.makeTensorInfo(c,i.dtype),u.texData.get(t.dataId).values=d}else t=Ax(i,o,u);return t}var Dx={kernelName:o.Transpose,backendName:"webgl",kernelFunc:Tx};function Ix(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,i=e.backend,u=e.bias,s=void 0===u?null:u,c=e.preluActivationWeights,l=void 0===c?null:c,f=e.leakyreluAlpha,d=void 0===f?0:f,h=e.activation,p=void 0===h?null:h,v=t.shape.length,m=n.shape.length,g=r?t.shape[v-2]:t.shape[v-1],b=a?n.shape[m-1]:n.shape[m-2],y=r?t.shape[v-1]:t.shape[v-2],x=a?n.shape[m-2]:n.shape[m-1],w=t.shape.slice(0,-2),O=n.shape.slice(0,-2),k=o.util.sizeFromShape(w),j=o.util.sizeFromShape(O),_=o.broadcast_util.assertAndGetBroadcastShape(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([y,x]);o.util.assert(g===b,(function(){return"Error in matMul: inner shapes (".concat(g,") and (")+"".concat(b,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match.")}));var S,E=r?[k,g,y]:[k,y,g],A=a?[j,x,b]:[j,b,x],C=wx({inputs:{x:t},backend:i,attrs:{shape:E}}),N=wx({inputs:{x:n},backend:i,attrs:{shape:A}}),T=[C,N],D=Math.max(k,j),I=r?C.shape[1]:C.shape[2],M=null!=s,F=null!=l,R="leakyrelu"===p,P=null!=p?hx(p,!0):null;if((1===y||1===x)&&I>1e3&&!1===(M||F||R||null!=P)){var z=C,B=N;r&&(z=Tx({inputs:{x:C},backend:i,attrs:{perm:[0,2,1]}}),T.push(z)),a&&(B=Tx({inputs:{x:N},backend:i,attrs:{perm:[0,2,1]}}),T.push(B));var L=1===x,U=z;1!==x&&(U=wx({inputs:{x:z},backend:i,attrs:{shape:[D,I,1]}}),T.push(U));var W=1===x?2:1,V=B;L&&(V=wx({inputs:{x:B},backend:i,attrs:{shape:[D,1,I]}}),T.push(V));var H=yx({inputs:{a:U,b:V},backend:i});S=Cx({inputs:{x:H},backend:i,attrs:{axis:W,keepDims:!0}}),T.push(H)}else{var G=Object(o.upcastType)(t.dtype,n.dtype),q=new px(E,A,[D,y,x],r,a,M,P,F,R),X=[C,N];if(null!=s&&X.push(s),F&&X.push(l),R){var Y=i.makeTensorInfo([],"float32",o.util.createScalarValue(d,"float32"));X.push(Y),T.push(Y)}S=i.runWebGLProgram(q,X,G)}var K=wx({inputs:{x:S},backend:i,attrs:{shape:_}});T.push(S);for(var $=0,Z=T;$<Z.length;$++){var J=Z[$];i.disposeIntermediateTensorInfo(J)}return K}var Mx={kernelName:o._FusedMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,o=t.bias,u=t.preluActivationWeights,s=r.transposeA,c=r.transposeB,l=r.activation;return Ix({a:a,b:i,transposeA:s,transposeB:c,backend:n,bias:o,preluActivationWeights:u,leakyreluAlpha:r.leakyreluAlpha,activation:l})}},Fx="return abs(x);";var Rx={kernelName:o.Abs,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){var i=r.texData.get(a.dataId),u=ly(i.values);return r.makeTensorInfo(a.shape,a.dtype,u)}return t=Object(o.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Xy(a.shape,Fx):new Iy(a.shape,Fx),r.runWebGLProgram(t,[a],a.dtype)}},Px=fx({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),zx={kernelName:o.Acos,backendName:"webgl",kernelFunc:Px},Bx=fx({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),Lx={kernelName:o.Acosh,backendName:"webgl",kernelFunc:Bx},Ux="return a + b;",Wx=dx({opSnippet:Ux,packedOpSnippet:Ux,supportsComplex:!0,cpuKernelImpl:Pb}),Vx={kernelName:o.Add,backendName:"webgl",kernelFunc:Wx},Hx=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(a,";\n        setOutput(result);\n      }\n    ")})),Gx=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(a,";\n        setOutput(result);\n      }\n    ")}));var qx={kernelName:o.AddN,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n;if(1===a.length)return tx({inputs:{x:a[0]},backend:r});if(a.length>Object(o.env)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(a.length/2),u=e({inputs:a.slice(0,i),backend:r}),s=e({inputs:a.slice(i),backend:r});return e({inputs:[u,s],backend:r})}var c=a.map((function(e){return e.dtype})).reduce((function(e,t){return Object(o.upcastType)(e,t)})),l=a.map((function(e){return e.shape})),f=Object(o.env)().getBool("WEBGL_PACK")?new Gx(a[0].shape,l):new Hx(a[0].shape,l);return r.runWebGLProgram(f,a,c)}};var Xx={kernelName:o.All,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims,c=a.shape.length,l=o.util.parseAxisParam(i,a.shape),f=l,d=o.backend_util.getAxesPermutation(f,c),h=a;null!=d&&(h=Tx({inputs:{x:a},backend:n,attrs:{perm:d}}),f=o.backend_util.getInnerMostAxes(f.length,c)),o.backend_util.assertAxesAreInnerMostDims("all",f,c);var p,v=o.backend_util.computeOutAndReduceShapes(h.shape,f),m=Object(u.a)(v,2),g=m[0],b=m[1],y=wx({inputs:{x:h},backend:n,attrs:{shape:[-1,o.util.sizeFromShape(b)]}}),x=_x(y,y.dtype,"all",n);return p=wx(s?{inputs:{x:x},backend:n,attrs:{shape:o.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),null!=d&&n.disposeIntermediateTensorInfo(h),p}};var Yx={kernelName:o.Any,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims,c=a.shape.length,l=o.util.parseAxisParam(i,a.shape),f=l,d=o.backend_util.getAxesPermutation(f,c),h=a;null!=d&&(h=Tx({inputs:{x:a},backend:n,attrs:{perm:d}}),f=o.backend_util.getInnerMostAxes(f.length,c)),o.backend_util.assertAxesAreInnerMostDims("any",f,c);var p,v=o.backend_util.computeOutAndReduceShapes(h.shape,f),m=Object(u.a)(v,2),g=m[0],b=m[1],y=wx({inputs:{x:h},backend:n,attrs:{shape:[-1,o.util.sizeFromShape(b)]}}),x=_x(y,y.dtype,"any",n);return p=wx(s?{inputs:{x:x},backend:n,attrs:{shape:o.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),null!=d&&n.disposeIntermediateTensorInfo(h),p}},Kx=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["A"];var a=t.windowSize,i=t.batchSize,o=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var u="max"===n?">":"<",s=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(a,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          int inIdx = ").concat(s,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(u," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")})),$x=Object(An.a)((function e(t,n,r,a){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,o.util.assert(t.length>2,(function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")}));var i=t[t.length-1],u=Math.ceil(i/n);this.outputShape=t.slice(0,-1),u>1&&this.outputShape.push(u),a||this.variableNames.push("bestIndicesA");var s,c,l=this.outputShape,f=l.length,d=fb(f),h=Sy("coords",f);if(1===u){var p=fb(c=f+1);s="\n        ".concat(p," sourceLocR = ").concat(p,"(").concat(h.join(),", 0);\n        ++").concat(h[f-1],";\n        ").concat(p," sourceLocG = ").concat(p,"(").concat(h.join(),", 0);\n        ++").concat(h[f-2],";\n        ").concat(p," sourceLocA = ").concat(p,"(").concat(h.join(),", 0);\n        --").concat(h[f-1],";\n        ").concat(p," sourceLocB = ").concat(p,"(").concat(h.join(),", 0);\n        --").concat(h[f-2],";")}else c=f,s="\n        ".concat(d," sourceLocR = coords;\n        ++").concat(h[f-1],";\n        ").concat(d," sourceLocG = coords;\n        ++").concat(h[f-2],";\n        ").concat(d," sourceLocA = coords;\n        --").concat(h[f-1],";\n        ").concat(d," sourceLocB = coords;\n        --").concat(h[f-2],";");var v=["x","y","z","w","u","v"].slice(0,c),m="."+v[c-1],g=v.map((function(e){return"int "+e})),b=Sy("sourceLocR",c-1).concat("inIdx.r"),y=Sy("sourceLocG",c-1).concat("inIdx.g"),x=Sy("sourceLocB",c-1).concat("inIdx.b"),w=Sy("sourceLocA",c-1).concat("inIdx.a"),O="max"===r?"greaterThan":"lessThan",k=a?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),"),\n                             getBestIndicesAChannel(").concat(w.join(),")));"),j="vec4(\n            getAChannel(".concat(b.join(),"),\n            hasNextCol ? getAChannel(").concat(y.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(x.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(w.join(),") : 0.)"),_=a?"":"\n      float getBestIndicesAChannel(".concat(g.join(),") {\n        return getChannel(getBestIndicesA(").concat(v.join(),"),\n                                          vec2(").concat(v.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(g.join(),") {\n        return getChannel(getA(").concat(v.join(),"),\n                               vec2(").concat(v.slice(-2).join(),"));\n      }\n      ").concat(_,"\n      void main() {\n        ").concat(d," coords = getOutputCoords();\n        bool hasNextCol = ").concat(h[f-1]," < ").concat(l[f-1]-1,";\n        bool hasNextRow = ").concat(h[f-2]," < ").concat(l[f-2]-1,";\n        ").concat(s,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(m,", sourceLocG").concat(m,",\n          sourceLocB").concat(m,", sourceLocA").concat(m,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(j,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(k,"\n          vec4 candidate = ").concat(j,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(O,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}));function Zx(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.shape[0],i=t.shape[1];null!=r&&(a=r.shape[0],i=r.shape[1]);var u=o.backend_util.computeOptimalWindowSize(i),s={windowSize:u,inSize:i,batchSize:a,outSize:Math.ceil(i/u)},c=new Kx(s,n,null==r),l=[t];null!=r&&l.push(r);var f=e.runWebGLProgram(c,l,"int32");if(1===f.shape[1])return f;var d=Zx(e,t,n,f);return e.disposeIntermediateTensorInfo(f),d}function Jx(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null!=r?r.shape:t.shape,i=a[a.length-1],u=o.backend_util.computeOptimalWindowSize(i),s=new $x(a,u,n,null==r),c=null==r?[t]:[t,r],l=e.runWebGLProgram(s,c,"int32");if(l.shape.length===t.shape.length){var f=Jx(e,t,n,l);return e.disposeIntermediateTensorInfo(l),f}return l}function Qx(e,t,n,r){var a=[n];if(o.backend_util.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!Object(o.env)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var i=[],s=e.texData.get(t.dataId),c=t;null!==s&&s.isPacked&&(c=e.unpackTensor(t),i.push(c));var l=o.backend_util.computeOutAndReduceShapes(c.shape,a),f=Object(u.a)(l,2),d=f[0],h=f[1],p=o.util.sizeFromShape(h),v=wx({inputs:{x:c},backend:e,attrs:{shape:[-1,p]}});i.push(v);var m=Zx(e,v,r);i.push(m);var g=wx({inputs:{x:m},backend:e,attrs:{shape:d}});return i.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),g}return Jx(e,t,r)}var ew={kernelName:o.ArgMax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,u=o.util.parseAxisParam(i,a.shape),s=o.backend_util.getAxesPermutation(u,a.shape.length),c=a,l=[];null!=s&&(c=Tx({inputs:{x:a},backend:n,attrs:{perm:s}}),l.push(c),u=o.backend_util.getInnerMostAxes(u.length,c.shape.length)),o.backend_util.assertAxesAreInnerMostDims("argMax",[u[0]],c.shape.length);var f=Qx(n,c,u[0],"max");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),f}};var tw={kernelName:o.ArgMin,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,u=o.util.parseAxisParam(i,a.shape),s=o.backend_util.getAxesPermutation(u,a.shape.length),c=a,l=[];null!=s&&(c=Tx({inputs:{x:a},backend:n,attrs:{perm:s}}),l.push(c),u=o.backend_util.getInnerMostAxes(u.length,c.shape.length)),o.backend_util.assertAxesAreInnerMostDims("argMin",[u[0]],c.shape.length);var f=Qx(n,c,u[0],"min");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),f}},nw=fx({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),rw={kernelName:o.Asin,backendName:"webgl",kernelFunc:nw},aw=fx({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),iw={kernelName:o.Asinh,backendName:"webgl",kernelFunc:aw},ow=fx({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),uw={kernelName:o.Atan,backendName:"webgl",kernelFunc:ow},sw=dx({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),cw={kernelName:o.Atan2,backendName:"webgl",kernelFunc:sw},lw=fx({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),fw={kernelName:o.Atanh,backendName:"webgl",kernelFunc:lw},dw=Object(An.a)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(En.a)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,u=t.strideHeight,s=t.strideWidth,c=t.dilationHeight,l=t.dilationWidth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.top,p=t.padInfo.left;this.outputShape=t.outShape;var v="avg"===n,m="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),g="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),b="0.0";if(v||(b="-1.0 / 1e-20"),r){var y=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(u,", ").concat(s,");\n        const ivec2 pads = ivec2(").concat(h,", ").concat(p,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(f,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(d,";\n                wC += ").concat(l,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(y," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(a?i?m:g:"wR * ".concat(d," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var x="max",w="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(w="avgValue / count");var O=4*Math.floor(o/4),k=o%4,j="\n      if (".concat(v,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(x,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(u,", ").concat(s,");\n      const ivec2 pads = ivec2(").concat(h,", ").concat(p,");\n      const float initializationValue = ").concat(b,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(b,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(f,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(O,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(l,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              getValue(batch, xR, xC + 3 * ").concat(l,", d)\n            );\n\n            ").concat(j,"\n          }\n\n          int xC = xCCorner + ").concat(O,";\n          if (").concat(1===k,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(j,"\n          } else if (").concat(2===k,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(j,"\n          } else if (").concat(3===k,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              initializationValue\n            );\n\n            ").concat(j,"\n          }\n        }\n        setOutput(").concat(w,");\n      }\n    ")}})),hw=Object(An.a)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(En.a)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,u=t.strideDepth,s=t.strideHeight,c=t.strideWidth,l=t.dilationDepth,f=t.dilationHeight,d=t.dilationWidth,h=t.effectiveFilterDepth,p=t.effectiveFilterHeight,v=t.effectiveFilterWidth,m=t.padInfo.front,g=t.padInfo.top,b=t.padInfo.left;this.outputShape=t.outShape;var y="avg"===n,x="0.0";if(y||(x="-1.0 / 1e-20"),r){var w=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(u,", ").concat(s,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(b,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(h,";\n              wD += ").concat(l,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(p,";\n                wR += ").concat(f,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(v,";\n                  wC += ").concat(d,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(w," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(a?i?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(p," * ").concat(v," +\n                      wR * ").concat(v," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var O="max",k="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(k="avgValue / count");var j=4*Math.floor(o/4),_=o%4,S="\n      if (".concat(y,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(O,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(u,", ").concat(s,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(b,");\n      const float initializationValue = ").concat(x,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(x,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(h,";\n            wD += ").concat(l,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,";\n            wR += ").concat(f,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(j,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(d,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(d,", ch)\n              );\n\n              ").concat(S,"\n            }\n\n            int xC = xCCorner + ").concat(j,";\n            if (").concat(1===_,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(S,"\n            } else if (").concat(2===_,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(S,"\n            } else if (").concat(3===_,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                initializationValue\n              );\n\n              ").concat(S,"\n            }\n          }\n          setOutput(").concat(k,");\n        }\n      }\n    ")}}));var pw={kernelName:o.AvgPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;zg(a,"avgPool");var i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode;o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(u," and dilations '").concat(1,"'")}));var l=o.backend_util.computePool2DInfo(a.shape,i,u,1,s,c);if(1===l.filterWidth&&1===l.filterHeight&&o.util.arraysEqual(l.inShape,l.outShape))return tx({inputs:{x:a},backend:n});var f=new dw(l,"avg",!1);return n.runWebGLProgram(f,[a],"float32")}};var vw={kernelName:o.AvgPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode,l=r.dataFormat,f=o.backend_util.computePool3DInfo(a.shape,i,u,[1,1,1],s,c,l),d=new hw(f,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}},mw=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,u=t.dilationWidth,s=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=s-1-t.padInfo.top,f=c-1-t.padInfo.left,d=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(l,", ").concat(f,");\n      const float avgMultiplier = float(").concat(d,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(s,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(u,") {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),gw=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,u=t.strideWidth,s=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,f=t.effectiveFilterDepth,d=t.effectiveFilterHeight,h=t.effectiveFilterWidth,p=f-1-t.padInfo.front,v=d-1-t.padInfo.top,m=h-1-t.padInfo.left,g=1/(n*r*a);this.userCode="\n      const ivec3 pads = ivec3(".concat(p,", ").concat(v,", ").concat(m,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(f,";\n            wD += ").concat(s,") {\n          float dyD = float(dyDCorner + wD) / ").concat(i,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(l,") {\n              float dyC = float(dyCCorner + wC) / ").concat(u,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var bw={kernelName:o.AvgPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode,f=o.backend_util.computePool3DInfo(i.shape,u,s,[1,1,1],c,l),d=new gw(f);return n.runWebGLProgram(d,[a],i.dtype)}};var yw={kernelName:o.AvgPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=i;zg([a,i],"avgPoolGrad");var s=r.filterSize,c=r.strides,l=r.pad,f=o.backend_util.computePool2DInfo(u.shape,s,c,1,l),d=new mw(f);return n.runWebGLProgram(d,[a],u.dtype)}};var xw={kernelName:o.BatchMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return Ix({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},ww=Object(An.a)((function e(t,n,r,a,i,u){Object(En.a)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],o.backend_util.assertAndGetBroadcastShape(t,n),o.backend_util.assertAndGetBroadcastShape(t,r);var s="0.0";null!=a&&(o.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var c="1.0";null!=i&&(o.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(s,";\n        float scale = ").concat(c,";\n        float inv = scale * inversesqrt(variance + float(").concat(u,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")})),Ow=Object(An.a)((function e(t,n,r,a,i,u){Object(En.a)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],o.backend_util.assertAndGetBroadcastShape(t,n),o.backend_util.assertAndGetBroadcastShape(t,r);var s="vec4(0.0)";null!=a&&(o.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var c="vec4(1.0)";null!=i&&(o.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(s,";\n        vec4 scale = ").concat(c,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(u,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")})),kw={kernelName:o.FusedBatchNorm,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.mean,u=t.variance,s=t.offset,c=t.scale;o.util.assert(i.shape.length===u.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),o.util.assert(null==s||i.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),o.util.assert(null==c||i.shape.length===c.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var l=r.varianceEpsilon;null==l&&(l=.001);var f=[a,i,u],d=null;null!=s&&(d=s.shape,f.push(s));var h=null;null!=c&&(h=c.shape,f.push(c));var p=Object(o.env)().getBool("WEBGL_PACK_NORMALIZATION")?new Ow(a.shape,i.shape,u.shape,d,h,l):new ww(a.shape,i.shape,u.shape,d,h,l);return n.runWebGLProgram(p,f,f[0].dtype)}},jw=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=fb(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,a=function(e){if(1===e)return"sourceLoc";if(e<=6)return _w.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),i=t.map((function(e,t){return"sourceLoc.".concat(_w[t]," = start[").concat(t,"] + coords.").concat(_w[t],";")}));r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(i.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(a,"));\n      }\n    ")})),_w=["x","y","z","w","u","v"];var Sw=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=fb(this.rank),r=Sy("coords",this.rank),a=Sy("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),o="getChannel(getSource(".concat(a.join(),"), ").concat(i,")"),u="\n      result.x = ".concat(o,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(a[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(a[this.rank-1],";\n      }\n    "),s=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(a[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(a[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map((function(e,t){return"start[".concat(t,"]")})).join(),");"):t.map((function(e,t){return"".concat(a[t]," = ").concat(r[t]," + start[").concat(t,"];")})).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(u,"\n        ").concat(s,"\n        setOutput(result);\n      }\n    ")}));function Ew(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,s=r.size,c=o.slice_util.parseSliceParams(a,i,s),l=Object(u.a)(c,2),f=l[0],d=l[1];if(o.slice_util.assertParamsValid(a,f,d),0===o.util.sizeFromShape(d))return n.makeTensorInfo(d,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){var h=n.texData.get(a.dataId),p=fy(h.values,f,d,a.shape,a.dtype);return n.makeTensorInfo(d,a.dtype,p)}var v=n.texData.get(a.dataId).isPacked,m=o.slice_util.isSliceContinous(a.shape,f,d);if(v||!m){var g=Object(o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Sw(d):new jw(d),b=[f];return n.runWebGLProgram(g,[a],a.dtype,b)}return n.uploadToGPU(a.dataId),function(e,t,n,r){var a=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),u=r.texData.get(i.dataId);Object.assign(u,a),u.refCount=1,u.shape=n,u.dtype=e.dtype;var s=o.slice_util.computeFlatOffset(t,o.util.computeStrides(e.shape));a.slice&&(s+=a.slice.flatOffset),u.slice={flatOffset:s,origDataId:a.slice&&a.slice.origDataId||e.dataId};var c=r.dataRefCount.get(u.slice.origDataId)||1;return r.dataRefCount.set(u.slice.origDataId,c+1),i}(a,f,d,n)}var Aw={kernelName:o.Slice,backendName:"webgl",kernelFunc:Ew},Cw={kernelName:o.BatchToSpaceND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,u=r.crops;o.util.assert(a.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var s=i.reduce((function(e,t){return e*t})),c=o.backend_util.getReshaped(a.shape,i,s),l=o.backend_util.getPermuted(c.length,i.length),f=o.backend_util.getReshapedPermuted(a.shape,i,s),d=o.backend_util.getSliceBeginCoords(u,i.length),h=o.backend_util.getSliceSize(f,u,i.length),p=[],v=wx({inputs:{x:a},backend:n,attrs:{shape:c}}),m=Tx({inputs:{x:v},backend:n,attrs:{perm:l}}),g=wx({inputs:{x:m},backend:n,attrs:{shape:f}}),b=Ew({inputs:{x:g},backend:n,attrs:{begin:d,size:h}});return p.push(v),p.push(m),p.push(g),p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}};var Nw={kernelName:o.Bincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,u=n.readSync(a.dataId),s=n.readSync(i.dataId),c=zb(u,s,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}};var Tw={kernelName:o.BroadcastArgs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,i=n.readSync(r.dataId),u=n.readSync(a.dataId),s=o.backend_util.assertAndGetBroadcastShape(Array.from(i),Array.from(u));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},Dw=dx({opSnippet:"return float(a != b);",cpuKernelImpl:iy,dtype:"bool"}),Iw={kernelName:o.NotEqual,backendName:"webgl",kernelFunc:Dw};function Mw(e){var t=e.inputs,n=e.backend,r=t.input;return tx({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var Fw={kernelName:o.Real,backendName:"webgl",kernelFunc:Mw};var Rw={kernelName:o.Cast,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=t.attrs,i=n.x,u=a.dtype;if("complex64"===u){if("complex64"===i.dtype)return tx({inputs:{x:i},backend:r});var s=o.zeros(i.shape),c=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),l=rx({inputs:{real:c,imag:s},backend:r});return s.dispose(),r.disposeIntermediateTensorInfo(c),l}if("complex64"===i.dtype){var f=Mw({inputs:{input:i},backend:r}),d=e({inputs:{x:f},backend:r,attrs:{dtype:u}});return r.disposeIntermediateTensorInfo(f),d}if(!o.util.hasEncodingLoss(i.dtype,u)){var h=tx({inputs:{x:i},backend:r});return{dataId:h.dataId,shape:h.shape,dtype:u}}if("int32"===u)return function(e,t){var n=new Iy(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===u){var p=r.makeTensorInfo([],"bool",o.util.getTypedArrayFromDType("bool",1)),v=Dw({inputs:{a:i,b:p},backend:r});return r.disposeIntermediateTensorInfo(p),v}throw new Error("Error in Cast: failed to cast ".concat(i.dtype," to ").concat(u))}},Pw="return ceil(x);",zw=fx({opSnippet:Pw,packedOpSnippet:Pw,cpuKernelImpl:Lb}),Bw={kernelName:o.Ceil,backendName:"webgl",kernelFunc:zw},Lw=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "})),Uw=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}));var Ww={kernelName:o.ClipByValue,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,u=a.clipValueMin,s=a.clipValueMax;t=Object(o.env)().getBool("WEBGL_PACK_CLIP")?new Uw(i.shape):new Lw(i.shape);var c=[[u],[s]];return r.runWebGLProgram(t,[i],i.dtype,c)}},Vw=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}));function Hw(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var Gw={kernelName:o.ComplexAbs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n.texData.get(r.dataId),i=new Vw(r.shape),o=[Hw(r,a.complexTensorInfos.real),Hw(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,o,o[0].dtype)}},qw=Object(An.a)((function e(t){Object(En.a)(this,e),this.outputShape=[],this.outputShape=o.backend_util.computeOutShape(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)}));var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var a=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],i=1;i<n.length;i++){var u=n[i-1];a.push("else if (yC < ".concat(n[i],") ")+"setOutput(getT".concat(i,"(yR, yC-").concat(u,"));"))}var s=n.length,c=n[n.length-1];a.push("else setOutput(getT".concat(s,"(yR, yC-").concat(c,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(a.join("\n        "),"\n      }\n    ")})),Xw=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=o.backend_util.computeOutShape(t,n);var r=this.outputShape,a=r.length,i=fb(a),u=Sy("coords",a),s=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map((function(e,t){return"T".concat(t)}));var c=new Array(t.length-1);c[0]=t[0][n];for(var l=1;l<c.length;l++)c[l]=c[l-1]+t[l][n];for(var f=s[n],d=s.slice(-2),h=s.join(),p="if (".concat(f," < ").concat(c[0],") {\n        return getChannel(\n            getT0(").concat(h,"), vec2(").concat(d.join(),"));\n        }"),v=1;v<c.length;v++){var m=c[v-1];p+="\n        if (".concat(f," < ").concat(c[v],"  && ").concat(f," >= ").concat(c[v-1],") {\n          return getChannel(\n            getT").concat(v,"(").concat(Yw(s,f,m),"),\n            vec2(").concat(Yw(d,f,m),"));\n        }")}var g=c.length,b=c[c.length-1];p+="\n        return getChannel(\n          getT".concat(g,"(").concat(Yw(s,f,b),"),\n          vec2(").concat(Yw(d,f,b),"));"),this.userCode="\n      float getValue(".concat(s.map((function(e){return"int "+e})),") {\n        ").concat(p,"\n      }\n\n      void main() {\n        ").concat(i," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(u,"), 0., 0., 0.);\n\n        ").concat(u[a-1]," = ").concat(u[a-1]," + 1;\n        if (").concat(u[a-1]," < ").concat(r[a-1],") {\n          result.g = getValue(").concat(u,");\n        }\n\n        ").concat(u[a-2]," = ").concat(u[a-2]," + 1;\n        if (").concat(u[a-2]," < ").concat(r[a-2],") {\n          result.a = getValue(").concat(u,");\n        }\n\n        ").concat(u[a-1]," = ").concat(u[a-1]," - 1;\n        if (").concat(u[a-2]," < ").concat(r[a-2]," &&\n            ").concat(u[a-1]," < ").concat(r[a-1],") {\n          result.b = getValue(").concat(u,");\n        }\n        setOutput(result);\n      }\n    ")}));function Yw(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e})).join()}function Kw(e){var t=e.inputs,n=e.backend,r=t.input;return tx({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var $w={kernelName:o.Imag,backendName:"webgl",kernelFunc:Kw};function Zw(e,t,n){var r=e[0].dtype;if("complex64"===r){var a=e.map((function(e){return Mw({inputs:{input:e},backend:n})})),i=e.map((function(e){return Kw({inputs:{input:e},backend:n})})),u=Zw(a,t,n),s=Zw(i,t,n),c=rx({inputs:{real:u,imag:s},backend:n});return a.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(s),c}var l=n.shouldExecuteOnCPU(e);if("string"===r&&(l=!0),l){var f=e.map((function(e){var r=o.util.sizeFromShape(e.shape.slice(t));return wx({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),d=f.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),h=o.backend_util.computeOutShape(f.map((function(e){return e.shape})),1),p=1===f[0].shape[0],v=Ub(d,h,r,p),m=o.backend_util.computeOutShape(e.map((function(e){return e.shape})),t),g=n.makeTensorInfo(m,r,v);return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}if(e.length>Object(o.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var b=Math.floor(e.length/2),y=Zw(e.slice(0,b),t,n),x=Zw(e.slice(b),t,n),w=Zw([y,x],t,n);return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),w}if(Object(o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){var O=new Xw(e.map((function(e){return e.shape})),t);return n.runWebGLProgram(O,e,r)}var k=function(e,t,n){var r=o.backend_util.computeOutShape(e.map((function(e){return e.shape})),t);return{tensors2D:e.map((function(e){return wx({inputs:{x:e},attrs:{shape:[-1,o.util.sizeFromShape(e.shape.slice(t))]},backend:n})})),outShape:r}}(e,t,n),j=k.tensors2D,_=k.outShape,S=new qw(j.map((function(e){return e.shape}))),E=n.runWebGLProgram(S,j,r);j.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var A=wx({inputs:{x:E},attrs:{shape:_},backend:n});return n.disposeIntermediateTensorInfo(E),A}function Jw(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=o.util.parseAxisParam(r,t[0].shape)[0],i=o.backend_util.computeOutShape(t.map((function(e){return e.shape})),a);if(0===o.util.sizeFromShape(i))return n.makeTensorInfo(i,t[0].dtype,[]);var u=t.filter((function(e){return o.util.sizeFromShape(e.shape)>0}));if(1===u.length)return tx({inputs:{x:u[0]},backend:n});var s=u.map((function(e){return e.shape}));return o.backend_util.assertParamsConsistent(s,a),Zw(u,a,n)}var Qw={kernelName:o.Concat,backendName:"webgl",kernelFunc:Jw},eO=Object(An.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(En.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,u=t.padInfo.left,s=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,f=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,p=4*Math.floor(t.inChannels/4),v=t.inChannels%4,m="channelsLast"===t.dataFormat,g=m?1:2,b=m?2:3,y=m?3:1,x="",w="";r&&(x=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),w="result = activation(result);");var O=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(x,"\n\n      const ivec2 strides = ivec2(").concat(s,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(o,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(y,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(b,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(d,"; wR++) {\n          int xR = xRCorner + wR * ").concat(l,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(h,"; wC++) {\n            int xC = xCCorner + wC * ").concat(f,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(m,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===v,") {\n\n              if (").concat(m,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(p,") *\n                    getW(wR, wC, ").concat(p,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(p,", xR, xC) *\n                    getW(wR, wC, ").concat(p,", d2);\n              }\n\n            } else if (").concat(2===v,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2)\n              );\n\n              if (").concat(m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===v,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2),\n                getW(wR, wC, ").concat(p," + 2, d2)\n              );\n\n              if (").concat(m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1),\n                  getX(batch, xR, xC, ").concat(p," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC),\n                  getX(batch, ").concat(p," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(O,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")})),tO=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,a=t.padInfo.left,i=t.strideDepth,o=t.strideHeight,u=t.strideWidth,s=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,f=t.filterDepth,d=t.filterHeight,h=t.filterWidth,p=4*Math.floor(t.inChannels/4),v=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(i,", ").concat(o,", ").concat(u,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(a,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(f,"; wF++) {\n          int xF = xFCorner + wF * ").concat(s,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(d,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,"; wC++) {\n              int xC = xCCorner + wC * ").concat(l,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===v,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(p,") *\n                  getW(wF, wR, wC, ").concat(p,", d2);\n              } else if (").concat(2===v,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===v,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1),\n                  getX(batch, xF, xR, xC, ").concat(p," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2),\n                  getW(wF, wR, wC, ").concat(p," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),nO=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=yb(this.outputShape.length);for(var r=n.dataFormat,a=Lg(),i="channelsLast"===r,o=i?0:1,u=i?1:2,s=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":"if(blockIndex < ".concat(t[1]," && pos < ").concat(t[0],") {"),c="",l=0;l<=1;l++)for(var f=0;f<=1;f++)c+="\n          blockIndex = rc.y + ".concat(f,";\n          pos = rc.x + ").concat(l,";\n\n          ").concat(s,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(o,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(u,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(i,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*l+f,"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*l+f,"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(a.output," = result;\n      }\n    ")}));function rO(e){var t,n=e.x,r=e.filter,a=e.convInfo,i=e.backend,u=e.bias,s=void 0===u?null:u,c=e.preluActivationWeights,l=void 0===c?null:c,f=e.leakyreluAlpha,d=void 0===f?0:f,h=e.activation,p=void 0===h?null:h,v=n.shape,m=i.texData.get(n.dataId),g=a.inChannels,b=v[0]*v[1]*v[2],y=a.outChannels,x="channelsLast"===a.dataFormat,w=[];if(!((1===b||1===y)&&g>1e3)&&m.isPacked&&x&&null!=m.texture&&v[2]%2!==0&&o.util.arraysEqual(m.shape.slice(-3),v.slice(-3))){var O=v[0]*v[1]*(v[2]+1),k={dataId:n.dataId,shape:[1,O,a.inChannels],dtype:n.dtype},j=m.shape;m.shape=m.shape.slice(),m.shape[m.shape.length-2]++,o.util.assert(Ig(m.shape,k.shape),(function(){return"packed reshape ".concat(m.shape," to ").concat(k.shape," isn't free")}));var _=wx({inputs:{x:r},backend:i,attrs:{shape:[1,a.inChannels,a.outChannels]}});w.push(_);var S=Ix({a:k,b:_,backend:i,transposeA:false,transposeB:false,bias:s,activation:p,preluActivationWeights:l,leakyreluAlpha:d}),E=i.texData.get(S.dataId);o.util.assert(E.isPacked,(function(){return"batchMatMul result is expected to be packed"})),m.shape=j,E.shape=a.outShape,(t=tx({inputs:{x:S},backend:i})).shape=a.outShape,w.push(S)}else{var A=wx({inputs:{x:n},backend:i,attrs:{shape:[1,x?v[0]*v[1]*v[2]:v[0]*v[2]*v[3],a.inChannels]}}),C=wx({inputs:{x:r},backend:i,attrs:{shape:[1,a.inChannels,a.outChannels]}}),N=Ix({a:A,b:C,transposeA:false,transposeB:false,backend:i,bias:s,activation:p,preluActivationWeights:l,leakyreluAlpha:d});t=wx({inputs:{x:N},backend:i,attrs:{shape:a.outShape}}),w.push(A),w.push(C),w.push(N)}for(var T=0,D=w;T<D.length;T++){var I=D[T];i.disposeIntermediateTensorInfo(I)}return t}function aO(e){var t=e.x,n=e.filter,r=e.convInfo,a=e.backend,i=e.bias,u=void 0===i?null:i,s=e.preluActivationWeights,c=void 0===s?null:s,l=e.leakyreluAlpha,f=void 0===l?0:l,d=e.activation,h=void 0===d?null:d,p=r.filterWidth,v=r.filterHeight,m=r.inChannels,g=r.outWidth,b=r.outHeight,y="channelsLast"===r.dataFormat,x=p*v*m,w=b*g,O=[x,w],k=[],j=wx({inputs:{x:t},backend:a,attrs:{shape:t.shape.slice(1)}}),_=wx({inputs:{x:n},backend:a,attrs:{shape:[1,x,o.util.sizeFromShape(n.shape)/x]}});k.push(j),k.push(_);var S=new nO(O,r),E=[j.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],A=a.runWebGLProgram(S,[j],"float32",E),C=wx({inputs:{x:A},backend:a,attrs:{shape:[1,O[0],O[1]]}});k.push(A),k.push(C);var N=null!=u,T=null!=c,D="leakyrelu"===h,I=h?hx(h,!0):null,M=new px(C.shape,_.shape,[1,w,r.outChannels],!0,!1,N,I,T,D),F=[C,_];if(u&&F.push(u),T&&F.push(c),D){var R=a.makeTensorInfo([],"float32",o.util.createScalarValue(f,"float32"));F.push(R),k.push(R)}var P=a.runWebGLProgram(M,F,"float32"),z=wx({inputs:{x:P},backend:a,attrs:{shape:y?[1,b,g,r.outChannels]:[1,r.outChannels,b,g]}});k.push(P);for(var B=0,L=k;B<L.length;B++){var U=L[B];a.disposeIntermediateTensorInfo(U)}return z}var iO={kernelName:o.Conv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,u=n.filter,s=a.strides,c=a.pad,l=a.dataFormat,f=a.dilations,d=a.dimRoundingMode,h=o.backend_util.convertConv2DDataFormat(l),p=o.backend_util.computeConv2DInfo(i.shape,u.shape,s,f,c,d,!1,h);if(1!==p.filterHeight||1!==p.filterWidth||1!==p.dilationHeight||1!==p.dilationWidth||1!==p.strideHeight||1!==p.strideWidth||"SAME"!==p.padInfo.type&&"VALID"!==p.padInfo.type)if(Object(o.env)().getBool("WEBGL_CONV_IM2COL")&&1===i.shape[0])t=aO({x:i,filter:u,convInfo:p,backend:r});else{var v=new eO(p);t=r.runWebGLProgram(v,[i,u],"float32")}else t=rO({x:i,filter:u,convInfo:p,backend:r});var m=wx({inputs:{x:t},backend:r,attrs:{shape:p.outShape}});return r.disposeIntermediateTensorInfo(t),m}},oO=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              if (").concat(o,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),uO=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o="channelsLast"===t.dataFormat,u=n-1-t.padInfo.top,s=r-1-t.padInfo.left,c=o?1:2,l=o?2:3,f=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(u,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(f,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(l,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),sO=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.padInfo.front,o=t.padInfo.top,u=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(i,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(a," - ").concat(u,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),cO=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,u=t.strideWidth,s=n-1-t.padInfo.front,c=r-1-t.padInfo.top,l=a-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(s,", ").concat(c,", ").concat(l,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(i,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(a,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(u,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(a," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var lO={kernelName:o.Conv2DBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,u=r.strides,s=r.pad,c=r.dataFormat,l=r.dimRoundingMode,f=r.filterShape,d=o.backend_util.convertConv2DDataFormat(c),h=o.backend_util.computeConv2DInfo(a.shape,f,u,1,s,l,!1,d),p=new oO(h);return n.runWebGLProgram(p,[a,i],"float32")}};var fO={kernelName:o.Conv2DBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,u=r.inputShape,s=r.strides,c=r.pad,l=r.dataFormat,f=r.dimRoundingMode,d=o.backend_util.convertConv2DDataFormat(l),h=o.backend_util.computeConv2DInfo(u,i.shape,s,1,c,f,!1,d),p=new uO(h);return n.runWebGLProgram(p,[a,i],"float32")}};var dO={kernelName:o.Conv3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=r.strides,s=r.pad,c=r.dilations,l=o.backend_util.computeConv3DInfo(a.shape,i.shape,u,c,s),f=new tO(l);return n.runWebGLProgram(f,[a,i],"float32")}};var hO={kernelName:o.Conv3DBackpropFilterV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,u=r.strides,s=r.pad,c=r.filterShape,l=o.backend_util.computeConv3DInfo(a.shape,c,u,1,s),f=new sO(l);return n.runWebGLProgram(f,[a,i],"float32")}};var pO={kernelName:o.Conv3DBackpropInputV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,u=r.pad,s=r.strides,c=r.inputShape,l=o.backend_util.computeConv3DInfo(c,i.shape,s,1,u),f=new cO(l);return n.runWebGLProgram(f,[a,i],"float32")}},vO=fx({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"}),mO={kernelName:o.Cos,backendName:"webgl",kernelFunc:vO},gO=fx({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),bO={kernelName:o.Cosh,backendName:"webgl",kernelFunc:gO},yO=Object(An.a)((function e(t,n,r,a,i){Object(En.a)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=Object(u.a)(t,4),s=o[0],c=o[1],l=o[2],f=o[3],d=Object(u.a)(n,1)[0],h=Object(u.a)(r,2),p=h[0],v=h[1];this.outputShape=[d,p,v,f];var m="bilinear"===a?1:0,g="".concat(c-1,".0"),b="".concat(l-1,".0"),y=p>1?["".concat((c-1)/(p-1)),"(y2-y1) * height_ratio","y1*".concat(g," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(g)],x=Object(u.a)(y,3),w=x[0],O=x[1],k=x[2],j=v>1?["".concat((l-1)/(v-1)),"(x2-x1) * width_ratio","x1*".concat(b," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(b)],_=Object(u.a)(j,3),S=_[0],E=_[1],A=_[2];this.userCode="\n      const float height_ratio = float(".concat(w,");\n      const float width_ratio = float(").concat(S,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(s,") {\n          return;\n        }\n\n        float height_scale = ").concat(O,";\n        float width_scale = ").concat(E,";\n\n        float in_y = ").concat(k,";\n        if( in_y < 0.0 || in_y > ").concat(g," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n        float in_x = ").concat(A,";\n        if( in_x < 0.0 || in_x > ").concat(b," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(m," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")})),xO={kernelName:o.CropAndResize,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.boxes,o=t.boxInd,u=r.cropSize,s=r.method,c=r.extrapolationValue,l=new yO(a.shape,i.shape,u,s,c);return n.runWebGLProgram(l,[a,i,o],"float32")}},wO=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=t;var a=t.length,i=n?"0.0":"getX(".concat(OO(a,"coords"),")"),o=t[t.length-1],u="",s="";n?(u=r?"end != ".concat(o-1):"end != 0",s=r?"end + 1":"end - 1"):(u=r?"end + pow2 < ".concat(o):"end >= pow2",s=r?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(fb(a)," coords = getOutputCoords();\n        int end = ").concat(kO(a,"coords"),";\n        float val = ").concat(i,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(u,") {\n          int idx = ").concat(s,";\n          ").concat(kO(a,"coords")," = idx;\n          val += getX(").concat(OO(a,"coords"),");\n        }\n        setOutput(val);\n      }\n    ")}));function OO(e,t){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw Error("Cumulative sum for rank ".concat(e," is not yet supported"))}function kO(e,t){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw Error("Cumulative sum for rank ".concat(e," is not yet supported"))}var jO={kernelName:o.Cumsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,u=r.exclusive,s=r.reverse,c=a.shape.length,l=o.backend_util.getAxesPermutation([i],c),f=a;null!=l&&(f=Tx({inputs:{x:a},backend:n,attrs:{perm:l}}));var d=o.backend_util.getInnerMostAxes(1,c)[0];if(d!==c-1)throw new Error("WebGL cumsum shader expects an inner-most axis=".concat(a.shape.length-1," ")+"but got axis=".concat(i));for(var h=f.shape[d],p=tx({inputs:{x:f},backend:n}),v=0;v<=Math.ceil(Math.log2(h))-1;v++){var m=new wO(f.shape,!1,s),g=[[v]],b=p;p=n.runWebGLProgram(m,[p],p.dtype,g),n.disposeIntermediateTensorInfo(b)}if(u){var y=new wO(f.shape,u,s),x=p;p=n.runWebGLProgram(y,[p],p.dtype),n.disposeIntermediateTensorInfo(x)}if(null!=l){var w=Tx({inputs:{x:p},backend:n,attrs:{perm:o.backend_util.getUndoAxesPermutation(l)}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),w}return p}};var _O={kernelName:o.DenseBincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,u=r.binaryOutput;if(1===a.shape.length){var s=n.readSync(a.dataId),c=n.readSync(i.dataId),l=zb(s,c,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,l)}if(2===a.shape.length){var f=n.bufferSync(a),d=n.bufferSync(i),h=Bb(f,d,o,u);return n.makeTensorInfo(h.shape,i.dtype,h.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}},SO=function(){function e(t,n,r){Object(En.a)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return Object(An.a)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var EO={kernelName:o.DepthToSpace,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockSize,o=r.dataFormat,u=a.shape[0],s=("NHWC"===o?a.shape[1]:a.shape[2])*i,c=("NHWC"===o?a.shape[2]:a.shape[3])*i,l=("NHWC"===o?a.shape[3]:a.shape[1])/(i*i),f=new SO("NHWC"===o?[u,s,c,l]:[u,l,s,c],i,o);return n.runWebGLProgram(f,[a],a.dtype)}},AO=Object(An.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(En.a)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=yb(this.outputShape.length);var o=t.filterHeight,u=t.filterWidth,s=t.outChannels/t.inChannels,c="",l="";r&&(c=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),l="result = activation(result);");var f=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(s,";\n        int q = d2 - d1 * ").concat(s,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(o,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(u,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(f,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")})),CO=Object(An.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(En.a)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=yb(this.outputShape.length);for(var u=t.outChannels/t.inChannels,s=t.padInfo.left,c=t.strideWidth,l=t.dilationWidth,f=t.filterHeight,d=t.filterWidth,h=d,p="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",v=0;v<d;v++)p+="\n          vec4 xTexelC".concat(2*v,";\n          int xTexelC").concat(2*v,"Ready;\n          vec4 xTexelC").concat(2*v+1,";\n          int xTexelC").concat(2*v+1,"Ready;\n          vec4 xC").concat(v,";");p+="\n    for (int r = 0; r < ".concat(f,"; r++) {\n      ");for(var m=0;m<d;m++)p+="\n          xTexelC".concat(2*m," = vec4(0.0);\n          xTexelC").concat(2*m,"Ready = 0;\n          xTexelC").concat(2*m+1," = vec4(0.0);\n          xTexelC").concat(2*m+1,"Ready = 0;\n          xC").concat(m," = vec4(0.0);");p+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var g=0;g<(h+1)/2;g++){var b=2*g;if(p+="\n          xC = xCCorner + ".concat(b*l,";\n          "),1===c){if(b<d&&(s%2===1?(p+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n              "),p+=1===l&&b>0?"\n                xC".concat(b," = vec4(xTexelC").concat(b-2,".zw, xTexelC").concat(b,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(b," = vec4(previous.zw, xTexelC").concat(b,".xy);\n                  } else {\n                    xC").concat(b," = vec4(0.0, 0.0, xTexelC").concat(b,".xy);\n                  }\n                  ")):p+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n\n                xC").concat(b," = xTexelC").concat(b,";\n                "),b+1<d)){var y=s%2===0?o.util.nearestLargerEven(l):l;l%2===0&&s%2===1||l%2!==0&&s%2!==1?(p+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(y,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                    xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(b+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(b+1,"Ready = 1;\n                  }\n                  "),l>1&&(p+="\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                      xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n                      xTexelC").concat(b,"Ready = 1;\n                    }\n                    ")),p+="\n                  xC".concat(b+1," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".xy);\n                  ")):p+=1===y?"\n                    xC".concat(b+1," = xTexelC").concat(b,";\n                    "):"\n                    xCOffset = xC + ".concat(y,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                      xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(b+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(b+1,"Ready = 1;\n                    }\n\n                    xC").concat(b+1," = xTexelC").concat(b+1,";\n                    ")}}else b<d&&(s%2===1?(p+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                  xTexelC").concat(b+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(b+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b+1,"Ready = 1;\n                }\n\n                xC").concat(b," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".zw);\n              "),b+1<d&&(p+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(b+1," = vec4(xTexelC").concat(b+1,".xy, final.xy);\n                "))):(p+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                  xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(b+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(b+1,"Ready = 1;\n                }\n\n                xC").concat(b," = vec4(\n                  xTexelC").concat(b,".xy, xTexelC").concat(b+1,".xy);\n              "),b+1<d&&(p+="\n                  xC".concat(b+1," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".zw);\n                "))));b<d&&(p+="\n            wTexel = getW(r, ".concat(b,", d1, q);\n            dotProd += xC").concat(b," * vec4(wTexel.xz, wTexel.xz);\n          "),b+1<d&&(p+="\n              wTexel = getW(r, ".concat(b+1,", d1, q);\n              dotProd += xC").concat(b+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}p+="\n    }\n  ",p+="\n      }\n    ";var x="",w="";r&&(x=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),w="result = activation(result);");var O=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(x,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(u,";\n        int q = d2 - d1 * ").concat(u,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(p,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(O,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")}));var NO={kernelName:o.DepthwiseConv2dNative,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=r.strides,s=r.pad,c=r.dilations,l=r.dimRoundingMode,f=c;null==f&&(f=[1,1]),o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,f),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(u," and dilations '").concat(f,"'")}));var d,h=o.backend_util.computeConv2DInfo(a.shape,i.shape,u,f,s,l,!0);d=Object(o.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels===1?new CO(h):new AO(h);var p=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];return n.runWebGLProgram(d,[a,i],"float32",p)}},TO=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),DO=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=n-1-t.padInfo.top,u=r-1-t.padInfo.left,s=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(s,"; dm++) {\n              int d2 = d1 * ").concat(s," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var IO={kernelName:o.DepthwiseConv2dNativeBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,u=r.strides,s=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.filterShape,d=o.backend_util.computeConv2DInfo(a.shape,f,u,s,c,l,!0),h=new TO(d);return n.runWebGLProgram(h,[a,i],"float32")}};var MO={kernelName:o.DepthwiseConv2dNativeBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,u=r.strides,s=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.inputShape,d=o.backend_util.computeConv2DInfo(f,i.shape,u,s,c,l,!0),h=new DO(d);return n.runWebGLProgram(h,[a,i],"float32")}},FO=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}));var RO={kernelName:o.Diag,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=[].concat(Object(Dn.a)(r.shape),Object(Dn.a)(r.shape)),i=o.util.sizeFromShape(r.shape),u=wx({inputs:{x:r},backend:n,attrs:{shape:[i]}}),s=new FO(i),c=n.runWebGLProgram(s,[u],u.dtype),l=wx({inputs:{x:c},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),l}},PO=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,a=t.padInfo,i=t.strideHeight,o=t.strideWidth,u=t.filterHeight,s=t.filterWidth,c=t.dilationHeight,l=t.dilationWidth,f=a.top,d=a.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(i,", ").concat(o,");\n      const ivec2 pads = ivec2(").concat(f,", ").concat(d,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(u,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(s,"; w++) {\n              int wIn = wBeg + w * ").concat(l,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}));var zO={kernelName:o.Dilation2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,u=n.filter,s=a.strides,c=a.pad,l=a.dilations,f=o.backend_util.computeDilation2DInfo(i.shape,u.shape,s,c,"NHWC",l),d=new PO(f),h=wx({inputs:{x:t=r.runWebGLProgram(d,[i,u],"float32")},backend:r,attrs:{shape:f.outShape}});return r.disposeIntermediateTensorInfo(t),h}};var BO={kernelName:o.Einsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,i=o.backend_util.decodeEinsumEquation(r,a.length),u=i.allDims,s=i.summedDims,c=i.idDims;o.backend_util.checkEinsumDimSizes(u.length,c,a);for(var l=o.backend_util.getEinsumComputePath(s,c),f=l.path,d=l.steps,h=d.length,p=null,v=u.length,m=[],g=0;g<h;++g){var b,y=Object(In.a)(d[g]);try{for(y.s();!(b=y.n()).done;){var x=b.value,w=o.backend_util.getEinsumPermutation(v,c[x]),O=w.permutationIndices,k=w.expandDims,j=void 0;o.backend_util.isIdentityPermutation(O)?j=a[x]:(j=Tx({inputs:{x:a[x]},backend:n,attrs:{perm:O}}),m.push(j));for(var _=j.shape.slice(),S=0;S<k.length;++S)_.splice(k[S],0,1);o.util.arraysEqual(j.shape,_)||(j=wx({inputs:{x:j},backend:n,attrs:{shape:_}}),m.push(j)),null===p?p=j:(p=yx({inputs:{a:j,b:p},backend:n}),m.push(p))}}catch(N){y.e(N)}finally{y.f()}g<h-1&&(f[g]>=0&&(p=Cx({inputs:{x:p},backend:n,attrs:{axis:f[g]-(u.length-v),keepDims:!1}}),m.push(p)),v--)}for(var E=0,A=m;E<A.length;E++){var C=A[E];C!==p&&n.disposeIntermediateTensorInfo(C)}return p}},LO=fx({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),UO={kernelName:o.Elu,backendName:"webgl",kernelFunc:LO},WO={kernelName:o.EluGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y,i=Object(o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ex("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new Qy("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(i,[r,a],r.dtype)}},VO=dx({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:Wb}),HO={kernelName:o.Equal,backendName:"webgl",kernelFunc:VO},GO=fx({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(o.backend_util.ERF_P,";\n  float a1 = ").concat(o.backend_util.ERF_A1,";\n  float a2 = ").concat(o.backend_util.ERF_A2,";\n  float a3 = ").concat(o.backend_util.ERF_A3,";\n  float a4 = ").concat(o.backend_util.ERF_A4,";\n  float a5 = ").concat(o.backend_util.ERF_A5,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),qO={kernelName:o.Erf,backendName:"webgl",kernelFunc:GO},XO=fx({opSnippet:"if (isnan(x)) return x;\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Vb,dtype:"float32"}),YO={kernelName:o.Exp,backendName:"webgl",kernelFunc:XO};function KO(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.dim,i=t.input,u=i.shape.length,s=i.shape.slice(),c=a;return a<0&&(o.util.assert(-(u+1)<=a,(function(){return"Axis must be in the interval [".concat(-(u+1),", ").concat(u,"]")})),c=u+a+1),s.splice(c,0,1),wx({inputs:{x:i},backend:r,attrs:{shape:s}})}var $O={kernelName:o.ExpandDims,backendName:"webgl",kernelFunc:KO},ZO="return exp(x) - 1.0;",JO=fx({opSnippet:ZO,packedOpSnippet:ZO,cpuKernelImpl:Hb}),QO={kernelName:o.Expm1,backendName:"webgl",kernelFunc:JO},ek=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["real","imag"];var a=n[1];this.outputShape=n;var i,o=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),u=r?"".concat(a,".0"):"1.0";if("real"===t)i="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));i="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(i,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(a,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(u,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}));function tk(e,t,n){var r=n.texData.get(e.dataId),a=o.util.sizeFromShape(e.shape),i=e.shape[e.shape.length-1],u=wx({inputs:{x:e},backend:n,attrs:{shape:[a/i,i]}}),s=u.shape,c=new ek("real",s,t),l=new ek("imag",s,t),f=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(c,f,"float32"),h=n.runWebGLProgram(l,f,"float32"),p=rx({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);var v=wx({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(p),v}var nk={kernelName:o.FFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return tk(t.input,!1,n)}},rk=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}));function ak(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,i=n.dtype;if("string"===(i=i||o.util.inferDtype(a))){var u=o.util.getArrayFromDType(i,o.util.sizeFromShape(r));return u.fill(a),t.makeTensorInfo(r,i,u)}var s=new rk(r,a),c=[[a]];return t.runWebGLProgram(s,[],i,c)}var ik,ok={kernelName:o.Fill,backendName:"webgl",kernelFunc:ak},uk=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),sk={kernelName:o.FlipLeftRight,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,a=n,i=new uk(r.shape);return a.runWebGLProgram(i,[r],r.dtype)}},ck="return floor(x);",lk=fx({opSnippet:ck,packedOpSnippet:ck,cpuKernelImpl:Gb}),fk={kernelName:o.Floor,backendName:"webgl",kernelFunc:lk},dk=dx({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),hk={kernelName:o.FloorDiv,backendName:"webgl",kernelFunc:dk},pk=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["A"];var n=Lg(),r=Object(u.a)(t,2),a=r[0],i=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(i,".0, ").concat(a,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")})),vk=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=Lg(),r=Object(u.a)(t,2),a=r[0],i=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(i,".0, ").concat(a,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),mk={kernelName:o.FromPixels,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,i=r.numChannels,s="undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement,c="undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement,l=s?[a.videoWidth,a.videoHeight]:[a.width,a.height],f=Object(u.a)(l,2),d=f[0],h=f[1],p=[h,d],v=[h,d,i];(c||s)&&(null==ik&&(ik=document.createElement("canvas").getContext("2d")),ik.canvas.width=d,ik.canvas.height=h,ik.drawImage(a,0,0,d,h),a=ik.canvas);var m=n.makeTensorInfo(p,"int32");n.texData.get(m.dataId).usage=rg.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(m.dataId),a);var g=Object(o.env)().getBool("WEBGL_PACK")?new vk(v):new pk(v),b=n.runWebGLProgram(g,[m],"int32");return n.disposeData(m.dataId),b}};var gk={kernelName:o.FusedConv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,u=n.filter,s=n.bias,c=n.preluActivationWeights,l=a.strides,f=a.pad,d=a.dataFormat,h=a.dilations,p=a.dimRoundingMode,v=a.activation,m=a.leakyreluAlpha,g=o.backend_util.convertConv2DDataFormat(d),b=o.backend_util.computeConv2DInfo(i.shape,u.shape,l,h,f,p,!1,g),y=[];if(1!==b.filterHeight||1!==b.filterWidth||1!==b.dilationHeight||1!==b.dilationWidth||1!==b.strideHeight||1!==b.strideWidth||"SAME"!==b.padInfo.type&&"VALID"!==b.padInfo.type)if(Object(o.env)().getBool("WEBGL_CONV_IM2COL")&&1===i.shape[0])t=aO({x:i,filter:u,convInfo:b,backend:r,bias:s,activation:v,preluActivationWeights:c,leakyreluAlpha:m});else{var x=null!=s,w=null!=c,O="leakyrelu"===v,k=v?hx(v,!1):null,j=new eO(b,x,k,w,O),_=[i,u];if(s&&_.push(s),c&&_.push(c),O){var S=r.makeTensorInfo([],"float32",o.util.createScalarValue(m,"float32"));_.push(S),y.push(S)}t=r.runWebGLProgram(j,_,"float32")}else t=rO({x:i,filter:u,convInfo:b,backend:r,bias:s,activation:v,preluActivationWeights:c,leakyreluAlpha:m});var E=wx({inputs:{x:t},backend:r,attrs:{shape:b.outShape}});return y.push(t),y.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),E}};var bk={kernelName:o.FusedDepthwiseConv2D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=t.bias,s=t.preluActivationWeights,c=r.strides,l=r.pad,f=r.dilations,d=r.dimRoundingMode,h=r.activation,p=r.leakyreluAlpha,v=[],m=f;null==m&&(m=[1,1]),o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(c,m),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(c," and dilations '").concat(m,"'")}));var g,b=o.backend_util.computeConv2DInfo(a.shape,i.shape,c,m,l,d,!0),y=Object(o.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&b.strideWidth<=2&&b.outChannels/b.inChannels===1,x=h?hx(h,y):null,w=[a,i],O=null!=u,k=null!=s,j="leakyrelu"===h;if(O&&w.push(u),k&&w.push(s),j){var _=n.makeTensorInfo([],"float32",o.util.createScalarValue(p,"float32"));w.push(_),v.push(_)}g=y?new CO(b,O,x,k,j):new AO(b,O,x,k,j);var S=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],E=n.runWebGLProgram(g,w,"float32",S);return v.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),E}},yk=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.sliceDim=t,this.strides=n,this.variableNames=["x","indices"],this.outputShape=r;var a=fb(n.length),i=fb(r.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        ".concat(a," strides = ").concat(a,"(").concat(this.strides,");\n         void main() {\n          ").concat(i," coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ").concat(this.sliceDim,"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ").concat(o,";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      ")}));var xk={kernelName:o.GatherNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,i=a.shape,s=i[i.length-1],c=o.util.sizeFromShape(r.shape),l=o.backend_util.prepareAndValidate(r,a),f=Object(u.a)(l,4),d=f[0],h=f[1],p=f[2],v=f[3],m=wx({inputs:{x:a},backend:n,attrs:{shape:[h,s]}}),g=wx({inputs:{x:r},backend:n,attrs:{shape:[o.util.sizeFromShape(r.shape)/p,p]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){var b=n.readSync(a.dataId),y=n.bufferSync(r),x=qb(b,y,r.dtype,h,s,p,v,r.shape,c);return n.makeTensorInfo(d,r.dtype,x.values)}var w=new yk(s,v,[h,p]),O=n.runWebGLProgram(w,[g,m],g.dtype),k=wx({inputs:{x:O},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(O),k}},wk=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=fb(this.rank),a=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e.length;a++)2===a?r.push("index"):r.push("".concat(n[a]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(t[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(a,"));\n      }\n    ")}));function Ok(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.indices,u=r.axis,s=r.batchDims,c=o.util.parseAxisParam(u,a.shape)[0];Object(o.env)().get("DEBUG")&&function(){for(var e=n.readSync(i.dataId),t=a.shape[c],r=function(n){var r=e[n];o.util.assert(r<=t-1&&r>=0,(function(){return"GatherV2: the index value ".concat(r," is not in [0, ").concat(t-1,"]")}))},u=0;u<e.length;++u)r(u)}();var l=o.backend_util.segment_util.collectGatherOpShapeInfo(a,i,c,s),f=o.util.sizeFromShape(i.shape),d=[],h=wx({inputs:{x:a},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),p=wx({inputs:{x:i},backend:n,attrs:{shape:[l.batchSize,f/l.batchSize]}});d.push(h),d.push(p);var v=[l.batchSize,l.outerSize,f/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([a,i])||"string"===a.dtype){var m=n.bufferSync(p),g=n.bufferSync(h),b=Xb(g,m,v);return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(l.outputShape,b.dtype,b.values)}var y=new wk(h.shape,v),x=n.runWebGLProgram(y,[h,p],h.dtype);d.push(x);var w=wx({inputs:{x:x},backend:n,attrs:{shape:l.outputShape}});return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),w}var kk={kernelName:o.GatherV2,backendName:"webgl",kernelFunc:Ok},jk=dx({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:Yb,dtype:"bool"}),_k={kernelName:o.Greater,backendName:"webgl",kernelFunc:jk},Sk=dx({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:Kb}),Ek={kernelName:o.GreaterEqual,backendName:"webgl",kernelFunc:Sk};var Ak={kernelName:o.IFFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return tk(t.input,!0,n)}},Ck=fx({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),Nk={kernelName:o.IsFinite,backendName:"webgl",kernelFunc:Ck},Tk=fx({opSnippet:"return float(isinf(x));",dtype:"bool"}),Dk={kernelName:o.IsInf,backendName:"webgl",kernelFunc:Tk},Ik=fx({opSnippet:"return float(isnan(x));",dtype:"bool"}),Mk={kernelName:o.IsNan,backendName:"webgl",kernelFunc:Ik},Fk=dx({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:$b,dtype:"bool"}),Rk={kernelName:o.Less,backendName:"webgl",kernelFunc:Fk},Pk=dx({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:Zb,dtype:"bool"}),zk={kernelName:o.LessEqual,backendName:"webgl",kernelFunc:Pk};var Bk={kernelName:o.LinSpace,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.num,o=Jb(r,a,i);return t.makeTensorInfo([o.length],"float32",o)}},Lk=fx({opSnippet:"if (isnan(x)) return x;\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:Qb}),Uk={kernelName:o.Log,backendName:"webgl",kernelFunc:Lk},Wk=fx({opSnippet:"if (isnan(x)) return x;\n  return log(1.0 + x);\n"}),Vk={kernelName:o.Log1p,backendName:"webgl",kernelFunc:Wk},Hk=dx({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),Gk={kernelName:o.LogicalAnd,backendName:"webgl",kernelFunc:Hk},qk=fx({opSnippet:"return float(!(x >= 1.0));"}),Xk={kernelName:o.LogicalNot,backendName:"webgl",kernelFunc:qk},Yk=dx({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),Kk={kernelName:o.LogicalOr,backendName:"webgl",kernelFunc:Yk},$k=Object(An.a)((function e(t,n,r,a,i){Object(En.a)(this,e),this.variableNames=["x"],this.outputShape=[];var o,u=n,s=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(a,") * sum");o=.5===i?"inversesqrt(".concat(c,")"):1===i?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(u,"; j <= ").concat(u,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(s,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(o,";\n        setOutput(val);\n      }\n    ")})),Zk=Object(An.a)((function e(t,n,r,a,i){Object(En.a)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,u=n,s=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(a,") * sum");o=.5===i?"inversesqrt(".concat(c,")"):1===i?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(u,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(u,"; j <= ").concat(u,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(s,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(o,";\n        setOutput(result);\n      }\n    ")})),Jk={kernelName:o.LRN,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.depthRadius,u=r.bias,s=r.alpha,c=r.beta,l=Object(o.env)().getBool("WEBGL_PACK_NORMALIZATION")?new Zk(a.shape,i,u,s,c):new $k(a.shape,i,u,s,c);return n.runWebGLProgram(l,[a],a.dtype)}},Qk=Object(An.a)((function e(t,n,r,a,i){Object(En.a)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(a,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(a,")\n                * float(").concat(i,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(i,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")})),ej={kernelName:o.LRNGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.y,o=t.dy,u=r.depthRadius,s=r.bias,c=r.alpha,l=r.beta,f=new Qk(a.shape,u,s,c,l);return n.runWebGLProgram(f,[a,i,o],a.dtype)}};function tj(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reductionIndices,s=r.keepDims,c=a.shape.length,l=o.util.parseAxisParam(i,a.shape),f=l,d=o.backend_util.getAxesPermutation(f,c),h=null!=d,p=n.shouldExecuteOnCPU([a]),v=a;if(h){if(p){for(var m=n.texData.get(v.dataId).values,g=new Array(c),b=0;b<g.length;b++)g[b]=a.shape[d[b]];var y=ky(m,a.shape,a.dtype,d,g);v=n.makeTensorInfo(g,a.dtype),n.texData.get(v.dataId).values=y}else v=Ax(a,d,n);f=o.backend_util.getInnerMostAxes(f.length,c)}o.backend_util.assertAxesAreInnerMostDims("max",f,c);var x,w=o.backend_util.computeOutAndReduceShapes(v.shape,f),O=Object(u.a)(w,2),k=O[0],j=O[1],_=k;if(s&&(_=o.backend_util.expandShapeToKeepDim(k,l)),p){var S=n.texData.get(v.dataId).values,E=ey(S,o.util.sizeFromShape(j),_,a.dtype);x=n.makeTensorInfo(_,a.dtype),n.texData.get(x.dataId).values=E}else x=function(e,t,n,r){var a=o.util.sizeFromShape(t),i=wx({inputs:{x:e},attrs:{shape:[o.util.sizeFromShape(e.shape)/a,a]},backend:r}),u=_x(i,e.dtype,"max",r),s=wx({inputs:{x:u},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(u),s}(v,j,_,n);return h&&n.disposeIntermediateTensorInfo(v),x}var nj={kernelName:o.Max,backendName:"webgl",kernelFunc:tj},rj=dx({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:ty}),aj={kernelName:o.Maximum,backendName:"webgl",kernelFunc:rj};var ij={kernelName:o.MaxPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;zg(a,"maxPool");var i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode;o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(u," and dilations '").concat(1,"'")}));var l=o.backend_util.computePool2DInfo(a.shape,i,u,1,s,c);if(1===l.filterWidth&&1===l.filterHeight&&o.util.arraysEqual(l.inShape,l.outShape))return tx({inputs:{x:a},backend:n});var f=new dw(l,"max",!1);return n.runWebGLProgram(f,[a],a.dtype)}};var oj={kernelName:o.MaxPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,u=r.strides,s=r.pad,c=r.dataFormat,l=r.dimRoundingMode,f=o.backend_util.computePool3DInfo(a.shape,i,u,[1,1,1],s,l,c),d=new hw(f,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}},uj=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,a=t.dilationHeight,i=t.effectiveFilterHeight,o=t.effectiveFilterWidth,u=i-1-t.padInfo.top,s=o-1-t.padInfo.left,c=i*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(u,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(i,";\n          wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),sj=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,o=t.dilationHeight,u=t.dilationWidth,s=t.effectiveFilterDepth,c=t.effectiveFilterHeight,l=t.effectiveFilterWidth,f=s-1-t.padInfo.front,d=c-1-t.padInfo.top,h=l-1-t.padInfo.left,p=s*c*l-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(f,", ").concat(d,", ").concat(h,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(s,";\n           wD += ").concat(i,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(l,";\n                wC += ").concat(u,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(p," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(l," +\n                  wR * ").concat(l," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var cj={kernelName:o.MaxPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode,f=o.backend_util.computePool3DInfo(i.shape,u,s,[1,1,1],c,l),d=new hw(f,"max",!0),h=n.runWebGLProgram(d,[i],i.dtype),p=new sj(f),v=n.runWebGLProgram(p,[a,h],i.dtype);return n.disposeIntermediateTensorInfo(h),v}};var lj={kernelName:o.MaxPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=i;zg([i,t.output],"maxPoolGrad");var s=r.filterSize,c=r.strides,l=r.pad,f=r.dimRoundingMode,d=o.backend_util.computePool2DInfo(u.shape,s,c,1,l,f),h=new dw(d,"max",!0),p=n.runWebGLProgram(h,[u],u.dtype),v=new uj(d),m=n.runWebGLProgram(v,[a,p],u.dtype);return n.disposeIntermediateTensorInfo(p),m}};var fj={kernelName:o.MaxPoolWithArgmax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.filterSize,s=n.strides,c=n.pad,l=n.includeBatchInIndex,f=r;o.util.assert(4===a.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")}));var d=[1,1];o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(s,d),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(d,"'")}));var h=o.backend_util.computePool2DInfo(a.shape,i,s,d,c),p=function(e,t,n,r){var a=new dw(n,"max",!1),i=r.runWebGLProgram(a,[e],"float32");return a=new dw(n,"max",!0,!0,t),[i,r.runWebGLProgram(a,[e],"float32")]}(a,l,h,f),v=Object(u.a)(p,2);return[v[0],v[1]]}};var dj={kernelName:o.Mean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.keepDims,s=n.axis,c=r,l=a.shape.length,f=o.util.parseAxisParam(s,a.shape),d=f,h=o.backend_util.getAxesPermutation(d,l),p=null!=h,v=c.shouldExecuteOnCPU([a]),m=[],g=a;if(p){if(v){for(var b=c.texData.get(g.dataId).values,y=new Array(l),x=0;x<y.length;x++)y[x]=a.shape[h[x]];var w=ky(b,a.shape,a.dtype,h,y);g=c.makeTensorInfo(y,a.dtype),c.texData.get(g.dataId).values=w}else g=Ax(a,h,c);m.push(g),d=o.backend_util.getInnerMostAxes(d.length,l)}o.backend_util.assertAxesAreInnerMostDims("sum",d,l);var O=o.backend_util.computeOutAndReduceShapes(g.shape,d),k=Object(u.a)(O,2),j=k[0],_=k[1],S=j;i&&(S=o.backend_util.expandShapeToKeepDim(j,f));for(var E=function(e,t,n,r){var a=o.util.sizeFromShape(t),i=wx({inputs:{x:e},attrs:{shape:[o.util.sizeFromShape(e.shape)/a,a]},backend:r}),u=_x(i,"float32","mean",r),s=wx({inputs:{x:u},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(u),s}(g,_,S,c),A=0,C=m;A<C.length;A++){var N=C[A];c.disposeIntermediateTensorInfo(N)}return E}};var hj={kernelName:o.Min,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims,c=a.shape.length,l=o.util.parseAxisParam(i,a.shape),f=l,d=o.backend_util.getAxesPermutation(f,c),h=a;null!=d&&(h=Tx({inputs:{x:a},backend:n,attrs:{perm:d}}),f=o.backend_util.getInnerMostAxes(f.length,a.shape.length)),o.backend_util.assertAxesAreInnerMostDims("min",f,c);var p,v=o.backend_util.computeOutAndReduceShapes(h.shape,f),m=Object(u.a)(v,2),g=m[0],b=m[1],y=wx({inputs:{x:h},backend:n,attrs:{shape:[-1,o.util.sizeFromShape(b)]}}),x=_x(y,y.dtype,"min",n);return p=wx(s?{inputs:{x:x},backend:n,attrs:{shape:o.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),null!=d&&n.disposeIntermediateTensorInfo(h),p}},pj=dx({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:ny}),vj={kernelName:o.Minimum,backendName:"webgl",kernelFunc:pj},mj=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=fb(a),o=n.map((function(e){return e[0]})).join(","),u=n.map((function(e,n){return e[0]+t[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),c="reflect"===r?0:1;this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(u,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(a,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(i," coords = outC - start;\n        setOutput(getX(").concat(s,"));\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(u,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")})),gj=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=fb(a),o=n.map((function(e){return e[0]})).join(","),u=n.map((function(e,n){return e[0]+t[n]})).join(","),s=Sy("rc",a),c=Sy("source",a),l="".concat(s[a-1]," < ").concat(this.outputShape[a-1]),f=1===a?"source":"vec2(".concat(c.slice(-2).join(),")"),d="reflect"===r?0:1,h="";if(1===a){var p="\n        ".concat(i," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(d,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(d,";\n        }\n        source -= start;\n      ");h="\n        ".concat(i," rc = outputLoc;\n        ").concat(p,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        ").concat(s[a-1]," += 1;\n        if(").concat(l,") {\n          ").concat(p,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n      ")}else{var v="\n        ".concat(i," source = rc;\n        ").concat(i," lt = ").concat(i,"(lessThan(source, start));\n        ").concat(i," gte = ").concat(i,"(greaterThanEqual(source, end));\n        ").concat(i," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(d,") +\n                gte * ((end - 1) * 2 - source + ").concat(d,");\n        source -= start;\n      ");h="\n        ".concat(i," rc = outputLoc;\n        ").concat(v,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        ").concat(s[a-1]," += 1;\n        if(").concat(l,") {\n          ").concat(v,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n        rc = outputLoc;\n        ").concat(s[a-2]," += 1;\n        if(").concat(s[a-2]," < ").concat(this.outputShape[a-2],") {\n          ").concat(v,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n          ").concat(s[a-1]," += 1;\n          if(").concat(l,") {\n            ").concat(v,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(u,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")})),bj={kernelName:o.MirrorPad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,u=r.mode,s=Object(o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gj(a.shape,i,u):new mj(a.shape,i,u);return n.runWebGLProgram(s,[a],a.dtype)}},yj=dx({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),xj={kernelName:o.Mod,backendName:"webgl",kernelFunc:yj},wj=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")})),Oj=dx({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),kj={kernelName:o.RealDiv,backendName:"webgl",kernelFunc:Oj},jj="return a - b;",_j=dx({opSnippet:jj,packedOpSnippet:jj,supportsComplex:!0,cpuKernelImpl:xy}),Sj={kernelName:o.Sub,backendName:"webgl",kernelFunc:_j};function Ej(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.dim,u=o.util.parseAxisParam([i],a.shape),s=tj({inputs:{x:a},backend:n,attrs:{reductionIndices:u,keepDims:!1}}),c=o.backend_util.expandShapeToKeepDim(s.shape,u),l=wx({inputs:{x:s},backend:n,attrs:{shape:c}}),f=_j({inputs:{a:a,b:l},backend:n}),d=XO({inputs:{x:f},backend:n}),h=Cx({inputs:{x:d},backend:n,attrs:{axis:u,keepDims:!1}}),p=wx({inputs:{x:h},backend:n,attrs:{shape:c}}),v=Oj({inputs:{a:d,b:p},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),v}var Aj={kernelName:o.Softmax,backendName:"webgl",kernelFunc:Ej};var Cj={kernelName:o.Multinomial,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.numSamples,o=r.seed,u=r.normalized,s=u?a:Ej({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),c=s.shape[0],l=s.shape[1],f=new wj(c,l,i),d=[[o]],h=n.runWebGLProgram(f,[s],"int32",d);return u||n.disposeIntermediateTensorInfo(s),h}};var Nj={kernelName:o.Neg,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])){var i=r.texData.get(a.dataId),s=ay(i.values,a.shape,a.dtype),c=Object(u.a)(s,2),l=c[0],f=c[1];return r.makeTensorInfo(f,a.dtype,l)}return t=Object(o.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Xy(a.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new Iy(a.shape,"if (isnan(x)) return x;\n  return -x;\n"),r.runWebGLProgram(t,[a],a.dtype)}},Tj=o.kernel_impls.nonMaxSuppressionV3Impl;var Dj={kernelName:o.NonMaxSuppressionV3,backendName:"webgl",kernelFunc:function(e){o.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,u=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=n.readSync(a.dataId),f=n.readSync(i.dataId),d=Tj(l,f,u,s,c).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},Ij=o.kernel_impls.nonMaxSuppressionV4Impl;var Mj={kernelName:o.NonMaxSuppressionV4,backendName:"webgl",kernelFunc:function(e){o.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,u=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=r.padToMaxOutputSize,f=n.readSync(a.dataId),d=n.readSync(i.dataId),h=Ij(f,d,u,s,c,l),p=h.selectedIndices,v=h.validOutputs;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([v]))]}},Fj=o.kernel_impls.nonMaxSuppressionV5Impl;var Rj={kernelName:o.NonMaxSuppressionV5,backendName:"webgl",kernelFunc:function(e){o.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,u=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=r.softNmsSigma,f=n.readSync(a.dataId),d=n.readSync(i.dataId),h=Fj(f,d,u,s,c,l),p=h.selectedIndices,v=h.selectedScores;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}},Pj=Object(An.a)((function e(t,n,r,a){Object(En.a)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(a,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")})),zj={kernelName:o.OneHot,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=r.depth,u=r.onValue,s=r.offValue,c=o.util.sizeFromShape(a.shape),l=new Pj(c,i,u,s),f=wx({inputs:{x:a},backend:n,attrs:{shape:[c]}}),d=n.runWebGLProgram(l,[f],a.dtype);n.disposeIntermediateTensorInfo(f);var h=wx({inputs:{x:d},backend:n,attrs:{shape:[].concat(Object(Dn.a)(a.shape),[i])}});return n.disposeIntermediateTensorInfo(d),h}};function Bj(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var a=Mw({inputs:{input:r},backend:n}),i=Bj({inputs:{x:a},backend:n}),o=Kw({inputs:{input:r},backend:n}),u=Bj({inputs:{x:o},backend:n}),s=rx({inputs:{real:i,imag:u},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),s}return ak({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var Lj={kernelName:o.ZerosLike,backendName:"webgl",kernelFunc:Bj};var Uj={kernelName:o.OnesLike,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){var i=Mw({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),u=Kw({inputs:{input:a},backend:r}),s=Bj({inputs:{x:u},backend:r}),c=rx({inputs:{real:o,imag:s},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(u),r.disposeIntermediateTensorInfo(s),c}return ak({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};var Wj={kernelName:o.Pack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return KO({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,i=t[0].dtype;t.forEach((function(e){o.util.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),o.util.assert(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var u=[],s=Jw({inputs:t.map((function(e){var t=KO({inputs:{input:e},backend:n,attrs:{dim:r}});return u.push(t),t})),backend:n,attrs:{axis:r}});return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),s}},Vj=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=fb(a),o=n.map((function(e){return e[0]})).join(","),u=n.map((function(e,n){return e[0]+t[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(u,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(i," coords = outC - start;\n          setOutput(getX(").concat(s,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(u,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")})),Hj=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var a=t.length,i=fb(a),o=n.map((function(e){return e[0]})).join(","),u=n.map((function(e,n){return e[0]+t[n]})).join(","),s=Sy("rc",a),c=Sy("source",a),l="".concat(s[a-1]," < ").concat(this.outputShape[a-1]),f=1===a?"source":"vec2(".concat(c.slice(-2).join(),")"),d=["".concat(i," rc = outputLoc;"),"".concat(s[a-1]," += 1;\n       if(").concat(l,") {\n      "),1===a?"":"}\n       rc = outputLoc;\n       ".concat(s[a-2]," += 1;\n       if(").concat(s[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":"  ".concat(s[a-1]," += 1;\n         if(").concat(l,") {")],h=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",p="",v=0,m=1===a?2:4;v<m;v++)p+="\n        ".concat(d[v],"\n        if (").concat(h,") {\n          result[").concat(v,"] = float(value);\n        } else {\n          ").concat(i," source = rc - start;\n          result[").concat(v,"] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n      ");p+=1===a?"} ":"}}",this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(u,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")})),Gj=function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,u=r.constantValue;if(0===o.util.sizeFromShape(a.shape))return ak({backend:n,attrs:{shape:i.map((function(e,t){return e[0]+a.shape[t]+e[1]})),value:u,dtype:a.dtype}});var s=Object(o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Hj(a.shape,i,u):new Vj(a.shape,i,u),c=[[u]];return n.runWebGLProgram(s,[a],a.dtype,c)},qj={kernelName:o.PadV2,backendName:"webgl",kernelFunc:Gj},Xj=dx({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),Yj={kernelName:o.Pow,backendName:"webgl",kernelFunc:Xj};var Kj={kernelName:o.Prod,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,s=a.axis,c=a.keepDims,l=i.shape.length,f=[],d=o.util.parseAxisParam(s,i.shape),h=d,p=o.backend_util.getAxesPermutation(h,l),v=i;if(null!=p&&(v=Tx({inputs:{x:i},backend:r,attrs:{perm:p}}),h=o.backend_util.getInnerMostAxes(h.length,l),f.push(v)),o.backend_util.assertAxesAreInnerMostDims("prod",h,l),r.shouldExecuteOnCPU([v])){var m=r.texData.get(v.dataId).values,g=oy(v.shape,v.dtype,m,h),b=g.outVals,y=g.outShape,x=g.outDtype;t=r.makeTensorInfo(y,x,b)}else{var w=o.backend_util.computeOutAndReduceShapes(v.shape,h),O=Object(u.a)(w,2),k=O[0],j=O[1],_=o.util.sizeFromShape(j),S=wx({inputs:{x:v},backend:r,attrs:{shape:[-1,_]}}),E=_x(S,Object(o.sumOutType)(i.dtype),"prod",r);t=wx({inputs:{x:E},backend:r,attrs:{shape:k}}),f.push(S),f.push(E)}if(c){f.push(t);var A=o.backend_util.expandShapeToKeepDim(t.shape,d);t=wx({inputs:{x:t},backend:r,attrs:{shape:A}})}return f.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),t}},$j=function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.step,o=n.dtype,u=uy(r,a,i,o);return t.makeTensorInfo([u.length],o,u)},Zj={kernelName:o.Range,backendName:"webgl",kernelFunc:$j},Jj=fx({opSnippet:"return 1.0 / x;"}),Qj={kernelName:o.Reciprocal,backendName:"webgl",kernelFunc:Jj},e_=fx({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),t_={kernelName:o.Relu,backendName:"webgl",kernelFunc:e_},n_=fx({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),r_={kernelName:o.Relu6,backendName:"webgl",kernelFunc:n_},a_=Object(An.a)((function e(t,n,r,a,i){Object(En.a)(this,e),this.variableNames=["A"],this.outputShape=[];var o=Object(u.a)(t,4),s=o[0],c=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[a&&n>1?c-1:c,a&&r>1?l-1:l],p=[a&&n>1?n-1:n,a&&r>1?r-1:r];d=i?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/p[0],",\n          ").concat(h[1]/p[1],");\n      const vec2 inputShapeRC = vec2(").concat(c,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")})),i_=Object(An.a)((function e(t,n,r,a,i){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=Object(u.a)(t,4),s=o[0],c=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[a&&n>1?c-1:c,a&&r>1?l-1:l],p=[a&&n>1?n-1:n,a&&r>1?r-1:r];d=i?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/p[0],",\n          ").concat(h[1]/p[1],",\n          ").concat(h[1]/p[1],");\n      const vec3 inputShapeRC = vec3(").concat(c,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(f-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}));var o_={kernelName:o.ResizeBilinear,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.halfPixelCenters,c=r.size,l=Object(u.a)(c,2),f=l[0],d=l[1],h=Object(o.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new i_(a.shape,f,d,i,s):new a_(a.shape,f,d,i,s);return n.runWebGLProgram(h,[a],"float32")}},u_=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=Object(u.a)(n,3),i=a[1],o=a[2],s=Object(u.a)(t,3),c=s[1],l=s[2],f=[r&&c>1?i-1:i,r&&l>1?o-1:o],d=[r&&c>1?c-1:c,r&&l>1?l-1:l],h=f[0]/d[0],p=f[1]/d[1],v=1/h,m=1/p,g=2*Math.ceil(v)+2,b=2*Math.ceil(m)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(p,");\n\n        const float invHeightScale = float(").concat(v,");\n        const float invWidthScale = float(").concat(m,");\n\n        const int winHeight = int(").concat(g,");\n        const int winWidth = int(").concat(b,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(c,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(i-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(o-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var s_={kernelName:o.ResizeBilinearGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,u=new u_(i.shape,a.shape,o);return n.runWebGLProgram(u,[i],i.dtype)}},c_=Object(An.a)((function e(t,n,r,a,i){Object(En.a)(this,e),this.variableNames=["A"],this.outputShape=[];var o=Object(u.a)(t,4),s=o[0],c=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[a&&n>1?c-1:c,a&&r>1?l-1:l],p=[a&&n>1?n-1:n,a&&r>1?r-1:r],v=a?"0.5":"0.0";d=i?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/p[0],",\n          ").concat(h[1]/p[1],");\n      const vec2 inputShapeRC = vec2(").concat(c,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(v,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")})),l_=Object(An.a)((function e(t,n,r,a,i){Object(En.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=Object(u.a)(t,4),s=o[0],c=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[a&&n>1?c-1:c,a&&r>1?l-1:l],p=[a&&n>1?n-1:n,a&&r>1?r-1:r],v=a?"0.5":"0.0";d=i?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/p[0],",\n          ").concat(h[1]/p[1],",\n          ").concat(h[1]/p[1],");\n      const vec3 inputShapeRC = vec3(").concat(c,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(v,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(f-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}));var f_={kernelName:o.ResizeNearestNeighbor,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.halfPixelCenters,c=r.size,l=Object(u.a)(c,2),f=l[0],d=l[1],h=Object(o.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new l_(a.shape,f,d,i,s):new c_(a.shape,f,d,i,s);return n.runWebGLProgram(h,[a],a.dtype)}},d_=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=Object(u.a)(n,3),i=a[1],o=a[2],s=Object(u.a)(t,3),c=s[1],l=s[2],f=[r&&c>1?i-1:i,r&&l>1?o-1:o],d=[r&&c>1?c-1:c,r&&l>1?l-1:l],h=f[0]/d[0],p=f[1]/d[1],v=1/h,m=1/p,g=2*Math.ceil(v)+2,b=2*Math.ceil(m)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(p,");\n\n        const float invHeightScale = float(").concat(v,");\n        const float invWidthScale = float(").concat(m,");\n\n        const int winHeight = int(").concat(g,");\n        const int winWidth = int(").concat(b,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(c,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(f[0],") *\n                (float(dyR) / float(").concat(d[0],"));\n\n            float sourceFracCol =\n                float(").concat(f[1],") *\n                  (float(dyC) / float(").concat(d[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(i,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var h_={kernelName:o.ResizeNearestNeighborGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,u=new d_(i.shape,a.shape,o);return n.runWebGLProgram(u,[i],i.dtype)}},p_=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var a=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)})).join(","),i=fb(r);this.userCode="\n      void main() {\n        ".concat(i," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")})),v_=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var a=Sy("rc",r),i="".concat(a[r-1]," + 1 < ").concat(this.outputShape[r-1]),o="".concat(a[r-2]," + 1 < ").concat(this.outputShape[r-2]),u=fb(r);function s(e){var r=t.map((function(r,a){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(a,e)})),a=r.join(","),i=r.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(i,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(i,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(u," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return s(e)}(a.slice()),";\n          if(").concat(i,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",s(e)}(a.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",s(e)}(a.slice()),";\n            if(").concat(i,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",s(e)}(a.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}));var m_={kernelName:o.Reverse,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dims,u=a.shape.length,s=o.util.parseAxisParam(i,a.shape);if(0===u)return tx({inputs:{x:a},backend:n});var c=Object(o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new v_(a.shape,s):new p_(a.shape,s);return n.runWebGLProgram(c,[a],a.dtype)}},g_=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],a=t[2];this.outputShape=t;var i="";i="number"===typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(i,"\n          if(coordX >= 0 && coordX < ").concat(a," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),b_={kernelName:o.RotateWithOffset,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=n.radians,s=n.fillValue,c=n.center,l=r,f=new g_(a.shape,s),d=o.backend_util.getImageCenter(c,a.shape[1],a.shape[2]),h=Object(u.a)(d,2),p=[[h[0],h[1],Math.sin(i),Math.cos(i)]];return l.runWebGLProgram(f,[a],a.dtype,p)}},y_=fx({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),x_={kernelName:o.Round,backendName:"webgl",kernelFunc:y_},w_=fx({opSnippet:"return inversesqrt(x);",cpuKernelImpl:sy}),O_={kernelName:o.Rsqrt,backendName:"webgl",kernelFunc:w_},k_=Object(An.a)((function e(t,n,r,a,i,o){Object(En.a)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var u=fb(i.length),s=fb(o.length),c="";1===r?c="i":2===r&&(c="i, j");var l="getIndices(".concat(c,")"),f="";1===a?f="i":2===a&&(f="i, coords[1]");var d="getUpdates(".concat(f,")"),h=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(u," strides = ").concat(u,"(").concat(i,");\n\n        void main() {\n          ").concat(s," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(l,");\n              flattenedIndex += index * ").concat(h,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(d,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")}));var j_={kernelName:o.ScatterNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=t.updates,u=r.shape,s=o.backend_util.calculateShapes(i,a,u),c=s.sliceRank,l=s.numUpdates,f=s.sliceSize,d=s.strides,h=s.outputSize,p=[h/f,f];if(0===h)return n.makeTensorInfo(u,a.dtype);var v=wx({inputs:{x:a},backend:n,attrs:{shape:[l,c]}}),m=wx({inputs:{x:i},backend:n,attrs:{shape:[l,f]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0])),b=new k_(l,c,v.shape.length,m.shape.length,d,p),y=n.runWebGLProgram(b,[m,v,g],m.dtype),x=wx({inputs:{x:y},backend:n,attrs:{shape:u}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(g),x}},__=Object(An.a)((function e(t,n,r){var a,i;if(Object(En.a)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)i="resRC",a="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],u=[],s=[],c=0;c<n.length;c++)s.push("".concat(o[c])),c<t&&u.push("".concat(o[c]));a=u.join(),i=s.join()}var l=fb(r);this.userCode="\n      void main() {\n        ".concat(l," resRC = getOutputCoords();\n        float cVal = getC(").concat(a,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(i,"));\n        } else {\n          setOutput(getB(").concat(i,"));\n        }\n      }\n    ")}));var S_={kernelName:o.Select,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,i=t.e,u=new __(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(u,[r,a,i],Object(o.upcastType)(a.dtype,i.dtype))}},E_=fx({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(o.backend_util.SELU_SCALEALPHA,";\n  float scale = ").concat(o.backend_util.SELU_SCALE,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),A_={kernelName:o.Selu,backendName:"webgl",kernelFunc:E_},C_=fx({opSnippet:"if (isnan(x)) return x;\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:cy}),N_={kernelName:o.Sigmoid,backendName:"webgl",kernelFunc:C_},T_=fx({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),D_={kernelName:o.Sign,backendName:"webgl",kernelFunc:T_},I_=fx({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"}),M_={kernelName:o.Sin,backendName:"webgl",kernelFunc:I_},F_=fx({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),R_={kernelName:o.Sinh,backendName:"webgl",kernelFunc:F_},P_=fx({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),z_={kernelName:o.Softplus,backendName:"webgl",kernelFunc:P_},B_={kernelName:o.SpaceToBatchND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,u=r.paddings;o.util.assert(a.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var s=i.reduce((function(e,t){return e*t})),c=[[0,0]];c.push.apply(c,Object(Dn.a)(u));for(var l=1+i.length;l<a.shape.length;++l)c.push([0,0]);var f=[],d=Gj({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),h=o.backend_util.getReshaped(d.shape,i,s,!1),p=o.backend_util.getPermuted(h.length,i.length,!1),v=o.backend_util.getReshapedPermuted(d.shape,i,s,!1),m=wx({inputs:{x:d},backend:n,attrs:{shape:h}}),g=Tx({inputs:{x:m},backend:n,attrs:{perm:p}}),b=wx({inputs:{x:g},backend:n,attrs:{shape:v}});return f.push(d),f.push(m),f.push(g),f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}};var L_={kernelName:o.SparseFillEmptyRows,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,i=t.denseShape,o=t.defaultValue;if(1!==i.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(i.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(a.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));var s=n.readSync(r.dataId),c=n.readSync(a.dataId),l=n.readSync(i.dataId),f=n.readSync(o.dataId)[0],d=dy(s,r.shape,r.dtype,c,a.dtype,l,f),h=Object(u.a)(d,5),p=h[0],v=h[1],m=h[2],g=h[3],b=h[4];return[n.makeTensorInfo(v,r.dtype,p),n.makeTensorInfo([v[0]],a.dtype,m),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map((function(e){return Number(e)})))),n.makeTensorInfo([b.length],r.dtype,new Int32Array(b))]}};var U_={kernelName:o.SparseReshape,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,i=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(a.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));var o=Array.from(n.readSync(a.dataId)),s=n.readSync(r.dataId),c=Array.from(n.readSync(i.dataId)),l=hy(s,r.shape,r.dtype,o,c),f=Object(u.a)(l,3),d=f[0],h=f[1],p=f[2];return[n.makeTensorInfo(h,r.dtype,d),n.makeTensorInfo([p.length],i.dtype,new Int32Array(p))]}};var W_={kernelName:o.SparseSegmentMean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(i.shape));var o=n.readSync(r.dataId),s=n.readSync(a.dataId),c=n.readSync(i.dataId),l=py(o,r.shape,r.dtype,s,c,!0),f=Object(u.a)(l,2),d=f[0],h=f[1];return n.makeTensorInfo(h,r.dtype,d)}};var V_={kernelName:o.SparseSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(i.shape));var o=n.readSync(r.dataId),s=n.readSync(a.dataId),c=n.readSync(i.dataId),l=py(o,r.shape,r.dtype,s,c),f=Object(u.a)(l,2),d=f[0],h=f[1];return n.makeTensorInfo(h,r.dtype,d)}};var H_={kernelName:o.SparseToDense,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,i=t.sparseValues,u=t.defaultValue,s=r.outputShape,c=o.backend_util.calculateShapes(i,a,s),l=c.sliceRank,f=c.numUpdates,d=c.strides,h=c.outputSize,p=new k_(f,l,a.shape.length,i.shape.length,d,[h,1],!1),v=n.runWebGLProgram(p,[i,a,u],i.dtype),m=wx({inputs:{x:v},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(v),m}};var G_={kernelName:o.SplitV,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.numOrSizeSplits,u=r.axis,s=o.util.parseAxisParam(u,a.shape)[0],c=o.backend_util.prepareSplitSize(a,i,s),l=a.shape.length,f=new Array(l).fill(0),d=a.shape.slice();return c.map((function(e){var t=Object(Dn.a)(d);t[s]=e;var r=Ew({inputs:{x:a},backend:n,attrs:{begin:f,size:t}});return f[s]+=e,r}))}},q_="return sqrt(x);",X_=fx({opSnippet:q_,packedOpSnippet:q_,cpuKernelImpl:vy}),Y_={kernelName:o.Sqrt,backendName:"webgl",kernelFunc:X_},K_=fx({opSnippet:"return x * x;"}),$_={kernelName:o.Square,backendName:"webgl",kernelFunc:K_},Z_="return (a - b) * (a - b);",J_=dx({opSnippet:Z_,packedOpSnippet:Z_}),Q_={kernelName:o.SquaredDifference,backendName:"webgl",kernelFunc:J_};var eS={kernelName:o.Step,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=My+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),o=new Iy(a.shape,i);return r.runWebGLProgram(o,[a],a.dtype)}},tS=Object(An.a)((function e(t,n,r){Object(En.a)(this,e),this.variableNames=["x"],this.outputShape=r;var a=r.length,i=fb(r.length),o=fb(r.length),u="";if(1===a)u="coords * strides + begin";else{var s=0;u=r.map((function(e,t){return s++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(s-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")})).join(",")}this.userCode="\n      ".concat(i," begin = ").concat(i,"(").concat(t,");\n      ").concat(i," strides = ").concat(i,"(").concat(n,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(u,"));\n      }\n    ")}));var nS={kernelName:o.StridedSlice,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,u=a.begin,s=a.end,c=a.strides,l=a.beginMask,f=a.endMask,d=a.ellipsisMask,h=a.newAxisMask,p=a.shrinkAxisMask,v=o.slice_util.sliceInfo(i.shape,u,s,c,l,f,d,h,p),m=v.finalShapeSparse,g=v.finalShape,b=v.isIdentity,y=v.sliceDim0,x=v.isSimpleSlice,w=v.begin,O=v.end,k=v.strides;if(b)t=wx({inputs:{x:i},backend:r,attrs:{shape:g}});else if(y||x){o.util.assert(i.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(i.shape.length)}));var j=o.slice_util.computeOutShape(w,O,k),_=Ew({inputs:{x:i},backend:r,attrs:{begin:w,size:j}});t=wx({inputs:{x:_},backend:r,attrs:{shape:g}}),r.disposeIntermediateTensorInfo(_)}else{if(r.shouldExecuteOnCPU([i])){var S=r.readSync(i.dataId),E=Object(o.buffer)(i.shape,i.dtype,S),A=my(m,E,k,w);t=r.makeTensorInfo(g,i.dtype,A.values)}else{var C=new tS(w,k,m);t=r.runWebGLProgram(C,[i],i.dtype)}}var N=wx({inputs:{x:t},backend:r,attrs:{shape:g}});return r.disposeIntermediateTensorInfo(t),N}};var rS={kernelName:o.StringNGrams,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,i=r.nGramWidths,o=r.leftPad,s=r.rightPad,c=r.padWidth,l=r.preserveShortSequences,f=t.data,d=t.dataSplits,h=n.readSync(f.dataId),p=n.readSync(d.dataId),v=gy(h,p,a,i,o,s,c,l),m=Object(u.a)(v,2),g=m[0],b=m[1];return[n.makeTensorInfo([g.length],"string",g),n.makeTensorInfo(d.shape,"int32",b)]}};var aS={kernelName:o.StringSplit,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,i=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==i.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(i.shape));var o=n.readSync(a.dataId),s=n.readSync(i.dataId)[0],c=by(o,s,r),l=Object(u.a)(c,3),f=l[0],d=l[1],h=l[2],p=d.length;return[n.makeTensorInfo([p,2],"int32",f),n.makeTensorInfo([p],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};var iS={kernelName:o.StringToHashBucketFast,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var i=n.readSync(a.dataId),o=yy(i,r);return n.makeTensorInfo(a.shape,"int32",o)}},oS=fx({opSnippet:"return tan(x);"}),uS={kernelName:o.Tan,backendName:"webgl",kernelFunc:oS},sS=fx({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),cS={kernelName:o.Tanh,backendName:"webgl",kernelFunc:sS},lS=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[a]*n[a];this.outputShape=r,this.rank=r.length;var i=fb(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<e.length;a++)r.push("imod(".concat(n[a],", ").concat(e[a],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(i," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")}));function fS(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;if("string"===a.dtype||a.shape.length>5){var u=n.readSync(a.dataId),s="string"===a.dtype?u.map((function(e){return o.util.decodeString(e)})):u,c=Object(o.buffer)(a.shape,a.dtype,s),l=wy(c,i);return n.makeTensorInfo(l.shape,l.dtype,l.values)}var f=new lS(a.shape,i);return n.runWebGLProgram(f,[a],a.dtype)}var dS={kernelName:o.Tile,backendName:"webgl",kernelFunc:fS},hS=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "})),pS=Object(An.a)((function e(t){Object(En.a)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}));function vS(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function mS(e){for(var t=1;t<e;)t*=2;return t}var gS={kernelName:o.TopK,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k,s=r.sorted,c=Object(o.env)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Object(o.env)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),f=a.shape,d=f[f.length-1];if(n.shouldExecuteOnCPU([a])||d<c||i>l){var h=n.readSync(a.dataId),p=Oy(h,f,a.dtype,i,s),v=Object(u.a)(p,2),m=v[0],g=v[1];return[n.makeTensorInfo(m.shape,m.dtype,m.values),n.makeTensorInfo(g.shape,g.dtype,g.values)]}if(0===i)return f[f.length-1]=0,[n.makeTensorInfo(f,a.dtype,[]),n.makeTensorInfo(f,"int32",[])];if(1===d)return[a,ak({attrs:{shape:f,dtype:"int32",value:0},backend:n})];var b=n.texData.get(a.dataId),y=null!==b&&b.isPacked,x=y?n.unpackTensor(a):a,w=o.util.sizeFromShape(f)/d,O=wx({inputs:{x:x},attrs:{shape:[w,d]},backend:n});y&&vS(n,x);for(var k=mS(i),j=mS(d),_=null,S=function(){return null===_?[O,O]:[O,_]},E=function(e,t,r){var a=S(),i=new hS(r),o=[[d],[null===_?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],u=_;_=n.runWebGLProgram(i,a,"int32",o),vS(n,u)},A=1;A<k;A*=2)for(var C=2*A,N=A;N>=1;N/=2)E(C,N,[w,j]);for(var T=j;T>k;T/=2){var D=S(),I=new pS([w,T/2]),M=[[d],[null===_?1:0],[k]],F=_;_=n.runWebGLProgram(I,D,"int32",M),vS(n,F);for(var R=k/2,P=2*R,z=R;z>=1;z/=2)E(P,z,_.shape)}var B=_;_=Ew({inputs:{x:_},backend:n,attrs:{begin:0,size:[w,i]}}),vS(n,B);var L=Ok({inputs:{x:O,indices:_},backend:n,attrs:{axis:1,batchDims:1}});vS(n,O);var U=f.slice(0,-1);U.push(i),B=_,_=wx({inputs:{x:_},attrs:{shape:U},backend:n}),vS(n,B);var W=L;return L=wx({inputs:{x:L},attrs:{shape:U},backend:n}),vS(n,W),[L,_]}},bS=Object(An.a)((function e(t,n,r,a,i,o){Object(En.a)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=o;var u,s="nearest"===r?1:2;switch(a){case"constant":default:u=1;break;case"reflect":u=2;break;case"wrap":u=3;break;case"nearest":u=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(u," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(u," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(u," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(i,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(i,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(s," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}));var yS={kernelName:o.Transform,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.transforms,o=r.interpolation,s=r.fillMode,c=r.fillValue,l=r.outputShape,f=Object(u.a)(a.shape,4),d=f[0],h=f[1],p=f[2],v=f[3],m=null!=l?l:[h,p],g=Object(u.a)(m,2),b=g[0],y=g[1],x=new bS(h,p,o,s,c,[d,b,y,v]);return n.runWebGLProgram(x,[a,i],"float32")}};var xS={kernelName:o.Unique,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;zg(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var o=r.readSync(i.dataId),u=jy(o,a,i.shape,i.dtype),s=u.outputValues,c=u.outputShape,l=u.indices;return[r.makeTensorInfo(c,i.dtype,s),r.makeTensorInfo([l.length],"int32",l)]}};var wS={kernelName:o.Unpack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a,u=o.shape.length,s=a.shape[i],c=new Array(u-1),l=0,f=0;f<u;f++)f!==i&&(c[l++]=o.shape[f]);var d=[],h=new Array(u).fill(0),p=o.shape.slice();p[i]=1;for(var v=new Array(s),m=0;m<v.length;m++){h[i]=m;var g=Ew({inputs:{x:o},backend:n,attrs:{begin:h,size:p}}),b=wx({inputs:{x:g},backend:n,attrs:{shape:c}});v[m]=b,d.push(g)}return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}},OS=Object(An.a)((function e(t,n){Object(En.a)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.numSegments,u=o*Math.ceil(i/r);this.outputShape=[a,u];var s=4*Math.floor(r/4),c=r%4,l="\n        sumValue += dot(values, segFilter);\n    ",f="";i%r>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      "));var d="";i%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(f,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(d,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(l,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}));for(var kS=0,jS=[Mx,Rx,zx,Lx,Vx,qx,Xx,Yx,ew,tw,rw,iw,uw,cw,fw,pw,vw,bw,yw,xw,kw,Cw,Nw,Tw,Rw,Bw,Ww,ax,Gw,Qw,iO,lO,fO,dO,hO,pO,mO,bO,xO,jO,_O,EO,NO,IO,MO,RO,zO,BO,UO,WO,HO,qO,YO,$O,QO,nk,ok,sk,fk,hk,mk,gk,bk,xk,kk,_k,Ek,nx,Ak,$w,Nk,Dk,Mk,ux,Rk,zk,Bk,Uk,Vk,Gk,Xk,Kk,Jk,ej,nj,aj,ij,oj,cj,lj,fj,dj,hj,vj,bj,xj,Cj,xx,Nj,Dj,Mj,Rj,Iw,zj,Uj,Wj,qj,Yj,lx,Kj,Zj,Fw,kj,Qj,t_,r_,Ox,o_,s_,f_,h_,m_,b_,x_,O_,j_,S_,A_,N_,D_,M_,R_,Aw,Aj,z_,B_,L_,U_,W_,V_,H_,G_,Y_,$_,Q_,eS,nS,rS,aS,iS,Sj,Nx,uS,cS,dS,gS,yS,Dx,xS,wS,{kernelName:o.UnsortedSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.segmentIds,u=r.numSegments,s=a.shape.length,c=[],l=0,f=o.backend_util.getAxesPermutation([l],s),d=a;null!=f&&(d=Tx({inputs:{x:a},backend:n,attrs:{perm:f}}),c.push(d),l=o.backend_util.getInnerMostAxes(1,s)[0]);var h=o.backend_util.segment_util.computeOutShape(d.shape,l,u),p=o.util.sizeFromShape([d.shape[l]]),v=wx({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}});c.push(v);var m=function e(t,r,a,i,u){var s=t.shape[0],l=t.shape[1],f=o.backend_util.segment_util.segOpComputeOptimalWindowSize(l,u),d=new OS({windowSize:f,inSize:l,batchSize:s,numSegments:u},r),h=n.compileAndRun(d,[t,a],i);if(c.push(h),h.shape[1]===u)return h;var p=$j({backend:n,attrs:{start:0,stop:u,step:1,dtype:"float32"}}),v=fS({inputs:{x:p},backend:n,attrs:{reps:[l/f]}});return c.push(p),c.push(v),e(h,r,v,i,u)}(v,"unsortedSegmentSum",i,Object(o.sumOutType)(a.dtype),u),g=wx({inputs:{x:m},backend:n,attrs:{shape:h}}),b=g;if(null!=f){c.push(g);var y=o.backend_util.getUndoAxesPermutation(f);b=Tx({inputs:{x:b},backend:n,attrs:{perm:y}})}return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}},Lj];kS<jS.length;kS++){var _S=jS[kS];Object(o.registerKernel)(_S)}o.version_core},function(e,t,n){"use strict";n.r(t),n.d(t,"makeTypesMatch",(function(){return o})),n.d(t,"assertTypesMatch",(function(){return u})),n.d(t,"isTensorInList",(function(){return s})),n.d(t,"getTensorsInContainer",(function(){return c}));var r=n(20),a=n(188),i=n(23);function o(e,t){if(e.dtype===t.dtype)return[e,t];var n=Object(a.c)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function u(e,t){Object(i.b)(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}function s(e,t){return t.some((function(t){return t.id===e.id}))}function c(e){var t=[];return l(e,t,new Set),t}function l(e,t,n){if(null!=e)if(e instanceof r.a)t.push(e);else if(a=e,Array.isArray(a)||"object"===typeof a){var a,i=e;for(var o in i){var u=i[o];n.has(u)||(n.add(u),l(u,t,n))}}}},function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return x})),n.d(t,"a",(function(){return w}));var r=n(6),a=n(16),i=n(23);function o(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0,u=e[3],s=[].concat(Object(a.a)(t),[u]),l=x(i);return c(e,s,n,o,r,null,null,l)}function u(e,t,n,a,i,o){var u,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",l=d(t),f=Object(r.a)(l,2),h=f[0],p=f[1];if("channelsLast"===s)u=[h,p,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));u=[h,p,e[1],e[1]]}return c(e,u,n,a,i,o,!1,s)}function s(e,t,n,a,i,o){var u,s,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",f=h(t),d=Object(r.a)(f,3),p=d[0],v=d[1],m=d[2];if("NDHWC"===c)s="channelsLast",u=[p,v,m,e[4],e[4]];else{if("NCDHW"!==c)throw new Error("Unknown dataFormat ".concat(c));s="channelsFirst",u=[p,v,m,e[1],e[1]]}return l(e,u,n,a,i,!1,s,o)}function c(e,t,n,a,i,o){var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",c=-1,l=-1,f=-1,h=-1;if("channelsLast"===s){var m=Object(r.a)(e,4);c=m[0],l=m[1],f=m[2],h=m[3]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var g=Object(r.a)(e,4);c=g[0],h=g[1],l=g[2],f=g[3]}var b,y=Object(r.a)(t,4),x=y[0],w=y[1],O=y[3],k=d(n),j=Object(r.a)(k,2),_=j[0],S=j[1],E=d(a),A=Object(r.a)(E,2),C=A[0],N=A[1],T=p(x,C),D=p(w,N),I=v(i,l,f,_,S,T,D,o,s),M=I.padInfo,F=I.outHeight,R=I.outWidth,P=u?O*h:O;return"channelsFirst"===s?b=[c,P,F,R]:"channelsLast"===s&&(b=[c,F,R,P]),{batchSize:c,dataFormat:s,inHeight:l,inWidth:f,inChannels:h,outHeight:F,outWidth:R,outChannels:P,padInfo:M,strideHeight:_,strideWidth:S,filterHeight:x,filterWidth:w,effectiveFilterHeight:T,effectiveFilterWidth:D,dilationHeight:C,dilationWidth:N,inShape:e,outShape:b,filterShape:t}}function l(e,t,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=arguments.length>7?arguments[7]:void 0,c=-1,l=-1,f=-1,d=-1,v=-1;if("channelsLast"===u){var g=Object(r.a)(e,5);c=g[0],l=g[1],f=g[2],d=g[3],v=g[4]}else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));var b=Object(r.a)(e,5);c=b[0],v=b[1],l=b[2],f=b[3],d=b[4]}var y,x=Object(r.a)(t,5),w=x[0],O=x[1],k=x[2],j=x[4],_=h(n),S=Object(r.a)(_,3),E=S[0],A=S[1],C=S[2],N=h(a),T=Object(r.a)(N,3),D=T[0],I=T[1],M=T[2],F=p(w,D),R=p(O,I),P=p(k,M),z=m(i,l,f,d,E,A,C,F,R,P,s),B=z.padInfo,L=z.outDepth,U=z.outHeight,W=z.outWidth,V=o?j*v:j;return"channelsFirst"===u?y=[c,V,L,U,W]:"channelsLast"===u&&(y=[c,L,U,W,V]),{batchSize:c,dataFormat:u,inDepth:l,inHeight:f,inWidth:d,inChannels:v,outDepth:L,outHeight:U,outWidth:W,outChannels:V,padInfo:B,strideDepth:E,strideHeight:A,strideWidth:C,filterDepth:w,filterHeight:O,filterWidth:k,effectiveFilterDepth:F,effectiveFilterHeight:R,effectiveFilterWidth:P,dilationDepth:D,dilationHeight:I,dilationWidth:M,inShape:e,outShape:y,filterShape:t}}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=p(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function d(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function h(e){return"number"===typeof e?[e,e,e]:e}function p(e,t){return t<=1?e:e+(e-1)*(t-1)}function v(e,t,n,r,a,i,o,u,s){var c,l,d;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var h=function(e,t,n,r,a){null==r&&(r=f(e,t,n));var i=e[0],o=e[1];return[g((i-t+2*r)/n+1,a),g((o-t+2*r)/n+1,a)]}([t,n],i,r,e,u);l=h[0],d=h[1]}else if("same"===e){l=Math.ceil(t/r),d=Math.ceil(n/a);var p=Math.max(0,(l-1)*r+i-t),v=Math.max(0,(d-1)*a+o-n),m=Math.floor(p/2),b=p-m,y=Math.floor(v/2);c={top:m,bottom:b,left:y,right:v-y,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-i+1)/r),d=Math.ceil((n-o+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var x="channelsLast"===s?e[1][0]:e[2][0],w="channelsLast"===s?e[1][1]:e[2][1],O="channelsLast"===s?e[2][0]:e[3][0],k="channelsLast"===s?e[2][1]:e[3][1];c={top:x,bottom:w,left:O,right:k,type:0===x&&0===w&&0===O&&0===k?"VALID":"EXPLICIT"},l=g((t-i+x+w)/r+1,u),d=g((n-o+O+k)/a+1,u)}return{padInfo:c,outHeight:l,outWidth:d}}function m(e,t,n,r,a,i,o,u,s,c,l){var d,h,p,v;if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,a,i){null==a&&(a=f(e,t,r));var o=e[0],u=e[1],s=e[2];return[g((o-t+2*a)/r+1,i),g((u-t+2*a)/r+1,i),g((s-t+2*a)/r+1,i),n]}([t,n,r,1],u,1,a,e,l);h=m[0],p=m[1],v=m[2]}else if("same"===e){var b=((h=Math.ceil(t/a))-1)*a+u-t,y=((p=Math.ceil(n/i))-1)*i+s-n,x=((v=Math.ceil(r/o))-1)*o+c-r,w=Math.floor(b/2),O=b-w,k=Math.floor(y/2),j=y-k,_=Math.floor(x/2);d={top:k,bottom:j,left:_,right:x-_,front:w,back:O,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: ".concat(e));d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},h=Math.ceil((t-u+1)/a),p=Math.ceil((n-s+1)/i),v=Math.ceil((r-c+1)/o)}return{padInfo:d,outDepth:h,outHeight:p,outWidth:v}}function g(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function b(e){var t=d(e),n=Object(r.a)(t,3),a=n[0],i=n[1],o=n[2];return 1===a&&1===i&&1===o}function y(e,t){return b(e)||b(t)}function x(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function w(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)i.b(i.v(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((function(t){t.forEach((function(t){i.b(i.v(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}))}))}))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return a}));var r=n(71),a=function(e){return null===e||void 0===e},i=function(e){return null!==e&&void 0!==e},o=function(e){return"function"===typeof e},u=function(e){return"string"===typeof e},s=Array.isArray,c=function(e){return e&&!s(e)&&"object"===typeof e},l=function(e){return e&&o(e.then)},f=function(e){return e&&o(e.next)&&o(e.throw)},d=function e(t){return t&&(u(t)||v(t)||o(t)||s(t)&&t.every(e))},h=function(e){return e&&o(e.take)&&o(e.close)},p=function(e){return o(e)&&e.hasOwnProperty("toString")},v=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},m=function(e){return h(e)&&e[r.e]},g=function(e){return e&&e[r.c]}},,function(e,t,n){"use strict";function r(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;(i=new Error(t.replace(/%s/g,(function(){return r[o++]})))).name="Invariant Violation"}throw i.framesToPop=1,i}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a.v})),n.d(t,"b",(function(){return a.j})),n.d(t,"c",(function(){return a.u})),n.d(t,"d",(function(){return a.x})),n.d(t,"e",(function(){return l}));n(71),n(11);var r=n(57),a=n(31),i=(n(366),function(e){return{done:!0,value:e}}),o={};function u(e){return Object(r.b)(e)?"channel":Object(r.l)(e)?String(e):Object(r.d)(e)?e.name:String(e)}function s(e,t,n){var r,u,s,c=t;function l(t,n){if(c===o)return i(t);if(n&&!u)throw c=o,n;r&&r(t);var a=n?e[u](n):e[c]();return c=a.nextState,s=a.effect,r=a.stateUpdater,u=a.errorState,c===o?i(t):s}return Object(a.N)(l,(function(e){return l(null,e)}),n)}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o,c={done:!1,value:Object(a.i)(e)},l=function(e){return{done:!1,value:a.j.apply(void 0,[t].concat(r,[e]))}},f=function(e){return o=e};return s({q1:function(){return{nextState:"q2",effect:c,stateUpdater:f}},q2:function(){return{nextState:"q1",effect:l(o)}}},"q1","takeEvery("+u(e)+", "+t.name+")")}function l(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return a.j.apply(void 0,[c,e,t].concat(r))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(13);var c=Object(s.b)({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=Object(u.a)(e,"a","matMul"),l=Object(u.a)(t,"b","matMul"),f=Object(o.makeTypesMatch)(c,l),d=Object(r.a)(f,2),h={a:c=d[0],b:l=d[1]},p={transposeA:n,transposeB:s};return a.a.runKernel(i.s,h,p)}})},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return c}));var r=1e3,a=60*r,i=60*a,o=24*i,u=7*o,s=30*o,c=365*o},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),a=n(9),i=n(13);var o=Object(i.b)({square_:function(e){var t=Object(a.a)(e,"x","square");return r.a.runKernel("Square",{x:t},{})}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({slice_:function(e,t,n){var o=Object(i.a)(e,"x","slice","string_or_numeric");if(0===o.rank)throw new Error("Slicing scalar is not possible");var u={x:o},s={begin:t,size:n};return r.a.runKernel(a.Gc,u,s)}})},function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return p})),n.d(t,"t",(function(){return v})),n.d(t,"d",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"u",(function(){return b})),n.d(t,"r",(function(){return y})),n.d(t,"o",(function(){return x})),n.d(t,"k",(function(){return w})),n.d(t,"q",(function(){return O})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return j})),n.d(t,"p",(function(){return _})),n.d(t,"a",(function(){return S})),n.d(t,"s",(function(){return E}));var r=n(14),a=n(52),i=n(20),o=n(55);function u(){Object(a.c)().set("PROD",!0)}function s(){Object(a.c)().set("DEBUG",!0)}function c(){Object(a.c)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function l(e){Object(a.c)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function f(){r.a.disposeVariables()}function d(){return r.a}function h(){return r.a.memory()}function p(e){return r.a.profile(e)}function v(e,t){return r.a.tidy(e,t)}function m(e){Object(o.getTensorsInContainer)(e).forEach((function(e){return e.dispose()}))}function g(e){return r.a.keep(e)}function b(e){return r.a.time(e)}function y(e){return r.a.setBackend(e)}function x(){return r.a.ready()}function w(){return r.a.backendName}function O(e){r.a.removeBackend(e)}function k(e){return r.a.findBackend(e)}function j(e){return r.a.findBackendFactory(e)}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r.a.registerBackend(e,t,n)}function S(){return r.a.backend}function E(e,t){Object(a.c)().setPlatform(e,t)}Object(i.e)(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return z})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return C})),n.d(t,"i",(function(){return P})),n.d(t,"j",(function(){return B})),n.d(t,"k",(function(){return T})),n.d(t,"l",(function(){return A})),n.d(t,"m",(function(){return q})),n.d(t,"n",(function(){return Re})),n.d(t,"o",(function(){return se})),n.d(t,"p",(function(){return pe})),n.d(t,"q",(function(){return ge})),n.d(t,"r",(function(){return xe})),n.d(t,"s",(function(){return V})),n.d(t,"t",(function(){return U})),n.d(t,"u",(function(){return fe})),n.d(t,"v",(function(){return ve})),n.d(t,"w",(function(){return be})),n.d(t,"x",(function(){return we})),n.d(t,"y",(function(){return J})),n.d(t,"z",(function(){return Q})),n.d(t,"A",(function(){return X}));var r,a,i,o,u,s,c,l=n(15),f=n(3),d=n(205),h=n(129),p=n(206),v=n(130),m=n(207),g=n(404),b=n(461),y=n(462),x=n(226),w=n(405),O=n(208),k=n(406),j=n(463),_=n(464),S=n(407),E=n(470),A="year",C="quarter",N="month",T="week",D="date",I="day",M="dayofyear",F="hours",R="minutes",P="seconds",z="milliseconds",B=[A,C,N,T,D,I,M,F,R,P,z],L=B.reduce((function(e,t,n){return e[t]=1+n,e}),{});function U(e){var t=Object(f.e)(e).slice(),n={};return t.length||Object(f.k)("Missing time unit."),t.forEach((function(e){Object(f.s)(L,e)?n[e]=1:Object(f.k)("Invalid time unit: ".concat(e,"."))})),(n[T]||n[I]?1:0)+(n[C]||n[N]||n[D]?1:0)+(n[M]?1:0)>1&&Object(f.k)("Incompatible time units: ".concat(e)),t.sort((function(e,t){return L[e]-L[t]})),t}var W=(r={},Object(l.a)(r,A,"%Y "),Object(l.a)(r,C,"Q%q "),Object(l.a)(r,N,"%b "),Object(l.a)(r,D,"%d "),Object(l.a)(r,T,"W%U "),Object(l.a)(r,I,"%a "),Object(l.a)(r,M,"%j "),Object(l.a)(r,F,"%H:00"),Object(l.a)(r,R,"00:%M"),Object(l.a)(r,P,":%S"),Object(l.a)(r,z,".%L"),Object(l.a)(r,"".concat(A,"-").concat(N),"%Y-%m "),Object(l.a)(r,"".concat(A,"-").concat(N,"-").concat(D),"%Y-%m-%d "),Object(l.a)(r,"".concat(F,"-").concat(R),"%H:%M"),r);function V(e,t){var n,r,a=Object(f.l)({},W,t),i=U(e),o=i.length,u="",s=0;for(s=0;s<o;)for(n=i.length;n>s;--n)if(null!=a[r=i.slice(s,n).join("-")]){u+=a[r],s=n;break}return u.trim()}var H=new Date;function G(e){return H.setFullYear(e),H.setMonth(0),H.setDate(1),H.setHours(0,0,0,0),H}function q(e){return Y(new Date(e))}function X(e){return K(new Date(e))}function Y(e){return d.a.count(G(e.getFullYear())-1,e)}function K(e){return h.b.count(G(e.getFullYear())-1,e)}function $(e){return G(e).getDay()}function Z(e,t,n,r,a,i,o){if(0<=e&&e<100){var u=new Date(-1,t,n,r,a,i,o);return u.setFullYear(e),u}return new Date(e,t,n,r,a,i,o)}function J(e){return ee(new Date(e))}function Q(e){return te(new Date(e))}function ee(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return p.a.count(t-1,e)}function te(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return v.b.count(t-1,e)}function ne(e){return H.setTime(Date.UTC(e,0,1)),H.getUTCDay()}function re(e,t,n,r,a,i,o){if(0<=e&&e<100){var u=new Date(Date.UTC(-1,t,n,r,a,i,o));return u.setUTCFullYear(n.y),u}return new Date(Date.UTC(e,t,n,r,a,i,o))}function ae(e,t,n,r,a){var i=t||1,o=Object(f.S)(e),u=function(e,t,a){return function(e,t,n,r){var a=n<=1?e:r?function(t,a){return r+n*Math.floor((e(t,a)-r)/n)}:function(t,r){return n*Math.floor(e(t,r)/n)};return t?function(e,n){return t(a(e,n),n)}:a}(n[a=a||e],r[a],e===o&&i,t)},s=new Date,c=Object(f.ab)(e),l=c[A]?u(A):Object(f.i)(2012),d=c[N]?u(N):c[C]?u(C):f.gb,h=c[T]&&c[I]?u(I,1,T+I):c[T]?u(T,1):c[I]?u(I,1):c[D]?u(D,1):c[M]?u(M,1):f.M,p=c[F]?u(F):f.gb,v=c[R]?u(R):f.gb,m=c[P]?u(P):f.gb,g=c[z]?u(z):f.gb;return function(e){s.setTime(+e);var t=l(s);return a(t,d(s),h(s,t),p(s),v(s),m(s),g(s))}}function ie(e,t,n){return t+7*e-(n+6)%7}var oe=(a={},Object(l.a)(a,A,(function(e){return e.getFullYear()})),Object(l.a)(a,C,(function(e){return Math.floor(e.getMonth()/3)})),Object(l.a)(a,N,(function(e){return e.getMonth()})),Object(l.a)(a,D,(function(e){return e.getDate()})),Object(l.a)(a,F,(function(e){return e.getHours()})),Object(l.a)(a,R,(function(e){return e.getMinutes()})),Object(l.a)(a,P,(function(e){return e.getSeconds()})),Object(l.a)(a,z,(function(e){return e.getMilliseconds()})),Object(l.a)(a,M,(function(e){return Y(e)})),Object(l.a)(a,T,(function(e){return K(e)})),Object(l.a)(a,T+I,(function(e,t){return ie(K(e),e.getDay(),$(t))})),Object(l.a)(a,I,(function(e,t){return ie(1,e.getDay(),$(t))})),a),ue=(i={},Object(l.a)(i,C,(function(e){return 3*e})),Object(l.a)(i,T,(function(e,t){return ie(e,0,$(t))})),i);function se(e,t){return ae(e,t||1,oe,ue,Z)}var ce=(o={},Object(l.a)(o,A,(function(e){return e.getUTCFullYear()})),Object(l.a)(o,C,(function(e){return Math.floor(e.getUTCMonth()/3)})),Object(l.a)(o,N,(function(e){return e.getUTCMonth()})),Object(l.a)(o,D,(function(e){return e.getUTCDate()})),Object(l.a)(o,F,(function(e){return e.getUTCHours()})),Object(l.a)(o,R,(function(e){return e.getUTCMinutes()})),Object(l.a)(o,P,(function(e){return e.getUTCSeconds()})),Object(l.a)(o,z,(function(e){return e.getUTCMilliseconds()})),Object(l.a)(o,M,(function(e){return ee(e)})),Object(l.a)(o,T,(function(e){return te(e)})),Object(l.a)(o,I,(function(e,t){return ie(1,e.getUTCDay(),ne(t))})),Object(l.a)(o,T+I,(function(e,t){return ie(te(e),e.getUTCDay(),ne(t))})),o),le=(u={},Object(l.a)(u,C,(function(e){return 3*e})),Object(l.a)(u,T,(function(e,t){return ie(e,0,ne(t))})),u);function fe(e,t){return ae(e,t||1,ce,le,re)}var de=(s={},Object(l.a)(s,A,m.a),Object(l.a)(s,C,g.a.every(3)),Object(l.a)(s,N,g.a),Object(l.a)(s,T,h.b),Object(l.a)(s,D,d.a),Object(l.a)(s,I,d.a),Object(l.a)(s,M,d.a),Object(l.a)(s,F,b.a),Object(l.a)(s,R,y.a),Object(l.a)(s,P,x.a),Object(l.a)(s,z,w.a),s),he=(c={},Object(l.a)(c,A,O.a),Object(l.a)(c,C,k.a.every(3)),Object(l.a)(c,N,k.a),Object(l.a)(c,T,v.b),Object(l.a)(c,D,p.a),Object(l.a)(c,I,p.a),Object(l.a)(c,M,p.a),Object(l.a)(c,F,j.a),Object(l.a)(c,R,_.a),Object(l.a)(c,P,x.a),Object(l.a)(c,z,w.a),c);function pe(e){return de[e]}function ve(e){return he[e]}function me(e,t,n){return e?e.offset(t,n):void 0}function ge(e,t,n){return me(pe(e),t,n)}function be(e,t,n){return me(ve(e),t,n)}function ye(e,t,n,r){return e?e.range(t,n,r):void 0}function xe(e,t,n,r){return ye(pe(e),t,n,r)}function we(e,t,n,r){return ye(ve(e),t,n,r)}var Oe=1e3,ke=6e4,je=36e5,_e=864e5,Se=2592e6,Ee=31536e6,Ae=[A,N,D,F,R,P,z],Ce=Ae.slice(0,-1),Ne=Ce.slice(0,-1),Te=Ne.slice(0,-1),De=Te.slice(0,-1),Ie=[A,N],Me=[A],Fe=[[Ce,1,Oe],[Ce,5,5e3],[Ce,15,15e3],[Ce,30,3e4],[Ne,1,ke],[Ne,5,3e5],[Ne,15,9e5],[Ne,30,18e5],[Te,1,je],[Te,3,108e5],[Te,6,216e5],[Te,12,432e5],[De,1,_e],[[A,T],1,6048e5],[Ie,1,Se],[Ie,3,7776e6],[Me,1,Ee]];function Re(e){var t,n,r=e.extent,a=e.maxbins||40,i=Math.abs(Object(f.U)(r))/a,o=Object(S.a)((function(e){return e[2]})).right(Fe,i);return o===Fe.length?(t=Me,n=Object(E.c)(r[0]/Ee,r[1]/Ee,a)):o?(t=(o=Fe[i/Fe[o-1][2]<Fe[o][2]/i?o-1:o])[0],n=o[1]):(t=Ae,n=Math.max(Object(E.c)(r[0],r[1],a),1)),{units:t,step:n}}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return fd}));var r={};n.r(r),n.d(r,"GREY",(function(){return gr})),n.d(r,"RGB",(function(){return br})),n.d(r,"HSL",(function(){return yr})),n.d(r,"HSV",(function(){return xr})),n.d(r,"CMYK",(function(){return wr}));var a={};n.r(a),n.d(a,"tagsById",(function(){return Gr})),n.d(a,"tagsByName",(function(){return qr}));var i={};n.r(i),n.d(i,"tagsById",(function(){return Yr})),n.d(i,"tagsByName",(function(){return Kr}));var o={};n.r(o),n.d(o,"tagsById",(function(){return Zr})),n.d(o,"tagsByName",(function(){return Jr}));var u=n(4),s=n(5),c={getBit:function(e){return this.data[l(e)]&1<<f(e)?1:0},setBit:function(e){this.data[l(e)]|=1<<f(e)},clearBit:function(e){this.data[l(e)]&=~(1<<f(e))},toggleBit:function(e){this.data[l(e)]^=1<<f(e)},getBitXY:function(e,t){return e>=this.width||t>=this.height?0:this.getBit(t*this.width+e)},setBitXY:function(e,t){this.setBit(t*this.width+e)},clearBitXY:function(e,t){this.clearBit(t*this.width+e)},toggleBitXY:function(e,t){this.toggleBit(t*this.width+e)}};function l(e){return e>>3}function f(e){return 7-(7&e)}var d=n(370),h=n(164),p=n(17);function v(){v=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,a){var i=new RegExp(e,r);return t.set(i,a||t.get(e)),Object(h.a)(i,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return Object(p.a)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,a){if("string"==typeof a){var i=t.get(this);return e[Symbol.replace].call(this,n,a.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+i[t]})))}if("function"==typeof a){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=Object(d.a)(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,o)),a.apply(this,e)}))}return e[Symbol.replace].call(this,n,a)},v.apply(this,arguments)}function m(e,t){e=e||[],"string"===typeof(t=t||{})&&(t={type:t});try{return new Blob(e,t)}catch(a){if("TypeError"!==a.name)throw a;for(var n=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function g(e,t,n){return"function"===typeof e.toBlob?new Promise((function(r){e.toBlob(r,t,n)})):Promise.resolve(function(e){var t=e.match(/data:([^;]+)/)[1],n=e.replace(/^[^,]+,/,"");return m([b(atob(n))],{type:t})}(e.toDataURL(t,n)))}function b(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),a=-1;++a<t;)r[a]=e.charCodeAt(a);return n}var y=n(400),x=n(18),w=(n(674),new TextDecoder("utf-8"));function O(e){return w.decode(e)}var k=new TextEncoder;var j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(u.a)(this,e);var r=!1;"number"===typeof t?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);var a=n.offset?n.offset>>>0:0,i=t.byteLength-a,o=a;(ArrayBuffer.isView(t)||t instanceof e)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),this.lastWrittenByte=r?i:0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}return Object(s.a)(e,[{key:"available",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}},{key:"isLittleEndian",value:function(){return this.littleEndian}},{key:"setLittleEndian",value:function(){return this.littleEndian=!0,this}},{key:"isBigEndian",value:function(){return!this.littleEndian}},{key:"setBigEndian",value:function(){return this.littleEndian=!1,this}},{key:"skip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}},{key:"seek",value:function(e){return this.offset=e,this}},{key:"mark",value:function(){return this._mark=this.offset,this}},{key:"reset",value:function(){return this.offset=this._mark,this}},{key:"pushMark",value:function(){return this._marks.push(this.offset),this}},{key:"popMark",value:function(){var e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}},{key:"rewind",value:function(){return this.offset=0,this}},{key:"ensureAvailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){var t=this.offset+e,n=2*t,r=new Uint8Array(n);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=this.byteLength=n,this._data=new DataView(this.buffer)}return this}},{key:"readBoolean",value:function(){return 0!==this.readUint8()}},{key:"readInt8",value:function(){return this._data.getInt8(this.offset++)}},{key:"readUint8",value:function(){return this._data.getUint8(this.offset++)}},{key:"readByte",value:function(){return this.readUint8()}},{key:"readBytes",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Uint8Array(e),n=0;n<e;n++)t[n]=this.readByte();return t}},{key:"readInt16",value:function(){var e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}},{key:"readUint16",value:function(){var e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}},{key:"readInt32",value:function(){var e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"readUint32",value:function(){var e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"readFloat32",value:function(){var e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"readFloat64",value:function(){var e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}},{key:"readBigInt64",value:function(){var e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}},{key:"readBigUint64",value:function(){var e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}},{key:"readChar",value:function(){return String.fromCharCode(this.readInt8())}},{key:"readChars",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="",n=0;n<e;n++)t+=this.readChar();return t}},{key:"readUtf8",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return O(this.readBytes(e))}},{key:"writeBoolean",value:function(e){return this.writeUint8(e?255:0),this}},{key:"writeInt8",value:function(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}},{key:"writeUint8",value:function(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}},{key:"writeByte",value:function(e){return this.writeUint8(e)}},{key:"writeBytes",value:function(e){this.ensureAvailable(e.length);for(var t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}},{key:"writeInt16",value:function(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeUint16",value:function(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeInt32",value:function(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeUint32",value:function(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat32",value:function(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat64",value:function(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeBigInt64",value:function(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeBigUint64",value:function(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeChar",value:function(e){return this.writeUint8(e.charCodeAt(0))}},{key:"writeChars",value:function(e){for(var t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}},{key:"writeUtf8",value:function(e){return this.writeBytes(function(e){return k.encode(e)}(e))}},{key:"toArray",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}},{key:"_updateLastWrittenByte",value:function(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}]),e}();function _(e){for(var t=e.length;--t>=0;)e[t]=0}var S=256,E=286,A=30,C=15,N=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),T=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),D=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new Array(576);_(M);var F=new Array(60);_(F);var R=new Array(512);_(R);var P=new Array(256);_(P);var z=new Array(29);_(z);var B,L,U,W=new Array(A);function V(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function H(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}_(W);var G=function(e){return e<256?R[e]:R[256+(e>>>7)]},q=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},X=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,q(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Y=function(e,t,n){X(e,n[2*t],n[2*t+1])},K=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},$=function(e,t,n){var r,a,i=new Array(16),o=0;for(r=1;r<=C;r++)i[r]=o=o+n[r-1]<<1;for(a=0;a<=t;a++){var u=e[2*a+1];0!==u&&(e[2*a]=K(i[u]++,u))}},Z=function(e){var t;for(t=0;t<E;t++)e.dyn_ltree[2*t]=0;for(t=0;t<A;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},J=function(e){e.bi_valid>8?q(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Q=function(e,t,n,r){var a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]},ee=function(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&Q(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Q(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},te=function(e,t,n){var r,a,i,o,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],a=e.pending_buf[e.l_buf+u],u++,0===r?Y(e,a,t):(i=P[a],Y(e,i+S+1,t),0!==(o=N[i])&&(a-=z[i],X(e,a,o)),r--,i=G(r),Y(e,i,n),0!==(o=T[i])&&(r-=W[i],X(e,r,o)))}while(u<e.last_lit);Y(e,256,t)},ne=function(e,t){var n,r,a,i=t.dyn_tree,o=t.stat_desc.static_tree,u=t.stat_desc.has_stree,s=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<s;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[a]=0,e.opt_len--,u&&(e.static_len-=o[2*a+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)ee(e,i,n);a=s;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ee(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*a]=i[2*n]+i[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=a,e.heap[1]=a++,ee(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,i,o,u,s=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(i=0;i<=C;i++)e.bl_count[i]=0;for(s[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(i=s[2*s[2*(r=e.heap[n])+1]+1]+1)>p&&(i=p,v++),s[2*r+1]=i,r>c||(e.bl_count[i]++,o=0,r>=h&&(o=d[r-h]),u=s[2*r],e.opt_len+=u*(i+o),f&&(e.static_len+=u*(l[2*r+1]+o)));if(0!==v){do{for(i=p-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(i=p;0!==i;i--)for(r=e.bl_count[i];0!==r;)(a=e.heap[--n])>c||(s[2*a+1]!==i&&(e.opt_len+=(i-s[2*a+1])*s[2*a],s[2*a+1]=i),r--)}}(e,t),$(i,c,e.bl_count)},re=function(e,t,n){var r,a,i=-1,o=t[1],u=0,s=7,c=4;for(0===o&&(s=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++u<s&&a===o||(u<c?e.bl_tree[2*a]+=u:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):u<=10?e.bl_tree[34]++:e.bl_tree[36]++,u=0,i=a,0===o?(s=138,c=3):a===o?(s=6,c=3):(s=7,c=4))},ae=function(e,t,n){var r,a,i=-1,o=t[1],u=0,s=7,c=4;for(0===o&&(s=138,c=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++u<s&&a===o)){if(u<c)do{Y(e,a,e.bl_tree)}while(0!==--u);else 0!==a?(a!==i&&(Y(e,a,e.bl_tree),u--),Y(e,16,e.bl_tree),X(e,u-3,2)):u<=10?(Y(e,17,e.bl_tree),X(e,u-3,3)):(Y(e,18,e.bl_tree),X(e,u-11,7));u=0,i=a,0===o?(s=138,c=3):a===o?(s=6,c=3):(s=7,c=4)}},ie=!1,oe=function(e,t,n,r){X(e,0+(r?1:0),3),function(e,t,n,r){J(e),r&&(q(e,n),q(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)},ue=function(e,t,n,r){var a,i,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<S;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),ne(e,e.l_desc),ne(e,e.d_desc),o=function(e){var t;for(re(e,e.dyn_ltree,e.l_desc.max_code),re(e,e.dyn_dtree,e.d_desc.max_code),ne(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*I[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?oe(e,t,n,r):4===e.strategy||i===a?(X(e,2+(r?1:0),3),te(e,M,F)):(X(e,4+(r?1:0),3),function(e,t,n,r){var a;for(X(e,t-257,5),X(e,n-1,5),X(e,r-4,4),a=0;a<r;a++)X(e,e.bl_tree[2*I[a]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),te(e,e.dyn_ltree,e.dyn_dtree)),Z(e),r&&J(e)},se={_tr_init:function(e){ie||(!function(){var e,t,n,r,a,i=new Array(16);for(n=0,r=0;r<28;r++)for(z[r]=n,e=0;e<1<<N[r];e++)P[n++]=r;for(P[n-1]=r,a=0,r=0;r<16;r++)for(W[r]=a,e=0;e<1<<T[r];e++)R[a++]=r;for(a>>=7;r<A;r++)for(W[r]=a<<7,e=0;e<1<<T[r]-7;e++)R[256+a++]=r;for(t=0;t<=C;t++)i[t]=0;for(e=0;e<=143;)M[2*e+1]=8,e++,i[8]++;for(;e<=255;)M[2*e+1]=9,e++,i[9]++;for(;e<=279;)M[2*e+1]=7,e++,i[7]++;for(;e<=287;)M[2*e+1]=8,e++,i[8]++;for($(M,287,i),e=0;e<A;e++)F[2*e+1]=5,F[2*e]=K(e,5);B=new V(M,N,257,E,C),L=new V(F,T,0,A,C),U=new V(new Array(0),D,0,19,7)}(),ie=!0),e.l_desc=new H(e.dyn_ltree,B),e.d_desc=new H(e.dyn_dtree,L),e.bl_desc=new H(e.bl_tree,U),e.bi_buf=0,e.bi_valid=0,Z(e)},_tr_stored_block:oe,_tr_flush_block:ue,_tr_tally:function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(P[n]+S+1)]++,e.dyn_dtree[2*G(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){X(e,2,3),Y(e,256,M),function(e){16===e.bi_valid?(q(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},ce=function(e,t,n,r){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{i=i+(a=a+t[r++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16|0},le=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),fe=function(e,t,n,r){var a=le,i=r+n;e^=-1;for(var o=r;o<i;o++)e=e>>>8^a[255&(e^t[o])];return-1^e},de={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},he={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},pe=se._tr_init,ve=se._tr_stored_block,me=se._tr_flush_block,ge=se._tr_tally,be=se._tr_align,ye=he.Z_NO_FLUSH,xe=he.Z_PARTIAL_FLUSH,we=he.Z_FULL_FLUSH,Oe=he.Z_FINISH,ke=he.Z_BLOCK,je=he.Z_OK,_e=he.Z_STREAM_END,Se=he.Z_STREAM_ERROR,Ee=he.Z_DATA_ERROR,Ae=he.Z_BUF_ERROR,Ce=he.Z_DEFAULT_COMPRESSION,Ne=he.Z_FILTERED,Te=he.Z_HUFFMAN_ONLY,De=he.Z_RLE,Ie=he.Z_FIXED,Me=he.Z_DEFAULT_STRATEGY,Fe=he.Z_UNKNOWN,Re=he.Z_DEFLATED,Pe=258,ze=262,Be=103,Le=113,Ue=666,We=function(e,t){return e.msg=de[t],t},Ve=function(e){return(e<<1)-(e>4?9:0)},He=function(e){for(var t=e.length;--t>=0;)e[t]=0},Ge=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},qe=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Xe=function(e,t){me(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,qe(e.strm)},Ye=function(e,t){e.pending_buf[e.pending++]=t},Ke=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},$e=function(e,t,n,r){var a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=ce(e.adler,t,a,n):2===e.state.wrap&&(e.adler=fe(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},Ze=function(e,t){var n,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,u=e.nice_match,s=e.strstart>e.w_size-ze?e.strstart-(e.w_size-ze):0,c=e.window,l=e.w_mask,f=e.prev,d=e.strstart+Pe,h=c[i+o-1],p=c[i+o];e.prev_length>=e.good_match&&(a>>=2),u>e.lookahead&&(u=e.lookahead);do{if(c[(n=t)+o]===p&&c[n+o-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<d);if(r=Pe-(d-i),i=d-Pe,r>o){if(e.match_start=t,o=r,r>=u)break;h=c[i+o-1],p=c[i+o]}}}while((t=f[t&l])>s&&0!==--a);return o<=e.lookahead?o:e.lookahead},Je=function(e){var t,n,r,a,i,o=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-ze)){e.window.set(e.window.subarray(o,o+o),0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=o?r-o:0}while(--n);t=n=o;do{r=e.prev[--t],e.prev[t]=r>=o?r-o:0}while(--n);a+=o}if(0===e.strm.avail_in)break;if(n=$e(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Ge(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Ge(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ze&&0!==e.strm.avail_in)},Qe=function(e,t){for(var n,r;;){if(e.lookahead<ze){if(Je(e),e.lookahead<ze&&t===ye)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ge(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ze&&(e.match_length=Ze(e,n)),e.match_length>=3)if(r=ge(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Ge(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ge(e,e.ins_h,e.window[e.strstart+1]);else r=ge(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Xe(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Oe?(Xe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Xe(e,!1),0===e.strm.avail_out)?1:2},et=function(e,t){for(var n,r,a;;){if(e.lookahead<ze){if(Je(e),e.lookahead<ze&&t===ye)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ge(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ze&&(e.match_length=Ze(e,n),e.match_length<=5&&(e.strategy===Ne||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=ge(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Ge(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Xe(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=ge(e,0,e.window[e.strstart-1]))&&Xe(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=ge(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Oe?(Xe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Xe(e,!1),0===e.strm.avail_out)?1:2};function tt(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}var nt=[new tt(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Je(e),0===e.lookahead&&t===ye)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Xe(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-ze&&(Xe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Oe?(Xe(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Xe(e,!1),e.strm.avail_out),1)})),new tt(4,4,8,4,Qe),new tt(4,5,16,8,Qe),new tt(4,6,32,32,Qe),new tt(4,4,16,16,et),new tt(8,16,32,32,et),new tt(8,16,128,128,et),new tt(8,32,128,256,et),new tt(32,128,258,1024,et),new tt(32,258,258,4096,et)];function rt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Re,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),He(this.dyn_ltree),He(this.dyn_dtree),He(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),He(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),He(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var at=function(e){if(!e||!e.state)return We(e,Se);e.total_in=e.total_out=0,e.data_type=Fe;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Le,e.adler=2===t.wrap?0:1,t.last_flush=ye,pe(t),je},it=function(e){var t,n=at(e);return n===je&&((t=e.state).window_size=2*t.w_size,He(t.head),t.max_lazy_match=nt[t.level].max_lazy,t.good_match=nt[t.level].good_length,t.nice_match=nt[t.level].nice_length,t.max_chain_length=nt[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},ot=function(e,t,n,r,a,i){if(!e)return Se;var o=1;if(t===Ce&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>9||n!==Re||r<8||r>15||t<0||t>9||i<0||i>Ie)return We(e,Se);8===r&&(r=9);var u=new rt;return e.state=u,u.strm=e,u.wrap=o,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new Uint8Array(2*u.w_size),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new Uint8Array(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=i,u.method=n,it(e)},ut=function(e,t){return ot(e,t,Re,15,8,Me)},st={deflateInit:ut,deflateInit2:ot,deflateReset:it,deflateResetKeep:at,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?Se:(e.state.gzhead=t,je):Se},deflate:function(e,t){var n,r;if(!e||!e.state||t>ke||t<0)return e?We(e,Se):Se;var a=e.state;if(!e.output||!e.input&&0!==e.avail_in||a.status===Ue&&t!==Oe)return We(e,0===e.avail_out?Ae:Se);a.strm=e;var i=a.last_flush;if(a.last_flush=t,42===a.status)if(2===a.wrap)e.adler=0,Ye(a,31),Ye(a,139),Ye(a,8),a.gzhead?(Ye(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),Ye(a,255&a.gzhead.time),Ye(a,a.gzhead.time>>8&255),Ye(a,a.gzhead.time>>16&255),Ye(a,a.gzhead.time>>24&255),Ye(a,9===a.level?2:a.strategy>=Te||a.level<2?4:0),Ye(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(Ye(a,255&a.gzhead.extra.length),Ye(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=fe(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(Ye(a,0),Ye(a,0),Ye(a,0),Ye(a,0),Ye(a,0),Ye(a,9===a.level?2:a.strategy>=Te||a.level<2?4:0),Ye(a,3),a.status=Le);else{var o=Re+(a.w_bits-8<<4)<<8;o|=(a.strategy>=Te||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(o|=32),o+=31-o%31,a.status=Le,Ke(a,o),0!==a.strstart&&(Ke(a,e.adler>>>16),Ke(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(n=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>n&&(e.adler=fe(e.adler,a.pending_buf,a.pending-n,n)),qe(e),n=a.pending,a.pending!==a.pending_buf_size));)Ye(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>n&&(e.adler=fe(e.adler,a.pending_buf,a.pending-n,n)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=fe(e.adler,a.pending_buf,a.pending-n,n)),qe(e),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,Ye(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>n&&(e.adler=fe(e.adler,a.pending_buf,a.pending-n,n)),0===r&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=fe(e.adler,a.pending_buf,a.pending-n,n)),qe(e),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,Ye(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>n&&(e.adler=fe(e.adler,a.pending_buf,a.pending-n,n)),0===r&&(a.status=Be)}else a.status=Be;if(a.status===Be&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&qe(e),a.pending+2<=a.pending_buf_size&&(Ye(a,255&e.adler),Ye(a,e.adler>>8&255),e.adler=0,a.status=Le)):a.status=Le),0!==a.pending){if(qe(e),0===e.avail_out)return a.last_flush=-1,je}else if(0===e.avail_in&&Ve(t)<=Ve(i)&&t!==Oe)return We(e,Ae);if(a.status===Ue&&0!==e.avail_in)return We(e,Ae);if(0!==e.avail_in||0!==a.lookahead||t!==ye&&a.status!==Ue){var u=a.strategy===Te?function(e,t){for(var n;;){if(0===e.lookahead&&(Je(e),0===e.lookahead)){if(t===ye)return 1;break}if(e.match_length=0,n=ge(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Xe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Oe?(Xe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Xe(e,!1),0===e.strm.avail_out)?1:2}(a,t):a.strategy===De?function(e,t){for(var n,r,a,i,o=e.window;;){if(e.lookahead<=Pe){if(Je(e),e.lookahead<=Pe&&t===ye)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=o[a=e.strstart-1])===o[++a]&&r===o[++a]&&r===o[++a]){i=e.strstart+Pe;do{}while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<i);e.match_length=Pe-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=ge(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ge(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Xe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Oe?(Xe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Xe(e,!1),0===e.strm.avail_out)?1:2}(a,t):nt[a.level].func(a,t);if(3!==u&&4!==u||(a.status=Ue),1===u||3===u)return 0===e.avail_out&&(a.last_flush=-1),je;if(2===u&&(t===xe?be(a):t!==ke&&(ve(a,0,0,!1),t===we&&(He(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),qe(e),0===e.avail_out))return a.last_flush=-1,je}return t!==Oe?je:a.wrap<=0?_e:(2===a.wrap?(Ye(a,255&e.adler),Ye(a,e.adler>>8&255),Ye(a,e.adler>>16&255),Ye(a,e.adler>>24&255),Ye(a,255&e.total_in),Ye(a,e.total_in>>8&255),Ye(a,e.total_in>>16&255),Ye(a,e.total_in>>24&255)):(Ke(a,e.adler>>>16),Ke(a,65535&e.adler)),qe(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?je:_e)},deflateEnd:function(e){if(!e||!e.state)return Se;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Be&&t!==Le&&t!==Ue?We(e,Se):(e.state=null,t===Le?We(e,Ee):je)},deflateSetDictionary:function(e,t){var n=t.length;if(!e||!e.state)return Se;var r=e.state,a=r.wrap;if(2===a||1===a&&42!==r.status||r.lookahead)return Se;if(1===a&&(e.adler=ce(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(He(r.head),r.strstart=0,r.block_start=0,r.insert=0);var i=new Uint8Array(r.w_size);i.set(t.subarray(n-r.w_size,n),0),t=i,n=r.w_size}var o=e.avail_in,u=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Je(r);r.lookahead>=3;){var c=r.strstart,l=r.lookahead-2;do{r.ins_h=Ge(r,r.ins_h,r.window[c+3-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++}while(--l);r.strstart=c,r.lookahead=2,Je(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=s,e.avail_in=o,r.wrap=a,je},deflateInfo:"pako deflate (from Nodeca project)"},ct=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},lt=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)ct(n,r)&&(e[r]=n[r])}}return e},ft=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var a=new Uint8Array(t),i=0,o=0,u=e.length;i<u;i++){var s=e[i];a.set(s,o),o+=s.length}return a},dt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(yd){dt=!1}for(var ht=new Uint8Array(256),pt=0;pt<256;pt++)ht[pt]=pt>=252?6:pt>=248?5:pt>=240?4:pt>=224?3:pt>=192?2:1;ht[254]=ht[254]=1;var vt=function(e){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,r,a,i,o=e.length,u=0;for(a=0;a<o;a++)55296===(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320===(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(u),i=0,a=0;i<u;a++)55296===(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320===(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},mt=function(e,t){var n,r,a=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var i=new Array(2*a);for(r=0,n=0;n<a;){var o=e[n++];if(o<128)i[r++]=o;else{var u=ht[o];if(u>4)i[r++]=65533,n+=u-1;else{for(o&=2===u?31:3===u?15:7;u>1&&n<a;)o=o<<6|63&e[n++],u--;u>1?i[r++]=65533:o<65536?i[r++]=o:(o-=65536,i[r++]=55296|o>>10&1023,i[r++]=56320|1023&o)}}}return function(e,t){if(t<65534&&e.subarray&&dt)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}(i,r)},gt=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+ht[e[n]]>t?n:t};var bt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},yt=Object.prototype.toString,xt=he.Z_NO_FLUSH,wt=he.Z_SYNC_FLUSH,Ot=he.Z_FULL_FLUSH,kt=he.Z_FINISH,jt=he.Z_OK,_t=he.Z_STREAM_END,St=he.Z_DEFAULT_COMPRESSION,Et=he.Z_DEFAULT_STRATEGY,At=he.Z_DEFLATED;function Ct(e){this.options=lt({level:St,method:At,chunkSize:16384,windowBits:15,memLevel:8,strategy:Et},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bt,this.strm.avail_out=0;var n=st.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==jt)throw new Error(de[n]);if(t.header&&st.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"===typeof t.dictionary?vt(t.dictionary):"[object ArrayBuffer]"===yt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=st.deflateSetDictionary(this.strm,r))!==jt)throw new Error(de[n]);this._dict_set=!0}}function Nt(e,t){var n=new Ct(t);if(n.push(e,!0),n.err)throw n.msg||de[n.err];return n.result}Ct.prototype.push=function(e,t){var n,r,a=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?kt:xt,"string"===typeof e?a.input=vt(e):"[object ArrayBuffer]"===yt.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(r===wt||r===Ot)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if((n=st.deflate(a,r))===_t)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),n=st.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===jt;if(0!==a.avail_out){if(r>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},Ct.prototype.onData=function(e){this.chunks.push(e)},Ct.prototype.onEnd=function(e){e===jt&&(this.result=ft(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Tt={Deflate:Ct,deflate:Nt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Nt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Nt(e,t)},constants:he},Dt=function(e,t){var n,r,a,i,o,u,s,c,l,f,d,h,p,v,m,g,b,y,x,w,O,k,j,_,S=e.state;n=e.next_in,j=e.input,r=n+(e.avail_in-5),a=e.next_out,_=e.output,i=a-(t-e.avail_out),o=a+(e.avail_out-257),u=S.dmax,s=S.wsize,c=S.whave,l=S.wnext,f=S.window,d=S.hold,h=S.bits,p=S.lencode,v=S.distcode,m=(1<<S.lenbits)-1,g=(1<<S.distbits)-1;e:do{h<15&&(d+=j[n++]<<h,h+=8,d+=j[n++]<<h,h+=8),b=p[d&m];t:for(;;){if(d>>>=y=b>>>24,h-=y,0===(y=b>>>16&255))_[a++]=65535&b;else{if(!(16&y)){if(0===(64&y)){b=p[(65535&b)+(d&(1<<y)-1)];continue t}if(32&y){S.mode=12;break e}e.msg="invalid literal/length code",S.mode=30;break e}x=65535&b,(y&=15)&&(h<y&&(d+=j[n++]<<h,h+=8),x+=d&(1<<y)-1,d>>>=y,h-=y),h<15&&(d+=j[n++]<<h,h+=8,d+=j[n++]<<h,h+=8),b=v[d&g];n:for(;;){if(d>>>=y=b>>>24,h-=y,!(16&(y=b>>>16&255))){if(0===(64&y)){b=v[(65535&b)+(d&(1<<y)-1)];continue n}e.msg="invalid distance code",S.mode=30;break e}if(w=65535&b,h<(y&=15)&&(d+=j[n++]<<h,(h+=8)<y&&(d+=j[n++]<<h,h+=8)),(w+=d&(1<<y)-1)>u){e.msg="invalid distance too far back",S.mode=30;break e}if(d>>>=y,h-=y,w>(y=a-i)){if((y=w-y)>c&&S.sane){e.msg="invalid distance too far back",S.mode=30;break e}if(O=0,k=f,0===l){if(O+=s-y,y<x){x-=y;do{_[a++]=f[O++]}while(--y);O=a-w,k=_}}else if(l<y){if(O+=s+l-y,(y-=l)<x){x-=y;do{_[a++]=f[O++]}while(--y);if(O=0,l<x){x-=y=l;do{_[a++]=f[O++]}while(--y);O=a-w,k=_}}}else if(O+=l-y,y<x){x-=y;do{_[a++]=f[O++]}while(--y);O=a-w,k=_}for(;x>2;)_[a++]=k[O++],_[a++]=k[O++],_[a++]=k[O++],x-=3;x&&(_[a++]=k[O++],x>1&&(_[a++]=k[O++]))}else{O=a-w;do{_[a++]=_[O++],_[a++]=_[O++],_[a++]=_[O++],x-=3}while(x>2);x&&(_[a++]=_[O++],x>1&&(_[a++]=_[O++]))}break}}break}}while(n<r&&a<o);n-=x=h>>3,d&=(1<<(h-=x<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<o?o-a+257:257-(a-o),S.hold=d,S.bits=h},It=15,Mt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ft=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Rt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Pt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zt=function(e,t,n,r,a,i,o,u){var s,c,l,f,d,h,p,v,m,g=u.bits,b=0,y=0,x=0,w=0,O=0,k=0,j=0,_=0,S=0,E=0,A=null,C=0,N=new Uint16Array(16),T=new Uint16Array(16),D=null,I=0;for(b=0;b<=It;b++)N[b]=0;for(y=0;y<r;y++)N[t[n+y]]++;for(O=g,w=It;w>=1&&0===N[w];w--);if(O>w&&(O=w),0===w)return a[i++]=20971520,a[i++]=20971520,u.bits=1,0;for(x=1;x<w&&0===N[x];x++);for(O<x&&(O=x),_=1,b=1;b<=It;b++)if(_<<=1,(_-=N[b])<0)return-1;if(_>0&&(0===e||1!==w))return-1;for(T[1]=0,b=1;b<It;b++)T[b+1]=T[b]+N[b];for(y=0;y<r;y++)0!==t[n+y]&&(o[T[t[n+y]]++]=y);if(0===e?(A=D=o,h=19):1===e?(A=Mt,C-=257,D=Ft,I-=257,h=256):(A=Rt,D=Pt,h=-1),E=0,y=0,b=x,d=i,k=O,j=0,l=-1,f=(S=1<<O)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){p=b-j,o[y]<h?(v=0,m=o[y]):o[y]>h?(v=D[I+o[y]],m=A[C+o[y]]):(v=96,m=0),s=1<<b-j,x=c=1<<k;do{a[d+(E>>j)+(c-=s)]=p<<24|v<<16|m|0}while(0!==c);for(s=1<<b-1;E&s;)s>>=1;if(0!==s?(E&=s-1,E+=s):E=0,y++,0===--N[b]){if(b===w)break;b=t[n+o[y]]}if(b>O&&(E&f)!==l){for(0===j&&(j=O),d+=x,_=1<<(k=b-j);k+j<w&&!((_-=N[k+j])<=0);)k++,_<<=1;if(S+=1<<k,1===e&&S>852||2===e&&S>592)return 1;a[l=E&f]=O<<24|k<<16|d-i|0}}return 0!==E&&(a[d+E]=b-j<<24|64<<16|0),u.bits=O,0},Bt=he.Z_FINISH,Lt=he.Z_BLOCK,Ut=he.Z_TREES,Wt=he.Z_OK,Vt=he.Z_STREAM_END,Ht=he.Z_NEED_DICT,Gt=he.Z_STREAM_ERROR,qt=he.Z_DATA_ERROR,Xt=he.Z_MEM_ERROR,Yt=he.Z_BUF_ERROR,Kt=he.Z_DEFLATED,$t=12,Zt=30,Jt=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function Qt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var en,tn,nn=function(e){if(!e||!e.state)return Gt;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Wt},rn=function(e){if(!e||!e.state)return Gt;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,nn(e)},an=function(e,t){var n;if(!e||!e.state)return Gt;var r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Gt:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,rn(e))},on=function(e,t){if(!e)return Gt;var n=new Qt;e.state=n,n.window=null;var r=an(e,t);return r!==Wt&&(e.state=null),r},un=!0,sn=function(e){if(un){en=new Int32Array(512),tn=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(zt(1,e.lens,0,288,en,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;zt(2,e.lens,0,32,tn,0,e.work,{bits:5}),un=!1}e.lencode=en,e.lenbits=9,e.distcode=tn,e.distbits=5},cn=function(e,t,n,r){var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):((a=i.wsize-i.wnext)>r&&(a=r),i.window.set(t.subarray(n-r,n-r+a),i.wnext),(r-=a)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},ln={inflateReset:rn,inflateReset2:an,inflateResetKeep:nn,inflateInit:function(e){return on(e,15)},inflateInit2:on,inflate:function(e,t){var n,r,a,i,o,u,s,c,l,f,d,h,p,v,m,g,b,y,x,w,O,k,j,_,S=0,E=new Uint8Array(4),A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Gt;(n=e.state).mode===$t&&(n.mode=13),o=e.next_out,a=e.output,s=e.avail_out,i=e.next_in,r=e.input,u=e.avail_in,c=n.hold,l=n.bits,f=u,d=s,k=Wt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,E[0]=255&c,E[1]=c>>>8&255,n.check=fe(n.check,E,2,0),c=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Zt;break}if((15&c)!==Kt){e.msg="unknown compression method",n.mode=Zt;break}if(l-=4,O=8+(15&(c>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg="invalid window size",n.mode=Zt;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:$t,c=0,l=0;break;case 2:for(;l<16;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==Kt){e.msg="unknown compression method",n.mode=Zt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Zt;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=fe(n.check,E,2,0)),c=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,n.check=fe(n.check,E,4,0)),c=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=fe(n.check,E,2,0)),c=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=fe(n.check,E,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((h=n.length)>u&&(h=u),h&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+h),O)),512&n.flags&&(n.check=fe(n.check,r,h,i)),u-=h,i+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===u)break e;h=0;do{O=r[i+h++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O))}while(O&&h<u);if(512&n.flags&&(n.check=fe(n.check,r,h,i)),u-=h,i+=h,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===u)break e;h=0;do{O=r[i+h++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O))}while(O&&h<u);if(512&n.flags&&(n.check=fe(n.check,r,h,i)),u-=h,i+=h,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Zt;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=$t;break;case 10:for(;l<32;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}e.adler=n.check=Jt(c),c=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=o,e.avail_out=s,e.next_in=i,e.avail_in=u,n.hold=c,n.bits=l,Ht;e.adler=n.check=1,n.mode=$t;case $t:if(t===Lt||t===Ut)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}switch(n.last=1&c,l-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(sn(n),n.mode=20,t===Ut){c>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Zt}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Zt;break}if(n.length=65535&c,c=0,l=0,n.mode=15,t===Ut)break e;case 15:n.mode=16;case 16:if(h=n.length){if(h>u&&(h=u),h>s&&(h=s),0===h)break e;a.set(r.subarray(i,i+h),o),u-=h,i+=h,s-=h,o+=h,n.length-=h;break}n.mode=$t;break;case 17:for(;l<14;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Zt;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}n.lens[A[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},k=zt(0,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,k){e.msg="invalid code lengths set",n.mode=Zt;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;g=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&S,!((m=S>>>24)<=l);){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(b<16)c>>>=m,l-=m,n.lens[n.have++]=b;else{if(16===b){for(_=m+2;l<_;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(c>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=Zt;break}O=n.lens[n.have-1],h=3+(3&c),c>>>=2,l-=2}else if(17===b){for(_=m+3;l<_;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}l-=m,O=0,h=3+(7&(c>>>=m)),c>>>=3,l-=3}else{for(_=m+7;l<_;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}l-=m,O=0,h=11+(127&(c>>>=m)),c>>>=7,l-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Zt;break}for(;h--;)n.lens[n.have++]=O}}if(n.mode===Zt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Zt;break}if(n.lenbits=9,j={bits:n.lenbits},k=zt(1,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,k){e.msg="invalid literal/lengths set",n.mode=Zt;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},k=zt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,k){e.msg="invalid distances set",n.mode=Zt;break}if(n.mode=20,t===Ut)break e;case 20:n.mode=21;case 21:if(u>=6&&s>=258){e.next_out=o,e.avail_out=s,e.next_in=i,e.avail_in=u,n.hold=c,n.bits=l,Dt(e,d),o=e.next_out,a=e.output,s=e.avail_out,i=e.next_in,r=e.input,u=e.avail_in,c=n.hold,l=n.bits,n.mode===$t&&(n.back=-1);break}for(n.back=0;g=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&S,!((m=S>>>24)<=l);){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(g&&0===(240&g)){for(y=m,x=g,w=b;g=(S=n.lencode[w+((c&(1<<y+x)-1)>>y)])>>>16&255,b=65535&S,!(y+(m=S>>>24)<=l);){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}c>>>=y,l-=y,n.back+=y}if(c>>>=m,l-=m,n.back+=m,n.length=b,0===g){n.mode=26;break}if(32&g){n.back=-1,n.mode=$t;break}if(64&g){e.msg="invalid literal/length code",n.mode=Zt;break}n.extra=15&g,n.mode=22;case 22:if(n.extra){for(_=n.extra;l<_;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;g=(S=n.distcode[c&(1<<n.distbits)-1])>>>16&255,b=65535&S,!((m=S>>>24)<=l);){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(0===(240&g)){for(y=m,x=g,w=b;g=(S=n.distcode[w+((c&(1<<y+x)-1)>>y)])>>>16&255,b=65535&S,!(y+(m=S>>>24)<=l);){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}c>>>=y,l-=y,n.back+=y}if(c>>>=m,l-=m,n.back+=m,64&g){e.msg="invalid distance code",n.mode=Zt;break}n.offset=b,n.extra=15&g,n.mode=24;case 24:if(n.extra){for(_=n.extra;l<_;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Zt;break}n.mode=25;case 25:if(0===s)break e;if(h=d-s,n.offset>h){if((h=n.offset-h)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Zt;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),v=n.window}else v=a,p=o-n.offset,h=n.length;h>s&&(h=s),s-=h,n.length-=h;do{a[o++]=v[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===s)break e;a[o++]=n.length,s--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===u)break e;u--,c|=r[i++]<<l,l+=8}if(d-=s,e.total_out+=d,n.total+=d,d&&(e.adler=n.check=n.flags?fe(n.check,a,d,o-d):ce(n.check,a,d,o-d)),d=s,(n.flags?c:Jt(c))!==n.check){e.msg="incorrect data check",n.mode=Zt;break}c=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Zt;break}c=0,l=0}n.mode=29;case 29:k=Vt;break e;case Zt:k=qt;break e;case 31:return Xt;default:return Gt}return e.next_out=o,e.avail_out=s,e.next_in=i,e.avail_in=u,n.hold=c,n.bits=l,(n.wsize||d!==e.avail_out&&n.mode<Zt&&(n.mode<27||t!==Bt))&&cn(e,e.output,e.next_out,d-e.avail_out),f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?fe(n.check,a,d,e.next_out-d):ce(n.check,a,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===$t?128:0)+(20===n.mode||15===n.mode?256:0),(0===f&&0===d||t===Bt)&&k===Wt&&(k=Yt),k},inflateEnd:function(e){if(!e||!e.state)return Gt;var t=e.state;return t.window&&(t.window=null),e.state=null,Wt},inflateGetHeader:function(e,t){if(!e||!e.state)return Gt;var n=e.state;return 0===(2&n.wrap)?Gt:(n.head=t,t.done=!1,Wt)},inflateSetDictionary:function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?Gt:11===n.mode&&ce(1,t,r,0)!==n.check?qt:cn(e,t,r,r)?(n.mode=31,Xt):(n.havedict=1,Wt):Gt},inflateInfo:"pako inflate (from Nodeca project)"};var fn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},dn=Object.prototype.toString,hn=he.Z_NO_FLUSH,pn=he.Z_FINISH,vn=he.Z_OK,mn=he.Z_STREAM_END,gn=he.Z_NEED_DICT,bn=he.Z_STREAM_ERROR,yn=he.Z_DATA_ERROR,xn=he.Z_MEM_ERROR;function wn(e){this.options=lt({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bt,this.strm.avail_out=0;var n=ln.inflateInit2(this.strm,t.windowBits);if(n!==vn)throw new Error(de[n]);if(this.header=new fn,ln.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=vt(t.dictionary):"[object ArrayBuffer]"===dn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ln.inflateSetDictionary(this.strm,t.dictionary))!==vn))throw new Error(de[n])}function On(e,t){var n=new wn(t);if(n.push(e),n.err)throw n.msg||de[n.err];return n.result}wn.prototype.push=function(e,t){var n,r,a,i=this.strm,o=this.options.chunkSize,u=this.options.dictionary;if(this.ended)return!1;for(r=t===~~t?t:!0===t?pn:hn,"[object ArrayBuffer]"===dn.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(n=ln.inflate(i,r))===gn&&u&&((n=ln.inflateSetDictionary(i,u))===vn?n=ln.inflate(i,r):n===yn&&(n=gn));i.avail_in>0&&n===mn&&i.state.wrap>0&&0!==e[i.next_in];)ln.inflateReset(i),n=ln.inflate(i,r);switch(n){case bn:case yn:case gn:case xn:return this.onEnd(n),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||n===mn))if("string"===this.options.to){var s=gt(i.output,i.next_out),c=i.next_out-s,l=mt(i.output,s);i.next_out=c,i.avail_out=o-c,c&&i.output.set(i.output.subarray(s,s+c),0),this.onData(l)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(n!==vn||0!==a){if(n===mn)return n=ln.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},wn.prototype.onData=function(e){this.chunks.push(e)},wn.prototype.onEnd=function(e){e===vn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ft(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};for(var kn={Inflate:wn,inflate:On,inflateRaw:function(e,t){return(t=t||{}).raw=!0,On(e,t)},ungzip:On,constants:he},jn=Tt.deflate,_n=kn.Inflate,Sn=[137,80,78,71,13,10,26,10],En=[],An=0;An<256;An++){for(var Cn=An,Nn=0;Nn<8;Nn++)1&Cn?Cn=3988292384^Cn>>>1:Cn>>>=1;En[An]=Cn}var Tn,Dn,In,Mn,Fn=4294967295;function Rn(e,t){return(function(e,t,n){for(var r=e,a=0;a<n;a++)r=En[255&(r^t[a])]^r>>>8;return r}(Fn,e,t)^Fn)>>>0}!function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.GREYSCALE=0]="GREYSCALE",e[e.TRUECOLOUR=2]="TRUECOLOUR",e[e.INDEXED_COLOUR=3]="INDEXED_COLOUR",e[e.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",e[e.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"}(Tn||(Tn={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.DEFLATE=0]="DEFLATE"}(Dn||(Dn={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.ADAPTIVE=0]="ADAPTIVE"}(In||(In={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.NO_INTERLACE=0]="NO_INTERLACE",e[e.ADAM7=1]="ADAM7"}(Mn||(Mn={}));var Pn=new Uint8Array(0),zn=new Uint16Array([255]),Bn=255===new Uint8Array(zn.buffer)[0],Ln=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(u.a)(this,n),r=t.call(this,e);var i=a.checkCrc,o=void 0!==i&&i;return r._checkCrc=o,r._inflator=new _n,r._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},r._end=!1,r._hasPalette=!1,r._palette=[],r._compressionMethod=Dn.UNKNOWN,r._filterMethod=In.UNKNOWN,r._interlaceMethod=Mn.UNKNOWN,r._colorType=-1,r.setBigEndian(),r}return Object(s.a)(n,[{key:"decode",value:function(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}},{key:"decodeSignature",value:function(){for(var e=0;e<Sn.length;e++)if(this.readUint8()!==Sn[e])throw new Error("wrong PNG signature. Byte at ".concat(e," should be ").concat(Sn[e],"."))}},{key:"decodeChunk",value:function(){var e=this.readUint32(),t=this.readChars(4),n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"tEXt":this.decodetEXt(e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));if(this._checkCrc){var r=this.readUint32(),a=e+4,i=Rn(new Uint8Array(this.buffer,this.byteOffset+this.offset-a-4,a),a);if(i!==r)throw new Error("CRC mismatch for chunk ".concat(t,". Expected ").concat(r,", found ").concat(i))}else this.skip(4)}},{key:"decodeIHDR",value:function(){var e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error("invalid bit depth: ".concat(e));return e}(this.readUint8());var t,n=this.readUint8();switch(this._colorType=n,n){case Tn.GREYSCALE:t=1;break;case Tn.TRUECOLOUR:t=3;break;case Tn.INDEXED_COLOUR:t=1;break;case Tn.GREYSCALE_ALPHA:t=2;break;case Tn.TRUECOLOUR_ALPHA:t=4;break;default:throw new Error("Unknown color type: ".concat(n))}if(this._png.channels=t,this._compressionMethod=this.readUint8(),this._compressionMethod!==Dn.DEFLATE)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}},{key:"decodePLTE",value:function(e){if(e%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(e));var t=e/3;this._hasPalette=!0;var n=[];this._palette=n;for(var r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}},{key:"decodeIDAT",value:function(e){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,e)),this.skip(e)}},{key:"decodetRNS",value:function(e){if(3===this._colorType){if(e>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(e," vs ").concat(this._palette.length,")"));for(var t=0;t<e;t++){var n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255)}}},{key:"decodetEXt",value:function(e){for(var t,n="";"\0"!==(t=this.readChar());)n+=t;this._png.text[n]=this.readChars(e-n.length-1)}},{key:"decodepHYs",value:function(){var e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}},{key:"decodeImage",value:function(){if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));var e=this._inflator.result;if(this._filterMethod!==In.ADAPTIVE)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod!==Mn.NO_INTERLACE)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this.decodeInterlaceNull(e)}},{key:"decodeInterlaceNull",value:function(e){for(var t,n,r,a=this._png.height,i=this._png.channels*this._png.depth/8,o=this._png.width*i,u=new Uint8Array(this._png.height*o),s=Pn,c=0,l=0;l<a;l++){switch(t=e.subarray(c+1,c+1+o),n=u.subarray(l*o,(l+1)*o),e[c]){case 0:Un(t,n,o);break;case 1:Wn(t,n,o,i);break;case 2:Vn(t,n,s,o);break;case 3:Hn(t,n,s,o,i);break;case 4:Gn(t,n,s,o,i);break;default:throw new Error("Unsupported filter: ".concat(e[c]))}s=n,c+=o+1}if(this._hasPalette&&(this._png.palette=this._palette),16===this._png.depth){var f=new Uint16Array(u.buffer);if(Bn)for(var d=0;d<f.length;d++)f[d]=(255&(r=f[d]))<<8|r>>8&255;this._png.data=f}else this._png.data=u}}]),n}(j);function Un(e,t,n){for(var r=0;r<n;r++)t[r]=e[r]}function Wn(e,t,n,r){for(var a=0;a<r;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-r]&255}function Vn(e,t,n,r){var a=0;if(0===n.length)for(;a<r;a++)t[a]=e[a];else for(;a<r;a++)t[a]=e[a]+n[a]&255}function Hn(e,t,n,r,a){var i=0;if(0===n.length){for(;i<a;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(n[i]>>1)&255;for(;i<r;i++)t[i]=e[i]+(t[i-a]+n[i]>>1)&255}}function Gn(e,t,n,r,a){var i=0;if(0===n.length){for(;i<a;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+n[i]&255;for(;i<r;i++)t[i]=e[i]+qn(t[i-a],n[i],n[i-a])&255}}function qn(e,t,n){var r=e+t-n,a=Math.abs(r-e),i=Math.abs(r-t),o=Math.abs(r-n);return a<=i&&a<=o?e:i<=o?t:n}var Xn,Yn={level:3},Kn=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u.a)(this,n),(r=t.call(this))._colorType=Tn.UNKNOWN,r._zlibOptions=Object.assign({},Yn,a.zlib),r._png=r._checkData(e),r.setBigEndian(),r}return Object(s.a)(n,[{key:"encode",value:function(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}},{key:"encodeSignature",value:function(){this.writeBytes(Sn)}},{key:"encodeIHDR",value:function(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(Dn.DEFLATE),this.writeByte(In.ADAPTIVE),this.writeByte(Mn.NO_INTERLACE),this.writeCrc(17)}},{key:"encodeIEND",value:function(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}},{key:"encodeIDAT",value:function(e){this.writeUint32(e.length),this.writeChars("IDAT"),this.writeBytes(e),this.writeCrc(e.length+4)}},{key:"encodeData",value:function(){for(var e=this._png,t=e.width,n=e.height,r=e.channels,a=e.depth,i=e.data,o=r*t,u=(new j).setBigEndian(),s=0,c=0;c<n;c++)if(u.writeByte(0),8===a)s=Zn(i,u,o,s);else{if(16!==a)throw new Error("unreachable");s=Jn(i,u,o,s)}var l=u.toArray(),f=jn(l,this._zlibOptions);this.encodeIDAT(f)}},{key:"_checkData",value:function(e){var t=function(e){var t=e.channels,n=void 0===t?4:t,r=e.depth,a=void 0===r?8:r;if(4!==n&&3!==n&&2!==n&&1!==n)throw new RangeError("unsupported number of channels: ".concat(n));if(8!==a&&16!==a)throw new RangeError("unsupported bit depth: ".concat(a));var i={channels:n,depth:a,colorType:Tn.UNKNOWN};switch(n){case 4:i.colorType=Tn.TRUECOLOUR_ALPHA;break;case 3:i.colorType=Tn.TRUECOLOUR;break;case 1:i.colorType=Tn.GREYSCALE;break;case 2:i.colorType=Tn.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return i}(e),n=t.colorType,r=t.channels,a=t.depth,i={width:$n(e.width,"width"),height:$n(e.height,"height"),channels:r,data:e.data,depth:a,text:{}};this._colorType=n;var o=i.width*i.height*r;if(i.data.length!==o)throw new RangeError("wrong data size. Found ".concat(i.data.length,", expected ").concat(o));return i}},{key:"writeCrc",value:function(e){this.writeUint32(Rn(new Uint8Array(this.buffer,this.byteOffset+this.offset-e,e),e))}}]),n}(j);function $n(e,t){if(Number.isInteger(e)&&e>0)return e;throw new TypeError("".concat(t," must be a positive integer"))}function Zn(e,t,n,r){for(var a=0;a<n;a++)t.writeByte(e[r++]);return r}function Jn(e,t,n,r){for(var a=0;a<n;a++)t.writeUint16(e[r++]);return r}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(Xn||(Xn={}));for(var Qn=n(372),er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tr=new Uint8Array(256),nr=0;nr<er.length;nr++)tr[er.charCodeAt(nr)]=nr;function rr(e,t){var n=function(e){var t,n=e.length,r="";for(t=0;t<n;t+=3)r+=er[e[t]>>2],r+=er[(3&e[t])<<4|e[t+1]>>4],r+=er[(15&e[t+1])<<2|e[t+2]>>6],r+=er[63&e[t+2]];return n%3===2?r="".concat(r.substring(0,r.length-1),"="):n%3===1&&(r="".concat(r.substring(0,r.length-2),"==")),r}(e);return"data:".concat(t,";base64,").concat(n)}var ar=self.ImageData,ir=self.Image;function or(e,t){var n=self.document.createElement("canvas");return n.width=e,n.height=t,n}function ur(){throw new Error("createWriteStream does not exist in the browser")}function sr(){throw new Error("writeFile does not exist in the browser")}function cr(e){return e.includes("/")||(e="image/".concat(e)),e}function lr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={width:e.width,height:e.height,data:e.getRGBAData()};return Object(Qn.encode)(n,t.quality).data}function fr(e,t){var n={width:e.width,height:e.height,channels:e.channels,depth:e.bitDepth,data:e.data};return 1!==n.depth&&32!==n.depth||(n.depth=8,n.channels=4,n.data=e.getRGBAData()),function(e,t){return new Kn(e,t).encode()}(n,t)}var dr={save:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.useCanvas,a=void 0!==r&&r,i=n.encoder,o=void 0===i?void 0:i,u=n.format;if(!u){var s=v(/\.([A-Za-z]+)$/,{format:1}).exec(e);s&&(u=s.groups.format.toLowerCase())}if(!u)throw new Error("file format not provided");return new Promise((function(e,n){var r,i;switch(u.toLowerCase()){case"png":a?r=t.getCanvas().pngStream():i=fr(t,o);break;case"jpg":case"jpeg":a?r=t.getCanvas().jpegStream():i=lr(t,o);break;case"bmp":i=Object(y.encode)(t,o);break;default:throw new RangeError("invalid output format: ".concat(u))}if(r){var s=ur();s.on("finish",e),s.on("error",n),r.pipe(s)}else i&&sr()}))},toDataURL:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"===typeof e&&(t=e,e="image/png");var n=t,r=n.useCanvas,a=void 0!==r&&r,i=n.encoder,o=void 0===i?void 0:i;function u(t,n){return rr(t(n,o),e)}return"image/bmp"===(e=cr(e))?u(y.encode,this):"image/png"!==e||a?"image/jpeg"!==e||a?this.getCanvas().toDataURL(e):u(lr,this):u(fr,this)},toBuffer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=void 0===t?"png":t,r=e.encoder,a=void 0===r?void 0:r;switch(n.toLowerCase()){case"png":return fr(this,a);case"jpeg":case"jpg":return lr(this,a);case"bmp":return Object(y.encode)(this,a);default:throw new RangeError("invalid output format: ".concat(n))}},toBase64:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.async)return this.toDataURL(e,t).then((function(e){return e.substring(e.indexOf(",")+1)}));var n=this.toDataURL(e,t);return n.substring(n.indexOf(",")+1)},toBlob:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8;return g(this.getCanvas(),e,t)},getCanvas:function(){var e=new ar(this.getRGBAData({clamped:!0}),this.width,this.height),t=or(this.width,this.height);return t.getContext("2d").putImageData(e,0,0),t}};var hr=n(16),pr=n(373),vr=n.n(pr),mr={configurable:!0,enumerable:!1,get:void 0};var gr="GREY",br="RGB",yr="HSL",xr="HSV",wr="CMYK";function Or(e,t){for(var n=0;n<e.size;n++){var r=e.getBit(n);t[4*n]=255*r,t[4*n+1]=255*r,t[4*n+2]=255*r}}function kr(e,t){for(var n=e.min[0],r=e.max[0]-n,a=0;a<e.size;a++){var i=Math.floor(255*(e.data[a]-n)/r);t[4*a]=i,t[4*a+1]=i,t[4*a+2]=i}}function jr(e,t){for(var n=Math.min.apply(Math,Object(hr.a)(e.min)),r=Math.max.apply(Math,Object(hr.a)(e.max))-n,a=0;a<e.size;a++){var i=Math.floor(255*(e.data[3*a]-n)/r),o=Math.floor(255*(e.data[3*a+1]-n)/r),u=Math.floor(255*(e.data[3*a+2]-n)/r);t[4*a]=i,t[4*a+1]=o,t[4*a+2]=u}}function _r(e,t){for(var n=0;n<e.size;n++)t[4*n]=e.data[n*e.channels]>>>e.bitDepth-8,t[4*n+1]=e.data[n*e.channels]>>>e.bitDepth-8,t[4*n+2]=e.data[n*e.channels]>>>e.bitDepth-8}function Sr(e,t){for(var n=0;n<e.size;n++)t[4*n]=e.data[n*e.channels]>>>e.bitDepth-8,t[4*n+1]=e.data[n*e.channels+1]>>>e.bitDepth-8,t[4*n+2]=e.data[n*e.channels+2]>>>e.bitDepth-8}function Er(e,t){for(var n=0;n<e.size;n++)t[4*n+3]=e.data[n*e.channels+e.components]>>e.bitDepth-8}function Ar(e,t){for(var n=0;n<e.size;n++)t[4*n+3]=255}var Cr="BINARY",Nr="RGBA",Tr={};function Dr(e){var t=Tr[e];if(!t)throw new RangeError("invalid image kind: ".concat(e));return t}Tr.BINARY={components:1,alpha:0,bitDepth:1,colorModel:gr},Tr.GREYA={components:1,alpha:1,bitDepth:8,colorModel:gr},Tr.GREY={components:1,alpha:0,bitDepth:8,colorModel:gr},Tr.RGBA={components:3,alpha:1,bitDepth:8,colorModel:br},Tr.RGB={components:3,alpha:0,bitDepth:8,colorModel:br},Tr.CMYK={components:4,alpha:0,bitDepth:8,colorModel:wr},Tr.CMYKA={components:4,alpha:1,bitDepth:8,colorModel:wr};var Ir=[1,8,16,32];function Mr(e){var t=e.components,n=e.alpha,a=e.bitDepth,i=e.colorModel;if(!Number.isInteger(t)||t<=0)throw new RangeError("invalid components: ".concat(t,". Must be a positive integer"));if(0!==n&&1!==n&&"boolean"!==typeof n)throw new TypeError("invalid alpha: ".concat(n,": must be a boolean, 0 or 1"));if(!Ir.includes(a))throw new RangeError("invalid bitDepth: ".concat(a,". Must be one of ").concat(Ir.join(", ")));if(!r[i])throw new RangeError("invalid colorModel: ".concat(i,". Must be one of ").concat(Object.keys(r).join(", ")))}function Fr(e,t,n){var r=t*e;return 1===n&&(r=Math.ceil(r/8)),r}function Rr(e,t,n,r,a,i){var o,u=r*e;switch(a){case 1:o=new Uint8Array(Math.ceil(u/8));break;case 8:o=new Uint8Array(u);break;case 16:o=new Uint16Array(u);break;case 32:o=new Float32Array(u);break;default:throw new Error("Cannot create pixel array for bit depth ".concat(a))}if(n)for(var s=t;s<o.length;s+=r)o[s]=i;return o}var Pr=n(563),zr=n(564),Br=n.n(zr),Lr=(n(694),new TextDecoder("utf-8"));function Ur(e){return Lr.decode(e)}var Wr=new TextEncoder;var Vr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(u.a)(this,e);var r=!1;"number"===typeof t?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);var a=n.offset?n.offset>>>0:0,i=t.byteLength-a,o=a;(ArrayBuffer.isView(t)||t instanceof e)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),this.lastWrittenByte=r?i:0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}return Object(s.a)(e,[{key:"available",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}},{key:"isLittleEndian",value:function(){return this.littleEndian}},{key:"setLittleEndian",value:function(){return this.littleEndian=!0,this}},{key:"isBigEndian",value:function(){return!this.littleEndian}},{key:"setBigEndian",value:function(){return this.littleEndian=!1,this}},{key:"skip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}},{key:"seek",value:function(e){return this.offset=e,this}},{key:"mark",value:function(){return this._mark=this.offset,this}},{key:"reset",value:function(){return this.offset=this._mark,this}},{key:"pushMark",value:function(){return this._marks.push(this.offset),this}},{key:"popMark",value:function(){var e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}},{key:"rewind",value:function(){return this.offset=0,this}},{key:"ensureAvailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){var t=this.offset+e,n=2*t,r=new Uint8Array(n);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=this.byteLength=n,this._data=new DataView(this.buffer)}return this}},{key:"readBoolean",value:function(){return 0!==this.readUint8()}},{key:"readInt8",value:function(){return this._data.getInt8(this.offset++)}},{key:"readUint8",value:function(){return this._data.getUint8(this.offset++)}},{key:"readByte",value:function(){return this.readUint8()}},{key:"readBytes",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Uint8Array(e),n=0;n<e;n++)t[n]=this.readByte();return t}},{key:"readInt16",value:function(){var e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}},{key:"readUint16",value:function(){var e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}},{key:"readInt32",value:function(){var e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"readUint32",value:function(){var e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"readFloat32",value:function(){var e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"readFloat64",value:function(){var e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}},{key:"readBigInt64",value:function(){var e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}},{key:"readBigUint64",value:function(){var e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}},{key:"readChar",value:function(){return String.fromCharCode(this.readInt8())}},{key:"readChars",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="",n=0;n<e;n++)t+=this.readChar();return t}},{key:"readUtf8",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Ur(this.readBytes(e))}},{key:"writeBoolean",value:function(e){return this.writeUint8(e?255:0),this}},{key:"writeInt8",value:function(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}},{key:"writeUint8",value:function(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}},{key:"writeByte",value:function(e){return this.writeUint8(e)}},{key:"writeBytes",value:function(e){this.ensureAvailable(e.length);for(var t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}},{key:"writeInt16",value:function(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeUint16",value:function(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeInt32",value:function(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeUint32",value:function(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat32",value:function(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat64",value:function(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeBigInt64",value:function(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeBigUint64",value:function(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeChar",value:function(e){return this.writeUint8(e.charCodeAt(0))}},{key:"writeChars",value:function(e){for(var t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}},{key:"writeUtf8",value:function(e){return this.writeBytes(function(e){return Wr.encode(e)}(e))}},{key:"toArray",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}},{key:"_updateLastWrittenByte",value:function(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}]),e}();var Hr=n(12),Gr={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},qr={};for(var Xr in Gr)qr[Gr[Xr]]=Number(Xr);var Yr={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},Kr={};for(var $r in Yr)Kr[Yr[$r]]=Number($r);var Zr={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},Jr={};for(var Qr in Zr)Jr[Zr[Qr]]=Number(Qr);var ea={standard:o,exif:a,gps:i},ta=function(){function e(t){if(Object(u.a)(this,e),!t)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=t,this._hasMap=!1,this._map={}}return Object(s.a)(e,[{key:"get",value:function(e){if("number"===typeof e)return this.fields.get(e);if("string"===typeof e)return this.fields.get(ea[this.kind].tagsByName[e]);throw new Error("expected a number or string")}},{key:"map",get:function(){if(!this._hasMap){var e,t=ea[this.kind].tagsById,n=Object(Hr.a)(this.fields.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]&&(this._map[t[r]]=this.fields.get(r))}}catch(We){n.e(We)}finally{n.f()}this._hasMap=!0}return this._map}}]),e}(),na=new Map([[1,[1,ra]],[2,[1,function(e,t){for(var n=[],r="",a=0;a<t;a++){var i=String.fromCharCode(e.readUint8());"\0"===i?(n.push(r),r=""):r+=i}return 1===n.length?n[0]:n}]],[3,[2,function(e,t){if(1===t)return e.readUint16();for(var n=new Uint16Array(t),r=0;r<t;r++)n[r]=e.readUint16();return n}]],[4,[4,function(e,t){if(1===t)return e.readUint32();for(var n=new Uint32Array(t),r=0;r<t;r++)n[r]=e.readUint32();return n}]],[5,[8,function(e,t){if(1===t)return e.readUint32()/e.readUint32();for(var n=new Array(t),r=0;r<t;r++)n[r]=e.readUint32()/e.readUint32();return n}]],[6,[1,function(e,t){if(1===t)return e.readInt8();for(var n=new Int8Array(t),r=0;r<t;r++)n[r]=e.readInt8();return n}]],[7,[1,ra]],[8,[2,function(e,t){if(1===t)return e.readInt16();for(var n=new Int16Array(t),r=0;r<t;r++)n[r]=e.readInt16();return n}]],[9,[4,function(e,t){if(1===t)return e.readInt32();for(var n=new Int32Array(t),r=0;r<t;r++)n[r]=e.readInt32();return n}]],[10,[8,function(e,t){if(1===t)return e.readInt32()/e.readInt32();for(var n=new Array(t),r=0;r<t;r++)n[r]=e.readInt32()/e.readInt32();return n}]],[11,[4,function(e,t){if(1===t)return e.readFloat32();for(var n=new Float32Array(t),r=0;r<t;r++)n[r]=e.readFloat32();return n}]],[12,[8,function(e,t){if(1===t)return e.readFloat64();for(var n=new Float64Array(t),r=0;r<t;r++)n[r]=e.readFloat64();return n}]]]);function ra(e,t){if(1===t)return e.readUint8();for(var n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.readUint8();return n}for(var aa=[],ia=0;ia<256;ia++)aa.push([ia]);for(var oa=[0],ua=256;ua<4096;ua++)aa.push(oa);var sa=function(){function e(t){Object(u.a)(this,e),this.stripArray=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);for(var n=new Map,r=0;r<256;r++)n.set(r,[r]);this.currentBit=0,this.tableLength=258,this.currentBitLength=9,this.outData=new Vr(t.byteLength)}return Object(s.a)(e,[{key:"decode",value:function(){for(var e=0,t=0;257!==(e=this.getNextCode());)if(256===e){if(this.initializeTable(),257===(e=this.getNextCode()))break;this.writeString(this.stringFromCode(e)),t=e}else if(this.isInTable(e))this.writeString(this.stringFromCode(e)),this.addStringToTable(this.stringFromCode(t).concat(this.stringFromCode(e)[0])),t=e;else{var n=this.stringFromCode(t).concat(this.stringFromCode(t)[0]);this.writeString(n),this.addStringToTable(n),t=e}var r=this.outData.toArray();return new DataView(r.buffer,r.byteOffset,r.byteLength)}},{key:"initializeTable",value:function(){this.tableLength=258,this.currentBitLength=9}},{key:"writeString",value:function(e){this.outData.writeBytes(e)}},{key:"stringFromCode",value:function(e){return aa[e]}},{key:"isInTable",value:function(e){return e<this.tableLength}},{key:"addStringToTable",value:function(e){aa[this.tableLength++]=e,this.tableLength+1===Math.pow(2,this.currentBitLength)&&this.currentBitLength++}},{key:"getNextCode",value:function(){var e=this.currentBit%8,t=this.currentBit>>>3,n=8-e,r=this.currentBit+this.currentBitLength-8*(t+1),a=8*(t+2)-(this.currentBit+this.currentBitLength),i=8*(t+2)-this.currentBit;a=Math.max(0,a);var o=this.stripArray[t]&Math.pow(2,8-e)-1,u=o<<=this.currentBitLength-n;if(t+1<this.stripArray.length){var s=this.stripArray[t+1]>>>a;u+=s<<=Math.max(0,this.currentBitLength-i)}if(r>8&&t+2<this.stripArray.length){var c=8*(t+3)-(this.currentBit+this.currentBitLength);u+=this.stripArray[t+2]>>>c}return this.currentBit+=this.currentBitLength,u}}]),e}();function ca(e){return new sa(e).decode()}var la=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/,fa=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.call(this,"standard")}return Object(s.a)(n,[{key:"size",get:function(){return this.width*this.height}},{key:"width",get:function(){return this.imageWidth}},{key:"height",get:function(){return this.imageLength}},{key:"components",get:function(){return this.samplesPerPixel}},{key:"date",get:function(){var e=new Date,t=la.exec(this.dateTime);if(null===t)throw new Error("invalid dateTime: ".concat(this.dateTime));return e.setFullYear(Number(t[1]),Number(t[2])-1,Number(t[3])),e.setHours(Number(t[4]),Number(t[5]),Number(t[6])),e}},{key:"newSubfileType",get:function(){return this.get("NewSubfileType")}},{key:"imageWidth",get:function(){return this.get("ImageWidth")}},{key:"imageLength",get:function(){return this.get("ImageLength")}},{key:"bitsPerSample",get:function(){var e=this.get("BitsPerSample");return e&&"number"!==typeof e?e[0]:e}},{key:"alpha",get:function(){var e=this.extraSamples;return!!e&&0!==e[0]}},{key:"associatedAlpha",get:function(){var e=this.extraSamples;return!!e&&1===e[0]}},{key:"extraSamples",get:function(){return da(this.get("ExtraSamples"))}},{key:"compression",get:function(){return this.get("Compression")||1}},{key:"type",get:function(){return this.get("PhotometricInterpretation")}},{key:"fillOrder",get:function(){return this.get("FillOrder")||1}},{key:"documentName",get:function(){return this.get("DocumentName")}},{key:"imageDescription",get:function(){return this.get("ImageDescription")}},{key:"stripOffsets",get:function(){return da(this.get("StripOffsets"))}},{key:"orientation",get:function(){return this.get("Orientation")}},{key:"samplesPerPixel",get:function(){return this.get("SamplesPerPixel")||1}},{key:"rowsPerStrip",get:function(){return this.get("RowsPerStrip")}},{key:"stripByteCounts",get:function(){return da(this.get("StripByteCounts"))}},{key:"minSampleValue",get:function(){return this.get("MinSampleValue")||0}},{key:"maxSampleValue",get:function(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}},{key:"xResolution",get:function(){return this.get("XResolution")}},{key:"yResolution",get:function(){return this.get("YResolution")}},{key:"planarConfiguration",get:function(){return this.get("PlanarConfiguration")||1}},{key:"resolutionUnit",get:function(){return this.get("ResolutionUnit")||2}},{key:"dateTime",get:function(){return this.get("DateTime")}},{key:"predictor",get:function(){return this.get("Predictor")||1}},{key:"sampleFormat",get:function(){return this.get("SampleFormat")||1}},{key:"sMinSampleValue",get:function(){return this.get("SMinSampleValue")||this.minSampleValue}},{key:"sMaxSampleValue",get:function(){return this.get("SMaxSampleValue")||this.maxSampleValue}},{key:"palette",get:function(){var e=Math.pow(2,this.bitsPerSample),t=this.get("ColorMap");if(t){if(t.length!==3*e)throw new Error("ColorMap size must be ".concat(e));for(var n=[],r=0;r<e;r++)n.push([t[r],t[r+e],t[r+2*e]]);return n}}}]),n}(ta);function da(e){return"number"===typeof e?[e]:e}function ha(e){for(var t=e.length;--t>=0;)e[t]=0}var pa=256,va=286,ma=30,ga=15,ba=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ya=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),xa=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),wa=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Oa=new Array(576);ha(Oa);var ka=new Array(60);ha(ka);var ja=new Array(512);ha(ja);var _a=new Array(256);ha(_a);var Sa=new Array(29);ha(Sa);var Ea,Aa,Ca,Na=new Array(ma);function Ta(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function Da(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}ha(Na);var Ia=function(e){return e<256?ja[e]:ja[256+(e>>>7)]},Ma=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Fa=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Ma(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Ra=function(e,t,n){Fa(e,n[2*t],n[2*t+1])},Pa=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},za=function(e,t,n){var r,a,i=new Array(16),o=0;for(r=1;r<=ga;r++)i[r]=o=o+n[r-1]<<1;for(a=0;a<=t;a++){var u=e[2*a+1];0!==u&&(e[2*a]=Pa(i[u]++,u))}},Ba=function(e){var t;for(t=0;t<va;t++)e.dyn_ltree[2*t]=0;for(t=0;t<ma;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},La=function(e){e.bi_valid>8?Ma(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ua=function(e,t,n,r){var a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]},Wa=function(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&Ua(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Ua(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},Va=function(e,t,n){var r,a,i,o,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],a=e.pending_buf[e.l_buf+u],u++,0===r?Ra(e,a,t):(i=_a[a],Ra(e,i+pa+1,t),0!==(o=ba[i])&&(a-=Sa[i],Fa(e,a,o)),r--,i=Ia(r),Ra(e,i,n),0!==(o=ya[i])&&(r-=Na[i],Fa(e,r,o)))}while(u<e.last_lit);Ra(e,256,t)},Ha=function(e,t){var n,r,a,i=t.dyn_tree,o=t.stat_desc.static_tree,u=t.stat_desc.has_stree,s=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<s;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[a]=0,e.opt_len--,u&&(e.static_len-=o[2*a+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)Wa(e,i,n);a=s;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Wa(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*a]=i[2*n]+i[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=a,e.heap[1]=a++,Wa(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,i,o,u,s=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(i=0;i<=ga;i++)e.bl_count[i]=0;for(s[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(i=s[2*s[2*(r=e.heap[n])+1]+1]+1)>p&&(i=p,v++),s[2*r+1]=i,r>c||(e.bl_count[i]++,o=0,r>=h&&(o=d[r-h]),u=s[2*r],e.opt_len+=u*(i+o),f&&(e.static_len+=u*(l[2*r+1]+o)));if(0!==v){do{for(i=p-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(i=p;0!==i;i--)for(r=e.bl_count[i];0!==r;)(a=e.heap[--n])>c||(s[2*a+1]!==i&&(e.opt_len+=(i-s[2*a+1])*s[2*a],s[2*a+1]=i),r--)}}(e,t),za(i,c,e.bl_count)},Ga=function(e,t,n){var r,a,i=-1,o=t[1],u=0,s=7,c=4;for(0===o&&(s=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++u<s&&a===o||(u<c?e.bl_tree[2*a]+=u:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):u<=10?e.bl_tree[34]++:e.bl_tree[36]++,u=0,i=a,0===o?(s=138,c=3):a===o?(s=6,c=3):(s=7,c=4))},qa=function(e,t,n){var r,a,i=-1,o=t[1],u=0,s=7,c=4;for(0===o&&(s=138,c=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++u<s&&a===o)){if(u<c)do{Ra(e,a,e.bl_tree)}while(0!==--u);else 0!==a?(a!==i&&(Ra(e,a,e.bl_tree),u--),Ra(e,16,e.bl_tree),Fa(e,u-3,2)):u<=10?(Ra(e,17,e.bl_tree),Fa(e,u-3,3)):(Ra(e,18,e.bl_tree),Fa(e,u-11,7));u=0,i=a,0===o?(s=138,c=3):a===o?(s=6,c=3):(s=7,c=4)}},Xa=!1,Ya=function(e,t,n,r){Fa(e,0+(r?1:0),3),function(e,t,n,r){La(e),r&&(Ma(e,n),Ma(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)},Ka=function(e,t,n,r){var a,i,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<pa;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Ha(e,e.l_desc),Ha(e,e.d_desc),o=function(e){var t;for(Ga(e,e.dyn_ltree,e.l_desc.max_code),Ga(e,e.dyn_dtree,e.d_desc.max_code),Ha(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*wa[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?Ya(e,t,n,r):4===e.strategy||i===a?(Fa(e,2+(r?1:0),3),Va(e,Oa,ka)):(Fa(e,4+(r?1:0),3),function(e,t,n,r){var a;for(Fa(e,t-257,5),Fa(e,n-1,5),Fa(e,r-4,4),a=0;a<r;a++)Fa(e,e.bl_tree[2*wa[a]+1],3);qa(e,e.dyn_ltree,t-1),qa(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Va(e,e.dyn_ltree,e.dyn_dtree)),Ba(e),r&&La(e)},$a={_tr_init:function(e){Xa||(!function(){var e,t,n,r,a,i=new Array(16);for(n=0,r=0;r<28;r++)for(Sa[r]=n,e=0;e<1<<ba[r];e++)_a[n++]=r;for(_a[n-1]=r,a=0,r=0;r<16;r++)for(Na[r]=a,e=0;e<1<<ya[r];e++)ja[a++]=r;for(a>>=7;r<ma;r++)for(Na[r]=a<<7,e=0;e<1<<ya[r]-7;e++)ja[256+a++]=r;for(t=0;t<=ga;t++)i[t]=0;for(e=0;e<=143;)Oa[2*e+1]=8,e++,i[8]++;for(;e<=255;)Oa[2*e+1]=9,e++,i[9]++;for(;e<=279;)Oa[2*e+1]=7,e++,i[7]++;for(;e<=287;)Oa[2*e+1]=8,e++,i[8]++;for(za(Oa,287,i),e=0;e<ma;e++)ka[2*e+1]=5,ka[2*e]=Pa(e,5);Ea=new Ta(Oa,ba,257,va,ga),Aa=new Ta(ka,ya,0,ma,ga),Ca=new Ta(new Array(0),xa,0,19,7)}(),Xa=!0),e.l_desc=new Da(e.dyn_ltree,Ea),e.d_desc=new Da(e.dyn_dtree,Aa),e.bl_desc=new Da(e.bl_tree,Ca),e.bi_buf=0,e.bi_valid=0,Ba(e)},_tr_stored_block:Ya,_tr_flush_block:Ka,_tr_tally:function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(_a[n]+pa+1)]++,e.dyn_dtree[2*Ia(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){Fa(e,2,3),Ra(e,256,Oa),function(e){16===e.bi_valid?(Ma(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},Za=function(e,t,n,r){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{i=i+(a=a+t[r++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16|0},Ja=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),Qa=function(e,t,n,r){var a=Ja,i=r+n;e^=-1;for(var o=r;o<i;o++)e=e>>>8^a[255&(e^t[o])];return-1^e},ei={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ti={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ni=$a._tr_init,ri=$a._tr_stored_block,ai=$a._tr_flush_block,ii=$a._tr_tally,oi=$a._tr_align,ui=ti.Z_NO_FLUSH,si=ti.Z_PARTIAL_FLUSH,ci=ti.Z_FULL_FLUSH,li=ti.Z_FINISH,fi=ti.Z_BLOCK,di=ti.Z_OK,hi=ti.Z_STREAM_END,pi=ti.Z_STREAM_ERROR,vi=ti.Z_DATA_ERROR,mi=ti.Z_BUF_ERROR,gi=ti.Z_DEFAULT_COMPRESSION,bi=ti.Z_FILTERED,yi=ti.Z_HUFFMAN_ONLY,xi=ti.Z_RLE,wi=ti.Z_FIXED,Oi=ti.Z_DEFAULT_STRATEGY,ki=ti.Z_UNKNOWN,ji=ti.Z_DEFLATED,_i=258,Si=262,Ei=103,Ai=113,Ci=666,Ni=function(e,t){return e.msg=ei[t],t},Ti=function(e){return(e<<1)-(e>4?9:0)},Di=function(e){for(var t=e.length;--t>=0;)e[t]=0},Ii=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},Mi=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Fi=function(e,t){ai(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Mi(e.strm)},Ri=function(e,t){e.pending_buf[e.pending++]=t},Pi=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},zi=function(e,t,n,r){var a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=Za(e.adler,t,a,n):2===e.state.wrap&&(e.adler=Qa(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},Bi=function(e,t){var n,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,u=e.nice_match,s=e.strstart>e.w_size-Si?e.strstart-(e.w_size-Si):0,c=e.window,l=e.w_mask,f=e.prev,d=e.strstart+_i,h=c[i+o-1],p=c[i+o];e.prev_length>=e.good_match&&(a>>=2),u>e.lookahead&&(u=e.lookahead);do{if(c[(n=t)+o]===p&&c[n+o-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<d);if(r=_i-(d-i),i=d-_i,r>o){if(e.match_start=t,o=r,r>=u)break;h=c[i+o-1],p=c[i+o]}}}while((t=f[t&l])>s&&0!==--a);return o<=e.lookahead?o:e.lookahead},Li=function(e){var t,n,r,a,i,o=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-Si)){e.window.set(e.window.subarray(o,o+o),0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=o?r-o:0}while(--n);t=n=o;do{r=e.prev[--t],e.prev[t]=r>=o?r-o:0}while(--n);a+=o}if(0===e.strm.avail_in)break;if(n=zi(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Ii(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Ii(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Si&&0!==e.strm.avail_in)},Ui=function(e,t){for(var n,r;;){if(e.lookahead<Si){if(Li(e),e.lookahead<Si&&t===ui)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ii(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Si&&(e.match_length=Bi(e,n)),e.match_length>=3)if(r=ii(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Ii(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ii(e,e.ins_h,e.window[e.strstart+1]);else r=ii(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Fi(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===li?(Fi(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Fi(e,!1),0===e.strm.avail_out)?1:2},Wi=function(e,t){for(var n,r,a;;){if(e.lookahead<Si){if(Li(e),e.lookahead<Si&&t===ui)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ii(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Si&&(e.match_length=Bi(e,n),e.match_length<=5&&(e.strategy===bi||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=ii(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Ii(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Fi(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=ii(e,0,e.window[e.strstart-1]))&&Fi(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=ii(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===li?(Fi(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Fi(e,!1),0===e.strm.avail_out)?1:2};function Vi(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}var Hi=[new Vi(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Li(e),0===e.lookahead&&t===ui)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Fi(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-Si&&(Fi(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===li?(Fi(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Fi(e,!1),e.strm.avail_out),1)})),new Vi(4,4,8,4,Ui),new Vi(4,5,16,8,Ui),new Vi(4,6,32,32,Ui),new Vi(4,4,16,16,Wi),new Vi(8,16,32,32,Wi),new Vi(8,16,128,128,Wi),new Vi(8,32,128,256,Wi),new Vi(32,128,258,1024,Wi),new Vi(32,258,258,4096,Wi)];function Gi(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ji,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Di(this.dyn_ltree),Di(this.dyn_dtree),Di(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Di(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Di(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var qi=function(e){if(!e||!e.state)return Ni(e,pi);e.total_in=e.total_out=0,e.data_type=ki;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Ai,e.adler=2===t.wrap?0:1,t.last_flush=ui,ni(t),di},Xi=function(e){var t,n=qi(e);return n===di&&((t=e.state).window_size=2*t.w_size,Di(t.head),t.max_lazy_match=Hi[t.level].max_lazy,t.good_match=Hi[t.level].good_length,t.nice_match=Hi[t.level].nice_length,t.max_chain_length=Hi[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},Yi=function(e,t,n,r,a,i){if(!e)return pi;var o=1;if(t===gi&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>9||n!==ji||r<8||r>15||t<0||t>9||i<0||i>wi)return Ni(e,pi);8===r&&(r=9);var u=new Gi;return e.state=u,u.strm=e,u.wrap=o,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new Uint8Array(2*u.w_size),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new Uint8Array(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=i,u.method=n,Xi(e)},Ki=function(e,t){return Yi(e,t,ji,15,8,Oi)},$i={deflateInit:Ki,deflateInit2:Yi,deflateReset:Xi,deflateResetKeep:qi,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?pi:(e.state.gzhead=t,di):pi},deflate:function(e,t){var n,r;if(!e||!e.state||t>fi||t<0)return e?Ni(e,pi):pi;var a=e.state;if(!e.output||!e.input&&0!==e.avail_in||a.status===Ci&&t!==li)return Ni(e,0===e.avail_out?mi:pi);a.strm=e;var i=a.last_flush;if(a.last_flush=t,42===a.status)if(2===a.wrap)e.adler=0,Ri(a,31),Ri(a,139),Ri(a,8),a.gzhead?(Ri(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),Ri(a,255&a.gzhead.time),Ri(a,a.gzhead.time>>8&255),Ri(a,a.gzhead.time>>16&255),Ri(a,a.gzhead.time>>24&255),Ri(a,9===a.level?2:a.strategy>=yi||a.level<2?4:0),Ri(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(Ri(a,255&a.gzhead.extra.length),Ri(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=Qa(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(Ri(a,0),Ri(a,0),Ri(a,0),Ri(a,0),Ri(a,0),Ri(a,9===a.level?2:a.strategy>=yi||a.level<2?4:0),Ri(a,3),a.status=Ai);else{var o=ji+(a.w_bits-8<<4)<<8;o|=(a.strategy>=yi||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(o|=32),o+=31-o%31,a.status=Ai,Pi(a,o),0!==a.strstart&&(Pi(a,e.adler>>>16),Pi(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(n=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>n&&(e.adler=Qa(e.adler,a.pending_buf,a.pending-n,n)),Mi(e),n=a.pending,a.pending!==a.pending_buf_size));)Ri(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>n&&(e.adler=Qa(e.adler,a.pending_buf,a.pending-n,n)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=Qa(e.adler,a.pending_buf,a.pending-n,n)),Mi(e),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,Ri(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>n&&(e.adler=Qa(e.adler,a.pending_buf,a.pending-n,n)),0===r&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=Qa(e.adler,a.pending_buf,a.pending-n,n)),Mi(e),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,Ri(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>n&&(e.adler=Qa(e.adler,a.pending_buf,a.pending-n,n)),0===r&&(a.status=Ei)}else a.status=Ei;if(a.status===Ei&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&Mi(e),a.pending+2<=a.pending_buf_size&&(Ri(a,255&e.adler),Ri(a,e.adler>>8&255),e.adler=0,a.status=Ai)):a.status=Ai),0!==a.pending){if(Mi(e),0===e.avail_out)return a.last_flush=-1,di}else if(0===e.avail_in&&Ti(t)<=Ti(i)&&t!==li)return Ni(e,mi);if(a.status===Ci&&0!==e.avail_in)return Ni(e,mi);if(0!==e.avail_in||0!==a.lookahead||t!==ui&&a.status!==Ci){var u=a.strategy===yi?function(e,t){for(var n;;){if(0===e.lookahead&&(Li(e),0===e.lookahead)){if(t===ui)return 1;break}if(e.match_length=0,n=ii(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Fi(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===li?(Fi(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Fi(e,!1),0===e.strm.avail_out)?1:2}(a,t):a.strategy===xi?function(e,t){for(var n,r,a,i,o=e.window;;){if(e.lookahead<=_i){if(Li(e),e.lookahead<=_i&&t===ui)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=o[a=e.strstart-1])===o[++a]&&r===o[++a]&&r===o[++a]){i=e.strstart+_i;do{}while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<i);e.match_length=_i-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=ii(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ii(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Fi(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===li?(Fi(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Fi(e,!1),0===e.strm.avail_out)?1:2}(a,t):Hi[a.level].func(a,t);if(3!==u&&4!==u||(a.status=Ci),1===u||3===u)return 0===e.avail_out&&(a.last_flush=-1),di;if(2===u&&(t===si?oi(a):t!==fi&&(ri(a,0,0,!1),t===ci&&(Di(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),Mi(e),0===e.avail_out))return a.last_flush=-1,di}return t!==li?di:a.wrap<=0?hi:(2===a.wrap?(Ri(a,255&e.adler),Ri(a,e.adler>>8&255),Ri(a,e.adler>>16&255),Ri(a,e.adler>>24&255),Ri(a,255&e.total_in),Ri(a,e.total_in>>8&255),Ri(a,e.total_in>>16&255),Ri(a,e.total_in>>24&255)):(Pi(a,e.adler>>>16),Pi(a,65535&e.adler)),Mi(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?di:hi)},deflateEnd:function(e){if(!e||!e.state)return pi;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Ei&&t!==Ai&&t!==Ci?Ni(e,pi):(e.state=null,t===Ai?Ni(e,vi):di)},deflateSetDictionary:function(e,t){var n=t.length;if(!e||!e.state)return pi;var r=e.state,a=r.wrap;if(2===a||1===a&&42!==r.status||r.lookahead)return pi;if(1===a&&(e.adler=Za(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(Di(r.head),r.strstart=0,r.block_start=0,r.insert=0);var i=new Uint8Array(r.w_size);i.set(t.subarray(n-r.w_size,n),0),t=i,n=r.w_size}var o=e.avail_in,u=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Li(r);r.lookahead>=3;){var c=r.strstart,l=r.lookahead-2;do{r.ins_h=Ii(r,r.ins_h,r.window[c+3-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++}while(--l);r.strstart=c,r.lookahead=2,Li(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=s,e.avail_in=o,r.wrap=a,di},deflateInfo:"pako deflate (from Nodeca project)"},Zi=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ji=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)Zi(n,r)&&(e[r]=n[r])}}return e},Qi=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var a=new Uint8Array(t),i=0,o=0,u=e.length;i<u;i++){var s=e[i];a.set(s,o),o+=s.length}return a},eo=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(yd){eo=!1}for(var to=new Uint8Array(256),no=0;no<256;no++)to[no]=no>=252?6:no>=248?5:no>=240?4:no>=224?3:no>=192?2:1;to[254]=to[254]=1;var ro=function(e){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,r,a,i,o=e.length,u=0;for(a=0;a<o;a++)55296===(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320===(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(u),i=0,a=0;i<u;a++)55296===(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320===(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},ao=function(e,t){var n,r,a=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var i=new Array(2*a);for(r=0,n=0;n<a;){var o=e[n++];if(o<128)i[r++]=o;else{var u=to[o];if(u>4)i[r++]=65533,n+=u-1;else{for(o&=2===u?31:3===u?15:7;u>1&&n<a;)o=o<<6|63&e[n++],u--;u>1?i[r++]=65533:o<65536?i[r++]=o:(o-=65536,i[r++]=55296|o>>10&1023,i[r++]=56320|1023&o)}}}return function(e,t){if(t<65534&&e.subarray&&eo)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}(i,r)},io=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+to[e[n]]>t?n:t};var oo=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},uo=Object.prototype.toString,so=ti.Z_NO_FLUSH,co=ti.Z_SYNC_FLUSH,lo=ti.Z_FULL_FLUSH,fo=ti.Z_FINISH,ho=ti.Z_OK,po=ti.Z_STREAM_END,vo=ti.Z_DEFAULT_COMPRESSION,mo=ti.Z_DEFAULT_STRATEGY,go=ti.Z_DEFLATED;function bo(e){this.options=Ji({level:vo,method:go,chunkSize:16384,windowBits:15,memLevel:8,strategy:mo},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oo,this.strm.avail_out=0;var n=$i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==ho)throw new Error(ei[n]);if(t.header&&$i.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"===typeof t.dictionary?ro(t.dictionary):"[object ArrayBuffer]"===uo.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=$i.deflateSetDictionary(this.strm,r))!==ho)throw new Error(ei[n]);this._dict_set=!0}}bo.prototype.push=function(e,t){var n,r,a=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?fo:so,"string"===typeof e?a.input=ro(e):"[object ArrayBuffer]"===uo.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(r===co||r===lo)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if((n=$i.deflate(a,r))===po)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),n=$i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===ho;if(0!==a.avail_out){if(r>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},bo.prototype.onData=function(e){this.chunks.push(e)},bo.prototype.onEnd=function(e){e===ho&&(this.result=Qi(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var yo=function(e,t){var n,r,a,i,o,u,s,c,l,f,d,h,p,v,m,g,b,y,x,w,O,k,j,_,S=e.state;n=e.next_in,j=e.input,r=n+(e.avail_in-5),a=e.next_out,_=e.output,i=a-(t-e.avail_out),o=a+(e.avail_out-257),u=S.dmax,s=S.wsize,c=S.whave,l=S.wnext,f=S.window,d=S.hold,h=S.bits,p=S.lencode,v=S.distcode,m=(1<<S.lenbits)-1,g=(1<<S.distbits)-1;e:do{h<15&&(d+=j[n++]<<h,h+=8,d+=j[n++]<<h,h+=8),b=p[d&m];t:for(;;){if(d>>>=y=b>>>24,h-=y,0===(y=b>>>16&255))_[a++]=65535&b;else{if(!(16&y)){if(0===(64&y)){b=p[(65535&b)+(d&(1<<y)-1)];continue t}if(32&y){S.mode=12;break e}e.msg="invalid literal/length code",S.mode=30;break e}x=65535&b,(y&=15)&&(h<y&&(d+=j[n++]<<h,h+=8),x+=d&(1<<y)-1,d>>>=y,h-=y),h<15&&(d+=j[n++]<<h,h+=8,d+=j[n++]<<h,h+=8),b=v[d&g];n:for(;;){if(d>>>=y=b>>>24,h-=y,!(16&(y=b>>>16&255))){if(0===(64&y)){b=v[(65535&b)+(d&(1<<y)-1)];continue n}e.msg="invalid distance code",S.mode=30;break e}if(w=65535&b,h<(y&=15)&&(d+=j[n++]<<h,(h+=8)<y&&(d+=j[n++]<<h,h+=8)),(w+=d&(1<<y)-1)>u){e.msg="invalid distance too far back",S.mode=30;break e}if(d>>>=y,h-=y,w>(y=a-i)){if((y=w-y)>c&&S.sane){e.msg="invalid distance too far back",S.mode=30;break e}if(O=0,k=f,0===l){if(O+=s-y,y<x){x-=y;do{_[a++]=f[O++]}while(--y);O=a-w,k=_}}else if(l<y){if(O+=s+l-y,(y-=l)<x){x-=y;do{_[a++]=f[O++]}while(--y);if(O=0,l<x){x-=y=l;do{_[a++]=f[O++]}while(--y);O=a-w,k=_}}}else if(O+=l-y,y<x){x-=y;do{_[a++]=f[O++]}while(--y);O=a-w,k=_}for(;x>2;)_[a++]=k[O++],_[a++]=k[O++],_[a++]=k[O++],x-=3;x&&(_[a++]=k[O++],x>1&&(_[a++]=k[O++]))}else{O=a-w;do{_[a++]=_[O++],_[a++]=_[O++],_[a++]=_[O++],x-=3}while(x>2);x&&(_[a++]=_[O++],x>1&&(_[a++]=_[O++]))}break}}break}}while(n<r&&a<o);n-=x=h>>3,d&=(1<<(h-=x<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<o?o-a+257:257-(a-o),S.hold=d,S.bits=h},xo=15,wo=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Oo=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ko=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jo=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_o=function(e,t,n,r,a,i,o,u){var s,c,l,f,d,h,p,v,m,g=u.bits,b=0,y=0,x=0,w=0,O=0,k=0,j=0,_=0,S=0,E=0,A=null,C=0,N=new Uint16Array(16),T=new Uint16Array(16),D=null,I=0;for(b=0;b<=xo;b++)N[b]=0;for(y=0;y<r;y++)N[t[n+y]]++;for(O=g,w=xo;w>=1&&0===N[w];w--);if(O>w&&(O=w),0===w)return a[i++]=20971520,a[i++]=20971520,u.bits=1,0;for(x=1;x<w&&0===N[x];x++);for(O<x&&(O=x),_=1,b=1;b<=xo;b++)if(_<<=1,(_-=N[b])<0)return-1;if(_>0&&(0===e||1!==w))return-1;for(T[1]=0,b=1;b<xo;b++)T[b+1]=T[b]+N[b];for(y=0;y<r;y++)0!==t[n+y]&&(o[T[t[n+y]]++]=y);if(0===e?(A=D=o,h=19):1===e?(A=wo,C-=257,D=Oo,I-=257,h=256):(A=ko,D=jo,h=-1),E=0,y=0,b=x,d=i,k=O,j=0,l=-1,f=(S=1<<O)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){p=b-j,o[y]<h?(v=0,m=o[y]):o[y]>h?(v=D[I+o[y]],m=A[C+o[y]]):(v=96,m=0),s=1<<b-j,x=c=1<<k;do{a[d+(E>>j)+(c-=s)]=p<<24|v<<16|m|0}while(0!==c);for(s=1<<b-1;E&s;)s>>=1;if(0!==s?(E&=s-1,E+=s):E=0,y++,0===--N[b]){if(b===w)break;b=t[n+o[y]]}if(b>O&&(E&f)!==l){for(0===j&&(j=O),d+=x,_=1<<(k=b-j);k+j<w&&!((_-=N[k+j])<=0);)k++,_<<=1;if(S+=1<<k,1===e&&S>852||2===e&&S>592)return 1;a[l=E&f]=O<<24|k<<16|d-i|0}}return 0!==E&&(a[d+E]=b-j<<24|64<<16|0),u.bits=O,0},So=ti.Z_FINISH,Eo=ti.Z_BLOCK,Ao=ti.Z_TREES,Co=ti.Z_OK,No=ti.Z_STREAM_END,To=ti.Z_NEED_DICT,Do=ti.Z_STREAM_ERROR,Io=ti.Z_DATA_ERROR,Mo=ti.Z_MEM_ERROR,Fo=ti.Z_BUF_ERROR,Ro=ti.Z_DEFLATED,Po=12,zo=30,Bo=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function Lo(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Uo,Wo,Vo=function(e){if(!e||!e.state)return Do;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Co},Ho=function(e){if(!e||!e.state)return Do;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Vo(e)},Go=function(e,t){var n;if(!e||!e.state)return Do;var r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Do:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Ho(e))},qo=function(e,t){if(!e)return Do;var n=new Lo;e.state=n,n.window=null;var r=Go(e,t);return r!==Co&&(e.state=null),r},Xo=!0,Yo=function(e){if(Xo){Uo=new Int32Array(512),Wo=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(_o(1,e.lens,0,288,Uo,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;_o(2,e.lens,0,32,Wo,0,e.work,{bits:5}),Xo=!1}e.lencode=Uo,e.lenbits=9,e.distcode=Wo,e.distbits=5},Ko=function(e,t,n,r){var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):((a=i.wsize-i.wnext)>r&&(a=r),i.window.set(t.subarray(n-r,n-r+a),i.wnext),(r-=a)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},$o={inflateReset:Ho,inflateReset2:Go,inflateResetKeep:Vo,inflateInit:function(e){return qo(e,15)},inflateInit2:qo,inflate:function(e,t){var n,r,a,i,o,u,s,c,l,f,d,h,p,v,m,g,b,y,x,w,O,k,j,_,S=0,E=new Uint8Array(4),A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Do;(n=e.state).mode===Po&&(n.mode=13),o=e.next_out,a=e.output,s=e.avail_out,i=e.next_in,r=e.input,u=e.avail_in,c=n.hold,l=n.bits,f=u,d=s,k=Co;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,E[0]=255&c,E[1]=c>>>8&255,n.check=Qa(n.check,E,2,0),c=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=zo;break}if((15&c)!==Ro){e.msg="unknown compression method",n.mode=zo;break}if(l-=4,O=8+(15&(c>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg="invalid window size",n.mode=zo;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:Po,c=0,l=0;break;case 2:for(;l<16;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==Ro){e.msg="unknown compression method",n.mode=zo;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=zo;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=Qa(n.check,E,2,0)),c=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,n.check=Qa(n.check,E,4,0)),c=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=Qa(n.check,E,2,0)),c=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=Qa(n.check,E,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((h=n.length)>u&&(h=u),h&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+h),O)),512&n.flags&&(n.check=Qa(n.check,r,h,i)),u-=h,i+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===u)break e;h=0;do{O=r[i+h++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O))}while(O&&h<u);if(512&n.flags&&(n.check=Qa(n.check,r,h,i)),u-=h,i+=h,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===u)break e;h=0;do{O=r[i+h++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O))}while(O&&h<u);if(512&n.flags&&(n.check=Qa(n.check,r,h,i)),u-=h,i+=h,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=zo;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Po;break;case 10:for(;l<32;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}e.adler=n.check=Bo(c),c=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=o,e.avail_out=s,e.next_in=i,e.avail_in=u,n.hold=c,n.bits=l,To;e.adler=n.check=1,n.mode=Po;case Po:if(t===Eo||t===Ao)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}switch(n.last=1&c,l-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(Yo(n),n.mode=20,t===Ao){c>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=zo}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=zo;break}if(n.length=65535&c,c=0,l=0,n.mode=15,t===Ao)break e;case 15:n.mode=16;case 16:if(h=n.length){if(h>u&&(h=u),h>s&&(h=s),0===h)break e;a.set(r.subarray(i,i+h),o),u-=h,i+=h,s-=h,o+=h,n.length-=h;break}n.mode=Po;break;case 17:for(;l<14;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=zo;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}n.lens[A[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},k=_o(0,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,k){e.msg="invalid code lengths set",n.mode=zo;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;g=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&S,!((m=S>>>24)<=l);){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(b<16)c>>>=m,l-=m,n.lens[n.have++]=b;else{if(16===b){for(_=m+2;l<_;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(c>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=zo;break}O=n.lens[n.have-1],h=3+(3&c),c>>>=2,l-=2}else if(17===b){for(_=m+3;l<_;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}l-=m,O=0,h=3+(7&(c>>>=m)),c>>>=3,l-=3}else{for(_=m+7;l<_;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}l-=m,O=0,h=11+(127&(c>>>=m)),c>>>=7,l-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=zo;break}for(;h--;)n.lens[n.have++]=O}}if(n.mode===zo)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=zo;break}if(n.lenbits=9,j={bits:n.lenbits},k=_o(1,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,k){e.msg="invalid literal/lengths set",n.mode=zo;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},k=_o(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,k){e.msg="invalid distances set",n.mode=zo;break}if(n.mode=20,t===Ao)break e;case 20:n.mode=21;case 21:if(u>=6&&s>=258){e.next_out=o,e.avail_out=s,e.next_in=i,e.avail_in=u,n.hold=c,n.bits=l,yo(e,d),o=e.next_out,a=e.output,s=e.avail_out,i=e.next_in,r=e.input,u=e.avail_in,c=n.hold,l=n.bits,n.mode===Po&&(n.back=-1);break}for(n.back=0;g=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&S,!((m=S>>>24)<=l);){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(g&&0===(240&g)){for(y=m,x=g,w=b;g=(S=n.lencode[w+((c&(1<<y+x)-1)>>y)])>>>16&255,b=65535&S,!(y+(m=S>>>24)<=l);){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}c>>>=y,l-=y,n.back+=y}if(c>>>=m,l-=m,n.back+=m,n.length=b,0===g){n.mode=26;break}if(32&g){n.back=-1,n.mode=Po;break}if(64&g){e.msg="invalid literal/length code",n.mode=zo;break}n.extra=15&g,n.mode=22;case 22:if(n.extra){for(_=n.extra;l<_;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;g=(S=n.distcode[c&(1<<n.distbits)-1])>>>16&255,b=65535&S,!((m=S>>>24)<=l);){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(0===(240&g)){for(y=m,x=g,w=b;g=(S=n.distcode[w+((c&(1<<y+x)-1)>>y)])>>>16&255,b=65535&S,!(y+(m=S>>>24)<=l);){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}c>>>=y,l-=y,n.back+=y}if(c>>>=m,l-=m,n.back+=m,64&g){e.msg="invalid distance code",n.mode=zo;break}n.offset=b,n.extra=15&g,n.mode=24;case 24:if(n.extra){for(_=n.extra;l<_;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=zo;break}n.mode=25;case 25:if(0===s)break e;if(h=d-s,n.offset>h){if((h=n.offset-h)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=zo;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),v=n.window}else v=a,p=o-n.offset,h=n.length;h>s&&(h=s),s-=h,n.length-=h;do{a[o++]=v[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===s)break e;a[o++]=n.length,s--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===u)break e;u--,c|=r[i++]<<l,l+=8}if(d-=s,e.total_out+=d,n.total+=d,d&&(e.adler=n.check=n.flags?Qa(n.check,a,d,o-d):Za(n.check,a,d,o-d)),d=s,(n.flags?c:Bo(c))!==n.check){e.msg="incorrect data check",n.mode=zo;break}c=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===u)break e;u--,c+=r[i++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=zo;break}c=0,l=0}n.mode=29;case 29:k=No;break e;case zo:k=Io;break e;case 31:return Mo;default:return Do}return e.next_out=o,e.avail_out=s,e.next_in=i,e.avail_in=u,n.hold=c,n.bits=l,(n.wsize||d!==e.avail_out&&n.mode<zo&&(n.mode<27||t!==So))&&Ko(e,e.output,e.next_out,d-e.avail_out),f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?Qa(n.check,a,d,e.next_out-d):Za(n.check,a,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Po?128:0)+(20===n.mode||15===n.mode?256:0),(0===f&&0===d||t===So)&&k===Co&&(k=Fo),k},inflateEnd:function(e){if(!e||!e.state)return Do;var t=e.state;return t.window&&(t.window=null),e.state=null,Co},inflateGetHeader:function(e,t){if(!e||!e.state)return Do;var n=e.state;return 0===(2&n.wrap)?Do:(n.head=t,t.done=!1,Co)},inflateSetDictionary:function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?Do:11===n.mode&&Za(1,t,r,0)!==n.check?Io:Ko(e,t,r,r)?(n.mode=31,Mo):(n.havedict=1,Co):Do},inflateInfo:"pako inflate (from Nodeca project)"};var Zo=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Jo=Object.prototype.toString,Qo=ti.Z_NO_FLUSH,eu=ti.Z_FINISH,tu=ti.Z_OK,nu=ti.Z_STREAM_END,ru=ti.Z_NEED_DICT,au=ti.Z_STREAM_ERROR,iu=ti.Z_DATA_ERROR,ou=ti.Z_MEM_ERROR;function uu(e){this.options=Ji({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oo,this.strm.avail_out=0;var n=$o.inflateInit2(this.strm,t.windowBits);if(n!==tu)throw new Error(ei[n]);if(this.header=new Zo,$o.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=ro(t.dictionary):"[object ArrayBuffer]"===Jo.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=$o.inflateSetDictionary(this.strm,t.dictionary))!==tu))throw new Error(ei[n])}function su(e,t){var n=new uu(t);if(n.push(e),n.err)throw n.msg||ei[n.err];return n.result}uu.prototype.push=function(e,t){var n,r,a,i=this.strm,o=this.options.chunkSize,u=this.options.dictionary;if(this.ended)return!1;for(r=t===~~t?t:!0===t?eu:Qo,"[object ArrayBuffer]"===Jo.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(n=$o.inflate(i,r))===ru&&u&&((n=$o.inflateSetDictionary(i,u))===tu?n=$o.inflate(i,r):n===iu&&(n=ru));i.avail_in>0&&n===nu&&i.state.wrap>0&&0!==e[i.next_in];)$o.inflateReset(i),n=$o.inflate(i,r);switch(n){case au:case iu:case ru:case ou:return this.onEnd(n),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||n===nu))if("string"===this.options.to){var s=io(i.output,i.next_out),c=i.next_out-s,l=ao(i.output,s);i.next_out=c,i.avail_out=o-c,c&&i.output.set(i.output.subarray(s,s+c),0),this.onData(l)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(n!==tu||0!==a){if(n===nu)return n=$o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},uu.prototype.onData=function(e){this.chunks.push(e)},uu.prototype.onEnd=function(e){e===tu&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Qi(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var cu={Inflate:uu,inflate:su,inflateRaw:function(e,t){return(t=t||{}).raw=!0,su(e,t)},ungzip:su,constants:ti},lu=cu.inflate;function fu(e){var t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=lu(t);return new DataView(n.buffer,n.byteOffset,n.byteLength)}var du={ignoreImageData:!1,onlyFirst:!1},hu=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e))._nextIFD=0,r}return Object(s.a)(n,[{key:"isMultiPage",get:function(){var e=0;for(this.decodeHeader();this._nextIFD;)if(e++,this.decodeIFD({ignoreImageData:!0},!0),2===e)return!0;if(1===e)return!1;throw pu("ifdCount",e)}},{key:"pageCount",get:function(){var e=0;for(this.decodeHeader();this._nextIFD;)e++,this.decodeIFD({ignoreImageData:!0},!0);if(e>0)return e;throw pu("ifdCount",e)}},{key:"decode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({},du,e);var t=[];for(this.decodeHeader();this._nextIFD;)if(t.push(this.decodeIFD(e,!0)),e.onlyFirst)return[t[0]];return t}},{key:"decodeHeader",value:function(){var e=this.readUint16();if(18761===e)this.setLittleEndian();else{if(19789!==e)throw new Error("invalid byte order: 0x".concat(e.toString(16)));this.setBigEndian()}if(42!==this.readUint16())throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}},{key:"decodeIFD",value:function(e,t){var n;if(this.seek(this._nextIFD),t)n=new fa;else{if(!e.kind)throw new Error("kind is missing");n=new ta(e.kind)}for(var r=this.readUint16(),a=0;a<r;a++)this.decodeIFDEntry(n);if(!e.ignoreImageData){if(!(n instanceof fa))throw new Error("must be a tiff ifd");this.decodeImageData(n)}return this._nextIFD=this.readUint32(),n}},{key:"decodeIFDEntry",value:function(e){var t=this.offset,n=this.readUint16(),r=this.readUint16(),a=this.readUint32();if(r<1||r>12)this.skip(4);else{var i=function(e,t){var n=na.get(e);if(!n)throw new Error("type not found: ".concat(e));return n[0]*t}(r,a);i>4&&this.seek(this.readUint32());var o=function(e,t,n){var r=na.get(t);if(!r)throw new Error("type not found: ".concat(t));return r[1](e,n)}(this,r,a);if(e.fields.set(n,o),34665===n||34853===n){var u=this.offset,s="exif";34665===n?s="exif":34853===n&&(s="gps"),this._nextIFD=o,e[s]=this.decodeIFD({kind:s,ignoreImageData:!0},!1),this.offset=u}this.seek(t),this.skip(12)}}},{key:"decodeImageData",value:function(e){var t=e.orientation;if(t&&1!==t)throw pu("orientation",t);switch(e.type){case 0:case 1:case 2:case 3:this.readStripData(e);break;default:throw pu("image type",e.type)}if(this.applyPredictor(e),this.convertAlpha(e),0===e.type)for(var n=e.bitsPerSample,r=Math.pow(2,n)-1,a=0;a<e.data.length;a++)e.data[a]=r-e.data[a]}},{key:"readStripData",value:function(e){for(var t=e.width,n=e.height,r=e.bitsPerSample,a=e.sampleFormat,i=t*n*e.samplesPerPixel,o=function(e,t,n){if(8===t)return new Uint8Array(e);if(16===t)return new Uint16Array(e);if(32===t&&3===n)return new Float32Array(e);throw pu("bit depth / sample format","".concat(t," / ").concat(n))}(i,r,a),u=e.rowsPerStrip*t*e.samplesPerPixel,s=e.stripOffsets,c=e.stripByteCounts,l=i,f=0,d=0;d<s.length;d++){var h=new DataView(this.buffer,s[d],c[d]),p=l>u?u:l;l-=p;var v=h;switch(e.compression){case 1:break;case 5:v=ca(h);break;case 8:v=fu(h);break;case 2:throw pu("Compression","CCITT Group 3");case 32773:throw pu("Compression","PackBits");default:throw pu("Compression",e.compression)}f=this.fillUncompressed(r,a,o,v,f,p)}e.data=o}},{key:"fillUncompressed",value:function(e,t,n,r,a,i){if(8===e)return function(e,t,n,r){for(var a=0;a<r;a++)e[n++]=t.getUint8(a);return n}(n,r,a,i);if(16===e)return function(e,t,n,r,a){for(var i=0;i<2*r;i+=2)e[n++]=t.getUint16(i,a);return n}(n,r,a,i,this.isLittleEndian());if(32===e&&3===t)return function(e,t,n,r,a){for(var i=0;i<4*r;i+=4)e[n++]=t.getFloat32(i,a);return n}(n,r,a,i,this.isLittleEndian());throw pu("bitDepth",e)}},{key:"applyPredictor",value:function(e){var t=e.bitsPerSample;switch(e.predictor){case 1:break;case 2:if(8===t)!function(e,t,n){for(var r=0;r<e.length;){for(var a=n;a<t*n;a+=n)for(var i=0;i<n;i++)e[r+a+i]=e[r+a+i]+e[r+a-(n-i)]&255;r+=t*n}}(e.data,e.width,e.components);else{if(16!==t)throw new Error("Horizontal differencing is only supported for images with a bit depth of ".concat(t));!function(e,t,n){for(var r=0;r<e.length;){for(var a=n;a<t*n;a+=n)for(var i=0;i<n;i++)e[r+a+i]=e[r+a+i]+e[r+a-(n-i)]&65535;r+=t*n}}(e.data,e.width,e.components)}break;default:throw new Error("invalid predictor: ".concat(e.predictor))}}},{key:"convertAlpha",value:function(e){if(e.alpha&&e.associatedAlpha)for(var t=e.data,n=e.components,r=e.maxSampleValue,a=0;a<t.length;a+=n)for(var i=t[a+n-1],o=0;o<n-1;o++)t[a+o]=Math.round(t[a+o]*r/i)}}]),n}(Vr);function pu(e,t){return new Error("Unsupported ".concat(e,": ").concat(t))}var vu=n(200),mu=n(183);function gu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.algorithm,n=void 0===t?"matchToPrevious":t,r=e.ignoreBorder,a=void 0===r?[0,0]:r;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});var i="matchToPrevious"===n,o=this[0],u=[];u[0]={position:[0,0],image:this[0]};for(var s=[0,0],c=1;c<this.length;c++){var l=o.getBestMatch(this[c],{border:a});u[c]={position:[l[0]+s[0],l[1]+s[1]],image:this[c]},i&&(s[0]+=l[0],s[1]+=l[1],o=this[c])}for(var f=0,d=0,h=0,p=0,v=0;v<u.length;v++){var m=u[v];m.position[0]>f&&(f=m.position[0]),m.position[0]<d&&(d=m.position[0]),m.position[1]>h&&(h=m.position[1]),m.position[1]<p&&(p=m.position[1])}d=0-d,p=0-p;for(var g=0;g<u.length;g++){var b=u[g];b.crop=b.image.crop({x:f-b.position[0],y:h-b.position[1],width:o.width-d-f,height:o.height-p-h})}for(var y=[],x=0;x<u.length;x++)y[x]=u[x].crop;return new Nu(y)}function bu(){this.checkProcessable("min",{bitDepth:[8,16]});for(var e=this[0].min,t=1;t<this.length;t++)for(var n=0;n<e.length;n++)e[n]=Math.min(e[n],this[t].min[n]);return e}function yu(){this.checkProcessable("min",{bitDepth:[8,16]});for(var e=this[0].max,t=1;t<this.length;t++)for(var n=0;n<e.length;n++)e[n]=Math.max(e[n],this[t].max[n]);return e}function xu(e){var t=e.reduce((function(e,t){return e+t}));if(0===t)throw new Error("unreachable");for(var n,r=0,a=0,i=t/2;;){if(e[r]>0){if(void 0!==n)return(n+r)/2;if((a+=e[r])>i)return r;a===i&&(n=r)}r++}}function wu(e){for(var t=0,n=0,r=0;r<e.length;r++)t+=e[r],n+=e[r]*r;return 0===t?0:n/t}function Ou(){this.checkProcessable("median",{bitDepth:[8,16]});for(var e=this.getHistograms({maxSlots:this[0].maxValue+1}),t=new Array(e.length),n=0;n<e.length;n++){var r=e[n];t[n]=xu(r)}return t}function ku(e){this.checkProcessable("min",{bitDepth:[8,16]});for(var t=this[0].getHistogram(e),n=1;n<this.length;n++)for(var r=this[n].getHistogram(e),a=0;a<t.length;a++)t[a]+=r[a];return t}function ju(e){this.checkProcessable("min",{bitDepth:[8,16]});for(var t=this[0].getHistograms(e),n=t[0].length,r=1;r<this.length;r++)for(var a=this[r].getHistograms(e),i=0;i<t.length;i++)for(var o=0;o<n;o++)t[i][o]+=a[i][o];return t}function _u(){this.checkProcessable("averageImage",{bitDepth:[8,16]});for(var e=new Uint32Array(this[0].data.length),t=0;t<this.length;t++)for(var n=this[t],r=0;r<this[0].data.length;r++)e[r]+=n.data[r];for(var a=fd.createFrom(this[0]),i=a.data,o=0;o<this[0].data.length;o++)i[o]=e[o]/this.length;return a}function Su(){this.checkProcessable("max",{bitDepth:[8,16]});var e=fd.createFrom(this[0]);e.data.fill(0);var t,n=Object(Hr.a)(this);try{for(n.s();!(t=n.n()).done;)for(var r=t.value,a=0;a<e.data.length;a++)e.data[a]=Math.max(r.data[a],e.data[a])}catch(We){n.e(We)}finally{n.f()}return e}function Eu(){this.checkProcessable("max",{bitDepth:[8,16]});var e=fd.createFrom(this[0]);e.data.fill(e.maxValue);var t,n=Object(Hr.a)(this);try{for(n.s();!(t=n.n()).done;)for(var r=t.value,a=0;a<e.data.length;a++)e.data[a]=Math.min(r.data[a],e.data[a])}catch(We){n.e(We)}finally{n.f()}return e}var Au,Cu={configurable:!0,enumerable:!1,get:void 0},Nu=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(e){var r;if(Object(u.a)(this,n),Array.isArray(e)){r=t.call(this,e.length);for(var a=0;a<e.length;a++)r[a]=e[a]}else r="number"===typeof e?t.call(this,e):t.call(this);return r.computed=null,Object(vu.a)(r)}return Object(s.a)(n,[{key:"checkProcessable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(0===this.size)throw new TypeError("The process: ".concat(e," can not be applied on an empty stack"));this[0].checkProcessable(e,t);for(var n=1;n<this.length;n++){if((void 0===t.sameSize||t.sameSize)&&this[0].width!==this[n].width)throw new TypeError("The process: ".concat(e," can not be applied if width is not identical in all images"));if((void 0===t.sameSize||t.sameSize)&&this[0].height!==this[n].height)throw new TypeError("The process: ".concat(e," can not be applied if height is not identical in all images"));if((void 0===t.sameAlpha||t.sameAlpha)&&this[0].alpha!==this[n].alpha)throw new TypeError("The process: ".concat(e," can not be applied if alpha is not identical in all images"));if((void 0===t.sameBitDepth||t.sameBitDepth)&&this[0].bitDepth!==this[n].bitDepth)throw new TypeError("The process: ".concat(e," can not be applied if bitDepth is not identical in all images"));if((void 0===t.sameColorModel||t.sameColorModel)&&this[0].colorModel!==this[n].colorModel)throw new TypeError("The process: ".concat(e," can not be applied if colorModel is not identical in all images"));if((void 0===t.sameNumberChannels||t.sameNumberChannels)&&this[0].channels!==this[n].channels)throw new TypeError("The process: ".concat(e," can not be applied if channels is not identical in all images"))}}}],[{key:"load",value:function(e){return Promise.all(e.map(fd.load)).then((function(e){return new n(e)}))}},{key:"extendMethod",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.inPlace,i=void 0!==a&&a,o=r.returnThis,u=void 0===o||o,s=r.partialArgs,c=void 0===s?[]:s;return n.prototype[e]=i?function(){this.computed=null;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=t.apply(this,[].concat(Object(hr.a)(c),n));return u?this:a}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,[].concat(Object(hr.a)(c),n))},n}},{key:"extendProperty",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.partialArgs,i=void 0===a?[]:a;return Cu.get=function(){if(null===this.computed)this.computed={};else if(vr()(e,this.computed))return this.computed[e];var n=t.apply(this,i);return this.computed[e]=n,n},Object.defineProperty(n.prototype,e,Cu),n}}]),n}(Object(mu.a)(Array));Array[Symbol.species]||(Nu.prototype.map=function(e,t){if("function"!==typeof e)throw new TypeError("".concat(e," is not a function"));for(var n=new Nu(this.length),r=0;r<this.length;r++)n[r]=e.call(t,this[r],r,this);return n}),(Au=Nu).extendMethod("matchAndCrop",gu),Au.extendMethod("getMin",bu),Au.extendMethod("getMax",yu),Au.extendMethod("getMedian",Ou),Au.extendMethod("getHistogram",ku),Au.extendMethod("getHistograms",ju),Au.extendMethod("getAverage",_u),Au.extendMethod("getAverageImage",_u),Au.extendMethod("getMaxImage",Su),Au.extendMethod("getMinImage",Eu);var Tu=/^data:[a-z]+\/(?:[a-z]+);base64,/;function Du(e,t){var n=Br()(e);if(n)switch(n.mime){case"image/png":return function(e){var t,n=function(e,t){return new Ln(e,t).decode()}(e),r=n.channels,a=0;2===r||4===r?(t=r-1,a=1):t=r;if(n.palette)return function(e){for(var t=e.width*e.height,n=e.palette[0].length,r=new Uint8Array(t*n),a=8/e.depth,i=e.depth<8?a:1,o=parseInt("1".repeat(e.depth),2),u=4===n,s=0,c=0;c<t;c++){var l=Math.floor(c/i),f=e.data[l];e.depth<8&&(f=f>>>e.depth*(a-1-c%a)&o);var d=e.palette[f];r[s++]=d[0],r[s++]=d[1],r[s++]=d[2],u&&(r[s++]=d[3])}return new fd(e.width,e.height,r,{components:3,alpha:u,bitDepth:8})}(n);return new fd(n.width,n.height,n.data,{components:t,alpha:a,bitDepth:n.depth})}(e);case"image/jpeg":return function(e){var t,n=Object(Pr.decode)(e);n.exif&&(t=Iu(n.exif));var r=Object(Qn.decode)(e,{useTArray:!0,maxMemoryUsageInMB:1024});return new fd(r.width,r.height,r.data,{meta:t})}(e);case"image/tiff":return function(e){var t=function(e,t){return new hu(e).decode(t)}(e);return 1===t.length?Mu(t[0]):new Nu(t.map(Mu))}(e);default:return Fu(r(n.mime))}return Fu(r("application/octet-stream"));function r(n){return t||rr(e,n)}}function Iu(e){var t={tiff:{fields:e.fields,tags:e.map}};return e.exif&&(t.exif=e.exif),e.gps&&(t.gps=e.gps),t}function Mu(e){if(3===e.type){for(var t=new Uint16Array(3*e.width*e.height),n=e.palette,r=0,a=0;a<e.data.length;a++){var i=n[e.data[a]];t[r++]=i[0],t[r++]=i[1],t[r++]=i[2]}return new fd(e.width,e.height,t,{components:3,alpha:e.alpha,colorModel:br,bitDepth:16,meta:Iu(e)})}return new fd(e.width,e.height,e.data,{components:2===e.type?3:1,alpha:e.alpha,colorModel:2===e.type?br:gr,bitDepth:e.bitsPerSample.length?e.bitsPerSample[0]:e.bitsPerSample,meta:Iu(e)})}function Fu(e,t){return t=t||{},new Promise((function(n,r){var a=new ir;a.onload=function(){var e=a.width,r=a.height,i=or(e,r).getContext("2d");i.drawImage(a,0,0,e,r);var o=i.getImageData(0,0,e,r).data;n(new fd(e,r,o,t))},a.onerror=function(){r(new Error("Could not load ".concat(e)))},a.src=e}))}var Ru={getValueXY:function(e,t,n){return this.data[(t*this.width+e)*this.channels+n]},setValueXY:function(e,t,n,r){return this.data[(t*this.width+e)*this.channels+n]=r,this.computed=null,this},getValue:function(e,t){return this.data[e*this.channels+t]},setValue:function(e,t,n){return this.data[e*this.channels+t]=n,this.computed=null,this},getPixelXY:function(e,t){return this.getPixel(t*this.width+e)},setPixelXY:function(e,t,n){return this.setPixel(t*this.width+e,n)},getPixel:function(e){for(var t=new Array(this.channels),n=e*this.channels,r=0;r<this.channels;r++)t[r]=this.data[n+r];return t},setPixel:function(e,t){for(var n=e*this.channels,r=0;r<t.length;r++)this.data[n+r]=t[r];return this.computed=null,this}};function Pu(e){return{width:e.width,height:e.height,components:e.components,alpha:e.alpha,colorModel:e.colorModel,bitDepth:e.bitDepth}}function zu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=t.out;if(void 0===a)return r.copy?e.clone():fd.createFrom(e,n);if(!fd.isImage(a))throw new TypeError("out must be an Image object");var i=Object.assign(Pu(e),n);for(var o in i)if(a[o]!==i[o])throw new RangeError("cannot use out. Its ".concat(o,' must be "').concat(i[o],'" (found "').concat(a[o],'")'));return a}function Bu(e,t,n){if(void 0!==t.inPlace&&"boolean"!==typeof t.inPlace)throw new TypeError("inPlace option must be a boolean");if(t.inPlace){if(void 0!==t.out)throw new TypeError("out option must not be set if inPlace option is true");return e}return zu(e,t,null,n)}function Lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.checkProcessable("abs",{bitDepth:[32]});var t=Bu(this,e);return Uu(this,t),t}function Uu(e,t){for(var n=0;n<e.data.length;n++)t.data[n]=Math.abs(e.data[n])}function Wu(e,t){if(1===e.alpha&&1===t.alpha)for(var n=0;n<e.size;n++)t.data[n*t.channels+t.components]=e.data[n*e.channels+e.components]}function Vu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.checkProcessable("invert",{bitDepth:[1,8,16]});var t=Bu(this,e);return 1===this.bitDepth?Hu(this,t):(Gu(this,t),this!==t&&Wu(this,t)),t}function Hu(e,t){for(var n=0;n<e.data.length;n++)t.data[n]=~e.data[n]}function Gu(e,t){for(var n=0;n<e.data.length;n+=e.channels)for(var r=0;r<e.components;r++)t.data[n+r]=e.maxValue-e.data[n+r]}function qu(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(var e=0;e<this.height;e++)for(var t=e*this.width*this.channels,n=0;n<Math.floor(this.width/2);n++)for(var r=n*this.channels+t,a=(this.width-n-1)*this.channels+t,i=0;i<this.channels;i++){var o=this.data[r+i];this.data[r+i]=this.data[a+i],this.data[a+i]=o}return this}function Xu(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(var e=0;e<Math.floor(this.height/2);e++)for(var t=0;t<this.width;t++)for(var n=t*this.channels+e*this.width*this.channels,r=t*this.channels+(this.height-1-e)*this.channels*this.width,a=0;a<this.channels;a++){var i=this.data[n+a];this.data[n+a]=this.data[r+a],this.data[r+a]=i}return this}function Yu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=void 0===t?1:t;if(n<1)throw new Error("radius must be greater than 1");for(var r=2*n+1,a=new Array(r),i=0;i<r;i++){a[i]=new Array(r);for(var o=0;o<r;o++)a[i][o]=1/(r*r)}return this.convolution(a)}var Ku=n(375),$u=n.n(Ku);function Zu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channels,r=t.allowAlpha,a=t.defaultAlpha;return"boolean"!==typeof r&&(r=!0),"undefined"===typeof n?Ju(e,a):Qu(e,n,r)}function Ju(e,t){for(var n=t?e.channels:e.components,r=new Array(n),a=0;a<n;a++)r[a]=a;return r}function Qu(e,t,n){Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++)t[r]=es(e,t[r],n);return t}function es(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new RangeError("validateChannel : the channel has to be >=0 and <".concat(e.channels));if("string"===typeof t){switch(e.colorModel){case gr:break;case br:if("rgb".includes(t))switch(t){case"r":t=0;break;case"g":t=1;break;case"b":t=2}break;case yr:if("hsl".includes(t))switch(t){case"h":t=0;break;case"s":t=1;break;case"l":t=2}break;case xr:if("hsv".includes(t))switch(t){case"h":t=0;break;case"s":t=1;break;case"v":t=2}break;case wr:if("cmyk".includes(t))switch(t){case"c":t=0;break;case"m":t=1;break;case"y":t=2;break;case"k":t=3}break;default:throw new Error("Unexpected color model: ".concat(e.colorModel))}if("a"===t){if(!e.alpha)throw new Error("validateChannel : the image does not contain alpha channel");t=e.components}if("string"===typeof t)throw new Error("validateChannel : undefined channel: ".concat(t))}if(t>=e.channels)throw new RangeError("validateChannel : the channel has to be >=0 and <".concat(e.channels));if(!n&&t>=e.components)throw new RangeError("validateChannel : alpha channel may not be selected");return t}function ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=void 0===t?1:t,r=e.border,a=void 0===r?"copy":r,i=e.channels;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),n<1)throw new Error("radius must be greater than 0");i=Zu(this,i,!0);for(var o=n,u=n,s=fd.createFrom(this),c=(2*o+1)*(2*u+1),l=new Array(c),f=0;f<i.length;f++)for(var d=i[f],h=u;h<this.height-u;h++)for(var p=o;p<this.width-o;p++){for(var v=0,m=-u;m<=u;m++)for(var g=-o;g<=o;g++){var b=((h+m)*this.width+p+g)*this.channels+d;l[v++]=this.data[b]}var y=(h*this.width+p)*this.channels+d;s.data[y]=$u()(l)}if(this.alpha&&!i.includes(this.channels))for(var x=this.components;x<this.data.length;x+=this.channels)s.data[x]=this.data[x];return s.setBorder({size:[o,u],algorithm:a}),s}function ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=void 0===t?1:t,r=e.sigma,a=e.channels,i=e.border,o=void 0===i?"copy":i;this.checkProcessable("gaussian",{bitDepth:[8,16]});var u=rs(n,r);return this.convolution([u,u],{border:o,channels:a,algorithm:"separable"})}function rs(e,t){for(var n=2*e+1,r=new Array(n),a=t||.3*(.5*(n-1)-1)+.8,i=-.5/(a*a),o=0,u=0;u<n;u++){var s=u-e,c=Math.exp(i*s*s);r[u]=c,o+=c}for(var l=0;l<n;l++)r[l]/=o;return r}var as=[[-1,0,1],[-2,0,2],[-1,0,1]],is=[[-1,-2,-1],[0,0,0],[1,2,1]],os=[[3,0,-3],[10,0,-10],[3,0,-3]],us=[[3,10,3],[0,0,0],[-3,-10,-3]],ss=n(449),cs=n(376),ls=n.n(cs);function fs(e){var t,n;if(!Array.isArray(e))throw new Error("validateKernel: Invalid Kernel: ".concat(e));if(Array.isArray(e[0])){if(0===(1&e.length)||0===(1&e[0].length))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");t=Math.floor(e.length/2),n=Math.floor(e[0].length/2)}else{var r=Math.sqrt(e.length);if(!ls()(r))throw new RangeError("validateKernel: Kernel array should be a square");n=t=Math.floor(Math.sqrt(e.length)/2);for(var a=new Array(r),i=0;i<r;i++){a[i]=new Array(r);for(var o=0;o<r;o++)a[i][o]=e[i*r+o]}e=a}return{kernel:e,kWidth:n,kHeight:t}}function ds(e,t){return Math.round(Math.min(Math.max(e,0),t.maxValue))}function hs(e,t,n){if(void 0===n){var r=e.length+t.length-1;n=new Array(r)}!function(e){for(var t=0;t<e.length;t++)e[t]=0}(n);for(var a=0;a<e.length;a++)for(var i=0;i<t.length;i++)n[a+i]+=e[a]*t[i];return n}n(565),n(566);function ps(e,t,n,r){var a,i,o,u,s=new Array(e.length);o=((u=t[1]).length-1)/2,i=new Array(n+u.length-1),a=new Array(n);for(var c=0;c<r;c++){for(var l=0;l<n;l++)a[l]=e[c*n+l];hs(a,u,i);for(var f=0;f<n;f++)s[c*n+f]=i[o+f]}o=((u=t[0]).length-1)/2,i=new Array(r+u.length-1),a=new Array(r);for(var d=0;d<n;d++){for(var h=0;h<r;h++)a[h]=s[h*n+d];hs(a,u,i);for(var p=0;p<r;p++)s[p*n+d]=i[o+p]}return s}var vs=n(157);function ms(e){var t=new vs.a(e,{autoTranspose:!0});if(1!==t.rank)return null;var n=Math.sqrt(t.s[0]);return[t.U.to2DArray().map((function(e){return e[0]*n})),t.V.to2DArray().map((function(e){return e[0]*n}))]}function gs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channels,r=t.bitDepth,a=t.normalize,i=void 0!==a&&a,o=t.divisor,u=void 0===o?1:o,s=t.border,c=void 0===s?"copy":s,l=t.algorithm,f=void 0===l?"auto":l,d={};r&&(d.bitDepth=r);var h,p,v=fd.createFrom(this,d);if(n=Zu(this,n,!0),"separable"!==f){var m=fs(e);e=m.kernel}else if(!Array.isArray(e)||2!==e.length)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if("auto"===f){var g=ms(e);null!==g?(f="separable",e=g):f=(e.length>9||e[0].length>9)&&this.width<=4096&&this.height<=4096?"fft":"direct"}"separable"===f?(h=Math.floor(e[0].length/2),p=Math.floor(e[1].length/2)):(h=Math.floor(e.length/2),p=Math.floor(e[0].length/2));var b,y,x,w,O,k,j=v.isClamped,_=new Array(this.height*this.width);for(w=0;w<n.length;w++){for(O=n[w],x=0;x<this.height;x++)for(y=0;y<this.width;y++)_[b=x*this.width+y]=this.data[b*this.channels+O];if("direct"===f)k=Object(ss.direct)(_,e,{rows:this.height,cols:this.width,normalize:i,divisor:u});else if("separable"===f){if(k=ps(_,e,this.width,this.height),i){u=0;for(var S=0;S<e[0].length;S++)for(var E=0;E<e[1].length;E++)u+=e[0][S]*e[1][E]}if(1!==u)for(var A=0;A<k.length;A++)k[A]/=u}else k=Object(ss.fft)(_,e,{rows:this.height,cols:this.width,normalize:i,divisor:u});for(x=0;x<this.height;x++)for(y=0;y<this.width;y++)b=x*this.width+y,v.data[b*this.channels+O]=j?ds(k[b],v):k[b]}if(this.alpha&&!n.includes(this.channels))for(y=this.components;y<this.data.length;y+=this.channels)v.data[y]=this.data[y];return"periodic"!==c&&v.setBorder({size:[p,h],algorithm:c}),v}function bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.direction,n=void 0===t?"xy":t,r=e.border,a=void 0===r?"copy":r,i=e.kernelX,o=e.kernelY,u=e.channels,s=e.bitDepth,c=void 0===s?this.bitDepth:s;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),n){case"x":if(!i)throw new Error("kernelX option is missing");return gs.call(this,i,{channels:u,border:a,bitDepth:c});case"y":if(!o)throw new Error("kernelY option is missing");return gs.call(this,o,{channels:u,border:a,bitDepth:c});case"xy":if(!i)throw new Error("kernelX option is missing");if(!o)throw new Error("kernelY option is missing");var l=gs.call(this,i,{channels:u,border:a,bitDepth:32}),f=gs.call(this,o,{channels:u,border:a,bitDepth:32});return l.hypotenuse(f,{bitDepth:c,channels:u});default:throw new Error("Unknown parameter direction: ".concat(n))}}function ys(e){return bs.call(this,Object.assign({},e,{kernelX:as,kernelY:is}))}function xs(e){return bs.call(this,Object.assign({},e,{kernelX:os,kernelY:us}))}var ws=n(91),Os=n.n(ws);function ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.algorithm,n=void 0===t?"range":t,r=e.channels,a=e.min,i=void 0===a?this.min:a,o=e.max,u=void 0===o?this.max:o;if(this.checkProcessable("level",{bitDepth:[8,16,32]}),(r=Zu(this,{channels:r})).length!==this.channel&&(Array.isArray(i)&&i.length===this.channels&&(i=i.filter((function(e,t){return r.includes(t)}))),Array.isArray(u)&&u.length===this.channels&&(u=u.filter((function(e,t){return r.includes(t)})))),"range"!==n)throw new Error("level: algorithm not implement: ".concat(n));return i<0&&(i=0),u>this.maxValue&&(u=this.maxValue),Array.isArray(i)||(i=Os()(r.length,i)),Array.isArray(u)||(u=Os()(r.length,u)),js(this,i,u,r),this}function js(e,t,n,r){for(var a=1e-5,i=new Array(r.length),o=0;o<r.length;o++)0===t[o]&&n[o]===e.maxValue||n[o]===t[o]?i[o]=0:i[o]=(e.maxValue+1-a)/(n[o]-t[o]),t[o]+=.499995/i[o];for(var u=0;u<r.length;u++){var s=r[u];if(0!==i[u])for(var c=0;c<e.data.length;c+=e.channels)e.data[c+s]=Math.min(Math.max(0,(e.data[c+s]-t[u])*i[u]+.5|0),e.maxValue)}}var _s=n(567),Ss=n.n(_s);function Es(e){if(isNaN(e)){if(e instanceof fd)return e.data;if(!Ss()(e))throw new Error("checkNumberArray: the value should be either a number, array or Image");return e}if(e<=0)throw new Error("checkNumberArray: the value must be greater than 0");return e}function As(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channels;if(this.checkProcessable("add",{bitDepth:[8,16]}),n=Zu(this,{channels:n}),e=Es(e),isNaN(e)){if(this.data.length!==e.length)throw new Error("add: the data size is different");for(var r=0;r<n.length;r++)for(var a=n[r],i=0;i<this.data.length;i+=this.channels)this.data[i+a]=Math.max(0,Math.min(this.maxValue,this.data[i+a]+e[i+a]>>0))}else for(var o=0;o<n.length;o++)for(var u=n[o],s=0;s<this.data.length;s+=this.channels)this.data[s+u]=Math.min(this.maxValue,this.data[s+u]+e>>0);return this}function Cs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channels;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),n=Zu(this,{channels:n}),e=Es(e),isNaN(e)){if(this.data.length!==e.length)throw new Error("subtract: the data size is different");for(var r=0;r<n.length;r++)for(var a=n[r],i=0;i<this.data.length;i+=this.channels)this.data[i+a]=Math.max(0,Math.min(this.maxValue,this.data[i+a]-e[i+a]>>0))}else for(var o=0;o<n.length;o++)for(var u=n[o],s=0;s<this.data.length;s+=this.channels)this.data[s+u]=Math.max(0,this.data[s+u]-e>>0);return this}function Ns(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channels,r=t.absolute,a=void 0!==r&&r;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==e.width||this.height!==e.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==e.alpha||this.bitDepth!==e.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==e.channels)throw new Error("subtractImage: both images must have the same number of channels");var i=this.clone();n=Zu(this,{channels:n});for(var o=0;o<n.length;o++)for(var u=n[o],s=u;s<this.data.length;s+=this.channels){var c=this.data[s]-e.data[s];i.data[s]=a?Math.abs(c):Math.max(c,0)}return i}function Ts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bitDepth,r=void 0===n?this.bitDepth:n,a=t.channels;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==e.width||this.height!==e.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==e.alpha||this.bitDepth!==e.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==e.channels)throw new Error("hypotenuse: both images must have the same number of channels");var i=fd.createFrom(this,{bitDepth:r});a=Zu(this,{channels:a});for(var o=i.isClamped,u=0;u<a.length;u++)for(var s=a[u],c=s;c<this.data.length;c+=this.channels){var l=Math.hypot(this.data[c],e.data[c]);i.data[c]=o?Math.min(Math.max(Math.round(l),0),i.maxValue):l}return i}function Ds(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channels;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),e<=0)throw new Error("multiply: the value must be greater than 0");if(n=Zu(this,{channels:n}),e=Es(e),isNaN(e)){if(this.data.length!==e.length)throw new Error("multiply: the data size is different");for(var r=0;r<n.length;r++)for(var a=n[r],i=0;i<this.data.length;i+=this.channels)this.data[i+a]=Math.max(0,Math.min(this.maxValue,this.data[i+a]*e[i+a]>>0))}else for(var o=0;o<n.length;o++)for(var u=n[o],s=0;s<this.data.length;s+=this.channels)this.data[s+u]=Math.min(this.maxValue,this.data[s+u]*e>>0);return this}function Is(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channels;if(this.checkProcessable("divide",{bitDepth:[8,16]}),n=Zu(this,{channels:n}),e=Es(e),isNaN(e)){if(this.data.length!==e.length)throw new Error("divide: the: the data size is different");for(var r=0;r<n.length;r++)for(var a=n[r],i=0;i<this.data.length;i+=this.channels)this.data[i+a]=Math.max(0,Math.min(this.maxValue,this.data[i+a]/e[i+a]>>0))}else for(var o=0;o<n.length;o++)for(var u=n[o],s=0;s<this.data.length;s+=this.channels)this.data[s+u]=Math.min(this.maxValue,this.data[s+u]/e>>0);return this}var Ms=n(109),Fs=function(){function e(){if(Object(u.a)(this,e),(this instanceof e?this.constructor:void 0)===e)throw new Error("BaseRegression must be subclassed")}return Object(s.a)(e,[{key:"predict",value:function(e){if("number"===typeof e)return this._predict(e);if(Object(Ms.a)(e)){for(var t=[],n=0;n<e.length;n++)t.push(this._predict(e[n]));return t}throw new TypeError("x must be a number or array")}},{key:"_predict",value:function(){throw new Error("_predict must be implemented")}},{key:"train",value:function(){}},{key:"toString",value:function(){return""}},{key:"toLaTeX",value:function(){return""}},{key:"score",value:function(e,t){if(!Object(Ms.a)(e)||!Object(Ms.a)(t)||e.length!==t.length)throw new Error("x and y must be arrays of the same length");for(var n=e.length,r=new Array(n),a=0;a<n;a++)r[a]=this._predict(e[a]);for(var i=0,o=0,u=0,s=0,c=0,l=0,f=0,d=0;d<n;d++)i+=r[d],o+=t[d],c+=r[d]*r[d],l+=t[d]*t[d],f+=r[d]*t[d],0!==t[d]&&(u+=(t[d]-r[d])*(t[d]-r[d])/t[d]),s+=(t[d]-r[d])*(t[d]-r[d]);var h=(n*f-i*o)/Math.sqrt((n*c-i*i)*(n*l-o*o));return{r:h,r2:h*h,chi2:u,rmsd:Math.sqrt(s/n)}}}]),e}(),Rs=(n(67),n(53)),Ps=(n(489),n(419));var zs=n(450),Bs=n.n(zs),Ls={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1},Us=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(e,r,a){var i;if(Object(u.a)(this,n),i=t.call(this),!0===e)i.alpha=r.alpha,i.inputs=r.inputs,i.kernelType=r.kernelType,i.kernelOptions=r.kernelOptions,i.kernel=new Bs.a(r.kernelType,r.kernelOptions);else{e=Rs.b.checkMatrix(e),a=Object.assign({},Ls,a);var o=new Bs.a(a.kernelType,a.kernelOptions),s=o.compute(e),c=e.rows;s.add(Rs.b.eye(c,c).mul(a.lambda)),i.alpha=Object(Ps.b)(s,r),i.inputs=e,i.kernelType=a.kernelType,i.kernelOptions=a.kernelOptions,i.kernel=o}return i}return Object(s.a)(n,[{key:"_predict",value:function(e){return this.kernel.compute([e],this.inputs).mmul(this.alpha).getRow(0)}},{key:"toJSON",value:function(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}}],[{key:"load",value:function(e){if("kernelRidgeRegression"!==e.name)throw new TypeError("not a KRR model");return new n(!0,e)}}]),n}(Fs);function Ws(e,t,n){for(var r=new Us(e,t,n),a=new Array(this.size),i=0;i<this.width;i++)for(var o=0;o<this.height;o++)a[o*this.width+i]=[i,o];for(var u=r.predict(a),s=fd.createFrom(this),c=0;c<this.size;c++)s.data[c]=Math.min(this.maxValue,Math.max(0,u[c][0]));return s}function Vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.kernel,n=void 0===t?[[1,1,1],[1,1,1],[1,1,1]]:t,r=e.iterations,a=void 0===r?1:r;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),n.columns%2===0||n.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");var i,o=!0,u=Object(Hr.a)(n);try{e:for(u.s();!(i=u.n()).done;){var s,c=i.value,l=Object(Hr.a)(c);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(1!==f){o=!1;break e}}}catch(We){l.e(We)}finally{l.f()}}}catch(We){u.e(We)}finally{u.f()}for(var d=this,h=0;h<a;h++)if(1===this.bitDepth)if(o){var p=d.clone();d=Xs(d,p,n.length,n[0].length)}else{var v=fd.createFrom(d);d=qs(d,v,n)}else if(o){var m=fd.createFrom(d);d=Gs(d,m,n.length,n[0].length)}else{var g=fd.createFrom(d);d=Hs(d,g,n)}return d}function Hs(e,t,n){for(var r=n.length,a=n[0].length,i=(r-1)/2,o=(a-1)/2,u=0;u<e.height;u++)for(var s=0;s<e.width;s++){for(var c=0,l=0;l<a;l++)for(var f=0;f<r;f++)if(1===n[f][l]){var d=f-i+s,h=l-o+u;if(!(d<0||h<0||d>=e.width||h>=e.height)){var p=e.getValueXY(d,h,0);p>c&&(c=p)}}t.setValueXY(s,u,0,c)}return t}function Gs(e,t,n,r){for(var a=(n-1)/2,i=(r-1)/2,o=[],u=0;u<e.width;u++)o.push(0);for(var s=0;s<e.height;s++){for(var c=0;c<e.width;c++){for(var l=0,f=Math.max(0,s-i);f<Math.min(e.height,s+i+1);f++){var d=e.getValueXY(c,f,0);d>l&&(l=d)}o[c]=l}for(var h=0;h<e.width;h++){for(var p=0,v=Math.max(0,h-a);v<Math.min(e.width,h+a+1);v++)o[v]>p&&(p=o[v]);t.setValueXY(h,s,0,p)}}return t}function qs(e,t,n){for(var r=n.length,a=n[0].length,i=(r-1)/2,o=(a-1)/2,u=0;u<e.height;u++)for(var s=0;s<e.width;s++){var c=0;e:for(var l=0;l<a;l++)for(var f=0;f<r;f++)if(1===n[f][l]){var d=f-i+s,h=l-o+u;if(!(h<0||d<0||d>=e.width||h>=e.height))if(1===e.getBitXY(d,h)){c=1;break e}}1===c&&t.setBitXY(s,u)}return t}function Xs(e,t,n,r){for(var a=(n-1)/2,i=(r-1)/2,o=[],u=0;u<e.width;u++)o.push(1);for(var s=0;s<e.height;s++){for(var c=0;c<e.width;c++){o[c]=0;for(var l=Math.max(0,s-i);l<Math.min(e.height,s+i+1);l++)if(1===e.getBitXY(c,l)){o[c]=1;break}}for(var f=0;f<e.width;f++)if(1!==t.getBitXY(f,s))for(var d=Math.max(0,f-a);d<Math.min(e.width,f+a+1);d++)if(1===o[d]){t.setBitXY(f,s);break}}return t}function Ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.kernel,n=void 0===t?[[1,1,1],[1,1,1],[1,1,1]]:t,r=e.iterations,a=void 0===r?1:r;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),n.columns%2===0||n.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");var i,o=!0,u=Object(Hr.a)(n);try{e:for(u.s();!(i=u.n()).done;){var s,c=i.value,l=Object(Hr.a)(c);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(1!==f){o=!1;break e}}}catch(We){l.e(We)}finally{l.f()}}}catch(We){u.e(We)}finally{u.f()}for(var d=this,h=0;h<a;h++)if(1===this.bitDepth)if(o){var p=d.clone();d=Js(d,p,n.length,n[0].length)}else{var v=fd.createFrom(d);d=Zs(d,v,n)}else if(o){var m=fd.createFrom(d);d=$s(d,m,n.length,n[0].length)}else{var g=fd.createFrom(d);d=Ks(d,g,n)}return d}function Ks(e,t,n){for(var r=n.length,a=n[0].length,i=(r-1)/2,o=(a-1)/2,u=0;u<e.height;u++)for(var s=0;s<e.width;s++){for(var c=e.maxValue,l=0;l<a;l++)for(var f=0;f<r;f++)if(1===n[f][l]){var d=f-i+s,h=l-o+u;if(!(d<0||h<0||d>=e.width||h>=e.height)){var p=e.getValueXY(d,h,0);p<c&&(c=p)}}t.setValueXY(s,u,0,c)}return t}function $s(e,t,n,r){for(var a=(n-1)/2,i=(r-1)/2,o=[],u=0;u<e.width;u++)o.push(0);for(var s=0;s<e.height;s++){for(var c=0;c<e.width;c++){for(var l=e.maxValue,f=Math.max(0,s-i);f<Math.min(e.height,s+i+1);f++){var d=e.getValueXY(c,f,0);d<l&&(l=d)}o[c]=l}for(var h=0;h<e.width;h++){for(var p=e.maxValue,v=Math.max(0,h-a);v<Math.min(e.width,h+a+1);v++)o[v]<p&&(p=o[v]);t.setValueXY(h,s,0,p)}}return t}function Zs(e,t,n){for(var r=n.length,a=n[0].length,i=(r-1)/2,o=(a-1)/2,u=0;u<e.height;u++)for(var s=0;s<e.width;s++){var c=1;e:for(var l=0;l<a;l++)for(var f=0;f<r;f++)if(1===n[f][l]){var d=f-i+s,h=l-o+u;if(!(h<0||d<0||d>=e.width||h>=e.height))if(0===e.getBitXY(d,h)){c=0;break e}}1===c&&t.setBitXY(s,u)}return t}function Js(e,t,n,r){for(var a=(n-1)/2,i=(r-1)/2,o=[],u=0;u<e.width;u++)o.push(0);for(var s=0;s<e.height;s++){for(var c=0;c<e.width;c++){o[c]=1;for(var l=Math.max(0,s-i);l<Math.min(e.height,s+i+1);l++)if(0===e.getBitXY(c,l)){o[c]=0;break}}for(var f=0;f<e.width;f++)if(0!==t.getBitXY(f,s))for(var d=Math.max(0,f-a);d<Math.min(e.width,f+a+1);d++)if(0===o[d]){t.clearBitXY(f,s);break}}return t}function Qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.kernel,n=void 0===t?[[1,1,1],[1,1,1],[1,1,1]]:t,r=e.iterations,a=void 0===r?1:r;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),n.columns%2===0||n.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");for(var i=this,o=0;o<a;o++)i=(i=i.erode({kernel:n})).dilate({kernel:n});return i}function ec(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.kernel,n=void 0===t?[[1,1,1],[1,1,1],[1,1,1]]:t,r=e.iterations,a=void 0===r?1:r;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),n.columns%2===0||n.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");for(var i=this,o=0;o<a;o++)i=i.dilate({kernel:n}).erode({kernel:n});return i}function tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.kernel,n=void 0===t?[[1,1,1],[1,1,1],[1,1,1]]:t,r=e.iterations,a=void 0===r?1:r;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),n.length%2===0||n[0].length%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");for(var i=this,o=0;o<a;o++){var u=i.open({kernel:n});i=u.subtractImage(i,{absolute:!0})}return i}function nc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.kernel,n=void 0===t?[[1,1,1],[1,1,1],[1,1,1]]:t,r=e.iterations,a=void 0===r?1:r;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),n.columns%2===0||n.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");for(var i=this,o=0;o<a;o++){var u=i.close({kernel:n});i=u.subtractImage(i,{absolute:!0})}return i}function rc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.kernel,n=void 0===t?[[1,1,1],[1,1,1],[1,1,1]]:t,r=e.iterations,a=void 0===r?1:r;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),n.columns%2===0||n.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");for(var i=this,o=0;o<a;o++){var u=i.dilate({kernel:n}),s=i.erode({kernel:n});i=u.subtractImage(s,{absolute:!0})}return i}var ac=n(6);function ic(e){for(var t=0,n=0,r=0,a=0,i=e[0][0],o=0,u=1;u<e.length;u++)e[u][0]<i&&(i=e[u][0],o=u);for(var s=e[(o+1)%e.length][0],c=(o+1)%e.length,l=1;l<e.length;l++)e[l][0]<s&&l!==o&&(s=e[l][0],c=l);return e[c][1]<e[o][1]?(t=e[c],a=e[o],o!==(c+1)%4?(n=e[(c+1)%4],r=e[(c+2)%4]):(n=e[(c+2)%4],r=e[(c+3)%4])):(a=e[c],t=e[o],c!==(o+1)%4?(n=e[(o+1)%4],r=e[(o+2)%4]):(n=e[(o+2)%4],r=e[(o+3)%4])),[t,n,r,a]}function oc(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function uc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function sc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cc(e,t,n,r,a,i){var o=Math.max(oc(e,t),oc(r,n)),u=Math.max(oc(e,r),oc(t,n)),s=0,c=0,l=Math.ceil(a/2),f=Math.ceil(i/2),d=o/u,h=[e[0],e[1],1],p=[t[0],t[1],1],v=[r[0],r[1],1],m=[n[0],n[1],1],g=sc(uc(h,m),v)/sc(uc(p,m),v),b=sc(uc(h,m),p)/sc(uc(v,m),p),y=[g*p[0]-h[0],g*p[1]-h[1],g*p[2]-h[2]],x=[b*v[0]-h[0],b*v[1]-h[1],b*v[2]-h[2]],w=y[0],O=y[1],k=y[2],j=x[0],_=x[1],S=x[2],E=1/(k*S)*(w*j-(w*S+k*j)*l+k*S*l*l+(O*_-(O*S+k*_)*f+k*S*f*f));E=E>=0?Math.sqrt(E):Math.sqrt(-E);var A=new Rs.b([[E,0,l],[0,E,f],[0,0,1]]),C=A.transpose(),N=Object(Ps.a)(C),T=Object(Ps.a)(A),D=Rs.b.rowVector(y),I=Rs.b.rowVector(x),M=Math.sqrt(sc(D.mmul(N).mmul(T).to1DArray(),y)/sc(I.mmul(N).mmul(T).to1DArray(),x));return 0===M||0===d?(s=Math.ceil(o),c=Math.ceil(u)):M<d?(s=Math.ceil(o),c=Math.ceil(s/M)):(c=Math.ceil(u),s=Math.ceil(M*c)),[s,c]}function lc(e,t,n,r,a,i,o,u,s,c,l,f){var d=(n*e+r*t+a)/(s*e+c*t+1),h=(i*e+o*t+u)/(s*e+c*t+1);return l.getValueXY(Math.floor(d),Math.floor(h),f)}function fc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.calculateRatio,r=void 0===n||n;if(4!==e.length)throw new Error("The array pts must have four elements, which are the four corners. Currently, pts have ".concat(e.length," elements"));var a,i,o=Object(ac.a)(e,4),u=o[0],s=o[1],c=o[2],l=o[3],f=[u,s,c,l],d=ic(f),h=Object(ac.a)(d,4),p=h[0],v=h[1],m=h[2],g=h[3];if(r){var b=cc(p,v,m,g,this.width,this.height),y=Object(ac.a)(b,2);a=y[0],i=y[1]}else a=Math.ceil(Math.max(oc(p,v),oc(g,m))),i=Math.ceil(Math.max(oc(p,g),oc(v,m)));for(var x=fd.createFrom(this,{width:a,height:i}),w=Object(ac.a)(p,2),O=w[0],k=w[1],j=Object(ac.a)(v,2),_=j[0],S=j[1],E=Object(ac.a)(m,2),A=E[0],C=E[1],N=Object(ac.a)(g,2),T=N[0],D=N[1],I=0,M=0,F=0,R=a-1,P=i-1,z=a-1,B=i-1,L=0,U=new Rs.b([[I,M,1,0,0,0,-I*O,-M*O],[F,R,1,0,0,0,-F*_,-R*_],[P,z,1,0,0,0,-P*A,-M*A],[B,L,1,0,0,0,-B*T,-L*T],[0,0,0,I,M,1,-I*k,-M*k],[0,0,0,F,R,1,-F*S,-R*S],[0,0,0,P,z,1,-P*C,-z*C],[0,0,0,B,L,1,-B*D,-L*D]]),W=Rs.b.columnVector([O,_,A,T,k,S,C,D]),V=new vs.a(U),H=V.solve(W),G=H.to1DArray(),q=Object(ac.a)(G,8),X=q[0],Y=q[1],K=q[2],$=q[3],Z=q[4],J=q[5],Q=q[6],ee=q[7],te=new Rs.b(i,a),ne=0;ne<this.channels;ne++){for(var re=0;re<i;re++)for(var ae=0;ae<a;ae++)te.set(re,ae,lc(re,ae,X,Y,K,$,Z,J,Q,ee,this,ne));x.setMatrix(te,{channel:ne})}return x}function dc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r,i=e.width,o=void 0===i?this.width-n:i,u=e.height,s=void 0===u?this.height-a:u;if(this.checkProcessable("max",{bitDepth:[8,16]}),n=Math.round(n),a=Math.round(a),o=Math.round(o),s=Math.round(s),n>this.width-1||a>this.height-1)throw new RangeError("crop: origin (x:".concat(n,", y:").concat(a,") out of range (").concat(this.width-1,"; ").concat(this.height-1,")"));if(o<=0||s<=0)throw new RangeError("crop: width and height (width:".concat(o,"; height:").concat(s,") must be positive numbers"));if(n<0||a<0)throw new RangeError("crop: x and y (x:".concat(n,", y:").concat(a,") must be positive numbers"));if(o>this.width-n||s>this.height-a)throw new RangeError("crop: (x: ".concat(n,", y:").concat(a,", width:").concat(o,", height:").concat(s,") size is out of range"));for(var c=fd.createFrom(this,{width:o,height:s,position:[n,a]}),l=o*this.channels,f=a+s,d=0,h=n*this.channels,p=a;p<f;p++)for(var v=p*this.width*this.channels+h,m=v+l;v<m;v++)c.data[d++]=this.data[v];return c}function hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.checkProcessable("cropAlpha",{alpha:1});var t=e.threshold,n=void 0===t?this.maxValue:t,r=pc(this,n,this.components);if(-1===r)throw new Error("Could not find new dimensions. Threshold may be too high.");var a=vc(this,n,this.components,r),i=mc(this,n,this.components,r),o=gc(this,n,this.components,r,a,i);return this.crop({x:r,y:a,width:o-r+1,height:i-a+1})}function pc(e,t,n){for(var r=0;r<e.width;r++)for(var a=0;a<e.height;a++)if(e.getValueXY(r,a,n)>=t)return r;return-1}function vc(e,t,n,r){for(var a=0;a<e.height;a++)for(var i=r;i<e.width;i++)if(e.getValueXY(i,a,n)>=t)return a;return-1}function mc(e,t,n,r){for(var a=e.height-1;a>=0;a--)for(var i=r;i<e.width;i++)if(e.getValueXY(i,a,n)>=t)return a;return-1}function gc(e,t,n,r,a,i){for(var o=e.width-1;o>=r;o--)for(var u=a;u<=i;u++)if(e.getValueXY(o,u,n)>=t)return o;return-1}function bc(e,t){if(!t)throw Error("getThreshold : the maxValue should be specified");if("string"===typeof e){if("%"!==e[e.length-1])throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat(e)/100*t}if("number"===typeof e)return e<1?e*t:e;throw Error("getThreshold : the value is not valid")}function yc(e,t,n){e=function(e){if("string"===typeof e){var t=e[e.length-1];e=parseFloat(e),"%"===t&&(e/=100)}return e}(e);var r=Math.round(e*t),a=Math.round(e*n);return r<=0&&(r=1),a<=0&&(a=1),{width:r,height:a}}function xc(e,t){if(t<0||t>=e.height)throw new RangeError("row must be included between 0 and ".concat(e.height-1,". Current value: ").concat(t))}function wc(e,t){if(t<0||t>=e.width)throw new RangeError("column must be included between 0 and ".concat(e.width-1,". Current value: ").concat(t))}function Oc(e,t){if(t<0||t>=e.channels)throw new RangeError("channel must be included between 0 and ".concat(e.channels-1,". Current value: ").concat(t))}var kc={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function jc(e){if("string"!==typeof e)throw new TypeError("interpolation must be a string");if(e=e.toLowerCase(),!kc[e])throw new RangeError("invalid interpolation algorithm: ".concat(e));return kc[e]}function _c(e,t,n){var r=this.width/t,a=this.height/n;if(this.bitDepth>1)for(var i=0;i<t;i++)for(var o=Math.floor((i+.5)*r),u=0;u<n;u++)for(var s=Math.floor((u+.5)*a),c=0;c<this.channels;c++)e.setValueXY(i,u,c,this.getValueXY(o,s,c));else for(var l=0;l<t;l++)for(var f=Math.floor((l+.5)*r),d=0;d<n;d++){var h=Math.floor((d+.5)*a);this.getBitXY(f,h)&&e.setBitXY(l,d)}}function Sc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.factor,n=void 0===t?1:t,r=e.interpolation,a=void 0===r?kc.nearestneighbor:r,i=e.preserveAspectRatio,o=void 0===i||i,u=jc(a),s=e.width,c=e.height;s||(s=c&&o?Math.round(c*(this.width/this.height)):this.width),c||(c=o?Math.round(s*(this.height/this.width)):this.height);var l=yc(n,s,c);if(s=l.width,c=l.height,s===this.width&&c===this.height){var f=this.clone();return f.position=[0,0],f}var d=Math.round((this.width-s)/2),h=Math.round((this.height-c)/2),p=fd.createFrom(this,{width:s,height:c,position:[d,h]});if(u!==kc.nearestneighbor)throw new Error("unsupported resize interpolation: ".concat(u));return _c.call(this,p,s,c),p}function Ec(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[br]});for(var e=fd.createFrom(this,{colorModel:xr}),t=0,n=this.data,r=0;r<n.length;r+=this.channels){var a=n[r],i=n[r+1],o=n[r+2],u=Math.min(a,i,o),s=Math.max(a,i,o),c=s-u,l=0,f=0===s?0:c/s,d=s;if(s!==u){switch(s){case a:l=(i-o)/c+(i<o?6:0);break;case i:l=(o-a)/c+2;break;case o:l=(a-i)/c+4;break;default:throw new Error("unreachable")}l/=6}e.data[t++]=l*this.maxValue,e.data[t++]=f*this.maxValue,e.data[t++]=d,this.alpha&&(e.data[t++]=n[r+3])}return e}function Ac(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[br]});for(var e=fd.createFrom(this,{colorModel:yr}),t=Math.floor(this.maxValue/2),n=0,r=this.data,a=0;a<r.length;a+=this.channels){var i=r[a],o=r[a+1],u=r[a+2],s=Math.max(i,o,u),c=Math.min(i,o,u),l=0,f=0,d=(s+c)/2;if(s!==c){var h=s-c;switch(f=d>t?h/(2-s-c):h/(s+c),s){case i:l=(o-u)/h+(o<u?6:0);break;case o:l=(u-i)/h+2;break;case u:l=(i-o)/h+4;break;default:throw new Error("unreachable")}l/=6}e.data[n++]=l*this.maxValue,e.data[n++]=f*this.maxValue,e.data[n++]=d,this.alpha&&(e.data[n++]=r[a+3])}return e}function Cc(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[br]});for(var e=fd.createFrom(this,{components:4,colorModel:wr}),t=0,n=this.data,r=0;r<n.length;r+=this.channels){var a=n[r],i=n[r+1],o=n[r+2],u=Math.min(this.maxValue-a,this.maxValue-i,this.maxValue-o),s=(this.maxValue-a-u)/(1-u/this.maxValue),c=(this.maxValue-i-u)/(1-u/this.maxValue),l=(this.maxValue-o-u)/(1-u/this.maxValue);e.data[t++]=Math.round(s),e.data[t++]=Math.round(c),e.data[t++]=Math.round(l),e.data[t++]=Math.round(u),this.alpha&&(e.data[t++]=n[r+3])}return e}function Nc(){return new fd(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}var Tc={luma709:function(e,t,n){return 6966*e+23436*t+2366*n>>15},luma601:function(e,t,n){return 9798*e+19235*t+3735*n>>15},maximum:function(e,t,n){return Math.max(e,t,n)},minimum:function(e,t,n){return Math.min(e,t,n)},average:function(e,t,n){return(e+t+n)/3>>0},minmax:function(e,t,n){return(Math.max(e,t,n)+Math.min(e,t,n))/2},red:function(e){return e},green:function(e,t){return t},blue:function(e,t,n){return n},cyan:function(e,t,n,r){var a=Tc.black(e,t,n,r);return(r.maxValue-e-a)/(1-a/r.maxValue)>>0},magenta:function(e,t,n,r){var a=Tc.black(e,t,n,r);return(r.maxValue-t-a)/(1-a/r.maxValue)>>0},yellow:function(e,t,n,r){var a=Tc.black(e,t,n,r);return(r.maxValue-n-a)/(1-a/r.maxValue)>>0},black:function(e,t,n,r){return Math.min(r.maxValue-e,r.maxValue-t,r.maxValue-n)},hue:function(e,t,n,r){var a=Tc.min(e,t,n),i=Tc.max(e,t,n);if(i===a)return 0;var o=0,u=i-a;switch(i){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4;break;default:throw new Error("unreachable")}return o/6*r.maxValue>>0},saturation:function(e,t,n,r){var a=Tc.min(e,t,n),i=Tc.max(e,t,n);return 0===i?0:(i-a)/i*r.maxValue},lightness:function(e,t,n){var r=Tc.min(e,t,n);return(Tc.max(e,t,n)+r)/2}};Object.defineProperty(Tc,"luminosity",{enumerable:!1,value:Tc.lightness}),Object.defineProperty(Tc,"luminance",{enumerable:!1,value:Tc.lightness}),Object.defineProperty(Tc,"min",{enumerable:!1,value:Tc.minimum}),Object.defineProperty(Tc,"max",{enumerable:!1,value:Tc.maximum}),Object.defineProperty(Tc,"brightness",{enumerable:!1,value:Tc.maximum});var Dc={};function Ic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.algorithm,n=void 0===t?"luma709":t,r=e.keepAlpha,a=void 0!==r&&r,i=e.mergeAlpha,o=void 0===i||i;if("string"!==typeof n&&"function"!==typeof n)throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),1===this.components&&(n="red"),a&=this.alpha,o&=this.alpha,a&&(o=!1);var u,s=zu(this,e,{components:1,alpha:a,colorModel:gr});if("function"===typeof n)u=n;else if(!(u=Tc[n.toLowerCase()]))throw new Error("unsupported grey algorithm: ".concat(n));for(var c=0,l=0;l<this.data.length;l+=this.channels)o?s.data[c++]=ds(u(this.data[l],this.data[l+1],this.data[l+2],this)*this.data[l+this.components]/this.maxValue,this):(s.data[c++]=ds(u(this.data[l],this.data[l+1],this.data[l+2],this),this),s.alpha&&(s.data[c++]=this.data[l+this.components]));return s}function Mc(e){for(var t=!1,n=0,r=1;r<e.length-1;r++)if(e[r-1]<e[r]&&e[r+1]<e[r]&&++n>2)return!1;return 2===n&&(t=!0),t}function Fc(e,t){for(var n=0,r=0;r<=t;r++)n+=e[r];return n}function Rc(e,t){for(var n=0,r=0;r<=t;r++)n+=r*e[r];return n}function Pc(e,t){for(var n=0,r=0;r<=t;r++)n+=r*r*e[r];return n}function zc(e){for(var t=new Array(e.length),n=1;n<e.length-1;n++)t[n]=(e[n-1]+e[n]+e[n+1])/3;return t[0]=(e[0]+e[1])/3,t[e.length-1]=(e[e.length-2]+e[e.length-1])/3,t}function Bc(e){for(var t=e.length,n=!1,r=0,a=1;a<t-1;a++)if(e[a-1]<e[a]&&e[a+1]<e[a]&&++r>2)return!1;return 2===r&&(n=!0),n}function Lc(e,t){for(var n=0,r=0;r<=t;r++)n+=e[r];return n}Object.keys(Tc).forEach((function(e){Dc[e]=e}));var Uc=n(568);var Wc={huang:function(e){for(var t=0,n=0;n<e.length;n++)if(0!==e[n]){t=n;break}for(var r=e.length-1,a=e.length-1;a>=t;a--)if(0!==e[a]){r=a;break}for(var i=1/(r-t),o=new Array(e.length),u=0,s=0,c=t;c<e.length;c++)u+=c*e[c],s+=e[c],o[c]=u/s;var l=new Array(e.length);u=s=0;for(var f=r;f>0;f--)u+=f*e[f],s+=e[f],l[f-1]=u/s;for(var d=-1,h=Number.MAX_VALUE,p=0;p<e.length;p++){for(var v=0,m=void 0,g=0;g<=p;g++)(m=1/(1+i*Math.abs(g-o[p])))<1e-6||m>.999999||(v+=e[g]*(-m*Math.log(m)-(1-m)*Math.log(1-m)));for(var b=p+1;b<e.length;b++)(m=1/(1+i*Math.abs(b-l[p])))<1e-6||m>.999999||(v+=e[b]*(-m*Math.log(m)-(1-m)*Math.log(1-m)));v<h&&(h=v,d=p)}return d},intermodes:function(e){for(var t=e.slice(),n=0;!Mc(t);){for(var r=0,a=0,i=t[0],o=0;o<e.length-1;o++)r=a,a=i,i=t[o+1],t[o]=(r+a+i)/3;if(t[e.length-1]=(a+i)/3,++n>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}for(var u=0,s=1;s<e.length-1;s++)t[s-1]<t[s]&&t[s+1]<t[s]&&(u+=s);return Math.floor(u/2)},isodata:function(e){for(var t,n,r,a,i=0,o=1;o<e.length;o++)if(e[o]>0){i=o+1;break}for(;;){t=0,r=0;for(var u=0;u<i;u++)r+=e[u],t+=e[u]*u;a=0,n=0;for(var s=i+1;s<e.length;s++)n+=e[s],a+=e[s]*s;if(r>0&&n>0&&(t/=r,a/=n,i===Math.round((t+a)/2)))break;if(++i>e.length-2)throw new Error("Threshold not found")}return i},li:function(e,t){var n,r,a,i,o,u,s,c,l,f,d;f=0;for(var h=0;h<e.length;h++)f+=h*e[h];s=f/=t;do{n=(u=s)+.5|0,r=0,i=0;for(var p=0;p<=n;p++)r+=p*e[p],i+=e[p];c=0===i?0:r/i,a=0,o=0;for(var v=n+1;v<e.length;v++)a+=v*e[v],o+=e[v];s=(d=(c-(l=0===o?0:a/o))/(Math.log(c)-Math.log(l)))<-Number.EPSILON?d-.5|0:d+.5|0}while(Math.abs(s-u)>.5);return n},maxentropy:function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r]/t;var a=new Array(e.length),i=new Array(e.length);a[0]=n[0],i[0]=1-a[0];for(var o=1;o<e.length;o++)a[o]=a[o-1]+n[o],i[o]=1-a[o];for(var u=0,s=0;s<e.length;s++)if(Math.abs(a[s])>=Number.EPSILON){u=s;break}for(var c=e.length-1,l=e.length-1;l>=u;l--)if(Math.abs(i[l])>=Number.EPSILON){c=l;break}for(var f,d,h,p=-1,v=Number.MIN_VALUE,m=u;m<=c;m++){d=0;for(var g=0;g<=m;g++)0!==e[g]&&(d-=n[g]/a[m]*Math.log(n[g]/a[m]));h=0;for(var b=m+1;b<e.length;b++)0!==e[b]&&(h-=n[b]/i[m]*Math.log(n[b]/i[m]));v<(f=d+h)&&(v=f,p=m)}return p},mean:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=r*e[r];return Math.floor(n/t)},minerror:function(e,t){for(var n,r,a,i,o,u,s,c,l,f,d,h=-2,p=0,v=0;v<e.length;v++)p+=v*e[v];for(n=p/=t;n!==h;){var m=Fc(e,n),g=Fc(e,e.length-1),b=Rc(e,n),y=Rc(e,e.length-1),x=Pc(e,n);if(i=m/g,o=(g-m)/g,(f=(l=(r=b/m)/(u=x/m-r*r)-(a=(y-b)/(g-m))/(s=(Pc(e,e.length-1)-x)/(g-m)-a*a))*l-(c=1/u-1/s)*(r*r/u-a*a/s+Math.log10(u*(o*o)/(s*(i*i)))))<0)return n;h=n,d=(l+Math.sqrt(f))/c,n=isNaN(d)?h:Math.floor(d)}return n},minimum:function(e){if(e.length<2)return 0;for(var t=0,n=-1,r=-1,a=new Array(e.length),i=0;i<e.length;i++)a[i]=e[i],e[i]>0&&(r=i);for(;!Bc(a);)if(a=zc(a),++t>1e4)return n;return n=function(e,t){for(var n,r=1;r<t;r++)if(e[r-1]>e[r]&&e[r+1]>=e[r]){n=r;break}return n}(a,r),n},moments:function(e,t){for(var n,r,a,i,o,u,s=0,c=0,l=0,f=0,d=-1,h=e.length,p=new Array(h),v=0;v<h;v++)p[v]=e[v]/t;for(var m=0;m<h;m++)s+=m*p[m],c+=m*m*p[m],l+=m*m*m*p[m];a=(-c*c+s*l)/(r=1*c-s*s),o=.5*(-(i=(1*-l+c*s)/r)-Math.sqrt(i*i-4*a)),n=((u=.5*(-i+Math.sqrt(i*i-4*a)))-s)/(u-o);for(var g=0;g<h;g++)if((f+=p[g])>n){d=g;break}return d},otsu:function(e,t){for(var n=0,r=0,a=0,i=0,o=0,u=0;u<e.length;u++)o+=u*e[u];for(var s=0;s<e.length;s++){var c=t-(r+=e[s]);if(0!==r&&0!==c){var l=(o-(n+=s*e[s]))/c,f=r*c*(n/r-l)*(n/r-l);f>=a&&(i=s,a=f)}}return i},percentile:function(e){for(var t=-1,n=new Array(e.length),r=Lc(e,e.length-1),a=1,i=0;i<e.length;i++)n[i]=Math.abs(Lc(e,i)/r-.5),n[i]<a&&(a=n[i],t=i);return t},renyientropy:function(e,t){for(var n,r,a=new Array(e.length),i=new Array(e.length),o=new Array(e.length),u=0,s=0,c=0,l=0,f=0,d=0,h=0;h<e.length;h++)a[h]=e[h]/t;i[0]=a[0],o[0]=1-i[0];for(var p=1;p<e.length;p++)i[p]=i[p-1]+a[p],o[p]=1-i[p];n=0;for(var v=0;v<e.length;v++)if(Math.abs(i[v])>=Number.EPSILON){n=v;break}r=e.length-1;for(var m=e.length-1;m>=n;m--)if(Math.abs(o[m])>=Number.EPSILON){r=m;break}for(var g=n;g<=r;g++){for(var b=0,y=0,x=0,w=0;w<=g;w++)0!==e[w]&&(b-=a[w]/i[g]*Math.log(a[w]/i[g])),y+=Math.sqrt(a[w]/i[g]),x+=a[w]*a[w]/(i[g]*i[g]);for(var O=0,k=0,j=0,_=g+1;_<e.length;_++)0!==e[_]&&(O-=a[_]/o[g]*Math.log(a[_]/o[g])),k+=Math.sqrt(a[_]/o[g]),j+=a[_]*a[_]/(o[g]*o[g]);var S=b+O,E=2*(y*k>0?Math.log(y*k):0),A=-1*(x*j>0?Math.log(x*j):0);S>l&&(l=S,u=g),E>f&&(f=E,s=g),A>d&&(d=A,c=g)}var C,N=[u,s,c];N.sort(Uc.ascending),C=Math.abs(N[0]-N[1])<=5?Math.abs(N[1]-N[2])<=5?[1,2,1]:[0,1,3]:Math.abs(N[1]-N[2])<=5?[3,1,0]:[1,2,1];var T=i[N[2]]-i[N[0]];return Math.round(N[0]*(i[N[0]]+.25*T*C[0])+.25*N[1]*T*C[1]+N[2]*(o[N[2]]+.25*T*C[2]))},shanbhag:function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r]/t;var a=new Array(e.length),i=new Array(e.length);a[0]=n[0],i[0]=1-a[0];for(var o=1;o<e.length;o++)a[o]=a[o-1]+n[o],i[o]=1-a[o];for(var u=0,s=0;s<e.length;s++)if(Math.abs(a[s])>=Number.EPSILON){u=s;break}for(var c=e.length-1,l=e.length-1;l>=u;l--)if(Math.abs(i[l])>=Number.EPSILON){c=l;break}for(var f,d,h,p,v=-1,m=Number.MAX_VALUE,g=u;g<=c;g++){h=0,f=.5/a[g];for(var b=1;b<=g;b++)h-=n[b]*Math.log(1-f*a[b-1]);h*=f,p=0,f=.5/i[g];for(var y=g+1;y<e.length;y++)p-=n[y]*Math.log(1-f*i[y]);p*=f,(d=Math.abs(h-p))<m&&(m=d,v=g)}return v},triangle:function(e){for(var t=0,n=0,r=0,a=0,i=0;i<e.length;i++)if(e[i]>0){t=i;break}t>0&&t--;for(var o=e.length-1;o>0;o--)if(e[o]>0){a=o;break}a<e.length-1&&a++;for(var u=0;u<e.length;u++)e[u]>n&&(r=u,n=e[u]);var s,c,l,f=!1;if(r-t<a-r){f=!0;for(var d=0,h=e.length-1;d<h;){var p=e[d];e[d]=e[h],e[h]=p,d++,h--}t=e.length-1-a,r=e.length-1-r}if(t===r)return t;s=e[r],c=t-r,l=(s/=l=Math.sqrt(s*s+c*c))*t+(c/=l)*e[t];for(var v=t,m=0,g=t+1;g<=r;g++){var b=s*g+c*e[g]-l;b>m&&(v=g,m=b)}if(v--,f){for(var y=0,x=e.length-1;y<x;){var w=e[y];e[y]=e[x],e[x]=w,y++,x--}return e.length-1-v}return v},yen:function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r]/t;var a=new Array(e.length);a[0]=n[0];for(var i=1;i<e.length;i++)a[i]=a[i-1]+n[i];var o=new Array(e.length);o[0]=n[0]*n[0];for(var u=1;u<e.length;u++)o[u]=o[u-1]+n[u]*n[u];var s=new Array(e.length);s[e.length-1]=0;for(var c=e.length-2;c>=0;c--)s[c]=s[c+1]+n[c+1]*n[c+1];for(var l,f=-1,d=Number.MIN_VALUE,h=0;h<e.length;h++)(l=-1*(o[h]*s[h]>0?Math.log(o[h]*s[h]):0)+2*(a[h]*(1-a[h])>0?Math.log(a[h]*(1-a[h])):0))>d&&(d=l,f=h);return f}},Vc={};function Hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.algorithm,n=void 0===t?Vc.otsu:t;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});var r=Wc[n.toLowerCase()];if(r){var a=this.getHistogram();return r(a,this.size)}throw new Error("unknown thresholding algorithm: ".concat(n))}Object.keys(Wc).forEach((function(e){Vc[e]=e}));var Gc="threshold";function qc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.algorithm,n=void 0===t?Gc:t,r=e.threshold,a=void 0===r?.5:r,i=e.useAlpha,o=void 0===i||i,u=e.invert,s=void 0!==u&&u;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),a=n===Gc?bc(a,this.maxValue):Hc.call(this,e);var c=new fd(this.width,this.height,{kind:"BINARY",parent:this}),l=0;if(this.alpha&&o)for(var f=0;f<this.data.length;f+=this.channels){var d=this.data[f]+(this.maxValue-this.data[f])*(this.maxValue-this.data[f+1])/this.maxValue;(s&&d<=a||!s&&d>=a)&&c.setBit(l),l++}else for(var h=0;h<this.data.length;h+=this.channels)(s&&this.data[h]<=a||!s&&this.data[h]>=a)&&c.setBit(l),l++;return c}function Xc(e,t,n,r){for(var a=e.width,i=e.height,o=t.width,u=e.channels,s=0;s<a;s++)for(var c=0;c<i;c++)for(var l=0;l<u;l++){var f=(c*a+s)*u+l,d=((r+c)*o+n+s)*u+l;t.data[d]=e.data[f]}}function Yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.size,n=void 0===t?0:t,r=e.algorithm,a=void 0===r?"copy":r,i=e.color;if(this.checkProcessable("pad",{bitDepth:[8,16]}),"set"===a){if(i.length!==this.channels)throw new Error("pad: the color array must have the same length as the number of channels. Here: ".concat(this.channels));for(var o=0;o<i.length;o++)0===i[o]&&(i[o]=.001)}else i=Os()(this.channels,null);Array.isArray(n)||(n=[n,n]);var u=this.width+2*n[0],s=this.height+2*n[1],c=this.channels,l=fd.createFrom(this,{width:u,height:s});Xc(this,l,n[0],n[1]);for(var f=n[0];f<u-n[0];f++)for(var d=0;d<c;d++){for(var h=i[d]||l.data[(n[1]*u+f)*c+d],p=0;p<n[1];p++)l.data[(p*u+f)*c+d]=h;h=i[d]||l.data[((s-n[1]-1)*u+f)*c+d];for(var v=s-n[1];v<s;v++)l.data[(v*u+f)*c+d]=h}for(var m=0;m<s;m++)for(var g=0;g<c;g++){for(var b=i[g]||l.data[(m*u+n[0])*c+g],y=0;y<n[0];y++)l.data[(m*u+y)*c+g]=b;b=i[g]||l.data[(m*u+u-n[0]-1)*c+g];for(var x=u-n[0];x<u;x++)l.data[(m*u+x)*c+g]=b}return l}function Kc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes(e))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===e)return this.clone();var t=fd.createFrom(this,{bitDepth:e});switch(e){case 8:if(1===this.bitDepth)for(var n=0;n<this.size;n++)this.getBit(n)&&(t.data[n]=255);else for(var r=0;r<this.data.length;r++)t.data[r]=this.data[r]>>8;break;case 16:if(1===this.bitDepth)for(var a=0;a<this.size;a++)this.getBit(a)&&(t.data[a]=65535);else for(var i=0;i<this.data.length;i++)t.data[i]=this.data[i]<<8|this.data[i];break;default:throw new Error("colorDepth conversion unexpected case")}return t}function $c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.interpolation,r=void 0===n?kc.nearestneighbor:n,a=t.width,i=void 0===a?this.width:a,o=t.height,u=void 0===o?this.height:o;if("number"!==typeof e)throw new TypeError("degrees must be a number");var s=jc(r),c=e*Math.PI/180,l=Math.floor(Math.abs(i*Math.cos(c))+Math.abs(u*Math.sin(c))),f=Math.floor(Math.abs(u*Math.cos(c))+Math.abs(i*Math.sin(c))),d=fd.createFrom(this,{width:l,height:f}),h=Math.cos(-c),p=Math.sin(-c),v=l/2,m=f/2;l%2===0?(v-=.5,f%2===0?m-=.5:m=Math.floor(m)):(v=Math.floor(v),f%2===0?m-=.5:m=Math.floor(m));var g=Math.floor(i/2-v),b=Math.floor(u/2-m);switch(s){case kc.nearestneighbor:return Zc(this,d,g,b,v,m,h,p);case kc.bilinear:return Jc(this,d,g,b,v,m,h,p);default:throw new Error("unsupported rotate interpolation: ".concat(s))}}function Zc(e,t,n,r,a,i,o,u){for(var s=0;s<t.width;s+=1)for(var c=0;c<t.height;c+=1)for(var l=0;l<e.channels;l++){var f=Math.round((s-a)*o-(c-i)*u+a)+n,d=Math.round((c-i)*o+(s-a)*u+i)+r;f<0||f>=e.width||d<0||d>=e.height?1===e.alpha&&l===e.channels-1?t.setValueXY(s,c,l,0):t.setValueXY(s,c,l,e.maxValue):t.setValueXY(s,c,l,e.getValueXY(f,d,l))}return t}function Jc(e,t,n,r,a,i,o,u){for(var s=e.width*e.channels,c=0;c<t.height;c++)for(var l=0;l<t.width;l++)for(var f=(l-a)*o-(c-i)*u+a+n,d=(c-i)*o+(l-a)*u+i+r,h=0|f,p=0|d,v=f-h,m=d-p,g=0;g<e.channels;g++)if(f<0||f>=e.width||d<0||d>=e.height)1===e.alpha&&g===e.channels-1?t.setValueXY(l,c,g,0):t.setValueXY(l,c,g,e.maxValue);else{var b=(p*e.width+h)*e.channels+g,y=e.data[b],x=e.data[b+e.channels],w=e.data[b+s],O=y+v*(x-y)+m*(w-y)+v*m*(y-x-w+e.data[b+s+e.channels])|0;t.setValueXY(l,c,g,O)}return t}function Qc(e,t){if("number"!==typeof e)throw new TypeError("angle must be a number");switch(e<0&&(e=360*Math.ceil(-e/360)+e),e%360){case 0:return this.clone();case 90:return tl.call(this);case 180:return nl.call(this);case 270:return el.call(this);default:return $c.call(this,e,t)}}function el(){for(var e=fd.createFrom(this,{width:this.height,height:this.width}),t=e.height-1,n=0;n<this.height;n++)for(var r=0;r<this.width;r++)for(var a=0;a<this.channels;a++)e.setValueXY(n,t-r,a,this.getValueXY(r,n,a));return e}function tl(){for(var e=fd.createFrom(this,{width:this.height,height:this.width}),t=e.width-1,n=0;n<this.height;n++)for(var r=0;r<this.width;r++)for(var a=0;a<this.channels;a++)e.setValueXY(t-n,r,a,this.getValueXY(r,n,a));return e}function nl(){for(var e=fd.createFrom(this),t=e.width-1,n=e.height-1,r=0;r<this.height;r++)for(var a=0;a<this.width;a++)for(var i=0;i<this.channels;i++)e.setValueXY(t-a,n-r,i,this.getValueXY(a,r,i));return e}function rl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Pu(e);this.checkProcessable("insert",n);var r=t.x,a=void 0===r?0:r,i=t.y,o=void 0===i?0:i,u=Bu(this,t,{copy:!0}),s=Math.min(u.height,o+e.height),c=Math.min(u.width,a+e.width);if(1===u.bitDepth)for(var l=o;l<s;l++)for(var f=a;f<c;f++){var d=e.getBitXY(f-a,l-o);d?u.setBitXY(f,l):u.clearBitXY(f,l)}else for(var h=o;h<s;h++)for(var p=a;p<c;p++)u.setPixelXY(p,h,e.getPixelXY(p-a,h-o));return u}function al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.size,n=void 0===t?0:t,r=e.algorithm,a=void 0===r?"copy":r,i=e.color;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),"set"===a){if(i.length!==this.channels)throw new Error("setBorder: the color array must have the same length as the number of channels. Here: ".concat(this.channels));for(var o=0;o<i.length;o++)0===i[o]&&(i[o]=.001)}else i=Os()(this.channels,null);Array.isArray(n)||(n=[n,n]);for(var u=n[0],s=n[1],c=this.channels,l=u;l<this.width-u;l++)for(var f=0;f<c;f++){for(var d=i[f]||this.data[(l+this.width*s)*c+f],h=0;h<s;h++)this.data[(h*this.width+l)*c+f]=d;d=i[f]||this.data[(l+this.width*(this.height-s-1))*c+f];for(var p=this.height-s;p<this.height;p++)this.data[(p*this.width+l)*c+f]=d}for(var v=0;v<this.height;v++)for(var m=0;m<c;m++){for(var g=i[m]||this.data[(v*this.width+u)*c+m],b=0;b<u;b++)this.data[(v*this.width+b)*c+m]=g;g=i[m]||this.data[(v*this.width+this.width-u-1)*c+m];for(var y=this.width-u;y<this.width;y++)this.data[(v*this.width+y)*c+m]=g}return this}function il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.preserveAlpha,n=void 0===t||t;if(this.checkProcessable("split",{bitDepth:[8,16]}),1===this.components)return new Nu([this.clone()]);var r=new Nu,a=this.data;if(this.alpha&&n)for(var i=0;i<this.components;i++){for(var o=fd.createFrom(this,{components:1,alpha:!0,colorModel:gr}),u=0,s=0;s<a.length;s+=this.channels)o.data[u++]=a[s+i],o.data[u++]=a[s+this.components];r.push(o)}else for(var c=0;c<this.channels;c++){for(var l=fd.createFrom(this,{components:1,alpha:!1,colorModel:gr}),f=0,d=0;d<a.length;d+=this.channels)l.data[f++]=a[d+c];r.push(l)}return r}function ol(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.keepAlpha,r=void 0!==n&&n,a=t.mergeAlpha,i=void 0!==a&&a;r&=this.alpha,i&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),e=es(this,e);for(var o=fd.createFrom(this,{components:1,alpha:r,colorModel:gr}),u=0,s=0;s<this.data.length;s+=this.channels)i?o.data[u++]=this.data[s+e]*this.data[s+this.components]/this.maxValue:(o.data[u++]=this.data[s+e],r&&(o.data[u++]=this.data[s+this.components]));return o}function ul(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sl,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mergeAlpha,r=void 0!==n&&n,a=t.keepAlpha,i=void 0!==a&&a;r&=this.alpha,i&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});for(var o=fd.createFrom(this,{components:1,alpha:i,colorModel:gr}),u=0,s=0;s<this.size;s++){var c=e(this.getPixel(s));r?o.data[u++]=c*this.data[s*this.channels+this.components]/this.maxValue:(o.data[u++]=c,i&&(o.data[u++]=this.data[s*this.channels+this.components]))}return o}function sl(e){return(e[0]+e[1]+e[2])/3}function cl(e,t){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),t.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),t.width!==this.width||t.height!==this.height)throw new Error("Images must have exactly the same width and height");for(var n=e=es(this,e),r=0;r<t.data.length;r++)this.data[n]=t.data[r],n+=this.channels;return this}function ll(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.shift,r=void 0===n?[0,0]:n,a=t.average,i=t.channels,o=t.defaultAlpha,u=t.normalize,s=t.border,c=void 0===s?[0,0]:s;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(c)||(c=[c,c]),i=Zu(this,{channels:i,defaultAlpha:o}),this.bitDepth!==e.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==e.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==e.colorModel)throw new Error("Both images must have the same colorModel");"undefined"===typeof a&&(a=!0);for(var l=Math.max(c[0],-r[0]),f=Math.min(this.width-c[0],this.width-r[0]),d=Math.max(c[1],-r[1]),h=Math.min(this.height-c[1],this.height-r[1]),p=Os()(i.length,0),v=0;v<i.length;v++){var m=i[v],g=u?this.sum[m]:Math.max(this.sum[m],e.sum[m]),b=u?e.sum[m]:Math.max(this.sum[m],e.sum[m]);if(0!==g&&0!==b)for(var y=l;y<f;y++)for(var x=d;x<h;x++){var w=y*this.multiplierX+x*this.multiplierY+m,O=w+r[0]*this.multiplierX+r[1]*this.multiplierY;p[v]+=Math.min(this.data[w]/g,e.data[O]/b)}}return a?p.reduce((function(e,t){return e+t}))/p.length:p}function fl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sampling,n=void 0===t?[10,10]:t,r=e.painted,a=void 0!==r&&r,i=e.mask;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray(n)||(n=[n,n]);for(var o=n[0],u=n[1],s=[],c=[],l=this.width/o,f=this.height/u,d=Math.floor(l/2),h=0;h<o;h++){for(var p=Math.floor(f/2),v=0;v<u;v++){var m=Math.round(d),g=Math.round(p);i&&!i.getBitXY(m,g)||(s.push([m,g]),c.push(this.getPixelXY(m,g))),p+=f}d+=l}var b={xyS:s,zS:c};return a&&(b.painted=this.rgba8().paintPoints(s)),b}function dl(e,t,n){for(var r=new Array(e),a=0;a<e;a++)r[a]=new Array(t);if(n)for(var i=0;i<e;i++)for(var o=0;o<t;o++)r[i][o]=n;return r.width=e,r.height=t,Object.setPrototypeOf(r,dl.prototype),r}function hl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.border;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==e.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==e.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==e.colorModel)throw new Error("Both images must have the same colorModel");for(var r=new dl(e.width,e.height,-1/0),a=Math.floor(e.width/2),i=Math.floor(e.height/2),o=a,u=i,s=!1;!s;){for(var c=r.localSearch(a,i,-1/0),l=0;l<c.length;l++){var f=c[l],d=this.getSimilarity(e,{border:n,shift:[o-f[0],u-f[1]]});r[f[0]][f[1]]=d}var h=r.localMax(a,i);h.position[0]!==a||h.position[1]!==i?(a=h.position[0],i=h.position[1]):s=!0}return[a-o,i-u]}function pl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.checkProcessable("getRow",{bitDepth:[8,16]}),xc(this,e),Oc(this,t);for(var n=new Array(this.width),r=0,a=e*this.width*this.channels+t,i=a+this.width*this.channels,o=a;o<i;o+=this.channels)n[r++]=this.data[o];return n}function vl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.checkProcessable("getColumn",{bitDepth:[8,16]}),wc(this,e),Oc(this,t);for(var n=new Array(this.height),r=0,a=this.width*this.channels,i=t+e*this.channels;i<this.data.length;i+=a)n[r++]=this.data[i];return n}function ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),void 0===t){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");t=0}for(var n=new Rs.b(this.height,this.width),r=0;r<this.height;r++)for(var a=0;a<this.width;a++)n.set(r,a,this.getValueXY(a,r,t));return n}function gl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=new Rs.b(e);var n=t.channel;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),void 0===n){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");n=0}if(this.width!==e.columns||this.height!==e.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(var r=0;r<this.height;r++)for(var a=0;a<this.width;a++)this.setValueXY(a,r,n,e.get(r,a))}function bl(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});for(var e=new Array(this.size),t=0,n=0;n<this.data.length;n+=this.channels){for(var r=new Array(this.components),a=0;a<this.components;a++)r[a]=this.data[n+a];e[t++]=r}return e}function yl(e){for(var t=this,n=t.getClosestCommonParent(e),r=t.getRelativePosition(n,{defaultFurther:!0}),a=xl(t,r),i=e.getRelativePosition(n,{defaultFurther:!0}),o=xl(e,i),u=function(e,t){var n=0,r=0,a=[];for(;n<e.length&&r<t.length;)e[n][0]===t[r][0]&&e[n][1]===t[r][1]?(a.push(e[n]),n++,r++):e[n][0]<t[r][0]||e[n][0]===t[r][0]&&e[n][1]<t[r][1]?n++:r++;return a}(a,o),s={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]},c=0;c<u.length;c++){var l=u[c],f=[l[0]-r[0],l[1]-r[1]],d=[l[0]-i[0],l[1]-i[1]],h=t.getBitXY(f[0],f[1]),p=e.getBitXY(d[0],d[1]);1===h&&1===p&&s.commonWhitePixels.push(l)}for(var v=0;v<a.length;v++){var m=void 0,g=void 0;0!==v&&(m=Math.floor(v/t.width),g=v%t.width),1===t.getBitXY(m,g)&&s.whitePixelsMask1.push(a[v])}for(var b=0;b<o.length;b++){var y=0,x=0;0!==b&&(y=Math.floor(b/e.width),x=b%e.width),1===e.getBitXY(y,x)&&s.whitePixelsMask2.push(o[b])}return s}function xl(e,t){for(var n=[],r=0;r<e.height;r++)for(var a=0;a<e.width;a++){var i=[r,a];n.push([i[0]+t[0],i[1]+t[1]])}return n}function wl(e){var t,n=Ol(this),r=Ol(e);if(t=n>=r?kl(this,n):kl(e,r),0===n||0===r)return t;for(var a=this,i=e;n!==r;)if(n>r){if(null===(a=a.parent))return t;n-=1}else{if(null===(i=i.parent))return t;r-=1}for(;a!==i&&null!==a&&null!==i;)if(a=a.parent,i=i.parent,null===a||null===i)return t;return a!==i?t:a}function Ol(e){for(var t=0,n=e;null!=n.parent;)n=n.parent,t++;return t}function kl(e,t){for(var n=e;t>0;)n=n.parent,t-=1;return n}dl.prototype.localMin=function(e,t){for(var n=this[e][t],r=[e,t],a=Math.max(0,e-1);a<Math.min(this.length,e+2);a++)for(var i=Math.max(0,t-1);i<Math.min(this[0].length,t+2);i++)this[a][i]<n&&(n=this[a][i],r=[a,i]);return{position:r,value:n}},dl.prototype.localMax=function(e,t){for(var n=this[e][t],r=[e,t],a=Math.max(0,e-1);a<Math.min(this.length,e+2);a++)for(var i=Math.max(0,t-1);i<Math.min(this[0].length,t+2);i++)this[a][i]>n&&(n=this[a][i],r=[a,i]);return{position:r,value:n}},dl.prototype.localSearch=function(e,t,n){for(var r=[],a=Math.max(0,e-1);a<Math.min(this.length,e+2);a++)for(var i=Math.max(0,t-1);i<Math.min(this[0].length,t+2);i++)this[a][i]===n&&r.push([a,i]);return r};var jl={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},_l=[[-1,0,1],[-2,0,2],[-1,0,1]],Sl=[[-1,-2,-1],[0,0,0],[1,2,1]],El={bitDepth:32,mode:"periodic"};function Al(e){return function(e,t){e.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),t=Object.assign({},jl,t);for(var n=e.width,r=e.height,a=e.maxValue,i={sigma:t.gaussianBlur,radius:3},o=e.gaussianFilter(i),u=o.convolution(Sl,El),s=o.convolution(_l,El),c=s.hypotenuse(u),l=e.constructor,f=new l(n,r,{kind:"GREY",bitDepth:32}),d=new l(n,r,{kind:"GREY",bitDepth:32}),h=new l(n,r,{kind:"GREY"}),p=1;p<n-1;p++)for(var v=1;v<r-1;v++){var m=(Math.round(Math.atan2(s.getValueXY(p,v,0),u.getValueXY(p,v,0))*(5/Math.PI))+5)%5;0===m&&(c.getValueXY(p,v,0)<=c.getValueXY(p,v-1,0)||c.getValueXY(p,v,0)<=c.getValueXY(p,v+1,0))||1===m&&(c.getValueXY(p,v,0)<=c.getValueXY(p-1,v+1,0)||c.getValueXY(p,v,0)<=c.getValueXY(p+1,v-1,0))||2===m&&(c.getValueXY(p,v,0)<=c.getValueXY(p-1,v,0)||c.getValueXY(p,v,0)<=c.getValueXY(p+1,v,0))||3===m&&(c.getValueXY(p,v,0)<=c.getValueXY(p-1,v-1,0)||c.getValueXY(p,v,0)<=c.getValueXY(p+1,v+1,0))||f.setValueXY(p,v,0,c.getValueXY(p,v,0))}for(p=0;p<n*r;++p){var g=f.data[p],b=0;g>t.highThreshold&&(b++,h.data[p]=a),g>t.lowThreshold&&b++,d.data[p]=b}var y=[];for(p=1;p<n-1;++p)for(v=1;v<r-1;++v)if(1===d.getValueXY(p,v,0))e:for(var x=p-1;x<p+2;++x)for(var w=v-1;w<v+2;++w)if(2===d.getValueXY(x,w,0)){y.push([p,v]),h.setValueXY(p,v,0,a);break e}for(;y.length>0;){var O=[];for(p=0;p<y.length;++p)for(v=-1;v<2;++v)for(x=-1;x<2;++x)if(0!==v||0!==x){var k=y[p][0]+v,j=y[p][1]+x;1===d.getValueXY(k,j,0)&&0===h.getValueXY(k,j,0)&&(O.push([k,j]),h.setValueXY(k,j,0,a))}y=O}return h}(this,e)}function Cl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.position;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!n&&!(n=e.getRelativePosition(this)))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){for(var r=fd.createFrom(this,{width:e.width,height:e.height,alpha:1,position:n,parent:this}),a=0;a<e.width;a++)for(var i=0;i<e.height;i++){for(var o=0;o<this.channels;o++){var u=this.getValueXY(a+n[0],i+n[1],o);r.setValueXY(a,i,o,u)}e.getBitXY(a,i)||r.setValueXY(a,i,this.components,0)}return r}for(var s=fd.createFrom(this,{width:e.width,height:e.height,position:n,parent:this}),c=0;c<e.height;c++)for(var l=0;l<e.width;l++)e.getBitXY(l,c)&&this.getBitXY(l+n[0],c+n[1])&&s.setBitXY(l,c);return s}var Nl=n(569),Tl=n.n(Nl);function Dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r,i=e.inPlace,o=void 0===i||i,u=o?this:fd.createFrom(this);this.checkProcessable("floodFill",{bitDepth:1});var s=this.getBitXY(n,a);if(s)return u;var c=new Tl.a;for(c.push(new Il(n,a));c.length>0;){var l=c.shift();u.setBitXY(l.x,l.y);for(var f=l.x+1;f<this.width&&(!u.getBitXY(f,l.y)&&!this.getBitXY(f,l.y));f++)u.setBitXY(f,l.y),l.y+1<this.height&&!this.getBitXY(f,l.y+1)&&c.push(new Il(f,l.y+1)),l.y-1>=0&&!this.getBitXY(f,l.y-1)&&c.push(new Il(f,l.y-1));for(var d=l.x-1;d>=0&&(!u.getBitXY(d,l.y)&&!this.getBitXY(d,l.y));d++)u.setBitXY(d,l.y),l.y+1<this.height&&!this.getBitXY(d,l.y+1)&&c.push(new Il(d,l.y+1)),l.y-1>=0&&!this.getBitXY(d,l.y-1)&&c.push(new Il(d,l.y-1))}return u}function Il(e,t){this.x=e,this.y=t}var Ml=n(288),Fl=n.n(Ml);function Rl(e,t,n){var r=[],a=(n/=100)*(t/=100),i=e/60,o=a*(1-Math.abs(i%2-1)),u=n-a;return r=i>=0&&i<1?[a,o,0]:i>=1&&i<2?[o,a,0]:i>=2&&i<3?[0,a,o]:e>=3&&i<4?[0,o,a]:e>=4&&i<5?[o,0,a]:e>=5&&i<=6?[a,0,o]:[0,0,0],{r:Math.round(255*(r[0]+u)),g:Math.round(255*(r[1]+u)),b:Math.round(255*(r[2]+u))}}function Pl(e,t,n){var r=function(e,t,n){return{h:e,s:2*(t*=(n<50?n:100-n)/100)/(n+t)*100,v:n+t}}(e,t,n);return Rl(r.h,r.s,r.v)}var zl={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function Bl(e){return function(e){var t=zl[e.toLowerCase()];if(!t)return;return{r:t[0],g:t[1],b:t[2],a:100}}(e)||function(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:100}}(e)||function(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:100}}(e)||function(e){var t=e.match(/rgb\(([^)]+)\)/);if(t){var n=t[1].split(/ *, */).map(Number);return{r:n[0],g:n[1],b:n[2],a:100}}}(e)||function(e){var t=e.match(/rgba\(([^)]+)\)/);if(t){var n=t[1].split(/ *, */).map(Number);return{r:n[0],g:n[1],b:n[2],a:100*n[3]}}}(e)||function(e){var t=e.match(/hsl\(([^)]+)\)/);if(t){var n=t[1].split(/ *, */),r=Pl(parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10));return Fl()({},r,{a:100})}}(e)||function(e){var t=e.match(/hsla\(([^)]+)\)/);if(t){var n=t[1].split(/ *, */),r=parseInt(n[0],10),a=parseInt(n[1],10),i=parseInt(n[2],10),o=parseInt(100*parseFloat(n[3]),10),u=Pl(r,a,i);return Fl()({},u,{a:o})}}(e)}function Ll(e){var t=Bl(e);return[t.r,t.g,t.b,Math.round(255*t.a/100)]}function Ul(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Wl(e,t,n){var r,a,i,o,u,s;return n/=100,0===(t/=100)?o=u=s=255*n:(o=Ul(r=2*n-(a=n<=.5?n*(t+1):n+t-n*t),a,(i=e/360)+1/3),u=Ul(r,a,i),s=Ul(r,a,i-1/3)),{r:o,g:u,b:s}}function Vl(e){var t=e.color,n=e.colors,r=e.randomColors,a=e.numberColors,i=void 0===a?50:a;if(t&&!Array.isArray(t)&&(t=Ll(t)),t)return[t];if(n)return n=n.map((function(e){return Array.isArray(e)?e:Ll(e)})),n;if(r){n=new Array(i);for(var o=0;o<i;o++)n[o]=[Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random())]}return function(e){for(var t=new Array(e),n=0,r=0;r<360;r+=360/e){var a=Wl(r,100,30+ ++n%4*15);t[n-1]=[Math.round(255*a.r),Math.round(255*a.g),Math.round(255*a.b)]}return t}(i)}function Hl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.color,a=void 0===r?"blue":r,i=n.colors,o=n.font,u=void 0===o?"12px Helvetica":o,s=n.rotate,c=void 0===s?0:s;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:br}),!Array.isArray(e))throw Error("paintLabels: labels must be an array");if(!Array.isArray(t))throw Error("paintLabels: positions must be an array");if(a&&!Array.isArray(a)&&(a=Ll(a)),i=i?i.map((function(e){return Array.isArray(e)?e:Ll(e)})):[a],e.length!==t.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(u)||(u=[u]),Array.isArray(c)||(c=[c]);for(var l=this.getCanvas(),f=l.getContext("2d"),d=0;d<e.length;d++){f.save();var h=i[d%i.length];f.fillStyle="rgba(".concat(h[0],",").concat(h[1],",").concat(h[2],",").concat(h[3]/this.maxValue,")"),f.font=u[d%u.length];var p=t[d];f.translate(p[0],p[1]),f.rotate(c[d%c.length]/180*Math.PI),f.fillText(e[d],0,0),f.restore()}return this.data=Uint8Array.from(f.getImageData(0,0,this.width,this.height).data),this}function Gl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.alpha,r=void 0===n?255:n,a=t.labels,i=void 0===a?[]:a,o=t.labelsPosition,u=void 0===o?[]:o,s=t.labelColor,c=void 0===s?"blue":s,l=t.labelFont,f=void 0===l?"12px Helvetica":l;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:br});var d=Vl(Object.assign({},t,{numberColors:e.length}));Array.isArray(e)||(e=[e]);for(var h=0;h<e.length;h++)for(var p=e[h],v=d[h%d.length],m=0;m<p.width;m++)for(var g=0;g<p.height;g++)if(p.getBitXY(m,g))for(var b=0;b<Math.min(this.components,v.length);b++)if(255===r)this.setValueXY(m+p.position[0],g+p.position[1],b,v[b]);else{var y=this.getValueXY(m+p.position[0],g+p.position[1],b);y=Math.round((y*(255-r)+v[b]*r)/255),this.setValueXY(m+p.position[0],g+p.position[1],b,y)}if(Array.isArray(i)&&i.length>0){var x=this.getCanvas(),w=x.getContext("2d");w.fillStyle=c,w.font=f;for(var O=0;O<Math.min(e.length,i.length);O++){var k=u[O]?u[O]:e[O].position;w.fillText(i[O],k[0],k[1])}this.data=Uint8Array.from(w.getImageData(0,0,this.width,this.height).data)}return this}function ql(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(t).fill(0);return n}var Xl=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],Yl=[[0,1,0],[1,1,1],[0,1,0]],Kl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.a)(this,e);var n=t.kind,r=void 0===n?"cross":n,a=t.shape,i=t.size,o=t.width,s=t.height,c=t.filled,l=void 0===c||c;if(i&&(o=i,s=i),a)switch(a.toLowerCase()){case"square":case"rectangle":this.matrix=$l(o,s,{filled:l});break;case"circle":case"ellipse":this.matrix=Zl(o,s,{filled:l});break;case"triangle":this.matrix=Jl(o,s,{filled:l});break;default:throw new Error("Shape: unexpected shape: ".concat(a))}else{if(!r)throw new Error("Shape: expected a kind or a shape option");switch(r.toLowerCase()){case"cross":this.matrix=Xl;break;case"smallcross":this.matrix=Yl;break;default:throw new Error("Shape: unexpected kind: ".concat(r))}}this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2>>0,this.halfWidth=this.width/2>>0}return Object(s.a)(e,[{key:"getPoints",value:function(){for(var e=this.matrix,t=[],n=0;n<e.length;n++)for(var r=0;r<e[0].length;r++)e[n][r]&&t.push([r-this.halfWidth,n-this.halfHeight]);return t}},{key:"getMask",value:function(){for(var e=new fd(this.width,this.height,{kind:Cr}),t=0;t<this.matrix.length;t++)for(var n=0;n<this.matrix[0].length;n++)this.matrix[t][n]&&e.setBitXY(n,t);return e}}]),e}();function $l(e,t,n){var r=ql(t,e);if(n.filled)for(var a=0;a<t;a++)for(var i=0;i<e;i++)r[a][i]=1;else{for(var o=0,u=[0,t-1];o<u.length;o++)for(var s=u[o],c=0;c<e;c++)r[s][c]=1;for(var l=0;l<t;l++)for(var f=0,d=[0,e-1];f<d.length;f++){var h=d[f];r[l][h]=1}}return r}function Zl(e,t,n){var r=ql(t,e),a=1-t%2,i=1-e%2,o=Math.floor((e-1)/2),u=Math.floor((t-1)/2),s=o*o,c=u*u;if(n.filled)for(var l=0;l<=u;l++)for(var f=o-Math.floor(Math.sqrt(s-s*l*l/c));f<=o;f++)r[u-l][f]=1,r[u+l+a][f]=1,r[u-l][e-f-1]=1,r[u+l+a][e-f-1]=1;else{for(var d=0;d<=u;d++){var h=o-Math.floor(Math.sqrt(s-s*d*d/c));r[u-d][h]=1,r[u+d+a][h]=1,r[u-d][e-h-1]=1,r[u+d+a][e-h-1]=1}for(var p=0;p<=o;p++){var v=u-Math.floor(Math.sqrt(c-c*p*p/s));r[v][o-p]=1,r[v][o+p+i]=1,r[t-v-1][o-p]=1,r[t-v-1][o+p+i]=1}}return r}function Jl(e,t,n){if(!n.filled)throw new Error("Non filled triangle is not implemented");for(var r=ql(t,e),a=0;a<t;a++)for(var i=Math.floor((1-a/t)*e/2),o=i;o<e-i;o++)r[a][o]=1;return r}function Ql(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.shape;this.checkProcessable("paintPoints",{bitDepth:[8,16]});for(var r=Vl(Object.assign({},t,{numberColors:e.length})),a=new Kl(n).getPoints(),i=Math.min(this.channels,r[0].length),o=0;o<e.length;o++)for(var u=r[o%r.length],s=e[o][0],c=e[o][1],l=0;l<a.length;l++){var f=a[l][0],d=a[l][1];if(s+f>=0&&c+d>=0&&s+f<this.width&&c+d<this.height)for(var h=(s+f+(c+d)*this.width)*this.channels,p=0;p<i;p++)this.data[h+p]=u[p]}return this}function ef(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.color,r=void 0===n?[this.maxValue,0,0]:n,a=t.closed,i=void 0!==a&&a;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]});for(var o=Math.min(this.channels,r.length),u=0;u<e.length-1+i;u++)for(var s=e[u],c=e[(u+1)%e.length],l=c[0]-s[0],f=c[1]-s[1],d=Math.max(Math.abs(l),Math.abs(f)),h=l/d,p=f/d,v=s[0],m=s[1],g=0;g<=d;g++){var b=Math.round(v),y=Math.round(m);if(b>=0&&y>=0&&b<this.width&&y<this.height)if(1===this.bitDepth)this.setBitXY(b,y);else for(var x=(b+y*this.width)*this.channels,w=0;w<o;w++)this.data[x+w]=r[w];v+=h,m+=p}return this}function tf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});for(var r=Vl(Object.assign({},t,{numberColors:e.length})),a=0;a<e.length;a++)n.color=r[a%r.length],this.paintPolyline(e[a],n);return this}function nf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.color,r=void 0===n?[this.maxValue,0,0]:n,a=t.filled,i=void 0!==a&&a;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]}),t.closed=!0;var o=rf(e);if(!1===i)return this.paintPolyline(e,t);for(var u=Array(this.height),s=0;s<this.height;s++){u[s]=[];for(var c=0;c<this.width;c++)u[s].push(0)}for(var l=0;l<o.length;l++)for(var f=af(o[l],o[(l+1)%o.length]),d=0;d<this.height;d++)for(var h=0;h<this.width;h++)of(h,d,f,this.height)&&(u[d][h]=0===u[d][h]?1:0);for(var p=0;p<this.height;p++)for(var v=0;v<this.width;v++)if(1===u[p][v])if(1===this.bitDepth)this.setBitXY(v,p);else for(var m=Math.min(this.channels,r.length),g=(v+p*this.width)*this.channels,b=0;b<m;b++)this.data[g+b]=r[b];return this.paintPolyline(e,t)}function rf(e){for(var t=[],n=0;n<e.length;n++)e[n][0]===e[(n+1)%e.length][0]&&e[n][1]===e[(n+1)%e.length][1]||e[n][0]===e[(n-1+e.length)%e.length][0]&&e[n][1]===e[(n-1+e.length)%e.length][1]||e[(n+1)%e.length][0]===e[(n-1+e.length)%e.length][0]&&e[(n-1+e.length)%e.length][1]===e[(n+1)%e.length][1]||t.push(e[n]);return t}function af(e,t){if(e[0]===t[0])return{a:0,b:e[0],vertical:!0};var n=(t[1]-e[1])/(t[0]-e[0]);return{a:n,b:e[1]-n*e[0],vertical:!1}}function of(e,t,n,r){if(!0===n.vertical)return n.b<=e;if(0===n.a)return!1;var a=(t-n.b)/n.a;return a<e&&a>=0&&a<=r}function uf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});for(var r=Vl(Object.assign({},t,{numberColors:e.length})),a=0;a<e.length;a++)n.color=r[a%r.length],this.paintPolygon(e[a],n);return this}function sf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.maxSlots,n=void 0===t?256:t,r=e.channel,a=e.useAlpha,i=void 0===a||a;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),void 0===r){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");r=0}return lf.call(this,r,{useAlpha:i,maxSlots:n})}function cf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.maxSlots,n=void 0===t?256:t,r=e.useAlpha,a=void 0===r||r;this.checkProcessable("getHistograms",{bitDepth:[8,16]});for(var i=new Array(a?this.components:this.channels),o=0;o<i.length;o++)i[o]=lf.call(this,o,{useAlpha:a,maxSlots:n});return i}function lf(e,t){var n=t.useAlpha,r=t.maxSlots;if(1===this.bitDepth){for(var a=[0,0],i=0;i<this.height;i++)for(var o=0;o<this.width;o++){var u=this.getBitXY(i,o);0===u?a[0]+=1:1===u&&(a[1]+=1)}return a}var s=Math.log2(r);if(!ls()(s))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");var c=0;this.bitDepth>s&&(c=this.bitDepth-s);var l=this.data,f=Os()(Math.pow(2,Math.min(this.bitDepth,s)),0);if(n&&this.alpha)for(var d=this.channels-e-1,h=e;h<l.length;h+=this.channels)f[l[h]>>c]+=l[h+d]/this.maxValue;else for(var p=e;p<l.length;p+=this.channels)f[l[p]>>c]++;return f}function ff(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useAlpha,n=void 0===t||t,r=e.nbSlots,a=void 0===r?512:r;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});var i=Math.log(a)/Math.log(8);if(i!==Math.floor(i))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");for(var o=this.bitDepth-i,u=this.data,s=Os()(Math.pow(8,i),0),c=Math.pow(2,2*i),l=Math.pow(2,i),f=0;f<u.length;f+=this.channels){var d=(u[f]>>o)*c+(u[f+1]>>o)*l+(u[f+2]>>o);n&&this.alpha?s[d]+=u[f+this.channels-1]/this.maxValue:s[d]++}return s}function df(){this.checkProcessable("min",{bitDepth:[8,16,32]});for(var e=Os()(this.channels,1/0),t=0;t<this.data.length;t+=this.channels)for(var n=0;n<this.channels;n++)this.data[t+n]<e[n]&&(e[n]=this.data[t+n]);return e}function hf(){this.checkProcessable("max",{bitDepth:[8,16,32]});for(var e=Os()(this.channels,-1/0),t=0;t<this.data.length;t+=this.channels)for(var n=0;n<this.channels;n++)this.data[t+n]>e[n]&&(e[n]=this.data[t+n]);return e}function pf(){this.checkProcessable("sum",{bitDepth:[8,16]});for(var e=Os()(this.channels,0),t=0;t<this.data.length;t+=this.channels)for(var n=0;n<this.channels;n++)e[n]+=this.data[t+n];return e}function vf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.checkProcessable("getMoment",{bitDepth:[1]});for(var n=0,r=0;r<this.width;r++)for(var a=0;a<this.height;a++)1===this.getBitXY(r,a)&&(n+=Math.pow(r,e)*Math.pow(a,t));return n}function mf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mask,n=e.region,r=void 0===n?3:n,a=e.removeClosePoints,i=void 0===a?0:a,o=e.invert,u=void 0!==o&&o,s=e.maxEquals,c=void 0===s?2:s,l=this;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1});for(var f=u?0:1,d=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],h=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],p=(r*=4)<=8?1:2,v=[],m=p;m<l.height-p;m++)for(var g=p;g<l.width-p;g++)if(!t||t.getBitXY(g,m)===f){for(var b=0,y=0,x=l.data[g+m*l.width],w=0;w<r;w++)u?l.data[g+d[w]+(m+h[w])*l.width]>x&&b++:l.data[g+d[w]+(m+h[w])*l.width]<x&&b++,l.data[g+d[w]+(m+h[w])*l.width]===x&&y++;b+y===r&&y<=c&&v.push([g,m])}if(i>0)for(var O=0;O<v.length;O++)for(var k=O+1;k<v.length;k++)Math.sqrt(Math.pow(v[O][0]-v[k][0],2)+Math.pow(v[O][1]-v[k][1],2))<i&&(v[O][0]=v[O][0]+v[k][0]>>1,v[O][1]=v[O][1]+v[k][1]>>1,v.splice(k,1),k--);return v}function gf(){for(var e=this.getHistograms({maxSlots:this.maxValue+1}),t=new Array(e.length),n=0;n<e.length;n++){var r=e[n];t[n]=wu(r)}return t}function bf(){for(var e=this.getHistograms({maxSlots:this.maxValue+1}),t=new Array(e.length),n=0;n<e.length;n++){var r=e[n];t[n]=xu(r)}return t}function yf(){this.checkProcessable("points",{bitDepth:[1]});for(var e=[],t=0;t<this.width;t++)for(var n=0;n<this.height;n++)1===this.getBitXY(t,n)&&e.push([t,n]);return e}function xf(){this.checkProcessable("extendedPoints",{bitDepth:[1]});for(var e=[],t=0;t<this.height;t++)for(var n=0;n<this.width;n++)1===this.getBitXY(n,t)&&(e.push([n,t]),1!==this.getBitXY(n+1,t)?(e.push([n+1,t]),e.push([n+1,t+1]),1!==this.getBitXY(n,t+1)&&e.push([n,t+1])):1!==this.getBitXY(n,t+1)&&(e.push([n,t+1]),e.push([n+1,t+1])));return e}function wf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this===e)return[0,0];for(var n=[0,0],r=this;r;){if(r===e)return n;r.position&&(n[0]+=r.position[0],n[1]+=r.position[1]),r=r.parent}return!!t.defaultFurther&&n}function Of(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alpha,n=void 0===t?1:t;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});var r=0;if(void 0!==n){for(var a=this.components;a<this.data.length;a+=this.channels)this.data[a]===n&&r++;return r}return this.size}function kf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.sorted||e.sort(_f);for(var n=e.length,r=new Array(2*n),a=0,i=0;i<n;i++){for(var o=e[i];a>=2&&jf(r[a-2],r[a-1],o)<=0;)a--;r[a++]=o}var u=a+1;for(i=n-2;i>=0;i--){for(var s=e[i];a>=u&&jf(r[a-2],r[a-1],s)<=0;)a--;r[a++]=s}return r.slice(0,a-1)}function jf(e,t,n){return(t[1]-e[1])*(n[0]-e[0])-(t[0]-e[0])*(n[1]-e[1])}function _f(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}function Sf(){return kf(this.extendedPoints,{sorted:!1})}function Ef(e,t){return[e[0]-t[0],e[1]-t[1]]}function Af(e){var t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/t,e[1]/t]}function Cf(e,t,n){void 0===n&&(n=new Array(t.length));for(var r=Math.cos(e),a=Math.sin(e),i=0;i<n.length;++i)n[i]=[r*t[i][0]-a*t[i][1],a*t[i][0]+r*t[i][1]];return n}function Nf(e){for(var t=0,n=0;n<e.length;n++){var r=e[n][0],a=e[n][1],i=e[n===e.length-1?0:n+1][0],o=e[n===e.length-1?0:n+1][1];t+=Math.sqrt(Math.pow(i-r,2)+Math.pow(o-a,2))}return t}function Tf(e){for(var t=0,n=0;n<e.length;n++){t+=e[n][0]*e[n===e.length-1?0:n+1][1]*.5,t-=e[n===e.length-1?0:n+1][0]*e[n][1]*.5}return Math.abs(t)}function Df(e){for(var t=1/0,n=1/0,r=-1/0,a=-1/0,i=0;i<e.length;i++)e[i][0]<t&&(t=e[i][0]),e[i][0]>r&&(r=e[i][0]),e[i][1]<n&&(n=e[i][1]),e[i][1]>a&&(a=e[i][1]);return[[t,n],[r,a]]}function If(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.originalPoints,n=void 0===t?Sf.call(this):t;if(0===n.length)return[];if(1===n.length)return[n[0],n[0],n[0],n[0]];for(var r,a=new Array(n.length),i=1/0,o=0,u=0;u<a.length;u++){var s=Mf(n[u],n[(u+1)%a.length]);Cf(-s,n,a);for(var c=a[u][0],l=a[u][1],f=a[(u+1)%a.length][0],d=a[(u+1)%a.length][1],h=!0,p=0,v=0,m=0,g=0;g<a.length;g++){var b=a[g][0],y=a[g][1],x=(b-c)/(f-c);!0===h?(h=!1,p=x,v=x):(x<p&&(p=x),x>v&&(v=x));var w=(-(f-c)*y+f*l-d*c)/(f-c);Math.abs(w)>Math.abs(m)&&(m=w)}var O=[c+p*(f-c),l],k=[c+v*(f-c),l],j=Math.abs(m*(p-v)*(f-c));j<i&&(o=s,i=j,r=[O,k,[k[0],k[1]-m],[O[0],O[1]-m]])}return Cf(o,r,r),r}function Mf(e,t){var n=Af(Ef(t,e)),r=Math.acos(n[0]);return n[1]<0?-r:r}var Ff=n(570),Rf=n.n(Ff);function Pf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=n.split("."),a=Object(Hr.a)(r);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(void 0===e[i])return;e=e[i]}}catch(We){a.e(We)}finally{a.f()}return e}var zf=n(451),Bf=n.n(zf);function Lf(e,t){var n=Af(Ef(t,e)),r=Math.acos(n[0]);return n[1]<0?-r:r}var Uf=function(){function e(t,n){Object(u.a)(this,e),this.map=t,this.id=n,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}return Object(s.a)(e,[{key:"getMask",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scale,r=void 0===n?1:n,a=t.kind,i=void 0===a?"":a;switch(i){case"contour":e=this.contourMask;break;case"box":e=this.boxMask;break;case"filled":e=this.filledMask;break;case"center":e=this.centerMask;break;case"mbr":e=this.mbrFilledMask;break;case"hull":e=this.convexHullFilledMask;break;case"hullContour":e=this.convexHullMask;break;case"mbrContour":e=this.mbrMask;break;case"feret":e=this.feretMask;break;default:e=this.mask}return r<1&&((e=e.resize({factor:r})).parent=this.mask.parent,e.position[0]+=this.minX,e.position[1]+=this.minY),e}},{key:"mean",get:function(){throw new Error("Roi mean not implemented yet")}},{key:"center",get:function(){return this.computed.center||(this.computed.center=[this.width/2>>0,this.height/2>>0]),this.computed.center}},{key:"ratio",get:function(){return this.width/this.height}},{key:"width",get:function(){return this.maxX-this.minX+1}},{key:"height",get:function(){return this.maxY-this.minY+1}},{key:"_computExternalIDs",value:function(){var e=this.borderIDs,t=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];for(var n=this.internalIDs,r=0;r<e.length;r++)n.includes(e[r])||(this.computed.externalIDs.push(e[r]),this.computed.externalLengths.push(t[r]))}},{key:"externalIDs",get:function(){return this.computed.externalIDs||this._computExternalIDs(),this.computed.externalIDs}},{key:"externalLengths",get:function(){return this.computed.externalLengths||this._computExternalIDs(),this.computed.externalLengths}},{key:"_computeBorderIDs",value:function(){var e=function(e){for(var t=e.map,n=t.data,r=new Set,a=new Map,i=new Set,o=[1,0,-1,0],u=[0,1,0,-1],s=e.minX;s<=e.maxX;s++)for(var c=e.minY;c<=e.maxY;c++){if(n[s+c*t.width]===e.id)for(var l=0;l<4;l++){var f=s+o[l],d=c+u[l];if(f>=0&&d>=0&&f<t.width&&d<t.height){var h=f+d*t.width;if(n[h]!==e.id&&!i.has(h)){i.add(h),r.add(n[h]);var p=a.get(n[h]);p?a.set(n[h],++p):a.set(n[h],1)}}}}var v=Array.from(r),m=v.map((function(e){return a.get(e)}));return{ids:v,lengths:m}}(this);this.computed.borderIDs=e.ids,this.computed.borderLengths=e.lengths}},{key:"borderIDs",get:function(){return this.computed.borderIDs||this._computeBorderIDs(),this.computed.borderIDs}},{key:"borderLengths",get:function(){return this.computed.borderLengths||this._computeBorderIDs(),this.computed.borderLengths}},{key:"boxIDs",get:function(){return this.computed.boxIDs||(this.computed.boxIDs=function(e){for(var t=new Set,n=e.map,r=n.data,a=0,i=[0,e.height-1];a<i.length;a++)for(var o=i[a],u=0;u<e.width;u++){var s=(o+e.minY)*n.width+u+e.minX;if(u-e.minX>0&&r[s]===e.id&&r[s-1]!==e.id){var c=r[s-1];t.add(c)}if(n.width-u-e.minX>1&&r[s]===e.id&&r[s+1]!==e.id){var l=r[s+1];t.add(l)}}for(var f=0,d=[0,e.width-1];f<d.length;f++)for(var h=d[f],p=0;p<e.height;p++){var v=(p+e.minY)*n.width+h+e.minX;if(p-e.minY>0&&r[v]===e.id&&r[v-n.width]!==e.id){var m=r[v-n.width];t.add(m)}if(n.height-p-e.minY>1&&r[v]===e.id&&r[v+n.width]!==e.id){var g=r[v+n.width];t.add(g)}}return Array.from(t)}(this)),this.computed.boxIDs}},{key:"internalIDs",get:function(){return this.computed.internalIDs||(this.computed.internalIDs=function(e){var t=[e.id],n=e.map,r=n.data;if(e.height>2)for(var a=0;a<e.width;a++){var i=e.minY*n.width+a+e.minX;if(t.includes(r[i])){var o=r[i+n.width];t.includes(o)||e.boxIDs.includes(o)||t.push(o)}}for(var u=new Array(4),s=1;s<e.width-1;s++)for(var c=1;c<e.height-1;c++){var l=(c+e.minY)*n.width+s+e.minX;if(t.includes(r[l])){u[0]=r[l-1],u[1]=r[l+1],u[2]=r[l-n.width],u[3]=r[l+n.width];for(var f=0;f<4;f++){var d=u[f];t.includes(d)||e.boxIDs.includes(d)||t.push(d)}}}return t}(this)),this.computed.internalIDs}},{key:"box",get:function(){return this.computed.box||(this.computed.box=function(e){var t=0,n=e.map,r=n.data,a=[0];e.height>1&&(a[1]=e.height-1);for(var i=0,o=a;i<o.length;i++)for(var u=o[i],s=1;s<e.width-1;s++){r[(u+e.minY)*n.width+s+e.minX]===e.id&&t++}var c=[0];e.width>1&&(c[1]=e.width-1);for(var l=0,f=c;l<f.length;l++)for(var d=f[l],h=0;h<e.height;h++){r[(h+e.minY)*n.width+d+e.minX]===e.id&&t++}return t}(this)),this.computed.box}},{key:"external",get:function(){return this.computed.external||(this.computed.external=function(e){for(var t=0,n=e.map,r=n.data,a=1;a<e.width-1;a++)for(var i=1;i<e.height-1;i++){var o=(i+e.minY)*n.width+a+e.minX;r[o]===e.id&&(e.externalIDs.includes(r[o-1])||e.externalIDs.includes(r[o+1])||e.externalIDs.includes(r[o-n.width])||e.externalIDs.includes(r[o+n.width]))&&t++}return t+e.box}(this)),this.computed.external}},{key:"holesInfo",get:function(){return this.computed.holesInfo||(this.computed.holesInfo=function(e){for(var t=0,n=e.map.width,r=e.map.data,a=1;a<e.width-1;a++)for(var i=1;i<e.height-1;i++){var o=(i+e.minY)*n+a+e.minX;e.internalIDs.includes(r[o])&&r[o]!==e.id&&t++}return{number:e.internalIDs.length-1,surface:t}}(this)),this.computed.holesInfo}},{key:"border",get:function(){return this.computed.border||(this.computed.border=function(e){for(var t=0,n=e.map,r=n.data,a=1;a<e.width-1;a++)for(var i=1;i<e.height-1;i++){var o=(i+e.minY)*n.width+a+e.minX;r[o]===e.id&&(r[o-1]===e.id&&r[o+1]===e.id&&r[o-n.width]===e.id&&r[o+n.width]===e.id||t++)}return t+e.box}(this)),this.computed.border}},{key:"contourMask",get:function(){if(!this.computed.contourMask){for(var e=new fd(this.width,this.height,{kind:Cr,position:[this.minX,this.minY],parent:this.map.parent}),t=0;t<this.width;t++)for(var n=0;n<this.height;n++)this.map.data[t+this.minX+(n+this.minY)*this.map.width]===this.id&&(t>0&&t<this.width-1&&n>0&&n<this.height-1&&this.map.data[t-1+this.minX+(n+this.minY)*this.map.width]===this.id&&this.map.data[t+1+this.minX+(n+this.minY)*this.map.width]===this.id&&this.map.data[t+this.minX+(n-1+this.minY)*this.map.width]===this.id&&this.map.data[t+this.minX+(n+1+this.minY)*this.map.width]===this.id||e.setBitXY(t,n));this.computed.contourMask=e}return this.computed.contourMask}},{key:"boxMask",get:function(){if(!this.computed.boxMask){for(var e=new fd(this.width,this.height,{kind:Cr,position:[this.minX,this.minY],parent:this.map.parent}),t=0;t<this.width;t++)e.setBitXY(t,0),e.setBitXY(t,this.height-1);for(var n=0;n<this.height;n++)e.setBitXY(0,n),e.setBitXY(this.width-1,n);this.computed.boxMask=e}return this.computed.boxMask}},{key:"mask",get:function(){if(!this.computed.mask){for(var e=new fd(this.width,this.height,{kind:Cr,position:[this.minX,this.minY],parent:this.map.parent}),t=0;t<this.width;t++)for(var n=0;n<this.height;n++)this.map.data[t+this.minX+(n+this.minY)*this.map.width]===this.id&&e.setBitXY(t,n);this.computed.mask=e}return this.computed.mask}},{key:"filledMask",get:function(){if(!this.computed.filledMask){for(var e=new fd(this.width,this.height,{kind:Cr,position:[this.minX,this.minY],parent:this.map.parent}),t=0;t<this.width;t++)for(var n=0;n<this.height;n++){var r=t+this.minX+(n+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[r])&&e.setBitXY(t,n)}this.computed.filledMask=e}return this.computed.filledMask}},{key:"centerMask",get:function(){if(!this.computed.centerMask){var e=new Kl({kind:"smallCross"}).getMask();e.parent=this.map.parent,e.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=e}return this.computed.centerMask}},{key:"convexHull",get:function(){if(!this.computed.convexHull){for(var e=[],t=0;t<this.width;t++)for(var n=0;n<this.height;n++)this.map.data[t+this.minX+(n+this.minY)*this.map.width]===this.id&&(t>0&&t<this.width-1&&n>0&&n<this.height-1&&this.map.data[t-1+this.minX+(n+this.minY)*this.map.width]===this.id&&this.map.data[t+1+this.minX+(n+this.minY)*this.map.width]===this.id&&this.map.data[t+this.minX+(n-1+this.minY)*this.map.width]===this.id&&this.map.data[t+this.minX+(n+1+this.minY)*this.map.width]===this.id||(e.push([t,n]),e.push([t+1,n]),e.push([t,n+1]),e.push([t+1,n+1])));var r=kf(e);this.computed.convexHull={polyline:r,surface:Tf(r),perimeter:Nf(r)}}return this.computed.convexHull}},{key:"convexHullMask",get:function(){if(!this.computed.convexHullMask){var e=this.convexHull,t=new fd(this.width+1,this.height+1,{kind:Cr,position:[this.minX,this.minY],parent:this.map.parent});t.paintPolyline(e.polyline,{closed:!0}),this.computed.convexHullMask=t}return this.computed.convexHullMask}},{key:"convexHullFilledMask",get:function(){if(!this.computed.convexHullFilledMask){for(var e=this.convexHull,t=new fd(this.width,this.height,{kind:Cr,position:[this.minX,this.minY],parent:this.map.parent}),n=0;n<this.width;n++)for(var r=0;r<this.height;r++)1!==Bf()(e.polyline,[n,r])&&t.setBitXY(n,r);this.computed.convexHullFilledMask=t}return this.computed.convexHullFilledMask}},{key:"mbr",get:function(){if(!this.computed.mbr){var e=If({originalPoints:this.convexHull.polyline});if(0===e.length)this.computed.mbr={width:0,height:0,surface:0,perimeter:0,rectangle:e};else{var t=e[0],n=e[1],r=e[2],a=Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)),i=Math.sqrt(Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2));this.computed.mbr={width:a,height:i,elongation:1-a/i,aspectRatio:a/i,surface:a*i,perimeter:2*(a+i),rectangle:e}}}return this.computed.mbr}},{key:"fillRatio",get:function(){return this.surface/(this.surface+this.holesInfo.surface)}},{key:"feretDiameters",get:function(){return this.computed.feretDiameters||(this.computed.feretDiameters=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).originalPoints,t=void 0===e?Sf.call(this):e;if(0===t.length)return{min:0,max:0,minLine:[],maxLine:[],aspectRatio:1};if(1===t.length)return{min:1,max:1,minLine:[t[0],t[0]],maxLine:[t[0],t[0]],aspectRatio:1};for(var n=new Array(t.length),r=1/0,a=0,i=[],o=0;o<t.length;o++){var u=Lf(t[o],t[(o+1)%t.length]);Cf(-u,t,n);for(var s=0,c=[],l=0;l<t.length;l++){var f=Math.abs(n[o][1]-n[l][1]);f>s&&(s=f,(c=[]).push([n[l][0],n[o][1]],[n[l][0],n[l][1]]))}s<r&&(r=s,a=u,i=c)}Cf(a,i,i);for(var d=0,h=[],p=0,v=0;v<t.length-1;v++)for(var m=v+1;m<t.length;m++){var g=Math.pow(t[v][0]-t[m][0],2)+Math.pow(t[v][1]-t[m][1],2);g>p&&(p=g,d=Math.sqrt(g),h=[t[v],t[m]])}return{min:r,minLine:i,max:d,maxLine:h,aspectRatio:r/d}}({originalPoints:this.convexHull.polyline})),this.computed.feretDiameters}},{key:"eqpc",get:function(){return this.computed.eqpc||(this.computed.eqpc=2*Math.sqrt(this.surface/Math.PI)),this.computed.eqpc}},{key:"perimeterInfo",get:function(){return this.computed.perimeterInfo||(this.computed.perimeterInfo=function(e){for(var t=e.map,n=t.data,r=0,a=0,i=0,o=0,u=0;u<e.width;u++)for(var s=0;s<e.height;s++){var c=(s+e.minY)*t.width+u+e.minX;if(n[c]===e.id){var l=0;switch((0===u||e.externalIDs.includes(n[c-1]))&&l++,(u===e.width-1||e.externalIDs.includes(n[c+1]))&&l++,(0===s||e.externalIDs.includes(n[c-t.width]))&&l++,(s===e.height-1||e.externalIDs.includes(n[c+t.width]))&&l++,l){case 1:r++;break;case 2:a++;break;case 3:i++;break;case 4:o++}}}return{one:r,two:a,three:i,four:o}}(this)),this.computed.perimeterInfo}},{key:"perimeter",get:function(){var e=this.perimeterInfo,t=2-Math.sqrt(2);return e.one+2*e.two+3*e.three+4*e.four-t*(e.two+2*e.three+e.four)}},{key:"ped",get:function(){return this.computed.ped||(this.computed.ped=this.perimeter/Math.PI),this.computed.ped}},{key:"feretMask",get:function(){if(!this.computed.feretMask){var e=new fd(this.width+1,this.height+1,{kind:Cr,position:[this.minX,this.minY],parent:this.map.parent});e.paintPolyline(this.feretDiameters.minLine),e.paintPolyline(this.feretDiameters.maxLine),this.computed.feretMask=e}return this.computed.feretMask}},{key:"mbrMask",get:function(){if(!this.computed.mbrMask){var e=function(e){for(var t=0;t<e.length;t++)e[t][0]=Math.round(e[t][0]),e[t][1]=Math.round(e[t][1]);return e}(this.mbr.rectangle);if(e.length>0){var t=Df(e),n=new fd(t[1][0]-t[0][0]+1,t[1][1]-t[0][1]+1,{kind:Cr,position:[this.minX+t[0][0],this.minY+t[0][1]],parent:this.map.parent});e=function(e,t){void 0===t&&(t=new Array(e.length).fill(0).map((function(){return[]})));for(var n=Df(e),r=n[0][0],a=n[0][1],i=0;i<e.length;i++)t[i][0]=e[i][0]-r,t[i][1]=e[i][1]-a;return t}(e),n.paintPolyline(e,{closed:!0}),this.computed.mbrMask=n}else this.computed.mbrMask=new fd(1,1,{kind:Cr,position:[this.minX,this.minY],parent:this.map.parent})}return this.computed.mbrMask}},{key:"mbrFilledMask",get:function(){if(!this.computed.mbrFilledMask){for(var e=new fd(this.width,this.height,{kind:Cr,position:[this.minX,this.minY],parent:this.map.parent}),t=this.mask.minimalBoundingRectangle(),n=0;n<this.width;n++)for(var r=0;r<this.height;r++)1!==Bf()(t,[n,r])&&e.setBitXY(n,r);this.computed.mbrFilledMask=e}return this.computed.mbrFilledMask}},{key:"points",get:function(){if(!this.computed.points){for(var e=[],t=0;t<this.height;t++)for(var n=0;n<this.width;n++){var r=(t+this.minY)*this.map.width+n+this.minX;this.map.data[r]===this.id&&e.push([n,t])}this.computed.points=e}return this.computed.points}},{key:"maxLengthPoints",get:function(){if(!this.computed.maxLengthPoints){for(var e,t=0,n=this.points,r=0;r<n.length;r++)for(var a=r+1;a<n.length;a++){var i=Math.pow(n[r][0]-n[a][0],2)+Math.pow(n[r][1]-n[a][1],2);i>=t&&(t=i,e=[n[r],n[a]])}this.computed.maxLengthPoints=e}return this.computed.maxLengthPoints}},{key:"maxLength",get:function(){if(!this.computed.maxLength){var e=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=e}return this.computed.maxLength}},{key:"roundness",get:function(){return 4*this.surface/(Math.PI*Math.pow(this.feretDiameters.max,2))}},{key:"sphericity",get:function(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}},{key:"solidity",get:function(){return this.surface/this.convexHull.surface}},{key:"angle",get:function(){if(!this.computed.angle){var e=this.maxLengthPoints,t=180*-Math.atan2(e[0][1]-e[1][1],e[0][0]-e[1][0])/Math.PI;this.computed.angle=t}return this.computed.angle}},{key:"toJSON",value:function(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface,mbrWidth:this.mbr.width,mbrHeight:this.mbr.height,mbrSurface:this.mbr.surface,eqpc:this.eqpc,ped:this.ped,feretDiameterMin:this.feretDiameters.min,feretDiameterMax:this.feretDiameters.max,aspectRatio:this.feretDiameters.aspectRatio,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter}}}]),e}();var Wf=function(){function e(t,n){Object(u.a)(this,e),this.roiMap=t,this.options=n,this.roi=this.createRoi()}return Object(s.a)(e,[{key:"createRoi",value:function(){var e=this.roiMap.data,t={};this.roiMap.positive=0,this.roiMap.negative=0;for(var n=0;n<e.length;n++)e[n]&&!t[e[n]]&&(t[e[n]]=!0,e[n]>0?this.roiMap.positive++:this.roiMap.negative++);var r={};for(var a in t)r[a]=new Uf(this.roiMap,1*a);for(var i=this.roiMap.width,o=this.roiMap.height,u=0;u<o;u++)for(var s=0;s<i;s++){var c=u*i+s;if(0!==e[c]){var l=r[e[c]];s<l.minX&&(l.minX=s),s>l.maxX&&(l.maxX=s),u<l.minY&&(l.minY=u),u>l.maxY&&(l.maxY=u),l.meanX+=s,l.meanY+=u,l.surface++}}var f=[];for(var d in t)r[d].meanX/=r[d].surface,r[d].meanY/=r[d].surface,f.push(r[d]);return f}}]),e}();function Vf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.algorithm,n=void 0===t?"commonBorderLength":t,r=e.minCommonBorderLength,a=void 0===r?5:r,i=e.maxCommonBorderLength,o=void 0===i?100:i,u=e.minCommonBorderRatio,s=void 0===u?.3:u,c=e.maxCommonBorderRatio,l=void 0===c?1:c,f=function(e,t,n){return e[n]>=a&&e[n]<=o};"function"===typeof n&&(f=n),"commonborderratio"===n.toLowerCase()&&(f=function(e,t,n){var r=Math.min(e[n]/e[t],1);return r>=s&&r<=l});for(var d=this,h=d.commonBorderLength,p={},v={},m=0,g=Object.keys(h);m<g.length;m++)for(var b=g[m],y=h[b],x=Object.keys(y),w=0,O=x;w<O.length;w++){var k=O[w];if(k!==b&&f(y,b,k)){var j=k;v[k]&&(j=v[k]);var _=b;if(v[b]&&(_=v[b]),Number(j)!==_){var S=Math.min(j,_),E=Math.max(j,_);if(p[S]||(p[S]={}),p[S][E]=!0,v[E]=S,p[E]){for(var A=0,C=Object.keys(p[E]);A<C.length;A++){var N=C[A];p[S][N]=!0,v[N]=S}delete p[E]}}}}for(var T=d.minMax,D=-T.min,I=T.max+D,M=new Array(I+1).fill(0),F=0,R=Object.keys(v);F<R.length;F++){var P=R[F];M[Number(P)+D]=v[P]}for(var z=d.data,B=0;B<z.length;B++){var L=z[B];if(0!==L){var U=M[L+D];0!==U&&(z[B]=U)}}return d.computed={},d}var Hf=function(){function e(t,n){Object(u.a)(this,e),this.parent=t,this.width=t.width,this.height=t.height,this.data=n,this.negative=0,this.positive=0}return Object(s.a)(e,[{key:"total",get:function(){return this.negative+this.positive}},{key:"minMax",get:function(){for(var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER,n=0;n<this.data.length;n++)this.data[n]<e&&(e=this.data[n]),this.data[n]>t&&(t=this.data[n]);return{min:e,max:t}}},{key:"commonBorderLength",get:function(){return function(e){for(var t=e.data,n=[1,0,-1,0],r=[0,1,0,-1],a=e.minMax,i=-a.min,o=a.max+i,u=[],s=0;s<=o;s++)u.push(Object.create(null));for(var c=0;c<e.width;c++)for(var l=0;l<e.height;l++){var f=t[c+l*e.width];if(0!==f){for(var d=Object.create(null),h=!1,p=0;p<4;p++){var v=c+n[p],m=l+r[p];if(v>=0&&m>=0&&v<e.width&&m<e.height){var g=t[v+m*e.width];f!==g&&(h=!0,0!==g&&void 0===d[g]&&(d[g]=!0,u[g+i][f]?u[g+i][f]++:u[g+i][f]=1))}else h=!0}h&&(u[f+i][f]?u[f+i][f]++:u[f+i][f]=1)}}for(var b={},y=0;y<u.length;y++)Object.keys(u[y]).length>0&&(b[y-i]=u[y]);return b}(this)}},{key:"mergeRoi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Vf.call(this,e)}},{key:"mergeRois",value:function(e){for(var t=e[0],n=e.slice(1),r=0;r<this.data.length;r++)n.includes(this.data[r])&&(this.data[r]=t)}},{key:"rowsInfo",value:function(){for(var e=new Array(this.height),t=0,n=0;n<this.data.length;n+=this.width){var r={row:t,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};e[t++]=r;for(var a={},i={},o=[],u=this.data[n],s=0,c=n;c<n+this.width;c++){var l=this.data[c];u!==l&&(u=l,o.push(s),s=0),s++,l>0?(r.positivePixel++,a[l]||(a[l]=!0)):l<0?(r.negativePixel++,i[l]||(i[l]=!0)):r.zeroPixel++}o.push(s),r.medianChange=o.sort((function(e,t){return e-t}))[Math.floor(o.length/2)],r.positiveRoiIDs=Object.keys(a),r.negativeRoiIDs=Object.keys(i),r.positiveRoi=r.positiveRoiIDs.length,r.negativeRoi=r.negativeRoiIDs.length}return e}},{key:"colsInfo",value:function(){for(var e=new Array(this.width),t=0,n=0;n<this.width;n++){var r={col:t,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};e[t++]=r;for(var a={},i={},o=[],u=this.data[n],s=0,c=n;c<n+this.data.length;c+=this.width){var l=this.data[c];u!==l&&(u=l,o.push(s),s=0),s++,l>0?(r.positivePixel++,a[l]||(a[l]=!0)):l<0?(r.negativePixel++,i[l]||(i[l]=!0)):r.zeroPixel++}o.push(s),r.medianChange=o.sort((function(e,t){return e-t}))[Math.floor(o.length/2)],r.positiveRoiIDs=Object.keys(a),r.negativeRoiIDs=Object.keys(i),r.positiveRoi=r.positiveRoiIDs.length,r.negativeRoi=r.negativeRoiIDs.length}return e}}]),e}();function Gf(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.allowCorners,r=void 0!==n&&n,a=65535,i=new Int16Array(e.size),o=0,u=0,s=new Uint16Array(a+1),c=new Uint16Array(a+1),l=0;l<e.width;l++)for(var f=0;f<e.height;f++)0===i[f*e.width+l]&&d(l,f);function d(t,n){var l=0,f=0,d=e.getBitXY(t,n),h=d?++o:--u;if(o>32767||u<-32768)throw new Error("Too many regions of interest");for(s[0]=t,c[0]=n;l<=f;){var p=s[l&a],v=c[l&a];if(i[v*e.width+p]=h,p>0&&0===i[v*e.width+p-1]&&e.getBitXY(p-1,v)===d&&(f++,s[f&a]=p-1,c[f&a]=v,i[v*e.width+p-1]=-32768),v>0&&0===i[(v-1)*e.width+p]&&e.getBitXY(p,v-1)===d&&(f++,s[f&a]=p,c[f&a]=v-1,i[(v-1)*e.width+p]=-32768),p<e.width-1&&0===i[v*e.width+p+1]&&e.getBitXY(p+1,v)===d&&(f++,s[f&a]=p+1,c[f&a]=v,i[v*e.width+p+1]=-32768),v<e.height-1&&0===i[(v+1)*e.width+p]&&e.getBitXY(p,v+1)===d&&(f++,s[f&a]=p,c[f&a]=v+1,i[(v+1)*e.width+p]=-32768),r&&(p>0&&v>0&&0===i[(v-1)*e.width+p-1]&&e.getBitXY(p-1,v-1)===d&&(f++,s[f&a]=p-1,c[f&a]=v-1,i[(v-1)*e.width+p-1]=-32768),p<e.width-1&&v>0&&0===i[(v-1)*e.width+p+1]&&e.getBitXY(p+1,v-1)===d&&(f++,s[f&a]=p+1,c[f&a]=v-1,i[(v-1)*e.width+p+1]=-32768),p>0&&v<e.height-1&&0===i[(v+1)*e.width+p-1]&&e.getBitXY(p-1,v+1)===d&&(f++,s[f&a]=p-1,c[f&a]=v+1,i[(v+1)*e.width+p-1]=-32768),p<e.width-1&&v<e.height-1&&0===i[(v+1)*e.width+p+1]&&e.getBitXY(p+1,v+1)===d&&(f++,s[f&a]=p+1,c[f&a]=v+1,i[(v+1)*e.width+p+1]=-32768)),f-++l>a)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new Hf(e,i)}var qf=n(571),Xf=n.n(qf),Yf=[-1,0],Kf=[0,-1],$f=[null,null],Zf=[-1,-1,0,1],Jf=[0,-1,-1,-1],Qf=[null,null,null,null];function ed(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.allowCorners,o=void 0!==i&&i,u=4;if(o&&(u=8),8===u)t=Zf,n=Jf,r=Qf;else{if(4!==u)throw new RangeError("unsupported neighbours count: ".concat(u));t=Yf,n=Kf,r=$f}for(var s=e.size,c=e.width,l=e.height,f=new Array(s),d=new Uint32Array(s),h=new Xf.a,p=1,v=0;v<l;v++)for(var m=0;m<c;m++){var g=m+v*c;if(e.getBit(g)){for(var b=null,y=0;y<r.length;y++){var x=m+t[y],w=v+n[y];if(x>=0&&w>=0&&x<c&&w<l){var O=x+w*c,k=f[O];k?(r[y]=k,(!b||r[y].value<b.value)&&(b=r[y])):r[y]=null}}if(b){f[g]=b;for(var j=0;j<r.length;j++)r[j]&&r[j]!==b&&h.union(b,r[j])}else f[g]=h.add(p++)}}for(var _=0;_<l;_++)for(var S=0;S<c;S++){var E=S+_*c;e.getBit(E)&&(d[E]=h.find(f[E]).value)}return new Hf(e,d)}function td(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowCorner,n=void 0===t||t,r=e.onlyTop,a=void 0!==r&&r,i=(e.invert,this);i.checkProcessable("fromMaxima",{components:[1]});var o=1,u=2,s=0,c=0,l=new Int16Array(i.size),f=new Int8Array(i.size),d=new Float32Array(i.size),h=1048575,p=new Uint16Array(h+1),v=new Uint16Array(h+1),m=0,g=0,b=new Uint16Array(h+1),y=new Uint16Array(h+1),x=0,w=0;for(j(i);m<g;){var O=p[m&h],k=v[m&h];S(O,k,u),m++}return new Hf(i,l);function j(e){for(var t=e.maxima,r=void 0===t||t,a=1;a<i.height-1;a++)for(var o=1;o<i.width-1;o++){var u=o+a*i.width;if(0===f[u]){var d=r?i.data[u]:-i.data[o+a*i.width];if(i.data[a*i.width+o-1]>d)continue;if(i.data[a*i.width+o+1]>d)continue;if(i.data[(a-1)*i.width+o]>d)continue;if(i.data[(a+1)*i.width+o]>d)continue;if(n){if(i.data[(a-1)*i.width+o-1]>d)continue;if(i.data[(a-1)*i.width+o+1]>d)continue;if(i.data[(a+1)*i.width+o-1]>d)continue;if(i.data[(a+1)*i.width+o+1]>d)continue}l[u]=r?++s:--c,_(o,a)||(r?--s:++c)}}}function _(e,t){var n=g;x=0,w=1,b[0]=e,y[0]=t;for(var r=!0;x<w;){r&=S(b[x&h],y[x&h],o),x++}if(!r){for(var a=0;a<w;a++){var u=b[a&h],s=y[a&h]*i.width+u;l[s]=0}g=n}return r}function S(e,t,n){for(var r=l[t*i.width+e],s=i.data[t*i.width+e],c=t-1;c<=t+1;c++)for(var m=e-1;m<=e+1;m++){var x=c*i.width+m;if(0===f[x])switch(f[x]=1,d[x]=i.data[x]-s,n){case o:if(0===d[x]){if(0===m||0===c||m===i.width-1||c===i.height-1)return!1;l[x]=r,b[w&h]=m,y[w&h]=c,w++}else{if(d[x]>0)return!1;a||(l[x]=r,p[g&h]=m,v[g&h]=c,g++)}break;case u:d[x]<=0&&(l[x]=r,p[g&h]=m,v[g&h]=c,g++);break;default:throw new Error("unreachable")}}return!0}}function nd(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Kl(t),r=new Int16Array(this.size),a=0,i=n.getPoints(),o=0;o<e.length;o++){a++;for(var u=e[o][0],s=e[o][1],c=0;c<i.length;c++){var l=i[c][0],f=i[c][1];u+l>=0&&s+f>=0&&u+l<this.width&&s+f<this.height&&(r[u+l+(s+f)*this.width]=a)}}return new Hf(this,r)}var rd=n(452),ad=n.n(rd),id=[1,0,-1,0,1,1,-1,-1],od=[0,1,0,-1,1,-1,1,-1];function ud(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.points,n=e.mask,r=e.image,a=e.fillMaxValue,i=void 0===a?this.maxValue:a,o=e.invert,u=void 0!==o&&o,s=r||this;s.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),u=!u,t||(t=s.getLocalMaxima({invert:u,mask:n}));for(var c=u?0:1,l=new Int16Array(s.size),f=s.width,d=s.height,h=new ad.a({comparator:function(e,t){return e[2]-t[2]},strategy:ad.a.BinaryHeapStrategy}),p=0;p<t.length;p++){var v=t[p][0]+t[p][1]*f;l[v]=p+1;var m=s.data[v];(u&&m<=i||!u&&m>=i)&&h.queue([t[p][0],t[p][1],m])}for(;h.length>0;)for(var g=h.dequeue(),b=g[0]+g[1]*f,y=0;y<4;y++){var x=g[0]+id[y],w=g[1]+od[y];if(x>=0&&w>=0&&x<f&&w<d){var O=x+w*f;if(!n||n.getBit(O)===c){var k=s.data[O];(u&&k<=i||!u&&k>=i)&&0===l[O]&&(l[O]=l[b],h.queue([g[0]+id[y],g[1]+od[y],k]))}}}return new Hf(s,l)}var sd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(u.a)(this,e),this._image=t,this._options=n,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}return Object(s.a)(e,[{key:"fromMaxima",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},this._options,e),n=td.call(this._image,e);this._layers[t.label]=new Wf(n,t)}},{key:"fromPoints",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._options,t),r=nd.call(this._image,e,t);return this._layers[n.label]=new Wf(r,n),this}},{key:"putMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Hf(this._image,e),r=Object.assign({},this._options,t);return this._layers[r.label]=new Wf(n,r),this}},{key:"fromWaterShed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},this._options,e),n=ud.call(this._image,e);this._layers[t.label]=new Wf(n,t)}},{key:"fromMask",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._options,t),r=Gf.call(this._image,e,t);return this._layers[n.label]=new Wf(r,n),this}},{key:"fromMaskConnectedComponentLabelingAlgorithm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._options,t),r=ed.call(this._image,e,t);return this._layers[n.label]=new Wf(r,n),this}},{key:"getMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},this._options,e);return this._assertLayerWithLabel(t.label),this._layers[t.label].roiMap}},{key:"rowsInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getMap(e).rowsInfo()}},{key:"colsInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getMap(e).rowsInfo()}},{key:"getRoiIds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getRois(e);if(t){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r].id;return n}throw new Error("ROIs not found")}},{key:"getRois",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.label,n=void 0===t?this._options.label:t,r=e.positive,a=void 0===r||r,i=e.negative,o=void 0===i||i,u=e.minSurface,s=void 0===u?0:u,c=e.maxSurface,l=void 0===c?Number.POSITIVE_INFINITY:c,f=e.minWidth,d=void 0===f?0:f,h=e.maxWidth,p=void 0===h?Number.POSITIVE_INFINITY:h,v=e.minHeight,m=void 0===v?0:v,g=e.maxHeight,b=void 0===g?Number.POSITIVE_INFINITY:g,y=e.minRatio,x=void 0===y?0:y,w=e.maxRatio,O=void 0===w?Number.POSITIVE_INFINITY:w;if(!this._layers[n])throw new Error("this Roi layer (".concat(n,") does not exist"));var k,j=this._layers[n].roi,_=[],S=Object(Hr.a)(j);try{for(S.s();!(k=S.n()).done;){var E=k.value;(E.id<0&&o||E.id>0&&a)&&E.surface>=s&&E.surface<=l&&E.width>=d&&E.width<=p&&E.height>=m&&E.height<=b&&E.ratio>=x&&E.ratio<=O&&_.push(E)}}catch(We){S.e(We)}finally{S.f()}return _}},{key:"getRoi",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.label,r=void 0===n?this._options.label:n;if(!this._layers[r])throw new Error("this Roi layer (".concat(r,") does not exist"));var a=this._layers[r].roi.find((function(t){return t.id===e}));if(!a)throw new Error("found no Roi with id ".concat(e));return a}},{key:"getMasks",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getRois(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r].getMask(e);return n}},{key:"getAnalysisMasks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.analysisProperty,n="".concat(t,"Mask"),r=this.getRois(e);return 0!==r.length&&r[0][n]?r.map((function(e){return e[n]})):[]}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},this._options,e);return this._assertLayerWithLabel(t.label),this._layers[t.label].roiMap.data}},{key:"paint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labelProperty,n=e.analysisProperty;this._painted||(this._painted=this._image.rgba8());var r=this.getMasks(e);if(t){var a=this.getRois(e);e.labels=a.map((function(e){return Pf(e,t)}));var i=Math.max.apply(Math,Object(hr.a)(e.labels)),o=!1,u=!1;if(t.includes("surface")?o=!0:/(?:perimeter|min|max|external|width|height|length)/.test(t)&&(u=!0),isFinite(i)){var s="";if("pixel"!==e.unit&&e.pixelSize&&(u||o)){s=o?"".concat(e.unit,"^2"):e.unit;var c=o?"m^2":"m",l=o?Math.pow(e.pixelSize,2):e.pixelSize,f=Rf.a.swiftConverter(c,s);e.labels=e.labels.map((function(e){return f(l*e)}))}e.labels=i>50?e.labels.map((function(e){return Math.round(e)+s})):i>10?e.labels.map((function(e){return e.toFixed(1)+s})):e.labels.map((function(e){return e.toFixed(2)+s}))}e.labelsPosition=a.map((function(e){return[e.meanX,e.meanY]}))}if(this._painted.paintMasks(r,e),n){var d=this.getAnalysisMasks(e);this._painted.paintMasks(d,{color:e.analysisColor,alpha:e.analysisAlpha})}return this._painted}},{key:"getMask",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new fd(this._image.width,this._image.height,{kind:"BINARY"}),n=this.getMasks(e),r=0;r<n.length;r++)for(var a=n[r],i=0;i<a.width;i++)for(var o=0;o<a.height;o++)a.getBitXY(i,o)&&t.setBitXY(i+a.position[0],o+a.position[1]);return t}},{key:"resetPainted",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.image;this._painted=t?this.image.rgba8():this._image.rgba8()}},{key:"mergeRoi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getMap(e);return t.mergeRoi(e),this.putMap(t.data,e),this}},{key:"mergeRois",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Array.isArray(e)||e.some((function(e){return!Number.isInteger(e)})))throw new Error("Roi ids must be an array of integers");if(e.length<2)throw new Error("Roi ids must have at least two elements");if(new Set(e).size!==e.length)throw new Error("Roi ids must be all different");e.forEach((function(e){return t.getRoi(e)}));var r=this.getMap(n);return r.mergeRois(e),this.putMap(r.data,n),this}},{key:"findCorrespondingRoi",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRois(t),r=[],a=0;a<n.length;a++){var i=n[a],o=i.minX,u=i.minY,s=i.points,c=Math.sign(i.id),l=cd(o,u,s,e,c);r.push(l)}return r}},{key:"_assertLayerWithLabel",value:function(e){if(!this._layers[e])throw new Error("no layer with label ".concat(e))}}]),e}();function cd(e,t,n,r,a){for(var i={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0},o=0;o<n.length;o++){var u=n[o],s=u[0]+e+(u[1]+t)*r.width,c=r.data[s];(c>0||c<0)&&(i.id.includes(c)?i.surface[i.id.indexOf(c)]+=1:(i.id.push(c),i.surface.push(1)))}for(var l=0;l<i.id.length;l++){Math.sign(i.id[l])===a?i.same+=i.surface[l]:i.opposite+=i.surface[l],i.roiSurfaceCovered[l]=i.surface[l]/n.length}return i.total=i.opposite+i.same,i}var ld=Object.prototype.toString,fd=function(e){function t(e,n,r,a){if(Object(u.a)(this,t),1===arguments.length){var i=a=e;e=i.width,n=i.height,r=i.data}else if(r&&!r.length){var o=a=r;r=o.data}if(void 0===e&&(e=1),void 0===n&&(n=1),void 0===a&&(a={}),"object"!==typeof a||null===a)throw new TypeError("options must be an object");if(!Number.isInteger(e)||e<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new RangeError("height must be a positive integer");var s=a,c=s.kind,l=void 0===c?Nr:c;if("string"!==typeof l)throw new TypeError("kind must be a string");var f=Dr(l),d=Object.assign({},a);for(var h in f)void 0===d[h]&&(d[h]=f[h]);Mr(d);var p=d.components,v=d.bitDepth,m=d.colorModel,g=d.alpha+0,b=e*n,y=p+g,x=32===v?Number.MAX_VALUE:Math.pow(2,v)-1;if(void 0===r)r=Rr(b,p,g,y,v,x);else{var w=Fr(b,y,v);if(r.length!==w)throw new RangeError("incorrect data size: ".concat(r.length,". Should be ").concat(w))}this.width=e,this.height=n,this.data=r,this.size=b,this.components=p,this.alpha=g,this.bitDepth=v,this.maxValue=x,this.colorModel=m,this.channels=y,this.meta=a.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:a.parent||null}),this.position=a.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}return Object(s.a)(t,[{key:e,get:function(){return"IJSImage"}},{key:"getRoiManager",value:function(e){return new sd(this,e)}},{key:"clone",value:function(){var e=this.data.slice();return new t(this.width,this.height,e,this)}},{key:"apply",value:function(e){for(var t=0;t<this.height;t++)for(var n=0;n<this.width;n++){var r=(t*this.width+n)*this.channels;e.call(this,r)}}}],[{key:"isImage",value:function(e){return"[object IJSImage]"===ld.call(e)}},{key:"fromCanvas",value:function(e){var n=e.getContext("2d").getImageData(0,0,e.width,e.height);return new t(n.width,n.height,n.data)}},{key:"createFrom",value:function(e,n){var r=Pu(e);return Object.assign(r,{parent:e,position:[0,0]},n),new t(r)}}]),t}(Symbol.toStringTag);!function(e){for(var t in Ru)e.prototype[t]=Ru[t]}(fd),function(e){for(var t in c)e.prototype[t]=c[t]}(fd),function(e){for(var t in dr)e.prototype[t]=dr[t]}(fd),fd.prototype.checkProcessable=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bitDepth,r=t.alpha,a=t.colorModel,i=t.components,o=t.channels;if("string"!==typeof e||0===e.length)throw new TypeError("processName must be a string");if(n&&(Array.isArray(n)||(n=[n]),!n.includes(this.bitDepth)))throw new TypeError("The process: ".concat(e," can only be applied if bit depth is in: ").concat(n));if(r&&(Array.isArray(r)||(r=[r]),!r.includes(this.alpha)))throw new TypeError("The process: ".concat(e," can only be applied if alpha is in: ").concat(r));if(a&&(Array.isArray(a)||(a=[a]),!a.includes(this.colorModel)))throw new TypeError("The process: ".concat(e," can only be applied if color model is in: ").concat(a));if(i&&(Array.isArray(i)||(i=[i]),!i.includes(this.components))){var u="The process: ".concat(e," can only be applied if the number of components is in: ").concat(i);throw 1===i.length&&1===i[0]?new TypeError("".concat(u,'.\rYou should transform your image using "image.grey()" before applying the algorithm.')):new TypeError(u)}if(o&&(Array.isArray(o)||(o=[o]),!o.includes(this.channels)))throw new TypeError("The process: ".concat(e," can only be applied if the number of channels is in: ").concat(o))},fd.prototype.getRGBAData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clamped;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});var n=this.width*this.height*4,r=t?new Uint8ClampedArray(n):new Uint8Array(n);return 1===this.bitDepth?Or(this,r):32===this.bitDepth?(this.checkProcessable("getRGBAData",{alpha:0}),1===this.components?kr(this,r):3===this.components&&(this.checkProcessable("getRGBAData",{colorModel:[br]}),jr(this,r))):1===this.components?_r(this,r):3===this.components&&(this.checkProcessable("getRGBAData",{colorModel:[br]}),Sr(this,r)),1===this.alpha?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),Er(this,r)):Ar(this,r),r},fd.load=function(e,t){if("string"===typeof e)return function(e,t){var n,r=e.slice(0,64).match(Tu);n=null!==r?Promise.resolve(function(e){var t,n,r,a,i=.75*e.length,o=e.length,u=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);for(var s=new Uint8Array(i),c=0;c<o;c+=4)t=tr[e.charCodeAt(c)],n=tr[e.charCodeAt(c+1)],r=tr[e.charCodeAt(c+2)],a=tr[e.charCodeAt(c+3)],s[u++]=t<<2|n>>4,s[u++]=(15&n)<<4|r>>2,s[u++]=(3&r)<<6|63&a;return s}(e.slice(r[0].length))):function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).withCredentials,n=void 0!==t&&t;return new Promise((function(t,r){var a=new self.XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.withCredentials=n,a.onload=function(e){200!==this.status?r(e):t(this.response)},a.onerror=r,a.send()}))}(e,t);return n.then((function(t){return Du(new Uint8Array(t),r?e:void 0)}))}(e,t);if(e instanceof ArrayBuffer)return Promise.resolve(Du(new Uint8Array(e)));if(e.buffer)return Promise.resolve(Du(e));throw new Error('argument to "load" must be a string or buffer.')},fd.extendMethod=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.inPlace,a=void 0!==r&&r,i=n.returnThis,o=void 0===i||i,u=n.partialArgs,s=void 0===u?[]:u;return fd.prototype[e]=a?function(){this.computed=null;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=t.apply(this,[].concat(Object(hr.a)(s),n));return o?this:a}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,[].concat(Object(hr.a)(s),n))},fd},fd.extendProperty=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.partialArgs,a=void 0===r?[]:r;return mr.get=function(){if(null===this.computed)this.computed={};else if(vr()(e,this.computed))return this.computed[e];var n=t.apply(this,a);return this.computed[e]=n,n},Object.defineProperty(fd.prototype,e,mr),fd},function(e){var t={inPlace:!0};e.extendMethod("invert",Vu),e.extendMethod("abs",Lu),e.extendMethod("level",ks,t),e.extendMethod("add",As,t),e.extendMethod("subtract",Cs,t),e.extendMethod("subtractImage",Ns),e.extendMethod("multiply",Ds,t),e.extendMethod("divide",Is,t),e.extendMethod("hypotenuse",Ts),e.extendMethod("background",Ws),e.extendMethod("flipX",qu),e.extendMethod("flipY",Xu),e.extendMethod("blurFilter",Yu),e.extendMethod("medianFilter",ts),e.extendMethod("gaussianFilter",ns),e.extendMethod("sobelFilter",ys),e.extendMethod("gradientFilter",bs),e.extendMethod("scharrFilter",xs),e.extendMethod("dilate",Vs),e.extendMethod("erode",Ys),e.extendMethod("open",Qs),e.extendMethod("close",ec),e.extendMethod("topHat",tc),e.extendMethod("blackHat",nc),e.extendMethod("morphologicalGradient",rc),e.extendMethod("warpingFourPoints",fc),e.extendMethod("crop",dc),e.extendMethod("cropAlpha",hc),e.extendMethod("resize",Sc).extendMethod("scale",Sc),e.extendMethod("hsv",Ec),e.extendMethod("hsl",Ac),e.extendMethod("cmyk",Cc),e.extendMethod("rgba8",Nc),e.extendMethod("grey",Ic).extendMethod("gray",Ic),e.extendMethod("mask",qc),e.extendMethod("pad",Yc),e.extendMethod("colorDepth",Kc),e.extendMethod("setBorder",al,t),e.extendMethod("rotate",Qc),e.extendMethod("rotateLeft",el),e.extendMethod("rotateRight",tl),e.extendMethod("insert",rl),e.extendMethod("getRow",pl),e.extendMethod("getColumn",vl),e.extendMethod("getMatrix",ml),e.extendMethod("setMatrix",gl),e.extendMethod("getPixelsArray",bl),e.extendMethod("getIntersection",yl),e.extendMethod("getClosestCommonParent",wl),e.extendMethod("getThreshold",Hc),e.extendMethod("split",il),e.extendMethod("getChannel",ol),e.extendMethod("combineChannels",ul),e.extendMethod("setChannel",cl),e.extendMethod("getSimilarity",ll),e.extendMethod("getPixelsGrid",fl),e.extendMethod("getBestMatch",hl),e.extendMethod("cannyEdge",Al),e.extendMethod("convolution",gs),e.extendMethod("extract",Cl),e.extendMethod("floodFill",Dl),e.extendMethod("paintLabels",Hl,t),e.extendMethod("paintMasks",Gl,t),e.extendMethod("paintPoints",Ql,t),e.extendMethod("paintPolyline",ef,t),e.extendMethod("paintPolylines",tf,t),e.extendMethod("paintPolygon",nf,t),e.extendMethod("paintPolygons",uf,t),e.extendMethod("countAlphaPixels",Of),e.extendMethod("monotoneChainConvexHull",Sf),e.extendMethod("minimalBoundingRectangle",If),e.extendMethod("getHistogram",sf).extendProperty("histogram",sf),e.extendMethod("getHistograms",cf).extendProperty("histograms",cf),e.extendMethod("getColorHistogram",ff).extendProperty("colorHistogram",ff),e.extendMethod("getMin",df).extendProperty("min",df),e.extendMethod("getMax",hf).extendProperty("max",hf),e.extendMethod("getSum",pf).extendProperty("sum",pf),e.extendMethod("getMoment",vf).extendProperty("moment",vf),e.extendMethod("getLocalMaxima",mf),e.extendMethod("getMedian",bf).extendProperty("median",bf),e.extendMethod("getMean",gf).extendProperty("mean",gf),e.extendMethod("getPoints",yf).extendProperty("points",yf),e.extendMethod("getExtendedPoints",xf).extendProperty("extendedPoints",xf),e.extendMethod("getRelativePosition",wf)}(fd);var dd=n(453),hd=n.n(dd),pd={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function vd(e,t,n){return e.post("data",[t,n]).then((function(e){for(var t in e)e[t]=new fd(e[t]);return e}))}var md={run:function(e,t,n){t=Object.assign({},pd,t);var r=this.manager;return Array.isArray(e)?Promise.all(e.map((function(e){var a=vd(r,e,t);return"function"===typeof n&&a.then(n),a}))):vd(r,e,t)},work:function(){worker.on("data",(function(e,t,n){t=new IJS(t);var r={},a=[],i=t.grey(),o=i.sobelFilter();h("sobel",o);var u=o.level().mask({threshold:n.threshold});h("mask",u);var s=o.getRoiManager();s.fromMask(u);var c=s.getMask(n.roi);h("realMask",c);var l=i.getPixelsGrid({sampling:n.sampling,mask:c}),f=t.getBackground(l.xyS,l.zS,n.regression);h("background",f);var d=t.subtract(f);function h(e,t){n.include.includes(e)&&(r[e]=t,a.push(t.data.buffer))}r.result=d,a.push(d.data.buffer),e(r,a)}))}},gd=md;var bd=function(){function e(){Object(u.a)(this,e),this._url=null,this._deps=[null]}return Object(s.a)(e,[{key:"checkUrl",value:function(){if(null===this._url)throw new Error("image worker must be initialized with an URL")}},{key:"url",get:function(){return this._url},set:function(e){if("string"!==typeof e)throw new TypeError("worker URL must be a string");this._url=e,this._deps[0]=e}}],[{key:"extendMethod",value:function(t,n){var r,a,i={};function o(){var e;r||(this.checkUrl(),a=this.url,r=new hd.a(n.work,{deps:a}),i.manager=r);for(var t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return(e=n.run).call.apply(e,[i].concat(o))}o.reset=function(){r&&(r.terminate(),r=new hd.a(n.work,{deps:a}),i.manager=r)},e.prototype[t]=o}}]),e}();!function(e){e.extendMethod("background",gd)}(bd);new bd},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({neg_:function(e){var t={x:Object(i.a)(e,"x","neg")};return r.a.runKernel(a.Xb,t)}})},function(e,t,n){"use strict";var r=n(632);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return h}));var r=function(e){return"@@redux-saga/"+e},a=r("CANCEL_PROMISE"),i=r("CHANNEL_END"),o=r("IO"),u=r("MATCH"),s=r("MULTICAST"),c=r("SAGA_ACTION"),l=r("SELF_CANCELLATION"),f=r("TASK"),d=r("TASK_CANCEL"),h=r("TERMINATE"),p=r("LOCATION")},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=new Date,a=new Date;function i(e,t,n,o){function u(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return u.floor=function(t){return e(t=new Date(+t)),t},u.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},u.round=function(e){var t=u(e),n=u.ceil(e);return e-t<n-e?t:n},u.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},u.range=function(n,r,a){var i,o=[];if(n=u.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;do{o.push(i=new Date(+n)),t(n,a),e(n)}while(i<n&&n<r);return o},u.filter=function(n){return i((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(u.count=function(t,i){return r.setTime(+t),a.setTime(+i),e(r),e(a),Math.floor(n(r,a))},u.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?u.filter(o?function(t){return o(t)%e===0}:function(t){return u.count(0,t)%e===0}):u:null}),u}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(136),s=n(13);var c=Object(s.b)({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.b)(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=Object(i.b)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return Object(u.a)(n[0]);var s=n,c={axis:t};return r.a.runKernel(a.C,s,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(11),a=n(1),i=n(26),o=n(28),u=n(274),s=n(29),c=n(32),l=n(25),f=n(184),d=n(209);function h(e){return Object(f.a)("MuiSvgIcon",e)}Object(d.a)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(2),v=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=Object(l.a)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Object(s.a)(n.color))],t["fontSize".concat(Object(s.a)(n.fontSize))]]}})((function(e){var t,n,r=e.theme,a=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:r.transitions.create("fill",{duration:r.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:r.typography.pxToRem(20),medium:r.typography.pxToRem(24),large:r.typography.pxToRem(35)}[a.fontSize],color:null!=(t=null==(n=r.palette[a.color])?void 0:n.main)?t:{action:r.palette.action.active,disabled:r.palette.action.disabled,inherit:void 0}[a.color]}})),g=a.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiSvgIcon"}),a=n.children,l=n.className,f=n.color,d=void 0===f?"inherit":f,g=n.component,b=void 0===g?"svg":g,y=n.fontSize,x=void 0===y?"medium":y,w=n.htmlColor,O=n.inheritViewBox,k=void 0!==O&&O,j=n.titleAccess,_=n.viewBox,S=void 0===_?"0 0 24 24":_,E=Object(i.a)(n,v),A=Object(r.a)({},n,{color:d,component:b,fontSize:x,inheritViewBox:k,viewBox:S}),C={};k||(C.viewBox=S);var N=function(e){var t=e.color,n=e.fontSize,r=e.classes,a={root:["root","inherit"!==t&&"color".concat(Object(s.a)(t)),"fontSize".concat(Object(s.a)(n))]};return Object(u.a)(a,h,r)}(A);return Object(p.jsxs)(m,Object(r.a)({as:b,className:Object(o.a)(N.root,l),ownerState:A,focusable:"false",color:w,"aria-hidden":!j||void 0,role:j?"img":void 0,ref:t},C,E,{children:[a,j?Object(p.jsx)("title",{children:j}):null]}))}));g.muiName="SvgIcon";var b=g;function y(e,t){var n=function(n,a){return Object(p.jsx)(b,Object(r.a)({"data-testid":"".concat(t,"Icon"),ref:a},n,{children:e}))};return n.muiName=b.muiName,a.memo(a.forwardRef(n))}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(10),i=n(9),o=n(202),u=n(42),s=n(13);var c=Object(s.b)({where_:function(e,t,n){var s=Object(i.a)(t,"a","where"),c=Object(i.a)(n,"b","where"),l=Object(i.a)(e,"condition","where","bool"),f=Object(u.assertAndGetBroadcastShape)(Object(u.assertAndGetBroadcastShape)(l.shape,s.shape),c.shape),d={condition:Object(o.a)(l,f),t:Object(o.a)(s,f),e:Object(o.a)(c,f)};return r.a.runKernel(a.Ac,d)}})},function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return w})),n.d(t,"i",(function(){return O})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return _}));var r=n(6),a=n(12),i=n(19),o=n(7),u=n.n(o),s=n(121),c=n(165),l=n(23),f=n(298);function d(e,t){return h.apply(this,arguments)}function h(){return h=Object(i.a)(u.a.mark((function e(t,n){var r,a,o,s,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],a=[],o=Array.isArray(t)?t.map((function(e){return e.name})):Object.keys(t),s=function(e){var s=o[e],c=Array.isArray(t)?t[e].tensor:t[s];if("float32"!==c.dtype&&"int32"!==c.dtype&&"bool"!==c.dtype&&"string"!==c.dtype&&"complex64"!==c.dtype)throw new Error("Unsupported dtype in weight '".concat(s,"': ").concat(c.dtype));var l={name:s,shape:c.shape,dtype:c.dtype};if("string"===c.dtype){var f=new Promise(function(){var e=Object(i.a)(u.a.mark((function e(t){var n,r,a,i,o,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.bytes();case 2:for(n=e.sent,r=n.reduce((function(e,t){return e+t.length}),0)+4*n.length,a=new Uint8Array(r),i=0,o=0;o<n.length;o++)s=n[o],l=new Uint8Array(new Uint32Array([s.length]).buffer),a.set(l,i),i+=4,a.set(s,i),i+=s.length;t(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());a.push(f)}else a.push(c.data());null!=n&&(l.group=n),r.push(l)},c=0;c<o.length;++c)s(c);return e.next=7,Promise.all(a);case 7:return l=e.sent,e.abrupt("return",{data:v(l),specs:r});case 9:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function p(e,t){var n,r,i={},o=0,u=Object(a.a)(t);try{for(u.s();!(r=u.n()).done;){var d=r.value,h=d.name,p=d.dtype,v=d.shape,m=Object(l.O)(v),g=void 0;if("quantization"in d){var b=d.quantization;if("uint8"===b.dtype||"uint16"===b.dtype){if(!("min"in b)||!("scale"in b))throw new Error("Weight ".concat(d.name," with quantization ").concat(b.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==b.dtype)throw new Error("Weight ".concat(d.name," has unknown ")+"quantization dtype ".concat(b.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==p)throw new Error("Weight ".concat(d.name," is quantized with ").concat(b.dtype," ")+"which only supports weights of type float32 not ".concat(p,"."))}var y=f.a[b.dtype],x=e.slice(o,o+m*y),w="uint8"===b.dtype?new Uint8Array(x):new Uint16Array(x);if("float32"===p)if("uint8"===b.dtype||"uint16"===b.dtype){g=new Float32Array(w.length);for(var O=0;O<w.length;O++){var k=w[O];g[O]=k*b.scale+b.min}}else{if("float16"!==b.dtype)throw new Error("Unsupported quantization type ".concat(b.dtype," ")+"for weight type float32.");void 0===n&&(n=S()),g=n(w)}else{if("int32"!==p)throw new Error("Unsupported dtype in weight '".concat(h,"': ").concat(p));if("uint8"!==b.dtype&&"uint16"!==b.dtype)throw new Error("Unsupported quantization type ".concat(b.dtype," ")+"for weight type int32.");g=new Int32Array(w.length);for(var j=0;j<w.length;j++){var _=w[j];g[j]=Math.round(_*b.scale+b.min)}}o+=m*y}else if("string"===p){var E=Object(l.O)(d.shape);g=[];for(var A=0;A<E;A++){var C=new Uint32Array(e.slice(o,o+4))[0];o+=4;var N=new Uint8Array(e.slice(o,o+C));g.push(N),o+=C}}else{var T=f.a[p],D=e.slice(o,o+m*T);if("float32"===p)g=new Float32Array(D);else if("int32"===p)g=new Int32Array(D);else if("bool"===p)g=new Uint8Array(D);else{if("complex64"!==p)throw new Error("Unsupported dtype in weight '".concat(h,"': ").concat(p));g=new Float32Array(D);for(var I=new Float32Array(g.length/2),M=new Float32Array(g.length/2),F=0;F<I.length;F++)I[F]=g[2*F],M[F]=g[2*F+1];var R=Object(c.a)(I,v,"float32"),P=Object(c.a)(M,v,"float32");i[h]=Object(s.a)(R,P),R.dispose(),P.dispose()}o+=m*T}"complex64"!==p&&(i[h]=Object(c.a)(g,v,p))}}catch(z){u.e(z)}finally{u.f()}return i}function v(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));var r=new Uint8Array(t),a=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}var m="undefined"!==typeof e&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function g(t){return m?e.byteLength(t):new Blob([t]).size}function b(t){if(m)return e.from(t).toString("base64");for(var n=new Uint8Array(t),r="",a=0,i=n.length;a<i;a++)r+=String.fromCharCode(n[a]);return btoa(r)}function y(t){if(m){var n=e.from(t,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}for(var r=atob(t),a=new Uint8Array(r.length),i=0;i<r.length;++i)a.set([r.charCodeAt(i)],i);return a.buffer}function x(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function w(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function O(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function k(e,t){return j.apply(this,arguments)}function j(){return(j=Object(i.a)(u.a.mark((function e(t,n){var a,i,o,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},null!=t.trainingConfig&&(a.trainingConfig=t.trainingConfig),null==t.weightsManifest){e.next=11;break}return e.next=5,n(t.weightsManifest);case 5:i=e.sent,o=Object(r.a)(i,2),s=o[0],c=o[1],a.weightSpecs=s,a.weightData=c;case 11:return null!=t.signature&&(a.signature=t.signature),null!=t.userDefinedMetadata&&(a.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(a.modelInitializer=t.modelInitializer),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:g(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:g(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function S(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var a=new ArrayBuffer(4*r.length),i=new Uint32Array(a),o=0;o<r.length;o++){var u=r[o],s=e[n[u>>10]+(1023&u)]+t[u>>10];i[o]=s}return new Float32Array(a)}}}).call(this,n(175).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(328)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n(16),a=n(14),i=n(20),o=n(9),u=n(23);function s(e){return u.b(u.u(e),(function(){return"The f passed in grad(f) must be a function"})),function(t,n){var r=Object(o.a)(t,"x","tf.grad","string_or_numeric"),i=null!=n?Object(o.a)(n,"dy","tf.grad"):null;return a.a.tidy((function(){var t=a.a.gradients((function(){return e(r)}),[r],i),n=t.value,o=t.grads;return null!=i&&u.e(n.shape,i.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),p(o),o[0]}))}}function c(e){return u.b(u.u(e),(function(){return"The f passed in grads(f) must be a function"})),function(t,n){u.b(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var i=Object(o.b)(t,"args","tf.grads","string_or_numeric"),s=null!=n?Object(o.a)(n,"dy","tf.grads"):null;return a.a.tidy((function(){var t=a.a.gradients((function(){return e.apply(void 0,Object(r.a)(i))}),i,s),n=t.value,o=t.grads;return null!=s&&u.e(n.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),p(o),o}))}}function l(e){return u.b(u.u(e),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,n){u.b(t instanceof i.a,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),u.b(null==n||n instanceof i.a,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=a.a.gradients((function(){return e(t)}),[t],n),o=r.grads,s=r.value;return p(o),{grad:o[0],value:s}}}function f(e){return u.b(u.u(e),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,n){u.b(Array.isArray(t)&&t.every((function(e){return e instanceof i.a})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),u.b(null==n||n instanceof i.a,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var o=a.a.gradients((function(){return e.apply(void 0,Object(r.a)(t))}),t,n);return null!=n&&u.e(o.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),p(o.grads),o}}function d(e,t){u.b(u.u(e),(function(){return"The f passed in variableGrads(f) must be a function"})),u.b(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof i.c})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],a.a.registeredVariables)t.push(a.a.registeredVariables[r]);var o=n?t.filter((function(e){return!e.trainable})):null,s=t.length;t=t.filter((function(e){return e.trainable})),u.b(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(s," variables is ")+"trainable."}));var c=a.a.gradients(e,t,null,!0),l=c.value,f=c.grads;u.b(f.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),u.b(0===l.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(l.rank," tensor")}));var d={};return t.forEach((function(e,t){null!=f[t]&&(d[e.name]=f[t])})),null!=o&&o.forEach((function(e){return d[e.name]=null})),{value:l,grads:d}}function h(e){return a.a.customGrad(e)}function p(e){if(e.filter((function(e){return null==e})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({sqrt_:function(e){var t={x:Object(i.a)(e,"x","sqrt","float32")};return r.a.runKernel(a.Qc,t)}})},function(e,t,n){"use strict";var r=n(391),a="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||a||Function("return this")();t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),a=n(5),i=n(17),o=n(18),u=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this)).data=e,a.rows=e.length,a.columns=e[0].length,a}return Object(a.a)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}}]),n}(n(53).a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return f}));var r=n(23);function a(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function i(e,t,n){for(var r=e.length+t.length,a=[],i=0,o=0,u=0;u<r;u++)-1===n.indexOf(u)?a.push(e[i++]):a.push(t[o++]);return a}function o(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);var i=t.map((function(t){return e[t]}));return[n,i]}function u(e,t){return i(e,t.map((function(e){return 1})),t)}function s(e,t,n){r.b(a(t,n),(function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")}))}function c(e,t){if(a(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function l(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function f(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({exp_:function(e){var t={x:Object(i.a)(e,"x","exp")};return r.a.runKernel(a.bb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(42),c=n(13);var l=Object(c.b)({greater_:function(e,t){var n=Object(u.a)(e,"a","greater","string_or_numeric"),c=Object(u.a)(t,"b","greater","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.pb,d)}})},function(e,t){e.exports=function(e,t){e=e||0;for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({abs_:function(e){var t=Object(i.a)(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return r.a.runKernel(a.B,n)}var o={x:t};return r.a.runKernel(a.a,o)}})},function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return g}));var r=n(42),a=n(246),i=n(249),o=n(24),u=n(256),s=n(159),c=n(257),l=n(21),f=n(137),d=n(160),h=n(43);function p(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return Object(o.a)(e,Object(d.a)(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function v(e,t){var n=t,a=r.getReductionAxes(e.shape,t.shape);return a.length>0&&(n=Object(h.a)(n,a)),Object(l.a)(n,e.shape)}function m(e,t,n,r){if("linear"===t)return e;if("relu"===t)return Object(s.a)(e);if("elu"===t)return Object(a.a)(e);if("relu6"===t)return Object(c.a)(e);if("prelu"===t)return Object(u.a)(e,n);if("leakyrelu"===t)return Object(i.a)(e,r);if("sigmoid"===t)return Object(f.a)(e);throw new Error("Unknown fused activation ".concat(t,"."))}var g=function(e,t){return!(e>0)||"linear"===t}},function(e,t,n){"use strict";n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return w})),n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return k}));var r=n(12),a=n(17),i=n(18),o=n(19),u=n(4),s=n(5),c=n(7),l=n.n(c),f=n(0),d=n(169),h=n(145);function p(e){return e instanceof f.Tensor?{value:e.clone(),recurse:!1}:Object(h.e)(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var v=n(36),m=n(34),g=function(){function e(t){if(Object(u.a)(this,e),this.capacity=t,this.begin=0,this.end=0,null==t)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return Object(s.a)(e,[{key:"wrap",value:function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}},{key:"get",value:function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}},{key:"set",value:function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}},{key:"length",value:function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}},{key:"isFull",value:function(){return this.length()===this.capacity}},{key:"isEmpty",value:function(){return 0===this.length()}},{key:"push",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}},{key:"pushAll",value:function(e){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.push(a)}}catch(i){n.e(i)}finally{n.f()}}},{key:"pop",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e}},{key:"unshift",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}},{key:"shift",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}},{key:"shuffleExcise",value:function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}]),e}(),b=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(u.a)(this,n),t.call(this,n.INITIAL_CAPACITY)}return Object(s.a)(n,[{key:"isFull",value:function(){return!1}},{key:"push",value:function(e){Object(v.a)(Object(m.a)(n.prototype),"isFull",this).call(this)&&this.expand(),Object(v.a)(Object(m.a)(n.prototype),"push",this).call(this,e)}},{key:"unshift",value:function(e){Object(v.a)(Object(m.a)(n.prototype),"isFull",this).call(this)&&this.expand(),Object(v.a)(Object(m.a)(n.prototype),"unshift",this).call(this,e)}},{key:"expand",value:function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}]),n}(g);function y(e){return new _(e)}function x(e){return new S(e)}function w(e,t){return new P(e,t)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.FAIL;return new z(e,t)}b.INITIAL_CAPACITY=32;var k,j=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"toArray",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.next();case 3:n=e.sent;case 4:if(n.done){e.next=11;break}return t.push(n.value),e.next=8,this.next();case 8:n=e.sent,e.next=4;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.prefetch(100),n=[],e.next=4,t.next();case 4:r=e.sent;case 5:if(r.done){e.next=12;break}return n.push(r.value),e.next=9,t.next();case 9:r=e.sent,e.next=5;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveFully",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:t=e.sent;case 3:if(t.done){e.next=9;break}return e.next=6,this.next();case 6:t=e.sent,e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveWhile",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:n=e.sent,r=t(n.value);case 4:if(n.done||!r){e.next=11;break}return e.next=7,this.next();case 7:n=e.sent,r=t(n.value),e.next=4;break;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e){return new I(this,e)}},{key:"filter",value:function(e){return new T(this,e)}},{key:"map",value:function(e){return new D(this,e)}},{key:"mapAsync",value:function(e){return new M(this,e)}},{key:"serialMapAsync",value:function(e){return new M(this,e).serial()}},{key:"flatmap",value:function(e){return new R(this,e)}},{key:"forEachAsync",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map(t).resolveFully());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"serialForEach",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.serialMapAsync(t).resolveWhile((function(e){return!0===e})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rowMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new N(this,e,t)}},{key:"columnMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.f,r=this.rowMajorBatch(e,t);return r.map((function(e){return Object(h.d)(e,n)}))}},{key:"concatenate",value:function(e,t){return new P(y([this,e]),t)}},{key:"take",value:function(e){return e<0||null==e?this:new C(this,e)}},{key:"skip",value:function(e){return e<0||null==e?this:new A(this,e)}},{key:"prefetch",value:function(e){return new B(this,e)}},{key:"shuffle",value:function(e,t){return new L(this,e,t)}},{key:"serial",value:function(){return new E(this)}}]),e}(),_=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).items=e,r.trav=0,r}return Object(s.a)(n,[{key:"summary",value:function(){return"Array of ".concat(this.items.length," items")}},{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.trav>=this.items.length)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=this.items[this.trav],this.trav++,e.abrupt("return",{value:(n=t,Object(h.b)(n,p)),done:!1});case 5:case"end":return e.stop()}var n}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(j),S=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).nextFn=e,r}return Object(s.a)(n,[{key:"summary",value:function(){return"Function call"}},{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.nextFn());case 4:throw e.prev=4,e.t0=e.catch(0),e.t0.message="Error thrown while iterating through a dataset: ".concat(e.t0.message),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()}]),n}(j),E=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).upstream=e,r.lastRead=Promise.resolve({value:null,done:!1}),r}return Object(s.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Serial")}},{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.upstream.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(j),A=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Object(s.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Skip")}},{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++<this.maxCount)){e.next=9;break}return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done){e.next=6;break}return e.abrupt("return",t);case 6:f.dispose(t.value),e.next=0;break;case 9:return e.abrupt("return",this.upstream.next());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(j),C=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a}return Object(s.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Take")}},{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++>=this.maxCount)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.abrupt("return",this.upstream.next());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(j),N=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(u.a)(this,n),(a=t.call(this)).upstream=e,a.batchSize=r,a.enableSmallLastBatch=i,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Object(s.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}},{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[];case 1:if(!(t.length<this.batchSize)){e.next=12;break}return e.next=4,this.upstream.next();case 4:if(!(n=e.sent).done){e.next=9;break}if(!(this.enableSmallLastBatch&&t.length>0)){e.next=8;break}return e.abrupt("return",{value:t,done:!1});case 8:return e.abrupt("return",{value:null,done:!0});case 9:t.push(n.value),e.next=1;break;case 12:return e.abrupt("return",{value:t,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(j),T=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this)).upstream=e,a.predicate=r,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Object(s.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Filter")}},{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done&&!this.predicate(t.value)){e.next=6;break}return e.abrupt("return",t);case 6:f.dispose(t.value),e.next=0;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(j),D=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return Object(s.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Map")}},{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,a,i,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:n=f.tensor_util.getTensorsInContainer(t.value),a=this.transform(t.value),i=f.tensor_util.getTensorsInContainer(a),o=Object(r.a)(n);try{for(o.s();!(u=o.n()).done;)s=u.value,f.tensor_util.isTensorInList(s,i)||s.dispose()}catch(c){o.e(c)}finally{o.f()}return e.abrupt("return",{value:a,done:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(j),I=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this)).upstream=e,a.handler=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Object(s.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> handleErrors")}},{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,this.upstream.next();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),this.handler(e.t0)){e.next=11;break}return e.abrupt("return",{value:null,done:!0});case 11:e.next=0;break;case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()}]),n}(j),M=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return Object(s.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> AsyncMap")}},{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,a,i,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:return n=f.tensor_util.getTensorsInContainer(t.value),e.next=8,this.transform(t.value);case 8:a=e.sent,i=f.tensor_util.getTensorsInContainer(a),o=Object(r.a)(n);try{for(o.s();!(u=o.n()).done;)s=u.value,f.tensor_util.isTensorInList(s,i)||s.dispose()}catch(c){o.e(c)}finally{o.f()}return e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(j),F=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).outputQueue=new b,e.lastRead=Promise.resolve({value:null,done:!1}),e}return Object(s.a)(n,[{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.outputQueue.length()){e.next=7;break}return e.next=3,this.pump();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:e.next=0;break;case 7:return e.abrupt("return",{value:this.outputQueue.shift(),done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(j),R=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return Object(s.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Flatmap")}},{key:"pump",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,a,i,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",!1);case 5:n=f.tensor_util.getTensorsInContainer(t.value),a=this.transform(t.value),i=f.tensor_util.getTensorsInContainer(a),this.outputQueue.pushAll(a),o=Object(r.a)(n);try{for(o.s();!(u=o.n()).done;)s=u.value,f.tensor_util.isTensorInList(s,i)||s.dispose()}catch(c){o.e(c)}finally{o.f()}return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(F),P=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this)).baseErrorHandler=r,a.lastRead=null,a.iterator=null,a.moreIterators=e,a}return Object(s.a)(n,[{key:"summary",value:function(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}},{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.readFromChain(this.lastRead),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readFromChain",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(null!=this.iterator){e.next=10;break}return e.next=5,this.moreIterators.next();case 5:if(!(n=e.sent).done){e.next=8;break}return e.abrupt("return",{value:null,done:!0});case 8:this.iterator=n.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler));case 10:return e.next=12,this.iterator.next();case 12:if(!(r=e.sent).done){e.next=16;break}return this.iterator=null,e.abrupt("return",this.readFromChain(t));case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(j);!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(k||(k={}));var z=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.FAIL;return Object(u.a)(this,n),(r=t.call(this)).iterators=e,r.mismatchMode=a,r.count=0,r.currentPromise=null,r}return Object(s.a)(n,[{key:"summary",value:function(){return"{".concat("TODO: fill in upstream of zip summaries","} -> Zip")}},{key:"nextState",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var n,r,a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return e instanceof j?{value:e.next().then((function(e){return n++,e.done&&r++,e.value})),recurse:!1}:{value:null,recurse:!0}},e.next=3,t;case 3:return n=0,r=0,e.next=7,Object(h.c)(this.iterators,a);case 7:if(i=e.sent,n!==r){e.next=10;break}return e.abrupt("return",{value:null,done:!0});case 10:if(!(r>0)){e.next=16;break}e.t0=this.mismatchMode,e.next=e.t0===k.FAIL?14:e.t0===k.SHORTEST?15:(e.t0,k.LONGEST,16);break;case 14:throw new Error("Zipped streams should have the same length. "+"Mismatched at element ".concat(this.count,"."));case 15:return e.abrupt("return",{value:null,done:!0});case 16:return this.count++,e.abrupt("return",{value:i,done:!1});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentPromise=this.nextState(this.currentPromise),e.abrupt("return",this.currentPromise);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(j),B=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this)).upstream=e,a.bufferSize=r,a.buffer=new g(r),a}return Object(s.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Prefetch")}},{key:"refill",value:function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}}},{key:"next",value:function(){return this.refill(),this.buffer.shift()}}]),n}(j),L=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r,a){var i;return Object(u.a)(this,n),(i=t.call(this,e,r)).upstream=e,i.windowSize=r,i.upstreamExhausted=!1,i.random=d.alea(a||f.util.now().toString()),i.lastRead=Promise.resolve({value:null,done:!1}),i}return Object(s.a)(n,[{key:"next",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"randomInt",value:function(e){return Math.floor(this.random()*e)}},{key:"chooseIndex",value:function(){return this.randomInt(this.buffer.length())}},{key:"serialNext",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.upstreamExhausted||this.refill();case 1:if(this.buffer.isEmpty()){e.next=14;break}return t=this.chooseIndex(),e.next=5,this.buffer.shuffleExcise(t);case 5:if(!(n=e.sent).done){e.next=10;break}this.upstreamExhausted=!0,e.next=12;break;case 10:return this.refill(),e.abrupt("return",n);case 12:e.next=1;break;case 14:return e.abrupt("return",{value:null,done:!0});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(B)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(5),a=n(4),i=n(17),o=n(18),u=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e,r,i){var o;return Object(a.a)(this,n),(o=t.call(this)).matrix=e,o.rows=r,o.columns=i,o}return Object(r.a)(n)}(n(53).a)},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(26),a=n(11),i=["duration","easing","delay"],o={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},u={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s(e){return"".concat(Math.round(e),"ms")}function c(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function l(e){var t=Object(a.a)({},o,e.easing),n=Object(a.a)({},u,e.duration);return Object(a.a)({getAutoHeightDuration:c,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.duration,u=void 0===o?n.standard:o,c=a.easing,l=void 0===c?t.easeInOut:c,f=a.delay,d=void 0===f?0:f;Object(r.a)(a,i);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof u?u:s(u)," ").concat(l," ").concat("string"===typeof d?d:s(d))})).join(",")}},e,{easing:t,duration:n})}},function(e,t,n){"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return d(e,Error)}}function a(e){return"[object String]"===Object.prototype.toString.call(e)}function i(e){return null===e||"object"!==typeof e&&"function"!==typeof e}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(e){return"undefined"!==typeof Event&&d(e,Event)}function s(e){return"undefined"!==typeof Element&&d(e,Element)}function c(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function l(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function f(e){return o(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function d(e,t){try{return e instanceof t}catch(n){return!1}}n.d(t,"b",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return d}))},function(e,t,n){"use strict";n.d(t,"e",(function(){return I})),n.d(t,"d",(function(){return M})),n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return R}));var r=n(6),a=n(15),i=n(26),o=n(11),u=n(401),s=n(1),c=n(28),l=n(274),f=n(632),d=n(919),h=n(921),p=n(300),v=n(2),m=["onChange","maxRows","minRows","style","value"];function g(e,t){return parseInt(e[t],10)||0}var b={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},y=s.forwardRef((function(e,t){var n=e.onChange,a=e.maxRows,u=e.minRows,c=void 0===u?1:u,l=e.style,y=e.value,x=Object(i.a)(e,m),w=s.useRef(null!=y).current,O=s.useRef(null),k=Object(f.a)(t,O),j=s.useRef(null),_=s.useRef(0),S=s.useState({}),E=Object(r.a)(S,2),A=E[0],C=E[1],N=s.useCallback((function(){var t=O.current,n=Object(d.a)(t).getComputedStyle(t);if("0px"!==n.width){var r=j.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=g(n,"padding-bottom")+g(n,"padding-top"),u=g(n,"border-bottom-width")+g(n,"border-top-width"),s=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=s;c&&(f=Math.max(Number(c)*l,f)),a&&(f=Math.min(Number(a)*l,f));var h=(f=Math.max(f,l))+("border-box"===i?o+u:0),p=Math.abs(f-s)<=1;C((function(e){return _.current<20&&(h>0&&Math.abs((e.outerHeightStyle||0)-h)>1||e.overflow!==p)?(_.current+=1,{overflow:p,outerHeightStyle:h}):e}))}}),[a,c,e.placeholder]);s.useEffect((function(){var e,t=Object(h.a)((function(){_.current=0,N()})),n=Object(d.a)(O.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(O.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[N]),Object(p.a)((function(){N()})),s.useEffect((function(){_.current=0}),[y]);return Object(v.jsxs)(s.Fragment,{children:[Object(v.jsx)("textarea",Object(o.a)({value:y,onChange:function(e){_.current=0,w||N(),n&&n(e)},ref:k,rows:c,style:Object(o.a)({height:A.outerHeightStyle,overflow:A.overflow?"hidden":null},l)},x)),Object(v.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:j,tabIndex:-1,style:Object(o.a)({},b,l,{padding:0})})]})})),x=n(114),w=n(140),O=n(269),k=n(119),j=n(25),_=n(32),S=n(29),E=n(70),A=n(133),C=n(923),N=n(222),T=n(174),D=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],I=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Object(S.a)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},M=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},F=Object(j.a)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:I})((function(e){var t=e.theme,n=e.ownerState;return Object(o.a)({},t.typography.body1,Object(a.a)({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(T.a.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&Object(o.a)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),R=Object(j.a)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:M})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,u={color:"currentColor",opacity:i?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},s={opacity:"0 !important"},c={opacity:i?.42:.5};return Object(o.a)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":u,"&::-moz-placeholder":u,"&:-ms-input-placeholder":u,"&::-ms-input-placeholder":u,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},Object(a.a)(t,"label[data-shrink=false] + .".concat(T.a.formControl," &"),{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":c,"&:focus::-moz-placeholder":c,"&:focus:-ms-input-placeholder":c,"&:focus::-ms-input-placeholder":c}),Object(a.a)(t,"&.".concat(T.a.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),Object(a.a)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),P=Object(v.jsx)(C.a,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),z=s.forwardRef((function(e,t){var n=Object(_.a)({props:e,name:"MuiInputBase"}),a=n["aria-describedby"],f=n.autoComplete,d=n.autoFocus,h=n.className,p=n.components,m=void 0===p?{}:p,g=n.componentsProps,b=void 0===g?{}:g,j=n.defaultValue,C=n.disabled,I=n.disableInjectingGlobalStyles,M=n.endAdornment,z=n.fullWidth,B=void 0!==z&&z,L=n.id,U=n.inputComponent,W=void 0===U?"input":U,V=n.inputProps,H=void 0===V?{}:V,G=n.inputRef,q=n.maxRows,X=n.minRows,Y=n.multiline,K=void 0!==Y&&Y,$=n.name,Z=n.onBlur,J=n.onChange,Q=n.onClick,ee=n.onFocus,te=n.onKeyDown,ne=n.onKeyUp,re=n.placeholder,ae=n.readOnly,ie=n.renderSuffix,oe=n.rows,ue=n.startAdornment,se=n.type,ce=void 0===se?"text":se,le=n.value,fe=Object(i.a)(n,D),de=null!=H.value?H.value:le,he=s.useRef(null!=de).current,pe=s.useRef(),ve=s.useCallback((function(e){0}),[]),me=Object(E.a)(H.ref,ve),ge=Object(E.a)(G,me),be=Object(E.a)(pe,ge),ye=s.useState(!1),xe=Object(r.a)(ye,2),we=xe[0],Oe=xe[1],ke=Object(k.a)();var je=Object(w.a)({props:n,muiFormControl:ke,states:["color","disabled","error","hiddenLabel","size","required","filled"]});je.focused=ke?ke.focused:we,s.useEffect((function(){!ke&&C&&we&&(Oe(!1),Z&&Z())}),[ke,C,we,Z]);var _e=ke&&ke.onFilled,Se=ke&&ke.onEmpty,Ee=s.useCallback((function(e){Object(N.b)(e)?_e&&_e():Se&&Se()}),[_e,Se]);Object(A.a)((function(){he&&Ee({value:de})}),[de,Ee,he]);s.useEffect((function(){Ee(pe.current)}),[]);var Ae=W,Ce=H;K&&"input"===Ae&&(Ce=oe?Object(o.a)({type:void 0,minRows:oe,maxRows:oe},Ce):Object(o.a)({type:void 0,maxRows:q,minRows:X},Ce),Ae=y);s.useEffect((function(){ke&&ke.setAdornedStart(Boolean(ue))}),[ke,ue]);var Ne=Object(o.a)({},n,{color:je.color||"primary",disabled:je.disabled,endAdornment:M,error:je.error,focused:je.focused,formControl:ke,fullWidth:B,hiddenLabel:je.hiddenLabel,multiline:K,size:je.size,startAdornment:ue,type:ce}),Te=function(e){var t=e.classes,n=e.color,r=e.disabled,a=e.error,i=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,f=e.multiline,d=e.size,h=e.startAdornment,p=e.type,v={root:["root","color".concat(Object(S.a)(n)),r&&"disabled",a&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===d&&"sizeSmall",f&&"multiline",h&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",f&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",i&&"inputAdornedEnd"]};return Object(l.a)(v,T.b,t)}(Ne),De=m.Root||F,Ie=b.root||{},Me=m.Input||R;return Ce=Object(o.a)({},Ce,b.input),Object(v.jsxs)(s.Fragment,{children:[!I&&P,Object(v.jsxs)(De,Object(o.a)({},Ie,!Object(x.a)(De)&&{ownerState:Object(o.a)({},Ne,Ie.ownerState)},{ref:t,onClick:function(e){pe.current&&e.currentTarget===e.target&&pe.current.focus(),Q&&Q(e)}},fe,{className:Object(c.a)(Te.root,Ie.className,h),children:[ue,Object(v.jsx)(O.a.Provider,{value:null,children:Object(v.jsx)(Me,Object(o.a)({ownerState:Ne,"aria-invalid":je.error,"aria-describedby":a,autoComplete:f,autoFocus:d,defaultValue:j,disabled:je.disabled,id:L,onAnimationStart:function(e){Ee("mui-auto-fill-cancel"===e.animationName?pe.current:{value:"x"})},name:$,placeholder:re,readOnly:ae,required:je.required,rows:oe,value:de,onKeyDown:te,onKeyUp:ne,type:ce},Ce,!Object(x.a)(Me)&&{as:Ae,ownerState:Object(o.a)({},Ne,Ce.ownerState)},{ref:be,className:Object(c.a)(Te.input,Ce.className),onBlur:function(e){Z&&Z(e),H.onBlur&&H.onBlur(e),ke&&ke.onBlur?ke.onBlur(e):Oe(!1)},onChange:function(e){if(!he){var t=e.target||pe.current;if(null==t)throw new Error(Object(u.a)(1));Ee({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];H.onChange&&H.onChange.apply(H,[e].concat(r)),J&&J.apply(void 0,[e].concat(r))},onFocus:function(e){je.disabled?e.stopPropagation():(ee&&ee(e),H.onFocus&&H.onFocus(e),ke&&ke.onFocus?ke.onFocus(e):Oe(!0))}}))}),M,ie?ie(Object(o.a)({},je,{startAdornment:ue})):null]}))]})}));t.c=z},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l}));var r=n(1),a=n(294),i=(n(11),n(290),n(448),n(152)),o=n(182),u={}.hasOwnProperty,s=Object(r.createContext)("undefined"!==typeof HTMLElement?Object(a.a)({key:"css"}):null);var c=s.Provider,l=function(e){return Object(r.forwardRef)((function(t,n){var a=Object(r.useContext)(s);return e(t,a,n)}))},f=Object(r.createContext)({});var d="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",h=function(e,t){var n={};for(var r in t)u.call(t,r)&&(n[r]=t[r]);return n[d]=e,n},p=function(){return null},v=l((function(e,t,n){var a=e.css;"string"===typeof a&&void 0!==t.registered[a]&&(a=t.registered[a]);var s=e[d],c=[a],l="";"string"===typeof e.className?l=Object(i.a)(t.registered,c,e.className):null!=e.className&&(l=e.className+" ");var h=Object(o.a)(c,void 0,Object(r.useContext)(f));Object(i.b)(t,h,"string"===typeof s);l+=t.key+"-"+h.name;var v={};for(var m in e)u.call(e,m)&&"css"!==m&&m!==d&&(v[m]=e[m]);v.ref=n,v.className=l;var g=Object(r.createElement)(s,v),b=Object(r.createElement)(p,null);return Object(r.createElement)(r.Fragment,null,b,g)}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20),a=n(23);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",a.c(e),new r.b(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({reverse_:function(e,t){var n={x:Object(i.a)(e,"x","reverse")},o={dims:t};return r.a.runKernel(a.vc,n,o)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(1);var r=n(219),a=n(201);function i(){return Object(r.a)(a.a)}},function(e,t,n){"use strict";var r=n(1),a=r.createContext({});t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(9),a=n(23),i=n(106);function o(e,t){Object(a.d)(e);var n=Object(r.c)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Object(i.a)(e,null,n,t)}},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s}));n(16),n(11),n(304),n(168);var r={xs:0,sm:600,md:900,lg:1200,xl:1536},a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function i(e,t,n){var i=e.theme||{};if(Array.isArray(t)){var o=i.breakpoints||a;return t.reduce((function(e,r,a){return e[o.up(o.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var u=i.breakpoints||a;return Object.keys(t).reduce((function(e,a){if(-1!==Object.keys(u.values||r).indexOf(a)){e[u.up(a)]=n(t[a],a)}else{var i=a;e[i]=t[i]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function s(e){var t,n=e.values,r=e.breakpoints,a=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),i=Object.keys(a);return 0===i.length?n:i.reduce((function(e,r,a){return Array.isArray(n)?(e[r]=null!=n[a]?n[a]:n[t],t=a):(e[r]=null!=n[r]?n[r]:n[t]||n,t=r),e}),{})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),a=n(23),i=n(27);function o(e,t,n,o){if(null==o&&(o=Object(a.r)(e)),"complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Object(a.A)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Object(a.c)(t);var u=Object(a.O)(t),s=Object(a.O)(n);Object(a.b)(u===s,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(u," values but has ").concat(s)}));for(var c=0;c<n.length;++c){var l=n[c],f=c!==n.length-1||l!==Object(a.O)(t.slice(c));Object(a.b)(n[c]===t[c]||!f,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return Object(a.A)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==o?Object(i.toTypedArray)(e,o):Object(a.m)(e,[],!0),r.a.makeTensor(e,t,o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({transpose_:function(e,t){var n=Object(i.a)(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),o.b(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(e){o.b(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(n.rank-1)+" but got ".concat(t)}))})),n.rank<=1)return n.clone();var u={x:n},s={perm:t};return r.a.runKernel(a.fd,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return c}));var r=n(38);function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var i="function"===typeof Symbol&&Symbol.observable||"@@observable",o=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function s(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(a(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(a(1));return n(c)(e,t)}if("function"!==typeof e)throw new Error(a(2));var o=e,l=t,f=[],d=f,h=!1;function p(){d===f&&(d=f.slice())}function v(){if(h)throw new Error(a(3));return l}function m(e){if("function"!==typeof e)throw new Error(a(4));if(h)throw new Error(a(5));var t=!0;return p(),d.push(e),function(){if(t){if(h)throw new Error(a(6));t=!1,p();var n=d.indexOf(e);d.splice(n,1),f=null}}}function g(e){if(!s(e))throw new Error(a(7));if("undefined"===typeof e.type)throw new Error(a(8));if(h)throw new Error(a(9));try{h=!0,l=o(l,e)}finally{h=!1}for(var t=f=d,n=0;n<t.length;n++){(0,t[n])()}return e}function b(e){if("function"!==typeof e)throw new Error(a(10));o=e,g({type:u.REPLACE})}function y(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(a(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[i]=function(){return this},e}return g({type:u.INIT}),(r={dispatch:g,subscribe:m,getState:v,replaceReducer:b})[i]=y,r}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:u.INIT}))throw new Error(a(12));if("undefined"===typeof n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))}))}(n)}catch(c){o=c}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},u=0;u<s.length;u++){var c=s[u],l=n[c],f=e[c],d=l(f,t);if("undefined"===typeof d){t&&t.type;throw new Error(a(14))}i[c]=d,r=r||d!==f}return(r=r||s.length!==Object.keys(e).length)?i:e}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error(a(15))},o={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},u=t.map((function(e){return e(o)}));return i=f.apply(void 0,u)(n.dispatch),Object(r.a)(Object(r.a)({},n),{},{dispatch:i})}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=Object.prototype.toString;function a(e){return r.call(e).endsWith("Array]")}},function(e,t,n){var r=n(73).default,a=n(74).default,i=n(320),o=n(319),u=o.MAX_LENGTH,s=o.MAX_SAFE_INTEGER,c=n(235),l=c.re,f=c.t,d=n(321),h=n(436).compareIdentifiers,p=function(){"use strict";function e(t,n){if(r(this,e),n=d(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!==typeof t)throw new TypeError("Invalid Version: ".concat(t));if(t.length>u)throw new TypeError("version is longer than ".concat(u," characters"));i("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var a=t.trim().match(n.loose?l[f.LOOSE]:l[f.FULL]);if(!a)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}return a(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(i("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"===typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),h(this.major,t.major)||h(this.minor,t.minor)||h(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],a=t.prerelease[n];if(i("prerelease compare",n,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return-1;if(r!==a)return h(r,a)}while(++n)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var n=0;do{var r=this.build[n],a=t.build[n];if(i("prerelease compare",n,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return-1;if(r!==a)return h(r,a)}while(++n)}},{key:"inc",value:function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: ".concat(e))}return this.format(),this.raw=this.version,this}}]),e}();e.exports=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(13);var c=Object(s.b)({pow_:function(e,t){var n=Object(u.a)(e,"base","pow"),s=Object(u.a)(t,"exp","pow"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.hc,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(23),i=n(121),o=n(158);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=u(e,"float32"),s=Object(o.a)(e,"float32");return Object(i.a)(n,s)}var c=Object(a.D)(Object(a.O)(e),t);return r.a.makeTensor(c,e,t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return e.scrollTop};function a(e,t){var n,r,a=e.timeout,i=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof a?a:a[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:u.transitionDelay}}},function(e,t,n){"use strict";t.a=function(e){return"string"===typeof e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return m}));var r=n(6),a=n(105),i=n(44),o=n(168);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=Object(r.a)(t,2),a=n[0],i=n[1],o=u[a],l=s[i]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[].concat(f,d);function p(e,t,n,r){var a=Object(i.b)(e,t)||n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(l(n),r),o=e[n];return Object(a.b)(e,o,i)}function b(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return g(e,t,r,n)})).reduce(o.a,{})}function y(e){return b(e,f)}function x(e){return b(e,d)}function w(e){return b(e,h)}y.propTypes={},y.filterProps=f,x.propTypes={},x.filterProps=d,w.propTypes={},w.filterProps=h;t.c=w},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(42),c=n(13);var l=Object(c.b)({lessEqual_:function(e,t){var n=Object(u.a)(e,"a","lessEqual","string_or_numeric"),c=Object(u.a)(t,"b","lessEqual","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.Bb,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=Object(i.a)(e,"x","pad");if(0===o.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var u={paddings:t,constantValue:n},s={x:o};return r.a.runKernel(a.fc,s,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),a=n(269);function i(){return r.useContext(a.a)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N})),n.d(t,"i",(function(){return D})),n.d(t,"c",(function(){return I})),n.d(t,"f",(function(){return M})),n.d(t,"e",(function(){return P})),n.d(t,"d",(function(){return z})),n.d(t,"k",(function(){return L})),n.d(t,"g",(function(){return U})),n.d(t,"h",(function(){return W})),n.d(t,"j",(function(){return V})),n.d(t,"b",(function(){return H}));var r=n(6),a=n(16),i=n(4),o=n(5),u=n(0),s=n(154),c=n(214),l=n(8),f=n(575),d=n(576),h=n(577),p=n(578),v=n(579),m=n(580),g=n(581),b=n(582),y=n(583),x=n(584),w=n(585),O=n(586),k=n(587),j=n(588),_=n(589),S=n(590),E=n(591),A=n(592),C=n(593),N=function(){function e(){var t;Object(i.a)(this,e);var n=[f,d,h,p,v,m,g,b,y,x,w,O,k,j,_,S,E,A,C],r=(t=[]).concat.apply(t,Object(a.a)(n.map((function(e){return e.json}))));this.opMappers=r.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return Object(o.a)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.node,i=[],o=[],u=[],s=a.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?i.push(e[n.name]):"Const"===n.op?o.push(e[n.name]):null!=n.input&&0!==n.input.length||u.push(e[n.name]),e}),{}),c=[],f=[],d={},h={};null!=n&&(d=this.mapSignatureEntries(n.inputs),h=this.mapSignatureEntries(n.outputs));var p=Object.keys(s);p.forEach((function(e){var t=s[e];t.inputNames.forEach((function(e,n){var a=Object(l.b)(e),i=Object(r.a)(a,3),o=i[0],u=i[2],c=s[o];if(null!=c.outputs){var f=c.outputs.indexOf(u);if(-1!==f){var d="".concat(o,":").concat(f);t.inputNames[n]=d}}t.inputs.push(c),c.children.push(t)}))})),0===Object.keys(h).length?p.forEach((function(e){var t=s[e];0===t.children.length&&f.push(t)})):Object.keys(h).forEach((function(e){var t=Object(l.b)(e),n=Object(r.a)(t,1)[0],a=s[n];null!=a&&(a.signatureKey=h[e],f.push(a))})),Object.keys(d).length>0?Object.keys(d).forEach((function(e){var t=Object(l.b)(e),n=Object(r.a)(t,1)[0],a=s[n];a&&(a.signatureKey=d[e],c.push(a))})):c=i;var v={};null!=e.library&&null!=e.library.function&&(v=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var m={nodes:s,inputs:c,outputs:f,weights:o,placeholders:i,signature:n,functions:v};return u.length>0&&(m.initNodes=u),m}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=Object(c.a)(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.substr(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=D(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=D(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=W(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=W(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=M(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=M(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=U(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=U(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=I(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=I(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=H(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=H(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=L(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=L(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=V(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=V(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=P(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=P(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=z(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=z(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(a=R(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=R(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,a=[],i={};null!=n&&(i=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&a.push(e[n.name]),e}),{}));var o=[],u=[];e.signature.inputArg.forEach((function(e){var t=Object(l.b)(e.name),n=Object(r.a)(t,1)[0],a={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:F(e.type),type:"dtype"}},children:[]};a.signatureKey=e.name,o.push(a),i[n]=a})),Object.keys(i).forEach((function(e){var t=i[e];t.inputNames.forEach((function(e,n){var a=Object(l.b)(e),o=Object(r.a)(a,3),u=o[0],s=o[2],c=i[u];if(null!=c.outputs){var f=c.outputs.indexOf(s);if(-1!==f){var d="".concat(u,":").concat(f);t.inputNames[n]=d}}t.inputs.push(c),c.children.push(t)}))}));var s=e.ret;e.signature.outputArg.forEach((function(e){var t=Object(l.b)(s[e.name]),n=Object(r.a)(t,2),a=n[0],o=n[1],c=i[a];null!=c&&(c.defaultOutput=o,u.push(c))}));var c=this.mapArgsToSignature(e);return{nodes:i,inputs:o,outputs:u,weights:a,placeholders:[],signature:c}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function T(t,n){var r=Array.isArray(t)?String.fromCharCode.apply(null,t):function(t){var n=Object(u.env)().global;if("undefined"!==typeof n.atob)return n.atob(t);if("undefined"!==typeof e)return new e(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(t);return n?r:r.toLowerCase()}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?T(a.s,r):n}function I(e,t,n){var r=e[t];return r?r.b:n}function M(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function F(e){switch("string"===typeof e&&(e=s.a[e]),e){case s.a.DT_FLOAT:case s.a.DT_HALF:return"float32";case s.a.DT_INT32:case s.a.DT_INT64:case s.a.DT_INT8:case s.a.DT_UINT8:return"int32";case s.a.DT_BOOL:return"bool";case s.a.DT_DOUBLE:return"float32";case s.a.DT_STRING:return"string";default:return null}}function R(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function P(e,t,n){var r=e[t];return r&&r.type?F(r.type):n}function z(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return F(e)})):n}function B(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function L(e,t,n){var r=e[t];return r&&r.shape?B(r.shape):n}function U(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function W(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map((function(e){return T(e,r)})):n}function V(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return B(e)})):n}function H(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}}).call(this,n(175).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({complex_:function(e,t){var n=Object(i.a)(e,"real","complex"),u=Object(i.a)(t,"imag","complex");o.e(n.shape,u.shape,"real and imag shapes, ".concat(n.shape," and ").concat(u.shape,", ")+"must match in call to tf.complex().");var s={real:n,imag:u};return r.a.runKernel(a.A,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(42),u=n(13);var s=Object(u.b)({logicalAnd_:function(e,t){var n=Object(i.a)(e,"a","logicalAnd","bool"),u=Object(i.a)(t,"b","logicalAnd","bool");Object(o.assertAndGetBroadcastShape)(n.shape,u.shape);var s={a:n,b:u};return r.a.runKernel(a.Gb,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=Object(i.a)(e,"x","split"),u={x:o},s={numOrSizeSplits:t,axis:n};return r.a.runKernel(a.Pc,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.b)(e,"tensors","stack","string_or_numeric");o.b(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&o.b(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var u=n,s={axis:t};return r.a.runKernel(a.ec,u,s)}})},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return v})),n.d(t,"a",(function(){return m}));var r=n(6),a=n(52),i=n(220),o=n(153),u=Object(i.a)("kernelRegistry",(function(){return new Map})),s=Object(i.a)("gradRegistry",(function(){return new Map}));function c(e,t){var n=g(e,t);return u.get(n)}function l(e){return s.get(e)}function f(e){for(var t=u.entries(),n=[];;){var a=t.next(),i=a.done,o=a.value;if(i)break;var s=Object(r.a)(o,2),c=s[0],l=s[1],f=c.split("_");Object(r.a)(f,1)[0]===e&&n.push(l)}return n}function d(e){var t=e.kernelName,n=e.backendName,r=g(t,n);u.has(r)&&o.b("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),u.set(r,e)}function h(e){var t=e.kernelName;s.has(t)&&Object(a.c)().getBool("DEBUG")&&o.b("Overriding the gradient for '".concat(t,"'")),s.set(t,e)}function p(e,t){var n=g(e,t);if(!u.has(n))throw new Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));u.delete(n)}function v(e){if(!s.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));s.delete(e)}function m(e,t){f(e).forEach((function(e){d(Object.assign({},e,{backendName:t}))}))}function g(e,t){return"".concat(t,"_").concat(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","expandDims","string_or_numeric");o.b(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var u={input:n},s={dim:t};return r.a.runKernel(a.cb,u,s)}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(184),a=n(209);function i(e){return Object(r.a)("MuiFilledInput",e)}var o=Object(a.a)("MuiFilledInput",["root","colorSecondary","underline","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","hiddenLabel","input","inputSizeSmall","inputHiddenLabel","inputMultiline","inputAdornedStart","inputAdornedEnd"]);t.a=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(184),a=n(209);function i(e){return Object(r.a)("MuiOutlinedInput",e)}var o=Object(a.a)("MuiOutlinedInput",["root","colorSecondary","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","notchedOutline","input","inputSizeSmall","inputMultiline","inputAdornedStart","inputAdornedEnd"]);t.a=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(72),a=n(62);function i(e){return Object(r.a)((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*a.c)/a.f}))}var o=i(0),u=i(1),s=i(2),c=i(3),l=i(4),f=i(5),d=i(6);o.range,u.range,s.range,c.range,l.range,f.range,d.range},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(72),a=n(62);function i(e){return Object(r.a)((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/a.f}))}var o=i(0),u=i(1),s=i(2),c=i(3),l=i(4),f=i(5),d=i(6);o.range,u.range,s.range,c.range,l.range,f.range,d.range},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return _}));var r,a,i=n(470),o=n(303),u=n(925),s=n(926),c=n(927),l=n(633),f=n(469),d=n(66),h=n(3),p=n(408),v=n(465);function m(e){var t={};return function(n){return t[n]||(t[n]=e(n))}}function g(e){var t=m(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat:function(e){var n,r,a=Object(o.a)(e||",");if(null==a.precision){switch(a.precision=12,a.type){case"%":a.precision-=2;break;case"e":a.precision-=1}return n=t(a),r=t(".1f")(1)[1],function(e){var t=n(e),a=t.indexOf(r);if(a<0)return t;for(var i=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(t,a),o=i<t.length?t.slice(i):"";--i>a;)if("0"!==t[i]){++i;break}return t.slice(0,i)+o}}return t(a)},formatSpan:function(e,r,a,l){l=Object(o.a)(null==l?",f":l);var f,d=Object(i.c)(e,r,a),h=Math.max(Math.abs(e),Math.abs(r));if(null==l.precision)switch(l.type){case"s":return isNaN(f=Object(u.a)(d,h))||(l.precision=f),n(l,h);case"":case"e":case"g":case"p":case"r":isNaN(f=Object(s.a)(d,h))||(l.precision=f-("e"===l.type));break;case"f":case"%":isNaN(f=Object(c.a)(d))||(l.precision=f-2*("%"===l.type))}return t(l)}}}function b(){return r=g({format:l.a,formatPrefix:l.b})}function y(e){return g(Object(f.a)(e))}function x(e){return arguments.length?r=y(e):r}function w(e,t,n){n=n||{},Object(h.D)(n)||Object(h.k)("Invalid time multi-format specifier: ".concat(n));var r=t(d.i),a=t(d.f),i=t(d.d),o=t(d.a),u=t(d.k),s=t(d.g),c=t(d.h),l=t(d.l),f=e(n[d.e]||".%L"),p=e(n[d.i]||":%S"),v=e(n[d.f]||"%I:%M"),m=e(n[d.d]||"%I %p"),g=e(n[d.a]||n[d.b]||"%a %d"),b=e(n[d.k]||"%b %d"),y=e(n[d.g]||"%B"),x=e(n[d.h]||"%B"),w=e(n[d.l]||"%Y");return function(e){return(r(e)<e?f:a(e)<e?p:i(e)<e?v:o(e)<e?m:s(e)<e?u(e)<e?g:b:l(e)<e?c(e)<e?y:x:w)(e)}}function O(e){var t=m(e.format),n=m(e.utcFormat);return{timeFormat:function(e){return Object(h.F)(e)?t(e):w(t,d.p,e)},utcFormat:function(e){return Object(h.F)(e)?n(e):w(n,d.v,e)},timeParse:m(e.parse),utcParse:m(e.utcParse)}}function k(){return a=O({format:p.a,parse:p.b,utcFormat:p.c,utcParse:p.d})}function j(e){return O(Object(v.a)(e))}function _(e){return arguments.length?a=j(e):a}b(),k();var S=function(e,t){return Object(h.l)({},e,t)};function E(e,t){var n=e?y(e):x(),r=t?j(t):_();return S(n,r)}function A(e,t){var n=arguments.length;return n&&2!==n&&Object(h.k)("defaultLocale expects either zero or two arguments."),n?S(x(e),_(t)):S(x(),_())}function C(){return b(),k(),A()}},function(e,t,n){"use strict";var r=n(300);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(56),s=n(13),c=n(21);var l=Object(s.b)({conv2d_:function(e,t,n,s){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],d=arguments.length>6?arguments[6]:void 0,h=Object(i.a)(e,"x","conv2d","float32"),p=Object(i.a)(t,"filter","conv2d","float32"),v=h,m=!1;3===h.rank&&(m=!0,v=Object(c.a)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),o.b(4===v.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(v.rank,".")})),o.b(4===p.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(p.rank,".")})),u.a("conv2d",s,d);var g="NHWC"===l?v.shape[3]:v.shape[1];o.b(g===p.shape[2],(function(){return"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(p.shape[2],".")})),o.b(u.i(n,f),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(f,"'")}));var b={x:v,filter:p},y={strides:n,pad:s,dataFormat:l,dilations:f,dimRoundingMode:d},x=r.a.runKernel(a.D,b,y);return m?Object(c.a)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(42),c=n(13);var l=Object(c.b)({greaterEqual_:function(e,t){var n=Object(u.a)(e,"a","greaterEqual","string_or_numeric"),c=Object(u.a)(t,"b","greaterEqual","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.qb,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({clone_:function(e){var t={x:Object(i.a)(e,"x","clone","string_or_numeric")};return r.a.runKernel(a.sb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({sigmoid_:function(e){var t={x:Object(i.a)(e,"x","sigmoid","float32")};return r.a.runKernel(a.Cc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({tile_:function(e,t){var n=Object(i.a)(e,"x","tile","string_or_numeric");o.b(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")}));var u={x:n},s={reps:t};return r.a.runKernel(a.cd,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.a)(e,"x","max"),u={x:o},s={reductionIndices:t,keepDims:n};return r.a.runKernel(a.Jb,u,s)}})},function(e,t,n){"use strict";function r(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.default=o},function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function a(e){return!!e&&!!e[X]}function i(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Y}(e)||Array.isArray(e)||!!e[q]||!!e.constructor[q]||d(e)||h(e))}function o(e,t,n){void 0===n&&(n=!1),0===u(e)?(n?Object.keys:K)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function u(e){var t=e[X];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:d(e)?2:h(e)?3:0}function s(e,t){return 2===u(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===u(e)?e.get(t):e[t]}function l(e,t,n){var r=u(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){return W&&e instanceof Map}function h(e){return V&&e instanceof Set}function p(e){return e.o||e.t}function v(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=$(e);delete t[X];for(var n=K(t),r=0;r<n.length;r++){var a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),b(e)||a(e)||!i(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&o(e,(function(e,t){return m(t,!0)}),!0)),e}function g(){r(2)}function b(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(e){var t=Z[e];return t||r(18,e),t}function x(e,t){Z[e]||(Z[e]=t)}function w(){return L}function O(e,t){t&&(y("Patches"),e.u=[],e.s=[],e.v=t)}function k(e){j(e),e.p.forEach(S),e.p=null}function j(e){e===L&&(L=e.l)}function _(e){return L={p:[],l:L,h:e,m:!0,_:0}}function S(e){var t=e[X];0===t.i||1===t.i?t.j():t.O=!0}function E(e,t){t._=t.p.length;var n=t.p[0],a=void 0!==e&&e!==n;return t.h.g||y("ES5").S(t,e,a),a?(n[X].P&&(k(t),r(4)),i(e)&&(e=A(t,e),t.l||N(t,e)),t.u&&y("Patches").M(n[X].t,e,t.u,t.s)):e=A(t,n,[]),k(t),t.u&&t.v(t.u,t.s),e!==G?e:void 0}function A(e,t,n){if(b(t))return t;var r=t[X];if(!r)return o(t,(function(a,i){return C(e,r,t,a,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return N(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=4===r.i||5===r.i?r.o=v(r.k):r.o;o(3===r.i?new Set(a):a,(function(t,i){return C(e,r,a,t,i,n)})),N(e,a,!1),n&&e.u&&y("Patches").R(r,n,e.u,e.s)}return r.o}function C(e,t,n,r,o,u){if(a(o)){var c=A(e,o,u&&t&&3!==t.i&&!s(t.D,r)?u.concat(r):void 0);if(l(n,r,c),!a(c))return;e.m=!1}if(i(o)&&!b(o)){if(!e.h.F&&e._<1)return;A(e,o),t&&t.A.l||N(e,o)}}function N(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&m(t,n)}function T(e,t){var n=e[X];return(n?p(n):e)[t]}function D(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function I(e){e.P||(e.P=!0,e.l&&I(e.l))}function M(e){e.o||(e.o=v(e.t))}function F(e,t,n){var r=d(t)?y("MapSet").N(t,n):h(t)?y("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:w(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},a=r,i=J;n&&(a=[r],i=Q);var o=Proxy.revocable(a,i),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):y("ES5").J(t,n);return(n?n.A:w()).p.push(r),r}function R(e){return a(e)||r(22,e),function e(t){if(!i(t))return t;var n,r=t[X],a=u(t);if(r){if(!r.P&&(r.i<4||!y("ES5").K(r)))return r.t;r.I=!0,n=P(t,a),r.I=!1}else n=P(t,a);return o(n,(function(t,a){r&&c(r.t,t)===a||l(n,t,e(a))})),3===a?new Set(n):n}(e)}function P(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return v(e)}function z(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[X];return J.get(t,e)},set:function(t){var n=this[X];J.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var a=e[t][X];if(!a.P)switch(a.i){case 5:r(a)&&I(a);break;case 4:n(a)&&I(a)}}}function n(e){for(var t=e.t,n=e.k,r=K(n),a=r.length-1;a>=0;a--){var i=r[a];if(i!==X){var o=t[i];if(void 0===o&&!s(t,i))return!0;var u=n[i],c=u&&u[X];if(c?c.t!==o:!f(u,o))return!0}}var l=!!t[X];return r.length!==K(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};x("ES5",{J:function(t,n){var r=Array.isArray(t),a=function(t,n){if(t){for(var r=Array(n.length),a=0;a<n.length;a++)Object.defineProperty(r,""+a,e(a,!0));return r}var i=$(n);delete i[X];for(var o=K(i),u=0;u<o.length;u++){var s=o[u];i[s]=e(s,t||!!i[s].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,t),i={i:r?5:4,A:n?n.A:w(),P:!1,I:!1,D:{},l:n,t:t,k:a,o:null,O:!1,C:!1};return Object.defineProperty(a,X,{value:i,writable:!0}),a},S:function(e,n,i){i?a(n)&&n[X].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[X];if(n){var a=n.t,i=n.k,u=n.D,c=n.i;if(4===c)o(i,(function(t){t!==X&&(void 0!==a[t]||s(a,t)?u[t]||e(i[t]):(u[t]=!0,I(n)))})),o(a,(function(e){void 0!==i[e]||s(i,e)||(u[e]=!1,I(n))}));else if(5===c){if(r(n)&&(I(n),u.length=!0),i.length<a.length)for(var l=i.length;l<a.length;l++)u[l]=!1;else for(var f=a.length;f<i.length;f++)u[f]=!0;for(var d=Math.min(i.length,a.length),h=0;h<d;h++)i.hasOwnProperty(h)||(u[h]=!0),void 0===u[h]&&e(i[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.d(t,"a",(function(){return be})),n.d(t,"b",(function(){return we}));var B,L,U="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),W="undefined"!=typeof Map,V="undefined"!=typeof Set,H="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,G=U?Symbol.for("immer-nothing"):((B={})["immer-nothing"]=!0,B),q=U?Symbol.for("immer-draftable"):"__$immer_draftable",X=U?Symbol.for("immer-state"):"__$immer_state",Y=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),K="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,$=Object.getOwnPropertyDescriptors||function(e){var t={};return K(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Z={},J={get:function(e,t){if(t===X)return e;var n=p(e);if(!s(n,t))return function(e,t,n){var r,a=D(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!i(r)?r:r===T(e.t,t)?(M(e),e.o[t]=F(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=D(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var a=T(p(e),t),i=null==a?void 0:a[X];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(f(n,a)&&(void 0!==n||s(e.t,t)))return!0;M(e),I(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==T(e.t,t)||t in e.t?(e.D[t]=!1,M(e),I(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},Q={};o(J,(function(e,t){Q[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Q.deleteProperty=function(e,t){return Q.set.call(this,e,t,void 0)},Q.set=function(e,t,n){return J.set.call(this,e[0],t,n,e[0])};var ee=function(){function e(e){var t=this;this.g=H,this.F=!0,this.produce=function(e,n,a){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var u=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return u.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var s;if("function"!=typeof n&&r(6),void 0!==a&&"function"!=typeof a&&r(7),i(e)){var c=_(t),l=F(t,e,void 0),f=!0;try{s=n(l),f=!1}finally{f?k(c):j(c)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return O(c,a),E(e,c)}),(function(e){throw k(c),e})):(O(c,a),E(s,c))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===G&&(s=void 0),t.F&&m(s,!0),a){var d=[],h=[];y("Patches").M(e,s,d,h),a(d,h)}return s}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(a))}))};var r,a,i=t.produce(e,n,(function(e,t){r=e,a=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,a]})):[i,r,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||r(8),a(e)&&(e=R(e));var t=_(this),n=F(this,e,void 0);return n[X].C=!0,j(t),n},t.finishDraft=function(e,t){var n=(e&&e[X]).A;return O(n,t),E(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!H&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=y("Patches").$;return a(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),te=new ee,ne=te.produce,re=(te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseProxies.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te),te.finishDraft.bind(te),ne);var ae=n(108),ie=n(295),oe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ue=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},se=Object.defineProperty,ce=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),le=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable,de=function(e,t,n){return t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},he=function(e,t){for(var n in t||(t={}))le.call(t,n)&&de(e,n,t[n]);if(ce)for(var r=0,a=ce(t);r<a.length;r++){n=a[r];fe.call(t,n)&&de(e,n,t[n])}return e},pe="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?ae.c:ae.c.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function ve(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var me=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=e.apply(this,n)||this;return Object.setPrototypeOf(a,t.prototype),a}return oe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,ue([void 0],e[0].concat(this)))):new(t.bind.apply(t,ue([void 0],e.concat(this))))},t}(Array);function ge(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new me);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(ie.a.withExtraArgument(n.extraArgument)):r.push(ie.a));0;return r}(e)}}function be(e){var t,n=ge(),r=e||{},a=r.reducer,i=void 0===a?void 0:a,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof i)t=i;else{if(!ve(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Object(ae.b)(i)}var p=u;"function"===typeof p&&(p=p(n));var v=ae.a.apply(void 0,p),m=ae.c;c&&(m=pe(he({trace:!1},"object"===typeof c&&c)));var g=[v];Array.isArray(h)?g=ue([v],h):"function"===typeof h&&(g=h(g));var b=m.apply(void 0,g);return Object(ae.d)(t,f,b)}function ye(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var a=t.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return he(he({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function xe(e){var t,n={},r=[],a={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,a},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),a},addDefaultCase:function(e){return t=e,a}};return e(a),[n,r,t]}function we(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:re(e.initialState,(function(){})),o=e.reducers||{},u=Object.keys(o),s={},c={},l={};function f(){var t="function"===typeof e.extraReducers?xe(e.extraReducers):[e.extraReducers],n=t[0],o=void 0===n?{}:n,u=t[1],s=void 0===u?[]:u,l=t[2],f=void 0===l?void 0:l,d=he(he({},o),c);return function(e,t,n,r){void 0===n&&(n=[]);var o,u="function"===typeof t?xe(t):[t,n,r],s=u[0],c=u[1],l=u[2];if(function(e){return"function"===typeof e}(e))o=function(){return re(e(),(function(){}))};else{var f=re(e,(function(){}));o=function(){return f}}function d(e,t){void 0===e&&(e=o());var n=ue([s[t.type]],c.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(a(e))return"undefined"===typeof(r=n(e,t))?e:r;if(i(e))return re(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return d.getInitialState=o,d}(r,d,s,f)}return u.forEach((function(e){var n,r,a=o[e],i=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,s[e]=n,c[i]=n,l[e]=r?ye(i,r):ye(i)})),{name:t,reducer:function(e,t){return n||(n=f()),n(e,t)},actions:l,caseReducers:s,getInitialState:function(){return n||(n=f()),n.getInitialState()}}}z()},function(e,t,n){"use strict";function r(e,t){var n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0!==t?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return v}));var r=n(19),a=n(7),i=n.n(a),o=n(0);function u(e,t){return s(e,t)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(p(e)){var i=Array.isArray(e)?[]:{};for(var o in r.add(e),e){var u=e[o],c=s(u,t,n,r);i[o]=c}return r.delete(e),e.__proto__&&(i.__proto__=e.__proto__),i}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,a.value),a.value}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return l(e,t)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(p(r)){var i=Array.isArray(r)?[]:{};n.add(r);var o=function(r){var a=l(e.map((function(e){return e[r]})),t,n);i[r]=a};for(var u in r)o(u);return n.delete(r),i}throw new Error("Can't recurse into non-iterable type: ".concat(r))}return a.value}function f(e){return null===e?null:p(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function d(e,t){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(i.a.mark((function e(t,n){var r,a,u,c,l,f,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Map,s(t,n,r),a=0,u=Array.from(r.keys());case 3:if(!(a<u.length)){e.next=14;break}if(c=u[a],l=r.get(c),!o.util.isPromise(l)){e.next=11;break}return e.next=9,l;case 9:f=e.sent,r.set(c,f);case 11:a++,e.next=3;break;case 14:return d=s(t,n,r),e.abrupt("return",d);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){var t=!1;o.env().get("IS_BROWSER")?t=e instanceof TextDecoder:t=e instanceof n(728).StringDecoder;return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof o.Tensor)&&!(e instanceof Promise)&&!t)}function v(e){return null==e||(null===(t=e)||"object"!==typeof t&&"function"!==typeof t)||Array.isArray(e)||"object"===typeof e&&e instanceof o.Tensor||o.util.isTypedArray(e);var t}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(110);e.exports=function(e,t,n){return new r(e,n).compare(new r(t,n))}},function(e,t,n){var r=n(310).default,a=n(185).default,i=n(73).default,o=n(74).default,u=function(){"use strict";function e(t,n){var r=this;if(i(this,e),n=c(n),t instanceof e)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new e(t.raw,n);if(t instanceof l)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(e){return r.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(t));if(this.set.length>1){var o=this.set[0];if(this.set=this.set.filter((function(e){return!y(e[0])})),0===this.set.length)this.set=[o];else if(this.set.length>1){var u,s=a(this.set);try{for(s.s();!(u=s.n()).done;){var f=u.value;if(1===f.length&&x(f[0])){this.set=[f];break}}}catch(d){s.e(d)}finally{s.f()}}}this.format()}return o(e,[{key:"format",value:function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var t=this;e=e.trim();var n=Object.keys(this.options).join(","),i="parseRange:".concat(n,":").concat(e),o=s.get(i);if(o)return o;var u=this.options.loose,c=u?p[v.HYPHENRANGELOOSE]:p[v.HYPHENRANGE];e=e.replace(c,D(this.options.includePrerelease)),f("hyphen replace",e),e=e.replace(p[v.COMPARATORTRIM],m),f("comparator trim",e,p[v.COMPARATORTRIM]),e=(e=(e=e.replace(p[v.TILDETRIM],g)).replace(p[v.CARETTRIM],b)).split(/\s+/).join(" ");var d,h=u?p[v.COMPARATORLOOSE]:p[v.COMPARATOR],x=e.split(" ").map((function(e){return O(e,t.options)})).join(" ").split(/\s+/).map((function(e){return T(e,t.options)})).filter(this.options.loose?function(e){return!!e.match(h)}:function(){return!0}).map((function(e){return new l(e,t.options)})),w=(x.length,new Map),k=a(x);try{for(k.s();!(d=k.n()).done;){var j=d.value;if(y(j))return[j];w.set(j.value,j)}}catch(S){k.e(S)}finally{k.f()}w.size>1&&w.has("")&&w.delete("");var _=r(w.values());return s.set(i,_),_}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((function(e){return w(e,n)&&t.set.some((function(t){return w(t,n)&&e.every((function(e){return t.every((function(t){return e.intersects(t,n)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"===typeof e)try{e=new d(e,this.options)}catch(n){return!1}for(var t=0;t<this.set.length;t++)if(I(this.set[t],e,this.options))return!0;return!1}}]),e}();e.exports=u;var s=new(n(857))({max:1e3}),c=n(321),l=n(323),f=n(320),d=n(110),h=n(235),p=h.re,v=h.t,m=h.comparatorTrimReplace,g=h.tildeTrimReplace,b=h.caretTrimReplace,y=function(e){return"<0.0.0-0"===e.value},x=function(e){return""===e.value},w=function(e,t){for(var n=!0,r=e.slice(),a=r.pop();n&&r.length;)n=r.every((function(e){return a.intersects(e,t)})),a=r.pop();return n},O=function(e,t){return f("comp",e,t),e=S(e,t),f("caret",e),e=j(e,t),f("tildes",e),e=A(e,t),f("xrange",e),e=N(e,t),f("stars",e),e},k=function(e){return!e||"x"===e.toLowerCase()||"*"===e},j=function(e,t){return e.trim().split(/\s+/).map((function(e){return _(e,t)})).join(" ")},_=function(e,t){var n=t.loose?p[v.TILDELOOSE]:p[v.TILDE];return e.replace(n,(function(t,n,r,a,i){var o;return f("tilde",e,t,n,r,a,i),k(n)?o="":k(r)?o=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):k(a)?o=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):i?(f("replaceTilde pr",i),o=">=".concat(n,".").concat(r,".").concat(a,"-").concat(i," <").concat(n,".").concat(+r+1,".0-0")):o=">=".concat(n,".").concat(r,".").concat(a," <").concat(n,".").concat(+r+1,".0-0"),f("tilde return",o),o}))},S=function(e,t){return e.trim().split(/\s+/).map((function(e){return E(e,t)})).join(" ")},E=function(e,t){f("caret",e,t);var n=t.loose?p[v.CARETLOOSE]:p[v.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(function(t,n,a,i,o){var u;return f("caret",e,t,n,a,i,o),k(n)?u="":k(a)?u=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):k(i)?u="0"===n?">=".concat(n,".").concat(a,".0").concat(r," <").concat(n,".").concat(+a+1,".0-0"):">=".concat(n,".").concat(a,".0").concat(r," <").concat(+n+1,".0.0-0"):o?(f("replaceCaret pr",o),u="0"===n?"0"===a?">=".concat(n,".").concat(a,".").concat(i,"-").concat(o," <").concat(n,".").concat(a,".").concat(+i+1,"-0"):">=".concat(n,".").concat(a,".").concat(i,"-").concat(o," <").concat(n,".").concat(+a+1,".0-0"):">=".concat(n,".").concat(a,".").concat(i,"-").concat(o," <").concat(+n+1,".0.0-0")):(f("no pr"),u="0"===n?"0"===a?">=".concat(n,".").concat(a,".").concat(i).concat(r," <").concat(n,".").concat(a,".").concat(+i+1,"-0"):">=".concat(n,".").concat(a,".").concat(i).concat(r," <").concat(n,".").concat(+a+1,".0-0"):">=".concat(n,".").concat(a,".").concat(i," <").concat(+n+1,".0.0-0")),f("caret return",u),u}))},A=function(e,t){return f("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return C(e,t)})).join(" ")},C=function(e,t){e=e.trim();var n=t.loose?p[v.XRANGELOOSE]:p[v.XRANGE];return e.replace(n,(function(n,r,a,i,o,u){f("xRange",e,n,r,a,i,o,u);var s=k(a),c=s||k(i),l=c||k(o),d=l;return"="===r&&d&&(r=""),u=t.includePrerelease?"-0":"",s?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&d?(c&&(i=0),o=0,">"===r?(r=">=",c?(a=+a+1,i=0,o=0):(i=+i+1,o=0)):"<="===r&&(r="<",c?a=+a+1:i=+i+1),"<"===r&&(u="-0"),n="".concat(r+a,".").concat(i,".").concat(o).concat(u)):c?n=">=".concat(a,".0.0").concat(u," <").concat(+a+1,".0.0-0"):l&&(n=">=".concat(a,".").concat(i,".0").concat(u," <").concat(a,".").concat(+i+1,".0-0")),f("xRange return",n),n}))},N=function(e,t){return f("replaceStars",e,t),e.trim().replace(p[v.STAR],"")},T=function(e,t){return f("replaceGTE0",e,t),e.trim().replace(p[t.includePrerelease?v.GTE0PRE:v.GTE0],"")},D=function(e){return function(t,n,r,a,i,o,u,s,c,l,f,d,h){return n=k(r)?"":k(a)?">=".concat(r,".0.0").concat(e?"-0":""):k(i)?">=".concat(r,".").concat(a,".0").concat(e?"-0":""):o?">=".concat(n):">=".concat(n).concat(e?"-0":""),s=k(c)?"":k(l)?"<".concat(+c+1,".0.0-0"):k(f)?"<".concat(c,".").concat(+l+1,".0-0"):d?"<=".concat(c,".").concat(l,".").concat(f,"-").concat(d):e?"<".concat(c,".").concat(l,".").concat(+f+1,"-0"):"<=".concat(s),"".concat(n," ").concat(s).trim()}},I=function(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(var a=0;a<e.length;a++)if(f(e[a].semver),e[a].semver!==l.ANY&&e[a].semver.prerelease.length>0){var i=e[a].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},function(e,t,n){"use strict";var r=n(7),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(557),o=n(558);t.getDrawArea=function(e){if(e instanceof HTMLElement)return e;if(i.isSurface(e))return e.drawArea;if(i.isSurfaceInfo(e))return o.visor().surface({name:e.name,tab:e.tab,styles:e.styles}).drawArea;throw new Error("Not a drawable")},t.shallowEquals=function(e,t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++){var i=n[a];if(e[i]!==t[i])return!1}return!0},t.nextFrame=function(){return a(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return requestAnimationFrame(e)}));case 2:case"end":return e.stop()}}),e)})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({log_:function(e){var t={x:Object(i.a)(e,"x","log","float32")};return r.a.runKernel(a.Db,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var a=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(52);function a(){var e;Object(r.c)().getBool("IS_TEST")||Object(r.c)().getBool("PROD")||(e=console).warn.apply(e,arguments)}function i(){var e;Object(r.c)().getBool("IS_TEST")||Object(r.c)().getBool("PROD")||(e=console).log.apply(e,arguments)}},function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(r||(r={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(a||(a={}))},function(e,t,n){var r=n(527),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s}));var r=n(16);function a(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,a=e.length,i=0,o=!1;for(;r<a;){var u=n(t,e[i=r+(a-r>>>1)]);u>0?r=i+1:(a=i,o=!u)}return o?r:-r-1}(e,t,n||i)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function i(e,t){return e>t?1:e<t?-1:0}function o(e,t,n,r,a){return c(e,t,n,r,a,0)}function u(e,t,n,r,a,i){return c(e,t,n,r,a,0,!1,i,!0)}function s(e,t,n,r,a,i){return c(e,t,n,r,a,i,!0)}function c(e,t,n,i,o,u){for(var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],h=arguments.length>8&&void 0!==arguments[8]&&arguments[8],p=[],v=0;v<t.length;v++)t[v]>o&&p.push({score:t[v],boxIndex:v,suppressBeginIndex:0});p.sort(d);for(var m=u>0?-.5/u:0,g=[],b=[];g.length<n&&p.length>0;){var y=p.pop(),x=y.score,w=y.boxIndex,O=y.suppressBeginIndex;if(x<o)break;for(var k=!1,j=g.length-1;j>=O;--j){var _=l(e,w,g[j]);if(_>=i){k=!0;break}if(y.score=y.score*f(i,m,_),y.score<=o)break}y.suppressBeginIndex=g.length,k||(y.score===x?(g.push(w),b.push(y.score)):y.score>o&&a(p,y,d))}var S=g.length,E=n-S;c&&E>0&&(g.push.apply(g,Object(r.a)(new Array(E).fill(0))),b.push.apply(b,Object(r.a)(new Array(E).fill(0))));var A={selectedIndices:g};return s&&(A.selectedScores=b),h&&(A.validOutputs=S),A}function l(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),u=Math.max(r[0],r[2]),s=Math.max(r[1],r[3]),c=Math.min(a[0],a[2]),l=Math.min(a[1],a[3]),f=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),h=(u-i)*(s-o),p=(f-c)*(d-l);if(h<=0||p<=0)return 0;var v=Math.max(i,c),m=Math.max(o,l),g=Math.min(u,f),b=Math.min(s,d),y=Math.max(g-v,0)*Math.max(b-m,0);return y/(h+p-y)}function f(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function d(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),a=n(5),i=n(53),o=n(87),u=n(144),s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(r.a)(this,e),(t=o.a.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");var a,s=t.rows,c=t.columns,l=n.computeLeftSingularVectors,f=void 0===l||l,d=n.computeRightSingularVectors,h=void 0===d||d,p=n.autoTranspose,v=void 0!==p&&p,m=Boolean(f),g=Boolean(h),b=!1;if(s<c)if(v){s=(a=t.transpose()).rows,c=a.columns,b=!0;var y=m;m=g,g=y}else a=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else a=t.clone();for(var x=Math.min(s,c),w=Math.min(s+1,c),O=new Float64Array(w),k=new i.b(s,x),j=new i.b(c,c),_=new Float64Array(c),S=new Float64Array(s),E=new Float64Array(w),A=0;A<w;A++)E[A]=A;for(var C=Math.min(s-1,c),N=Math.max(0,Math.min(c-2,s)),T=Math.max(C,N),D=0;D<T;D++){if(D<C){O[D]=0;for(var I=D;I<s;I++)O[D]=Object(u.a)(O[D],a.get(I,D));if(0!==O[D]){a.get(D,D)<0&&(O[D]=-O[D]);for(var M=D;M<s;M++)a.set(M,D,a.get(M,D)/O[D]);a.set(D,D,a.get(D,D)+1)}O[D]=-O[D]}for(var F=D+1;F<c;F++){if(D<C&&0!==O[D]){for(var R=0,P=D;P<s;P++)R+=a.get(P,D)*a.get(P,F);R=-R/a.get(D,D);for(var z=D;z<s;z++)a.set(z,F,a.get(z,F)+R*a.get(z,D))}_[F]=a.get(D,F)}if(m&&D<C)for(var B=D;B<s;B++)k.set(B,D,a.get(B,D));if(D<N){_[D]=0;for(var L=D+1;L<c;L++)_[D]=Object(u.a)(_[D],_[L]);if(0!==_[D]){_[D+1]<0&&(_[D]=0-_[D]);for(var U=D+1;U<c;U++)_[U]/=_[D];_[D+1]+=1}if(_[D]=-_[D],D+1<s&&0!==_[D]){for(var W=D+1;W<s;W++)S[W]=0;for(var V=D+1;V<s;V++)for(var H=D+1;H<c;H++)S[V]+=_[H]*a.get(V,H);for(var G=D+1;G<c;G++)for(var q=-_[G]/_[D+1],X=D+1;X<s;X++)a.set(X,G,a.get(X,G)+q*S[X])}if(g)for(var Y=D+1;Y<c;Y++)j.set(Y,D,_[Y])}}var K=Math.min(c,s+1);if(C<c&&(O[C]=a.get(C,C)),s<K&&(O[K-1]=0),N+1<K&&(_[N]=a.get(N,K-1)),_[K-1]=0,m){for(var $=C;$<x;$++){for(var Z=0;Z<s;Z++)k.set(Z,$,0);k.set($,$,1)}for(var J=C-1;J>=0;J--)if(0!==O[J]){for(var Q=J+1;Q<x;Q++){for(var ee=0,te=J;te<s;te++)ee+=k.get(te,J)*k.get(te,Q);ee=-ee/k.get(J,J);for(var ne=J;ne<s;ne++)k.set(ne,Q,k.get(ne,Q)+ee*k.get(ne,J))}for(var re=J;re<s;re++)k.set(re,J,-k.get(re,J));k.set(J,J,1+k.get(J,J));for(var ae=0;ae<J-1;ae++)k.set(ae,J,0)}else{for(var ie=0;ie<s;ie++)k.set(ie,J,0);k.set(J,J,1)}}if(g)for(var oe=c-1;oe>=0;oe--){if(oe<N&&0!==_[oe])for(var ue=oe+1;ue<c;ue++){for(var se=0,ce=oe+1;ce<c;ce++)se+=j.get(ce,oe)*j.get(ce,ue);se=-se/j.get(oe+1,oe);for(var le=oe+1;le<c;le++)j.set(le,ue,j.get(le,ue)+se*j.get(le,oe))}for(var fe=0;fe<c;fe++)j.set(fe,oe,0);j.set(oe,oe,1)}for(var de=K-1,he=Number.EPSILON;K>0;){var pe=void 0,ve=void 0;for(pe=K-2;pe>=-1&&-1!==pe;pe--){var me=Number.MIN_VALUE+he*Math.abs(O[pe]+Math.abs(O[pe+1]));if(Math.abs(_[pe])<=me||Number.isNaN(_[pe])){_[pe]=0;break}}if(pe===K-2)ve=4;else{var ge=void 0;for(ge=K-1;ge>=pe&&ge!==pe;ge--){var be=(ge!==K?Math.abs(_[ge]):0)+(ge!==pe+1?Math.abs(_[ge-1]):0);if(Math.abs(O[ge])<=he*be){O[ge]=0;break}}ge===pe?ve=3:ge===K-1?ve=1:(ve=2,pe=ge)}switch(pe++,ve){case 1:var ye=_[K-2];_[K-2]=0;for(var xe=K-2;xe>=pe;xe--){var we=Object(u.a)(O[xe],ye),Oe=O[xe]/we,ke=ye/we;if(O[xe]=we,xe!==pe&&(ye=-ke*_[xe-1],_[xe-1]=Oe*_[xe-1]),g)for(var je=0;je<c;je++)we=Oe*j.get(je,xe)+ke*j.get(je,K-1),j.set(je,K-1,-ke*j.get(je,xe)+Oe*j.get(je,K-1)),j.set(je,xe,we)}break;case 2:var _e=_[pe-1];_[pe-1]=0;for(var Se=pe;Se<K;Se++){var Ee=Object(u.a)(O[Se],_e),Ae=O[Se]/Ee,Ce=_e/Ee;if(O[Se]=Ee,_e=-Ce*_[Se],_[Se]=Ae*_[Se],m)for(var Ne=0;Ne<s;Ne++)Ee=Ae*k.get(Ne,Se)+Ce*k.get(Ne,pe-1),k.set(Ne,pe-1,-Ce*k.get(Ne,Se)+Ae*k.get(Ne,pe-1)),k.set(Ne,Se,Ee)}break;case 3:var Te=Math.max(Math.abs(O[K-1]),Math.abs(O[K-2]),Math.abs(_[K-2]),Math.abs(O[pe]),Math.abs(_[pe])),De=O[K-1]/Te,Ie=O[K-2]/Te,Me=_[K-2]/Te,Fe=O[pe]/Te,Re=_[pe]/Te,Pe=((Ie+De)*(Ie-De)+Me*Me)/2,ze=De*Me*(De*Me),Be=0;0===Pe&&0===ze||(Be=ze/(Pe+(Be=Pe<0?0-Math.sqrt(Pe*Pe+ze):Math.sqrt(Pe*Pe+ze))));for(var Le=(Fe+De)*(Fe-De)+Be,Ue=Fe*Re,We=pe;We<K-1;We++){var Ve=Object(u.a)(Le,Ue);0===Ve&&(Ve=Number.MIN_VALUE);var He=Le/Ve,Ge=Ue/Ve;if(We!==pe&&(_[We-1]=Ve),Le=He*O[We]+Ge*_[We],_[We]=He*_[We]-Ge*O[We],Ue=Ge*O[We+1],O[We+1]=He*O[We+1],g)for(var qe=0;qe<c;qe++)Ve=He*j.get(qe,We)+Ge*j.get(qe,We+1),j.set(qe,We+1,-Ge*j.get(qe,We)+He*j.get(qe,We+1)),j.set(qe,We,Ve);if(0===(Ve=Object(u.a)(Le,Ue))&&(Ve=Number.MIN_VALUE),He=Le/Ve,Ge=Ue/Ve,O[We]=Ve,Le=He*_[We]+Ge*O[We+1],O[We+1]=-Ge*_[We]+He*O[We+1],Ue=Ge*_[We+1],_[We+1]=He*_[We+1],m&&We<s-1)for(var Xe=0;Xe<s;Xe++)Ve=He*k.get(Xe,We)+Ge*k.get(Xe,We+1),k.set(Xe,We+1,-Ge*k.get(Xe,We)+He*k.get(Xe,We+1)),k.set(Xe,We,Ve)}_[K-2]=Le,1;break;case 4:if(O[pe]<=0&&(O[pe]=O[pe]<0?-O[pe]:0,g))for(var Ye=0;Ye<=de;Ye++)j.set(Ye,pe,-j.get(Ye,pe));for(;pe<de&&!(O[pe]>=O[pe+1]);){var Ke=O[pe];if(O[pe]=O[pe+1],O[pe+1]=Ke,g&&pe<c-1)for(var $e=0;$e<c;$e++)Ke=j.get($e,pe+1),j.set($e,pe+1,j.get($e,pe)),j.set($e,pe,Ke);if(m&&pe<s-1)for(var Ze=0;Ze<s;Ze++)Ke=k.get(Ze,pe+1),k.set(Ze,pe+1,k.get(Ze,pe)),k.set(Ze,pe,Ke);pe++}0,K--}}if(b){var Je=j;j=k,k=Je}this.m=s,this.n=c,this.s=O,this.U=k,this.V=j}return Object(a.a)(e,[{key:"solve",value:function(e){for(var t=e,n=this.threshold,r=this.s.length,a=i.b.zeros(r,r),o=0;o<r;o++)Math.abs(this.s[o])<=n?a.set(o,o,0):a.set(o,o,1/this.s[o]);for(var u=this.U,s=this.rightSingularVectors,c=s.mmul(a),l=s.rows,f=u.rows,d=i.b.zeros(l,f),h=0;h<l;h++)for(var p=0;p<f;p++){for(var v=0,m=0;m<r;m++)v+=c.get(h,m)*u.get(p,m);d.set(h,p,v)}return d.mmul(t)}},{key:"solveForDiagonal",value:function(e){return this.solve(i.b.diag(e))}},{key:"inverse",value:function(){for(var e=this.V,t=this.threshold,n=e.rows,r=e.columns,a=new i.b(n,this.s.length),o=0;o<n;o++)for(var u=0;u<r;u++)Math.abs(this.s[u])>t&&a.set(o,u,e.get(o,u)/this.s[u]);for(var s=this.U,c=s.rows,l=s.columns,f=new i.b(n,c),d=0;d<n;d++)for(var h=0;h<c;h++){for(var p=0,v=0;v<l;v++)p+=a.get(d,v)*s.get(h,v);f.set(d,h,p)}return f}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,n=this.s,r=0,a=n.length;r<a;r++)n[r]>e&&t++;return t}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return i.b.diag(this.s)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),a=n(23),i=n(121);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=o(e,"float32"),u=o(e,"float32");return Object(i.a)(n,u)}var s=Object(a.F)(Object(a.O)(e),t);return r.a.makeTensor(s,e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({relu_:function(e){var t={x:Object(i.a)(e,"x","relu")};return r.a.runKernel(a.oc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","step"),o={x:n},u={alpha:t};return r.a.runKernel(a.Tc,o,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","unstack","string_or_numeric");o.b(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var u={value:n},s={axis:t};return r.a.runKernel(a.hd,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(21);var s=n(13);var c=Object(s.b)({batchNorm_:function(e,t,n,s,c,l){null==l&&(l=.001);var f,d,h=Object(i.a)(e,"x","batchNorm"),p=Object(i.a)(t,"mean","batchNorm"),v=Object(i.a)(n,"variance","batchNorm");null!=c&&(f=Object(i.a)(c,"scale","batchNorm")),null!=s&&(d=Object(i.a)(s,"offset","batchNorm")),o.b(p.rank===v.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),o.b(null==d||p.rank===d.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),o.b(null==f||p.rank===f.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var m=function(e){return 0===e.rank||1===e.rank?Object(u.a)(e,[1,1,1,e.size]):2===e.rank?Object(u.a)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?Object(u.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(h),g={x:m,scale:f,offset:d,mean:p,variance:v},b={varianceEpsilon:l},y=r.a.runKernel(a.kb,g,b);return Object(u.a)(y,h.shape)}})},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(660)},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(9),a=n(106);function i(e,t,n){var i=Object(r.c)(e,n);return Object(a.a)(e,t,i,n)}},function(e,t,n){"use strict";var r=n(457);t.a=r.a},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},function(e,t,n){"use strict";var r=n(304);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){var r=n(718),a=n(719),i=n(720),o=n(721),u=n(722),s=n(723),c=n(724);c.alea=r,c.xor128=a,c.xorwow=i,c.xorshift7=o,c.xor4096=u,c.tychei=s,e.exports=c},function(e,t,n){"use strict";var r=n(77),a=n(309);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"anchorRef",{enumerable:!0,get:function(){return v.anchorRef}}),Object.defineProperty(t,"bindTrigger",{enumerable:!0,get:function(){return v.bindTrigger}}),Object.defineProperty(t,"bindContextMenu",{enumerable:!0,get:function(){return v.bindContextMenu}}),Object.defineProperty(t,"bindToggle",{enumerable:!0,get:function(){return v.bindToggle}}),Object.defineProperty(t,"bindHover",{enumerable:!0,get:function(){return v.bindHover}}),Object.defineProperty(t,"bindFocus",{enumerable:!0,get:function(){return v.bindFocus}}),Object.defineProperty(t,"bindMenu",{enumerable:!0,get:function(){return v.bindMenu}}),Object.defineProperty(t,"bindPopover",{enumerable:!0,get:function(){return v.bindPopover}}),Object.defineProperty(t,"bindPopper",{enumerable:!0,get:function(){return v.bindPopper}}),t.default=void 0;var i=r(n(309)),o=r(n(73)),u=r(n(74)),s=r(n(417)),c=r(n(230)),l=r(n(485)),f=r(n(484)),d=r(n(308)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(1)),p=r(n(22)),v=n(736);function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var b=function(e){(0,c.default)(n,e);var t=g(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,s.default)(e),"state",v.initCoreState),(0,d.default)((0,s.default)(e),"_mounted",!0),(0,d.default)((0,s.default)(e),"_setStateIfMounted",(function(t){e._mounted&&e.setState(t)})),e}return(0,u.default)(n,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.popupId;if(!n.disableAutoFocus&&"object"===("undefined"===typeof document?"undefined":(0,i.default)(document))&&r&&(r!==e.popupId||this.state.anchorEl!==t.anchorEl)){var a=document.getElementById(r);a&&a.focus()}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.popupId,r=e.variant,a=e.parentPopupState,i=e.disableAutoFocus,o=t((0,v.createPopupState)({state:this.state,setState:this._setStateIfMounted,popupId:n,variant:r,parentPopupState:a,disableAutoFocus:i}));return null==o?null:o}}]),n}(h.Component);t.default=b,(0,d.default)(b,"propTypes",{children:p.default.func.isRequired,popupId:p.default.string,variant:p.default.oneOf(["popover","popper"]).isRequired,parentPopupState:p.default.object,disableAutoFocus:p.default.bool})},function(e,t,n){"use strict";var r=n(181);t.a=function(e){return(e=Object(r.b)(Math.abs(e)))?e[1]:NaN}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(299),a={};function i(){return Object(r.b)()?e:"undefined"!==typeof window?window:"undefined"!==typeof self?self:a}}).call(this,n(116))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(184),a=n(209);function i(e){return Object(r.a)("MuiInput",e)}var o=Object(a.a)("MuiInput",["root","formControl","focused","disabled","colorSecondary","underline","error","sizeSmall","multiline","fullWidth","input","inputSizeSmall","inputMultiline","inputTypeSearch"]);t.a=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(184),a=n(209);function i(e){return Object(r.a)("MuiInputBase",e)}var o=Object(a.a)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);t.a=o},function(e,t,n){"use strict";(function(e){var r=n(669),a=n(670),i=n(671);function o(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!s.TYPED_ARRAY_SUPPORT&&!(this instanceof s))return new s(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),a=(e=u(e,r)).write(t,n);a!==r&&(e=e.slice(0,a));return e}(e,t,n):function(e,t){if(s.isBuffer(t)){var n=0|h(t.length);return 0===(e=u(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?u(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=u(e,t<0?0:0|h(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(s.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,a){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"===typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,a);if("number"===typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,a){var i,o=1,u=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var l=-1;for(i=n;i<u;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===s)return l*o}else-1!==l&&(i-=i-l),l=-1}else for(n+s>u&&(n=u-s),i=n;i>=0;i--){for(var f=!0,d=0;d<s;d++)if(c(e,i+d)!==c(t,d)){f=!1;break}if(f)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var u=parseInt(t.substr(2*o,2),16);if(isNaN(u))return o;e[n+o]=u}return o}function x(e,t,n,r){return V(U(t,e.length-n),e,n,r)}function w(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return w(e,t,n,r)}function k(e,t,n,r){return V(W(t),e,n,r)}function j(e,t,n,r){return V(function(e,t){for(var n,r,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i,o,u,s,c=e[a],l=null,f=c>239?4:c>223?3:c>191?2:1;if(a+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(i=e[a+1]))&&(s=(31&c)<<6|63&i)>127&&(l=s);break;case 3:i=e[a+1],o=e[a+2],128===(192&i)&&128===(192&o)&&(s=(15&c)<<12|(63&i)<<6|63&o)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:i=e[a+1],o=e[a+2],u=e[a+3],128===(192&i)&&128===(192&o)&&128===(192&u)&&(s=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&u)>65535&&s<1114112&&(l=s)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),a+=f}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return c(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?u(e,t):void 0!==n?"string"===typeof r?u(e,t).fill(n,r):u(e,t).fill(n):u(e,t)}(null,e,t,n)},s.allocUnsafe=function(e){return f(null,e)},s.allocUnsafeSlow=function(e){return f(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):v.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,a){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),u=Math.min(i,o),c=this.slice(r,a),l=e.slice(t,n),f=0;f<u;++f)if(c[f]!==l[f]){i=c[f],o=l[f];break}return i<o?-1:o<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return O(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",i=t;i<n;++i)a+=L(e[i]);return a}function T(e,t,n){for(var r=e.slice(t,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function D(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,a,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-n,2);a<i;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function F(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-n,4);a<i;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function R(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,i){return i||R(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,i){return i||R(e,0,n,8),a.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var a=t-e;n=new s(a,void 0);for(var i=0;i<a;++i)n[i]=this[i+e]}return n},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},s.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=t,a=1,i=this[e+--r];r>0&&(a*=256);)i+=this[e+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),a.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),a.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),a.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),a.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);I(this,e,t,n,a-1,-a)}var i=0,o=1,u=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);I(this,e,t,n,a-1,-a)}var i=n-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,i=r-n;if(this===e&&n<t&&t<r)for(a=i-1;a>=0;--a)e[a+t]=this[a+n];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},s.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=s.isBuffer(e)?e:U(new s(e,r).toString()),u=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%u]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,a=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}}).call(this,n(116))},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractMatrix",(function(){return r.a})),n.d(t,"default",(function(){return r.b})),n.d(t,"Matrix",(function(){return r.b})),n.d(t,"MatrixColumnView",(function(){return l})),n.d(t,"MatrixColumnSelectionView",(function(){return f})),n.d(t,"MatrixFlipColumnView",(function(){return d})),n.d(t,"MatrixFlipRowView",(function(){return h})),n.d(t,"MatrixRowView",(function(){return p})),n.d(t,"MatrixRowSelectionView",(function(){return v})),n.d(t,"MatrixSelectionView",(function(){return m})),n.d(t,"MatrixSubView",(function(){return g})),n.d(t,"MatrixTransposeView",(function(){return b.a})),n.d(t,"wrap",(function(){return w})),n.d(t,"WrapperMatrix1D",(function(){return y})),n.d(t,"WrapperMatrix2D",(function(){return x.a})),n.d(t,"solve",(function(){return O.b})),n.d(t,"inverse",(function(){return O.a})),n.d(t,"determinant",(function(){return j})),n.d(t,"linearDependencies",(function(){return A})),n.d(t,"pseudoInverse",(function(){return C})),n.d(t,"covariance",(function(){return N})),n.d(t,"correlation",(function(){return T})),n.d(t,"SingularValueDecomposition",(function(){return _.a})),n.d(t,"SVD",(function(){return _.a})),n.d(t,"EigenvalueDecomposition",(function(){return I})),n.d(t,"EVD",(function(){return I})),n.d(t,"CholeskyDecomposition",(function(){return B})),n.d(t,"CHO",(function(){return B})),n.d(t,"LuDecomposition",(function(){return k.a})),n.d(t,"LU",(function(){return k.a})),n.d(t,"QrDecomposition",(function(){return L.a})),n.d(t,"QR",(function(){return L.a})),n.d(t,"Nipals",(function(){return U})),n.d(t,"NIPALS",(function(){return U}));var r=n(53),a=n(4),i=n(5),o=n(17),u=n(18),s=n(50),c=n(95),l=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r){var i;return Object(a.a)(this,n),Object(s.a)(e,r),(i=t.call(this,e,e.rows,1)).column=r,i}return Object(i.a)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.column,n),this}},{key:"get",value:function(e){return this.matrix.get(e,this.column)}}]),n}(c.a),f=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r){var i;return Object(a.a)(this,n),r=Object(s.b)(e,r),(i=t.call(this,e,e.rows,r.length)).columnIndices=r,i}return Object(i.a)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columnIndices[t])}}]),n}(c.a),d=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e,e.rows,e.columns)}return Object(i.a)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columns-t-1,n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columns-t-1)}}]),n}(c.a),h=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e,e.rows,e.columns)}return Object(i.a)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rows-e-1,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rows-e-1,t)}}]),n}(c.a),p=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r){var i;return Object(a.a)(this,n),Object(s.g)(e,r),(i=t.call(this,e,1,e.columns)).row=r,i}return Object(i.a)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.row,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.row,t)}}]),n}(c.a),v=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r){var i;return Object(a.a)(this,n),r=Object(s.h)(e,r),(i=t.call(this,e,r.length,e.columns)).rowIndices=r,i}return Object(i.a)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],t)}}]),n}(c.a),m=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,i){var o;Object(a.a)(this,n);var u=Object(s.d)(e,r,i);return(o=t.call(this,e,u.row.length,u.column.length)).rowIndices=u.row,o.columnIndices=u.column,o}return Object(i.a)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}]),n}(c.a),g=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,i,o,u){var c;return Object(a.a)(this,n),Object(s.f)(e,r,i,o,u),(c=t.call(this,e,i-r+1,u-o+1)).startRow=r,c.startColumn=o,c}return Object(i.a)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.startRow+e,this.startColumn+t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}]),n}(c.a),b=n(489),y=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,n);var o=i.rows,u=void 0===o?1:o;if(e.length%u!==0)throw new Error("the data length is not divisible by the number of rows");return(r=t.call(this)).rows=u,r.columns=e.length/u,r.data=e,r}return Object(i.a)(n,[{key:"set",value:function(e,t,n){var r=this._calculateIndex(e,t);return this.data[r]=n,this}},{key:"get",value:function(e,t){var n=this._calculateIndex(e,t);return this.data[n]}},{key:"_calculateIndex",value:function(e,t){return e*this.columns+t}}]),n}(r.a),x=n(87);function w(e,t){if(Array.isArray(e))return e[0]&&Array.isArray(e[0])?new x.a(e):new y(e,t);throw new Error("the argument is not an array")}var O=n(419),k=n(213);function j(e){var t,n,a,i,o,u;if((e=r.b.checkMatrix(e)).isSquare())return 0===e.columns?1:2===e.columns?(t=e.get(0,0),n=e.get(0,1),a=e.get(1,0),t*e.get(1,1)-n*a):3===e.columns?(i=new m(e,[1,2],[1,2]),o=new m(e,[1,2],[0,2]),u=new m(e,[1,2],[0,1]),t=e.get(0,0),n=e.get(0,1),a=e.get(0,2),t*j(i)-n*j(o)+a*j(u)):new k.a(e).determinant;throw Error("determinant can only be calculated for a square matrix")}var _=n(157);function S(e,t){for(var n=[],r=0;r<e;r++)r!==t&&n.push(r);return n}function E(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-9,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-9;if(e>a)return new Array(t.rows+1).fill(0);for(var i=t.addRow(n,[0]),o=0;o<i.rows;o++)Math.abs(i.get(o,0))<r&&i.set(o,0,0);return i.to1DArray()}function A(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.thresholdValue,a=void 0===n?1e-9:n,i=t.thresholdError,o=void 0===i?1e-9:i,u=(e=r.b.checkMatrix(e)).rows,s=new r.b(u,u),c=0;c<u;c++){var l=r.b.columnVector(e.getRow(c)),f=e.subMatrixRow(S(u,c)).transpose(),d=new _.a(f),h=d.solve(l),p=r.b.sub(l,f.mmul(h)).abs().max();s.setRow(c,E(p,h,c,a,o))}return s}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;if((e=r.b.checkMatrix(e)).isEmpty())return e.transpose();for(var n=new _.a(e,{autoTranspose:!0}),a=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal,u=0;u<o.length;u++)Math.abs(o[u])>t?o[u]=1/o[u]:o[u]=0;return i.mmul(r.b.diag(o).mmul(a.transpose()))}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new r.b(e);var a=!1;if("object"!==typeof t||r.b.isMatrix(t)||Array.isArray(t)?t=new r.b(t):(n=t,t=e,a=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var i=n,o=i.center,u=void 0===o||o;u&&(e=e.center("column"),a||(t=t.center("column")));for(var s=e.transpose().mmul(t),c=0;c<s.rows;c++)for(var l=0;l<s.columns;l++)s.set(c,l,s.get(c,l)*(1/(e.rows-1)));return s}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new r.b(e);var a=!1;if("object"!==typeof t||r.b.isMatrix(t)||Array.isArray(t)?t=new r.b(t):(n=t,t=e,a=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var i=n,o=i.center,u=void 0===o||o,s=i.scale,c=void 0===s||s;u&&(e.center("column"),a||t.center("column")),c&&(e.scale("column"),a||t.scale("column"));for(var l=e.standardDeviation("column",{unbiased:!0}),f=a?l:t.standardDeviation("column",{unbiased:!0}),d=e.transpose().mmul(t),h=0;h<d.rows;h++)for(var p=0;p<d.columns;p++)d.set(h,p,d.get(h,p)*(1/(l[h]*f[p]))*(1/(e.rows-1)));return d}var D=n(144),I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,e);var i=n.assumeSymmetric,o=void 0!==i&&i;if(!(t=x.a.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");var u,s,c=t.columns,l=new r.b(c,c),f=new Float64Array(c),d=new Float64Array(c),h=t;if(!!o||t.isSymmetric()){for(u=0;u<c;u++)for(s=0;s<c;s++)l.set(u,s,h.get(u,s));M(c,d,f,l),F(c,d,f,l)}else{var p=new r.b(c,c),v=new Float64Array(c);for(s=0;s<c;s++)for(u=0;u<c;u++)p.set(u,s,h.get(u,s));R(c,p,v,l),P(c,d,f,l,p)}this.n=c,this.e=d,this.d=f,this.V=l}return Object(i.a)(e,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var e,t,n=this.n,a=this.e,i=this.d,o=new r.b(n,n);for(e=0;e<n;e++){for(t=0;t<n;t++)o.set(e,t,0);o.set(e,e,i[e]),a[e]>0?o.set(e,e+1,a[e]):a[e]<0&&o.set(e,e-1,a[e])}return o}}]),e}();function M(e,t,n,r){var a,i,o,u,s,c,l,f;for(s=0;s<e;s++)n[s]=r.get(e-1,s);for(u=e-1;u>0;u--){for(f=0,o=0,c=0;c<u;c++)f+=Math.abs(n[c]);if(0===f)for(t[u]=n[u-1],s=0;s<u;s++)n[s]=r.get(u-1,s),r.set(u,s,0),r.set(s,u,0);else{for(c=0;c<u;c++)n[c]/=f,o+=n[c]*n[c];for(a=n[u-1],i=Math.sqrt(o),a>0&&(i=-i),t[u]=f*i,o-=a*i,n[u-1]=a-i,s=0;s<u;s++)t[s]=0;for(s=0;s<u;s++){for(a=n[s],r.set(s,u,a),i=t[s]+r.get(s,s)*a,c=s+1;c<=u-1;c++)i+=r.get(c,s)*n[c],t[c]+=r.get(c,s)*a;t[s]=i}for(a=0,s=0;s<u;s++)t[s]/=o,a+=t[s]*n[s];for(l=a/(o+o),s=0;s<u;s++)t[s]-=l*n[s];for(s=0;s<u;s++){for(a=n[s],i=t[s],c=s;c<=u-1;c++)r.set(c,s,r.get(c,s)-(a*t[c]+i*n[c]));n[s]=r.get(u-1,s),r.set(u,s,0)}}n[u]=o}for(u=0;u<e-1;u++){if(r.set(e-1,u,r.get(u,u)),r.set(u,u,1),0!==(o=n[u+1])){for(c=0;c<=u;c++)n[c]=r.get(c,u+1)/o;for(s=0;s<=u;s++){for(i=0,c=0;c<=u;c++)i+=r.get(c,u+1)*r.get(c,s);for(c=0;c<=u;c++)r.set(c,s,r.get(c,s)-i*n[c])}}for(c=0;c<=u;c++)r.set(c,u+1,0)}for(s=0;s<e;s++)n[s]=r.get(e-1,s),r.set(e-1,s,0);r.set(e-1,e-1,1),t[0]=0}function F(e,t,n,r){var a,i,o,u,s,c,l,f,d,h,p,v,m,g,b,y;for(o=1;o<e;o++)t[o-1]=t[o];t[e-1]=0;var x=0,w=0,O=Number.EPSILON;for(c=0;c<e;c++){for(w=Math.max(w,Math.abs(n[c])+Math.abs(t[c])),l=c;l<e&&!(Math.abs(t[l])<=O*w);)l++;if(l>c){0;do{for(1,a=n[c],f=(n[c+1]-a)/(2*t[c]),d=Object(D.a)(f,1),f<0&&(d=-d),n[c]=t[c]/(f+d),n[c+1]=t[c]*(f+d),h=n[c+1],i=a-n[c],o=c+2;o<e;o++)n[o]-=i;for(x+=i,f=n[l],v=p=1,m=p,g=t[c+1],b=0,y=0,o=l-1;o>=c;o--)for(m=v,v=p,y=b,a=p*t[o],i=p*f,d=Object(D.a)(f,t[o]),t[o+1]=b*d,b=t[o]/d,f=(p=f/d)*n[o]-b*a,n[o+1]=i+b*(p*a+b*n[o]),s=0;s<e;s++)i=r.get(s,o+1),r.set(s,o+1,b*r.get(s,o)+p*i),r.set(s,o,p*r.get(s,o)-b*i);f=-b*y*m*g*t[c]/h,t[c]=b*f,n[c]=p*f}while(Math.abs(t[c])>O*w)}n[c]=n[c]+x,t[c]=0}for(o=0;o<e-1;o++){for(s=o,f=n[o],u=o+1;u<e;u++)n[u]<f&&(s=u,f=n[u]);if(s!==o)for(n[s]=n[o],n[o]=f,u=0;u<e;u++)f=r.get(u,o),r.set(u,o,r.get(u,s)),r.set(u,s,f)}}function R(e,t,n,r){var a,i,o,u,s,c,l,f=e-1;for(c=1;c<=f-1;c++){for(l=0,u=c;u<=f;u++)l+=Math.abs(t.get(u,c-1));if(0!==l){for(o=0,u=f;u>=c;u--)n[u]=t.get(u,c-1)/l,o+=n[u]*n[u];for(i=Math.sqrt(o),n[c]>0&&(i=-i),o-=n[c]*i,n[c]=n[c]-i,s=c;s<e;s++){for(a=0,u=f;u>=c;u--)a+=n[u]*t.get(u,s);for(a/=o,u=c;u<=f;u++)t.set(u,s,t.get(u,s)-a*n[u])}for(u=0;u<=f;u++){for(a=0,s=f;s>=c;s--)a+=n[s]*t.get(u,s);for(a/=o,s=c;s<=f;s++)t.set(u,s,t.get(u,s)-a*n[s])}n[c]=l*n[c],t.set(c,c-1,l*i)}}for(u=0;u<e;u++)for(s=0;s<e;s++)r.set(u,s,u===s?1:0);for(c=f-1;c>=1;c--)if(0!==t.get(c,c-1)){for(u=c+1;u<=f;u++)n[u]=t.get(u,c-1);for(s=c;s<=f;s++){for(i=0,u=c;u<=f;u++)i+=n[u]*r.get(u,s);for(i=i/n[c]/t.get(c,c-1),u=c;u<=f;u++)r.set(u,s,r.get(u,s)+i*n[u])}}}function P(e,t,n,r,a){var i,o,u,s,c,l,f,d,h,p,v,m,g,b,y,x=e-1,w=e-1,O=Number.EPSILON,k=0,j=0,_=0,S=0,E=0,A=0,C=0,N=0;for(i=0;i<e;i++)for((i<0||i>w)&&(n[i]=a.get(i,i),t[i]=0),o=Math.max(i-1,0);o<e;o++)j+=Math.abs(a.get(i,o));for(;x>=0;){for(s=x;s>0&&(0===(A=Math.abs(a.get(s-1,s-1))+Math.abs(a.get(s,s)))&&(A=j),!(Math.abs(a.get(s,s-1))<O*A));)s--;if(s===x)a.set(x,x,a.get(x,x)+k),n[x]=a.get(x,x),t[x]=0,x--,N=0;else if(s===x-1){if(f=a.get(x,x-1)*a.get(x-1,x),S=(_=(a.get(x-1,x-1)-a.get(x,x))/2)*_+f,C=Math.sqrt(Math.abs(S)),a.set(x,x,a.get(x,x)+k),a.set(x-1,x-1,a.get(x-1,x-1)+k),d=a.get(x,x),S>=0){for(C=_>=0?_+C:_-C,n[x-1]=d+C,n[x]=n[x-1],0!==C&&(n[x]=d-f/C),t[x-1]=0,t[x]=0,_=(d=a.get(x,x-1))/(A=Math.abs(d)+Math.abs(C)),S=C/A,_/=E=Math.sqrt(_*_+S*S),S/=E,o=x-1;o<e;o++)C=a.get(x-1,o),a.set(x-1,o,S*C+_*a.get(x,o)),a.set(x,o,S*a.get(x,o)-_*C);for(i=0;i<=x;i++)C=a.get(i,x-1),a.set(i,x-1,S*C+_*a.get(i,x)),a.set(i,x,S*a.get(i,x)-_*C);for(i=0;i<=w;i++)C=r.get(i,x-1),r.set(i,x-1,S*C+_*r.get(i,x)),r.set(i,x,S*r.get(i,x)-_*C)}else n[x-1]=d+_,n[x]=d+_,t[x-1]=C,t[x]=-C;x-=2,N=0}else{if(d=a.get(x,x),h=0,f=0,s<x&&(h=a.get(x-1,x-1),f=a.get(x,x-1)*a.get(x-1,x)),10===N){for(k+=d,i=0;i<=x;i++)a.set(i,i,a.get(i,i)-d);d=h=.75*(A=Math.abs(a.get(x,x-1))+Math.abs(a.get(x-1,x-2))),f=-.4375*A*A}if(30===N&&(A=(A=(h-d)/2)*A+f)>0){for(A=Math.sqrt(A),h<d&&(A=-A),A=d-f/((h-d)/2+A),i=0;i<=x;i++)a.set(i,i,a.get(i,i)-A);k+=A,d=h=f=.964}for(N+=1,c=x-2;c>=s&&(_=((E=d-(C=a.get(c,c)))*(A=h-C)-f)/a.get(c+1,c)+a.get(c,c+1),S=a.get(c+1,c+1)-C-E-A,E=a.get(c+2,c+1),_/=A=Math.abs(_)+Math.abs(S)+Math.abs(E),S/=A,E/=A,c!==s)&&!(Math.abs(a.get(c,c-1))*(Math.abs(S)+Math.abs(E))<O*(Math.abs(_)*(Math.abs(a.get(c-1,c-1))+Math.abs(C)+Math.abs(a.get(c+1,c+1)))));)c--;for(i=c+2;i<=x;i++)a.set(i,i-2,0),i>c+2&&a.set(i,i-3,0);for(u=c;u<=x-1&&(b=u!==x-1,u!==c&&(_=a.get(u,u-1),S=a.get(u+1,u-1),E=b?a.get(u+2,u-1):0,0!==(d=Math.abs(_)+Math.abs(S)+Math.abs(E))&&(_/=d,S/=d,E/=d)),0!==d);u++)if(A=Math.sqrt(_*_+S*S+E*E),_<0&&(A=-A),0!==A){for(u!==c?a.set(u,u-1,-A*d):s!==c&&a.set(u,u-1,-a.get(u,u-1)),d=(_+=A)/A,h=S/A,C=E/A,S/=_,E/=_,o=u;o<e;o++)_=a.get(u,o)+S*a.get(u+1,o),b&&(_+=E*a.get(u+2,o),a.set(u+2,o,a.get(u+2,o)-_*C)),a.set(u,o,a.get(u,o)-_*d),a.set(u+1,o,a.get(u+1,o)-_*h);for(i=0;i<=Math.min(x,u+3);i++)_=d*a.get(i,u)+h*a.get(i,u+1),b&&(_+=C*a.get(i,u+2),a.set(i,u+2,a.get(i,u+2)-_*E)),a.set(i,u,a.get(i,u)-_),a.set(i,u+1,a.get(i,u+1)-_*S);for(i=0;i<=w;i++)_=d*r.get(i,u)+h*r.get(i,u+1),b&&(_+=C*r.get(i,u+2),r.set(i,u+2,r.get(i,u+2)-_*E)),r.set(i,u,r.get(i,u)-_),r.set(i,u+1,r.get(i,u+1)-_*S)}}}if(0!==j){for(x=e-1;x>=0;x--)if(_=n[x],0===(S=t[x]))for(s=x,a.set(x,x,1),i=x-1;i>=0;i--){for(f=a.get(i,i)-_,E=0,o=s;o<=x;o++)E+=a.get(i,o)*a.get(o,x);if(t[i]<0)C=f,A=E;else if(s=i,0===t[i]?a.set(i,x,0!==f?-E/f:-E/(O*j)):(d=a.get(i,i+1),h=a.get(i+1,i),l=(d*A-C*E)/(S=(n[i]-_)*(n[i]-_)+t[i]*t[i]),a.set(i,x,l),a.set(i+1,x,Math.abs(d)>Math.abs(C)?(-E-f*l)/d:(-A-h*l)/C)),O*(l=Math.abs(a.get(i,x)))*l>1)for(o=i;o<=x;o++)a.set(o,x,a.get(o,x)/l)}else if(S<0)for(s=x-1,Math.abs(a.get(x,x-1))>Math.abs(a.get(x-1,x))?(a.set(x-1,x-1,S/a.get(x,x-1)),a.set(x-1,x,-(a.get(x,x)-_)/a.get(x,x-1))):(y=z(0,-a.get(x-1,x),a.get(x-1,x-1)-_,S),a.set(x-1,x-1,y[0]),a.set(x-1,x,y[1])),a.set(x,x-1,0),a.set(x,x,1),i=x-2;i>=0;i--){for(p=0,v=0,o=s;o<=x;o++)p+=a.get(i,o)*a.get(o,x-1),v+=a.get(i,o)*a.get(o,x);if(f=a.get(i,i)-_,t[i]<0)C=f,E=p,A=v;else if(s=i,0===t[i]?(y=z(-p,-v,f,S),a.set(i,x-1,y[0]),a.set(i,x,y[1])):(d=a.get(i,i+1),h=a.get(i+1,i),m=(n[i]-_)*(n[i]-_)+t[i]*t[i]-S*S,g=2*(n[i]-_)*S,0===m&&0===g&&(m=O*j*(Math.abs(f)+Math.abs(S)+Math.abs(d)+Math.abs(h)+Math.abs(C))),y=z(d*E-C*p+S*v,d*A-C*v-S*p,m,g),a.set(i,x-1,y[0]),a.set(i,x,y[1]),Math.abs(d)>Math.abs(C)+Math.abs(S)?(a.set(i+1,x-1,(-p-f*a.get(i,x-1)+S*a.get(i,x))/d),a.set(i+1,x,(-v-f*a.get(i,x)-S*a.get(i,x-1))/d)):(y=z(-E-h*a.get(i,x-1),-A-h*a.get(i,x),C,S),a.set(i+1,x-1,y[0]),a.set(i+1,x,y[1]))),O*(l=Math.max(Math.abs(a.get(i,x-1)),Math.abs(a.get(i,x))))*l>1)for(o=i;o<=x;o++)a.set(o,x-1,a.get(o,x-1)/l),a.set(o,x,a.get(o,x)/l)}for(i=0;i<e;i++)if(i<0||i>w)for(o=i;o<e;o++)r.set(i,o,a.get(i,o));for(o=e-1;o>=0;o--)for(i=0;i<=w;i++){for(C=0,u=0;u<=Math.min(o,w);u++)C+=r.get(i,u)*a.get(u,o);r.set(i,o,C)}}}function z(e,t,n,r){var a,i;return Math.abs(n)>Math.abs(r)?[(e+(a=r/n)*t)/(i=n+a*r),(t-a*e)/i]:[((a=n/r)*e+t)/(i=r+a*n),(a*t-e)/i]}var B=function(){function e(t){if(Object(a.a)(this,e),!(t=x.a.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");var n,i,o,u=t,s=u.rows,c=new r.b(s,s),l=!0;for(i=0;i<s;i++){var f=0;for(o=0;o<i;o++){var d=0;for(n=0;n<o;n++)d+=c.get(o,n)*c.get(i,n);d=(u.get(i,o)-d)/c.get(o,o),c.set(i,o,d),f+=d*d}for(l&=(f=u.get(i,i)-f)>0,c.set(i,i,Math.sqrt(Math.max(f,0))),o=i+1;o<s;o++)c.set(i,o,0)}this.L=c,this.positiveDefinite=Boolean(l)}return Object(i.a)(e,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(e){e=x.a.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");var r,a,i,o=e.columns,u=e.clone();for(i=0;i<n;i++)for(a=0;a<o;a++){for(r=0;r<i;r++)u.set(i,a,u.get(i,a)-u.get(r,a)*t.get(i,r));u.set(i,a,u.get(i,a)/t.get(i,i))}for(i=n-1;i>=0;i--)for(a=0;a<o;a++){for(r=i+1;r<n;r++)u.set(i,a,u.get(i,a)-u.get(r,a)*t.get(r,i));u.set(i,a,u.get(i,a)/t.get(i,i))}return u}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),e}(),L=n(286),U=Object(i.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,e),t=x.a.checkMatrix(t);var i,o=n.Y,u=n.scaleScores,s=void 0!==u&&u,c=n.maxIterations,l=void 0===c?1e3:c,f=n.terminationCriteria,d=void 0===f?1e-10:f;if(o){if((o=Array.isArray(o)&&"number"===typeof o[0]?r.b.columnVector(o):x.a.checkMatrix(o)).rows!==t.rows)throw new Error("Y should have the same number of rows as X");i=o.getColumnVector(0)}else i=t.getColumnVector(0);for(var h,p,v,m,g=1,b=0;b<l&&g>d;b++)v=(v=t.transpose().mmul(i).div(i.transpose().mmul(i).get(0,0))).div(v.norm()),h=t.mmul(v).div(v.transpose().mmul(v).get(0,0)),b>0&&(g=h.clone().sub(m).pow(2).sum()),m=h.clone(),o?(p=(p=o.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0))).div(p.norm()),i=o.mmul(p).div(p.transpose().mmul(p).get(0,0))):i=h;if(o){var y=t.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0));y=y.div(y.norm());var w=t.clone().sub(h.clone().mmul(y.transpose())),O=i.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0)),k=o.clone().sub(h.clone().mulS(O.get(0,0)).mmul(p.transpose()));this.t=h,this.p=y.transpose(),this.w=v.transpose(),this.q=p,this.u=i,this.s=h.transpose().mmul(h),this.xResidual=w,this.yResidual=k,this.betas=O}else this.w=v.transpose(),this.s=h.transpose().mmul(h).sqrt(),this.t=s?h.clone().div(this.s.get(0,0)):h,this.xResidual=t.sub(h.mmul(v.transpose()))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.a)(e,"x","mean"),u={x:o},s={axis:t,keepDims:n};return r.a.runKernel(a.Qb,u,s)}})},function(e,t,n){"use strict";var r=n(918);t.a=r.a},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return L})),n.d(t,"f",(function(){return B})),n.d(t,"g",(function(){return z})),n.d(t,"h",(function(){return S}));var r=n(16),a=n(19),i=n(7),o=n.n(i),u=n(3),s=n(928),c=n(468),l=n(132),f=/^(data:|([A-Za-z]+:)?\/\/)/,d=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,h=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,p="file://";function v(e,t){return m.apply(this,arguments)}function m(){return(m=Object(a.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,a=r.href,e.abrupt("return",r.localFile?this.file(a):this.http(a,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function g(e,t){return b.apply(this,arguments)}function b(){return(b=Object(a.a)(o.a.mark((function e(t,n){var r,a,i,s,c,l,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.l)({},this.options,n),r=this.fileAccess,a={href:null},l=d.test(t.replace(h,"")),null!=t&&"string"===typeof t&&l||Object(u.k)("Sanitize failure, invalid URI: "+Object(u.W)(t)),v=f.test(t),(c=n.baseURL)&&!v&&(t.startsWith("/")||c.endsWith("/")||(t="/"+t),t=c+t),s=(i=t.startsWith(p))||"file"===n.mode||"http"!==n.mode&&!v&&r,i?t=t.slice(p.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),s=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(a,"localFile",{value:!!s}),a.href=t,n.target&&(a.target=n.target+""),n.rel&&(a.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(a.crossOrigin=n.crossOrigin+""),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function y(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:x}function x(){return w.apply(this,arguments)}function w(){return(w=Object(a.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(u.k)("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return e?function(){var t=Object(a.a)(o.a.mark((function t(n,r){var a,i,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(u.l)({},this.options.http,r),i=r&&r.response,t.next=4,e(n,a);case 4:return s=t.sent,t.abrupt("return",s.ok?Object(u.A)(s[i])?s[i]():s.text():Object(u.k)(s.status+""+s.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():k}function k(){return j.apply(this,arguments)}function j(){return(j=Object(a.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(u.k)("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(e){return!Number.isNaN(+e)&&!(e instanceof Date)},S={boolean:u.X,integer:u.Z,number:u.Z,date:u.Y,string:u.bb,unknown:u.u},E=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return _(e)&&Number.isInteger(+e)},_,function(e){return!Number.isNaN(Date.parse(e))}],A=["boolean","integer","number","date"];function C(e,t){if(!e||!e.length)return"unknown";for(var n,r,a,i=e.length,o=E.length,u=E.map((function(e,t){return t+1})),s=0,c=0;s<i;++s)for(r=t?e[s][t]:e[s],n=0;n<o;++n)if(u[n]&&(null!=(a=r)&&a===a)&&!E[n](r)&&(u[n]=0,++c===E.length))return"string";return A[u.reduce((function(e,t){return 0===e?t:e}),0)-1]}function N(e,t){return t.reduce((function(t,n){return t[n]=C(e,n),t}),{})}function T(e){var t=function(t,n){var r={delimiter:e};return D(t,n?Object(u.l)(n,r):r)};return t.responseType="text",t}function D(e,t){return t.header&&(e=t.header.map(u.W).join(t.delimiter)+"\n"+e),Object(s.a)(t.delimiter).parse(e+"")}function I(t,n){var a,i=n&&n.property?Object(u.q)(n.property):u.u;return!Object(u.D)(t)||(a=t,"function"===typeof e&&Object(u.A)(e.isBuffer)&&e.isBuffer(a))?i(JSON.parse(t)):function(e,t){!Object(u.x)(e)&&Object(u.B)(e)&&(e=Object(r.a)(e));return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(i(t),n)}D.responseType="text",I.responseType="json";var M={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function F(e,t){var n,r,a,i;return e=I(e,t),t&&t.feature?(n=c.a,a=t.feature):t&&t.mesh?(n=c.b,a=t.mesh,i=M[t.filter]):Object(u.k)("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[a])?n(e,r,i):Object(u.k)("Invalid TopoJSON object: "+a))&&r.features||[r]}F.responseType="json";var R={dsv:D,csv:T(","),tsv:T("\t"),json:I,topojson:F};function P(e,t){return arguments.length>1?(R[e]=t,this):Object(u.s)(R,e)?R[e]:null}function z(e){var t=P(e);return t&&t.responseType||"text"}function B(e,t,n,r){var a=P((t=t||{}).type||"json");return a||Object(u.k)("Unknown data format type: "+t.type),e=a(e,t),t.parse&&function(e,t,n,r){if(!e.length)return;var a=Object(l.e)();n=n||a.timeParse,r=r||a.utcParse;var i,o,u,s,c,f,d=e.columns||Object.keys(e[0]);"auto"===t&&(t=N(e,d));var h=(d=Object.keys(t)).map((function(e){var a,i,o=t[e];if(o&&(o.startsWith("date:")||o.startsWith("utc:")))return("'"===(i=(a=o.split(/:(.+)?/,2))[1])[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),("utc"===a[0]?r:n)(i);if(!S[o])throw Error("Illegal format pattern: "+e+":"+o);return S[o]}));for(u=0,c=e.length,f=d.length;u<c;++u)for(i=e[u],s=0;s<f;++s)i[o=d[s]]=h[s](i[o])}(e,t.parse,n,r),Object(u.s)(e,"columns")&&delete e.columns,e}var L=function(e,t){return function(n){return{options:n||{},sanitize:g,load:v,fileAccess:!!t,file:y(t),http:O(e)}}}("undefined"!==typeof fetch&&fetch,null)}).call(this,n(175).Buffer)},function(e,t,n){"use strict";function r(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}n.d(t,"b",(function(){return r})),t.a=function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(289),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=Object(i.a)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===a[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=d(e,t,n[a])+";";else for(var i in n){var o=n[i];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=i+"{"+t[o]+"}":c(o)&&(r+=l(i)+":"+f(i,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=d(e,t,o);switch(i){case"animation":case"animationName":r+=l(i)+":"+u+";";break;default:r+=i+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(i)+":"+f(i,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=h,i=n(e);return h=a,d(e,t,i)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var h,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,i="";h=void 0;var o=e[0];null==o||void 0===o.raw?(a=!1,i+=d(n,t,o)):i+=o[0];for(var u=1;u<e.length;u++)i+=d(n,t,e[u]),a&&(i+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(i));)c+="-"+s[1];return{name:r(i)+c,styles:i,next:h}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(34),a=n(164);var i=n(374);function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(i.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(a.a)(o,e)},o(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(572),a={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function i(e,t){return a[t]||"".concat(r.a.generate(e),"-").concat(t)}},function(e,t,n){var r=n(418);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(284),a=n(150),i={prepend:!1};t.subSurface=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.getDrawArea(e),u=r.css({"& canvas":{display:"block"},marginTop:".5rem",marginBottom:".5rem"}),s=r.css({backgroundColor:"white",display:"inline-block",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",padding:"0 10px 0 10px",marginBottom:"20px",fontWeight:"600",textAlign:"left"}),c=Object.assign({},i,n),l=o.querySelector("div[data-name=".concat(t,"]"));if(!l){if((l=document.createElement("div")).setAttribute("class","".concat(u)),l.dataset.name=t,c.title){var f=document.createElement("div");f.setAttribute("class","subsurface-title ".concat(s)),f.innerText=c.title,l.appendChild(f)}c.prepend?o.insertBefore(l,o.firstChild):o.appendChild(l)}return l},t.getDefaultWidth=function(e){for(var t=0,n=e;n&&0===n.clientWidth;)n=n.parentElement,t=50;return n.clientWidth-t},t.getDefaultHeight=function(e){return 0===e.clientHeight?200:e.clientHeight}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(1),a=(n(294),n(99)),i=(n(288),n(290),n(264),n(152)),o=n(182),u=n(377),s=Object(a.f)((function(e,t){var n=e.styles,s=Object(o.a)([n],void 0,Object(r.useContext)(a.c)),c=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){var e=t.key+"-global",n=new u.a({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,a=document.querySelector('style[data-emotion="'+e+" "+s.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==a&&(r=!0,a.setAttribute("data-emotion",e),n.hydrate([a])),c.current=[n,r],function(){n.flush()}}),[t]),Object(r.useLayoutEffect)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==s.next&&Object(i.b)(t,s.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",s,n,!1)}}),[t,s.name]),null}));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(o.a)(t)}var l=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},function(e,t,n){"use strict";var r,a,i,o,u;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(a||(a={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(u||(u={}));var s={float32:o,int32:a,bool:i,complex64:u};function c(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return s[e][t]}function l(e){return c(e,"int32")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),a=n(10);function i(e,t,n){var i={shape:e,value:t,dtype:n};return r.a.runKernel(a.fb,{},i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(42),c=n(35),l=n(13);var f=Object(l.b)({maximum_:function(e,t){var n=Object(u.a)(e,"a","maximum"),l=Object(u.a)(t,"b","maximum"),f=Object(o.makeTypesMatch)(n,l),d=Object(r.a)(f,2);n=d[0],l=d[1],"bool"===n.dtype&&(n=Object(c.a)(n,"int32"),l=Object(c.a)(l,"int32")),Object(s.assertAndGetBroadcastShape)(n.shape,l.shape);var h={a:n,b:l};return a.a.runKernel(i.Pb,h)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({batchToSpaceND_:function(e,t,n){var u=Object(i.a)(e,"x","batchToSpaceND"),s=t.reduce((function(e,t){return e*t}));o.b(u.rank>=1+t.length,(function(){return"input rank is ".concat(u.rank," but should be > than blockShape.length ").concat(t.length)})),o.b(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),o.b(u.shape[0]%s===0,(function(){return"input tensor batch is ".concat(u.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(s)}));var c={x:u},l={blockShape:t,crops:n};return r.a.runKernel(a.t,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(56),s=n(13),c=n(21);var l=Object(s.b)({depthwiseConv2d_:function(e,t,n,s){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],d=arguments.length>6?arguments[6]:void 0,h=Object(i.a)(e,"x","depthwiseConv2d","float32"),p=Object(i.a)(t,"filter","depthwiseConv2d","float32"),v=h,m=!1;3===h.rank&&(m=!0,v=Object(c.a)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),o.b(4===v.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(v.rank,".")})),o.b(4===p.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(p.rank,".")})),o.b(v.shape[3]===p.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(v.shape[3],") must match the inChannels dimension in ")+"filter ".concat(p.shape[2],".")})),u.a("depthwiseConv2d",s,d);var g={x:v,filter:p},b={strides:n,pad:s,dataFormat:l,dilations:f,dimRoundingMode:d},y=r.a.runKernel(a.P,g,b);return m?Object(c.a)(y,[y.shape[1],y.shape[2],y.shape[3]]):y}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(42),c=n(13);var l=Object(c.b)({equal_:function(e,t){var n=Object(u.a)(e,"a","equal","string_or_numeric"),c=Object(u.a)(t,"b","equal","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.Z,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=Object(i.a)(e,"x","gather"),s=Object(i.a)(t,"indices","gather","int32"),c={x:u,indices:s},l={axis:n,batchDims:o};return r.a.runKernel(a.ob,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({logicalNot_:function(e){var t={x:Object(i.a)(e,"x","logicalNot","bool")};return r.a.runKernel(a.Hb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({spaceToBatchND_:function(e,t,n){var u=Object(i.a)(e,"x","spaceToBatchND");o.b(u.rank>=1+t.length,(function(){return"input rank ".concat(u.rank," should be > than [blockShape] ").concat(t.length)})),o.b(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),o.b(u.shape.reduce((function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(u.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var s={x:u},c={blockShape:t,paddings:n};return r.a.runKernel(a.Jc,s,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(9),a=n(23),i=n(13),o=n(21);var u=Object(i.b)({squeeze_:function(e,t){var n=Object(r.a)(e,"x","squeeze");return Object(o.a)(n,Object(a.Q)(n.shape,t).newShape)}})},function(e,t,n){"use strict";var r=n(922);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(296);function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(370),a=n(67);function i(e,t){if(t&&("object"===Object(r.a)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(a.a)(e)}},function(e,t,n){"use strict";var r=n(628),a=Object(r.a)();t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(10),i=n(9),o=n(136),u=n(13),s=n(21);var c=Object(u.b)({broadcastTo_:function(e,t){var n=Object(i.a)(e,"broadcastTo","x"),u=n.shape;if(t.some((function(e){return!(e>0)||e%1!==0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var c=n.shape.slice();c.length<t.length;)c.unshift(1);n=Object(s.a)(n,c)}for(var l=n.shape,f=Array.from(t),d=t.length-1;d>=0;d--)if(l[d]===t[d])f[d]=1;else if(1!==n.shape[d])throw new Error("broadcastTo(): [".concat(u,"] cannot be broadcast to [").concat(t,"]."));var h=f.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));if(0===h.length)return Object(o.a)(n);var p={x:n},v={reps:f};return r.a.runKernel(a.cd,p,v)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s}));var r=n(4),a=n(5),i=n(169),o=(n(266),function(){function e(t,n,a,o,u){Object(r.a)(this,e),this.mean=t,this.stdDev=n,this.dtype=a,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var s=u||Math.random();this.random=i.alea(s.toString())}return Object(a.a)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,i=void 0,o=void 0;do{o=(a=2*this.random()-1)*a+(i=2*this.random()-1)*i}while(o>=1||0===o);var u=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*a*u,n=this.mean+this.stdDev*i*u,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}()),u=function(){function e(t,n,a,u){Object(r.a)(this,e),this.alpha=t,this.beta=1/n,this.dtype=a;var s=u||Math.random();this.randu=i.alea(s.toString()),this.randn=new o(0,1,a,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return Object(a.a)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,a,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-i+Math.log(i)),(a=this.randu())<t||Math.log(a)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),s=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0;if(Object(r.a)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=a-n,this.dtype=o,null==u&&(u=Math.random()),"number"===typeof u&&(u=u.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(a," <= 1 and dtype is not float"));this.random=i.alea(u)}return Object(a.a)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),a=n(10);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var o={start:e,stop:t,step:n,dtype:i};return r.a.runKernel(a.kc,{},o)}},function(e,t,n){"use strict";var r=n(72),a=n(62),i=Object(r.a)((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*a.c)/a.a}),(function(e){return e.getDate()-1}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(72),a=n(62),i=Object(r.a)((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/a.a}),(function(e){return e.getUTCDate()-1}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(72),a=Object(r.a)((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));a.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Object(r.a)((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null},t.a=a;a.range},function(e,t,n){"use strict";var r=n(72),a=Object(r.a)((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));a.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Object(r.a)((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null},t.a=a;a.range},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(184);function a(e,t){var n={};return t.forEach((function(t){n[t]=Object(r.a)(e,t)})),n}},,function(e,t,n){var r=n(281),a=n(739),i=n(740),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},function(e,t,n){var r=n(765),a=n(768);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),a=n(5),i=n(53),o=n(87),u=function(){function e(t){Object(r.a)(this,e);var n,a,i,u,s,c,l,f,d,h=(t=o.a.checkMatrix(t)).clone(),p=h.rows,v=h.columns,m=new Float64Array(p),g=1;for(n=0;n<p;n++)m[n]=n;for(f=new Float64Array(p),a=0;a<v;a++){for(n=0;n<p;n++)f[n]=h.get(n,a);for(n=0;n<p;n++){for(d=Math.min(n,a),s=0,i=0;i<d;i++)s+=h.get(n,i)*f[i];f[n]-=s,h.set(n,a,f[n])}for(u=a,n=a+1;n<p;n++)Math.abs(f[n])>Math.abs(f[u])&&(u=n);if(u!==a){for(i=0;i<v;i++)c=h.get(u,i),h.set(u,i,h.get(a,i)),h.set(a,i,c);l=m[u],m[u]=m[a],m[a]=l,g=-g}if(a<p&&0!==h.get(a,a))for(n=a+1;n<p;n++)h.set(n,a,h.get(n,a)/h.get(a,a))}this.LU=h,this.pivotVector=m,this.pivotSign=g}return Object(a.a)(e,[{key:"isSingular",value:function(){for(var e=this.LU,t=e.columns,n=0;n<t;n++)if(0===e.get(n,n))return!0;return!1}},{key:"solve",value:function(e){e=i.b.checkMatrix(e);var t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n,r,a,o=e.columns,u=e.subMatrixRow(this.pivotVector,0,o-1),s=t.columns;for(a=0;a<s;a++)for(n=a+1;n<s;n++)for(r=0;r<o;r++)u.set(n,r,u.get(n,r)-u.get(a,r)*t.get(n,a));for(a=s-1;a>=0;a--){for(r=0;r<o;r++)u.set(a,r,u.get(a,r)/t.get(a,a));for(n=0;n<a;n++)for(r=0;r<o;r++)u.set(n,r,u.get(n,r)-u.get(a,r)*t.get(n,a))}return u}},{key:"determinant",get:function(){var e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");for(var t=this.pivotSign,n=e.columns,r=0;r<n;r++)t*=e.get(r,r);return t}},{key:"lowerTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new i.b(t,n),a=0;a<t;a++)for(var o=0;o<n;o++)a>o?r.set(a,o,e.get(a,o)):a===o?r.set(a,o,1):r.set(a,o,0);return r}},{key:"upperTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new i.b(t,n),a=0;a<t;a++)for(var o=0;o<n;o++)a<=o?r.set(a,o,e.get(a,o)):r.set(a,o,0);return r}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r={};function a(e){return r[e]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.a)(e,"x","min"),u={x:o},s={axis:t,keepDims:n};return r.a.runKernel(a.Rb,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var u=Object(i.a)(e,"indices","oneHot","int32"),s={indices:u},c={depth:t,onValue:n,offValue:o};return r.a.runKernel(a.cc,s,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({real_:function(e){var t={input:Object(i.a)(e,"input","real")};return r.a.runKernel(a.lc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(23),o=n(13);var u=Object(o.b)({ifft_:function(e){Object(i.b)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.a.runKernel(a.rb,t)}})},function(e,t,n){"use strict";var r=n(930),a=n(454),i=Object(r.a)();t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return Object(a.a)(e)}},function(e,t,n){"use strict";(function(e,r){var a;function i(){if(null==a){var t;if("undefined"!==typeof window)t=window;else if("undefined"!==typeof e)t=e;else if("undefined"!==typeof r)t=r;else{if("undefined"===typeof self)throw new Error("Could not find a global object");t=self}a=t}return a}function o(e,t){var n=function(){var e=i();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))}).call(this,n(116),n(232))},function(e,t,n){"use strict";var r=n(919);t.a=r.a},function(e,t,n){"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function i(e){return e.startAdornment}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";(function(e){var r=n(86),a=n(601),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=o&&o.exports===i?r.a.Buffer:void 0,s=(u?u.isBuffer:void 0)||a.a;t.a=s}).call(this,n(283)(e))},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,a=t.cmp&&(n=t.cmp,function(e){return function(t,r){var a={key:t,value:e[t]},i={key:r,value:e[r]};return n(a,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,o;if(Array.isArray(t)){for(o="[",n=0;n<t.length;n++)n&&(o+=","),o+=e(t[n])||"null";return o+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=i.push(t)-1,s=Object.keys(t).sort(a&&a(t));for(o="",n=0;n<s.length;n++){var c=s[n],l=e(t[c]);l&&(o&&(o+=","),o+=JSON.stringify(c)+":"+l)}return i.splice(u,1),"{"+o+"}"}}(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));n(97);function r(e,t){return void 0===t&&(t=0),"string"!==typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function a(e,t){var n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);var a=Math.max(t-60,0);a<5&&(a=0);var i=Math.min(a+140,r);return i>r-5&&(i=r),i===r&&(a=Math.max(i-140,0)),n=n.slice(a,i),a>0&&(n="'{snip} "+n),i<r&&(n+=" {snip}"),n}},function(e,t,n){"use strict";var r=n(72),a=n(62),i=Object(r.a)((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*a.e)}),(function(e,t){return(t-e)/a.e}),(function(e){return e.getUTCSeconds()}));t.a=i;i.range},,,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var n,u,s=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))a.call(n,l)&&(s[l]=n[l]);if(r){u=r(n);for(var f=0;f<u.length;f++)i.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},function(e,t,n){var r=n(683);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(e,t){for(var n=0,r=0;r<e.length;r++)n+=(e[r]-t[r])*(e[r]-t[r]);return n}function a(e,t){return Math.sqrt(r(e,t))}n.r(t),n.d(t,"squaredEuclidean",(function(){return r})),n.d(t,"euclidean",(function(){return a}))},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=u(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(319).MAX_SAFE_COMPONENT_LENGTH,a=n(320),i=(t=e.exports={}).re=[],o=t.src=[],u=t.t={},s=0,c=function(e,t,n){var r=s++;a(r,t),u[e]=r,o[r]=t,i[r]=new RegExp(t,n?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION","(".concat(o[u.NUMERICIDENTIFIER],")\\.")+"(".concat(o[u.NUMERICIDENTIFIER],")\\.")+"(".concat(o[u.NUMERICIDENTIFIER],")")),c("MAINVERSIONLOOSE","(".concat(o[u.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(o[u.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(o[u.NUMERICIDENTIFIERLOOSE],")")),c("PRERELEASEIDENTIFIER","(?:".concat(o[u.NUMERICIDENTIFIER],"|").concat(o[u.NONNUMERICIDENTIFIER],")")),c("PRERELEASEIDENTIFIERLOOSE","(?:".concat(o[u.NUMERICIDENTIFIERLOOSE],"|").concat(o[u.NONNUMERICIDENTIFIER],")")),c("PRERELEASE","(?:-(".concat(o[u.PRERELEASEIDENTIFIER],"(?:\\.").concat(o[u.PRERELEASEIDENTIFIER],")*))")),c("PRERELEASELOOSE","(?:-?(".concat(o[u.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(o[u.PRERELEASEIDENTIFIERLOOSE],")*))")),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD","(?:\\+(".concat(o[u.BUILDIDENTIFIER],"(?:\\.").concat(o[u.BUILDIDENTIFIER],")*))")),c("FULLPLAIN","v?".concat(o[u.MAINVERSION]).concat(o[u.PRERELEASE],"?").concat(o[u.BUILD],"?")),c("FULL","^".concat(o[u.FULLPLAIN],"$")),c("LOOSEPLAIN","[v=\\s]*".concat(o[u.MAINVERSIONLOOSE]).concat(o[u.PRERELEASELOOSE],"?").concat(o[u.BUILD],"?")),c("LOOSE","^".concat(o[u.LOOSEPLAIN],"$")),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE","".concat(o[u.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),c("XRANGEIDENTIFIER","".concat(o[u.NUMERICIDENTIFIER],"|x|X|\\*")),c("XRANGEPLAIN","[v=\\s]*(".concat(o[u.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(o[u.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(o[u.XRANGEIDENTIFIER],")")+"(?:".concat(o[u.PRERELEASE],")?").concat(o[u.BUILD],"?")+")?)?"),c("XRANGEPLAINLOOSE","[v=\\s]*(".concat(o[u.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(o[u.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(o[u.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(o[u.PRERELEASELOOSE],")?").concat(o[u.BUILD],"?")+")?)?"),c("XRANGE","^".concat(o[u.GTLT],"\\s*").concat(o[u.XRANGEPLAIN],"$")),c("XRANGELOOSE","^".concat(o[u.GTLT],"\\s*").concat(o[u.XRANGEPLAINLOOSE],"$")),c("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(r,"})")+"(?:\\.(\\d{1,".concat(r,"}))?")+"(?:\\.(\\d{1,".concat(r,"}))?")+"(?:$|[^\\d])"),c("COERCERTL",o[u.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM","(\\s*)".concat(o[u.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",c("TILDE","^".concat(o[u.LONETILDE]).concat(o[u.XRANGEPLAIN],"$")),c("TILDELOOSE","^".concat(o[u.LONETILDE]).concat(o[u.XRANGEPLAINLOOSE],"$")),c("LONECARET","(?:\\^)"),c("CARETTRIM","(\\s*)".concat(o[u.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",c("CARET","^".concat(o[u.LONECARET]).concat(o[u.XRANGEPLAIN],"$")),c("CARETLOOSE","^".concat(o[u.LONECARET]).concat(o[u.XRANGEPLAINLOOSE],"$")),c("COMPARATORLOOSE","^".concat(o[u.GTLT],"\\s*(").concat(o[u.LOOSEPLAIN],")$|^$")),c("COMPARATOR","^".concat(o[u.GTLT],"\\s*(").concat(o[u.FULLPLAIN],")$|^$")),c("COMPARATORTRIM","(\\s*)".concat(o[u.GTLT],"\\s*(").concat(o[u.LOOSEPLAIN],"|").concat(o[u.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE","^\\s*(".concat(o[u.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(o[u.XRANGEPLAIN],")")+"\\s*$"),c("HYPHENRANGELOOSE","^\\s*(".concat(o[u.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(o[u.XRANGEPLAINLOOSE],")")+"\\s*$"),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t,n){var r=n(319).MAX_LENGTH,a=n(235),i=a.re,o=a.t,u=n(110),s=n(321);e.exports=function(e,t){if(t=s(t),e instanceof u)return e;if("string"!==typeof e)return null;if(e.length>r)return null;if(!(t.loose?i[o.LOOSE]:i[o.FULL]).test(e))return null;try{return new u(e,t)}catch(n){return null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_ACTIONS",(function(){return BQ})),n.d(t,"guessMode",(function(){return YQ})),n.d(t,"vega",(function(){return RQ})),n.d(t,"vegaLite",(function(){return PQ}));var r={};n.r(r),n.d(r,"JsonPatchError",(function(){return M})),n.d(r,"deepClone",(function(){return F})),n.d(r,"getValueByPointer",(function(){return z})),n.d(r,"applyOperation",(function(){return B})),n.d(r,"applyPatch",(function(){return L})),n.d(r,"applyReducer",(function(){return U})),n.d(r,"validator",(function(){return W})),n.d(r,"validate",(function(){return V})),n.d(r,"_areEquals",(function(){return H}));var a={};n.r(a),n.d(a,"unobserve",(function(){return Y})),n.d(a,"observe",(function(){return K})),n.d(a,"generate",(function(){return $})),n.d(a,"compare",(function(){return J}));var i={};n.r(i),n.d(i,"aggregate",(function(){return sa})),n.d(i,"bin",(function(){return ca})),n.d(i,"collect",(function(){return fa})),n.d(i,"compare",(function(){return da})),n.d(i,"countpattern",(function(){return pa})),n.d(i,"cross",(function(){return va})),n.d(i,"density",(function(){return ya})),n.d(i,"dotbin",(function(){return ja})),n.d(i,"expression",(function(){return _a})),n.d(i,"extent",(function(){return Ea})),n.d(i,"facet",(function(){return Ca})),n.d(i,"field",(function(){return Na})),n.d(i,"filter",(function(){return Da})),n.d(i,"flatten",(function(){return Ia})),n.d(i,"fold",(function(){return Ma})),n.d(i,"formula",(function(){return Fa})),n.d(i,"generate",(function(){return Ra})),n.d(i,"impute",(function(){return Ba})),n.d(i,"joinaggregate",(function(){return La})),n.d(i,"kde",(function(){return Ua})),n.d(i,"key",(function(){return Wa})),n.d(i,"load",(function(){return Ha})),n.d(i,"lookup",(function(){return qa})),n.d(i,"multiextent",(function(){return Xa})),n.d(i,"multivalues",(function(){return Ka})),n.d(i,"params",(function(){return Za})),n.d(i,"pivot",(function(){return Ja})),n.d(i,"prefacet",(function(){return Qa})),n.d(i,"project",(function(){return ei})),n.d(i,"proxy",(function(){return ti})),n.d(i,"quantile",(function(){return ni})),n.d(i,"relay",(function(){return ri})),n.d(i,"sample",(function(){return ai})),n.d(i,"sequence",(function(){return ii})),n.d(i,"sieve",(function(){return oi})),n.d(i,"subflow",(function(){return Aa})),n.d(i,"timeunit",(function(){return ui})),n.d(i,"tupleindex",(function(){return ci})),n.d(i,"values",(function(){return li})),n.d(i,"window",(function(){return vi}));var o={};n.r(o),n.d(o,"interpolate",(function(){return es})),n.d(o,"interpolateArray",(function(){return qu})),n.d(o,"interpolateBasis",(function(){return Iu})),n.d(o,"interpolateBasisClosed",(function(){return Mu})),n.d(o,"interpolateDate",(function(){return Yu})),n.d(o,"interpolateDiscrete",(function(){return lc})),n.d(o,"interpolateHue",(function(){return fc})),n.d(o,"interpolateNumber",(function(){return Ku})),n.d(o,"interpolateNumberArray",(function(){return Hu})),n.d(o,"interpolateObject",(function(){return $u})),n.d(o,"interpolateRound",(function(){return ts})),n.d(o,"interpolateString",(function(){return Qu})),n.d(o,"interpolateTransformCss",(function(){return mc})),n.d(o,"interpolateTransformSvg",(function(){return gc})),n.d(o,"interpolateZoom",(function(){return yc})),n.d(o,"interpolateRgb",(function(){return Lu})),n.d(o,"interpolateRgbBasis",(function(){return Wu})),n.d(o,"interpolateRgbBasisClosed",(function(){return Vu})),n.d(o,"interpolateHsl",(function(){return wc})),n.d(o,"interpolateHslLong",(function(){return Oc})),n.d(o,"interpolateLab",(function(){return Uc})),n.d(o,"interpolateHcl",(function(){return Vc})),n.d(o,"interpolateHclLong",(function(){return Hc})),n.d(o,"interpolateCubehelix",(function(){return il})),n.d(o,"interpolateCubehelixLong",(function(){return ol})),n.d(o,"piecewise",(function(){return oc})),n.d(o,"quantize",(function(){return ul}));var u={};n.r(u),n.d(u,"bound",(function(){return Dm})),n.d(u,"identifier",(function(){return Fm})),n.d(u,"mark",(function(){return Rm})),n.d(u,"overlap",(function(){return Pm})),n.d(u,"render",(function(){return Hm})),n.d(u,"viewlayout",(function(){return dg}));var s={};n.r(s),n.d(s,"axisticks",(function(){return pg})),n.d(s,"datajoin",(function(){return vg})),n.d(s,"encode",(function(){return gg})),n.d(s,"legendentries",(function(){return bg})),n.d(s,"linkpath",(function(){return kg})),n.d(s,"pie",(function(){return Ag})),n.d(s,"scale",(function(){return Tg})),n.d(s,"sortitems",(function(){return Fg})),n.d(s,"stack",(function(){return Lg}));var c={};n.r(c),n.d(c,"contour",(function(){return jw})),n.d(c,"geojson",(function(){return Ew})),n.d(c,"geopath",(function(){return Aw})),n.d(c,"geopoint",(function(){return Cw})),n.d(c,"geoshape",(function(){return Nw})),n.d(c,"graticule",(function(){return Tw})),n.d(c,"heatmap",(function(){return Dw})),n.d(c,"isocontour",(function(){return pw})),n.d(c,"kde2d",(function(){return ww})),n.d(c,"projection",(function(){return Mw}));var l={};n.r(l),n.d(l,"force",(function(){return NO}));var f={};n.r(f),n.d(f,"nest",(function(){return Ik})),n.d(f,"pack",(function(){return Bk})),n.d(f,"partition",(function(){return Uk})),n.d(f,"stratify",(function(){return Wk})),n.d(f,"tree",(function(){return Gk})),n.d(f,"treelinks",(function(){return qk})),n.d(f,"treemap",(function(){return Kk}));var d={};n.r(d),n.d(d,"label",(function(){return mj}));var h={};n.r(h),n.d(h,"loess",(function(){return bj})),n.d(h,"regression",(function(){return xj}));var p={};n.r(p),n.d(p,"voronoi",(function(){return qj}));var v={};n.r(v),n.d(v,"wordcloud",(function(){return o_}));var m={};n.r(m),n.d(m,"crossfilter",(function(){return h_})),n.d(m,"resolvefilter",(function(){return p_}));var g={};n.r(g),n.d(g,"Debug",(function(){return Oe})),n.d(g,"Error",(function(){return ye})),n.d(g,"Info",(function(){return we})),n.d(g,"None",(function(){return be})),n.d(g,"Warn",(function(){return xe})),n.d(g,"accessor",(function(){return ne})),n.d(g,"accessorFields",(function(){return ae})),n.d(g,"accessorName",(function(){return re})),n.d(g,"array",(function(){return Ke})),n.d(g,"ascending",(function(){return Qe})),n.d(g,"clampRange",(function(){return $e})),n.d(g,"compare",(function(){return Je})),n.d(g,"constant",(function(){return rt})),n.d(g,"debounce",(function(){return at})),n.d(g,"error",(function(){return se})),n.d(g,"extend",(function(){return it})),n.d(g,"extent",(function(){return ot})),n.d(g,"extentIndex",(function(){return ut})),n.d(g,"falsy",(function(){return me})),n.d(g,"fastmap",(function(){return ft})),n.d(g,"field",(function(){return le})),n.d(g,"flush",(function(){return dt})),n.d(g,"hasOwnProperty",(function(){return ct})),n.d(g,"id",(function(){return fe})),n.d(g,"identity",(function(){return de})),n.d(g,"inherits",(function(){return ht})),n.d(g,"inrange",(function(){return pt})),n.d(g,"isArray",(function(){return je})),n.d(g,"isBoolean",(function(){return vt})),n.d(g,"isDate",(function(){return mt})),n.d(g,"isFunction",(function(){return Ze})),n.d(g,"isIterable",(function(){return gt})),n.d(g,"isNumber",(function(){return bt})),n.d(g,"isObject",(function(){return _e})),n.d(g,"isRegExp",(function(){return yt})),n.d(g,"isString",(function(){return xt})),n.d(g,"key",(function(){return wt})),n.d(g,"lerp",(function(){return Ot})),n.d(g,"logger",(function(){return ke})),n.d(g,"lruCache",(function(){return kt})),n.d(g,"merge",(function(){return jt})),n.d(g,"mergeConfig",(function(){return Ee})),n.d(g,"one",(function(){return pe})),n.d(g,"pad",(function(){return St})),n.d(g,"panLinear",(function(){return ze})),n.d(g,"panLog",(function(){return Be})),n.d(g,"panPow",(function(){return Le})),n.d(g,"panSymlog",(function(){return Ue})),n.d(g,"peek",(function(){return Ne})),n.d(g,"quarter",(function(){return Xe})),n.d(g,"repeat",(function(){return _t})),n.d(g,"span",(function(){return Et})),n.d(g,"splitAccessPath",(function(){return ce})),n.d(g,"stringValue",(function(){return At})),n.d(g,"toBoolean",(function(){return Ct})),n.d(g,"toDate",(function(){return Tt})),n.d(g,"toNumber",(function(){return Te})),n.d(g,"toSet",(function(){return It})),n.d(g,"toString",(function(){return Dt})),n.d(g,"truncate",(function(){return Mt})),n.d(g,"truthy",(function(){return ve})),n.d(g,"utcquarter",(function(){return Ye})),n.d(g,"visitArray",(function(){return Ft})),n.d(g,"writeConfig",(function(){return Ae})),n.d(g,"zero",(function(){return he})),n.d(g,"zoomLinear",(function(){return Ve})),n.d(g,"zoomLog",(function(){return He})),n.d(g,"zoomPow",(function(){return Ge})),n.d(g,"zoomSymlog",(function(){return qe})),n.d(g,"Dataflow",(function(){return Cn})),n.d(g,"EventStream",(function(){return cn})),n.d(g,"MultiPulse",(function(){return On})),n.d(g,"Operator",(function(){return on})),n.d(g,"Parameters",(function(){return nn})),n.d(g,"Pulse",(function(){return bn})),n.d(g,"Transform",(function(){return Tn})),n.d(g,"changeset",(function(){return en})),n.d(g,"definition",(function(){return In})),n.d(g,"ingest",(function(){return Yt})),n.d(g,"isTuple",(function(){return Gt})),n.d(g,"transform",(function(){return Mn})),n.d(g,"transforms",(function(){return Dn})),n.d(g,"tupleid",(function(){return qt})),n.d(g,"bandwidthNRD",(function(){return Qn})),n.d(g,"bin",(function(){return er})),n.d(g,"bootstrapCI",(function(){return rr})),n.d(g,"cumulativeLogNormal",(function(){return br})),n.d(g,"cumulativeNormal",(function(){return dr})),n.d(g,"cumulativeUniform",(function(){return jr})),n.d(g,"densityLogNormal",(function(){return gr})),n.d(g,"densityNormal",(function(){return fr})),n.d(g,"densityUniform",(function(){return kr})),n.d(g,"dotbin",(function(){return ar})),n.d(g,"quantileLogNormal",(function(){return yr})),n.d(g,"quantileNormal",(function(){return hr})),n.d(g,"quantileUniform",(function(){return _r})),n.d(g,"quantiles",(function(){return Zn})),n.d(g,"quartiles",(function(){return Jn})),n.d(g,"random",(function(){return tr})),n.d(g,"randomInteger",(function(){return or})),n.d(g,"randomKDE",(function(){return vr})),n.d(g,"randomLCG",(function(){return ir})),n.d(g,"randomLogNormal",(function(){return xr})),n.d(g,"randomMixture",(function(){return wr})),n.d(g,"randomNormal",(function(){return pr})),n.d(g,"randomUniform",(function(){return Sr})),n.d(g,"regressionExp",(function(){return Ir})),n.d(g,"regressionLinear",(function(){return Tr})),n.d(g,"regressionLoess",(function(){return zr})),n.d(g,"regressionLog",(function(){return Dr})),n.d(g,"regressionPoly",(function(){return Rr})),n.d(g,"regressionPow",(function(){return Mr})),n.d(g,"regressionQuad",(function(){return Fr})),n.d(g,"sampleCurve",(function(){return Wr})),n.d(g,"sampleLogNormal",(function(){return mr})),n.d(g,"sampleNormal",(function(){return lr})),n.d(g,"sampleUniform",(function(){return Or})),n.d(g,"setRandom",(function(){return nr})),n.d(g,"DATE",(function(){return qr.a})),n.d(g,"DAY",(function(){return qr.b})),n.d(g,"DAYOFYEAR",(function(){return qr.c})),n.d(g,"HOURS",(function(){return qr.d})),n.d(g,"MILLISECONDS",(function(){return qr.e})),n.d(g,"MINUTES",(function(){return qr.f})),n.d(g,"MONTH",(function(){return qr.g})),n.d(g,"QUARTER",(function(){return qr.h})),n.d(g,"SECONDS",(function(){return qr.i})),n.d(g,"TIME_UNITS",(function(){return qr.j})),n.d(g,"WEEK",(function(){return qr.k})),n.d(g,"YEAR",(function(){return qr.l})),n.d(g,"dayofyear",(function(){return qr.m})),n.d(g,"timeBin",(function(){return qr.n})),n.d(g,"timeFloor",(function(){return qr.o})),n.d(g,"timeInterval",(function(){return qr.p})),n.d(g,"timeOffset",(function(){return qr.q})),n.d(g,"timeSequence",(function(){return qr.r})),n.d(g,"timeUnitSpecifier",(function(){return qr.s})),n.d(g,"timeUnits",(function(){return qr.t})),n.d(g,"utcFloor",(function(){return qr.u})),n.d(g,"utcInterval",(function(){return qr.v})),n.d(g,"utcOffset",(function(){return qr.w})),n.d(g,"utcSequence",(function(){return qr.x})),n.d(g,"utcdayofyear",(function(){return qr.y})),n.d(g,"utcweek",(function(){return qr.z})),n.d(g,"week",(function(){return qr.A})),n.d(g,"format",(function(){return zt.a})),n.d(g,"formats",(function(){return zt.b})),n.d(g,"inferType",(function(){return zt.c})),n.d(g,"inferTypes",(function(){return zt.d})),n.d(g,"loader",(function(){return zt.e})),n.d(g,"read",(function(){return zt.f})),n.d(g,"responseType",(function(){return zt.g})),n.d(g,"typeParsers",(function(){return zt.h})),n.d(g,"Bounds",(function(){return wd})),n.d(g,"CanvasHandler",(function(){return Zp})),n.d(g,"CanvasRenderer",(function(){return nv})),n.d(g,"Gradient",(function(){return Af})),n.d(g,"GroupItem",(function(){return kd})),n.d(g,"Handler",(function(){return Dp})),n.d(g,"Item",(function(){return Od})),n.d(g,"Marks",(function(){return mp})),n.d(g,"RenderType",(function(){return Gv})),n.d(g,"Renderer",(function(){return Mp})),n.d(g,"ResourceLoader",(function(){return jd})),n.d(g,"SVGHandler",(function(){return av})),n.d(g,"SVGRenderer",(function(){return Av})),n.d(g,"SVGStringRenderer",(function(){return Wv})),n.d(g,"Scenegraph",(function(){return jp})),n.d(g,"boundClip",(function(){return Qv})),n.d(g,"boundContext",(function(){return Gd})),n.d(g,"boundItem",(function(){return gp})),n.d(g,"boundMark",(function(){return yp})),n.d(g,"boundStroke",(function(){return Ed})),n.d(g,"domChild",(function(){return Ap})),n.d(g,"domClear",(function(){return Cp})),n.d(g,"domCreate",(function(){return Sp})),n.d(g,"domFind",(function(){return Ep})),n.d(g,"font",(function(){return cp})),n.d(g,"fontFamily",(function(){return sp})),n.d(g,"fontSize",(function(){return rp})),n.d(g,"intersect",(function(){return Yv})),n.d(g,"intersectBoxLine",(function(){return nh})),n.d(g,"intersectPath",(function(){return Jd})),n.d(g,"intersectPoint",(function(){return Qd})),n.d(g,"intersectRule",(function(){return th})),n.d(g,"lineHeight",(function(){return ap})),n.d(g,"markup",(function(){return wv})),n.d(g,"multiLineOffset",(function(){return op})),n.d(g,"pathCurves",(function(){return Nf})),n.d(g,"pathEqual",(function(){return tm})),n.d(g,"pathParse",(function(){return If})),n.d(g,"pathRectangle",(function(){return rd})),n.d(g,"pathRender",(function(){return Hf})),n.d(g,"pathSymbols",(function(){return Yf})),n.d(g,"pathTrail",(function(){return ad})),n.d(g,"point",(function(){return Tp})),n.d(g,"renderModule",(function(){return Xv})),n.d(g,"resetSVGClipId",(function(){return yd})),n.d(g,"resetSVGDefIds",(function(){return nm})),n.d(g,"sceneEqual",(function(){return em})),n.d(g,"sceneFromJSON",(function(){return Op})),n.d(g,"scenePickVisit",(function(){return hh})),n.d(g,"sceneToJSON",(function(){return wp})),n.d(g,"sceneVisit",(function(){return dh})),n.d(g,"sceneZOrder",(function(){return fh})),n.d(g,"serializeXML",(function(){return Ov})),n.d(g,"textMetrics",(function(){return Zh})),n.d(g,"interpolate",(function(){return Zl})),n.d(g,"interpolateColors",(function(){return Yl})),n.d(g,"interpolateRange",(function(){return Xl})),n.d(g,"quantizeInterpolator",(function(){return Kl})),n.d(g,"scale",(function(){return Pl})),n.d(g,"scheme",(function(){return tf})),n.d(g,"projection",(function(){return ew})),n.d(g,"View",(function(){return BC})),n.d(g,"defaultLocale",(function(){return Bt.a})),n.d(g,"formatLocale",(function(){return Bt.c})),n.d(g,"locale",(function(){return Bt.b})),n.d(g,"resetDefaultLocale",(function(){return Bt.d})),n.d(g,"timeFormatLocale",(function(){return Bt.e})),n.d(g,"expressionFunction",(function(){return DA})),n.d(g,"parse",(function(){return HI})),n.d(g,"runtimeContext",(function(){return WA})),n.d(g,"codegenExpression",(function(){return wF})),n.d(g,"parseExpression",(function(){return bF})),n.d(g,"parseSelector",(function(){return AF})),n.d(g,"version",(function(){return IF}));var b={};n.r(b),n.d(b,"invalidSpec",(function(){return dB})),n.d(b,"FIT_NON_SINGLE",(function(){return hB})),n.d(b,"containerSizeNonSingle",(function(){return pB})),n.d(b,"containerSizeNotCompatibleWithAutosize",(function(){return vB})),n.d(b,"droppingFit",(function(){return mB})),n.d(b,"cannotProjectOnChannelWithoutField",(function(){return gB})),n.d(b,"cannotProjectAggregate",(function(){return bB})),n.d(b,"nearestNotSupportForContinuous",(function(){return yB})),n.d(b,"selectionNotSupported",(function(){return xB})),n.d(b,"selectionNotFound",(function(){return wB})),n.d(b,"SCALE_BINDINGS_CONTINUOUS",(function(){return OB})),n.d(b,"LEGEND_BINDINGS_PROJECT_LENGTH",(function(){return kB})),n.d(b,"noSameUnitLookup",(function(){return jB})),n.d(b,"noSuchRepeatedValue",(function(){return _B})),n.d(b,"columnsNotSupportByRowCol",(function(){return SB})),n.d(b,"CONCAT_CANNOT_SHARE_AXIS",(function(){return EB})),n.d(b,"unrecognizedParse",(function(){return AB})),n.d(b,"differentParse",(function(){return CB})),n.d(b,"invalidTransformIgnored",(function(){return NB})),n.d(b,"NO_FIELDS_NEEDS_AS",(function(){return TB})),n.d(b,"customFormatTypeNotAllowed",(function(){return DB})),n.d(b,"encodingOverridden",(function(){return IB})),n.d(b,"projectionOverridden",(function(){return MB})),n.d(b,"REPLACE_ANGLE_WITH_THETA",(function(){return FB})),n.d(b,"primitiveChannelDef",(function(){return RB})),n.d(b,"invalidFieldType",(function(){return PB})),n.d(b,"invalidFieldTypeForCountAggregate",(function(){return zB})),n.d(b,"invalidAggregate",(function(){return BB})),n.d(b,"missingFieldType",(function(){return LB})),n.d(b,"droppingColor",(function(){return UB})),n.d(b,"emptyFieldDef",(function(){return WB})),n.d(b,"latLongDeprecated",(function(){return VB})),n.d(b,"LINE_WITH_VARYING_SIZE",(function(){return HB})),n.d(b,"incompatibleChannel",(function(){return GB})),n.d(b,"invalidEncodingChannel",(function(){return qB})),n.d(b,"facetChannelShouldBeDiscrete",(function(){return XB})),n.d(b,"facetChannelDropped",(function(){return YB})),n.d(b,"discreteChannelCannotEncode",(function(){return KB})),n.d(b,"lineWithRange",(function(){return $B})),n.d(b,"orientOverridden",(function(){return ZB})),n.d(b,"CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN",(function(){return JB})),n.d(b,"RANGE_STEP_DEPRECATED",(function(){return QB})),n.d(b,"cannotUseScalePropertyWithNonColor",(function(){return eL})),n.d(b,"unaggregateDomainHasNoEffectForRawField",(function(){return tL})),n.d(b,"unaggregateDomainWithNonSharedDomainOp",(function(){return nL})),n.d(b,"unaggregatedDomainWithLogScale",(function(){return rL})),n.d(b,"cannotApplySizeToNonOrientedMark",(function(){return aL})),n.d(b,"scaleTypeNotWorkWithChannel",(function(){return iL})),n.d(b,"scaleTypeNotWorkWithFieldDef",(function(){return oL})),n.d(b,"scalePropertyNotWorkWithScaleType",(function(){return uL})),n.d(b,"scaleTypeNotWorkWithMark",(function(){return sL})),n.d(b,"stepDropped",(function(){return cL})),n.d(b,"mergeConflictingProperty",(function(){return lL})),n.d(b,"mergeConflictingDomainProperty",(function(){return fL})),n.d(b,"independentScaleMeansIndependentGuide",(function(){return dL})),n.d(b,"domainSortDropped",(function(){return hL})),n.d(b,"MORE_THAN_ONE_SORT",(function(){return pL})),n.d(b,"FACETED_INDEPENDENT_DIFFERENT_SOURCES",(function(){return vL})),n.d(b,"FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES",(function(){return mL})),n.d(b,"FACETED_INDEPENDENT_SAME_SOURCE",(function(){return gL})),n.d(b,"INVALID_CHANNEL_FOR_AXIS",(function(){return bL})),n.d(b,"cannotStackRangedMark",(function(){return yL})),n.d(b,"cannotStackNonLinearScale",(function(){return xL})),n.d(b,"stackNonSummativeAggregate",(function(){return wL})),n.d(b,"invalidTimeUnit",(function(){return OL})),n.d(b,"droppedDay",(function(){return kL})),n.d(b,"errorBarCenterAndExtentAreNotNeeded",(function(){return jL})),n.d(b,"errorBarCenterIsUsedWithWrongExtent",(function(){return _L})),n.d(b,"errorBarContinuousAxisHasCustomizedAggregate",(function(){return SL})),n.d(b,"errorBarCenterIsNotNeeded",(function(){return EL})),n.d(b,"errorBand1DNotSupport",(function(){return AL})),n.d(b,"channelRequiredForBinned",(function(){return CL})),n.d(b,"domainRequiredForThresholdScale",(function(){return NL}));var y={};n.r(y),n.d(y,"compile",(function(){return zJ})),n.d(y,"extractTransforms",(function(){return VJ})),n.d(y,"normalize",(function(){return _G})),n.d(y,"version",(function(){return HJ}));var x={};n.r(x),n.d(x,"dark",(function(){return XJ})),n.d(x,"excel",(function(){return KJ})),n.d(x,"fivethirtyeight",(function(){return eQ})),n.d(x,"ggplot2",(function(){return nQ})),n.d(x,"googlecharts",(function(){return kQ})),n.d(x,"latimes",(function(){return sQ})),n.d(x,"quartz",(function(){return fQ})),n.d(x,"urbaninstitute",(function(){return yQ})),n.d(x,"version",(function(){return jQ})),n.d(x,"vox",(function(){return hQ}));var w=n(7),O=n.n(w),k=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=Object.prototype.hasOwnProperty;function _(e,t){return j.call(e,t)}function S(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);t=[];for(var r in e)_(e,r)&&t.push(r);return t}function E(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function A(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function C(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function N(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function T(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(T(e[t]))return!0}else if("object"===typeof e){var r=S(e),a=r.length;for(t=0;t<a;t++)if(T(e[r[t]]))return!0}return!1}function D(e,t){var n=[e];for(var r in t){var a="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof a&&n.push(r+": "+a)}return n.join("\n")}var I=function(e){function t(t,n,r,a,i){var o=this.constructor,u=e.call(this,D(t,{name:n,index:r,operation:a,tree:i}))||this;return u.name=n,u.index=r,u.operation=a,u.tree=i,Object.setPrototypeOf(u,o.prototype),u.message=D(t,{name:n,index:r,operation:a,tree:i}),u}return k(t,e),t}(Error),M=I,F=E,R={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=z(n,this.path);r&&(r=E(r));var a=B(n,{op:"remove",path:this.from}).removed;return B(n,{op:"add",path:this.path,value:a}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=z(n,this.from);return B(n,{op:"add",path:this.path,value:E(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:H(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},P={add:function(e,t,n){return A(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:R.move,copy:R.copy,test:R.test,_get:R._get};function z(e,t){if(""==t)return e;var n={op:"_get",path:t};return B(e,n),n.value}function B(e,t,n,r,a,i){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===a&&(a=!0),void 0===i&&(i=0),n&&("function"==typeof n?n(t,0,e,t.path):W(t,0)),""===t.path){var o={newDocument:e};if("add"===t.op)return o.newDocument=t.value,o;if("replace"===t.op)return o.newDocument=t.value,o.removed=e,o;if("move"===t.op||"copy"===t.op)return o.newDocument=z(e,t.from),"move"===t.op&&(o.removed=e),o;if("test"===t.op){if(o.test=H(e,t.value),!1===o.test)throw new M("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return o.newDocument=e,o}if("remove"===t.op)return o.removed=e,o.newDocument=null,o;if("_get"===t.op)return t.value=e,o;if(n)throw new M("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,e);return o}r||(e=E(e));var u=(t.path||"").split("/"),s=e,c=1,l=u.length,f=void 0,d=void 0,h=void 0;for(h="function"==typeof n?n:W;;){if((d=u[c])&&-1!=d.indexOf("~")&&(d=N(d)),a&&"__proto__"==d)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===f&&(void 0===s[d]?f=u.slice(0,c).join("/"):c==l-1&&(f=t.path),void 0!==f&&h(t,0,e,f)),c++,Array.isArray(s)){if("-"===d)d=s.length;else{if(n&&!A(d))throw new M("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,t,e);A(d)&&(d=~~d)}if(c>=l){if(n&&"add"===t.op&&d>s.length)throw new M("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,t,e);if(!1===(o=P[t.op].call(t,s,d,e)).test)throw new M("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return o}}else if(c>=l){if(!1===(o=R[t.op].call(t,s,d,e)).test)throw new M("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return o}if(s=s[d],n&&c<l&&(!s||"object"!==typeof s))throw new M("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,t,e)}}function L(e,t,n,r,a){if(void 0===r&&(r=!0),void 0===a&&(a=!0),n&&!Array.isArray(t))throw new M("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=E(e));for(var i=new Array(t.length),o=0,u=t.length;o<u;o++)i[o]=B(e,t[o],n,!0,a,o),e=i[o].newDocument;return i.newDocument=e,i}function U(e,t,n){var r=B(e,t);if(!1===r.test)throw new M("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function W(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new M("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!R[e.op])throw new M("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new M("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new M('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new M("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new M("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&T(e.value))throw new M("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var a=e.path.split("/").length,i=r.split("/").length;if(a!==i+1&&a!==i)throw new M("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new M("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var o=V([{op:"_get",path:e.from,value:void 0}],n);if(o&&"OPERATION_PATH_UNRESOLVABLE"===o.name)throw new M("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function V(e,t,n){try{if(!Array.isArray(e))throw new M("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)L(E(t),E(e),n||!0);else{n=n||W;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(a){if(a instanceof M)return a;throw a}}function H(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,a,i=Array.isArray(e),o=Array.isArray(t);if(i&&o){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!H(e[n],t[n]))return!1;return!0}if(i!=o)return!1;var u=Object.keys(e);if((r=u.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(u[n]))return!1;for(n=r;0!==n--;)if(!H(e[a=u[n]],t[a]))return!1;return!0}return e!==e&&t!==t}var G=new WeakMap,q=function(e){this.observers=new Map,this.obj=e},X=function(e,t){this.callback=e,this.observer=t};function Y(e,t){t.unobserve()}function K(e,t){var n,r=function(e){return G.get(e)}(e);if(r){var a=function(e,t){return e.observers.get(t)}(r,t);n=a&&a.observer}else r=new q(e),G.set(e,r);if(n)return n;if(n={},r.value=E(e),t){n.callback=t,n.next=null;var i=function(){$(n)},o=function(){clearTimeout(n.next),n.next=setTimeout(i)};"undefined"!==typeof window&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return n.patches=[],n.object=e,n.unobserve=function(){$(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},r.observers.set(t,new X(t,n)),n}function $(e,t){void 0===t&&(t=!1);var n=G.get(e.object);Z(n.value,e.object,e.patches,"",t),e.patches.length&&L(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function Z(e,t,n,r,a){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var i=S(t),o=S(e),u=!1,s=o.length-1;s>=0;s--){var c=e[f=o[s]];if(!_(t,f)||void 0===t[f]&&void 0!==c&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(a&&n.push({op:"test",path:r+"/"+C(f),value:E(c)}),n.push({op:"remove",path:r+"/"+C(f)}),u=!0):(a&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var l=t[f];"object"==typeof c&&null!=c&&"object"==typeof l&&null!=l&&Array.isArray(c)===Array.isArray(l)?Z(c,l,n,r+"/"+C(f),a):c!==l&&(!0,a&&n.push({op:"test",path:r+"/"+C(f),value:E(c)}),n.push({op:"replace",path:r+"/"+C(f),value:E(l)}))}}if(u||i.length!=o.length)for(s=0;s<i.length;s++){var f;_(e,f=i[s])||void 0===t[f]||n.push({op:"add",path:r+"/"+C(f),value:E(t[f])})}}}function J(e,t,n){void 0===n&&(n=!1);var r=[];return Z(e,t,r,"",n),r}Object.assign({},r,a,{JsonPatchError:I,deepClone:E,escapePathComponent:C,unescapePathComponent:N});var Q=n(403),ee=n.n(Q),te=n(460);function ne(e,t,n){return e.fields=t||[],e.fname=n,e}function re(e){return null==e?null:e.fname}function ae(e){return null==e?null:e.fields}function ie(e){return 1===e.length?oe(e[0]):ue(e)}var oe=function(e){return function(t){return t[e]}},ue=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function se(e){throw Error(e)}function ce(e){var t,n,r,a=[],i=e.length,o=null,u=0,s="";function c(){a.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<i;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===o)c(),o=null,u=-1;else{if(o)continue;t===u&&'"'===r||t===u&&"'"===r?(t=n+1,o=r):"."!==r||u?"["===r?(n>t&&c(),u=t=n+1):"]"===r&&(u||se("Access path missing open bracket: "+e),u>0&&c(),u=0,t=n+1):n>t?c():t=n+1}return u&&se("Access path missing closing bracket: "+e),o&&se("Access path missing closing quote: "+e),n>t&&(n++,c()),a}function le(e,t,n){var r=ce(e);return e=1===r.length?r[0]:e,ne((n&&n.get||ie)(r),[e],t||e)}var fe=le("id"),de=ne((function(e){return e}),[],"identity"),he=ne((function(){return 0}),[],"zero"),pe=ne((function(){return 1}),[],"one"),ve=ne((function(){return!0}),[],"true"),me=ne((function(){return!1}),[],"false");function ge(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var be=0,ye=1,xe=2,we=3,Oe=4;function ke(e,t){var n=e||be;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=ye&&ge(t||"error","ERROR",arguments),this},warn:function(){return n>=xe&&ge(t||"warn","WARN",arguments),this},info:function(){return n>=we&&ge(t||"log","INFO",arguments),this},debug:function(){return n>=Oe&&ge(t||"log","DEBUG",arguments),this}}}var je=Array.isArray;function _e(e){return e===Object(e)}var Se=function(e){return"__proto__"!==e};function Ee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=Ce(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;Ae(e,n,t[n],r)}return e}),{})}function Ae(e,t,n,r){var a,i;if(Se(t))if(_e(n)&&!je(n))for(a in i=_e(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[a])?Ae(i,a,n[a]):Se(a)&&(i[a]=n[a]);else e[t]=n}function Ce(e,t){if(null==e)return t;var n={},r=[];function a(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(a),e.forEach(a),r}function Ne(e){return e[e.length-1]}function Te(e){return null==e||""===e?null:+e}var De=function(e){return function(t){return e*Math.exp(t)}},Ie=function(e){return function(t){return Math.log(e*t)}},Me=function(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}},Fe=function(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}},Re=function(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}};function Pe(e,t,n,r){var a=n(e[0]),i=n(Ne(e)),o=(i-a)*t;return[r(a-o),r(i-o)]}function ze(e,t){return Pe(e,t,Te,de)}function Be(e,t){var n=Math.sign(e[0]);return Pe(e,t,Ie(n),De(n))}function Le(e,t,n){return Pe(e,t,Re(n),Re(1/n))}function Ue(e,t,n){return Pe(e,t,Me(n),Fe(n))}function We(e,t,n,r,a){var i=r(e[0]),o=r(Ne(e)),u=null!=t?r(t):(i+o)/2;return[a(u+(i-u)*n),a(u+(o-u)*n)]}function Ve(e,t,n){return We(e,t,n,Te,de)}function He(e,t,n){var r=Math.sign(e[0]);return We(e,t,n,Ie(r),De(r))}function Ge(e,t,n,r){return We(e,t,n,Re(r),Re(1/r))}function qe(e,t,n,r){return We(e,t,n,Me(r),Fe(r))}function Xe(e){return 1+~~(new Date(e).getMonth()/3)}function Ye(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Ke(e){return null!=e?je(e)?e:[e]:[]}function $e(e,t,n){var r,a=e[0],i=e[1];return i<a&&(r=i,i=a,a=r),(r=i-a)>=n-t?[t,n]:[a=Math.min(Math.max(a,t),n-r),a+r]}function Ze(e){return"function"===typeof e}function Je(e,t,n){n=n||{},t=Ke(t)||[];var r=[],a=[],i={},o=n.comparator||et;return Ke(e).forEach((function(e,o){null!=e&&(r.push("descending"===t[o]?-1:1),a.push(e=Ze(e)?e:le(e,null,n)),(ae(e)||[]).forEach((function(e){return i[e]=1})))})),0===a.length?null:ne(o(a,r),Object.keys(i))}var Qe=function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)},et=function(e,t){return 1===e.length?tt(e[0],t[0]):nt(e,t,e.length)},tt=function(e,t){return function(n,r){return Qe(e(n),e(r))*t}},nt=function(e,t,n){return t.push(0),function(r,a){for(var i,o=0,u=-1;0===o&&++u<n;)i=e[u],o=Qe(i(r),i(a));return o*t[u]}};function rt(e){return Ze(e)?e:function(){return e}}function at(e,t){var n;return function(r){n&&clearTimeout(n),n=setTimeout((function(){return t(r),n=null}),e)}}function it(e){for(var t,n,r=1,a=arguments.length;r<a;++r)for(n in t=arguments[r])e[n]=t[n];return e}function ot(e,t){var n,r,a,i,o=0;if(e&&(n=e.length))if(null==t){for(r=e[o];o<n&&(null==r||r!==r);r=e[++o]);for(a=i=r;o<n;++o)null!=(r=e[o])&&(r<a&&(a=r),r>i&&(i=r))}else{for(r=t(e[o]);o<n&&(null==r||r!==r);r=t(e[++o]));for(a=i=r;o<n;++o)null!=(r=t(e[o]))&&(r<a&&(a=r),r>i&&(i=r))}return[a,i]}function ut(e,t){var n,r,a,i,o,u=e.length,s=-1;if(null==t){for(;++s<u;)if(null!=(r=e[s])&&r>=r){n=a=r;break}if(s===u)return[-1,-1];for(i=o=s;++s<u;)null!=(r=e[s])&&(n>r&&(n=r,i=s),a<r&&(a=r,o=s))}else{for(;++s<u;)if(null!=(r=t(e[s],s,e))&&r>=r){n=a=r;break}if(s===u)return[-1,-1];for(i=o=s;++s<u;)null!=(r=t(e[s],s,e))&&(n>r&&(n=r,i=s),a<r&&(a=r,o=s))}return[i,o]}var st=Object.prototype.hasOwnProperty;function ct(e,t){return st.call(e,t)}var lt={};function ft(e){var t,n={};function r(e){return ct(n,e)&&n[e]!==lt}var a={size:0,empty:0,object:n,has:r,get:function(e){return r(e)?n[e]:void 0},set:function(e,t){return r(e)||(++a.size,n[e]===lt&&--a.empty),n[e]=t,this},delete:function(e){return r(e)&&(--a.size,++a.empty,n[e]=lt),this},clear:function(){a.size=a.empty=0,a.object=n={}},test:function(e){return arguments.length?(t=e,a):t},clean:function(){var e={},r=0;for(var i in n){var o=n[i];o===lt||t&&t(o)||(e[i]=o,++r)}a.size=r,a.empty=0,a.object=n=e}};return e&&Object.keys(e).forEach((function(t){a.set(t,e[t])})),a}function dt(e,t,n,r,a,i){if(!n&&0!==n)return i;var o,u=+n,s=e[0],c=Ne(e);c<s&&(o=s,s=c,c=o),o=Math.abs(t-s);var l=Math.abs(c-t);return o<l&&o<=u?r:l<=u?a:i}function ht(e,t,n){var r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),it(r,n)}function pt(e,t,n,r){var a,i=t[0],o=t[t.length-1];return i>o&&(a=i,i=o,o=a),r=void 0===r||r,((n=void 0===n||n)?i<=e:i<e)&&(r?e<=o:e<o)}function vt(e){return"boolean"===typeof e}function mt(e){return"[object Date]"===Object.prototype.toString.call(e)}function gt(e){return e&&Ze(e[Symbol.iterator])}function bt(e){return"number"===typeof e}function yt(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function xt(e){return"string"===typeof e}function wt(e,t,n){e&&(e=t?Ke(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):Ke(e));var r,a=e&&e.length,i=n&&n.get||ie,o=function(e){return i(t?[e]:ce(e))};if(a)if(1===a){var u=o(e[0]);r=function(e){return""+u(e)}}else{var s=e.map(o);r=function(e){for(var t=""+s[0](e),n=0;++n<a;)t+="|"+s[n](e);return t}}else r=function(){return""};return ne(r,e,"key")}function Ot(e,t){var n=e[0],r=Ne(e),a=+t;return a?1===a?r:n+a*(r-n):n}function kt(e){var t,n,r;e=+e||1e4;var a=function(){t={},n={},r=0},i=function(a,i){return++r>e&&(n=t,t={},r=1),t[a]=i};return a(),{clear:a,has:function(e){return ct(t,e)||ct(n,e)},get:function(e){return ct(t,e)?t[e]:ct(n,e)?i(e,n[e]):void 0},set:function(e,n){return ct(t,e)?t[e]=n:i(e,n)}}}function jt(e,t,n,r){var a=t.length,i=n.length;if(!i)return t;if(!a)return n;for(var o=r||new t.constructor(a+i),u=0,s=0,c=0;u<a&&s<i;++c)o[c]=e(t[u],n[s])>0?n[s++]:t[u++];for(;u<a;++u,++c)o[c]=t[u];for(;s<i;++s,++c)o[c]=n[s];return o}function _t(e,t){for(var n="";--t>=0;)n+=e;return n}function St(e,t,n,r){var a=n||" ",i=e+"",o=t-i.length;return o<=0?i:"left"===r?_t(a,o)+i:"center"===r?_t(a,~~(o/2))+i+_t(a,Math.ceil(o/2)):i+_t(a,o)}function Et(e){return e&&Ne(e)-e[0]||0}function At(e){return je(e)?"["+e.map(At)+"]":_e(e)||xt(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function Ct(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}var Nt=function(e){return bt(e)||mt(e)?e:Date.parse(e)};function Tt(e,t){return t=t||Nt,null==e||""===e?null:t(e)}function Dt(e){return null==e||""===e?null:e+""}function It(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return t}function Mt(e,t,n,r){var a=null!=r?r:"\u2026",i=e+"",o=i.length,u=Math.max(0,t-a.length);return o<=t?i:"left"===n?a+i.slice(o-u):"center"===n?i.slice(0,Math.ceil(u/2))+a+i.slice(o-~~(u/2)):i.slice(0,u)+a}function Ft(e,t,n){if(e)if(t)for(var r=e.length,a=0;a<r;++a){var i=t(e[a]);i&&n(i,a,e)}else e.forEach(n)}var Rt=n(19),Pt=n(3),zt=n(180),Bt=n(132);function Lt(e){var t=e||Pt.u,n=[],r={};return n.add=function(e){var a=t(e);return r[a]||(r[a]=1,n.push(e)),n},n.remove=function(e){var a=t(e);if(r[a]){r[a]=0;var i=n.indexOf(e);i>=0&&n.splice(i,1)}return n},n}function Ut(e,t){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(Rt.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var Vt=Symbol("vega_id"),Ht=1;function Gt(e){return!(!e||!qt(e))}function qt(e){return e[Vt]}function Xt(e,t){return e[Vt]=t,e}function Yt(e){var t=e===Object(e)?e:{data:e};return qt(t)?t:Xt(t,Ht++)}function Kt(e){return $t(e,Yt({}))}function $t(e,t){for(var n in e)t[n]=e[n];return t}function Zt(e,t){return Xt(t,qt(e))}function Jt(e,t){return e?t?function(n,r){return e(n,r)||qt(t(n))-qt(t(r))}:function(t,n){return e(t,n)||qt(t)-qt(n)}:null}function Qt(e){return e&&e.constructor===en}function en(){var e=[],t=[],n=[],r=[],a=[],i=null,o=!1;return{constructor:en,insert:function(t){for(var n=Object(Pt.e)(t),r=n.length,a=0;a<r;++a)e.push(n[a]);return this},remove:function(e){for(var n=Object(Pt.A)(e)?r:t,a=Object(Pt.e)(e),i=a.length,o=0;o<i;++o)n.push(a[o]);return this},modify:function(e,t,r){var i={field:t,value:Object(Pt.i)(r)};return Object(Pt.A)(e)?(i.filter=e,a.push(i)):(i.tuple=e,n.push(i)),this},encode:function(e,t){return Object(Pt.A)(e)?a.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean:function(e){return i=e,this},reflow:function(){return o=!0,this},pulse:function(u,s){var c,l,f,d,h,p,v={},m={};for(c=0,l=s.length;c<l;++c)v[qt(s[c])]=1;for(c=0,l=t.length;c<l;++c)v[qt(h=t[c])]=-1;for(c=0,l=r.length;c<l;++c)d=r[c],s.forEach((function(e){d(e)&&(v[qt(e)]=-1)}));for(c=0,l=e.length;c<l;++c)p=qt(h=e[c]),v[p]?v[p]=1:u.add.push(Yt(e[c]));for(c=0,l=s.length;c<l;++c)h=s[c],v[qt(h)]<0&&u.rem.push(h);function g(e,t,n){n?e[t]=n(e):u.encode=t,o||(m[qt(e)]=e)}for(c=0,l=n.length;c<l;++c)h=(f=n[c]).tuple,d=f.field,(p=v[qt(h)])>0&&(g(h,d,f.value),u.modifies(d));for(c=0,l=a.length;c<l;++c)f=a[c],d=f.filter,s.forEach((function(e){d(e)&&v[qt(e)]>0&&g(e,f.field,f.value)})),u.modifies(f.field);if(o)u.mod=t.length||r.length?s.filter((function(e){return v[qt(e)]>0})):s.slice();else for(p in m)u.mod.push(m[p]);return(i||null==i&&(t.length||r.length))&&u.clean(!0),u}}}var tn="_:mod:_";function nn(){Object.defineProperty(this,tn,{writable:!0,value:{}})}nn.prototype={set:function(e,t,n,r){var a=this,i=a[e],o=a[tn];return null!=t&&t>=0?(i[t]!==n||r)&&(i[t]=n,o[t+":"+e]=-1,o[e]=-1):(i!==n||r)&&(a[e]=n,o[e]=Object(Pt.x)(n)?1+n.length:-1),a},modified:function(e,t){var n=this[tn];if(!arguments.length){for(var r in n)if(n[r])return!0;return!1}if(Object(Pt.x)(e)){for(var a=0;a<e.length;++a)if(n[e[a]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear:function(){return this[tn]={},this}};var rn=0,an=new nn;function on(e,t,n,r){this.id=++rn,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function un(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}on.prototype={targets:function(){return this._targets||(this._targets=Lt(Pt.t))},set:function(e){return this.value!==e?(this.value=e,1):0},skip:un(1),modified:un(2),parameters:function(e,t,n){var r=this;t=!1!==t;var a,i,o,u,s=this._argval=this._argval||new nn,c=this._argops=this._argops||[],l=[],f=function(e,n,a){a instanceof on?(a!==r&&(t&&a.targets().add(r),l.push(a)),c.push({op:a,name:e,index:n})):s.set(e,n,a)};for(a in e)if(i=e[a],"pulse"===a)Object(Pt.e)(i).forEach((function(e){e instanceof on?e!==r&&(e.targets().add(r),l.push(e)):Object(Pt.k)("Pulse parameters must be operator instances.")})),this.source=i;else if(Object(Pt.x)(i))for(s.set(a,-1,Array(o=i.length)),u=0;u<o;++u)f(a,u,i[u]);else f(a,-1,i);return this.marshall().clear(),n&&(c.initonly=!0),l},marshall:function(e){var t,n,r,a,i=this._argval||an,o=this._argops;if(o){var u=o.length;for(n=0;n<u;++n)a=(r=(t=o[n]).op).modified()&&r.stamp===e,i.set(t.name,t.index,r.value,a);if(o.initonly){for(n=0;n<u;++n)(t=o[n]).op.targets().remove(this);this._argops=null,this._update=null}}return i},detach:function(){var e,t,n,r=this._argops;if(r)for(e=0,t=r.length;e<t;++e)(n=r[e].op)._targets&&n._targets.remove(this);this.pulse=null,this.source=null},evaluate:function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run:function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t}};var sn=0;function cn(e,t,n){this.id=++sn,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function ln(e,t,n){return new cn(e,t,n)}function fn(){return(fn=Object(Rt.a)(O.a.mark((function e(t,n){var r,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,a=0,e.prev=2,e.next=5,r.loader().load(t,{context:"dataflow",response:Object(zt.g)(n&&n.type)});case 5:i=e.sent;try{i=r.parse(i,n)}catch(o){a=-2,r.warn("Data ingestion failed",t,o)}e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),a=-1,r.warn("Loading failed",t,e.t0);case 13:return e.abrupt("return",{data:i,status:a});case 14:case"end":return e.stop()}}),e,this,[[2,9]])})))).apply(this,arguments)}function dn(){return(dn=Object(Rt.a)(O.a.mark((function e(t,n,r){var a,i,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=(a=this)._pending||hn(a)).requests+=1,e.next=4,a.request(n,r);case 4:return o=e.sent,a.pulse(t,a.changeset().remove(Pt.db).insert(o.data||[])),i.done(),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function hn(e){var t,n=new Promise((function(e){return t=e}));return n.requests=0,n.done=function(){0===--n.requests&&(e._pending=null,t(e))},e._pending=n}cn.prototype={_filter:Pt.db,_apply:Pt.u,targets:function(){return this._targets||(this._targets=Lt(Pt.t))},consume:function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive:function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,a=0;a<r;++a)n[a].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter:function(e){var t=ln(e);return this.targets().add(t),t},apply:function(e){var t=ln(null,e);return this.targets().add(t),t},merge:function(){var e=ln();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle:function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},debounce:function(e){var t=ln();return this.targets().add(ln(null,null,Object(Pt.j)(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},between:function(e,t){var n=!1;return e.targets().add(ln(null,null,(function(){return n=!0}))),t.targets().add(ln(null,null,(function(){return n=!1}))),this.filter((function(){return n}))},detach:function(){this._filter=Pt.db,this._targets=null}};var pn={skip:!0};function vn(e,t,n,r,a,i){var o,u,s=Object(Pt.l)({},i,pn);Object(Pt.A)(n)||(n=Object(Pt.i)(n)),void 0===r?o=function(t){return e.touch(n(t))}:Object(Pt.A)(r)?(u=new on(null,r,a,!1),o=function(t){u.evaluate(t);var r=n(t),a=u.value;Qt(a)?e.pulse(r,a,i):e.update(r,a,s)}):o=function(t){return e.update(n(t),r,s)},t.apply(o)}function mn(e,t,n,r,a,i){if(void 0===r)t.targets().add(n);else{var o=i||{},u=new on(null,function(e,t){return t=Object(Pt.A)(t)?t:Object(Pt.i)(t),e?function(n,r){var a=t(n,r);return e.skip()||(e.skip(a!==this.value).value=a),a}:t}(n,r),a,!1);u.modified(o.force),u.rank=t.rank,t.targets().add(u),n&&(u.skip(!0),u.value=n.value,u.targets().add(n),e.connect(n,[u]))}}var gn={};function bn(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function yn(e,t){var n=[];return Object(Pt.fb)(e,t,(function(e){return n.push(e)})),n}function xn(e,t){var n={};return e.visit(t,(function(e){n[qt(e)]=1})),function(e){return n[qt(e)]?null:e}}function wn(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function On(e,t,n,r){var a=this,i=n.length,o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(var u=0;u<i;++u){var s=n[u];if(s.stamp===t){if(s.fields){var c=a.fields||(a.fields={});for(var l in s.fields)c[l]=1}s.changed(a.ADD)&&(o|=a.ADD),s.changed(a.REM)&&(o|=a.REM),s.changed(a.MOD)&&(o|=a.MOD)}}this.changes=o}function kn(){return(kn=Object(Rt.a)(O.a.mark((function e(t,n,r){var a,i,o,u,s,c,l,f,d;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],!(a=this)._pulse){e.next=3;break}return e.abrupt("return",_n(a));case 3:if(!a._pending){e.next=6;break}return e.next=6,a._pending;case 6:if(!n){e.next=9;break}return e.next=9,Ut(a,n);case 9:if(a._touched.length){e.next=12;break}return a.debug("Dataflow invoked, but nothing to do."),e.abrupt("return",a);case 12:o=++a._clock,a._pulse=new bn(a,o,t),a._touched.forEach((function(e){return a._enqueue(e,!0)})),a._touched=Lt(Pt.t),u=0,e.prev=17;case 18:if(!(a._heap.size()>0)){e.next=35;break}if((s=a._heap.pop()).rank===s.qrank){e.next=23;break}return a._enqueue(s,!0),e.abrupt("continue",18);case 23:if(!(c=s.run(a._getPulse(s,t))).then){e.next=30;break}return e.next=27,c;case 27:c=e.sent,e.next=31;break;case 30:c.async&&(i.push(c.async),c=gn);case 31:c!==gn&&s._targets&&s._targets.forEach((function(e){return a._enqueue(e)})),++u,e.next=18;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(17),a._heap.clear(),l=e.t0;case 41:if(a._input={},a._pulse=null,a.debug("Pulse ".concat(o,": ").concat(u," operators")),l&&(a._postrun=[],a.error(l)),!a._postrun.length){e.next=55;break}f=a._postrun.sort((function(e,t){return t.priority-e.priority})),a._postrun=[],d=0;case 49:if(!(d<f.length)){e.next=55;break}return e.next=52,Ut(a,f[d].callback);case 52:++d,e.next=49;break;case 55:if(!r){e.next=58;break}return e.next=58,Ut(a,r);case 58:return i.length&&Promise.all(i).then((function(e){return a.runAsync(null,(function(){e.forEach((function(e){try{e(a)}catch(t){a.error(t)}}))}))})),e.abrupt("return",a);case 60:case"end":return e.stop()}}),e,this,[[17,37]])})))).apply(this,arguments)}function jn(){return(jn=Object(Rt.a)(O.a.mark((function e(t,n,r){var a,i=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._running){e.next=5;break}return e.next=3,this._running;case 3:e.next=0;break;case 5:return a=function(){return i._running=null},(this._running=this.evaluate(t,n,r)).then(a,a),e.abrupt("return",this._running);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function _n(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}bn.prototype={StopPropagation:gn,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork:function(e){return new bn(this.dataflow).init(this,e)},clone:function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll:function(){var e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||((e=new bn(this.dataflow).init(this)).add=e.source,e.rem=[]),e},init:function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter:function(e){this.dataflow.runAfter(e)},changed:function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow:function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,xn(this,1))),this},clean:function(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies:function(e){var t=this.fields||(this.fields={});return Object(Pt.x)(e)?e.forEach((function(e){return t[e]=!0})):t[e]=!0,this},modified:function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Object(Pt.x)(e)?e.some((function(e){return n[e]})):n[e]:!!n)},filter:function(e,t){var n=this;return 1&e&&(n.addF=wn(n.addF,t)),2&e&&(n.remF=wn(n.remF,t)),4&e&&(n.modF=wn(n.modF,t)),16&e&&(n.srcF=wn(n.srcF,t)),n},materialize:function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=yn(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=yn(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=yn(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit:function(e,t){var n=this,r=t;if(16&e)return Object(Pt.fb)(n.source,n.srcF,r),n;1&e&&Object(Pt.fb)(n.add,n.addF,r),2&e&&Object(Pt.fb)(n.rem,n.remF,r),4&e&&Object(Pt.fb)(n.mod,n.modF,r);var a=n.source;if(8&e&&a){var i=n.add.length+n.mod.length;i===a.length||(i?Object(Pt.fb)(a,xn(n,5),r):Object(Pt.fb)(a,n.srcF,r))}return n}},Object(Pt.v)(On,bn,{fork:function(e){var t=new bn(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},changed:function(e){return this.changes&e},modified:function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?Object(Pt.x)(e)?e.some((function(e){return n[e]})):n[e]:0},filter:function(){Object(Pt.k)("MultiPulse does not support filtering.")},materialize:function(){Object(Pt.k)("MultiPulse does not support materialization.")},visit:function(e,t){var n=this,r=n.pulses,a=r.length,i=0;if(e&n.SOURCE)for(;i<a;++i)r[i].visit(e,t);else for(;i<a;++i)r[i].stamp===n.stamp&&r[i].visit(e,t);return n}});var Sn={skip:!1,force:!1};function En(e){var t=[];return{clear:function(){return t=[]},size:function(){return t.length},peek:function(){return t[0]},push:function(n){return t.push(n),An(t,0,t.length-1,e)},pop:function(){var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){var r,a=t,i=e.length,o=e[t],u=1+(t<<1);for(;u<i;)(r=u+1)<i&&n(e[u],e[r])>=0&&(u=r),e[t]=e[u],u=1+((t=u)<<1);e[t]=o,An(e,a,t,n)}(t,0,e)):n=r,n}}}function An(e,t,n,r){for(var a,i,o=e[n];n>t&&r(o,a=e[i=n-1>>1])<0;)e[n]=a,n=i;return e[n]=o}function Cn(){this.logger(Object(Pt.I)()),this.logLevel(Pt.a),this._clock=0,this._rank=0,this._locale=Object(Bt.a)();try{this._loader=Object(zt.e)()}catch(e){}this._touched=Lt(Pt.t),this._input={},this._pulse=null,this._heap=En((function(e,t){return e.qrank-t.qrank})),this._postrun=[]}function Nn(e){return function(){return this._log[e].apply(this,arguments)}}function Tn(e,t){on.call(this,e,null,t)}Cn.prototype={stamp:function(){return this._clock},loader:function(e){return arguments.length?(this._loader=e,this):this._loader},locale:function(e){return arguments.length?(this._locale=e,this):this._locale},logger:function(e){return arguments.length?(this._log=e,this):this._log},error:Nn("error"),warn:Nn("warn"),info:Nn("info"),debug:Nn("debug"),logLevel:Nn("level"),cleanThreshold:1e4,add:function(e,t,n,r){var a,i=1;return e instanceof on?a=e:e&&e.prototype instanceof on?a=new e:Object(Pt.A)(e)?a=new on(null,e):(i=0,a=new on(e,t)),this.rank(a),i&&(r=n,n=t),n&&this.connect(a,a.parameters(n,r)),this.touch(a),a},connect:function(e,t){for(var n=e.rank,r=t.length,a=0;a<r;++a)if(n<t[a].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){for(var t,n,r,a=[e];a.length;)if(this.rank(t=a.pop()),n=t._targets)for(r=n.length;--r>=0;)a.push(t=n[r]),t===e&&Object(Pt.k)("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||Sn);var r=new bn(this,this._clock+(this._pulse?0:1)),a=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,a),this},touch:function(e,t){var n=t||Sn;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){var r=n||Sn;return(e.set(t)||r.force)&&this.touch(e,r),this},changeset:en,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){var n=this.locale();return Object(zt.f)(e,t,n.timeParse,n.utcParse)},preload:function(e,t,n){return dn.apply(this,arguments)},request:function(e,t){return fn.apply(this,arguments)},events:function(e,t,n,r){for(var a,i=this,o=ln(n,r),u=function(e){e.dataflow=i;try{o.receive(e)}catch(t){i.error(t)}finally{i.run()}},s=(a="string"===typeof e&&"undefined"!==typeof document?document.querySelectorAll(e):Object(Pt.e)(e)).length,c=0;c<s;++c)a[c].addEventListener(t,u);return o},on:function(e,t,n,r,a){return(e instanceof on?mn:vn)(this,e,t,n,r,a),this},evaluate:function(e,t,n){return kn.apply(this,arguments)},run:function(e,t,n){return this._pulse?_n(this):(this.evaluate(e,t,n),this)},runAsync:function(e,t,n){return jn.apply(this,arguments)},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}},_enqueue:function(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){var n=e.source,r=this._clock;return n&&Object(Pt.x)(n)?new On(this,r,n.map((function(e){return e.pulse})),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==gn&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)}},Object(Pt.v)(Tn,on,{run:function(e){var t,n=this;return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then((function(e){return n.pulse=e})):t!==e.StopPropagation&&(this.pulse=t),t)},evaluate:function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform:function(){}});var Dn={};function In(e){var t=Mn(e);return t&&t.Definition||null}function Mn(e){return e=e&&e.toLowerCase(),Object(Pt.s)(Dn,e)?Dn[e]:null}var Fn=n(12),Rn=n(6),Pn=n(271);function zn(e,t){var n;if(void 0===t){var r,a=Object(Fn.a)(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;null!=i&&(n<i||void 0===n&&i>=i)&&(n=i)}}catch(l){a.e(l)}finally{a.f()}}else{var o,u=-1,s=Object(Fn.a)(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;null!=(c=t(c,++u,e))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function Bn(e,t){var n;if(void 0===t){var r,a=Object(Fn.a)(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;null!=i&&(n>i||void 0===n&&i>=i)&&(n=i)}}catch(l){a.e(l)}finally{a.f()}}else{var o,u=-1,s=Object(Fn.a)(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;null!=(c=t(c,++u,e))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function Ln(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pn.a;r>n;){if(r-n>600){var i=r-n+1,o=t-n+1,u=Math.log(i),s=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*s*(i-s)/i)*(o-i/2<0?-1:1),l=Math.max(n,Math.floor(t-o*s/i+c)),f=Math.min(r,Math.floor(t+(i-o)*s/i+c));Ln(e,t,l,f,a)}var d=e[t],h=n,p=r;for(Un(e,n,t),a(e[r],d)>0&&Un(e,n,r);h<p;){for(Un(e,h,p),++h,--p;a(e[h],d)<0;)++h;for(;a(e[p],d)>0;)--p}0===a(e[n],d)?Un(e,n,p):Un(e,++p,r),p<=t&&(n=p+1),t<=p&&(r=p-1)}return e}function Un(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var Wn=O.a.mark(Hn),Vn=function(e){return null===e?NaN:+e};function Hn(e,t){var n,r,a,i,o,u,s;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0!==t){c.next=21;break}n=Object(Fn.a)(e),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=11;break}if(!(null!=(a=r.value)&&(a=+a)>=a)){c.next=9;break}return c.next=9,a;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=40;break;case 21:i=-1,o=Object(Fn.a)(e),c.prev=23,o.s();case 25:if((u=o.n()).done){c.next=32;break}if(s=u.value,!(null!=(s=t(s,++i,e))&&(s=+s)>=s)){c.next=30;break}return c.next=30,s;case 30:c.next=25;break;case 32:c.next=37;break;case 34:c.prev=34,c.t1=c.catch(23),o.e(c.t1);case 37:return c.prev=37,o.f(),c.finish(37);case 40:case"end":return c.stop()}}),Wn,null,[[2,13,16,19],[23,34,37,40]])}function Gn(e,t,n){if(r=(e=Float64Array.from(Hn(e,n))).length){if((t=+t)<=0||r<2)return Bn(e);if(t>=1)return zn(e);var r,a=(r-1)*t,i=Math.floor(a),o=zn(Ln(e,i).subarray(0,i+1));return o+(Bn(e.subarray(i+1))-o)*(a-i)}}function qn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vn;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),u=+n(e[i+1],i+1,e);return o+(u-o)*(a-i)}}function Xn(e,t){var n=function(e,t){var n,r=0,a=0,i=0;if(void 0===t){var o,u=Object(Fn.a)(e);try{for(u.s();!(o=u.n()).done;){var s=o.value;null!=s&&(s=+s)>=s&&(i+=(n=s-a)*(s-(a+=n/++r)))}}catch(h){u.e(h)}finally{u.f()}}else{var c,l=-1,f=Object(Fn.a)(e);try{for(f.s();!(c=f.n()).done;){var d=c.value;null!=(d=t(d,++l,e))&&(d=+d)>=d&&(i+=(n=d-a)*(d-(a+=n/++r)))}}catch(h){f.e(h)}finally{f.f()}}if(r>1)return i/(r-1)}(e,t);return n?Math.sqrt(n):n}var Yn=function(e,t){return Gn(e,.5,t)},Kn=O.a.mark($n);function $n(e,t){var n,r,a,i,o,u,s;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(null!=t){c.next=21;break}n=Object(Fn.a)(e),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=11;break}if(!(null!=(a=r.value)&&""!==a&&(a=+a)>=a)){c.next=9;break}return c.next=9,a;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=41;break;case 21:i=-1,o=Object(Fn.a)(e),c.prev=23,o.s();case 25:if((u=o.n()).done){c.next=33;break}if(s=u.value,!(null!=(s=t(s,++i,e))&&""!==s&&(s=+s)>=s)){c.next=31;break}return c.next=31,s;case 31:c.next=25;break;case 33:c.next=38;break;case 35:c.prev=35,c.t1=c.catch(23),o.e(c.t1);case 38:return c.prev=38,o.f(),c.finish(38);case 41:case"end":return c.stop()}}),Kn,null,[[2,13,16,19],[23,35,38,41]])}function Zn(e,t,n){var r=Float64Array.from($n(e,n));return r.sort(Pn.a),t.map((function(e){return qn(r,e)}))}function Jn(e,t){return Zn(e,[.25,.5,.75],t)}function Qn(e,t){var n=e.length,r=Xn(e,t),a=Jn(e,t),i=(a[2]-a[0])/1.34;return 1.06*(Math.min(r,i)||r||Math.abs(a[0])||1)*Math.pow(n,-.2)}function er(e){var t,n,r,a,i,o,u=e.maxbins||20,s=e.base||10,c=Math.log(s),l=e.divide||[5,2],f=e.extent[0],d=e.extent[1],h=e.span||d-f||Math.abs(f)||1;if(e.step)t=e.step;else if(e.steps){for(a=h/u,i=0,o=e.steps.length;i<o&&e.steps[i]<a;++i);t=e.steps[Math.max(0,i-1)]}else{for(n=Math.ceil(Math.log(u)/c),r=e.minstep||0,t=Math.max(r,Math.pow(s,Math.round(Math.log(h)/c)-n));Math.ceil(h/t)>u;)t*=s;for(i=0,o=l.length;i<o;++i)(a=t/l[i])>=r&&h/a<=u&&(t=a)}var p=(a=Math.log(t))>=0?0:1+~~(-a/c),v=Math.pow(s,-p-1);return(e.nice||void 0===e.nice)&&(f=f<(a=Math.floor(f/t+v)*t)?a-t:a,d=Math.ceil(d/t)*t),{start:f,stop:d===f?f+t:d,step:t}}var tr=Math.random;function nr(e){tr=e}function rr(e,t,n,r){if(!e.length)return[void 0,void 0];var a,i,o,u,s=Float64Array.from($n(e,r)),c=s.length,l=t;for(o=0,u=Array(l);o<l;++o){for(a=0,i=0;i<c;++i)a+=s[~~(tr()*c)];u[o]=a/c}return u.sort(Pn.a),[Gn(u,n/2),Gn(u,1-n/2)]}function ar(e,t,n,r){r=r||function(e){return e};for(var a,i=e.length,o=new Float64Array(i),u=0,s=1,c=r(e[0]),l=c,f=c+t;s<i;++s){if((a=r(e[s]))>=f){for(l=(c+l)/2;u<s;++u)o[u]=l;f=a+t,c=a}l=a}for(l=(c+l)/2;u<s;++u)o[u]=l;return n?function(e,t){var n,r,a=e.length,i=0,o=1;for(;e[i]===e[o];)++o;for(;o<a;){for(n=o+1;e[o]===e[n];)++n;if(e[o]-e[o-1]<t){for(r=o+(i+n-o-o>>1);r<o;)e[r++]=e[o];for(;r>o;)e[r--]=e[i]}i=o,o=n}return e}(o,t+t/4):o}function ir(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function or(e,t){var n,r,a;null==t&&(t=e,e=0);var i={min:function(e){return arguments.length?(a=r-(n=e||0),i):n},max:function(e){return arguments.length?(a=(r=e||0)-n,i):r},sample:function(){return n+Math.floor(a*tr())},pdf:function(e){return e===Math.floor(e)&&e>=n&&e<r?1/a:0},cdf:function(e){var t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/a},icdf:function(e){return e>=0&&e<=1?n-1+Math.floor(e*a):NaN}};return i.min(e).max(t)}var ur=Math.sqrt(2*Math.PI),sr=Math.SQRT2,cr=NaN;function lr(e,t){e=e||0,t=null==t?1:t;var n,r,a=0,i=0;if(cr===cr)a=cr,cr=NaN;else{do{n=(a=2*tr()-1)*a+(i=2*tr()-1)*i}while(0===n||n>1);a*=r=Math.sqrt(-2*Math.log(n)/n),cr=i*r}return e+a*t}function fr(e,t,n){var r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*ur)}function dr(e,t,n){var r,a=(e-(t=t||0))/(n=null==n?1:n),i=Math.abs(a);if(i>37)r=0;else{var o=Math.exp(-i*i/2);i<7.07106781186547?(r=o*((((((.0352624965998911*i+.700383064443688)*i+6.37396220353165)*i+33.912866078383)*i+112.079291497871)*i+221.213596169931)*i+220.206867912376),r/=((((((.0883883476483184*i+1.75566716318264)*i+16.064177579207)*i+86.7807322029461)*i+296.564248779674)*i+637.333633378831)*i+793.826512519948)*i+440.413735824752):r=o/(i+1/(i+2/(i+3/(i+4/(i+.65)))))/2.506628274631}return a>0?1-r:r}function hr(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*sr*function(e){var t,n=-Math.log((1-e)*(1+e));t=n<6.25?1.6536545626831027+(t=.24015818242558962+(t=(t=(t=.00018673420803405714+(t=(t=(t=4.2347877827932404e-7+(t=(t=(t=1.0512122733215323e-9+(t=(t=(t=26335093153082323e-28+(t=(t=(t=6637638134358324e-30+(t=20972767875968562e-33+(t=(t=11157877678025181e-33+(t=128584807152564e-32+(t=(t=-364441206401782e-35)*(n-=3.125)-16850591381820166e-35)*n)*n)*n-1333171662854621e-31)*n)*n)*n-4054566272975207e-29)*n-8151934197605472e-29)*n)*n-12975133253453532e-27)*n-5415412054294628e-26)*n)*n-4.112633980346984e-9)*n-2.9070369957882005e-8)*n)*n-13654692000834679e-22)*n-13882523362786469e-21)*n)*n-.000740702534166267)*n-.006033670871430149)*n)*n:n<16?3.0838856104922208+(t=1.0052589676941592+(t=.005370914553590064+(t=(t=.002491442096107851+(t=(t=.0009532893797373805+(t=(t=24031110387097894e-21+(t=6828485145957318e-20+(t=(t=12475304481671779e-21+(t=29234449089955446e-22+(t=(t=15027403968909828e-22+(t=1.8239629214389228e-8+(t=(t=9.075656193888539e-8+(t=2.2137376921775787e-9)*(n=Math.sqrt(n)-3.25))*n-2.7517406297064545e-7)*n)*n)*n-4013867526981546e-21)*n)*n)*n-47318229009055734e-21)*n)*n)*n-.0003550375203628475)*n)*n-.0016882755560235047)*n)*n-.003751208507569241)*n)*n)*n:Number.isFinite(n)?4.849906401408584+(t=1.0103004648645344+(t=(t=(t=7599527703001776e-20+(t=(t=4526062597223154e-21+(t=(t=2.2900482228026655e-7+(t=(t=2.914795345090108e-8+(t=(t=7.61570120807834e-9+(t=(t=1.5076572693500548e-9+(t=(t=-27109920616438573e-27)*(n=Math.sqrt(n)-5)-2.555641816996525e-10)*n)*n-3.789465440126737e-9)*n)*n-1.496002662714924e-8)*n)*n-6.771199775845234e-8)*n)*n-9.9298272942317e-7)*n)*n-1968177810553167e-20)*n)*n-.00021503011930044477)*n-.00013871931833623122)*n)*n:1/0;return t*e}(2*e-1)}function pr(e,t){var n,r,a={mean:function(e){return arguments.length?(n=e||0,a):n},stdev:function(e){return arguments.length?(r=null==e?1:e,a):r},sample:function(){return lr(n,r)},pdf:function(e){return fr(e,n,r)},cdf:function(e){return dr(e,n,r)},icdf:function(e){return hr(e,n,r)}};return a.mean(e).stdev(t)}function vr(e,t){var n=pr(),r=0,a={data:function(n){return arguments.length?(e=n,r=n?n.length:0,a.bandwidth(t)):e},bandwidth:function(n){return arguments.length?(!(t=n)&&e&&(t=Qn(e)),a):t},sample:function(){return e[~~(tr()*r)]+t*n.sample()},pdf:function(a){for(var i=0,o=0;o<r;++o)i+=n.pdf((a-e[o])/t);return i/t/r},cdf:function(a){for(var i=0,o=0;o<r;++o)i+=n.cdf((a-e[o])/t);return i/r},icdf:function(){throw Error("KDE icdf not supported.")}};return a.data(e)}function mr(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+lr()*t)}function gr(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;var r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*ur*e)}function br(e,t,n){return dr(Math.log(e),t,n)}function yr(e,t,n){return Math.exp(hr(e,t,n))}function xr(e,t){var n,r,a={mean:function(e){return arguments.length?(n=e||0,a):n},stdev:function(e){return arguments.length?(r=null==e?1:e,a):r},sample:function(){return mr(n,r)},pdf:function(e){return gr(e,n,r)},cdf:function(e){return br(e,n,r)},icdf:function(e){return yr(e,n,r)}};return a.mean(e).stdev(t)}function wr(e,t){var n,r=0;function a(e){var t,n=[],a=0;for(t=0;t<r;++t)a+=n[t]=null==e[t]?1:+e[t];for(t=0;t<r;++t)n[t]/=a;return n}var i={weights:function(e){return arguments.length?(n=a(t=e||[]),i):t},distributions:function(n){return arguments.length?(n?(r=n.length,e=n):(r=0,e=[]),i.weights(t)):e},sample:function(){for(var t=tr(),a=e[r-1],i=n[0],o=0;o<r-1;i+=n[++o])if(t<i){a=e[o];break}return a.sample()},pdf:function(t){for(var a=0,i=0;i<r;++i)a+=n[i]*e[i].pdf(t);return a},cdf:function(t){for(var a=0,i=0;i<r;++i)a+=n[i]*e[i].cdf(t);return a},icdf:function(){throw Error("Mixture icdf not supported.")}};return i.distributions(e).weights(t)}function Or(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*tr()}function kr(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function jr(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function _r(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function Sr(e,t){var n,r,a={min:function(e){return arguments.length?(n=e||0,a):n},max:function(e){return arguments.length?(r=null==e?1:e,a):r},sample:function(){return Or(n,r)},pdf:function(e){return kr(e,n,r)},cdf:function(e){return jr(e,n,r)},icdf:function(e){return _r(e,n,r)}};return null==t&&(t=null==e?1:e,e=0),a.min(e).max(t)}function Er(e,t,n,r){var a=r-e*e,i=Math.abs(a)<1e-24?0:(n-e*t)/a;return[t-i*e,i]}function Ar(e,t,n,r){e=e.filter((function(e){var r=t(e),a=n(e);return null!=r&&(r=+r)>=r&&null!=a&&(a=+a)>=a})),r&&e.sort((function(e,n){return t(e)-t(n)}));var a,i,o,u,s=e.length,c=new Float64Array(s),l=new Float64Array(s),f=0,d=0,h=0,p=Object(Fn.a)(e);try{for(p.s();!(u=p.n()).done;)o=u.value,c[f]=a=+t(o),l[f]=i=+n(o),d+=(a-d)/++f,h+=(i-h)/f}catch(v){p.e(v)}finally{p.f()}for(f=0;f<s;++f)c[f]-=d,l[f]-=h;return[c,l,d,h]}function Cr(e,t,n,r){var a,i,o,u=-1,s=Object(Fn.a)(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;a=t(c),i=n(c),null!=a&&(a=+a)>=a&&null!=i&&(i=+i)>=i&&r(a,i,++u)}}catch(l){s.e(l)}finally{s.f()}}function Nr(e,t,n,r,a){var i=0,o=0;return Cr(e,t,n,(function(e,t){var n=t-a(e),u=t-r;i+=n*n,o+=u*u})),1-i/o}function Tr(e,t,n){var r=0,a=0,i=0,o=0,u=0;Cr(e,t,n,(function(e,t){++u,r+=(e-r)/u,a+=(t-a)/u,i+=(e*t-i)/u,o+=(e*e-o)/u}));var s=Er(r,a,i,o),c=function(e){return s[0]+s[1]*e};return{coef:s,predict:c,rSquared:Nr(e,t,n,a,c)}}function Dr(e,t,n){var r=0,a=0,i=0,o=0,u=0;Cr(e,t,n,(function(e,t){++u,e=Math.log(e),r+=(e-r)/u,a+=(t-a)/u,i+=(e*t-i)/u,o+=(e*e-o)/u}));var s=Er(r,a,i,o),c=function(e){return s[0]+s[1]*Math.log(e)};return{coef:s,predict:c,rSquared:Nr(e,t,n,a,c)}}function Ir(e,t,n){var r,a,i,o=Ar(e,t,n),u=Object(Rn.a)(o,4),s=u[0],c=(u[1],u[2]),l=u[3],f=0,d=0,h=0,p=0,v=0;Cr(e,t,n,(function(e,t){r=s[v++],a=Math.log(t),f+=(t*a-f)/v,d+=((i=r*t)-d)/v,h+=(i*a-h)/v,p+=(r*i-p)/v}));var m=Er(d/l,f/l,h/l,p/l),g=Object(Rn.a)(m,2),b=g[0],y=g[1],x=function(e){return Math.exp(b+y*(e-c))};return{coef:[Math.exp(b-y*c),y],predict:x,rSquared:Nr(e,t,n,l,x)}}function Mr(e,t,n){var r=0,a=0,i=0,o=0,u=0,s=0;Cr(e,t,n,(function(e,t){var n=Math.log(e),c=Math.log(t);++s,r+=(n-r)/s,a+=(c-a)/s,i+=(n*c-i)/s,o+=(n*n-o)/s,u+=(t-u)/s}));var c=Er(r,a,i,o),l=function(e){return c[0]*Math.pow(e,c[1])};return c[0]=Math.exp(c[0]),{coef:c,predict:l,rSquared:Nr(e,t,n,u,l)}}function Fr(e,t,n){var r,a,i,o,u=Ar(e,t,n),s=Object(Rn.a)(u,4),c=s[0],l=s[1],f=s[2],d=s[3],h=c.length,p=0,v=0,m=0,g=0,b=0;for(r=0;r<h;)a=c[r],i=l[r++],p+=((o=a*a)-p)/r,v+=(o*a-v)/r,m+=(o*o-m)/r,g+=(a*i-g)/r,b+=(o*i-b)/r;var y=m-p*p,x=p*y-v*v,w=(b*p-g*v)/x,O=(g*y-b*v)/x,k=-w*p,j=function(e){return w*(e-=f)*e+O*e+k+d};return{coef:[k-O*f+w*f*f+d,O-2*w*f,w],predict:j,rSquared:Nr(e,t,n,d,j)}}function Rr(e,t,n,r){if(1===r)return Tr(e,t,n);if(2===r)return Fr(e,t,n);var a,i,o,u,s,c=Ar(e,t,n),l=Object(Rn.a)(c,4),f=l[0],d=l[1],h=l[2],p=l[3],v=f.length,m=[],g=[],b=r+1;for(a=0;a<b;++a){for(o=0,u=0;o<v;++o)u+=Math.pow(f[o],a)*d[o];for(m.push(u),s=new Float64Array(b),i=0;i<b;++i){for(o=0,u=0;o<v;++o)u+=Math.pow(f[o],a+i);s[i]=u}g.push(s)}g.push(m);var y=function(e){var t,n,r,a,i,o=e.length-1,u=[];for(t=0;t<o;++t){for(a=t,n=t+1;n<o;++n)Math.abs(e[t][n])>Math.abs(e[t][a])&&(a=n);for(r=t;r<o+1;++r)i=e[r][t],e[r][t]=e[r][a],e[r][a]=i;for(n=t+1;n<o;++n)for(r=o;r>=t;r--)e[r][n]-=e[r][t]*e[t][n]/e[t][t]}for(n=o-1;n>=0;--n){for(i=0,r=n+1;r<o;++r)i+=e[r][n]*u[r];u[n]=(e[o][n]-i)/e[n][n]}return u}(g),x=function(e){e-=h;var t=p+y[0]+y[1]*e+y[2]*e*e;for(a=3;a<b;++a)t+=y[a]*Math.pow(e,a);return t};return{coef:Pr(b,y,-h,p),predict:x,rSquared:Nr(e,t,n,p,x)}}function Pr(e,t,n,r){var a,i,o,u,s=Array(e);for(a=0;a<e;++a)s[a]=0;for(a=e-1;a>=0;--a)for(o=t[a],u=1,s[a]+=o,i=1;i<=a;++i)u*=(a+1-i)/i,s[a-i]+=o*Math.pow(n,i)*u;return s[0]+=r,s}function zr(e,t,n,r){for(var a=Ar(e,t,n,!0),i=Object(Rn.a)(a,4),o=i[0],u=i[1],s=i[2],c=i[3],l=o.length,f=Math.max(2,~~(r*l)),d=new Float64Array(l),h=new Float64Array(l),p=new Float64Array(l).fill(1),v=-1;++v<=2;){for(var m=[0,f-1],g=0;g<l;++g){for(var b=o[g],y=m[0],x=m[1],w=b-o[y]>o[x]-b?y:x,O=0,k=0,j=0,_=0,S=0,E=1/Math.abs(o[w]-b||1),A=y;A<=x;++A){var C=o[A],N=u[A],T=Br(Math.abs(b-C)*E)*p[A],D=C*T;O+=T,k+=D,j+=N*T,_+=N*D,S+=C*D}var I=Er(k/O,j/O,_/O,S/O),M=Object(Rn.a)(I,2),F=M[0],R=M[1];d[g]=F+R*b,h[g]=Math.abs(u[g]-d[g]),Lr(o,g+1,m)}if(2===v)break;var P=Yn(h);if(Math.abs(P)<1e-12)break;for(var z,B,L=0;L<l;++L)z=h[L]/(6*P),p[L]=z>=1?1e-12:(B=1-z*z)*B}return function(e,t,n,r){for(var a,i=e.length,o=[],u=0,s=0,c=[];u<i;++u)a=e[u]+n,c[0]===a?c[1]+=(t[u]-c[1])/++s:(s=0,c[1]+=r,c=[a,t[u]],o.push(c));return c[1]+=r,o}(o,d,s,c)}function Br(e){return(e=1-e*e*e)*e*e}function Lr(e,t,n){var r=e[t],a=n[0],i=n[1]+1;if(!(i>=e.length))for(;t>a&&e[i]-r<=r-e[a];)n[0]=++a,n[1]=i,++i}var Ur=.5*Math.PI/180;function Wr(e,t,n,r){n=n||25,r=Math.max(n,r||200);var a=function(t){return[t,e(t)]},i=t[0],o=t[1],u=o-i,s=u/r,c=[a(i)],l=[];if(n===r){for(var f=1;f<r;++f)c.push(a(i+f/n*u));return c.push(a(o)),c}l.push(a(o));for(var d=n;--d>0;)l.push(a(i+d/n*u));for(var h=c[0],p=l[l.length-1],v=1/u,m=function(e,t){for(var n=e,r=e,a=t.length,i=0;i<a;++i){var o=t[i][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}(h[1],l);p;){var g=a((h[0]+p[0])/2);g[0]-h[0]>=s&&Vr(h,g,p,v,m)>Ur?l.push(g):(h=p,c.push(p),l.pop()),p=l[l.length-1]}return c}function Vr(e,t,n,r,a){var i=Math.atan2(a*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(a*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(i-o)}var Hr=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i},Gr=n(407),qr=n(66);function Xr(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,a=String(t[0](e));r<n;++r)a+="|"+t[r](e);return a}):function(){return""};var t}function Yr(e,t,n){return n||e+(t?"_"+t:"")}var Kr=function(){},$r={init:Kr,add:Kr,rem:Kr,idx:0},Zr={values:{init:function(e){return e.cell.store=!0},value:function(e){return e.cell.data.values()},idx:-1},count:{value:function(e){return e.cell.num}},__count__:{value:function(e){return e.missing+e.valid}},missing:{value:function(e){return e.missing}},valid:{value:function(e){return e.valid}},sum:{init:function(e){return e.sum=0},value:function(e){return e.sum},add:function(e,t){return e.sum+=+t},rem:function(e,t){return e.sum-=t}},product:{init:function(e){return e.product=1},value:function(e){return e.valid?e.product:void 0},add:function(e,t){return e.product*=t},rem:function(e,t){return e.product/=t}},mean:{init:function(e){return e.mean=0},value:function(e){return e.valid?e.mean:void 0},add:function(e,t){return e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:function(e,t){return e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}},average:{value:function(e){return e.valid?e.mean:void 0},req:["mean"],idx:1},variance:{init:function(e){return e.dev=0},value:function(e){return e.valid>1?e.dev/(e.valid-1):void 0},add:function(e,t){return e.dev+=e.mean_d*(t-e.mean)},rem:function(e,t){return e.dev-=e.mean_d*(t-e.mean)},req:["mean"],idx:1},variancep:{value:function(e){return e.valid>1?e.dev/e.valid:void 0},req:["variance"],idx:2},stdev:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(e){return e.valid>1?Math.sqrt(e.dev/e.valid):void 0},req:["variance"],idx:2},stderr:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(e){return e.cell.data.distinct(e.get)},req:["values"],idx:3},ci0:{value:function(e){return e.cell.data.ci0(e.get)},req:["values"],idx:3},ci1:{value:function(e){return e.cell.data.ci1(e.get)},req:["values"],idx:3},median:{value:function(e){return e.cell.data.q2(e.get)},req:["values"],idx:3},q1:{value:function(e){return e.cell.data.q1(e.get)},req:["values"],idx:3},q3:{value:function(e){return e.cell.data.q3(e.get)},req:["values"],idx:3},min:{init:function(e){return e.min=void 0},value:function(e){return e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min},add:function(e,t){(t<e.min||void 0===e.min)&&(e.min=t)},rem:function(e,t){t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:function(e){return e.max=void 0},value:function(e){return e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max},add:function(e,t){(t>e.max||void 0===e.max)&&(e.max=t)},rem:function(e,t){t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:function(e){return e.argmin=void 0},value:function(e){return e.argmin||e.cell.data.argmin(e.get)},add:function(e,t,n){t<e.min&&(e.argmin=n)},rem:function(e,t){t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(e){return e.argmax=void 0},value:function(e){return e.argmax||e.cell.data.argmax(e.get)},add:function(e,t,n){t>e.max&&(e.argmax=n)},rem:function(e,t){t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},Jr=Object.keys(Zr);function Qr(e,t){return Zr[e](t)}function ea(e,t){return e.idx-t.idx}function ta(){var e=this;this.valid=0,this.missing=0,this._ops.forEach((function(t){return t.init(e)}))}function na(e,t){var n=this;null!=e&&""!==e?e===e&&(++this.valid,this._ops.forEach((function(r){return r.add(n,e,t)}))):++this.missing}function ra(e,t){var n=this;null!=e&&""!==e?e===e&&(--this.valid,this._ops.forEach((function(r){return r.rem(n,e,t)}))):--this.missing}function aa(e){var t=this;return this._out.forEach((function(n){return e[n.out]=n.value(t)})),e}function ia(e,t){var n=t||Pt.u,r=function(e){var t={};return e.forEach((function(e){return t[e.name]=e})),e.forEach((function e(n){n.req&&n.req.forEach((function(n){t[n]||e(t[n]=Zr[n]())}))})),Object.values(t).sort(ea)}(e),a=e.slice().sort(ea);function i(e){this._ops=r,this._out=a,this.cell=e,this.init()}return i.prototype.init=ta,i.prototype.add=na,i.prototype.rem=ra,i.prototype.set=aa,i.prototype.get=n,i.fields=e.map((function(e){return e.out})),i}function oa(e){this._key=e?Object(Pt.q)(e):qt,this.reset()}Jr.forEach((function(e){Zr[e]=function(e,t){return function(n){return Object(Pt.l)({name:e,out:n||e},$r,t)}}(e,Zr[e])}));var ua=oa.prototype;function sa(e){Tn.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}ua.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},ua.add=function(e){this._add.push(e)},ua.rem=function(e){this._rem.push(e)},ua.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,a=this._rem,i=this._key,o=r.length,u=a.length,s=Array(o-u),c={};for(e=0;e<u;++e)c[i(a[e])]=1;for(e=0,t=0;e<o;++e)c[i(n=r[e])]?c[i(n)]=0:s[t++]=n;return this._rem=[],this._add=s},ua.distinct=function(e){for(var t,n=this.values(),r={},a=n.length,i=0;--a>=0;)t=e(n[a])+"",Object(Pt.s)(r,t)||(r[t]=1,++i);return i},ua.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Object(Pt.n)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},ua.argmin=function(e){return this.extent(e)[0]||{}},ua.argmax=function(e){return this.extent(e)[1]||{}},ua.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},ua.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},ua.quartile=function(e){return this._get===e&&this._q||(this._q=Jn(this.values(),e),this._get=e),this._q},ua.q1=function(e){return this.quartile(e)[0]},ua.q2=function(e){return this.quartile(e)[1]},ua.q3=function(e){return this.quartile(e)[2]},ua.ci=function(e){return this._get===e&&this._ci||(this._ci=rr(this.values(),1e3,.05,e),this._get=e),this._ci},ua.ci0=function(e){return this.ci(e)[0]},ua.ci1=function(e){return this.ci(e)[1]},sa.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Jr},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},Object(Pt.v)(sa,Tn,{transform:function(e,t){var n=this,r=this,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return r.stamp=a.stamp,r.value&&(i||t.modified(r._inputs,!0))?(r._prev=r.value,r.value=i?r.init(e):{},t.visit(t.SOURCE,(function(e){return r.add(e)}))):(r.value=r.value||r.init(e),t.visit(t.REM,(function(e){return r.rem(e)})),t.visit(t.ADD,(function(e){return r.add(e)}))),a.modifies(r._outputs),r._drop=!1!==e.drop,e.cross&&r._dims.length>1&&(r._drop=!1,r.cross()),t.clean()&&r._drop&&a.clean(!0).runAfter((function(){return n.clean()})),r.changes(a)},cross:function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),a=n.length;function i(e){var t,i,o,u;for(t in e)for(o=e[t].tuple,i=0;i<a;++i)r[i][u=o[n[i]]]=u}i(e._prev),i(t),function i(o,u,s){var c=n[s],l=r[s++];for(var f in l){var d=o?o+"|"+f:f;u[c]=l[f],s<a?i(d,u,s):t[d]||e.cell(d,u)}}("",{},0)},init:function(e){var t=this._inputs=[],n=this._outputs=[],r={};function a(e){for(var n,a=Object(Pt.e)(Object(Pt.c)(e)),i=a.length,o=0;o<i;++o)r[n=a[o]]||(r[n]=1,t.push(n))}this._dims=Object(Pt.e)(e.groupby),this._dnames=this._dims.map((function(e){var t=Object(Pt.d)(e);return a(e),n.push(t),t})),this.cellkey=e.key?e.key:Xr(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var i,o,u,s,c,l,f=e.fields||[null],d=e.ops||["count"],h=e.as||[],p=f.length,v={};for(p!==d.length&&Object(Pt.k)("Unmatched number of fields and aggregate ops."),l=0;l<p;++l)i=f[l],o=d[l],null==i&&"count"!==o&&Object(Pt.k)("Null aggregate field specified."),c=Yr(o,s=Object(Pt.d)(i),h[l]),n.push(c),"count"!==o?((u=v[s])||(a(i),(u=v[s]=[]).field=i,this._measures.push(u)),"count"!==o&&(this._countOnly=!1),u.push(Qr(o,c))):this._counts.push(c);return this._measures=this._measures.map((function(e){return ia(e,e.field)})),{}},cellkey:Xr(),cell:function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell:function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r=this._measures,a=r.length;n.agg=Array(a);for(var i=0;i<a;++i)n.agg[i]=new r[i](n)}return n.store&&(n.data=new oa),n},newtuple:function(e,t){for(var n=this._dnames,r=this._dims,a=r.length,i={},o=0;o<a;++o)i[n[o]]=r[o](e);return t?Zt(t.tuple,i):Yt(i)},clean:function(){var e=this.value;for(var t in e)0===e[t].num&&delete e[t]},add:function(e){var t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,!this._countOnly){n.store&&n.data.add(e);for(var r=n.agg,a=0,i=r.length;a<i;++a)r[a].add(r[a].get(e),e)}},rem:function(e){var t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,!this._countOnly){n.store&&n.data.rem(e);for(var r=n.agg,a=0,i=r.length;a<i;++a)r[a].rem(r[a].get(e),e)}},celltuple:function(e){var t=e.tuple,n=this._counts;e.store&&e.data.values();for(var r=0,a=n.length;r<a;++r)t[n[r]]=e.num;if(!this._countOnly)for(var i=e.agg,o=0,u=i.length;o<u;++o)i[o].set(t);return t},changes:function(e){var t,n,r,a,i=this._adds,o=this._mods,u=this._prev,s=this._drop,c=e.add,l=e.rem,f=e.mod;if(u)for(n in u)t=u[n],s&&!t.num||l.push(t.tuple);for(r=0,a=this._alen;r<a;++r)c.push(this.celltuple(i[r])),i[r]=null;for(r=0,a=this._mlen;r<a;++r)(0===(t=o[r]).num&&s?l:f).push(this.celltuple(t)),o[r]=null;return this._alen=this._mlen=0,this._prev=null,e}});function ca(e){Tn.call(this,null,e)}function la(e,t,n){var r=e,a=t||[],i=n||[],o={},u=0;return{add:function(e){return i.push(e)},remove:function(e){return o[r(e)]=++u},size:function(){return a.length},data:function(e,t){return u&&(a=a.filter((function(e){return!o[r(e)]})),o={},u=0),t&&e&&a.sort(e),i.length&&(a=e?Object(Pt.K)(e,a,i.sort(e)):a.concat(i),i=[]),a}}}function fa(e){Tn.call(this,[],e)}function da(e){on.call(this,null,ha,e)}function ha(e){return this.value&&!e.modified()?this.value:Object(Pt.h)(e.fields,e.orders)}function pa(e){Tn.call(this,null,e)}function va(e){Tn.call(this,null,e)}ca.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},Object(Pt.v)(ca,Tn,{transform:function(e,t){var n,r=!1!==e.interval,a=this._bins(e),i=a.start,o=a.step,u=e.as||["bin0","bin1"],s=u[0],c=u[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(Pt.c)(e.field))?t.ADD_MOD:t.ADD,t.visit(n,r?function(e){var t=a(e);e[s]=t,e[c]=null==t?null:i+o*(1+(t-i)/o)}:function(e){return e[s]=a(e)}),t.modifies(r?u:s)},_bins:function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,a=er(e),i=a.step,o=a.start,u=o+Math.ceil((a.stop-o)/i)*i;null!=(t=e.anchor)&&(n=t-(o+i*Math.floor((t-o)/i)),o+=n,u+=n);var s=function(e){var t=Object(Pt.Z)(r(e));return null==t?null:t<o?-1/0:t>u?1/0:(t=Math.max(o,Math.min(t,u-i)),o+i*Math.floor(1e-14+(t-o)/i))};return s.start=o,s.stop=a.stop,s.step=i,this.value=Object(Pt.b)(s,Object(Pt.c)(r),e.name||"bin_"+Object(Pt.d)(r))}}),fa.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(Pt.v)(fa,Tn,{transform:function(e,t){var n=t.fork(t.ALL),r=la(qt,this.value,n.materialize(n.ADD).add),a=e.sort,i=t.changed()||a&&(e.modified("sort")||t.modified(a.fields));return n.visit(n.REM,r.remove),this.modified(i),this.value=n.source=r.data(Jt(a),i),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),Object(Pt.v)(da,on),pa.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},Object(Pt.v)(pa,Tn,{transform:function(e,t){var n=function(t){return function(n){for(var r,a=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(u(n),e.case,i)||[],s=0,c=a.length;s<c;++s)o.test(r=a[s])||t(r)}},r=this._parameterCheck(e,t),a=this._counts,i=this._match,o=this._stop,u=e.field,s=e.as||["text","count"],c=n((function(e){return a[e]=1+(a[e]||0)})),l=n((function(e){return a[e]-=1}));return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,l)),this._finish(t,s)},_parameterCheck:function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish:function(e,t){var n,r,a,i=this._counts,o=this._tuples||(this._tuples={}),u=t[0],s=t[1],c=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in i)r=o[n],a=i[n]||0,!r&&a?(o[n]=r=Yt({}),r[u]=n,r[s]=a,c.add.push(r)):0===a?(r&&c.rem.push(r),i[n]=null,o[n]=null):r[s]!==a&&(r[s]=a,c.mod.push(r));return c.modifies(t)}}),va.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(Pt.v)(va,Tn,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],a=r[0],i=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter"),u=this.value;return o?(u&&(n.rem=u),u=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,r){for(var a,i,o=[],u={},s=e.length,c=0;c<s;++c)for(u[t]=i=e[c],a=0;a<s;++a)u[n]=e[a],r(u)&&(o.push(Yt(u)),(u={})[t]=i);return o}(u,a,i,e.filter||Pt.db)):n.mod=u,n.source=this.value,n.modifies(r)}});var ma={kde:vr,mixture:wr,normal:pr,lognormal:xr,uniform:Sr},ga="function";function ba(e,t){var n=e.function;Object(Pt.s)(ma,n)||Object(Pt.k)("Unknown distribution function: "+n);var r=ma[n]();for(var a in e)"field"===a?r.data((e.from||t()).map(e[a])):"distributions"===a?r[a](e[a].map((function(e){return ba(e,t)}))):typeof r[a]===ga&&r[a](e[a]);return r}function ya(e){Tn.call(this,null,e)}var xa=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],wa={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:xa},{name:"weights",type:"number",array:!0}]};function Oa(e,t){return e?e.map((function(e,n){return t[n]||Object(Pt.d)(e)})):null}function ka(e,t,n){var r,a,i,o,u,s,c=[],l=function(e){return e(o)};if(null==t)c.push(e.map(n));else for(r={},a=0,i=e.length;a<i;++a)o=e[a],(s=r[u=t.map(l)])||(r[u]=s=[],s.dims=u,c.push(s)),s.push(n(o));return c}ya.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:xa.concat(wa)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(Pt.v)(ya,Tn,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=ba(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),a=e.steps||e.minsteps||25,i=e.steps||e.maxsteps||200,o=e.method||"pdf";"pdf"!==o&&"cdf"!==o&&Object(Pt.k)("Invalid density method: "+o),e.extent||r.data||Object(Pt.k)("Missing density extent parameter."),o=r[o];var u=e.as||["value","density"],s=Wr(o,e.extent||Object(Pt.m)(r.data()),a,i).map((function(e){var t={};return t[u[0]]=e[0],t[u[1]]=e[1],Yt(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n}});function ja(e){Tn.call(this,null,e)}ja.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};function _a(e){on.call(this,null,Sa,e),this.modified(!0)}function Sa(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:Object(Pt.b)((function(n){return t(n,e)}),Object(Pt.c)(t),Object(Pt.d)(t))}function Ea(e){Tn.call(this,[void 0,void 0],e)}function Aa(e,t){on.call(this,e),this.parent=t,this.count=0}function Ca(e){Tn.call(this,{},e),this._keys=Object(Pt.p)();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}function Na(e){on.call(this,null,Ta,e)}function Ta(e){return this.value&&!e.modified()?this.value:Object(Pt.x)(e.name)?Object(Pt.e)(e.name).map((function(e){return Object(Pt.q)(e)})):Object(Pt.q)(e.name,e.as)}function Da(e){Tn.call(this,Object(Pt.p)(),e)}function Ia(e){Tn.call(this,[],e)}function Ma(e){Tn.call(this,[],e)}function Fa(e){Tn.call(this,null,e)}function Ra(e){Tn.call(this,[],e)}Object(Pt.v)(ja,Tn,{transform:function(e,t){if(this.value&&!e.modified()&&!t.changed())return t;for(var n,r=t.materialize(t.SOURCE).source,a=ka(t.source,e.groupby,Pt.u),i=e.smooth||!1,o=e.field,u=e.step||function(e,t){return Object(Pt.U)(Object(Pt.m)(e,t))/30}(r,o),s=Jt((function(e,t){return o(e)-o(t)})),c=e.as||"bin",l=a.length,f=1/0,d=-1/0,h=0;h<l;++h){var p=a[h].sort(s);n=-1;var v,m=Object(Fn.a)(ar(p,u,i,o));try{for(m.s();!(v=m.n()).done;){var g=v.value;g<f&&(f=g),g>d&&(d=g),p[++n][c]=g}}catch(b){m.e(b)}finally{m.f()}}return this.value={start:f,stop:d,step:u},t.reflow(!0).modifies(c)}}),Object(Pt.v)(_a,on),Ea.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(Pt.v)(Ea,Tn,{transform:function(e,t){var n=this.value,r=e.field,a=t.changed()||t.modified(r.fields)||e.modified("field"),i=n[0],o=n[1];if((a||null==i)&&(i=1/0,o=-1/0),t.visit(a?t.SOURCE:t.ADD,(function(e){var t=Object(Pt.Z)(r(e));null!=t&&(t<i&&(i=t),t>o&&(o=t))})),!Number.isFinite(i)||!Number.isFinite(o)){var u=Object(Pt.d)(r);u&&(u=' for field "'.concat(u,'"')),t.dataflow.warn("Infinite extent".concat(u,": [").concat(i,", ").concat(o,"]")),i=o=void 0}this.value=[i,o]}}),Object(Pt.v)(Aa,on,{connect:function(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add:function(e){this.count+=1,this.value.add.push(e)},rem:function(e){this.count-=1,this.value.rem.push(e)},mod:function(e){this.value.mod.push(e)},init:function(e){this.value.init(e,e.NO_SOURCE)},evaluate:function(){return this.value}}),Object(Pt.v)(Ca,Tn,{activate:function(e){this._targets[this._targets.active++]=e},subflow:function(e,t,n,r){var a,i,o=this.value,u=Object(Pt.s)(o,e)&&o[e];return u?u.value.stamp<n.stamp&&(u.init(n),this.activate(u)):(i=r||(i=this._group[e])&&i.tuple,a=n.dataflow,u=new Aa(n.fork(n.NO_SOURCE),this),a.add(u).connect(t(a,e,i)),o[e]=u,this.activate(u)),u},clean:function(){var e=this.value,t=0;for(var n in e)if(0===e[n].count){var r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){var a=this._targets.filter((function(e){return e&&e.count>0}));this.initTargets(a)}},initTargets:function(e){for(var t=this._targets,n=t.length,r=e?e.length:0,a=0;a<r;++a)t[a]=e[a];for(;a<n&&null!=t[a];++a)t[a]=null;t.active=r},transform:function(e,t){var n=this,r=t.dataflow,a=e.key,i=e.subflow,o=this._keys,u=e.modified("key"),s=function(e){return n.subflow(e,i,t)};return this._group=e.group||{},this.initTargets(),t.visit(t.REM,(function(e){var t=qt(e),n=o.get(t);void 0!==n&&(o.delete(t),s(n).rem(e))})),t.visit(t.ADD,(function(e){var t=a(e);o.set(qt(e),t),s(t).add(e)})),u||t.modified(a.fields)?t.visit(t.MOD,(function(e){var t=qt(e),n=o.get(t),r=a(e);n===r?s(r).mod(e):(o.set(t,r),s(n).rem(e),s(r).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){s(o.get(qt(e))).mod(e)})),u&&t.visit(t.REFLOW,(function(e){var t=qt(e),n=o.get(t),r=a(e);n!==r&&(o.set(t,r),s(n).rem(e),s(r).add(e))})),t.clean()?r.runAfter((function(){n.clean(),o.clean()})):o.empty>r.cleanThreshold&&r.runAfter(o.clean),t}}),Object(Pt.v)(Na,on),Da.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(Pt.v)(Da,Tn,{transform:function(e,t){var n=t.dataflow,r=this.value,a=t.fork(),i=a.add,o=a.rem,u=a.mod,s=e.expr,c=!0;function l(t){var n=qt(t),a=s(t,e),l=r.get(n);a&&l?(r.delete(n),i.push(t)):a||l?c&&a&&!l&&u.push(t):(r.set(n,1),o.push(t))}return t.visit(t.REM,(function(e){var t=qt(e);r.has(t)?r.delete(t):o.push(e)})),t.visit(t.ADD,(function(t){s(t,e)?i.push(t):r.set(qt(t),1)})),t.visit(t.MOD,l),e.modified()&&(c=!1,t.visit(t.REFLOW,l)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),a}}),Ia.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Object(Pt.v)(Ia,Tn,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,a=Oa(r,e.as||[]),i=e.index||null,o=a.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,u,s,c=r.map((function(t){return t(e)})),l=c.reduce((function(e,t){return Math.max(e,t.length)}),0),f=0;f<l;++f){for(u=Kt(e),t=0;t<o;++t)u[a[t]]=null==(s=c[t][f])?null:s;i&&(u[i]=f),n.add.push(u)}})),this.value=n.source=n.add,i&&n.modifies(i),n.modifies(a)}}),Ma.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(Pt.v)(Ma,Tn,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,a=r.map(Pt.d),i=e.as||["key","value"],o=i[0],u=i[1],s=r.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,i=0;i<s;++i)(t=Kt(e))[o]=a[i],t[u]=r[i](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(i)}}),Fa.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(Pt.v)(Fa,Tn,{transform:function(e,t){var n=e.expr,r=e.as,a=e.modified(),i=e.initonly?t.ADD:a?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return a&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(i,(function(t){return t[r]=n(t,e)}))}}),Object(Pt.v)(Ra,Tn,{transform:function(e,t){var n,r,a,i=t.fork(t.ALL),o=e.generator,u=this.value,s=e.size-u.length;if(s>0){for(n=[];--s>=0;)n.push(a=Yt(o(e))),u.push(a);i.add=i.add.length?i.materialize(i.ADD).add.concat(n):n}else r=u.slice(0,-s),i.rem=i.rem.length?i.materialize(i.REM).rem.concat(r):r,u=u.slice(-s);return i.source=this.value=u,i}});var Pa={value:"value",median:Yn,mean:function(e,t){var n=0,r=0;if(void 0===t){var a,i=Object(Fn.a)(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;null!=o&&(o=+o)>=o&&(++n,r+=o)}}catch(f){i.e(f)}finally{i.f()}}else{var u,s=-1,c=Object(Fn.a)(e);try{for(c.s();!(u=c.n()).done;){var l=u.value;null!=(l=t(l,++s,e))&&(l=+l)>=l&&(++n,r+=l)}}catch(f){c.e(f)}finally{c.f()}}if(n)return r/n},min:Bn,max:zn},za=[];function Ba(e){Tn.call(this,[],e)}function La(e){sa.call(this,e)}function Ua(e){Tn.call(this,null,e)}function Wa(e){on.call(this,null,Va,e)}function Va(e){return this.value&&!e.modified()?this.value:Object(Pt.G)(e.fields,e.flat)}function Ha(e){Tn.call(this,[],e),this._pending=null}function Ga(e,t,n){n.forEach(Yt);var r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function qa(e){Tn.call(this,{},e)}function Xa(e){on.call(this,null,Ya,e)}function Ya(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.extents,a=r.length,i=1/0,o=-1/0;for(t=0;t<a;++t)(n=r[t])[0]<i&&(i=n[0]),n[1]>o&&(o=n[1]);return[i,o]}function Ka(e){on.call(this,null,$a,e)}function $a(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}function Za(e){Tn.call(this,null,e)}function Ja(e){sa.call(this,e)}function Qa(e){Ca.call(this,e)}function ei(e){Tn.call(this,null,e)}function ti(e){Tn.call(this,null,e)}function ni(e){Tn.call(this,null,e)}Ba.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(Pt.v)(Ba,Tn,{transform:function(e,t){var n,r,a,i,o,u,s,c,l,f,d=t.fork(t.ALL),h=function(e){var t,n=e.method||Pa.value;if(null!=Pa[n])return n===Pa.value?(t=void 0!==e.value?e.value:0,function(){return t}):Pa[n];Object(Pt.k)("Unrecognized imputation method: "+n)}(e),p=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),v=Object(Pt.d)(e.field),m=Object(Pt.d)(e.key),g=(e.groupby||[]).map(Pt.d),b=function(e,t,n,r){var a,i,o,u,s,c,l,f,d=function(e){return e(f)},h=[],p=r?r.slice():[],v={},m={};for(p.forEach((function(e,t){return v[e]=t+1})),u=0,l=e.length;u<l;++u)c=n(f=e[u]),s=v[c]||(v[c]=p.push(c)),(o=m[i=(a=t?t.map(d):za)+""])||(o=m[i]=[],h.push(o),o.values=a),o[s-1]=f;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),y=[],x=this.value,w=b.domain.length;for(o=0,c=b.length;o<c;++o)for(a=(n=b[o]).values,r=NaN,s=0;s<w;++s)if(null==n[s]){for(i=b.domain[s],f={_impute:!0},u=0,l=a.length;u<l;++u)f[g[u]]=a[u];f[m]=i,f[v]=Number.isNaN(r)?r=h(n,p):r,y.push(Yt(f))}return y.length&&(d.add=d.materialize(d.ADD).add.concat(y)),x.length&&(d.rem=d.materialize(d.REM).rem.concat(x)),this.value=y,d}}),La.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Jr},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},Object(Pt.v)(La,sa,{transform:function(e,t){var n,r=this,a=e.modified();return r.value&&(a||t.modified(r._inputs,!0))?(n=r.value=a?r.init(e):{},t.visit(t.SOURCE,(function(e){return r.add(e)}))):(n=r.value=r.value||this.init(e),t.visit(t.REM,(function(e){return r.rem(e)})),t.visit(t.ADD,(function(e){return r.add(e)}))),r.changes(),t.visit(t.SOURCE,(function(e){Object(Pt.l)(e,n[r.cellkey(e)].tuple)})),t.reflow(a).modifies(this._outputs)},changes:function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0}}),Ua.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(Pt.v)(Ua,Tn,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,a=ka(r,e.groupby,e.field),i=(e.groupby||[]).map(Pt.d),o=e.bandwidth,u=e.cumulative?"cdf":"pdf",s=e.as||["value","density"],c=[],l=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;"pdf"!==u&&"cdf"!==u&&Object(Pt.k)("Invalid density method: "+u),"shared"===e.resolve&&(l||(l=Object(Pt.m)(r,e.field)),f=d=e.steps||d),a.forEach((function(t){var n=vr(t,o)[u],r=e.counts?t.length:1;Wr(n,l||Object(Pt.m)(t),f,d).forEach((function(e){for(var n={},a=0;a<i.length;++a)n[i[a]]=t.dims[a];n[s[0]]=e[0],n[s[1]]=e[1]*r,c.push(Yt(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}}),Object(Pt.v)(Wa,on),Object(Pt.v)(Ha,Tn,{transform:function(e,t){var n=this,r=t.dataflow;if(this._pending)return Ga(this,t,this._pending);if(function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e))return t.StopPropagation;if(e.values)return Ga(this,t,r.parse(e.values,e.format));if(e.async){var a=r.request(e.url,e.format).then((function(e){return n._pending=Object(Pt.e)(e.data),function(e){return e.touch(n)}}));return{async:a}}return r.request(e.url,e.format).then((function(e){return Ga(n,t,Object(Pt.e)(e.data))}))}}),qa.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(Pt.v)(qa,Tn,{transform:function(e,t){var n,r,a=e.fields,i=e.index,o=e.values,u=null==e.default?null:e.default,s=e.modified(),c=a.length,l=s?t.SOURCE:t.ADD,f=t,d=e.as;return o?(r=o.length,c>1&&!d&&Object(Pt.k)('Multi-field lookup requires explicit "as" parameter.'),d&&d.length!==c*r&&Object(Pt.k)('The "as" parameter has too few output field names.'),d=d||o.map(Pt.d),n=function(e){for(var t,n,s=0,l=0;s<c;++s)if(null==(n=i.get(a[s](e))))for(t=0;t<r;++t,++l)e[d[l]]=u;else for(t=0;t<r;++t,++l)e[d[l]]=o[t](n)}):(d||Object(Pt.k)("Missing output field names."),n=function(e){for(var t,n=0;n<c;++n)t=i.get(a[n](e)),e[d[n]]=null==t?u:t}),s?f=t.reflow(!0):l|=a.some((function(e){return t.modified(e.fields)}))?t.MOD:0,t.visit(l,n),f.modifies(d)}}),Object(Pt.v)(Xa,on),Object(Pt.v)(Ka,on),Object(Pt.v)(Za,Tn,{transform:function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Ja.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Jr,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},Object(Pt.v)(Ja,sa,{_transform:sa.prototype.transform,transform:function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,a=("count"===e.op?"__count__":e.op)||"sum",i=Object(Pt.c)(n).concat(Object(Pt.c)(r)),o=function(e,t,n){var r={},a=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,a.push(n))})),a.sort(Pt.f),t?a.slice(0,t):a}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:o.map((function(){return a})),fields:o.map((function(e){return function(e,t,n,r){return Object(Pt.b)((function(r){return t(r)===e?n(r):NaN}),r,e+"")}(e,n,r,i)})),as:o.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)}}),Object(Pt.v)(Qa,Ca,{transform:function(e,t){var n=this,r=e.subflow,a=e.field,i=function(e){return n.subflow(qt(e),r,t,e)};return(e.modified("field")||a&&t.modified(Object(Pt.c)(a)))&&Object(Pt.k)("PreFacet does not support field modification."),this.initTargets(),a?(t.visit(t.MOD,(function(e){var t=i(e);a(e).forEach((function(e){return t.mod(e)}))})),t.visit(t.ADD,(function(e){var t=i(e);a(e).forEach((function(e){return t.add(Yt(e))}))})),t.visit(t.REM,(function(e){var t=i(e);a(e).forEach((function(e){return t.rem(e)}))}))):(t.visit(t.MOD,(function(e){return i(e).mod(e)})),t.visit(t.ADD,(function(e){return i(e).add(e)})),t.visit(t.REM,(function(e){return i(e).rem(e)}))),t.clean()&&t.runAfter((function(){return n.clean()})),t}}),ei.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(Pt.v)(ei,Tn,{transform:function(e,t){var n,r=t.fork(t.NO_SOURCE),a=e.fields,i=Oa(e.fields,e.as||[]),o=a?function(e,t){return function(e,t,n,r){for(var a=0,i=n.length;a<i;++a)t[r[a]]=n[a](e);return t}(e,t,a,i)}:$t;return this.value?n=this.value:(t=t.addAll(),n=this.value={}),t.visit(t.REM,(function(e){var t=qt(e);r.rem.push(n[t]),n[t]=null})),t.visit(t.ADD,(function(e){var t=o(e,Yt({}));n[qt(e)]=t,r.add.push(t)})),t.visit(t.MOD,(function(e){r.mod.push(o(e,n[qt(e)]))})),r}}),Object(Pt.v)(ti,Tn,{transform:function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),ni.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};function ri(e){Tn.call(this,null,e)}function ai(e){Tn.call(this,[],e),this.count=0}function ii(e){Tn.call(this,null,e)}function oi(e){Tn.call(this,null,e),this.modified(!0)}function ui(e){Tn.call(this,null,e)}Object(Pt.v)(ni,Tn,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;var a=ka(t.materialize(t.SOURCE).source,e.groupby,e.field),i=(e.groupby||[]).map(Pt.d),o=[],u=e.step||.01,s=e.probs||Hr(u/2,1-1e-14,u),c=s.length;return a.forEach((function(e){for(var t=Zn(e,s),n=0;n<c;++n){for(var a={},u=0;u<i.length;++u)a[i[u]]=e.dims[u];a[r[0]]=s[n],a[r[1]]=t[n],o.push(Yt(a))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=o,n}}),Object(Pt.v)(ri,Tn,{transform:function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=qt(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=Kt(e);r[qt(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){var t=r[qt(e)];for(var a in e)t[a]=e[a],n.modifies(a);n.mod.push(t)}))),n}}),ai.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(Pt.v)(ai,Tn,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.modified("size"),a=e.size,i=this.value.reduce((function(e,t){return e[qt(t)]=1,e}),{}),o=this.value,u=this.count,s=0;function c(e){var t,r;o.length<a?o.push(e):(r=~~((u+1)*tr()))<o.length&&r>=s&&(t=o[r],i[qt(t)]&&n.rem.push(t),o[r]=e),++u}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=qt(e);i[t]&&(i[t]=-1,n.rem.push(e)),--u})),o=o.filter((function(e){return-1!==i[qt(e)]}))),(t.rem.length||r)&&o.length<a&&t.source&&(s=u=o.length,t.visit(t.SOURCE,(function(e){i[qt(e)]||c(e)})),s=-1),r&&o.length>a){for(var l=o.length-a,f=0;f<l;++f)i[qt(o[f])]=-1,n.rem.push(o[f]);o=o.slice(l)}return t.mod.length&&t.visit(t.MOD,(function(e){i[qt(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,c),(t.add.length||s<0)&&(n.add=o.filter((function(e){return!i[qt(e)]}))),this.count=u,this.value=n.source=o,n}}),ii.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(Pt.v)(ii,Tn,{transform:function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Hr(e.start,e.stop,e.step||1).map((function(e){var t={};return t[r]=e,Yt(t)})),n.add=t.add.concat(this.value),n}}}),Object(Pt.v)(oi,Tn,{transform:function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});var si=["unit0","unit1"];function ci(e){Tn.call(this,Object(Pt.p)(),e)}function li(e){Tn.call(this,null,e)}ui.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:qr.j,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:si}]},Object(Pt.v)(ui,Tn,{transform:function(e,t){var n=e.field,r=!1!==e.interval,a="utc"===e.timezone,i=this._floor(e,t),o=(a?qr.v:qr.p)(i.unit).offset,u=e.as||si,s=u[0],c=u[1],l=i.step,f=i.start||1/0,d=i.stop||-1/0,h=t.ADD;return(e.modified()||t.modified(Object(Pt.c)(n)))&&(h=(t=t.reflow(!0)).SOURCE,f=1/0,d=-1/0),t.visit(h,(function(e){var t,a,u=n(e);null==u?(e[s]=null,r&&(e[c]=null)):(e[s]=t=a=i(u),r&&(e[c]=a=o(t,l)),t<f&&(f=t),a>d&&(d=a))})),i.start=f,i.stop=d,t.modifies(r?u:s)},_floor:function(e,t){var n="utc"===e.timezone,r=e.units?{units:e.units,step:e.step||1}:Object(qr.n)({extent:e.extent||Object(Pt.m)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),a=r.units,i=r.step,o=Object(qr.t)(a),u=this.value||{},s=(n?qr.u:qr.o)(o,i);return s.unit=Object(Pt.S)(o),s.units=o,s.step=i,s.start=u.start,s.stop=u.stop,this.value=s}}),Object(Pt.v)(ci,Tn,{transform:function(e,t){var n=t.dataflow,r=e.field,a=this.value,i=function(e){return a.set(r(e),e)},o=!0;return e.modified("field")||t.modified(r.fields)?(a.clear(),t.visit(t.SOURCE,i)):t.changed()?(t.visit(t.REM,(function(e){return a.delete(r(e))})),t.visit(t.ADD,i)):o=!1,this.modified(o),a.empty>n.cleanThreshold&&n.runAfter(a.clean),t.fork()}}),Object(Pt.v)(li,Tn,{transform:function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Jt(e.sort)):t.source).map(e.field))}});var fi={row_number:function(){return{next:function(e){return e.index+1}}},rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=fi.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){return e=0},next:function(t){var n=t.data,r=t.compare,a=t.index;if(e<a){for(;a+1<n.length&&!r(n[a],n[a+1]);)++a;e=a}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||Object(Pt.k)("ntile num must be greater than zero.");var n=fi.cume_dist(),r=n.next;return{init:n.init,next:function(e){return Math.ceil(t*r(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,a=n.data;return r<a.length?e(a[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return(t=+t)>0||Object(Pt.k)("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){var t;return{init:function(){return t=null},next:function(n){var r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){var t,n;return{init:function(){return t=null,n=-1},next:function(r){var a=r.data;return r.index<=n?t:(n=function(e,t,n){for(var r=t.length;n<r;++n){if(null!=e(t[n]))return n}return-1}(e,a,r.index))<0?(n=a.length,t=null):t=e(a[n])}}}};var di=Object.keys(fi);function hi(e){var t=Object(Pt.e)(e.ops),n=Object(Pt.e)(e.fields),r=Object(Pt.e)(e.params),a=Object(Pt.e)(e.as),i=this.outputs=[],o=this.windows=[],u={},s={},c=[],l=[],f=!0;function d(e){Object(Pt.e)(Object(Pt.c)(e)).forEach((function(e){return u[e]=1}))}d(e.sort),t.forEach((function(e,t){var u=n[t],h=Object(Pt.d)(u),p=Yr(e,h,a[t]);if(d(u),i.push(p),Object(Pt.s)(fi,e))o.push(function(e,t,n,r){var a=fi[e](t,n);return{init:a.init||Pt.gb,update:function(e,t){t[r]=a.next(e)}}}(e,n[t],r[t],p));else{if(null==u&&"count"!==e&&Object(Pt.k)("Null aggregate field specified."),"count"===e)return void c.push(p);f=!1;var v=s[h];v||((v=s[h]=[]).field=u,l.push(v)),v.push(Qr(e,p))}})),(c.length||l.length)&&(this.cell=function(e,t,n){e=e.map((function(e){return ia(e,e.field)}));var r={num:0,agg:null,store:!1,count:t};if(!n)for(var a=e.length,i=r.agg=Array(a),o=0;o<a;++o)i[o]=new e[o](r);if(r.store)var u=r.data=new oa;return r.add=function(e){if(r.num+=1,!n){u&&u.add(e);for(var t=0;t<a;++t)i[t].add(i[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){u&&u.rem(e);for(var t=0;t<a;++t)i[t].rem(i[t].get(e),e)}},r.set=function(e){var a,o;for(u&&u.values(),a=0,o=t.length;a<o;++a)e[t[a]]=r.num;if(!n)for(a=0,o=i.length;a<o;++a)i[a].set(e)},r.init=function(){r.num=0,u&&u.reset();for(var e=0;e<a;++e)i[e].init()},r}(l,c,f)),this.inputs=Object.keys(u)}var pi=hi.prototype;function vi(e){Tn.call(this,{},e),this._mlen=0,this._mods=[]}function mi(e,t,n,r){var a=r.sort,i=a&&!r.ignorePeers,o=r.frame||[null,0],u=e.data(n),s=u.length,c=i?Object(Gr.a)(a):null,l={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:a||Object(Pt.i)(-1)};t.init();for(var f=0;f<s;++f)gi(l,o,f,s),i&&bi(l,c),t.update(l,u[f])}function gi(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function bi(e,t){var n=e.i0,r=e.i1-1,a=e.compare,i=e.data,o=i.length-1;n>0&&!a(i[n],i[n-1])&&(e.i0=t.left(i,i[n])),r<o&&!a(i[r],i[r+1])&&(e.i1=t.right(i,i[r]))}pi.init=function(){this.windows.forEach((function(e){return e.init()})),this.cell&&this.cell.init()},pi.update=function(e,t){var n,r=this.cell,a=this.windows,i=e.data,o=a&&a.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(i[n]);for(n=e.p1;n<e.i1;++n)r.add(i[n]);r.set(t)}for(n=0;n<o;++n)a[n].update(e,t)},vi.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:di.concat(Jr)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},Object(Pt.v)(vi,Tn,{transform:function(e,t){var n=this;this.stamp=t.stamp;var r=e.modified(),a=Jt(e.sort),i=Xr(e.groupby),o=function(e){return n.group(i(e))},u=this.state;u&&!r||(u=this.state=new hi(e)),r||t.modified(u.inputs)?(this.value={},t.visit(t.SOURCE,(function(e){return o(e).add(e)}))):(t.visit(t.REM,(function(e){return o(e).remove(e)})),t.visit(t.ADD,(function(e){return o(e).add(e)})));for(var s=0,c=this._mlen;s<c;++s)mi(this._mods[s],u,a,e);return this._mlen=0,this._mods=[],t.reflow(r).modifies(u.outputs)},group:function(e){var t=this.value[e];return t||(t=this.value[e]=la(qt),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});var yi=n(16),xi=n(15);function wi(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Oi(e){this._context=e}Oi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var ki=function(){};function ji(e){this._context=e}ji.prototype={areaStart:ki,areaEnd:ki,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _i(e){this._context=e}_i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:wi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Si(e,t){this._basis=new Oi(e),this._beta=t}Si.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,a=e[0],i=t[0],o=e[n]-a,u=t[n]-i,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(a+r*o),this._beta*t[s]+(1-this._beta)*(i+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Ei=function e(t){function n(e){return 1===t?new Oi(e):new Si(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Ai(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Ci(e,t){this._context=e,this._k=(1-t)/6}Ci.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ai(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ai(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ni=function e(t){function n(e){return new Ci(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ti(e,t){this._context=e,this._k=(1-t)/6}Ti.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ai(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Di=function e(t){function n(e){return new Ti(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ii(e,t){this._context=e,this._k=(1-t)/6}Ii.prototype={areaStart:ki,areaEnd:ki,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ai(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Mi=function e(t){function n(e){return new Ii(e,t)}return n.tension=function(t){return e(+t)},n}(0),Fi=Math.abs,Ri=Math.atan2,Pi=Math.cos,zi=Math.max,Bi=Math.min,Li=Math.sin,Ui=Math.sqrt,Wi=1e-12,Vi=Math.PI,Hi=Vi/2,Gi=2*Vi;function qi(e){return e>1?0:e<-1?Vi:Math.acos(e)}function Xi(e){return e>=1?Hi:e<=-1?-Hi:Math.asin(e)}function Yi(e,t,n){var r=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>Wi){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>Wi){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*c+e._x1*e._l23_2a-t*e._l12_2a)/l,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,a,i,o,e._x2,e._y2)}function Ki(e,t){this._context=e,this._alpha=t}Ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Yi(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var $i=function e(t){function n(e){return t?new Ki(e,t):new Ci(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Zi(e,t){this._context=e,this._alpha=t}Zi.prototype={areaStart:ki,areaEnd:ki,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Yi(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ji=function e(t){function n(e){return t?new Zi(e,t):new Ii(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Qi(e,t){this._context=e,this._alpha=t}Qi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yi(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var eo=function e(t){function n(e){return t?new Qi(e,t):new Ti(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function to(e){this._context=e}to.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var no=function(e){return new to(e)};function ro(e){this._context=e}ro.prototype={areaStart:ki,areaEnd:ki,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ao(e){return e<0?-1:1}function io(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),u=(i*a+o*r)/(r+a);return(ao(i)+ao(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function oo(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function uo(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,u=(i-r)/3;e._context.bezierCurveTo(r+u,a+u*t,i-u,o-u*n,i,o)}function so(e){this._context=e}function co(e){this._context=new lo(e)}function lo(e){this._context=e}function fo(e){this._context=e}function ho(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}so.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uo(this,this._t0,oo(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,uo(this,oo(this,n=io(this,e,t)),n);break;default:uo(this,this._t0,n=io(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(co.prototype=Object.create(so.prototype)).point=function(e,t){so.prototype.point.call(this,t,e)},lo.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},fo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=ho(e),a=ho(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function po(e,t){this._context=e,this._t=t}po.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var vo=Math.PI,mo=2*vo,go=1e-6,bo=mo-go;function yo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function xo(){return new yo}yo.prototype=xo.prototype={constructor:yo,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,u=n-e,s=r-t,c=i-e,l=o-t,f=c*c+l*l;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>go)if(Math.abs(l*u-s*c)>go&&a){var d=n-i,h=r-o,p=u*u+s*s,v=d*d+h*h,m=Math.sqrt(p),g=Math.sqrt(f),b=a*Math.tan((vo-Math.acos((p+f-v)/(2*m*g)))/2),y=b/g,x=b/m;Math.abs(y-1)>go&&(this._+="L"+(e+y*c)+","+(t+y*l)),this._+="A"+a+","+a+",0,0,"+ +(l*d>c*h)+","+(this._x1=e+x*u)+","+(this._y1=t+x*s)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,a,i){e=+e,t=+t,i=!!i;var o=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=e+o,c=t+u,l=1^i,f=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>go||Math.abs(this._y1-c)>go)&&(this._+="L"+s+","+c),n&&(f<0&&(f=f%mo+mo),f>bo?this._+="A"+n+","+n+",0,1,"+l+","+(e-o)+","+(t-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>go&&(this._+="A"+n+","+n+",0,"+ +(f>=vo)+","+l+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var wo=xo,Oo=function(e){return function(){return e}};function ko(e){return e.innerRadius}function jo(e){return e.outerRadius}function _o(e){return e.startAngle}function So(e){return e.endAngle}function Eo(e){return e&&e.padAngle}function Ao(e,t,n,r,a,i,o,u){var s=n-e,c=r-t,l=o-a,f=u-i,d=f*s-l*c;if(!(d*d<Wi))return[e+(d=(l*(t-i)-f*(e-a))/d)*s,t+d*c]}function Co(e,t,n,r,a,i,o){var u=e-n,s=t-r,c=(o?i:-i)/Ui(u*u+s*s),l=c*s,f=-c*u,d=e+l,h=t+f,p=n+l,v=r+f,m=(d+p)/2,g=(h+v)/2,b=p-d,y=v-h,x=b*b+y*y,w=a-i,O=d*v-p*h,k=(y<0?-1:1)*Ui(zi(0,w*w*x-O*O)),j=(O*y-b*k)/x,_=(-O*b-y*k)/x,S=(O*y+b*k)/x,E=(-O*b+y*k)/x,A=j-m,C=_-g,N=S-m,T=E-g;return A*A+C*C>N*N+T*T&&(j=S,_=E),{cx:j,cy:_,x01:-l,y01:-f,x11:j*(a/w-1),y11:_*(a/w-1)}}Array.prototype.slice;var No=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)};function To(e){return e[0]}function Do(e){return e[1]}var Io=function(e,t){var n=Oo(!0),r=null,a=no,i=null;function o(o){var u,s,c,l=(o=No(o)).length,f=!1;for(null==r&&(i=a(c=wo())),u=0;u<=l;++u)!(u<l&&n(s=o[u],u,o))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(s,u,o),+t(s,u,o));if(c)return i=null,c+""||null}return e="function"===typeof e?e:void 0===e?To:Oo(e),t="function"===typeof t?t:void 0===t?Do:Oo(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:Oo(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:Oo(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:Oo(!!e),o):n},o.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),o):r},o},Mo=function(e,t,n){var r=null,a=Oo(!0),i=null,o=no,u=null;function s(s){var c,l,f,d,h,p=(s=No(s)).length,v=!1,m=new Array(p),g=new Array(p);for(null==i&&(u=o(h=wo())),c=0;c<=p;++c){if(!(c<p&&a(d=s[c],c,s))===v)if(v=!v)l=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=c-1;f>=l;--f)u.point(m[f],g[f]);u.lineEnd(),u.areaEnd()}v&&(m[c]=+e(d,c,s),g[c]=+t(d,c,s),u.point(r?+r(d,c,s):m[c],n?+n(d,c,s):g[c]))}if(h)return u=null,h+""||null}function c(){return Io().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?To:Oo(+e),t="function"===typeof t?t:Oo(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?Do:Oo(+n),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Oo(+t),r=null,s):e},s.x0=function(t){return arguments.length?(e="function"===typeof t?t:Oo(+t),s):e},s.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Oo(+e),s):r},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Oo(+e),n=null,s):t},s.y0=function(e){return arguments.length?(t="function"===typeof e?e:Oo(+e),s):t},s.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Oo(+e),s):n},s.lineX0=s.lineY0=function(){return c().x(e).y(t)},s.lineY1=function(){return c().x(e).y(n)},s.lineX1=function(){return c().x(r).y(t)},s.defined=function(e){return arguments.length?(a="function"===typeof e?e:Oo(!!e),s):a},s.curve=function(e){return arguments.length?(o=e,null!=i&&(u=o(i)),s):o},s.context=function(e){return arguments.length?(null==e?i=u=null:u=o(i=e),s):i},s},Fo={draw:function(e,t){var n=Math.sqrt(t/Vi);e.moveTo(n,0),e.arc(0,0,n,0,Gi)}},Ro=(Math.sqrt(1/3),Math.sin(Vi/10)/Math.sin(7*Vi/10));Math.sin(Gi/10),Math.cos(Gi/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function Po(e,t){if("undefined"!==typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}var zo=function(){return"undefined"!==typeof Image?Image:null},Bo=Object(Gr.a)(Pn.a),Lo=Bo.right,Uo=Bo.left,Wo=(Object(Gr.a)(Vn).center,Lo);function Vo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Ho(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}var Go=Symbol("implicit");function qo(){var e=new Map,t=[],n=[],r=Go;function a(a){var i=a+"",o=e.get(i);if(!o){if(r!==Go)return r;e.set(i,o=t.push(a))}return n[(o-1)%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,i=Object(Fn.a)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,u=o+"";e.has(u)||e.set(u,t.push(o))}}catch(s){i.e(s)}finally{i.f()}return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return qo(t,n).unknown(r)},Vo.apply(a,arguments),a}var Xo=n(470),Yo=n(303),Ko=n(925),$o=n(633),Zo=n(926),Jo=n(927);function Qo(e,t,n,r){var a,i=Object(Xo.c)(e,t,n);switch((r=Object(Yo.a)(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=Object(Ko.a)(i,o))||(r.precision=a),Object($o.b)(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=Object(Zo.a)(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=Object(Jo.a)(i))||(r.precision=a-2*("%"===r.type))}return Object($o.a)(r)}var eu=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function tu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nu(){}var ru=.7,au=1/ru,iu="\\s*([+-]?\\d+)\\s*",ou="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",uu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",su=/^#([0-9a-f]{3,8})$/,cu=new RegExp("^rgb\\("+[iu,iu,iu]+"\\)$"),lu=new RegExp("^rgb\\("+[uu,uu,uu]+"\\)$"),fu=new RegExp("^rgba\\("+[iu,iu,iu,ou]+"\\)$"),du=new RegExp("^rgba\\("+[uu,uu,uu,ou]+"\\)$"),hu=new RegExp("^hsl\\("+[ou,uu,uu]+"\\)$"),pu=new RegExp("^hsla\\("+[ou,uu,uu,ou]+"\\)$"),vu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function mu(){return this.rgb().formatHex()}function gu(){return this.rgb().formatRgb()}function bu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=su.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?yu(t):3===n?new ku(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?xu(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?xu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=cu.exec(e))?new ku(t[1],t[2],t[3],1):(t=lu.exec(e))?new ku(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=fu.exec(e))?xu(t[1],t[2],t[3],t[4]):(t=du.exec(e))?xu(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=hu.exec(e))?Eu(t[1],t[2]/100,t[3]/100,1):(t=pu.exec(e))?Eu(t[1],t[2]/100,t[3]/100,t[4]):vu.hasOwnProperty(e)?yu(vu[e]):"transparent"===e?new ku(NaN,NaN,NaN,0):null}function yu(e){return new ku(e>>16&255,e>>8&255,255&e,1)}function xu(e,t,n,r){return r<=0&&(e=t=n=NaN),new ku(e,t,n,r)}function wu(e){return e instanceof nu||(e=bu(e)),e?new ku((e=e.rgb()).r,e.g,e.b,e.opacity):new ku}function Ou(e,t,n,r){return 1===arguments.length?wu(e):new ku(e,t,n,null==r?1:r)}function ku(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ju(){return"#"+Su(this.r)+Su(this.g)+Su(this.b)}function _u(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Su(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Eu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Nu(e,t,n,r)}function Au(e){if(e instanceof Nu)return new Nu(e.h,e.s,e.l,e.opacity);if(e instanceof nu||(e=bu(e)),!e)return new Nu;if(e instanceof Nu)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,u=i-a,s=(i+a)/2;return u?(o=t===i?(n-r)/u+6*(n<r):n===i?(r-t)/u+2:(t-n)/u+4,u/=s<.5?i+a:2-i-a,o*=60):u=s>0&&s<1?0:o,new Nu(o,u,s,e.opacity)}function Cu(e,t,n,r){return 1===arguments.length?Au(e):new Nu(e,t,n,null==r?1:r)}function Nu(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Tu(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Du(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}eu(nu,bu,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:mu,formatHex:mu,formatHsl:function(){return Au(this).formatHsl()},formatRgb:gu,toString:gu}),eu(ku,Ou,tu(nu,{brighter:function(e){return e=null==e?au:Math.pow(au,e),new ku(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?ru:Math.pow(ru,e),new ku(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ju,formatHex:ju,formatRgb:_u,toString:_u})),eu(Nu,Cu,tu(nu,{brighter:function(e){return e=null==e?au:Math.pow(au,e),new Nu(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ru:Math.pow(ru,e),new Nu(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ku(Tu(e>=240?e-240:e+120,a,r),Tu(e,a,r),Tu(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Iu=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,u=r<t-1?e[r+2]:2*i-a;return Du((n-r/t)*t,o,a,i,u)}},Mu=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],u=e[(r+2)%t];return Du((n-r/t)*t,a,i,o,u)}},Fu=function(e){return function(){return e}};function Ru(e,t){return function(n){return e+n*t}}function Pu(e,t){var n=t-e;return n?Ru(e,n>180||n<-180?n-360*Math.round(n/360):n):Fu(isNaN(e)?t:e)}function zu(e){return 1===(e=+e)?Bu:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Fu(isNaN(t)?n:t)}}function Bu(e,t){var n=t-e;return n?Ru(e,n):Fu(isNaN(e)?t:e)}var Lu=function e(t){var n=zu(t);function r(e,t){var r=n((e=Ou(e)).r,(t=Ou(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=Bu(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Uu(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),u=new Array(a);for(n=0;n<a;++n)r=Ou(t[n]),i[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return i=e(i),o=e(o),u=e(u),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=u(e),r+""}}}var Wu=Uu(Iu),Vu=Uu(Mu),Hu=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}};function Gu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var qu=function(e,t){return(Gu(t)?Hu:Xu)(e,t)};function Xu(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=es(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}var Yu=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},Ku=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},$u=function(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=es(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}},Zu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ju=new RegExp(Zu.source,"g");var Qu=function(e,t){var n,r,a,i=Zu.lastIndex=Ju.lastIndex=0,o=-1,u=[],s=[];for(e+="",t+="";(n=Zu.exec(e))&&(r=Ju.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:Ku(n,r)})),i=Ju.lastIndex;return i<t.length&&(a=t.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})},es=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?Fu(t):("number"===r?Ku:"string"===r?(n=bu(t))?(t=n,Lu):Qu:t instanceof bu?Lu:t instanceof Date?Yu:Gu(t)?Hu:Array.isArray(t)?Xu:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?$u:Ku)(e,t)},ts=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}};function ns(e){return+e}var rs=[0,1];function as(e){return e}function is(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function os(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=is(a,r),i=n(o,i)):(r=is(r,a),i=n(i,o)),function(e){return i(r(e))}}function us(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=is(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(t){var n=Wo(e,t,1,r)-1;return i[n](a[n](t))}}function ss(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cs(){var e,t,n,r,a,i,o=rs,u=rs,s=es,c=as;function l(){var e=Math.min(o.length,u.length);return c!==as&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?us:os,a=i=null,f}function f(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),u,s)))(e(c(t)))}return f.invert=function(n){return c(t((i||(i=r(u,o.map(e),Ku)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,ns),l()):o.slice()},f.range=function(e){return arguments.length?(u=Array.from(e),l()):u.slice()},f.rangeRound=function(e){return u=Array.from(e),s=ts,l()},f.clamp=function(e){return arguments.length?(c=!!e||as,l()):c!==as},f.interpolate=function(e){return arguments.length?(s=e,l()):s},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}function ls(){return cs()(as,as)}function fs(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(Xo.a)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Qo(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),o=0,u=i.length-1,s=i[o],c=i[u],l=10;for(c<s&&(a=s,s=c,c=a,a=o,o=u,u=a);l-- >0;){if((a=Object(Xo.b)(s,c,n))===r)return i[o]=s,i[u]=c,t(i);if(a>0)s=Math.floor(s/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;s=Math.ceil(s*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function ds(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function hs(e){return Math.log(e)}function ps(e){return Math.exp(e)}function vs(e){return-Math.log(-e)}function ms(e){return-Math.exp(-e)}function gs(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bs(e){return function(t){return-e(-t)}}function ys(e){var t,n,r=e(hs,ps),a=r.domain,i=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(i),n=function(e){return 10===e?gs:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(i),a()[0]<0?(t=bs(t),n=bs(n),e(vs,ms)):e(hs,ps),r}return r.base=function(e){return arguments.length?(i=+e,o()):i},r.domain=function(e){return arguments.length?(a(e),o()):a()},r.ticks=function(e){var r,o=a(),u=o[0],s=o[o.length-1];(r=s<u)&&(d=u,u=s,s=d);var c,l,f,d=t(u),h=t(s),p=null==e?10:+e,v=[];if(!(i%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(l=1,c=n(d);l<i;++l)if(!((f=c*l)<u)){if(f>s)break;v.push(f)}}else for(;d<=h;++d)for(l=i-1,c=n(d);l>=1;--l)if(!((f=c*l)<u)){if(f>s)break;v.push(f)}2*v.length<p&&(v=Object(Xo.a)(u,s,p))}else v=Object(Xo.a)(d,h,Math.min(h-d,p)).map(n);return r?v.reverse():v},r.tickFormat=function(e,a){if(null==a&&(a=10===i?".0e":","),"function"!==typeof a&&(a=Object($o.a)(a)),e===1/0)return a;null==e&&(e=10);var o=Math.max(1,i*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*i<i-.5&&(r*=i),r<=o?a(e):""}},r.nice=function(){return a(ds(a(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function xs(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ws(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Os(e){return e<0?-e*e:e*e}function ks(e){var t=e(as,as),n=1;function r(){return 1===n?e(as,as):.5===n?e(ws,Os):e(xs(n),xs(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},fs(t)}function js(){var e=ks(cs());return e.copy=function(){return ss(e,js()).exponent(e.exponent())},Vo.apply(e,arguments),e}function _s(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ss(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Es(e){var t=1,n=e(_s(t),Ss(t));return n.constant=function(n){return arguments.length?e(_s(t=+n),Ss(t)):t},fs(n)}var As=n(62),Cs=n(405),Ns=n(226),Ts=n(462),Ds=n(461),Is=n(205),Ms=n(129),Fs=n(404),Rs=n(207),Ps=n(464),zs=n(463),Bs=n(206),Ls=n(130),Us=n(406),Ws=n(208);function Vs(e,t,n,r,a,i){var o=[[Ns.a,1,As.e],[Ns.a,5,5*As.e],[Ns.a,15,15*As.e],[Ns.a,30,30*As.e],[i,1,As.c],[i,5,5*As.c],[i,15,15*As.c],[i,30,30*As.c],[a,1,As.b],[a,3,3*As.b],[a,6,6*As.b],[a,12,12*As.b],[r,1,As.a],[r,2,2*As.a],[n,1,As.f],[t,1,As.d],[t,3,3*As.d],[e,1,As.g]];function u(t,n,r){var a=Math.abs(n-t)/r,i=Object(Gr.a)((function(e){return Object(Rn.a)(e,3)[2]})).right(o,a);if(i===o.length)return e.every(Object(Xo.c)(t/As.g,n/As.g,r));if(0===i)return Cs.a.every(Math.max(Object(Xo.c)(t,n,r),1));var u=Object(Rn.a)(o[a/o[i-1][2]<o[i][2]/a?i-1:i],2),s=u[0],c=u[1];return s.every(c)}return[function(e,t,n){var r=t<e;if(r){var a=[t,e];e=a[0],t=a[1]}var i=n&&"function"===typeof n.range?n:u(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},u]}var Hs=Vs(Ws.a,Us.a,Ls.b,Bs.a,zs.a,Ps.a),Gs=Object(Rn.a)(Hs,2),qs=Gs[0],Xs=Gs[1],Ys=Vs(Rs.a,Fs.a,Ms.b,Is.a,Ds.a,Ts.a),Ks=Object(Rn.a)(Ys,2),$s=Ks[0],Zs=Ks[1],Js=n(408);function Qs(e){return new Date(e)}function ec(e){return e instanceof Date?+e:+new Date(+e)}function tc(e,t,n,r,a,i,o,u,s,c){var l=ls(),f=l.invert,d=l.domain,h=c(".%L"),p=c(":%S"),v=c("%I:%M"),m=c("%I %p"),g=c("%a %d"),b=c("%b %d"),y=c("%B"),x=c("%Y");function w(e){return(s(e)<e?h:u(e)<e?p:o(e)<e?v:i(e)<e?m:r(e)<e?a(e)<e?g:b:n(e)<e?y:x)(e)}return l.invert=function(e){return new Date(f(e))},l.domain=function(e){return arguments.length?d(Array.from(e,ec)):d().map(Qs)},l.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(e,t){return null==t?w:c(t)},l.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(ds(n,e)):l},l.copy=function(){return ss(l,tc(e,t,n,r,a,i,o,u,s,c))},l}function nc(){var e,t,n,r,a,i=0,o=1,u=as,s=!1;function c(t){return null==t||isNaN(t=+t)?a:u(0===n?.5:(t=(r(t)-e)*n,s?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r,a,i;return arguments.length?(n=t,a=(r=Object(Rn.a)(n,2))[0],i=r[1],u=e(a,i),c):[u(0),u(1)]}}return c.domain=function(a){var u,s;return arguments.length?(u=a,s=Object(Rn.a)(u,2),i=s[0],o=s[1],e=r(i=+i),t=r(o=+o),n=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(s=!!e,c):s},c.interpolator=function(e){return arguments.length?(u=e,c):u},c.range=l(es),c.rangeRound=l(ts),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(o),n=e===t?0:1/(t-e),c}}function rc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ac(){var e=fs(nc()(as));return e.copy=function(){return rc(e,ac())},Ho.apply(e,arguments)}function ic(){var e=ks(nc());return e.copy=function(){return rc(e,ic()).exponent(e.exponent())},Ho.apply(e,arguments)}function oc(e,t){void 0===t&&(t=e,e=es);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}function uc(){var e,t,n,r,a,i,o,u=0,s=.5,c=1,l=1,f=as,d=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(l*e<l*t?r:a),f(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a,i,o;return arguments.length?(n=t,a=(r=Object(Rn.a)(n,3))[0],i=r[1],o=r[2],f=oc(e,[a,i,o]),h):[f(0),f(.5),f(1)]}}return h.domain=function(o){var f,d;return arguments.length?(f=o,d=Object(Rn.a)(f,3),u=d[0],s=d[1],c=d[2],e=i(u=+u),t=i(s=+s),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),l=t<e?-1:1,h):[u,s,c]},h.clamp=function(e){return arguments.length?(d=!!e,h):d},h.interpolator=function(e){return arguments.length?(f=e,h):f},h.range=p(es),h.rangeRound=p(ts),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return i=o,e=o(u),t=o(s),n=o(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),l=t<e?-1:1,h}}function sc(){var e=ks(uc());return e.copy=function(){return rc(e,sc()).exponent(e.exponent())},Ho.apply(e,arguments)}var cc,lc=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},fc=function(e,t){var n=Pu(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},dc=180/Math.PI,hc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},pc=function(e,t,n,r,a,i){var o,u,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*dc,skewX:Math.atan(s)*dc,scaleX:o,scaleY:u}};function vc(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(i,o){var u=[],s=[];return i=e(i),o=e(o),function(e,r,a,i,o,u){if(e!==a||r!==i){var s=o.push("translate(",null,t,null,n);u.push({i:s-4,x:Ku(e,a)},{i:s-2,x:Ku(r,i)})}else(a||i)&&o.push("translate("+a+t+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,u,s),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:Ku(e,t)})):t&&n.push(a(n)+"rotate("+t+r)}(i.rotate,o.rotate,u,s),function(e,t,n,i){e!==t?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:Ku(e,t)}):t&&n.push(a(n)+"skewX("+t+r)}(i.skewX,o.skewX,u,s),function(e,t,n,r,i,o){if(e!==n||t!==r){var u=i.push(a(i)+"scale(",null,",",null,")");o.push({i:u-4,x:Ku(e,n)},{i:u-2,x:Ku(t,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,u,s),i=o=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var mc=vc((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hc:pc(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),gc=vc((function(e){return null==e?hc:(cc||(cc=document.createElementNS("http://www.w3.org/2000/svg","g")),cc.setAttribute("transform",e),(e=cc.transform.baseVal.consolidate())?(e=e.matrix,pc(e.a,e.b,e.c,e.d,e.e,e.f)):hc)}),", ",")",")");function bc(e){return((e=Math.exp(e))+1/e)/2}var yc=function e(t,n,r){function a(e,a){var i,o,u=e[0],s=e[1],c=e[2],l=a[0],f=a[1],d=a[2],h=l-u,p=f-s,v=h*h+p*p;if(v<1e-12)o=Math.log(d/c)/t,i=function(e){return[u+e*h,s+e*p,c*Math.exp(t*e*o)]};else{var m=Math.sqrt(v),g=(d*d-c*c+r*v)/(2*c*n*m),b=(d*d-c*c-r*v)/(2*d*n*m),y=Math.log(Math.sqrt(g*g+1)-g),x=Math.log(Math.sqrt(b*b+1)-b);o=(x-y)/t,i=function(e){var r,a=e*o,i=bc(y),l=c/(n*m)*(i*(r=t*a+y,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[u+l*h,s+l*p,c*i/bc(t*a+y)]}}return i.duration=1e3*o*t/Math.SQRT2,i}return a.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},a}(Math.SQRT2,2,4);function xc(e){return function(t,n){var r=e((t=Cu(t)).h,(n=Cu(n)).h),a=Bu(t.s,n.s),i=Bu(t.l,n.l),o=Bu(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=a(e),t.l=i(e),t.opacity=o(e),t+""}}}var wc=xc(Pu),Oc=xc(Bu),kc=Math.PI/180,jc=180/Math.PI,_c=.96422,Sc=.82521,Ec=4/29,Ac=6/29,Cc=3*Ac*Ac;function Nc(e){if(e instanceof Dc)return new Dc(e.l,e.a,e.b,e.opacity);if(e instanceof Bc)return Lc(e);e instanceof ku||(e=wu(e));var t,n,r=Rc(e.r),a=Rc(e.g),i=Rc(e.b),o=Ic((.2225045*r+.7168786*a+.0606169*i)/1);return r===a&&a===i?t=n=o:(t=Ic((.4360747*r+.3850649*a+.1430804*i)/_c),n=Ic((.0139322*r+.0971045*a+.7141733*i)/Sc)),new Dc(116*o-16,500*(t-o),200*(o-n),e.opacity)}function Tc(e,t,n,r){return 1===arguments.length?Nc(e):new Dc(e,t,n,null==r?1:r)}function Dc(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Ic(e){return e>.008856451679035631?Math.pow(e,1/3):e/Cc+Ec}function Mc(e){return e>Ac?e*e*e:Cc*(e-Ec)}function Fc(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Rc(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Pc(e){if(e instanceof Bc)return new Bc(e.h,e.c,e.l,e.opacity);if(e instanceof Dc||(e=Nc(e)),0===e.a&&0===e.b)return new Bc(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*jc;return new Bc(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function zc(e,t,n,r){return 1===arguments.length?Pc(e):new Bc(e,t,n,null==r?1:r)}function Bc(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Lc(e){if(isNaN(e.h))return new Dc(e.l,0,0,e.opacity);var t=e.h*kc;return new Dc(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Uc(e,t){var n=Bu((e=Tc(e)).l,(t=Tc(t)).l),r=Bu(e.a,t.a),a=Bu(e.b,t.b),i=Bu(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=a(t),e.opacity=i(t),e+""}}function Wc(e){return function(t,n){var r=e((t=zc(t)).h,(n=zc(n)).h),a=Bu(t.c,n.c),i=Bu(t.l,n.l),o=Bu(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=a(e),t.l=i(e),t.opacity=o(e),t+""}}}eu(Dc,Tc,tu(nu,{brighter:function(e){return new Dc(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Dc(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new ku(Fc(3.1338561*(t=_c*Mc(t))-1.6168667*(e=1*Mc(e))-.4906146*(n=Sc*Mc(n))),Fc(-.9787684*t+1.9161415*e+.033454*n),Fc(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),eu(Bc,zc,tu(nu,{brighter:function(e){return new Bc(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Bc(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Lc(this).rgb()}}));var Vc=Wc(Pu),Hc=Wc(Bu),Gc=-.14861,qc=1.78277,Xc=-.29227,Yc=-.90649,Kc=1.97294,$c=-1.7884503806,Zc=3.5172982438,Jc=-.6557636667999999;function Qc(e){if(e instanceof tl)return new tl(e.h,e.s,e.l,e.opacity);e instanceof ku||(e=wu(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(Jc*r+$c*t-Zc*n)/(Jc+$c-Zc),i=r-a,o=(Kc*(n-a)-Xc*i)/Yc,u=Math.sqrt(o*o+i*i)/(Kc*a*(1-a)),s=u?Math.atan2(o,i)*jc-120:NaN;return new tl(s<0?s+360:s,u,a,e.opacity)}function el(e,t,n,r){return 1===arguments.length?Qc(e):new tl(e,t,n,null==r?1:r)}function tl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function nl(e){return function t(n){function r(t,r){var a=e((t=el(t)).h,(r=el(r)).h),i=Bu(t.s,r.s),o=Bu(t.l,r.l),u=Bu(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=i(e),t.l=o(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,r.gamma=t,r}(1)}eu(tl,el,tu(nu,{brighter:function(e){return e=null==e?au:Math.pow(au,e),new tl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ru:Math.pow(ru,e),new tl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*kc,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new ku(255*(t+n*(Gc*r+qc*a)),255*(t+n*(Xc*r+Yc*a)),255*(t+n*(Kc*r)),this.opacity)}}));var rl,al,il=nl(Pu),ol=nl(Bu),ul=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n};function sl(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}var cl="linear",ll="log",fl="pow",dl="sqrt",hl="symlog",pl="time",vl="utc",ml="sequential",gl="diverging",bl="quantile",yl="quantize",xl="threshold",wl="ordinal",Ol="point",kl="band",jl="bin-ordinal",_l="continuous",Sl="discrete",El="discretizing",Al="interpolating",Cl="temporal";function Nl(){var e,t,n=qo().unknown(void 0),r=n.domain,a=n.range,i=[0,1],o=!1,u=0,s=0,c=.5;function l(){var n=r().length,l=i[1]<i[0],f=i[1-l],d=sl(n,u,s),h=i[l-0];e=(f-h)/(d||1),o&&(e=Math.floor(e)),h+=(f-h-e*(n-u))*c,t=e*(1-u),o&&(h=Math.round(h),t=Math.round(t));var p=Hr(n).map((function(t){return h+e*t}));return a(l?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),l()):r()},n.range=function(e){return arguments.length?(i=[+e[0],+e[1]],l()):i.slice()},n.rangeRound=function(e){return i=[+e[0],+e[1]],o=!0,l()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,l()):o},n.padding=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),u=s,l()):u},n.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),l()):u},n.paddingOuter=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),l()):s},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),l()):c},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,o,u,s=i[1]<i[0],c=s?a().reverse():a(),l=c.length-1,f=+e[0],d=+e[1];if(f===f&&d===d&&(d<f&&(u=f,f=d,d=u),!(d<c[0]||f>i[1-s])))return n=Math.max(0,Lo(c,f)-1),o=f===d?n:Lo(c,d)-1,f-c[n]>t+1e-10&&++n,s&&(u=n,n=l-o,o=l-u),n>o?void 0:r().slice(n,o+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return Nl().domain(r()).range(i).round(o).paddingInner(u).paddingOuter(s).align(c)},l()}function Tl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Tl(t())},e}var Dl=Array.prototype.map;function Il(e){return Dl.call(e,Pt.Z)}var Ml=Array.prototype.slice;var Fl={};function Rl(e,t,n){var r=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,r=t[0],a=t[1];return a<r&&(n=r,r=a,a=n),[e.invert(r),e.invert(a)]}}(n):n.invertExtent?function(e){return function(t){var n,r,a,i,o=e.range(),u=t[0],s=t[1],c=-1;for(s<u&&(r=u,u=s,s=r),a=0,i=o.length;a<i;++a)o[a]>=u&&o[a]<=s&&(c<0&&(c=a),n=a);if(!(c<0))return u=e.invertExtent(o[c]),s=e.invertExtent(o[n]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}}(n):void 0),n.type=e,n};return r.metadata=Object(Pt.ab)(Object(Pt.e)(n)),r}function Pl(e,t,n){return arguments.length>1?(Fl[e]=Rl(e,t,n),this):zl(e)?Fl[e]:void 0}function zl(e){return Object(Pt.s)(Fl,e)}function Bl(e,t){var n=Fl[e];return n&&n.metadata[t]}function Ll(e){return Bl(e,_l)}function Ul(e){return Bl(e,Sl)}function Wl(e){return Bl(e,El)}function Vl(e){return Bl(e,ll)}function Hl(e){return Bl(e,Al)}function Gl(e){return Bl(e,bl)}Pl("identity",(function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,ns),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,ns):[0,1],fs(r)})),Pl(cl,(function e(){var t=ls();return t.copy=function(){return ss(t,e())},Vo.apply(t,arguments),fs(t)}),_l),Pl(ll,(function e(){var t=ys(cs()).domain([1,10]);return t.copy=function(){return ss(t,e()).base(t.base())},Vo.apply(t,arguments),t}),[_l,ll]),Pl(fl,js,_l),Pl(dl,(function(){return js.apply(null,arguments).exponent(.5)}),_l),Pl(hl,(function e(){var t=Es(cs());return t.copy=function(){return ss(t,e()).constant(t.constant())},Vo.apply(t,arguments)}),_l),Pl(pl,(function(){return Vo.apply(tc($s,Zs,Rs.a,Fs.a,Ms.b,Is.a,Ds.a,Ts.a,Ns.a,Js.a).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[_l,Cl]),Pl(vl,(function(){return Vo.apply(tc(qs,Xs,Ws.a,Us.a,Ls.b,Bs.a,zs.a,Ps.a,Ns.a,Js.c).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[_l,Cl]),Pl(ml,ac,[_l,Al]),Pl("".concat(ml,"-").concat(cl),ac,[_l,Al]),Pl("".concat(ml,"-").concat(ll),(function e(){var t=ys(nc()).domain([1,10]);return t.copy=function(){return rc(t,e()).base(t.base())},Ho.apply(t,arguments)}),[_l,Al,ll]),Pl("".concat(ml,"-").concat(fl),ic,[_l,Al]),Pl("".concat(ml,"-").concat(dl),(function(){return ic.apply(null,arguments).exponent(.5)}),[_l,Al]),Pl("".concat(ml,"-").concat(hl),(function e(){var t=Es(nc());return t.copy=function(){return rc(t,e()).constant(t.constant())},Ho.apply(t,arguments)}),[_l,Al]),Pl("".concat(gl,"-").concat(cl),(function e(){var t=fs(uc()(as));return t.copy=function(){return rc(t,e())},Ho.apply(t,arguments)}),[_l,Al]),Pl("".concat(gl,"-").concat(ll),(function e(){var t=ys(uc()).domain([.1,1,10]);return t.copy=function(){return rc(t,e()).base(t.base())},Ho.apply(t,arguments)}),[_l,Al,ll]),Pl("".concat(gl,"-").concat(fl),sc,[_l,Al]),Pl("".concat(gl,"-").concat(dl),(function(){return sc.apply(null,arguments).exponent(.5)}),[_l,Al]),Pl("".concat(gl,"-").concat(hl),(function e(){var t=Es(uc());return t.copy=function(){return rc(t,e()).constant(t.constant())},Ho.apply(t,arguments)}),[_l,Al]),Pl(bl,(function e(){var t,n=[],r=[],a=[];function i(){var e=0,t=Math.max(1,r.length);for(a=new Array(t-1);++e<t;)a[e-1]=qn(n,e/t);return o}function o(e){return null==e||isNaN(e=+e)?t:r[Wo(a,e)]}return o.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:n[0],t<a.length?a[t]:n[n.length-1]]},o.domain=function(e){if(!arguments.length)return n.slice();n=[];var t,r=Object(Fn.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;null==a||isNaN(a=+a)||n.push(a)}}catch(o){r.e(o)}finally{r.f()}return n.sort(Pn.a),i()},o.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return a.slice()},o.copy=function(){return e().domain(n).range(r).unknown(t)},Vo.apply(o,arguments)}),[El,bl]),Pl(yl,(function e(){var t,n=0,r=1,a=1,i=[.5],o=[0,1];function u(e){return null!=e&&e<=e?o[Wo(i,e,0,a)]:t}function s(){var e=-1;for(i=new Array(a);++e<a;)i[e]=((e+1)*r-(e-a)*n)/(a+1);return u}return u.domain=function(e){var t,a;return arguments.length?(t=e,a=Object(Rn.a)(t,2),n=a[0],r=a[1],n=+n,r=+r,s()):[n,r]},u.range=function(e){return arguments.length?(a=(o=Array.from(e)).length-1,s()):o.slice()},u.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,i[0]]:t>=a?[i[a-1],r]:[i[t-1],i[t]]},u.unknown=function(e){return arguments.length?(t=e,u):u},u.thresholds=function(){return i.slice()},u.copy=function(){return e().domain([n,r]).range(o).unknown(t)},Vo.apply(fs(u),arguments)}),El),Pl(xl,(function e(){var t,n=[.5],r=[0,1],a=1;function i(e){return null!=e&&e<=e?r[Wo(n,e,0,a)]:t}return i.domain=function(e){return arguments.length?(n=Array.from(e),a=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),a=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e().domain(n).range(r).unknown(t)},Vo.apply(i,arguments)}),El),Pl(jl,(function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(Wo(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=Il(e),r):t.slice()},r.range=function(e){return arguments.length?(n=Ml.call(e),r):n.slice()},r.tickFormat=function(e,n){return Qo(t[0],Object(Pt.S)(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),[Sl,El]),Pl(wl,qo,Sl),Pl(kl,Nl,Sl),Pl(Ol,(function(){return Tl(Nl().paddingInner(1))}),Sl);var ql=["clamp","base","constant","exponent"];function Xl(e,t){var n=t[0],r=Object(Pt.S)(t)-n;return function(t){return e(n+t*r)}}function Yl(e,t,n){return oc(Zl(t||"rgb",n),e)}function Kl(e,t){for(var n=new Array(t),r=t+1,a=0;a<t;)n[a]=e(++a/r);return n}function $l(e,t,n){var r,a,i,o=n-t;return o&&Number.isFinite(o)?(r=(a=e.type).indexOf("-"),a=r<0?a:a.slice(r+1),i=Pl(a)().domain([t,n]).range([0,1]),ql.forEach((function(t){return e[t]?i[t](e[t]()):0})),i):Object(Pt.i)(.5)}function Zl(e,t){var n=o[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function Jl(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function Ql(e,t){for(var n in e)tf(n,t(e[n]))}var ef={};function tf(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(ef[e]=t,this):ef[e]}Ql({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Jl),Ql({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return Yl(Jl(e))}));var nf="symbol",rf=function(e){return Object(Pt.x)(e)?e.map((function(e){return String(e)})):String(e)},af=function(e,t){return e[1]-t[1]},of=function(e,t){return t[1]-e[1]};function uf(e,t,n){var r;return Object(Pt.C)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(Object(Pt.U)(e.domain())/n||1)))),Object(Pt.D)(t)&&(r=t.step,t=t.interval),Object(Pt.F)(t)&&(t=e.type===pl?Object(qr.p)(t):e.type==vl?Object(qr.v)(t):Object(Pt.k)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function sf(e,t,n){var r=e.range(),a=r[0],i=Object(Pt.S)(r),o=af;if(a>i&&(r=i,i=a,a=r,o=of),a=Math.floor(a),i=Math.ceil(i),t=t.map((function(t){return[t,e(t)]})).filter((function(e){return a<=e[1]&&e[1]<=i})).sort(o).map((function(e){return e[0]})),n>0&&t.length>1){for(var u=[t[0],Object(Pt.S)(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=u)}return t}function cf(e,t){return e.bins?sf(e,e.bins):e.ticks?e.ticks(t):e.domain()}function lf(e,t,n,r,a,i){var o=t.type,u=rf;if(o===pl||a===pl)u=e.timeFormat(r);else if(o===vl||a===vl)u=e.utcFormat(r);else if(Vl(o)){var s=e.formatFloat(r);if(i||t.bins)u=s;else{var c=ff(t,n,!1);u=function(e){return c(e)?s(e):""}}}else if(t.tickFormat){var l=t.domain();u=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(u=e.format(r));return u}function ff(e,t,n){var r=cf(e,t),a=e.base(),i=Math.log(a),o=Math.max(1,a*t/r.length),u=function(e){var t=e/Math.pow(a,Math.round(Math.log(e)/i));return t*a<a-.5&&(t*=a),t<=o};return n?r.filter(u):u}var df=(rl={},Object(xi.a)(rl,bl,"quantiles"),Object(xi.a)(rl,yl,"thresholds"),Object(xi.a)(rl,xl,"domain"),rl),hf=(al={},Object(xi.a)(al,bl,"quantiles"),Object(xi.a)(al,yl,"domain"),al);function pf(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=Object(Pt.S)(e),t}(e.bins):e.type===ll?ff(e,t,!0):df[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[df[e.type]]()):cf(e,t)}function vf(e,t,n,r,a,i,o){var u=hf[t.type]&&i!==pl&&i!==vl?function(e,t,n){var r,a=t[hf[t.type]](),i=a.length,o=i>1?a[1]-a[0]:a[0];for(r=1;r<i;++r)o=Math.min(o,a[r]-a[r-1]);return e.formatSpan(0,o,30,n)}(e,t,a):lf(e,t,n,a,i,o);return r===nf&&function(e){return df[e.type]||e.bins}(t)?mf(u):"discrete"===r?bf(u):yf(u)}var mf=function(e){return function(t,n,r){var a=gf(r[n+1],gf(r.max,1/0)),i=xf(t,e),o=xf(a,e);return i&&o?i+" \u2013 "+o:o?"< "+o:"\u2265 "+i}},gf=function(e,t){return null!=e?e:t},bf=function(e){return function(t,n){return n?e(t):null}},yf=function(e){return function(t){return e(t)}},xf=function(e,t){return Number.isFinite(e)?t(e):null};function wf(e,t,n,r){var a=r||t.type;return Object(Pt.F)(n)&&Bl(a,Cl)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||a!==pl?n||a!==vl?vf(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}function Of(e,t,n){n=n||{};var r=Math.max(3,n.maxlen||7),a=wf(e,t,n.format,n.formatType);if(Wl(t.type)){var i=pf(t).slice(1).map(a),o=i.length;return"".concat(o," boundar").concat(1===o?"y":"ies",": ").concat(i.join(", "))}if(Ul(t.type)){var u=t.domain(),s=u.length,c=s>r?u.slice(0,r-2).map(a).join(", ")+", ending with "+u.slice(-1).map(a):u.map(a).join(", ");return"".concat(s," value").concat(1===s?"":"s",": ").concat(c)}var l=t.domain();return"values from ".concat(a(l[0])," to ").concat(a(Object(Pt.S)(l)))}var kf=0;var jf="p_";function _f(e){return e&&e.gradient}function Sf(e,t,n){var r=e.gradient,a=e.id,i="radial"===r?jf:"";return a||(a=e.id="gradient_"+kf++,"radial"===r?(e.x1=Ef(e.x1,.5),e.y1=Ef(e.y1,.5),e.r1=Ef(e.r1,0),e.x2=Ef(e.x2,.5),e.y2=Ef(e.y2,.5),e.r2=Ef(e.r2,.5),i=jf):(e.x1=Ef(e.x1,0),e.y1=Ef(e.y1,0),e.x2=Ef(e.x2,1),e.y2=Ef(e.y2,0))),t[a]=e,"url("+(n||"")+"#"+i+a+")"}function Ef(e,t){return null!=e?e:t}function Af(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}}var Cf={basis:{curve:function(e){return new Oi(e)}},"basis-closed":{curve:function(e){return new ji(e)}},"basis-open":{curve:function(e){return new _i(e)}},bundle:{curve:Ei,tension:"beta",value:.85},cardinal:{curve:Ni,tension:"tension",value:0},"cardinal-open":{curve:Di,tension:"tension",value:0},"cardinal-closed":{curve:Mi,tension:"tension",value:0},"catmull-rom":{curve:$i,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Ji,tension:"alpha",value:.5},"catmull-rom-open":{curve:eo,tension:"alpha",value:.5},linear:{curve:no},"linear-closed":{curve:function(e){return new ro(e)}},monotone:{horizontal:function(e){return new co(e)},vertical:function(e){return new so(e)}},natural:{curve:function(e){return new fo(e)}},step:{curve:function(e){return new po(e,.5)}},"step-after":{curve:function(e){return new po(e,1)}},"step-before":{curve:function(e){return new po(e,0)}}};function Nf(e,t,n){var r=Object(Pt.s)(Cf,e)&&Cf[e],a=null;return r&&(a=r.curve||r[t||"vertical"],r.tension&&null!=n&&(a=a[r.tension](n))),a}var Tf={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Df=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function If(e){var t,n,r,a,i,o,u,s,c,l,f=[],d=e.slice().replace(Df[0],"###$1").split(Df[1]).slice(1);for(u=0,c=d.length;u<c;++u){for(n=(t=d[u]).slice(1).trim().replace(Df[2],"$1###$2").replace(Df[3],"$1###$2").split(Df[4]),r=[i=t.charAt(0)],s=0,l=n.length;s<l;++s)(a=+n[s])===a&&r.push(a);if(o=Tf[i.toLowerCase()],r.length-1>o){var h=r.length;for(s=1,f.push([i].concat(r.slice(s,s+=o))),i="M"===i?"L":"m"===i?"l":i;s<h;s+=o)f.push([i].concat(r.slice(s,s+o)))}else f.push(r)}return f}var Mf=Math.PI/180,Ff=Math.PI/2,Rf=2*Math.PI,Pf=Math.sqrt(3)/2,zf={},Bf={},Lf=[].join;function Uf(e){var t=Lf.call(e);if(Bf[t])return Bf[t];var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=c*o,f=-s*u,d=s*o,h=c*u,p=Math.cos(a),v=Math.sin(a),m=Math.cos(i),g=Math.sin(i),b=.5*(i-a),y=Math.sin(.5*b),x=8/3*y*y/Math.sin(b),w=n+p-x*v,O=r+v+x*p,k=n+m,j=r+g,_=k+x*g,S=j-x*m;return Bf[t]=[l*w+f*O,d*w+h*O,l*_+f*S,d*_+h*S,l*k+f*j,d*k+h*j]}var Wf=["l",0,0,0,0,0,0,0];function Vf(e,t,n){var r=Wf[0]=e[0];if("a"===r||"A"===r)Wf[1]=t*e[1],Wf[2]=n*e[2],Wf[3]=e[3],Wf[4]=e[4],Wf[5]=e[5],Wf[6]=t*e[6],Wf[7]=n*e[7];else if("h"===r||"H"===r)Wf[1]=t*e[1];else if("v"===r||"V"===r)Wf[1]=n*e[1];else for(var a=1,i=e.length;a<i;++a)Wf[a]=(a%2==1?t:n)*e[a];return Wf}function Hf(e,t,n,r,a,i){var o,u,s,c,l,f=null,d=0,h=0,p=0,v=0;null==n&&(n=0),null==r&&(r=0),null==a&&(a=1),null==i&&(i=a),e.beginPath&&e.beginPath();for(var m=0,g=t.length;m<g;++m){switch(o=t[m],1===a&&1===i||(o=Vf(o,a,i)),o[0]){case"l":d+=o[1],h+=o[2],e.lineTo(d+n,h+r);break;case"L":d=o[1],h=o[2],e.lineTo(d+n,h+r);break;case"h":d+=o[1],e.lineTo(d+n,h+r);break;case"H":d=o[1],e.lineTo(d+n,h+r);break;case"v":h+=o[1],e.lineTo(d+n,h+r);break;case"V":h=o[1],e.lineTo(d+n,h+r);break;case"m":d+=o[1],h+=o[2],e.moveTo(d+n,h+r);break;case"M":d=o[1],h=o[2],e.moveTo(d+n,h+r);break;case"c":u=d+o[5],s=h+o[6],p=d+o[3],v=h+o[4],e.bezierCurveTo(d+o[1]+n,h+o[2]+r,p+n,v+r,u+n,s+r),d=u,h=s;break;case"C":d=o[5],h=o[6],p=o[3],v=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,p+n,v+r,d+n,h+r);break;case"s":u=d+o[3],s=h+o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,d+o[1]+n,h+o[2]+r,u+n,s+r),p=d+o[1],v=h+o[2],d=u,h=s;break;case"S":u=o[3],s=o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,o[1]+n,o[2]+r,u+n,s+r),d=u,h=s,p=o[1],v=o[2];break;case"q":u=d+o[3],s=h+o[4],p=d+o[1],v=h+o[2],e.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"Q":u=o[3],s=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,u+n,s+r),d=u,h=s,p=o[1],v=o[2];break;case"t":u=d+o[1],s=h+o[2],null===f[0].match(/[QqTt]/)?(p=d,v=h):"t"===f[0]?(p=2*d-c,v=2*h-l):"q"===f[0]&&(p=2*d-p,v=2*h-v),c=p,l=v,e.quadraticCurveTo(p+n,v+r,u+n,s+r),h=s,p=(d=u)+o[1],v=h+o[2];break;case"T":u=o[1],s=o[2],p=2*d-p,v=2*h-v,e.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"a":Gf(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+d+n,o[7]+h+r]),d+=o[6],h+=o[7];break;case"A":Gf(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),d=o[6],h=o[7];break;case"z":case"Z":e.closePath()}f=o}}function Gf(e,t,n,r){for(var a=function(e,t,n,r,a,i,o,u,s){var c=Lf.call(arguments);if(zf[c])return zf[c];var l=o*Mf,f=Math.sin(l),d=Math.cos(l),h=d*(u-e)*.5+f*(s-t)*.5,p=d*(s-t)*.5-f*(u-e)*.5,v=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);v>1&&(n*=v=Math.sqrt(v),r*=v);var m=d/n,g=f/n,b=-f/r,y=d/r,x=m*u+g*s,w=b*u+y*s,O=m*e+g*t,k=b*e+y*t,j=1/((O-x)*(O-x)+(k-w)*(k-w))-.25;j<0&&(j=0);var _=Math.sqrt(j);i==a&&(_=-_);var S=.5*(x+O)-_*(k-w),E=.5*(w+k)+_*(O-x),A=Math.atan2(w-E,x-S),C=Math.atan2(k-E,O-S)-A;C<0&&1===i?C+=Rf:C>0&&0===i&&(C-=Rf);for(var N=Math.ceil(Math.abs(C/(Ff+.001))),T=[],D=0;D<N;++D){var I=A+D*C/N,M=A+(D+1)*C/N;T[D]=[S,E,I,M,n,r,f,d]}return zf[c]=T}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),i=0;i<a.length;++i){var o=Uf(a[i]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}var qf=.5773502691896257,Xf={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Rf)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,a=n/2.5,i=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-i),e.lineTo(a,-i),e.lineTo(0,-n),e.lineTo(-a,-i),e.lineTo(-r,-i),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Pf*n,a=r-n*qf,i=n/4;e.moveTo(0,-r-a),e.lineTo(-i,r-a),e.lineTo(i,r-a),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Pf*n,a=r-n*qf;e.moveTo(0,-r-a),e.lineTo(-n,r-a),e.lineTo(n,r-a),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Pf*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Pf*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Pf*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Pf*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Yf(e){return Object(Pt.s)(Xf,e)?Xf[e]:function(e){if(!Object(Pt.s)(Kf,e)){var t=If(e);Kf[e]={draw:function(e,n){Hf(e,t,0,0,Math.sqrt(n)/2)}}}return Kf[e]}(e)}var Kf={};var $f=.448084975506;function Zf(e){return e.x}function Jf(e){return e.y}function Qf(e){return e.width}function ed(e){return e.height}function td(e){return"function"===typeof e?e:function(){return+e}}function nd(e,t,n){return Math.max(t,Math.min(e,n))}function rd(){var e=Zf,t=Jf,n=Qf,r=ed,a=td(0),i=a,o=a,u=a,s=null;function c(c,l,f){var d,h=null!=l?l:+e.call(this,c),p=null!=f?f:+t.call(this,c),v=+n.call(this,c),m=+r.call(this,c),g=Math.min(v,m)/2,b=nd(+a.call(this,c),0,g),y=nd(+i.call(this,c),0,g),x=nd(+o.call(this,c),0,g),w=nd(+u.call(this,c),0,g);if(s||(s=d=wo()),b<=0&&y<=0&&x<=0&&w<=0)s.rect(h,p,v,m);else{var O=h+v,k=p+m;s.moveTo(h+b,p),s.lineTo(O-y,p),s.bezierCurveTo(O-$f*y,p,O,p+$f*y,O,p+y),s.lineTo(O,k-w),s.bezierCurveTo(O,k-$f*w,O-$f*w,k,O-w,k),s.lineTo(h+x,k),s.bezierCurveTo(h+$f*x,k,h,k-$f*x,h,k-x),s.lineTo(h,p+b),s.bezierCurveTo(h,p+$f*b,h+$f*b,p,h+b,p),s.closePath()}if(d)return s=null,d+""||null}return c.x=function(t){return arguments.length?(e=td(t),c):e},c.y=function(e){return arguments.length?(t=td(e),c):t},c.width=function(e){return arguments.length?(n=td(e),c):n},c.height=function(e){return arguments.length?(r=td(e),c):r},c.cornerRadius=function(e,t,n,r){return arguments.length?(a=td(e),i=null!=t?td(t):a,u=null!=n?td(n):a,o=null!=r?td(r):i,c):a},c.context=function(e){return arguments.length?(s=null==e?null:e,c):s},c}function ad(){var e,t,n,r,a,i,o,u,s=null;function c(e,t,n){var r=n/2;if(a){var c=o-t,l=e-i;if(c||l){var f=Math.sqrt(c*c+l*l),d=(c/=f)*u,h=(l/=f)*u,p=Math.atan2(l,c);s.moveTo(i-d,o-h),s.lineTo(e-c*r,t-l*r),s.arc(e,t,r,p-Math.PI,p),s.lineTo(i+d,o+h),s.arc(i,o,u,p,p+Math.PI)}else s.arc(e,t,r,0,Rf);s.closePath()}else a=1;i=e,o=t,u=r}function l(i){var o,u,l,f=i.length,d=!1;for(null==s&&(s=l=wo()),o=0;o<=f;++o)!(o<f&&r(u=i[o],o,i))===d&&(d=!d)&&(a=0),d&&c(+e(u,o,i),+t(u,o,i),+n(u,o,i));if(l)return s=null,l+""||null}return l.x=function(t){return arguments.length?(e=t,l):e},l.y=function(e){return arguments.length?(t=e,l):t},l.size=function(e){return arguments.length?(n=e,l):n},l.defined=function(e){return arguments.length?(r=e,l):r},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}function id(e,t){return null!=e?e:t}var od=function(e){return e.x||0},ud=function(e){return e.y||0},sd=function(e){return!(!1===e.defined)},cd=function(){var e=ko,t=jo,n=Oo(0),r=null,a=_o,i=So,o=Eo,u=null;function s(){var s,c,l=+e.apply(this,arguments),f=+t.apply(this,arguments),d=a.apply(this,arguments)-Hi,h=i.apply(this,arguments)-Hi,p=Fi(h-d),v=h>d;if(u||(u=s=wo()),f<l&&(c=f,f=l,l=c),f>Wi)if(p>Gi-Wi)u.moveTo(f*Pi(d),f*Li(d)),u.arc(0,0,f,d,h,!v),l>Wi&&(u.moveTo(l*Pi(h),l*Li(h)),u.arc(0,0,l,h,d,v));else{var m,g,b=d,y=h,x=d,w=h,O=p,k=p,j=o.apply(this,arguments)/2,_=j>Wi&&(r?+r.apply(this,arguments):Ui(l*l+f*f)),S=Bi(Fi(f-l)/2,+n.apply(this,arguments)),E=S,A=S;if(_>Wi){var C=Xi(_/l*Li(j)),N=Xi(_/f*Li(j));(O-=2*C)>Wi?(x+=C*=v?1:-1,w-=C):(O=0,x=w=(d+h)/2),(k-=2*N)>Wi?(b+=N*=v?1:-1,y-=N):(k=0,b=y=(d+h)/2)}var T=f*Pi(b),D=f*Li(b),I=l*Pi(w),M=l*Li(w);if(S>Wi){var F,R=f*Pi(y),P=f*Li(y),z=l*Pi(x),B=l*Li(x);if(p<Vi&&(F=Ao(T,D,z,B,R,P,I,M))){var L=T-F[0],U=D-F[1],W=R-F[0],V=P-F[1],H=1/Li(qi((L*W+U*V)/(Ui(L*L+U*U)*Ui(W*W+V*V)))/2),G=Ui(F[0]*F[0]+F[1]*F[1]);E=Bi(S,(l-G)/(H-1)),A=Bi(S,(f-G)/(H+1))}}k>Wi?A>Wi?(m=Co(z,B,T,D,f,A,v),g=Co(R,P,I,M,f,A,v),u.moveTo(m.cx+m.x01,m.cy+m.y01),A<S?u.arc(m.cx,m.cy,A,Ri(m.y01,m.x01),Ri(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,A,Ri(m.y01,m.x01),Ri(m.y11,m.x11),!v),u.arc(0,0,f,Ri(m.cy+m.y11,m.cx+m.x11),Ri(g.cy+g.y11,g.cx+g.x11),!v),u.arc(g.cx,g.cy,A,Ri(g.y11,g.x11),Ri(g.y01,g.x01),!v))):(u.moveTo(T,D),u.arc(0,0,f,b,y,!v)):u.moveTo(T,D),l>Wi&&O>Wi?E>Wi?(m=Co(I,M,R,P,l,-E,v),g=Co(T,D,z,B,l,-E,v),u.lineTo(m.cx+m.x01,m.cy+m.y01),E<S?u.arc(m.cx,m.cy,E,Ri(m.y01,m.x01),Ri(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,E,Ri(m.y01,m.x01),Ri(m.y11,m.x11),!v),u.arc(0,0,l,Ri(m.cy+m.y11,m.cx+m.x11),Ri(g.cy+g.y11,g.cx+g.x11),v),u.arc(g.cx,g.cy,E,Ri(g.y11,g.x11),Ri(g.y01,g.x01),!v))):u.arc(0,0,l,w,x,v):u.lineTo(I,M)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-Vi/2;return[Pi(r)*n,Li(r)*n]},s.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:Oo(+t),s):e},s.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:Oo(+e),s):t},s.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:Oo(+e),s):n},s.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Oo(+e),s):r},s.startAngle=function(e){return arguments.length?(a="function"===typeof e?e:Oo(+e),s):a},s.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:Oo(+e),s):i},s.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:Oo(+e),s):o},s.context=function(e){return arguments.length?(u=null==e?null:e,s):u},s}().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius((function(e){return e.cornerRadius||0})),ld=Mo().x(od).y1(ud).y0((function(e){return(e.y||0)+(e.height||0)})).defined(sd),fd=Mo().y(ud).x1(od).x0((function(e){return(e.x||0)+(e.width||0)})).defined(sd),dd=Io().x(od).y(ud).defined(sd),hd=rd().x(od).y(ud).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius((function(e){return id(e.cornerRadiusTopLeft,e.cornerRadius)||0}),(function(e){return id(e.cornerRadiusTopRight,e.cornerRadius)||0}),(function(e){return id(e.cornerRadiusBottomRight,e.cornerRadius)||0}),(function(e){return id(e.cornerRadiusBottomLeft,e.cornerRadius)||0})),pd=function(e,t){var n=null;function r(){var r;if(n||(n=r=wo()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"===typeof e?e:Oo(e||Fo),t="function"===typeof t?t:Oo(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"===typeof t?t:Oo(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:Oo(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type((function(e){return Yf(e.shape||"circle")})).size((function(e){return id(e.size,64)})),vd=ad().x(od).y(ud).defined(sd).size((function(e){return e.size||1}));function md(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function gd(e,t,n,r){return hd.context(e)(t,n,r)}var bd=1;function yd(){bd=1}function xd(e,t,n){var r=t.clip,a=e._defs,i=t.clip_id||(t.clip_id="clip"+bd++),o=a.clipping[i]||(a.clipping[i]={id:i});return Object(Pt.A)(r)?o.path=r(null):md(n)?o.path=gd(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+i+")"}function wd(e){this.clear(),e&&this.union(e)}function Od(e){this.mark=e,this.bounds=this.bounds||new wd}function kd(e){Od.call(this,e),this.items=this.items||[]}function jd(e){this._pending=0,this._loader=e||Object(zt.e)()}function _d(e){e._pending+=1}function Sd(e){e._pending-=1}function Ed(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){var r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}wd.prototype={clone:function(){return new wd(this)},clear:function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals:function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set:function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add:function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand:function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round:function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale:function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate:function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate:function(e,t,n){var r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints:function(e,t,n){var r=this.x1,a=this.y1,i=this.x2,o=this.y2,u=Math.cos(e),s=Math.sin(e),c=t-t*u+n*s,l=n-t*s-n*u;return[u*r-s*a+c,s*r+u*a+l,u*r-s*o+c,s*r+u*o+l,u*i-s*a+c,s*i+u*a+l,u*i-s*o+c,s*i+u*o+l]},union:function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect:function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses:function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith:function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects:function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains:function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}},Object(Pt.v)(kd,Od),jd.prototype={pending:function(){return this._pending},sanitizeURL:function(e){var t=this;return _d(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return Sd(t),e})).catch((function(){return Sd(t),null}))},loadImage:function(e){var t=this,n=zo();return _d(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var r=e.href;if(!r||!n)throw{url:r};var a=new n,i=Object(Pt.s)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=i&&(a.crossOrigin=i),a.onload=function(){return Sd(t)},a.onerror=function(){return Sd(t)},a.src=r,a})).catch((function(e){return Sd(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},ready:function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))}};var Ad,Cd,Nd,Td,Dd,Id,Md,Fd,Rd=Rf-1e-8,Pd=function(e,t){return Ad.add(e,t)},zd=function(e,t){return Pd(Cd=e,Nd=t)},Bd=function(e){return Pd(e,Ad.y1)},Ld=function(e){return Pd(Ad.x1,e)},Ud=function(e,t){return Dd*e+Md*t},Wd=function(e,t){return Id*e+Fd*t},Vd=function(e,t){return Pd(Ud(e,t),Wd(e,t))},Hd=function(e,t){return zd(Ud(e,t),Wd(e,t))};function Gd(e,t){return Ad=e,t?(Td=t*Mf,Dd=Fd=Math.cos(Td),Id=Math.sin(Td),Md=-Id):(Dd=Fd=1,Td=Id=Md=0),qd}var qd={beginPath:function(){},closePath:function(){},moveTo:Hd,lineTo:Hd,rect:function(e,t,n,r){Td?(Vd(e+n,t),Vd(e+n,t+r),Vd(e,t+r),Hd(e,t)):(Pd(e+n,t+r),zd(e,t))},quadraticCurveTo:function(e,t,n,r){var a=Ud(e,t),i=Wd(e,t),o=Ud(n,r),u=Wd(n,r);Xd(Cd,a,o,Bd),Xd(Nd,i,u,Ld),zd(o,u)},bezierCurveTo:function(e,t,n,r,a,i){var o=Ud(e,t),u=Wd(e,t),s=Ud(n,r),c=Wd(n,r),l=Ud(a,i),f=Wd(a,i);Yd(Cd,o,s,l,Bd),Yd(Nd,u,c,f,Ld),zd(l,f)},arc:function(e,t,n,r,a,i){if(r+=Td,a+=Td,Cd=n*Math.cos(a)+e,Nd=n*Math.sin(a)+t,Math.abs(a-r)>Rd)Pd(e-n,t-n),Pd(e+n,t+n);else{var o,u,s=function(r){return Pd(n*Math.cos(r)+e,n*Math.sin(r)+t)};if(s(r),s(a),a!==r)if((r%=Rf)<0&&(r+=Rf),(a%=Rf)<0&&(a+=Rf),a<r&&(i=!i,o=r,r=a,a=o),i)for(a-=Rf,o=r-r%Ff,u=0;u<4&&o>a;++u,o-=Ff)s(o);else for(o=r-r%Ff+Ff,u=0;u<4&&o<a;++u,o+=Ff)s(o)}}};function Xd(e,t,n,r){var a=(e-t)/(e+n-2*t);0<a&&a<1&&r(e+(t-e)*a)}function Yd(e,t,n,r,a){var i,o=r-e+3*t-3*n,u=e+n-2*t,s=e-t,c=0,l=0;Math.abs(o)>1e-14?(i=u*u+s*o)>=0&&(c=(-u+(i=Math.sqrt(i)))/o,l=(-u-i)/o):c=.5*s/u,0<c&&c<1&&a(Kd(c,e,t,n,r)),0<l&&l<1&&a(Kd(l,e,t,n,r))}function Kd(e,t,n,r,a){var i=1-e,o=i*i,u=e*e;return o*i*t+3*o*e*n+3*i*u*r+u*e*a}var $d=($d=Po(1,1))?$d.getContext("2d"):null,Zd=new wd;function Jd(e){return function(t,n){if(!$d)return!0;e($d,t),Zd.clear().union(t.bounds).intersect(n).round();for(var r=Zd.x1,a=Zd.y1,i=Zd.x2,o=Zd.y2,u=a;u<=o;++u)for(var s=r;s<=i;++s)if($d.isPointInPath(s,u))return!0;return!1}}function Qd(e,t){return t.contains(e.x||0,e.y||0)}function eh(e,t){var n=e.x||0,r=e.y||0,a=e.width||0,i=e.height||0;return t.intersects(Zd.set(n,r,n+a,r+i))}function th(e,t){var n=e.x||0,r=e.y||0;return nh(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function nh(e,t,n,r,a){var i,o,u,s,c=e.x1,l=e.y1,f=e.x2,d=e.y2,h=r-t,p=a-n,v=0,m=1;for(s=0;s<4;++s){if(0===s&&(i=-h,o=-(c-t)),1===s&&(i=h,o=f-t),2===s&&(i=-p,o=-(l-n)),3===s&&(i=p,o=d-n),Math.abs(i)<1e-10&&o<0)return!1;if(u=o/i,i<0){if(u>m)return!1;u>v&&(v=u)}else if(i>0){if(u<v)return!1;u<m&&(m=u)}}return!0}function rh(e,t){e.globalCompositeOperation=t.blend||"source-over"}function ah(e,t){return null==e?t:e}function ih(e,t){for(var n=t.length,r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function oh(e,t,n){return _f(n)?function(e,t,n){var r,a=n.width(),i=n.height();if("radial"===t.gradient)r=e.createRadialGradient(n.x1+ah(t.x1,.5)*a,n.y1+ah(t.y1,.5)*i,Math.max(a,i)*ah(t.r1,0),n.x1+ah(t.x2,.5)*a,n.y1+ah(t.y2,.5)*i,Math.max(a,i)*ah(t.r2,.5));else{var o=ah(t.x1,0),u=ah(t.y1,0),s=ah(t.x2,1),c=ah(t.y2,0);if(o!==s&&u!==c&&a!==i){var l=Po(Math.ceil(a),Math.ceil(i)),f=l.getContext("2d");return f.scale(a,i),f.fillStyle=ih(f.createLinearGradient(o,u,s,c),t.stops),f.fillRect(0,0,a,i),e.createPattern(l,"no-repeat")}r=e.createLinearGradient(n.x1+o*a,n.y1+u*i,n.x1+s*a,n.y1+c*i)}return ih(r,t.stops)}(e,n,t.bounds):n}function uh(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=oh(e,t,t.fill),!0)}var sh=[];function ch(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=oh(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||sh),e.lineDashOffset=t.strokeDashOffset||0),!0))}function lh(e,t){return e.zindex-t.zindex||e.index-t.index}function fh(e){if(!e.zdirty)return e.zitems;var t,n,r,a=e.items,i=[];for(n=0,r=a.length;n<r;++n)(t=a[n]).index=n,t.zindex&&i.push(t);return e.zdirty=!1,e.zitems=i.sort(lh)}function dh(e,t){var n,r,a=e.items;if(a&&a.length){var i=fh(e);if(i&&i.length){for(n=0,r=a.length;n<r;++n)a[n].zindex||t(a[n]);a=i}for(n=0,r=a.length;n<r;++n)t(a[n])}}function hh(e,t){var n,r,a=e.items;if(!a||!a.length)return null;var i=fh(e);for(i&&i.length&&(a=i),r=a.length;--r>=0;)if(n=t(a[r]))return n;if(a===i)for(r=(a=e.items).length;--r>=0;)if(!a[r].zindex&&(n=t(a[r])))return n;return null}function ph(e){return function(t,n,r){dh(n,(function(n){r&&!r.intersects(n.bounds)||vh(e,t,n,n)}))}}function vh(e,t,n,r){var a=null==n.opacity?1:n.opacity;0!==a&&(e(t,r)||(rh(t,n),n.fill&&uh(t,n,a)&&t.fill(),n.stroke&&ch(t,n,a)&&t.stroke()))}function mh(e){return e=e||Pt.db,function(t,n,r,a,i,o){return r*=t.pixelRatio,a*=t.pixelRatio,hh(n,(function(n){var u=n.bounds;if((!u||u.contains(i,o))&&u)return e(t,n,r,a,i,o)?n:void 0}))}}function gh(e,t){return function(n,r,a,i){var o,u,s=Array.isArray(r)?r[0]:r,c=null==t?s.fill:t,l=s.stroke&&n.isPointInStroke;return l&&(o=s.strokeWidth,u=s.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=u?u:"butt"),!e(n,r)&&(c&&n.isPointInPath(a,i)||l&&n.isPointInStroke(a,i))}}function bh(e){return mh(gh(e))}function yh(e,t){return"translate("+e+","+t+")"}function xh(e){return"rotate("+e+")"}function wh(e){return yh(e.x||0,e.y||0)}function Oh(e,t,n){function r(e,n){var r=n.x||0,a=n.y||0,i=n.angle||0;e.translate(r,a),i&&e.rotate(i*=Mf),e.beginPath(),t(e,n),i&&e.rotate(-i),e.translate(-r,-a)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return yh(e.x||0,e.y||0)+(e.angle?" "+xh(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){return t(Gd(e,n.angle),n),Ed(e,n).translate(n.x||0,n.y||0)},draw:ph(r),pick:bh(r),isect:n||Jd(r)}}var kh=Oh("arc",(function(e,t){return cd.context(e)(t)}));function jh(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var a,i=gh(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(Gd(e),r),Ed(e,r[0]))},draw:(a=r,function(e,t,n){!t.items.length||n&&!n.intersects(t.bounds)||vh(a,e,t.items[0],t.items)}),pick:function(e,t,n,r,a,o){var u=t.items,s=t.bounds;return!u||!u.length||s&&!s.contains(a,o)?null:(n*=e.pixelRatio,r*=e.pixelRatio,i(e,u,n,r)?u[0]:null)},isect:Qd,tip:n}}var _h=jh("area",(function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?fd:ld).curve(Nf(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,a="horizontal"===e[0].orient?t[1]:t[0],i="horizontal"===e[0].orient?"y":"x",o=e.length,u=1/0;--o>=0;)!1!==e[o].defined&&(r=Math.abs(e[o][i]-a))<u&&(u=r,n=e[o]);return n}));function Sh(e,t){e.beginPath(),md(t)?gd(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Eh(e){var t=ah(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Ah(e,t){var n=Eh(t);e("d",gd(null,t,n,n))}function Ch(e,t,n,r){var a=Eh(t);e.beginPath(),gd(e,t,(n||0)+a,(r||0)+a)}var Nh=gh(Ch),Th=gh(Ch,!1),Dh=gh(Ch,!0);var Ih={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",wh(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=n.length,a=0;a<r;++a)e.union(n[a].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Ed(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;dh(t,(function(t){var a=t.x||0,i=t.y||0,o=t.strokeForeground,u=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&u&&(Ch(e,t,a,i),rh(e,t),t.fill&&uh(e,t,u)&&e.fill(),t.stroke&&!o&&ch(e,t,u)&&e.stroke()),e.save(),e.translate(a,i),t.clip&&Sh(e,t),n&&n.translate(-a,-i),dh(t,(function(t){r.draw(e,t,n)})),n&&n.translate(a,i),e.restore(),o&&t.stroke&&u&&(Ch(e,t,a,i),rh(e,t),ch(e,t,u)&&e.stroke())}))},pick:function(e,t,n,r,a,i){var o=this;if(t.bounds&&!t.bounds.contains(a,i)||!t.items)return null;var u=n*e.pixelRatio,s=r*e.pixelRatio;return hh(t,(function(c){var l,f,d,h=c.bounds;if(!h||h.contains(a,i)){f=c.x||0,d=c.y||0;var p=f+(c.width||0),v=d+(c.height||0),m=c.clip;if(!m||!(a<f||a>p||i<d||i>v)){if(e.save(),e.translate(f,d),f=a-f,d=i-d,m&&md(c)&&!Dh(e,c,u,s))return e.restore(),null;var g=c.strokeForeground,b=!1!==t.interactive;return b&&g&&c.stroke&&Th(e,c,u,s)?(e.restore(),c):(!(l=hh(c,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,f,d)?o.pick(e,n,r,f,d):null})))&&b&&(c.fill||!g&&c.stroke)&&Nh(e,c,u,s)&&(l=c),e.restore(),l||null)}}}))},isect:eh,content:function(e,t,n){e("clip-path",t.clip?xd(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),Ah(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Ah(e,t):e("d","")}},Mh={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Fh(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function Rh(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function Ph(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function zh(e,t){return"center"===e?t/2:"right"===e?t:0}function Bh(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var Lh={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=Fh(t,n),a=Rh(t,r),i=Ph(t,r),o=(t.x||0)-zh(t.align,a),u=(t.y||0)-Bh(t.baseline,i);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",Mh["xmlns:xlink"],"xlink:href"),e("transform",yh(o,u)),e("width",a),e("height",i),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){var n=t.image,r=Rh(t,n),a=Ph(t,n),i=(t.x||0)-zh(t.align,r),o=(t.y||0)-Bh(t.baseline,a);return e.set(i,o,i+r,o+a)},draw:function(e,t,n){var r=this;dh(t,(function(t){if(!n||n.intersects(t.bounds)){var a=Fh(t,r),i=Rh(t,a),o=Ph(t,a);if(0!==i&&0!==o){var u,s,c,l,f=(t.x||0)-zh(t.align,i),d=(t.y||0)-Bh(t.baseline,o);!1!==t.aspect&&(s=a.width/a.height,c=t.width/t.height,s===s&&c===c&&s!==c&&(c<s?(d+=(o-(l=i/s))/2,o=l):(f+=(i-(l=o*s))/2,i=l))),(a.complete||a.toDataURL)&&(rh(e,t),e.globalAlpha=null!=(u=t.opacity)?u:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(a,f,d,i,o))}}}))},pick:mh(),isect:Pt.db,get:Fh,xOffset:zh,yOffset:Bh},Uh=jh("line",(function(e,t){var n=t[0],r=n.interpolate||"linear";return dd.curve(Nf(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,a=Math.pow(e[0].strokeWidth||1,2),i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<a)return e[i];return null}));function Wh(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,a=t.y||0,i=t.scaleX||1,o=t.scaleY||1,u=(t.angle||0)*Mf,s=t.pathCache;s&&s.path===n||((t.pathCache=s=If(n)).path=n),u&&e.rotate&&e.translate?(e.translate(r,a),e.rotate(u),Hf(e,s,0,0,i,o),e.rotate(-u),e.translate(-r,-a)):Hf(e,s,r,a,i,o)}var Vh={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",function(e){return yh(e.x||0,e.y||0)+(e.angle?" "+xh(e.angle):"")+(e.scaleX||e.scaleY?" "+function(e,t){return"scale("+e+","+t+")"}(e.scaleX||1,e.scaleY||1):"")}(t)),e("d",t.path)},bound:function(e,t){return Wh(Gd(e,t.angle),t)?e.set(0,0,0,0):Ed(e,t,!0)},draw:ph(Wh),pick:bh(Wh),isect:Jd(Wh)};function Hh(e,t){e.beginPath(),gd(e,t)}var Gh={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",gd(null,t))},bound:function(e,t){var n,r;return Ed(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:ph(Hh),pick:bh(Hh),isect:eh};function qh(e,t,n){var r,a,i,o;return!(!t.stroke||!ch(e,t,n))&&(r=t.x||0,a=t.y||0,i=null!=t.x2?t.x2:r,o=null!=t.y2?t.y2:a,e.beginPath(),e.moveTo(r,a),e.lineTo(i,o),!0)}var Xh={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",wh(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return Ed(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){dh(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&qh(e,t,r)&&(rh(e,t),e.stroke())}}))},pick:mh((function(e,t,n,r){return!!e.isPointInStroke&&(qh(e,t,1)&&e.isPointInStroke(n,r))})),isect:th},Yh=Oh("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),Kh=Oh("symbol",(function(e,t){return pd.context(e)(t)}),Qd),$h=Object(Pt.J)(),Zh={height:rp,measureWidth:tp,estimateWidth:Qh,width:Qh,canvas:Jh};function Jh(e){Zh.width=e&&$d?tp:Qh}function Qh(e,t){return ep(up(e,t),rp(e))}function ep(e,t){return~~(.8*e.length*t)}function tp(e,t){return rp(e)<=0||!(t=up(e,t))?0:np(t,cp(e))}function np(e,t){var n="(".concat(t,") ").concat(e),r=$h.get(n);return void 0===r&&($d.font=t,r=$d.measureText(e).width,$h.set(n,r)),r}function rp(e){return null!=e.fontSize?+e.fontSize||0:11}function ap(e){return null!=e.lineHeight?e.lineHeight:rp(e)+2}function ip(e){return t=e.lineBreak&&e.text&&!Object(Pt.x)(e.text)?e.text.split(e.lineBreak):e.text,Object(Pt.x)(t)?t.length>1?t:t[0]:t;var t}function op(e){var t=ip(e);return(Object(Pt.x)(t)?t.length-1:0)*ap(e)}function up(e,t){var n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(Zh.width===tp){var t=cp(e);return function(e){return np(e,t)}}var n=rp(e);return function(e){return ep(e,n)}}(e);if(r(t)<n)return t;var a,i=e.ellipsis||"\u2026",o="rtl"===e.dir,u=0,s=t.length;if(n-=r(i),o){for(;u<s;)a=u+s>>>1,r(t.slice(a))>n?u=a+1:s=a;return i+t.slice(u)}for(;u<s;)a=1+(u+s>>>1),r(t.slice(0,a))<n?u=a:s=a-1;return t.slice(0,u)+i}(e,n):n}function sp(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function cp(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+rp(e)+"px "+sp(e,t)}function lp(e){var t=e.baseline,n=rp(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*ap(e):"line-bottom"===t?.29*n-.5*ap(e):0)}Jh(!0);var fp={left:"start",center:"middle",right:"end"},dp=new wd;function hp(e){var t,n=e.x||0,r=e.y||0,a=e.radius||0;return a&&(t=(e.theta||0)-Ff,n+=a*Math.cos(t),r+=a*Math.sin(t)),dp.x1=n,dp.y1=r,dp}function pp(e,t,n){var r,a=Zh.height(t),i=t.align,o=hp(t),u=o.x1,s=o.y1,c=t.dx||0,l=(t.dy||0)+lp(t)-Math.round(.8*a),f=ip(t);if(Object(Pt.x)(f)?(a+=ap(t)*(f.length-1),r=f.reduce((function(e,n){return Math.max(e,Zh.width(t,n))}),0)):r=Zh.width(t,f),"center"===i?c-=r/2:"right"===i&&(c-=r),e.set(c+=u,l+=s,c+r,l+a),t.angle&&!n)e.rotate(t.angle*Mf,u,s);else if(2===n)return e.rotatedPoints(t.angle*Mf,u,s);return e}var vp={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,a=(t.dy||0)+lp(t),i=hp(t),o=i.x1,u=i.y1,s=t.angle||0;e("text-anchor",fp[t.align]||"start"),s?(n=yh(o,u)+" "+xh(s),(r||a)&&(n+=" "+yh(r,a))):n=yh(o+r,u+a),e("transform",n)},bound:pp,draw:function(e,t,n){dh(t,(function(t){var r,a,i,o,u,s,c,l=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===l||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=cp(t),e.textAlign=t.align||"left",a=(r=hp(t)).x1,i=r.y1,t.angle&&(e.save(),e.translate(a,i),e.rotate(t.angle*Mf),a=i=0),a+=t.dx||0,i+=(t.dy||0)+lp(t),s=ip(t),rh(e,t),Object(Pt.x)(s))for(u=ap(t),o=0;o<s.length;++o)c=up(t,s[o]),t.fill&&uh(e,t,l)&&e.fillText(c,a,i),t.stroke&&ch(e,t,l)&&e.strokeText(c,a,i),i+=u;else c=up(t,s),t.fill&&uh(e,t,l)&&e.fillText(c,a,i),t.stroke&&ch(e,t,l)&&e.strokeText(c,a,i);t.angle&&e.restore()}}))},pick:mh((function(e,t,n,r,a,i){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=hp(t),u=o.x1,s=o.y1,c=pp(dp,t,1),l=-t.angle*Mf,f=Math.cos(l),d=Math.sin(l),h=f*a-d*i+(u-f*u+d*s),p=d*a+f*i+(s-d*u-f*s);return c.contains(h,p)})),isect:function(e,t){var n=pp(dp,e,2);return nh(t,n[0],n[1],n[2],n[3])||nh(t,n[0],n[1],n[4],n[5])||nh(t,n[4],n[5],n[6],n[7])||nh(t,n[2],n[3],n[6],n[7])}},mp={arc:kh,area:_h,group:Ih,image:Lh,line:Uh,path:Vh,rect:Gh,rule:Xh,shape:Yh,symbol:Kh,text:vp,trail:jh("trail",(function(e,t){return vd.context(e)(t)}),(function(e,t){for(var n,r,a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(r=e[a].y-t[1])*r<(n=e[a].size||1)*n)return e[a];return null}))};function gp(e,t,n){var r=mp[e.mark.marktype],a=t||r.bound;return r.nested&&(e=e.mark),a(e.bounds||(e.bounds=new wd),e,n)}var bp={mark:null};function yp(e,t,n){var r,a,i,o,u=mp[e.marktype],s=u.bound,c=e.items,l=c&&c.length;if(u.nested)return l?i=c[0]:(bp.mark=e,i=bp),o=gp(i,s,n),t=t&&t.union(o)||o;if(t=t||e.bounds&&e.bounds.clear()||new wd,l)for(r=0,a=c.length;r<a;++r)t.union(gp(c[r],s,n));return e.bounds=t}var xp=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function wp(e,t){return JSON.stringify(e,xp,t)}function Op(e){return kp("string"===typeof e?JSON.parse(e):e)}function kp(e){var t,n,r,a=e.marktype,i=e.items;if(i)for(n=0,r=i.length;n<r;++n)t=a?"mark":"group",i[n][t]=e,i[n].zindex&&(i[n][t].zdirty=!0),"group"===(a||t)&&kp(i[n]);return a&&yp(e),e}function jp(e){arguments.length?this.root=Op(e):(this.root=_p({marktype:"group",name:"root",role:"frame"}),this.root.items=[new kd(this.root)])}function _p(e,t){var n={bounds:new wd,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Sp(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Ep(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,a=n.length;r<a;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Ap(e,t,n,r){var a,i=e.childNodes[t];return i&&i.tagName.toLowerCase()===n.toLowerCase()||(a=i||null,i=Sp(e.ownerDocument,n,r),e.insertBefore(i,a)),i}function Cp(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function Np(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function Tp(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function Dp(e,t){this._active=null,this._handlers={},this._loader=e||Object(zt.e)(),this._tooltip=t||Ip}function Ip(e,t,n,r){e.element().setAttribute("title",r||"")}function Mp(e){this._el=null,this._bgcolor=null,this._loader=new jd(e)}jp.prototype={toJSON:function(e){return wp(this.root,e||0)},mark:function(e,t,n){var r=_p(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},Dp.prototype={initialize:function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},origin:function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene:function(e){return arguments.length?(this._scene=e,this):this._scene},on:function(){},off:function(){},_handlerIndex:function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers:function(e){var t=this._handlers,n=[];if(e)n.push.apply(n,Object(yi.a)(t[this.eventName(e)]));else for(var r in t)n.push.apply(n,Object(yi.a)(t[r]));return n},eventName:function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref:function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),r=Sp(null,"a");for(var a in t)r.setAttribute(a,t[a]);r.dispatchEvent(n)})).catch((function(){}))},handleTooltip:function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var a,i,o=e&&e.mark;if(o&&(a=mp[o.marktype]).tip){for((i=Tp(t,n))[0]-=r[0],i[1]-=r[1];e=e.mark.group;)i[0]-=e.x||0,i[1]-=e.y||0;e=a.tip(o.items,i)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect:function(e){var t=this.canvas();if(t){for(var n=t.getBoundingClientRect(),r=this._origin,a=e.bounds,i=a.width(),o=a.height(),u=a.x1+r[0]+n.left,s=a.y1+r[1]+n.top;e.mark&&(e=e.mark.group);)u+=e.x||0,s+=e.y||0;return{x:u,y:s,width:i,height:o,left:u,top:s,right:u+i,bottom:s+o}}}},Mp.prototype={initialize:function(e,t,n,r,a){return this._el=e,this.resize(t,n,r,a)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},background:function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize:function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty:function(){},render:function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render:function(){},renderAsync:function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},_load:function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var a=n._call;n._ready=n._loader.ready().then((function(e){e&&a(),n._ready=null}))}return r},sanitizeURL:function(e){return this._load("sanitizeURL",e)},loadImage:function(e){return this._load("loadImage",e)}};var Fp="dragenter",Rp="dragleave",Pp="dragover",zp="mousedown",Bp="mousemove",Lp="mouseout",Up="mouseover",Wp="click",Vp="mousewheel",Hp="touchstart",Gp="touchmove",qp="touchend",Xp=["keydown","keypress","keyup",Fp,Rp,Pp,zp,"mouseup",Bp,Lp,Up,Wp,"dblclick","wheel",Vp,Hp,Gp,qp],Yp=Bp,Kp=Lp,$p=Wp;function Zp(e,t){Dp.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function Jp(e,t){(function(e){return e===Hp||e===Gp||e===qp?[Hp,Gp,qp]:[e]})(t).forEach((function(t){return function(e,t){var n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?function(n){return e[t](n)}:function(n){return e.fire(t,n)}))}(e,t)}))}function Qp(e,t,n){return function(r){var a=this._active,i=this.pickEvent(r);i===a||(a&&a.exit||this.fire(n,r),this._active=i,this.fire(t,r)),this.fire(e,r)}}function ev(e){return function(t){this.fire(e,t),this._active=null}}Object(Pt.v)(Zp,Dp,{initialize:function(e,t,n){var r=this;return this._canvas=e&&Ep(e,"canvas"),[Wp,zp,Bp,Lp,Rp].forEach((function(e){return Jp(r,e)})),Dp.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._canvas},context:function(){return this._canvas.getContext("2d")},events:Xp,DOMMouseScroll:function(e){this.fire(Vp,e)},mousemove:Qp(Bp,Up,Lp),dragover:Qp(Pp,Fp,Rp),mouseout:ev(Lp),dragleave:ev(Rp),mousedown:function(e){this._down=this._active,this.fire(zp,e)},click:function(e){this._down===this._active&&(this.fire(Wp,e),this._down=null)},touchstart:function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Hp,e,!0)},touchmove:function(e){this.fire(Gp,e,!0)},touchend:function(e){this.fire(qp,e,!0),this._touch=null},fire:function(e,t,n){var r=n?this._touch:this._active,a=this._handlers[e];if(t.vegaType=e,e===$p&&r&&r.href?this.handleHref(t,r,r.href):e!==Yp&&e!==Kp||this.handleTooltip(t,r,e!==Kp),a)for(var i=0,o=a.length;i<o;++i)a[i].handler.call(this._obj,t,r)},on:function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(Jp(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off:function(e,t){var n=this.eventName(e),r=this._handlers[n],a=this._handlerIndex(r,e,t);return a>=0&&r.splice(a,1),this},pickEvent:function(e){var t=Tp(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick:function(e,t,n,r,a){var i=this.context();return mp[e.marktype].pick.call(this,i,e,t,n,r,a)}});var tv="undefined"!==typeof window&&window.devicePixelRatio||1;function nv(e){Mp.call(this,e),this._options={},this._redraw=!1,this._dirty=new wd,this._tempb=new wd}var rv=Mp.prototype;function av(e,t){Dp.call(this,e,t);var n=this;n._hrefHandler=iv(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=iv(n,(function(e,t){n.handleTooltip(e,t,e.type!==Kp)}))}Object(Pt.v)(nv,Mp,{initialize:function(e,t,n,r,a,i){return this._options=i||{},this._canvas=this._options.externalContext?null:Po(1,1,this._options.type),e&&this._canvas&&(Cp(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),rv.initialize.call(this,e,t,n,r,a)},resize:function(e,t,n,r){if(rv.resize.call(this,e,t,n,r),this._canvas)!function(e,t,n,r,a,i){var o="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,u=e.getContext("2d"),s=o?tv:a;for(var c in e.width=t*s,e.height=n*s,i)u[c]=i[c];o&&1!==s&&(e.style.width=t+"px",e.style.height=n+"px"),u.pixelRatio=s,u.setTransform(s,0,0,s,s*r[0],s*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{var a=this._options.externalContext;a||Object(Pt.k)("CanvasRenderer is missing a valid canvas or context"),a.scale(this._scale,this._scale),a.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty:function(e){for(var t=this._tempb.clear().union(e.bounds),n=e.mark.group;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render:function(e){var t,n,r,a=this.context(),i=this._origin,o=this._width,u=this._height,s=this._dirty,c=(t=i,n=o,r=u,(new wd).set(0,0,n,r).translate(-t[0],-t[1]));a.save();var l=this._redraw||s.empty()?(this._redraw=!1,c.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(a,c.intersect(s),i);return this.clear(-i[0],-i[1],o,u),this.draw(a,e,l),a.restore(),s.clear(),this},draw:function(e,t,n){var r=mp[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Object(Pt.A)(n)?(e.beginPath(),n(e),e.clip()):Sh(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear:function(e,t,n,r){var a=this._options,i=this.context();"pdf"===a.type||a.externalContext||i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))}});var iv=function(e,t){return function(n){var r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)}};Object(Pt.v)(av,Dp,{initialize:function(e,t,n){var r=this._svg;return r&&(r.removeEventListener($p,this._hrefHandler),r.removeEventListener(Yp,this._tooltipHandler),r.removeEventListener(Kp,this._tooltipHandler)),this._svg=r=e&&Ep(e,"svg"),r&&(r.addEventListener($p,this._hrefHandler),r.addEventListener(Yp,this._tooltipHandler),r.addEventListener(Kp,this._tooltipHandler)),Dp.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._svg},on:function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var a={type:e,handler:t,listener:iv(this,t)};(r[n]||(r[n]=[])).push(a),this._svg&&this._svg.addEventListener(n,a.listener)}return this},off:function(e,t){var n=this.eventName(e),r=this._handlers[n],a=this._handlerIndex(r,e,t);return a>=0&&(this._svg&&this._svg.removeEventListener(n,r[a].listener),r.splice(a,1)),this}});var ov="aria-hidden",uv="aria-label",sv="role",cv="aria-roledescription",lv="graphics-object",fv="graphics-symbol",dv=function(e,t,n){var r;return r={},Object(xi.a)(r,sv,e),Object(xi.a)(r,cv,t),Object(xi.a)(r,uv,n||void 0),r},hv=Object(Pt.ab)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),pv={axis:{desc:"axis",caption:function(e){var t=e.datum,n=e.orient,r=t.title?yv(e):null,a=e.context,i=a.scales[t.scale].value,o=a.dataflow.locale(),u=i.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(Ul(u)?"discrete":u," scale")+" with ".concat(Of(o,i,e))}},legend:{desc:"legend",caption:function(e){var t=e.datum,n=t.title?yv(e):null,r="".concat(t.type||""," legend").trim(),a=t.scales,i=Object.keys(a),o=e.context,u=o.scales[a[i[0]]].value,s=o.dataflow.locale();return c=r,(c.length?c[0].toUpperCase()+c.slice(1):c)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(e){return(e=e.map((function(e){return e+("fill"===e||"stroke"===e?" color":"")}))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Object(Pt.S)(e)}(i))+" with ".concat(Of(s,u,e));var c}},"title-text":{desc:"title",caption:function(e){return"Title text '".concat(bv(e),"'")}},"title-subtitle":{desc:"subtitle",caption:function(e){return"Subtitle text '".concat(bv(e),"'")}}},vv={ariaRole:sv,ariaRoleDescription:cv,description:uv};function mv(e,t){var n=!1===t.aria;if(e(ov,n||void 0),n||null==t.description)for(var r in vv)e(vv[r],void 0);else{var a=t.mark.marktype;e(uv,t.description),e(sv,t.ariaRole||("group"===a?lv:fv)),e(cv,t.ariaRoleDescription||"".concat(a," mark"))}}function gv(e){return!1===e.aria?Object(xi.a)({},ov,!0):hv[e.role]?null:pv[e.role]?function(e,t){try{var n=e.items[0],r=t.caption||function(){return""};return dv(t.role||fv,t.desc,n.description||r(n))}catch(a){return null}}(e,pv[e.role]):function(e){var t=e.marktype,n="group"===t||"text"===t||e.items.some((function(e){return null!=e.description&&!1!==e.aria}));return dv(n?lv:fv,"".concat(t," mark container"),e.description)}(e)}function bv(e){return Object(Pt.e)(e.text).join(" ")}function yv(e){try{return Object(Pt.e)(Object(Pt.S)(e.items).items[0].text).join(" ")}catch(t){return null}}var xv=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};function wv(){var e="",t="",n="",r=[],a=function(){return t=n=""},i=function(i){t&&(e+="".concat(t,">").concat(n),a()),r.push(i)},o=function(e,n){return null!=n&&(t+=" ".concat(e,'="').concat(xv(n).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')),u},u={open:function(e){i(e),t="<"+e;for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var s=0,c=r;s<c.length;s++){var l=c[s];for(var f in l)o(f,l[f])}return u},close:function(){var i=r.pop();return e+=t?t+(n?">".concat(n,"</").concat(i,">"):"/>"):"</".concat(i,">"),a(),u},attr:o,text:function(e){return n+=xv(e),u},toString:function(){return e}};return u}var Ov=function(e){return kv(wv(),e)+""};function kv(e,t){if(e.open(t.tagName),t.hasAttributes())for(var n=t.attributes,r=n.length,a=0;a<r;++a)e.attr(n[a].name,n[a].value);if(t.hasChildNodes())for(var i=t.childNodes,o=i.length,u=0;u<o;u++){var s=i[u];3===s.nodeType?e.text(s.nodeValue):kv(e,s)}return e.close()}var jv={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},_v={fill:"none","stroke-miterlimit":10},Sv="http://www.w3.org/2000/xmlns/",Ev=Mh.xmlns;function Av(e){Mp.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var Cv=Mp.prototype;function Nv(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function Tv(e,t,n){var r,a,i;if("radial"===t.gradient){var o=Ap(e,n++,"pattern",Ev);Bv(o,{id:jf+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Bv(o=Ap(o,0,"rect",Ev),{width:1,height:1,fill:"url(".concat(Uv(),"#").concat(t.id,")")}),Bv(e=Ap(e,n++,"radialGradient",Ev),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else Bv(e=Ap(e,n++,"linearGradient",Ev),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,a=t.stops.length;r<a;++r)(i=Ap(e,r,"stop",Ev)).setAttribute("offset",t.stops[r].offset),i.setAttribute("stop-color",t.stops[r].color);return Cp(e,r),n}function Dv(e,t,n){return(e=Ap(e,n,"clipPath",Ev)).setAttribute("id",t.id),t.path?Ap(e,0,"path",Ev).setAttribute("d",t.path):Bv(Ap(e,0,"rect",Ev),{x:0,y:0,width:t.width,height:t.height}),Cp(e,1),n+1}function Iv(e,t,n,r,a){var i,o=e._svg;if(!o&&(o=Sp(i=t.ownerDocument,r,Ev),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===r))){var u=Sp(i,"path",Ev);o.appendChild(u),u.__data__=e;var s=Sp(i,"g",Ev);o.appendChild(s),s.__data__=e;var c=Sp(i,"path",Ev);o.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(o.ownerSVGElement!==a||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}Object(Pt.v)(Av,Mp,{initialize:function(e,t,n,r,a){return this._defs={},this._clearDefs(),e&&(this._svg=Ap(e,0,"svg",Ev),this._svg.setAttributeNS(Sv,"xmlns",Ev),this._svg.setAttributeNS(Sv,"xmlns:xlink",Mh["xmlns:xlink"]),this._svg.setAttribute("version",Mh.version),this._svg.setAttribute("class","marks"),Cp(e,1),this._root=Ap(this._svg,0,"g",Ev),Bv(this._root,_v),Cp(this._svg,1)),this.background(this._bgcolor),Cv.initialize.call(this,e,t,n,r,a)},background:function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),Cv.background.apply(this,arguments)},resize:function(e,t,n,r){return Cv.resize.call(this,e,t,n,r),this._svg&&(Bv(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas:function(){return this._svg},svg:function(){var e,t=this._svg,n=this._bgcolor;if(!t)return null;n&&(t.removeAttribute("style"),Bv(e=Ap(t,0,"rect",Ev),{width:this._width,height:this._height,fill:n}));var r=Ov(t);return n&&(t.removeChild(e),this._svg.style.setProperty("background-color",n)),r},_render:function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),Cp(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty:function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty:function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck:function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,a,i,o,u,s=++this._dirtyID;for(i=0,o=e.length;i<o;++i)(n=(t=e[i]).mark).marktype!==r&&(r=n.marktype,a=mp[r]),n.zdirty&&n.dirty!==s&&(this._dirtyAll=!1,Nv(t,s),n.items.forEach((function(e){e.dirty=s}))),n.zdirty||(t.exit?(a.nested&&n.items.length?(u=n.items[0])._svg&&this._update(a,u._svg,u):t._svg&&(u=t._svg.parentNode)&&u.removeChild(t._svg),t._svg=null):(t=a.nested?n.items[0]:t)._update!==s&&(t._svg&&t._svg.ownerSVGElement?this._update(a,t._svg,t):(this._dirtyAll=!1,Nv(t,s)),t._update=s));return!this._dirtyAll},mark:function(e,t,n){var r=this;if(!this.isDirty(t))return t._svg;var a=this._svg,i=mp[t.marktype],o=!1===t.interactive?"none":null,u="g"===i.tag,s=null,c=0,l=Iv(t,e,n,"g",a);l.setAttribute("class",Np(t));var f=gv(t);for(var d in f)Lv(l,d,f[d]);u||Lv(l,"pointer-events",o),Lv(l,"clip-path",t.clip?xd(this,t,t.group):null);var h=function(e){var t=r.isDirty(e),n=Iv(e,l,s,i.tag,a);t&&(r._update(i,n,e),u&&function(e,t,n){t=t.lastChild.previousSibling;var r,a=0;dh(n,(function(n){r=e.mark(t,n,r),++a})),Cp(t,1+a)}(r,n,e)),s=n,++c};return i.nested?t.items.length&&h(t.items[0]):dh(t,h),Cp(l,c),l},_update:function(e,t,n){Mv=t,Fv=t.__values__,mv(Pv,n),e.attr(Pv,n,this);var r=Rv[e.type];r&&r.call(this,e,t,n),Mv&&this.style(Mv,n)},style:function(e,t){if(null!=t)for(var n in jv){var r="font"===n?sp(t):t[n];if(r!==Fv[n]){var a=jv[n];null==r?e.removeAttribute(a):(_f(r)&&(r=Sf(r,this._defs.gradient,Uv())),e.setAttribute(a,r+"")),Fv[n]=r}}},defs:function(){var e=this._svg,t=this._defs,n=t.el,r=0;for(var a in t.gradient)n||(t.el=n=Ap(e,1,"defs",Ev)),r=Tv(n,t.gradient[a],r);for(var i in t.clipping)n||(t.el=n=Ap(e,1,"defs",Ev)),r=Dv(n,t.clipping[i],r);n&&(0===r?(e.removeChild(n),t.el=null):Cp(n,r))},_clearDefs:function(){var e=this._defs;e.gradient={},e.clipping={}}});var Mv=null,Fv=null,Rv={group:function(e,t,n){var r=Mv=t.childNodes[2];Fv=r.__values__,e.foreground(Pv,n,this),Fv=t.__values__,Mv=t.childNodes[1],e.content(Pv,n,this);var a=Mv=t.childNodes[0];e.background(Pv,n,this);var i=!1===n.mark.interactive?"none":null;if(i!==Fv.events&&(Lv(r,"pointer-events",i),Lv(a,"pointer-events",i),Fv.events=i),n.strokeForeground&&n.stroke){var o=n.fill;Lv(r,"display",null),this.style(a,n),Lv(a,"stroke",null),o&&(n.fill=null),Fv=r.__values__,this.style(r,n),o&&(n.fill=o),Mv=null}else Lv(r,"display","none")},image:function(e,t,n){!1===n.smooth?(zv(t,"image-rendering","optimizeSpeed"),zv(t,"image-rendering","pixelated")):zv(t,"image-rendering",null)},text:function(e,t,n){var r,a,i,o,u=ip(n);Object(Pt.x)(u)?(r=(a=u.map((function(e){return up(n,e)}))).join("\n"))!==Fv.text&&(Cp(t,0),i=t.ownerDocument,o=ap(n),a.forEach((function(e,r){var a=Sp(i,"tspan",Ev);a.__data__=n,a.textContent=e,r&&(a.setAttribute("x",0),a.setAttribute("dy",o)),t.appendChild(a)})),Fv.text=r):(a=up(n,u))!==Fv.text&&(t.textContent=a,Fv.text=a),Lv(t,"font-family",sp(n)),Lv(t,"font-size",rp(n)+"px"),Lv(t,"font-style",n.fontStyle),Lv(t,"font-variant",n.fontVariant),Lv(t,"font-weight",n.fontWeight)}};function Pv(e,t,n){t!==Fv[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(Mv,e,t,n):Lv(Mv,e,t),Fv[e]=t)}function zv(e,t,n){n!==Fv[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),Fv[t]=n)}function Bv(e,t){for(var n in t)Lv(e,n,t[n])}function Lv(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function Uv(){var e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function Wv(e){Mp.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}Object(Pt.v)(Wv,Mp,{svg:function(){return this._text},_render:function(e){var t=wv();t.open("svg",Object(Pt.l)({},Mh,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));var n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",_v,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark:function(e,t){var n=this,r=mp[t.marktype],a=r.tag,i=[mv,r.attr];e.open("g",{class:Np(t),"clip-path":t.clip?xd(this,t,t.group):null},gv(t),{"pointer-events":"g"!==a&&!1===t.interactive?"none":null});var o=function(o){var u=n.href(o);if(u&&e.open("a",u),e.open(a,n.attr(t,o,i,"g"!==a?a:null)),"text"===a){var s=ip(o);if(Object(Pt.x)(s))for(var c={x:0,dy:ap(o)},l=0;l<s.length;++l)e.open("tspan",l?c:null).text(up(o,s[l])).close();else e.text(up(o,s))}else if("g"===a){var f=o.strokeForeground,d=o.fill,h=o.stroke;f&&h&&(o.stroke=null),e.open("path",n.attr(t,o,r.background,"bgrect")).close(),e.open("g",n.attr(t,o,r.content)),dh(o,(function(t){return n.mark(e,t)})),e.close(),f&&h?(d&&(o.fill=null),o.stroke=h,e.open("path",n.attr(t,o,r.foreground,"bgrect")).close(),d&&(o.fill=d)):e.open("path",n.attr(t,o,r.foreground,"bgfore")).close()}e.close(),u&&e.close()};return r.nested?t.items&&t.items.length&&o(t.items[0]):dh(t,o),e.close()},href:function(e){var t,n=this,r=e.href;if(r){if(t=this._hrefs&&this._hrefs[r])return t;this.sanitizeURL(r).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e}))}return null},attr:function(e,t,n,r){var a=this,i={},o=function(e,t,n,r){i[r||e]=t};return Array.isArray(n)?n.forEach((function(e){return e(o,t,a)})):n(o,t,this),r&&function(e,t,n,r,a){if(null==t)return e;"bgrect"===r&&!1===n.interactive&&(e["pointer-events"]="none");if("bgfore"===r&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===r&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===r&&(e["font-family"]=sp(t),e["font-size"]=rp(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(var i in jv){var o=t[i],u=jv[i];("transparent"!==o||"fill"!==u&&"stroke"!==u)&&null!=o&&(_f(o)&&(o=Sf(o,a.gradient,"")),e[u]=o)}}(i,t,e,r,this._defs),i},defs:function(e){var t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){for(var r in e.open("defs"),t){var a=t[r],i=a.stops;"radial"===a.gradient?(e.open("pattern",{id:jf+r,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+r+")"}).close(),e.close(),e.open("radialGradient",{id:r,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):e.open("linearGradient",{id:r,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(var o=0;o<i.length;++o)e.open("stop",{offset:i[o].offset,"stop-color":i[o].color}).close();e.close()}for(var u in n){var s=n[u];e.open("clipPath",{id:u}),s.path?e.open("path",{d:s.path}).close():e.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),e.close()}e.close()}}});var Vv="canvas",Hv="none",Gv={Canvas:Vv,PNG:"png",SVG:"svg",None:Hv},qv={};function Xv(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(qv[e]=t,this):qv[e]}function Yv(e,t,n){var r=[],a=(new wd).union(t),i=e.marktype;return i?Kv(e,a,n,r):"group"===i?$v(e,a,n,r):Object(Pt.k)("Intersect scene must be mark node or group item.")}function Kv(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var a=e.items,i=e.marktype,o=a.length,u=0;if("group"===i)for(;u<o;++u)$v(a[u],t,n,r);else for(var s=mp[i].isect;u<o;++u){var c=a[u];Zv(c,t,s)&&r.push(c)}}return r}function $v(e,t,n,r){n&&n(e.mark)&&Zv(e,t,mp.group.isect)&&r.push(e);var a=e.items,i=a&&a.length;if(i){var o=e.x||0,u=e.y||0;t.translate(-o,-u);for(var s=0;s<i;++s)Kv(a[s],t,n,r);t.translate(o,u)}return r}function Zv(e,t,n){var r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}qv.canvas=qv.png={renderer:nv,headless:nv,handler:Zp},qv.svg={renderer:Av,headless:Wv,handler:av},qv.none={};var Jv=new wd;function Qv(e){var t=e.clip;if(Object(Pt.A)(t))t(Gd(Jv.clear()));else{if(!t)return;Jv.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(Jv)}function em(e,t,n){return e===t||("path"===n?tm(e,t):e instanceof Date&&t instanceof Date?+e===+t:Object(Pt.C)(e)&&Object(Pt.C)(t)?Math.abs(e-t)<=1e-9:e&&t&&(Object(Pt.D)(e)||Object(Pt.D)(t))?function(e,t){var n,r,a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(a.sort(),i.sort(),r=a.length-1;r>=0;r--)if(a[r]!=i[r])return!1;for(r=a.length-1;r>=0;r--)if(!em(e[n=a[r]],t[n],n))return!1;return typeof e===typeof t}(e,t):e==t)}function tm(e,t){return em(If(e),If(t))}function nm(){yd(),kf=0}var rm="top",am="left",im="right",om="bottom",um="start",sm="middle",cm="end",lm="group",fm="axis",dm="title",hm="frame",pm="scope",vm="legend",mm="row-header",gm="row-footer",bm="row-title",ym="column-header",xm="column-footer",wm="column-title",Om="padding",km="fit",jm="fit-x",_m="fit-y",Sm="none",Em="all",Am="each",Cm="flush",Nm="column",Tm="row";function Dm(e){Tn.call(this,null,e)}function Im(e,t,n){return t(e.bounds.clear(),e,n)}Object(Pt.v)(Dm,Tn,{transform:function(e,t){var n,r=t.dataflow,a=e.mark,i=a.marktype,o=mp[i],u=o.bound,s=a.bounds;if(o.nested)a.items.length&&r.dirty(a.items[0]),s=Im(a,u),a.items.forEach((function(e){e.bounds.clear().union(s)}));else if(i===lm||e.modified())switch(t.visit(t.MOD,(function(e){return r.dirty(e)})),s.clear(),a.items.forEach((function(e){return s.union(Im(e,u))})),a.role){case fm:case vm:case dm:t.reflow()}else n=t.changed(t.REM),t.visit(t.ADD,(function(e){s.union(Im(e,u))})),t.visit(t.MOD,(function(e){n=n||s.alignsWith(e.bounds),r.dirty(e),s.union(Im(e,u))})),n&&(s.clear(),a.items.forEach((function(e){return s.union(e.bounds)})));return Qv(a),t.modifies("bounds")}});var Mm=":vega_identifier:";function Fm(e){Tn.call(this,0,e)}function Rm(e){Tn.call(this,null,e)}function Pm(e){Tn.call(this,null,e)}Fm.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(Pt.v)(Fm,Tn,{transform:function(e,t){var n,r=(n=t.dataflow)._signals[Mm]||(n._signals[Mm]=n.add(0)),a=e.as,i=r.value;return t.visit(t.ADD,(function(e){return e[a]=e[a]||++i})),r.set(this.value=i),t}}),Object(Pt.v)(Rm,Tn,{transform:function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var r=n.marktype===lm?kd:Od;return t.visit(t.ADD,(function(e){return r.call(e,n)})),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});var zm={parity:function(e){return e.filter((function(e,t){return t%2?e.opacity=0:1}))},greedy:function(e,t){var n;return e.filter((function(e,r){return r&&Bm(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)}))}},Bm=function(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)},Lm=function(e,t){for(var n,r=1,a=e.length,i=e[0].bounds;r<a;i=n,++r)if(Bm(i,n=e[r].bounds,t))return!0},Um=function(e){var t=e.bounds;return t.width()>1&&t.height()>1},Wm=function(e){return e.forEach((function(e){return e.opacity=1})),e},Vm=function(e,t){return e.reflow(t.modified()).modifies("opacity")};function Hm(e){Tn.call(this,null,e)}Object(Pt.v)(Pm,Tn,{transform:function(e,t){var n,r,a=zm[e.method]||zm.parity,i=e.separation||0,o=t.materialize(t.SOURCE).source;if(o&&o.length){if(!e.method)return e.modified("method")&&(Wm(o),t=Vm(t,e)),t;if((o=o.filter(Um)).length){if(e.sort&&(o=o.slice().sort(e.sort)),n=Wm(o),t=Vm(t,e),n.length>=3&&Lm(n,i)){do{n=a(n,i)}while(n.length>=3&&Lm(n,i));n.length<3&&!Object(Pt.S)(o).opacity&&(n.length>1&&(Object(Pt.S)(n).opacity=0),Object(Pt.S)(o).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(r=function(e,t,n){var r=e.range(),a=new wd;return t===rm||t===om?a.set(r[0],-1/0,r[1],1/0):a.set(-1/0,r[0],1/0,r[1]),a.expand(n||1),function(e){return a.encloses(e.bounds)}}(e.boundScale,e.boundOrient,+e.boundTolerance),o.forEach((function(e){r(e)||(e.opacity=0)})));var u=n[0].mark.bounds.clear();return o.forEach((function(e){e.opacity&&u.union(e.bounds)})),t}}}}),Object(Pt.v)(Hm,Tn,{transform:function(e,t){var n=t.dataflow;if(t.visit(t.ALL,(function(e){return n.dirty(e)})),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});var Gm=new wd;function qm(e,t,n){return e[t]===n?0:(e[t]=n,1)}function Xm(e){var t=e.items[0].orient;return t===am||t===im}function Ym(e,t,n,r){var a,i,o=t.items[0],u=o.datum,s=null!=o.translate?o.translate:.5,c=o.orient,l=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(u),f=o.range,d=o.offset,h=o.position,p=o.minExtent,v=o.maxExtent,m=u.title&&o.items[l[2]].items[0],g=o.titlePadding,b=o.bounds,y=m&&op(m),x=0,w=0;switch(Gm.clear().union(b),b.clear(),(a=l[0])>-1&&b.union(o.items[a].bounds),(a=l[1])>-1&&b.union(o.items[a].bounds),c){case rm:x=h||0,w=-d,i=Math.max(p,Math.min(v,-b.y1)),b.add(0,-i).add(f,0),m&&Km(e,m,i,g,y,0,-1,b);break;case am:x=-d,w=h||0,i=Math.max(p,Math.min(v,-b.x1)),b.add(-i,0).add(0,f),m&&Km(e,m,i,g,y,1,-1,b);break;case im:x=n+d,w=h||0,i=Math.max(p,Math.min(v,b.x2)),b.add(0,0).add(i,f),m&&Km(e,m,i,g,y,1,1,b);break;case om:x=h||0,w=r+d,i=Math.max(p,Math.min(v,b.y2)),b.add(0,0).add(f,i),m&&Km(e,m,i,g,0,0,1,b);break;default:x=o.x,w=o.y}return Ed(b.translate(x,w),o),qm(o,"x",x+s)|qm(o,"y",w+s)&&(o.bounds=Gm,e.dirty(o),o.bounds=b,e.dirty(o)),o.mark.bounds.clear().union(b)}function Km(e,t,n,r,a,i,o,u){var s=t.bounds;if(t.auto){var c=o*(n+a+r),l=0,f=0;e.dirty(t),i?l=(t.x||0)-(t.x=c):f=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(s.translate(-l,-f)),e.dirty(t)}u.union(s)}var $m=function(e,t){return Math.floor(Math.min(e,t))},Zm=function(e,t){return Math.ceil(Math.max(e,t))};function Jm(e){return(new wd).set(0,0,e.width||0,e.height||0)}function Qm(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function eg(e,t,n){var r=Object(Pt.D)(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function tg(e){return e<0?Math.ceil(-e):0}function ng(e,t,n){var r,a,i,o,u,s,c,l,f,d,h,p=!n.nodirty,v=n.bounds===Cm?Jm:Qm,m=Gm.set(0,0,0,0),g=eg(n.align,Nm),b=eg(n.align,Tm),y=eg(n.padding,Nm),x=eg(n.padding,Tm),w=n.columns||t.length,O=w<=0?1:Math.ceil(t.length/w),k=t.length,j=Array(k),_=Array(w),S=0,E=Array(k),A=Array(O),C=0,N=Array(k),T=Array(k),D=Array(k);for(a=0;a<w;++a)_[a]=0;for(a=0;a<O;++a)A[a]=0;for(a=0;a<k;++a)s=t[a],u=D[a]=v(s),s.x=s.x||0,N[a]=0,s.y=s.y||0,T[a]=0,i=a%w,o=~~(a/w),S=Math.max(S,c=Math.ceil(u.x2)),C=Math.max(C,l=Math.ceil(u.y2)),_[i]=Math.max(_[i],c),A[o]=Math.max(A[o],l),j[a]=y+tg(u.x1),E[a]=x+tg(u.y1),p&&e.dirty(t[a]);for(a=0;a<k;++a)a%w===0&&(j[a]=0),a<w&&(E[a]=0);if(g===Am)for(i=1;i<w;++i){for(h=0,a=i;a<k;a+=w)h<j[a]&&(h=j[a]);for(a=i;a<k;a+=w)j[a]=h+_[i-1]}else if(g===Em){for(h=0,a=0;a<k;++a)a%w&&h<j[a]&&(h=j[a]);for(a=0;a<k;++a)a%w&&(j[a]=h+S)}else for(g=!1,i=1;i<w;++i)for(a=i;a<k;a+=w)j[a]+=_[i-1];if(b===Am)for(o=1;o<O;++o){for(h=0,r=(a=o*w)+w;a<r;++a)h<E[a]&&(h=E[a]);for(a=o*w;a<r;++a)E[a]=h+A[o-1]}else if(b===Em){for(h=0,a=w;a<k;++a)h<E[a]&&(h=E[a]);for(a=w;a<k;++a)E[a]=h+C}else for(b=!1,o=1;o<O;++o)for(r=(a=o*w)+w;a<r;++a)E[a]+=A[o-1];for(f=0,a=0;a<k;++a)f=j[a]+(a%w?f:0),N[a]+=f-t[a].x;for(i=0;i<w;++i)for(d=0,a=i;a<k;a+=w)d+=E[a],T[a]+=d-t[a].y;if(g&&eg(n.center,Nm)&&O>1)for(a=0;a<k;++a)(f=(u=g===Em?S:_[a%w])-D[a].x2-t[a].x-N[a])>0&&(N[a]+=f/2);if(b&&eg(n.center,Tm)&&1!==w)for(a=0;a<k;++a)(d=(u=b===Em?C:A[~~(a/w)])-D[a].y2-t[a].y-T[a])>0&&(T[a]+=d/2);for(a=0;a<k;++a)m.union(D[a].translate(N[a],T[a]));switch(f=eg(n.anchor,"x"),d=eg(n.anchor,"y"),eg(n.anchor,Nm)){case cm:f-=m.width();break;case sm:f-=m.width()/2}switch(eg(n.anchor,Tm)){case cm:d-=m.height();break;case sm:d-=m.height()/2}for(f=Math.round(f),d=Math.round(d),m.clear(),a=0;a<k;++a)t[a].mark.bounds.clear();for(a=0;a<k;++a)(s=t[a]).x+=N[a]+=f,s.y+=T[a]+=d,m.union(s.mark.bounds.union(s.bounds.translate(N[a],T[a]))),p&&e.dirty(s);return m}function rg(e,t,n){var r,a,i,o,u,s,c,l=function(e){for(var t,n,r,a,i,o,u,s=e.items,c=s.length,l=0,f={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};l<c;++l)if(u=(o=s[l]).items,o.marktype===lm)switch(o.role){case fm:case vm:case dm:break;case mm:(t=f.rowheaders).push.apply(t,Object(yi.a)(u));break;case gm:(n=f.rowfooters).push.apply(n,Object(yi.a)(u));break;case ym:(r=f.colheaders).push.apply(r,Object(yi.a)(u));break;case xm:(a=f.colfooters).push.apply(a,Object(yi.a)(u));break;case bm:f.rowtitle=u[0];break;case wm:f.coltitle=u[0];break;default:(i=f.marks).push.apply(i,Object(yi.a)(u))}return f}(t),f=l.marks,d=n.bounds===Cm?ag:ig,h=n.offset,p=n.columns||f.length,v=p<=0?1:Math.ceil(f.length/p),m=v*p,g=ng(e,f,n);g.empty()&&g.set(0,0,0,0),l.rowheaders&&(s=eg(n.headerBand,Tm,null),r=og(e,l.rowheaders,f,p,v,-eg(h,"rowHeader"),$m,0,d,"x1",0,p,1,s)),l.colheaders&&(s=eg(n.headerBand,Nm,null),a=og(e,l.colheaders,f,p,p,-eg(h,"columnHeader"),$m,1,d,"y1",0,1,p,s)),l.rowfooters&&(s=eg(n.footerBand,Tm,null),i=og(e,l.rowfooters,f,p,v,eg(h,"rowFooter"),Zm,0,d,"x2",p-1,p,1,s)),l.colfooters&&(s=eg(n.footerBand,Nm,null),o=og(e,l.colfooters,f,p,p,eg(h,"columnFooter"),Zm,1,d,"y2",m-p,1,p,s)),l.rowtitle&&(u=eg(n.titleAnchor,Tm),c=eg(h,"rowTitle"),c=u===cm?i+c:r-c,s=eg(n.titleBand,Tm,.5),ug(e,l.rowtitle,c,0,g,s)),l.coltitle&&(u=eg(n.titleAnchor,Nm),c=eg(h,"columnTitle"),c=u===cm?o+c:a-c,s=eg(n.titleBand,Nm,.5),ug(e,l.coltitle,c,1,g,s))}function ag(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function ig(e,t){return e.bounds[t]}function og(e,t,n,r,a,i,o,u,s,c,l,f,d,h){var p,v,m,g,b,y,x,w,O,k=n.length,j=0,_=0;if(!k)return j;for(p=l;p<k;p+=f)n[p]&&(j=o(j,s(n[p],c)));if(!t.length)return j;for(t.length>a&&(e.warn("Grid headers exceed limit: "+a),t=t.slice(0,a)),j+=i,v=0,g=t.length;v<g;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(p=l,v=0,g=t.length;v<g;++v,p+=f){for(b=(y=t[v]).mark.bounds,m=p;m>=0&&null==(x=n[m]);m-=d);u?(w=null==h?x.x:Math.round(x.bounds.x1+h*x.bounds.width()),O=j):(w=j,O=null==h?x.y:Math.round(x.bounds.y1+h*x.bounds.height())),b.union(y.bounds.translate(w-(y.x||0),O-(y.y||0))),y.x=w,y.y=O,e.dirty(y),_=o(_,b[c])}return _}function ug(e,t,n,r,a,i){if(t){e.dirty(t);var o=n,u=n;r?o=Math.round(a.x1+i*a.width()):u=Math.round(a.y1+i*a.height()),t.bounds.translate(o-(t.x||0),u-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=u,e.dirty(t)}}function sg(e,t,n,r,a,i,o){var u=function(e,t){var n=e[t]||{};return function(t,r){return null!=n[t]?n[t]:null!=e[t]?e[t]:r}}(n,t),s=function(e,t){var n=-1/0;return e.forEach((function(e){null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,u("offset",0)),c=u("anchor",um),l=c===cm?1:c===sm?.5:0,f={align:Am,bounds:u("bounds",Cm),columns:"vertical"===u("direction")?1:e.length,padding:u("margin",8),center:u("center"),nodirty:!0};switch(t){case am:f.anchor={x:Math.floor(r.x1)-s,column:cm,y:l*(o||r.height()+2*r.y1),row:c};break;case im:f.anchor={x:Math.ceil(r.x2)+s,y:l*(o||r.height()+2*r.y1),row:c};break;case rm:f.anchor={y:Math.floor(a.y1)-s,row:cm,x:l*(i||a.width()+2*a.x1),column:c};break;case om:f.anchor={y:Math.ceil(a.y2)+s,x:l*(i||a.width()+2*a.x1),column:c};break;case"top-left":f.anchor={x:s,y:s};break;case"top-right":f.anchor={x:i-s,y:s,column:cm};break;case"bottom-left":f.anchor={x:s,y:o-s,row:cm};break;case"bottom-right":f.anchor={x:i-s,y:o-s,column:cm,row:cm}}return f}function cg(e,t){var n,r,a=t.items[0],i=a.datum,o=a.orient,u=a.bounds,s=a.x,c=a.y;return a._bounds?a._bounds.clear().union(u):a._bounds=u.clone(),u.clear(),function(e,t,n){var r=t.padding,a=r-n.x,i=r-n.y;if(t.datum.title){var o=t.items[1].items[0],u=o.anchor,s=t.titlePadding||0,c=r-o.x,l=r-o.y;switch(o.orient){case am:a+=Math.ceil(o.bounds.width())+s;break;case im:case om:break;default:i+=o.bounds.height()+s}switch((a||i)&&fg(e,n,a,i),o.orient){case am:l+=lg(t,n,o,u,1,1);break;case im:c+=lg(t,n,o,cm,0,0)+s,l+=lg(t,n,o,u,1,1);break;case om:c+=lg(t,n,o,u,0,0),l+=lg(t,n,o,cm,-1,0,1)+s;break;default:c+=lg(t,n,o,u,0,0)}(c||l)&&fg(e,o,c,l),(c=Math.round(o.bounds.x1-r))<0&&(fg(e,n,-c,0),fg(e,o,-c,0))}else(a||i)&&fg(e,n,a,i)}(e,a,a.items[0].items[0]),u=function(e,t){return e.items.forEach((function(e){return t.union(e.bounds)})),t.x1=e.padding,t.y1=e.padding,t}(a,u),n=2*a.padding,r=2*a.padding,u.empty()||(n=Math.ceil(u.width()+n),r=Math.ceil(u.height()+r)),"symbol"===i.type&&function(e){var t=e.reduce((function(e,t){return e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e}),{});e.forEach((function(e){e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(a.items[0].items[0].items[0].items),o!==Sm&&(a.x=s=0,a.y=c=0),a.width=n,a.height=r,Ed(u.set(s,c,s+n,c+r),a),a.mark.bounds.clear().union(u),a}function lg(e,t,n,r,a,i,o){var u="symbol"!==e.datum.type,s=n.datum.vgrad,c=(!u||!i&&s||o?t:t.items[0]).bounds[a?"y2":"x2"]-e.padding,l=s&&i?c:0,f=s&&i?0:c,d=a<=0?0:op(n);return Math.round(r===um?l:r===cm?f-d:.5*(c-d))}function fg(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function dg(e){Tn.call(this,null,e)}function hg(e,t){var n=0;if(void 0===t){var r,a=Object(Fn.a)(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;(i=+i)&&(n+=i)}}catch(l){a.e(l)}finally{a.f()}}else{var o,u=-1,s=Object(Fn.a)(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;(c=+t(c,++u,e))&&(n+=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function pg(e){Tn.call(this,null,e)}function vg(e){Tn.call(this,null,e)}function mg(){return Yt({})}function gg(e){Tn.call(this,null,e)}function bg(e){Tn.call(this,[],e)}Object(Pt.v)(dg,Tn,{transform:function(e,t){var n,r=t.dataflow;return e.mark.items.forEach((function(t){e.layout&&rg(r,t,e.layout),function(e,t,n){var r,a,i,o,u,s=t.items,c=Math.max(0,t.width||0),l=Math.max(0,t.height||0),f=(new wd).set(0,0,c,l),d=f.clone(),h=f.clone(),p=[];for(o=0,u=s.length;o<u;++o)switch((a=s[o]).role){case fm:(Xm(a)?d:h).union(Ym(e,a,c,l));break;case dm:r=a;break;case vm:p.push(cg(e,a));break;case hm:case pm:case mm:case gm:case bm:case ym:case xm:case wm:d.union(a.bounds),h.union(a.bounds);break;default:f.union(a.bounds)}if(p.length){var v={};for(var m in p.forEach((function(e){(i=e.orient||im)!==Sm&&(v[i]||(v[i]=[])).push(e)})),v){var g=v[m];ng(e,g,sg(g,m,n.legends,d,h,c,l))}p.forEach((function(t){var r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=r,e.dirty(t)),n.autosize&&n.autosize.type===km)switch(t.orient){case am:case im:f.add(r.x1,0).add(r.x2,0);break;case rm:case om:f.add(0,r.y1).add(0,r.y2)}else f.union(r)}))}f.union(d).union(h),r&&f.union(function(e,t,n,r,a){var i,o=t.items[0],u=o.frame,s=o.orient,c=o.anchor,l=o.offset,f=o.padding,d=o.items[0].items[0],h=o.items[1]&&o.items[1].items[0],p=s===am||s===im?r:n,v=0,m=0,g=0,b=0,y=0;if(u!==lm?s===am?(v=a.y2,p=a.y1):s===im?(v=a.y1,p=a.y2):(v=a.x1,p=a.x2):s===am&&(v=r,p=0),i=c===um?v:c===cm?p:(v+p)/2,h&&h.text){switch(s){case rm:case om:y=d.bounds.height()+f;break;case am:b=d.bounds.width()+f;break;case im:b=-d.bounds.width()-f}Gm.clear().union(h.bounds),Gm.translate(b-(h.x||0),y-(h.y||0)),qm(h,"x",b)|qm(h,"y",y)&&(e.dirty(h),h.bounds.clear().union(Gm),h.mark.bounds.clear().union(Gm),e.dirty(h)),Gm.clear().union(h.bounds)}else Gm.clear();switch(Gm.union(d.bounds),s){case rm:m=i,g=a.y1-Gm.height()-l;break;case am:m=a.x1-Gm.width()-l,g=i;break;case im:m=a.x2+Gm.width()+l,g=i;break;case om:m=i,g=a.y2+l;break;default:m=o.x,g=o.y}return qm(o,"x",m)|qm(o,"y",g)&&(Gm.translate(m,g),e.dirty(o),o.bounds.clear().union(Gm),t.bounds.clear().union(Gm),e.dirty(o)),o.bounds}(e,r,c,l,f));t.clip&&f.set(0,0,t.width||0,t.height||0);!function(e,t,n,r){var a=r.autosize||{},i=a.type;if(e._autosize<1||!i)return;var o=e._width,u=e._height,s=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),l=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1)),d=Math.max(0,Math.ceil(n.x2-s)),h=Math.max(0,Math.ceil(n.y2-l));if(a.contains===Om){var p=e.padding();o-=p.left+p.right,u-=p.top+p.bottom}i===Sm?(c=0,f=0,s=o,l=u):i===km?(s=Math.max(0,o-c-d),l=Math.max(0,u-f-h)):i===jm?(s=Math.max(0,o-c-d),u=l+f+h):i===_m?(o=s+c+d,l=Math.max(0,u-f-h)):"pad"===i&&(o=s+c+d,u=l+f+h);e._resizeView(o,u,s,l,[c,f],a.resize)}(e,t,f,n)}(r,t,e)})),(n=e.mark.group)&&"legend-entry"!==n.mark.role?t.reflow():t}}),Object(Pt.v)(pg,Tn,{transform:function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=this.value,i=e.scale,o=uf(i,null==e.count?e.values?e.values.length:10:e.count,e.minstep),u=e.format||lf(n,i,o,e.formatSpecifier,e.formatType,!!e.values),s=e.values?sf(i,e.values,o):cf(i,o);return a&&(r.rem=a),a=s.map((function(e,t){return Yt({index:t/(s.length-1||1),value:e,label:u(e)})})),e.extra&&a.length&&a.push(Yt({index:-1,extra:{value:a[0].value},label:""})),r.source=a,r.add=a,this.value=a,r}}),Object(Pt.v)(vg,Tn,{transform:function(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=e.item||mg,i=e.key||qt,o=this.value;return Object(Pt.x)(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(i))&&Object(Pt.k)("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=function(e){var t=Object(Pt.p)().test((function(e){return e.exit}));return t.lookup=function(n){return t.get(e(n))},t}(i)),t.visit(t.ADD,(function(e){var t=i(e),n=o.get(t);n?n.exit?(o.empty--,r.add.push(n)):r.mod.push(n):(n=a(e),o.set(t,n),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(function(e){var t=i(e),n=o.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(function(e){var t=i(e),n=o.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++o.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}}),Object(Pt.v)(gg,Tn,{transform:function(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,a=e.encoders,i=t.encode;if(Object(Pt.x)(i)){if(!n.changed()&&!i.every((function(e){return a[e]})))return t.StopPropagation;i=i[0],n.encode=null}var o="enter"===i,u=a.update||Pt.o,s=a.enter||Pt.o,c=a.exit||Pt.o,l=(i&&!o?a[i]:u)||Pt.o;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){s(t,e),u(t,e)})),n.modifies(s.output),n.modifies(u.output),l!==Pt.o&&l!==u&&(t.visit(t.ADD,(function(t){l(t,e)})),n.modifies(l.output))),t.changed(t.REM)&&c!==Pt.o&&(t.visit(t.REM,(function(t){c(t,e)})),n.modifies(c.output)),o||l!==Pt.o){var f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,(function(t){var a=s(t,e)||r;(l(t,e)||a)&&n.mod.push(t)})),n.mod.length&&n.modifies(s.output)):t.visit(f,(function(t){(l(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)}return n.changed()?n:t.StopPropagation}}),Object(Pt.v)(bg,Tn,{transform:function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,a,i,o,u=t.dataflow.locale(),s=t.fork(t.NO_SOURCE|t.NO_FIELDS),c=this.value,l=e.type||nf,f=e.scale,d=+e.limit,h=uf(f,null==e.count?5:e.count,e.minstep),p=!!e.values||l===nf,v=e.format||vf(u,f,h,l,e.formatSpecifier,e.formatType,p),m=e.values||pf(f,h);return c&&(s.rem=c),l===nf?(d&&m.length>d?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),c=m.slice(0,d-1),o=!0):c=m,Object(Pt.A)(a=e.size)?(e.values||0!==f(c[0])||(c=c.slice(1)),i=c.reduce((function(t,n){return Math.max(t,a(n,e))}),0)):a=Object(Pt.i)(i=a||8),c=c.map((function(t,n){return Yt({index:n,label:v(t,n,c),value:t,offset:i,size:a(t,e)})})),o&&(o=m[c.length],c.push(Yt({index:c.length,label:"\u2026".concat(m.length-c.length," entries"),value:o,offset:i,size:a(o,e)})))):"gradient"===l?(n=f.domain(),r=$l(f,n[0],Object(Pt.S)(n)),m.length<3&&!e.values&&n[0]!==Object(Pt.S)(n)&&(m=[n[0],Object(Pt.S)(n)]),c=m.map((function(e,t){return Yt({index:t,label:v(e,t,m),value:e,perc:r(e)})}))):(a=m.length-1,r=function(e){var t=e.domain(),n=t.length-1,r=+t[0],a=+Object(Pt.S)(t),i=a-r;if(e.type===xl){var o=n?i/n:.1;i=(a+=o)-(r-=o)}return function(e){return(e-r)/i}}(f),c=m.map((function(e,t){return Yt({index:t,label:v(e,t,m),value:e,perc:t?r(e):0,perc2:t===a?1:r(m[t+1])})}))),s.source=c,s.add=c,this.value=c,s}});var yg=function(e){return e.source.x},xg=function(e){return e.source.y},wg=function(e){return e.target.x},Og=function(e){return e.target.y};function kg(e){Tn.call(this,{},e)}kg.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(Pt.v)(kg,Tn,{transform:function(e,t){var n=e.sourceX||yg,r=e.sourceY||xg,a=e.targetX||wg,i=e.targetY||Og,o=e.as||"path",u=e.orient||"vertical",s=e.shape||"line",c=Eg.get(s+"-"+u)||Eg.get(s);return c||Object(Pt.k)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[o]=c(n(e),r(e),a(e),i(e))})),t.reflow(e.modified()).modifies(o)}});var jg=function(e,t,n,r){return"M"+e+","+t+"L"+n+","+r},_g=function(e,t,n,r){var a=n-e,i=r-t,o=Math.sqrt(a*a+i*i)/2;return"M"+e+","+t+"A"+o+","+o+" "+180*Math.atan2(i,a)/Math.PI+" 0 1 "+n+","+r},Sg=function(e,t,n,r){var a=n-e,i=r-t,o=.2*(a+i),u=.2*(i-a);return"M"+e+","+t+"C"+(e+o)+","+(t+u)+" "+(n+u)+","+(r-o)+" "+n+","+r},Eg=Object(Pt.p)({line:jg,"line-radial":function(e,t,n,r){return jg(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:_g,"arc-radial":function(e,t,n,r){return _g(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:Sg,"curve-radial":function(e,t,n,r){return Sg(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var a=Math.cos(e),i=Math.sin(e),o=Math.cos(n),u=Math.sin(n);return"M"+t*a+","+t*i+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*o+","+t*u+"L"+r*o+","+r*u},"diagonal-horizontal":function(e,t,n,r){var a=(e+n)/2;return"M"+e+","+t+"C"+a+","+t+" "+a+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var a=(t+r)/2;return"M"+e+","+t+"C"+e+","+a+" "+n+","+a+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var a=Math.cos(e),i=Math.sin(e),o=Math.cos(n),u=Math.sin(n),s=(t+r)/2;return"M"+t*a+","+t*i+"C"+s*a+","+s*i+" "+s*o+","+s*u+" "+r*o+","+r*u}});function Ag(e){Tn.call(this,null,e)}Ag.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(Pt.v)(Ag,Tn,{transform:function(e,t){var n,r,a,i=e.as||["startAngle","endAngle"],o=i[0],u=i[1],s=e.field||Pt.M,c=e.startAngle||0,l=null!=e.endAngle?e.endAngle:2*Math.PI,f=t.source,d=f.map(s),h=d.length,p=c,v=(l-c)/hg(d),m=Hr(h);for(e.sort&&m.sort((function(e,t){return d[e]-d[t]})),n=0;n<h;++n)a=d[m[n]],(r=f[m[n]])[o]=p,r[u]=p+=a*v;return this.value=d,t.reflow(e.modified()).modifies(i)}});function Cg(e){return Ll(e)&&e!==ml}var Ng=Object(Pt.ab)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Tg(e){Tn.call(this,null,e),this.modified(!0)}function Dg(e,t,n){Vl(e)&&(Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&n.warn("Log scale domain includes zero: "+Object(Pt.W)(t)));return t}function Ig(e,t,n){return Object(Pt.A)(e)&&(t||n)?Xl(e,Mg(t||[0,1],n)):e}function Mg(e,t){return t?e.slice().reverse():e}function Fg(e){Tn.call(this,null,e)}Object(Pt.v)(Tg,Tn,{transform:function(e,t){var n=t.dataflow,r=this.value,a=function(e){var t,n=e.type,r="";if(n===ml)return"sequential-linear";(function(e){var t=e.type;return Ll(t)&&t!==pl&&t!==vl&&(e.scheme||e.range&&e.range.length&&e.range.every(Pt.F))})(e)&&(r=2===(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?"sequential-":3===t?"diverging-":"");return(r+n||cl).toLowerCase()}(e);for(a in r&&a===r.type||(this.value=r=Pl(a)()),e)if(!Ng[a]){if("padding"===a&&Cg(r.type))continue;Object(Pt.A)(r[a])?r[a](e[a]):n.warn("Unsupported scale property: "+a)}return function(e,t,n){var r=e.type,a=t.round||!1,i=t.range;if(null!=t.rangeStep)i=function(e,t,n){e!==kl&&e!==Ol&&Object(Pt.k)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,a=e===Ol?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*sl(n,a,r)]}(r,t,n);else if(t.scheme&&(i=function(e,t,n){var r,a=t.schemeExtent;Object(Pt.x)(t.scheme)?r=Yl(t.scheme,t.interpolate,t.interpolateGamma):(r=tf(t.scheme.toLowerCase()))||Object(Pt.k)("Unrecognized scheme name: ".concat(t.scheme));return n=e===xl?n+1:e===jl?n-1:e===bl||e===yl?+t.schemeCount||5:n,Hl(e)?Ig(r,a,t.reverse):Object(Pt.A)(r)?Kl(Ig(r,a),n):e===wl?r:r.slice(0,n)}(r,t,n),Object(Pt.A)(i))){if(e.interpolator)return e.interpolator(i);Object(Pt.k)("Scale type ".concat(r," does not support interpolating color schemes."))}if(i&&Hl(r))return e.interpolator(Yl(Mg(i,t.reverse),t.interpolate,t.interpolateGamma));i&&t.interpolate&&e.interpolate?e.interpolate(Zl(t.interpolate,t.interpolateGamma)):Object(Pt.A)(e.round)?e.round(a):Object(Pt.A)(e.rangeRound)&&e.interpolate(a?ts:es);i&&e.range(Mg(i,t.reverse))}(r,e,function(e,t,n){var r=t.bins;if(r&&!Object(Pt.x)(r)){var a=e.domain(),i=a[0],o=Object(Pt.S)(a),u=r.step,s=null==r.start?i:r.start,c=null==r.stop?o:r.stop;u||Object(Pt.k)("Scale bins parameter missing step property."),s<i&&(s=u*Math.ceil(i/u)),c>o&&(c=u*Math.floor(o/u)),r=Hr(s,c+u/2,u)}r?e.bins=r:e.bins&&delete e.bins;e.type===jl&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){var r=function(e,t,n){return t?(e.domain(Dg(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var a,i,o=t.domain,u=e.type,s=t.zero||void 0===t.zero&&function(e){var t=e.type;return!e.bins&&(t===cl||t===fl||t===dl)}(e);if(!o)return 0;Cg(u)&&t.padding&&o[0]!==Object(Pt.S)(o)&&(o=function(e,t,n,r,a,i){var o=Math.abs(Object(Pt.S)(n)-n[0]),u=o/(o-2*r),s=e===ll?Object(Pt.ib)(t,null,u):e===dl?Object(Pt.jb)(t,null,u,.5):e===fl?Object(Pt.jb)(t,null,u,a||1):e===hl?Object(Pt.kb)(t,null,u,i||1):Object(Pt.hb)(t,null,u);return(t=t.slice())[0]=s[0],t[t.length-1]=s[1],t}(u,o,t.range,t.padding,t.exponent,t.constant));if((s||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(a=(o=o.slice()).length-1||1,s&&(o[0]>0&&(o[0]=0),o[a]<0&&(o[a]=0)),null!=t.domainMin&&(o[0]=t.domainMin),null!=t.domainMax&&(o[a]=t.domainMax),null!=t.domainMid)){var c=(i=t.domainMid)>o[a]?a+1:i<o[0]?0:a;c!==a&&n.warn("Scale domainMid exceeds domain min or max.",i),o.splice(c,0,i)}e.domain(Dg(u,o,n)),u===wl&&e.unknown(t.domainImplicit?Go:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&uf(e,t.nice)||null);return o.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Object(Pt.v)(Fg,Tn,{transform:function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Jt(e.sort)),this.modified(n),t}});var Rg="zero",Pg="center",zg="normalize",Bg=["y0","y1"];function Lg(e){Tn.call(this,null,e)}function Ug(e,t,n,r,a){for(var i,o=(t-e.sum)/2,u=e.length,s=0;s<u;++s)(i=e[s])[r]=o,i[a]=o+=Math.abs(n(i))}function Wg(e,t,n,r,a){for(var i,o=1/e.sum,u=0,s=e.length,c=0,l=0;c<s;++c)(i=e[c])[r]=u,i[a]=u=o*(l+=Math.abs(n(i)))}function Vg(e,t,n,r,a){for(var i,o,u=0,s=0,c=e.length,l=0;l<c;++l)(i=+n(o=e[l]))<0?(o[r]=s,o[a]=s+=i):(o[r]=u,o[a]=u+=i)}Lg.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Rg,values:[Rg,Pg,zg]},{name:"as",type:"string",array:!0,length:2,default:Bg}]},Object(Pt.v)(Lg,Tn,{transform:function(e,t){var n,r,a,i,o=e.as||Bg,u=o[0],s=o[1],c=Jt(e.sort),l=e.field||Pt.M,f=e.offset===Pg?Ug:e.offset===zg?Wg:Vg;for(n=function(e,t,n,r){var a,i,o,u,s,c,l,f,d,h=[],p=function(e){return e(s)};if(null==t)h.push(e.slice());else for(a={},i=0,o=e.length;i<o;++i)s=e[i],(l=a[c=t.map(p)])||(a[c]=l=[],h.push(l)),l.push(s);for(c=0,d=0,u=h.length;c<u;++c){for(i=0,f=0,o=(l=h[c]).length;i<o;++i)f+=Math.abs(r(l[i]));l.sum=f,f>d&&(d=f),n&&l.sort(n)}return h.max=d,h}(t.source,e.groupby,c,l),r=0,a=n.length,i=n.max;r<a;++r)f(n[r],i,l,u,s);return t.reflow(e.modified()).modifies(o)}});var Hg=function(e){return e};function Gg(e,t){e&&Xg.hasOwnProperty(e.type)&&Xg[e.type](e,t)}var qg={Feature:function(e,t){Gg(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)Gg(n[r].geometry,t)}},Xg={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Yg(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)Yg(n[r],t,0)},Polygon:function(e,t){Kg(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)Kg(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)Gg(n[r],t)}};function Yg(e,t,n){var r,a=-1,i=e.length-n;for(t.lineStart();++a<i;)r=e[a],t.point(r[0],r[1],r[2]);t.lineEnd()}function Kg(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Yg(e[n],t,1);t.polygonEnd()}var $g=function(e,t){e&&qg.hasOwnProperty(e.type)?qg[e.type](e,t):Gg(e,t)},Zg=n(4),Jg=n(5),Qg=function(){function e(){Object(Zg.a)(this,e),this._partials=new Float64Array(32),this._n=0}return Object(Jg.a)(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,r=0;r<this._n&&r<32;r++){var a=t[r],i=e+a,o=Math.abs(e)<Math.abs(a)?e-(i-a):a-(i-e);o&&(t[n++]=o),e=i}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,r=this._partials,a=this._n,i=0;if(a>0){for(i=r[--a];a>0&&(e=i,!(n=(t=r[--a])-((i=e+t)-e))););a>0&&(n<0&&r[a-1]<0||n>0&&r[a-1]>0)&&(t=2*n)==(e=i+t)-i&&(i=e)}return i}}]),e}();var eb=1e-6,tb=1e-12,nb=Math.PI,rb=nb/2,ab=nb/4,ib=2*nb,ob=180/nb,ub=nb/180,sb=Math.abs,cb=Math.atan,lb=Math.atan2,fb=Math.cos,db=Math.ceil,hb=Math.exp,pb=(Math.floor,Math.hypot),vb=Math.log,mb=Math.pow,gb=Math.sin,bb=Math.sign||function(e){return e>0?1:e<0?-1:0},yb=Math.sqrt,xb=Math.tan;function wb(e){return e>1?0:e<-1?nb:Math.acos(e)}function Ob(e){return e>1?rb:e<-1?-rb:Math.asin(e)}function kb(){}var jb,_b,Sb,Eb,Ab=new Qg,Cb=new Qg,Nb={point:kb,lineStart:kb,lineEnd:kb,polygonStart:function(){Nb.lineStart=Tb,Nb.lineEnd=Mb},polygonEnd:function(){Nb.lineStart=Nb.lineEnd=Nb.point=kb,Ab.add(sb(Cb)),Cb=new Qg},result:function(){var e=Ab/2;return Ab=new Qg,e}};function Tb(){Nb.point=Db}function Db(e,t){Nb.point=Ib,jb=Sb=e,_b=Eb=t}function Ib(e,t){Cb.add(Eb*e-Sb*t),Sb=e,Eb=t}function Mb(){Ib(jb,_b)}var Fb=Nb,Rb=1/0,Pb=Rb,zb=-Rb,Bb=zb;var Lb,Ub,Wb,Vb,Hb={point:function(e,t){e<Rb&&(Rb=e);e>zb&&(zb=e);t<Pb&&(Pb=t);t>Bb&&(Bb=t)},lineStart:kb,lineEnd:kb,polygonStart:kb,polygonEnd:kb,result:function(){var e=[[Rb,Pb],[zb,Bb]];return zb=Bb=-(Pb=Rb=1/0),e}},Gb=0,qb=0,Xb=0,Yb=0,Kb=0,$b=0,Zb=0,Jb=0,Qb=0,ey={point:ty,lineStart:ny,lineEnd:iy,polygonStart:function(){ey.lineStart=oy,ey.lineEnd=uy},polygonEnd:function(){ey.point=ty,ey.lineStart=ny,ey.lineEnd=iy},result:function(){var e=Qb?[Zb/Qb,Jb/Qb]:$b?[Yb/$b,Kb/$b]:Xb?[Gb/Xb,qb/Xb]:[NaN,NaN];return Gb=qb=Xb=Yb=Kb=$b=Zb=Jb=Qb=0,e}};function ty(e,t){Gb+=e,qb+=t,++Xb}function ny(){ey.point=ry}function ry(e,t){ey.point=ay,ty(Wb=e,Vb=t)}function ay(e,t){var n=e-Wb,r=t-Vb,a=yb(n*n+r*r);Yb+=a*(Wb+e)/2,Kb+=a*(Vb+t)/2,$b+=a,ty(Wb=e,Vb=t)}function iy(){ey.point=ty}function oy(){ey.point=sy}function uy(){cy(Lb,Ub)}function sy(e,t){ey.point=cy,ty(Lb=Wb=e,Ub=Vb=t)}function cy(e,t){var n=e-Wb,r=t-Vb,a=yb(n*n+r*r);Yb+=a*(Wb+e)/2,Kb+=a*(Vb+t)/2,$b+=a,Zb+=(a=Vb*e-Wb*t)*(Wb+e),Jb+=a*(Vb+t),Qb+=3*a,ty(Wb=e,Vb=t)}var ly=ey;function fy(e){this._context=e}fy.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ib)}},result:kb};var dy,hy,py,vy,my,gy=new Qg,by={point:kb,lineStart:function(){by.point=yy},lineEnd:function(){dy&&xy(hy,py),by.point=kb},polygonStart:function(){dy=!0},polygonEnd:function(){dy=null},result:function(){var e=+gy;return gy=new Qg,e}};function yy(e,t){by.point=xy,hy=vy=e,py=my=t}function xy(e,t){vy-=e,my-=t,gy.add(yb(vy*vy+my*my)),vy=e,my=t}var wy=by;function Oy(){this._string=[]}function ky(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Oy.prototype={_radius:4.5,_circle:ky(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=ky(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var jy=function(e,t){var n,r,a=4.5;function i(e){return e&&("function"===typeof a&&r.pointRadius(+a.apply(this,arguments)),$g(e,n(r))),r.result()}return i.area=function(e){return $g(e,n(Fb)),Fb.result()},i.measure=function(e){return $g(e,n(wy)),wy.result()},i.bounds=function(e){return $g(e,n(Hb)),Hb.result()},i.centroid=function(e){return $g(e,n(ly)),ly.result()},i.projection=function(t){return arguments.length?(n=null==t?(e=null,Hg):(e=t).stream,i):e},i.context=function(e){return arguments.length?(r=null==e?(t=null,new Oy):new fy(t=e),"function"!==typeof a&&r.pointRadius(a),i):t},i.pointRadius=function(e){return arguments.length?(a="function"===typeof e?e:(r.pointRadius(+e),+e),i):a},i.projection(e).context(t)},_y=function(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:kb,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},Sy=function(e,t){return sb(e[0]-t[0])<eb&&sb(e[1]-t[1])<eb};function Ey(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var Ay=function(e,t,n,r,a){var i,o,u=[],s=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(Sy(r,o)){if(!r[2]&&!o[2]){for(a.lineStart(),i=0;i<t;++i)a.point((r=e[i])[0],r[1]);return void a.lineEnd()}o[0]+=2e-6}u.push(n=new Ey(r,e,null,!0)),s.push(n.o=new Ey(r,null,n,!1)),u.push(n=new Ey(o,e,null,!1)),s.push(n.o=new Ey(o,null,n,!0))}})),u.length){for(s.sort(t),Cy(u),Cy(s),i=0,o=s.length;i<o;++i)s[i].e=n=!n;for(var c,l,f=u[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;c=d.z,a.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(i=0,o=c.length;i<o;++i)a.point((l=c[i])[0],l[1]);else r(d.x,d.n.x,1,a);d=d.n}else{if(h)for(c=d.p.z,i=c.length-1;i>=0;--i)a.point((l=c[i])[0],l[1]);else r(d.x,d.p.x,-1,a);d=d.p}c=(d=d.o).z,h=!h}while(!d.v);a.lineEnd()}}};function Cy(e){if(t=e.length){for(var t,n,r=0,a=e[0];++r<t;)a.n=n=e[r],n.p=a,a=n;a.n=n=e[0],n.p=a}}function Ny(e){return[lb(e[1],e[0]),Ob(e[2])]}function Ty(e){var t=e[0],n=e[1],r=fb(n);return[r*fb(t),r*gb(t),gb(n)]}function Dy(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Iy(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function My(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Fy(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ry(e){var t=yb(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Py(e){return sb(e[0])<=nb?e[0]:bb(e[0])*((sb(e[0])+nb)%ib-nb)}var zy=O.a.mark(By);function By(e){var t,n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=Object(Fn.a)(e),a.prev=1,t.s();case 3:if((n=t.n()).done){a.next=8;break}return r=n.value,a.delegateYield(r,"t0",6);case 6:a.next=3;break;case 8:a.next=13;break;case 10:a.prev=10,a.t1=a.catch(1),t.e(a.t1);case 13:return a.prev=13,t.f(),a.finish(13);case 16:case"end":return a.stop()}}),zy,null,[[1,10,13,16]])}function Ly(e){return Array.from(By(e))}var Uy=function(e,t,n,r){return function(a){var i,o,u,s=t(a),c=_y(),l=t(c),f=!1,d={point:h,lineStart:v,lineEnd:m,polygonStart:function(){d.point=g,d.lineStart=b,d.lineEnd=y,o=[],i=[]},polygonEnd:function(){d.point=h,d.lineStart=v,d.lineEnd=m,o=Ly(o);var e=function(e,t){var n=Py(t),r=t[1],a=gb(r),i=[gb(n),-fb(n),0],o=0,u=0,s=new Qg;1===a?r=rb+eb:-1===a&&(r=-rb-eb);for(var c=0,l=e.length;c<l;++c)if(d=(f=e[c]).length)for(var f,d,h=f[d-1],p=Py(h),v=h[1]/2+ab,m=gb(v),g=fb(v),b=0;b<d;++b,p=x,m=O,g=k,h=y){var y=f[b],x=Py(y),w=y[1]/2+ab,O=gb(w),k=fb(w),j=x-p,_=j>=0?1:-1,S=_*j,E=S>nb,A=m*O;if(s.add(lb(A*_*gb(S),g*k+A*fb(S))),o+=E?j+_*ib:j,E^p>=n^x>=n){var C=Iy(Ty(h),Ty(y));Ry(C);var N=Iy(i,C);Ry(N);var T=(E^j>=0?-1:1)*Ob(N[2]);(r>T||r===T&&(C[0]||C[1]))&&(u+=E^j>=0?1:-1)}}return(o<-1e-6||o<eb&&s<-1e-12)^1&u}(i,r);o.length?(f||(a.polygonStart(),f=!0),Ay(o,Vy,e,n,a)):e&&(f||(a.polygonStart(),f=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),o=i=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function h(t,n){e(t,n)&&a.point(t,n)}function p(e,t){s.point(e,t)}function v(){d.point=p,s.lineStart()}function m(){d.point=h,s.lineEnd()}function g(e,t){u.push([e,t]),l.point(e,t)}function b(){l.lineStart(),u=[]}function y(){g(u[0][0],u[0][1]),l.lineEnd();var e,t,n,r,s=l.clean(),d=c.result(),h=d.length;if(u.pop(),i.push(u),u=null,h)if(1&s){if((t=(n=d[0]).length-1)>0){for(f||(a.polygonStart(),f=!0),a.lineStart(),e=0;e<t;++e)a.point((r=n[e])[0],r[1]);a.lineEnd()}}else h>1&&2&s&&d.push(d.pop().concat(d.shift())),o.push(d.filter(Wy))}return d}};function Wy(e){return e.length>1}function Vy(e,t){return((e=e.x)[0]<0?e[1]-rb-eb:rb-e[1])-((t=t.x)[0]<0?t[1]-rb-eb:rb-t[1])}var Hy=Uy((function(){return!0}),(function(e){var t,n=NaN,r=NaN,a=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,o){var u=i>0?nb:-nb,s=sb(i-n);sb(s-nb)<eb?(e.point(n,r=(r+o)/2>0?rb:-rb),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(i,r),t=0):a!==u&&s>=nb&&(sb(n-a)<eb&&(n-=a*eb),sb(i-u)<eb&&(i-=u*eb),r=function(e,t,n,r){var a,i,o=gb(e-n);return sb(o)>eb?cb((gb(t)*(i=fb(r))*gb(n)-gb(r)*(a=fb(t))*gb(e))/(a*i*o)):(t+r)/2}(n,r,i,o),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=i,r=o),a=u},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var a;if(null==e)a=n*rb,r.point(-nb,a),r.point(0,a),r.point(nb,a),r.point(nb,0),r.point(nb,-a),r.point(0,-a),r.point(-nb,-a),r.point(-nb,0),r.point(-nb,a);else if(sb(e[0]-t[0])>eb){var i=e[0]<t[0]?nb:-nb;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(t[0],t[1])}),[-nb,-rb]);var Gy=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function qy(e,t){return[sb(e)>nb?e+Math.round(-e/ib)*ib:e,t]}function Xy(e,t,n){return(e%=ib)?t||n?Gy(Ky(e),$y(t,n)):Ky(e):t||n?$y(t,n):qy}function Yy(e){return function(t,n){return[(t+=e)>nb?t-ib:t<-nb?t+ib:t,n]}}function Ky(e){var t=Yy(e);return t.invert=Yy(-e),t}function $y(e,t){var n=fb(e),r=gb(e),a=fb(t),i=gb(t);function o(e,t){var o=fb(t),u=fb(e)*o,s=gb(e)*o,c=gb(t),l=c*n+u*r;return[lb(s*a-l*i,u*n-c*r),Ob(l*a+s*i)]}return o.invert=function(e,t){var o=fb(t),u=fb(e)*o,s=gb(e)*o,c=gb(t),l=c*a-s*i;return[lb(s*a+c*i,u*n+l*r),Ob(l*n-u*r)]},o}qy.invert=qy;function Zy(e,t,n,r,a,i){if(n){var o=fb(t),u=gb(t),s=r*n;null==a?(a=t+r*ib,i=t-s/2):(a=Jy(o,a),i=Jy(o,i),(r>0?a<i:a>i)&&(a+=r*ib));for(var c,l=a;r>0?l>i:l<i;l-=s)c=Ny([o,-u*fb(l),-u*gb(l)]),e.point(c[0],c[1])}}function Jy(e,t){(t=Ty(t))[0]-=e,Ry(t);var n=wb(-t[1]);return((-t[2]<0?-n:n)+ib-eb)%ib}var Qy=function(e){var t=fb(e),n=6*ub,r=t>0,a=sb(t)>eb;function i(e,n){return fb(e)*fb(n)>t}function o(e,n,r){var a=[1,0,0],i=Iy(Ty(e),Ty(n)),o=Dy(i,i),u=i[0],s=o-u*u;if(!s)return!r&&e;var c=t*o/s,l=-t*u/s,f=Iy(a,i),d=Fy(a,c);My(d,Fy(i,l));var h=f,p=Dy(d,h),v=Dy(h,h),m=p*p-v*(Dy(d,d)-1);if(!(m<0)){var g=yb(m),b=Fy(h,(-p-g)/v);if(My(b,d),b=Ny(b),!r)return b;var y,x=e[0],w=n[0],O=e[1],k=n[1];w<x&&(y=x,x=w,w=y);var j=w-x,_=sb(j-nb)<eb;if(!_&&k<O&&(y=O,O=k,k=y),_||j<eb?_?O+k>0^b[1]<(sb(b[0]-x)<eb?O:k):O<=b[1]&&b[1]<=k:j>nb^(x<=b[0]&&b[0]<=w)){var S=Fy(h,(-p+g)/v);return My(S,d),[b,Ny(S)]}}}function u(t,n){var a=r?e:nb-e,i=0;return t<-a?i|=1:t>a&&(i|=2),n<-a?i|=4:n>a&&(i|=8),i}return Uy(i,(function(e){var t,n,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,d){var h,p=[f,d],v=i(f,d),m=r?v?0:u(f,d):v?u(f+(f<0?nb:-nb),d):0;if(!t&&(c=s=v)&&e.lineStart(),v!==s&&(!(h=o(t,p))||Sy(t,h)||Sy(p,h))&&(p[2]=1),v!==s)l=0,v?(e.lineStart(),h=o(p,t),e.point(h[0],h[1])):(h=o(t,p),e.point(h[0],h[1],2),e.lineEnd()),t=h;else if(a&&t&&r^v){var g;m&n||!(g=o(p,t,!0))||(l=0,r?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1],3)))}!v||t&&Sy(t,p)||e.point(p[0],p[1]),t=p,s=v,n=m},lineEnd:function(){s&&e.lineEnd(),t=null},clean:function(){return l|(c&&s)<<1}}}),(function(t,r,a,i){Zy(i,e,n,a,t,r)}),r?[0,-e]:[-nb,e-nb])},ex=1e9,tx=-ex;function nx(e,t,n,r){function a(a,i){return e<=a&&a<=n&&t<=i&&i<=r}function i(a,i,u,c){var l=0,f=0;if(null==a||(l=o(a,u))!==(f=o(i,u))||s(a,i)<0^u>0)do{c.point(0===l||3===l?e:n,l>1?r:t)}while((l=(l+u+4)%4)!==f);else c.point(i[0],i[1])}function o(r,a){return sb(r[0]-e)<eb?a>0?0:3:sb(r[0]-n)<eb?a>0?2:1:sb(r[1]-t)<eb?a>0?1:0:a>0?3:2}function u(e,t){return s(e.x,t.x)}function s(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var s,c,l,f,d,h,p,v,m,g,b,y=o,x=_y(),w={point:O,lineStart:function(){w.point=k,c&&c.push(l=[]);g=!0,m=!1,p=v=NaN},lineEnd:function(){s&&(k(f,d),h&&m&&x.rejoin(),s.push(x.result()));w.point=O,m&&y.lineEnd()},polygonStart:function(){y=x,s=[],c=[],b=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,a=c.length;n<a;++n)for(var i,o,u=c[n],s=1,l=u.length,f=u[0],d=f[0],h=f[1];s<l;++s)i=d,o=h,d=(f=u[s])[0],h=f[1],o<=r?h>r&&(d-i)*(r-o)>(h-o)*(e-i)&&++t:h<=r&&(d-i)*(r-o)<(h-o)*(e-i)&&--t;return t}(),n=b&&t,a=(s=Ly(s)).length;(n||a)&&(o.polygonStart(),n&&(o.lineStart(),i(null,null,1,o),o.lineEnd()),a&&Ay(s,u,t,i,o),o.polygonEnd());y=o,s=c=l=null}};function O(e,t){a(e,t)&&y.point(e,t)}function k(i,o){var u=a(i,o);if(c&&l.push([i,o]),g)f=i,d=o,h=u,g=!1,u&&(y.lineStart(),y.point(i,o));else if(u&&m)y.point(i,o);else{var s=[p=Math.max(tx,Math.min(ex,p)),v=Math.max(tx,Math.min(ex,v))],x=[i=Math.max(tx,Math.min(ex,i)),o=Math.max(tx,Math.min(ex,o))];!function(e,t,n,r,a,i){var o,u=e[0],s=e[1],c=0,l=1,f=t[0]-u,d=t[1]-s;if(o=n-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<l&&(l=o)}else if(f>0){if(o>l)return;o>c&&(c=o)}if(o=a-u,f||!(o<0)){if(o/=f,f<0){if(o>l)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<l&&(l=o)}if(o=r-s,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>c&&(c=o)}if(o=i-s,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<l&&(l=o)}return c>0&&(e[0]=u+c*f,e[1]=s+c*d),l<1&&(t[0]=u+l*f,t[1]=s+l*d),!0}}}}}(s,x,e,t,n,r)?u&&(y.lineStart(),y.point(i,o),b=!1):(m||(y.lineStart(),y.point(s[0],s[1])),y.point(x[0],x[1]),u||y.lineEnd(),b=!1)}p=i,v=o,m=u}return w}}function rx(e){return function(t){var n=new ax;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ax(){}function ix(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),$g(n,e.stream(Hb)),t(Hb.result()),null!=r&&e.clipExtent(r),e}function ox(e,t,n){return ix(e,(function(n){var r=t[1][0]-t[0][0],a=t[1][1]-t[0][1],i=Math.min(r/(n[1][0]-n[0][0]),a/(n[1][1]-n[0][1])),o=+t[0][0]+(r-i*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(a-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,u])}),n)}function ux(e,t,n){return ox(e,[[0,0],t],n)}function sx(e,t,n){return ix(e,(function(n){var r=+t,a=r/(n[1][0]-n[0][0]),i=(r-a*(n[1][0]+n[0][0]))/2,o=-a*n[0][1];e.scale(150*a).translate([i,o])}),n)}function cx(e,t,n){return ix(e,(function(n){var r=+t,a=r/(n[1][1]-n[0][1]),i=-a*n[0][0],o=(r-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([i,o])}),n)}ax.prototype={constructor:ax,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var lx=fb(30*ub),fx=function(e,t){return+t?function(e,t){function n(r,a,i,o,u,s,c,l,f,d,h,p,v,m){var g=c-r,b=l-a,y=g*g+b*b;if(y>4*t&&v--){var x=o+d,w=u+h,O=s+p,k=yb(x*x+w*w+O*O),j=Ob(O/=k),_=sb(sb(O)-1)<eb||sb(i-f)<eb?(i+f)/2:lb(w,x),S=e(_,j),E=S[0],A=S[1],C=E-r,N=A-a,T=b*C-g*N;(T*T/y>t||sb((g*C+b*N)/y-.5)>.3||o*d+u*h+s*p<lx)&&(n(r,a,i,o,u,s,E,A,_,x/=k,w/=k,O,v,m),m.point(E,A),n(E,A,_,x,w,O,c,l,f,d,h,p,v,m))}}return function(t){var r,a,i,o,u,s,c,l,f,d,h,p,v={point:m,lineStart:g,lineEnd:y,polygonStart:function(){t.polygonStart(),v.lineStart=x},polygonEnd:function(){t.polygonEnd(),v.lineStart=g}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){l=NaN,v.point=b,t.lineStart()}function b(r,a){var i=Ty([r,a]),o=e(r,a);n(l,f,c,d,h,p,l=o[0],f=o[1],c=r,d=i[0],h=i[1],p=i[2],16,t),t.point(l,f)}function y(){v.point=m,t.lineEnd()}function x(){g(),v.point=w,v.lineEnd=O}function w(e,t){b(r=e,t),a=l,i=f,o=d,u=h,s=p,v.point=b}function O(){n(l,f,c,d,h,p,a,i,r,o,u,s,16,t),v.lineEnd=y,y()}return v}}(e,t):function(e){return rx({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var dx=rx({point:function(e,t){this.stream.point(e*ub,t*ub)}});function hx(e,t,n,r,a,i){if(!i)return function(e,t,n,r,a){function i(i,o){return[t+e*(i*=r),n-e*(o*=a)]}return i.invert=function(i,o){return[(i-t)/e*r,(n-o)/e*a]},i}(e,t,n,r,a);var o=fb(i),u=gb(i),s=o*e,c=u*e,l=o/e,f=u/e,d=(u*n-o*t)/e,h=(u*t+o*n)/e;function p(e,i){return[s*(e*=r)-c*(i*=a)+t,n-c*e-s*i]}return p.invert=function(e,t){return[r*(l*e-f*t+d),a*(h-f*e-l*t)]},p}function px(e){return vx((function(){return e}))()}function vx(e){var t,n,r,a,i,o,u,s,c,l,f=150,d=480,h=250,p=0,v=0,m=0,g=0,b=0,y=0,x=1,w=1,O=null,k=Hy,j=null,_=Hg,S=.5;function E(e){return s(e[0]*ub,e[1]*ub)}function A(e){return(e=s.invert(e[0],e[1]))&&[e[0]*ob,e[1]*ob]}function C(){var e=hx(f,0,0,x,w,y).apply(null,t(p,v)),r=hx(f,d-e[0],h-e[1],x,w,y);return n=Xy(m,g,b),u=Gy(t,r),s=Gy(n,u),o=fx(u,S),N()}function N(){return c=l=null,E}return E.stream=function(e){return c&&l===e?c:c=dx(function(e){return rx({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(k(o(_(l=e)))))},E.preclip=function(e){return arguments.length?(k=e,O=void 0,N()):k},E.postclip=function(e){return arguments.length?(_=e,j=r=a=i=null,N()):_},E.clipAngle=function(e){return arguments.length?(k=+e?Qy(O=e*ub):(O=null,Hy),N()):O*ob},E.clipExtent=function(e){return arguments.length?(_=null==e?(j=r=a=i=null,Hg):nx(j=+e[0][0],r=+e[0][1],a=+e[1][0],i=+e[1][1]),N()):null==j?null:[[j,r],[a,i]]},E.scale=function(e){return arguments.length?(f=+e,C()):f},E.translate=function(e){return arguments.length?(d=+e[0],h=+e[1],C()):[d,h]},E.center=function(e){return arguments.length?(p=e[0]%360*ub,v=e[1]%360*ub,C()):[p*ob,v*ob]},E.rotate=function(e){return arguments.length?(m=e[0]%360*ub,g=e[1]%360*ub,b=e.length>2?e[2]%360*ub:0,C()):[m*ob,g*ob,b*ob]},E.angle=function(e){return arguments.length?(y=e%360*ub,C()):y*ob},E.reflectX=function(e){return arguments.length?(x=e?-1:1,C()):x<0},E.reflectY=function(e){return arguments.length?(w=e?-1:1,C()):w<0},E.precision=function(e){return arguments.length?(o=fx(u,S=e*e),N()):yb(S)},E.fitExtent=function(e,t){return ox(E,e,t)},E.fitSize=function(e,t){return ux(E,e,t)},E.fitWidth=function(e,t){return sx(E,e,t)},E.fitHeight=function(e,t){return cx(E,e,t)},function(){return t=e.apply(this,arguments),E.invert=t.invert&&A,C()}}function mx(e){var t=0,n=nb/3,r=vx(e),a=r(t,n);return a.parallels=function(e){return arguments.length?r(t=e[0]*ub,n=e[1]*ub):[t*ob,n*ob]},a}function gx(e,t){var n=gb(e),r=(n+gb(t))/2;if(sb(r)<eb)return function(e){var t=fb(e);function n(e,n){return[e*t,gb(n)/t]}return n.invert=function(e,n){return[e/t,Ob(n*t)]},n}(e);var a=1+n*(2*r-n),i=yb(a)/r;function o(e,t){var n=yb(a-2*r*gb(t))/r;return[n*gb(e*=r),i-n*fb(e)]}return o.invert=function(e,t){var n=i-t,o=lb(e,sb(n))*bb(n);return n*r<0&&(o-=nb*bb(e)*bb(n)),[o/r,Ob((a-(e*e+n*n)*r*r)/(2*r))]},o}var bx=function(){return mx(gx).scale(155.424).center([0,33.6442])},yx=function(){return bx().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function xx(e){return function(t,n){var r=fb(t),a=fb(n),i=e(r*a);return i===1/0?[2,0]:[i*a*gb(t),i*gb(n)]}}function wx(e){return function(t,n){var r=yb(t*t+n*n),a=e(r),i=gb(a),o=fb(a);return[lb(t*i,r*o),Ob(r&&n*i/r)]}}var Ox=xx((function(e){return yb(2/(1+e))}));Ox.invert=wx((function(e){return 2*Ob(e/2)}));var kx=xx((function(e){return(e=wb(e))&&e/gb(e)}));kx.invert=wx((function(e){return e}));function jx(e,t){return[e,vb(xb((rb+t)/2))]}jx.invert=function(e,t){return[e,2*cb(hb(t))-rb]};function _x(e){var t,n,r,a=px(e),i=a.center,o=a.scale,u=a.translate,s=a.clipExtent,c=null;function l(){var i=nb*o(),u=a(function(e){function t(t){return(t=e(t[0]*ub,t[1]*ub))[0]*=ob,t[1]*=ob,t}return e=Xy(e[0]*ub,e[1]*ub,e.length>2?e[2]*ub:0),t.invert=function(t){return(t=e.invert(t[0]*ub,t[1]*ub))[0]*=ob,t[1]*=ob,t},t}(a.rotate()).invert([0,0]));return s(null==c?[[u[0]-i,u[1]-i],[u[0]+i,u[1]+i]]:e===jx?[[Math.max(u[0]-i,c),t],[Math.min(u[0]+i,n),r]]:[[c,Math.max(u[1]-i,t)],[n,Math.min(u[1]+i,r)]])}return a.scale=function(e){return arguments.length?(o(e),l()):o()},a.translate=function(e){return arguments.length?(u(e),l()):u()},a.center=function(e){return arguments.length?(i(e),l()):i()},a.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),l()):null==c?null:[[c,t],[n,r]]},l()}function Sx(e){return xb((rb+e)/2)}function Ex(e,t){var n=fb(e),r=e===t?gb(e):vb(n/fb(t))/vb(Sx(t)/Sx(e)),a=n*mb(Sx(e),r)/r;if(!r)return jx;function i(e,t){a>0?t<-rb+eb&&(t=-rb+eb):t>rb-eb&&(t=rb-eb);var n=a/mb(Sx(t),r);return[n*gb(r*e),a-n*fb(r*e)]}return i.invert=function(e,t){var n=a-t,i=bb(r)*yb(e*e+n*n),o=lb(e,sb(n))*bb(n);return n*r<0&&(o-=nb*bb(e)*bb(n)),[o/r,2*cb(mb(a/i,1/r))-rb]},i}function Ax(e,t){return[e,t]}Ax.invert=Ax;function Cx(e,t){var n=fb(e),r=e===t?gb(e):(n-fb(t))/(t-e),a=n/r+e;if(sb(r)<eb)return Ax;function i(e,t){var n=a-t,i=r*e;return[n*gb(i),a-n*fb(i)]}return i.invert=function(e,t){var n=a-t,i=lb(e,sb(n))*bb(n);return n*r<0&&(i-=nb*bb(e)*bb(n)),[i/r,a-bb(r)*yb(e*e+n*n)]},i}var Nx=1.340264,Tx=-.081106,Dx=893e-6,Ix=.003796,Mx=yb(3)/2;function Fx(e,t){var n=Ob(Mx*gb(t)),r=n*n,a=r*r*r;return[e*fb(n)/(Mx*(Nx+3*Tx*r+a*(7*Dx+9*Ix*r))),n*(Nx+Tx*r+a*(Dx+Ix*r))]}Fx.invert=function(e,t){for(var n,r=t,a=r*r,i=a*a*a,o=0;o<12&&(i=(a=(r-=n=(r*(Nx+Tx*a+i*(Dx+Ix*a))-t)/(Nx+3*Tx*a+i*(7*Dx+9*Ix*a)))*r)*a*a,!(sb(n)<tb));++o);return[Mx*e*(Nx+3*Tx*a+i*(7*Dx+9*Ix*a))/fb(r),Ob(gb(r)/Mx)]};function Rx(e,t){var n=fb(t),r=fb(e)*n;return[n*gb(e)/r,gb(t)/r]}Rx.invert=wx(cb);function Px(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Px.invert=function(e,t){var n,r=t,a=25;do{var i=r*r,o=i*i;r-=n=(r*(1.007226+i*(.015085+o*(.028874*i-.044475-.005916*o)))-t)/(1.007226+i*(.045255+o*(.259866*i-.311325-.005916*11*o)))}while(sb(n)>eb&&--a>0);return[e/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),r]};function zx(e,t){return[fb(t)*gb(e),gb(t)]}zx.invert=wx(Ob);function Bx(e,t){var n=fb(t),r=1+fb(e)*n;return[n*gb(e)/r,gb(t)/r]}Bx.invert=wx((function(e){return 2*cb(e)}));function Lx(e,t){return[vb(xb((rb+t)/2)),-e]}Lx.invert=function(e,t){return[-t,2*cb(hb(e))-rb]};var Ux=Math.abs,Wx=(Math.atan,Math.atan2,Math.ceil,Math.cos),Vx=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),Hx=(Math.tan,Math.PI),Gx=Hx/2,qx=(Math.SQRT1_2,Yx(2));Yx(Hx);function Xx(e){return e>1?Gx:e<-1?-Gx:Math.asin(e)}function Yx(e){return e>0?Math.sqrt(e):0}function Kx(e,t){var n,r=e*Vx(t),a=30;do{t-=n=(t+Vx(t)-r)/(1+Wx(t))}while(Ux(n)>1e-6&&--a>0);return t/2}var $x=function(e,t,n){function r(r,a){return[e*r*Wx(a=Kx(n,a)),t*Vx(a)]}return r.invert=function(r,a){return a=Xx(a/t),[r/(e*Wx(a)),Xx((2*a+Vx(2*a))/n)]},r}(qx/Gx,qx,Hx),Zx=jy(),Jx=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Qx(e,t){return function n(){var r=t();return r.type=e,r.path=jy().projection(r),r.copy=r.copy||function(){var e=n();return Jx.forEach((function(t){r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},r}}function ew(e,t){if(!e||"string"!==typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(nw[e]=Qx(e,t),this):nw[e]||null}function tw(e){return e&&e.path||Zx}var nw={albers:yx,albersusa:function(){var e,t,n,r,a,i,o=yx(),u=bx().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=bx().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){i=[e,t]}};function l(e){var t=e[0],o=e[1];return i=null,n.point(t,o),i||(r.point(t,o),i)||(a.point(t,o),i)}function f(){return e=t=null,l}return l.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,a=(e[1]-n[1])/t;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?u:a>=.166&&a<.234&&r>=-.214&&r<-.115?s:o).invert(e)},l.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var a=-1;++a<t;)e[a].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([o.stream(t=n),u.stream(n),s.stream(n)])},l.precision=function(e){return arguments.length?(o.precision(e),u.precision(e),s.precision(e),f()):o.precision()},l.scale=function(e){return arguments.length?(o.scale(e),u.scale(.35*e),s.scale(e),l.translate(o.translate())):o.scale()},l.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),i=+e[0],l=+e[1];return n=o.translate(e).clipExtent([[i-.455*t,l-.238*t],[i+.455*t,l+.238*t]]).stream(c),r=u.translate([i-.307*t,l+.201*t]).clipExtent([[i-.425*t+eb,l+.12*t+eb],[i-.214*t-eb,l+.234*t-eb]]).stream(c),a=s.translate([i-.205*t,l+.212*t]).clipExtent([[i-.214*t+eb,l+.166*t+eb],[i-.115*t-eb,l+.234*t-eb]]).stream(c),f()},l.fitExtent=function(e,t){return ox(l,e,t)},l.fitSize=function(e,t){return ux(l,e,t)},l.fitWidth=function(e,t){return sx(l,e,t)},l.fitHeight=function(e,t){return cx(l,e,t)},l.scale(1070)},azimuthalequalarea:function(){return px(Ox).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return px(kx).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return mx(Ex).scale(109.5).parallels([30,30])},conicequalarea:bx,conicequidistant:function(){return mx(Cx).scale(131.154).center([0,13.9389])},equalEarth:function(){return px(Fx).scale(177.158)},equirectangular:function(){return px(Ax).scale(152.63)},gnomonic:function(){return px(Rx).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,r,a,i,o,u=1,s=0,c=0,l=1,f=1,d=0,h=null,p=1,v=1,m=rx({point:function(e,t){var n=y([e,t]);this.stream.point(n[0],n[1])}}),g=Hg;function b(){return p=u*l,v=u*f,i=o=null,y}function y(n){var r=n[0]*p,a=n[1]*v;if(d){var i=a*e-r*t;r=r*e+a*t,a=i}return[r+s,a+c]}return y.invert=function(n){var r=n[0]-s,a=n[1]-c;if(d){var i=a*e+r*t;r=r*e-a*t,a=i}return[r/p,a/v]},y.stream=function(e){return i&&o===e?i:i=m(g(o=e))},y.postclip=function(e){return arguments.length?(g=e,h=n=r=a=null,b()):g},y.clipExtent=function(e){return arguments.length?(g=null==e?(h=n=r=a=null,Hg):nx(h=+e[0][0],n=+e[0][1],r=+e[1][0],a=+e[1][1]),b()):null==h?null:[[h,n],[r,a]]},y.scale=function(e){return arguments.length?(u=+e,b()):u},y.translate=function(e){return arguments.length?(s=+e[0],c=+e[1],b()):[s,c]},y.angle=function(n){return arguments.length?(t=gb(d=n%360*ub),e=fb(d),b()):d*ob},y.reflectX=function(e){return arguments.length?(l=e?-1:1,b()):l<0},y.reflectY=function(e){return arguments.length?(f=e?-1:1,b()):f<0},y.fitExtent=function(e,t){return ox(y,e,t)},y.fitSize=function(e,t){return ux(y,e,t)},y.fitWidth=function(e,t){return sx(y,e,t)},y.fitHeight=function(e,t){return cx(y,e,t)},y},mercator:function(){return _x(jx).scale(961/ib)},mollweide:function(){return px($x).scale(169.529)},naturalEarth1:function(){return px(Px).scale(175.295)},orthographic:function(){return px(zx).scale(249.5).clipAngle(90.000001)},stereographic:function(){return px(Bx).scale(250).clipAngle(142)},transversemercator:function(){var e=_x(Lx),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(var rw in nw)ew(rw,nw[rw]);function aw(e,t,n){var r=Hr(e,t-eb,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function iw(e,t,n){var r=Hr(e,t-eb,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function ow(){var e,t,n,r,a,i,o,u,s,c,l,f,d=10,h=d,p=90,v=360,m=2.5;function g(){return{type:"MultiLineString",coordinates:b()}}function b(){return Hr(db(r/p)*p,n,p).map(l).concat(Hr(db(u/v)*v,o,v).map(f)).concat(Hr(db(t/d)*d,e,d).filter((function(e){return sb(e%p)>eb})).map(s)).concat(Hr(db(i/h)*h,a,h).filter((function(e){return sb(e%v)>eb})).map(c))}return g.lines=function(){return b().map((function(e){return{type:"LineString",coordinates:e}}))},g.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(o).slice(1),l(n).reverse().slice(1),f(u).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],u=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),u>o&&(e=u,u=o,o=e),g.precision(m)):[[r,u],[n,o]]},g.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],i=+n[0][1],a=+n[1][1],t>e&&(n=t,t=e,e=n),i>a&&(n=i,i=a,a=n),g.precision(m)):[[t,i],[e,a]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(p=+e[0],v=+e[1],g):[p,v]},g.stepMinor=function(e){return arguments.length?(d=+e[0],h=+e[1],g):[d,h]},g.precision=function(d){return arguments.length?(m=+d,s=aw(i,a,90),c=iw(t,e,m),l=aw(u,o,90),f=iw(r,n,m),g):m},g.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function uw(){}var sw=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function cw(){var e=1,t=1,n=o;function r(e,t){return t.map((function(t){return a(e,t)}))}function a(r,a){var o=[],u=[];return function(n,r,a){var o,u,s,c,l,f,d=new Array,h=new Array;o=u=-1,c=n[0]>=r,sw[c<<1].forEach(p);for(;++o<e-1;)s=c,c=n[o+1]>=r,sw[s|c<<1].forEach(p);sw[c<<0].forEach(p);for(;++u<t-1;){for(o=-1,c=n[u*e+e]>=r,l=n[u*e]>=r,sw[c<<1|l<<2].forEach(p);++o<e-1;)s=c,c=n[u*e+e+o+1]>=r,f=l,l=n[u*e+o+1]>=r,sw[s|c<<1|l<<2|f<<3].forEach(p);sw[c|l<<3].forEach(p)}o=-1,l=n[u*e]>=r,sw[l<<2].forEach(p);for(;++o<e-1;)f=l,l=n[u*e+o+1]>=r,sw[l<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+o,e[0][1]+u],s=[e[1][0]+o,e[1][1]+u],c=i(r),l=i(s);(t=h[c])?(n=d[l])?(delete h[t.end],delete d[n.start],t===n?(t.ring.push(s),a(t.ring)):d[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(s),h[t.end=l]=t):(t=d[l])?(n=h[c])?(delete d[t.start],delete h[n.end],t===n?(t.ring.push(s),a(t.ring)):d[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(r),d[t.start=c]=t):d[c]=h[l]={start:c,end:l,ring:[r,s]}}sw[l<<3].forEach(p)}(r,a,(function(e){n(e,r,a),function(e){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):u.push(e)})),u.forEach((function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==lw((t=o[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:a,coordinates:o}}function i(t){return 2*t[0]+t[1]*(e+1)*4}function o(n,r,a){n.forEach((function(n){var i,o=n[0],u=n[1],s=0|o,c=0|u,l=r[c*e+s];o>0&&o<e&&s===o&&(i=r[c*e+s-1],n[0]=o+(a-i)/(l-i)-.5),u>0&&u<t&&c===u&&(i=r[(c-1)*e+s],n[1]=u+(a-i)/(l-i)-.5)}))}return r.contour=a,r.size=function(n){if(!arguments.length)return[e,t];var a=Math.floor(n[0]),i=Math.floor(n[1]);return a>=0&&i>=0||Object(Pt.k)("invalid size"),e=a,t=i,r},r.smooth=function(e){return arguments.length?(n=e?o:uw,r):n===o},r}function lw(e,t){for(var n,r=-1,a=t.length;++r<a;)if(n=fw(e,t[r]))return n;return 0}function fw(e,t){for(var n=t[0],r=t[1],a=-1,i=0,o=e.length,u=o-1;i<o;u=i++){var s=e[i],c=s[0],l=s[1],f=e[u],d=f[0],h=f[1];if(dw(s,f,t))return 0;l>r!==h>r&&n<(d-c)*(r-l)/(h-l)+c&&(a=-a)}return a}function dw(e,t,n){var r,a,i,o;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(a=e[r=+(e[0]===t[0])],i=n[r],o=t[r],a<=i&&i<=o||o<=i&&i<=a)}function hw(e,t,n){return function(r){var a=Object(Pt.m)(r),i=n?Math.min(a[0],0):a[0],o=a[1],u=o-i,s=t?Object(Xo.c)(i,o,e):u/(e+1);return Hr(i+s,o,s)}}function pw(e){Tn.call(this,null,e)}function vw(e,t,n,r,a){var i=e.x1||0,o=e.y1||0,u=t*n<0;function s(e){e.forEach(c)}function c(e){u&&e.reverse(),e.forEach(l)}function l(e){e[0]=(e[0]-i)*t+r,e[1]=(e[1]-o)*n+a}return function(e){return e.coordinates.forEach(s),e}}function mw(e,t,n){var r=e>=0?e:Qn(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function gw(e){return Object(Pt.A)(e)?e:Object(Pt.i)(+e)}function bw(){var e=function(e){return e[0]},t=function(e){return e[1]},n=Pt.M,r=[-1,-1],a=960,i=500,o=2;function u(u,s){var c=mw(r[0],u,e)>>o,l=mw(r[1],u,t)>>o,f=c?c+2:0,d=l?l+2:0,h=2*f+(a>>o),p=2*d+(i>>o),v=new Float32Array(h*p),m=new Float32Array(h*p),g=v;u.forEach((function(r){var a=f+(+e(r)>>o),i=d+(+t(r)>>o);a>=0&&a<h&&i>=0&&i<p&&(v[a+i*h]+=+n(r))})),c>0&&l>0?(yw(h,p,v,m,c),xw(h,p,m,v,l),yw(h,p,v,m,c),xw(h,p,m,v,l),yw(h,p,v,m,c),xw(h,p,m,v,l)):c>0?(yw(h,p,v,m,c),yw(h,p,m,v,c),yw(h,p,v,m,c),g=m):l>0&&(xw(h,p,v,m,l),xw(h,p,m,v,l),xw(h,p,v,m,l),g=m);for(var b=s?Math.pow(2,-2*o):1/hg(g),y=0,x=h*p;y<x;++y)g[y]*=b;return{values:g,scale:1<<o,width:h,height:p,x1:f,y1:d,x2:f+(a>>o),y2:d+(i>>o)}}return u.x=function(t){return arguments.length?(e=gw(t),u):e},u.y=function(e){return arguments.length?(t=gw(e),u):t},u.weight=function(e){return arguments.length?(n=gw(e),u):n},u.size=function(e){if(!arguments.length)return[a,i];var t=+e[0],n=+e[1];return t>=0&&n>=0||Object(Pt.k)("invalid size"),a=t,i=n,u},u.cellSize=function(e){return arguments.length?((e=+e)>=1||Object(Pt.k)("invalid cell size"),o=Math.floor(Math.log(e)/Math.LN2),u):1<<o},u.bandwidth=function(e){return arguments.length?(1===(e=Object(Pt.e)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Object(Pt.k)("invalid bandwidth"),r=e,u):r},u}function yw(e,t,n,r,a){for(var i=1+(a<<1),o=0;o<t;++o)for(var u=0,s=0;u<e+a;++u)u<e&&(s+=n[u+o*e]),u>=a&&(u>=i&&(s-=n[u-i+o*e]),r[u-a+o*e]=s/Math.min(u+1,e-1+i-u,i))}function xw(e,t,n,r,a){for(var i=1+(a<<1),o=0;o<e;++o)for(var u=0,s=0;u<t+a;++u)u<t&&(s+=n[o+u*e]),u>=a&&(u>=i&&(s-=n[o+(u-i)*e]),r[o+(u-a)*e]=s/Math.min(u+1,t-1+i-u,i))}function ww(e){Tn.call(this,null,e)}pw.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Object(Pt.v)(pw,Tn,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,a=e.field||Pt.u,i=cw().smooth(!1!==e.smooth),o=e.thresholds||function(e,t,n){var r=hw(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(e.map((function(e){return zn(t(e).values)})))}(r,a,e),u=null===e.as?null:e.as||"contour",s=[];return r.forEach((function(t){var n=a(t),r=i.size([n.width,n.height])(n.values,Object(Pt.x)(o)?o:o(n.values));!function(e,t,n,r){var a=r.scale||t.scale,i=r.translate||t.translate;Object(Pt.A)(a)&&(a=a(n,r));Object(Pt.A)(i)&&(i=i(n,r));if((1===a||null==a)&&!i)return;var o=(Object(Pt.C)(a)?a:a[0])||1,u=(Object(Pt.C)(a)?a:a[1])||1,s=i&&i[0]||0,c=i&&i[1]||0;e.forEach(vw(t,o,u,s,c))}(r,n,t,e),r.forEach((function(e){s.push($t(t,Yt(null!=u?Object(xi.a)({},u,e):e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=s,n}}),ww.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var Ow=["x","y","weight","size","cellSize","bandwidth"];function kw(e,t){return Ow.forEach((function(n){return null!=t[n]?e[n](t[n]):0})),e}function jw(e){Tn.call(this,null,e)}Object(Pt.v)(ww,Tn,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=function(e,t){var n,r,a,i,o,u,s=[],c=function(e){return e(i)};if(null==t)s.push(e);else for(n={},r=0,a=e.length;r<a;++r)i=e[r],(u=n[o=t.map(c)])||(n[o]=u=[],u.dims=o,s.push(u)),u.push(i);return s}(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(Pt.d),o=kw(bw(),e),u=e.as||"grid";return n=a.map((function(t){return Yt(function(e,t){for(var n=0;n<i.length;++n)e[i[n]]=t[n];return e}(Object(xi.a)({},u,o(t,e.counts)),t.dims))})),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r}}),jw.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Object(Pt.v)(jw,Tn,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=cw().smooth(!1!==e.smooth),o=e.values,u=e.thresholds||hw(e.count||10,e.nice,!!o),s=e.size;return o||(o=t.materialize(t.SOURCE).source,r=vw(n=kw(bw(),e)(o,!0),n.scale||1,n.scale||1,0,0),s=[n.width,n.height],o=n.values),u=Object(Pt.x)(u)?u:u(o),o=i.size(s)(o,u),r&&o.forEach(r),this.value&&(a.rem=this.value),this.value=a.source=a.add=(o||[]).map(Yt),a}});var _w="Feature",Sw="FeatureCollection";function Ew(e){Tn.call(this,null,e)}function Aw(e){Tn.call(this,null,e)}function Cw(e){Tn.call(this,null,e)}function Nw(e){Tn.call(this,null,e)}function Tw(e){Tn.call(this,[],e),this.generator=ow()}function Dw(e){Tn.call(this,null,e)}function Iw(e){if(!Object(Pt.A)(e))return!1;var t=Object(Pt.ab)(Object(Pt.c)(e));return t.$x||t.$y||t.$value||t.$max}function Mw(e){Tn.call(this,null,e),this.modified(!0)}function Fw(e,t,n){Object(Pt.A)(e[t])&&e[t](n)}Ew.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(Pt.v)(Ew,Tn,{transform:function(e,t){var n,r=this._features,a=this._points,i=e.fields,o=i&&i[0],u=i&&i[1],s=e.geojson||!i&&Pt.u,c=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(Pt.c)(s))||o&&t.modified(Object(Pt.c)(o))||u&&t.modified(Object(Pt.c)(u)),this.value&&!n||(c=t.SOURCE,this._features=r=[],this._points=a=[]),s&&t.visit(c,(function(e){return r.push(s(e))})),o&&u&&(t.visit(c,(function(e){var t=o(e),n=u(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&a.push([t,n])})),r=r.concat({type:_w,geometry:{type:"MultiPoint",coordinates:a}})),this.value={type:Sw,features:r}}}),Aw.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(Pt.v)(Aw,Tn,{transform:function(e,t){var n=t.fork(t.ALL),r=this.value,a=e.field||Pt.u,i=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=tw(e.projection),n.materialize().reflow()):o=a===Pt.u||t.modified(a.fields)?n.ADD_MOD:n.ADD;var u=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(o,(function(e){return e[i]=r(a(e))})),r.pointRadius(u),n.modifies(i)}}),Cw.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(Pt.v)(Cw,Tn,{transform:function(e,t){var n,r=e.projection,a=e.fields[0],i=e.fields[1],o=e.as||["x","y"],u=o[0],s=o[1];function c(e){var t=r([a(e),i(e)]);t?(e[u]=t[0],e[s]=t[1]):(e[u]=void 0,e[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(n=t.modified(a.fields)||t.modified(i.fields),t.visit(n?t.ADD_MOD:t.ADD,c)),t.modifies(o)}}),Nw.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(Pt.v)(Nw,Tn,{transform:function(e,t){var n=t.fork(t.ALL),r=this.value,a=e.as||"shape",i=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var a=e.pointRadius(),i=e.pointRadius(n)(t(r));return e.pointRadius(a),i};return r.context=function(t){return e.context(t),r},r}(tw(e.projection),e.field||Object(Pt.q)("datum"),e.pointRadius),n.materialize().reflow(),i=n.SOURCE),n.visit(i,(function(e){return e[a]=r})),n.modifies(a)}}),Tw.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(Pt.v)(Tw,Tn,{transform:function(e,t){var n,r=this.value,a=this.generator;if(!r.length||e.modified())for(var i in e)Object(Pt.A)(a[i])&&a[i](e[i]);return n=a(),r.length?t.mod.push(Zt(r[0],n)):t.add.push(Yt(n)),r[0]=n,t}}),Dw.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Object(Pt.v)(Dw,Tn,{transform:function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r="shared"===e.resolve,a=e.field||Pt.u,i=function(e,t){var n;Object(Pt.A)(e)?(n=function(n){return e(n,t)},n.dep=Iw(e)):e?n=Object(Pt.i)(e):(n=function(e){return e.$value/e.$max||0},n.dep=!0);return n}(e.opacity,e),o=function(e,t){var n;Object(Pt.A)(e)?(n=function(n){return Ou(e(n,t))},n.dep=Iw(e)):n=Object(Pt.i)(Ou(e||"#888"));return n}(e.color,e),u=e.as||"image",s={$x:0,$y:0,$value:0,$max:r?zn(n.map((function(e){return zn(a(e).values)}))):0};return n.forEach((function(e){var t=a(e),n=Object(Pt.l)({},e,s);r||(n.$max=zn(t.values||[])),e[u]=function(e,t,n,r){for(var a=e.width,i=e.height,o=e.x1||0,u=e.y1||0,s=e.x2||a,c=e.y2||i,l=e.values,f=l?function(e){return l[e]}:Pt.gb,d=Po(s-o,c-u),h=d.getContext("2d"),p=h.getImageData(0,0,s-o,c-u),v=p.data,m=u,g=0;m<c;++m){t.$y=m-u;for(var b=o,y=m*a;b<s;++b,g+=4){t.$x=b-o,t.$value=f(b+y);var x=n(t);v[g+0]=x.r,v[g+1]=x.g,v[g+2]=x.b,v[g+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}(t,n,o.dep?o:Object(Pt.i)(o(n)),i.dep?i:Object(Pt.i)(i(n)))})),t.reflow(!0).modifies(u)}}),Object(Pt.v)(Mw,Tn,{transform:function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=ew((e||"mercator").toLowerCase());t||Object(Pt.k)("Unrecognized projection type: "+e);return t()}(e.type),Jx.forEach((function(t){null!=e[t]&&Fw(n,t,e[t])}))):Jx.forEach((function(t){e.modified(t)&&Fw(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Object(Pt.e)(e)).length?e[0]:{type:Sw,features:e.reduce((function(e,t){return e.concat(function(e){return e.type===Sw?e.features:Object(Pt.e)(e).filter((function(e){return null!=e})).map((function(e){return e.type===_w?e:{type:_w,geometry:e}}))}(t))}),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Rw(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,i,o,u,s,c,l,f,d,h=e._root,p={data:r},v=e._x0,m=e._y0,g=e._x1,b=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(i=(v+g)/2))?v=i:g=i,(l=n>=(o=(m+b)/2))?m=o:b=o,a=h,!(h=h[f=l<<1|c]))return a[f]=p,e;if(u=+e._x.call(null,h.data),s=+e._y.call(null,h.data),t===u&&n===s)return p.next=h,a?a[f]=p:e._root=p,e;do{a=a?a[f]=new Array(4):e._root=new Array(4),(c=t>=(i=(v+g)/2))?v=i:g=i,(l=n>=(o=(m+b)/2))?m=o:b=o}while((f=l<<1|c)===(d=(s>=o)<<1|u>=i));return a[d]=h,a[f]=p,e}var Pw=function(e,t,n,r,a){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=a};function zw(e){return e[0]}function Bw(e){return e[1]}function Lw(e,t,n){var r=new Uw(null==t?zw:t,null==n?Bw:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Uw(e,t,n,r,a,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function Ww(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Vw=Lw.prototype=Uw.prototype;Vw.copy=function(){var e,t,n=new Uw(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ww(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var a=0;a<4;++a)(t=r.source[a])&&(t.length?e.push({source:t,target:r.target[a]=new Array(4)}):r.target[a]=Ww(t));return n},Vw.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return Rw(this.cover(t,n),t,n,e)},Vw.addAll=function(e){var t,n,r,a,i=e.length,o=new Array(i),u=new Array(i),s=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(o[n]=r,u[n]=a,r<s&&(s=r),r>l&&(l=r),a<c&&(c=a),a>f&&(f=a));if(s>l||c>f)return this;for(this.cover(s,c).cover(l,f),n=0;n<i;++n)Rw(this,o[n],u[n],e[n]);return this},Vw.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n))a=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var o,u,s=a-n||1,c=this._root;n>e||e>=a||r>t||t>=i;)switch(u=(t<r)<<1|e<n,(o=new Array(4))[u]=c,c=o,s*=2,u){case 0:a=n+s,i=r+s;break;case 1:n=a-s,i=r+s;break;case 2:a=n+s,r=i-s;break;case 3:n=a-s,r=i-s}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=a,this._y1=i,this},Vw.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Vw.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Vw.find=function(e,t,n){var r,a,i,o,u,s,c,l=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new Pw(v,l,f,d,h)),null==n?n=1/0:(l=e-n,f=t-n,d=e+n,h=t+n,n*=n);s=p.pop();)if(!(!(v=s.node)||(a=s.x0)>d||(i=s.y0)>h||(o=s.x1)<l||(u=s.y1)<f))if(v.length){var m=(a+o)/2,g=(i+u)/2;p.push(new Pw(v[3],m,g,o,u),new Pw(v[2],a,g,m,u),new Pw(v[1],m,i,o,g),new Pw(v[0],a,i,m,g)),(c=(t>=g)<<1|e>=m)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var b=e-+this._x.call(null,v.data),y=t-+this._y.call(null,v.data),x=b*b+y*y;if(x<n){var w=Math.sqrt(n=x);l=e-w,f=t-w,d=e+w,h=t+w,r=v.data}}return r},Vw.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,a,i,o,u,s,c,l,f,d,h=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((c=i>=(u=(p+m)/2))?p=u:m=u,(l=o>=(s=(v+g)/2))?v=s:g=s,t=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(a=h.next)&&delete h.next,r?(a?r.next=a:delete r.next,this):t?(a?t[f]=a:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=a,this)},Vw.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Vw.root=function(){return this._root},Vw.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Vw.visit=function(e){var t,n,r,a,i,o,u=[],s=this._root;for(s&&u.push(new Pw(s,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(s=t.node,r=t.x0,a=t.y0,i=t.x1,o=t.y1)&&s.length){var c=(r+i)/2,l=(a+o)/2;(n=s[3])&&u.push(new Pw(n,c,l,i,o)),(n=s[2])&&u.push(new Pw(n,r,l,c,o)),(n=s[1])&&u.push(new Pw(n,c,a,i,l)),(n=s[0])&&u.push(new Pw(n,r,a,c,l))}return this},Vw.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new Pw(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var a=t.node;if(a.length){var i,o=t.x0,u=t.y0,s=t.x1,c=t.y1,l=(o+s)/2,f=(u+c)/2;(i=a[0])&&n.push(new Pw(i,o,u,l,f)),(i=a[1])&&n.push(new Pw(i,l,u,s,f)),(i=a[2])&&n.push(new Pw(i,o,f,l,c)),(i=a[3])&&n.push(new Pw(i,l,f,s,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Vw.x=function(e){return arguments.length?(this._x=e,this):this._x},Vw.y=function(e){return arguments.length?(this._y=e,this):this._y};var Hw=function(e){return function(){return e}},Gw=function(e){return 1e-6*(e()-.5)};function qw(e){return e.x+e.vx}function Xw(e){return e.y+e.vy}var Yw={value:function(){}};function Kw(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new $w(r)}function $w(e){this._=e}function Zw(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Jw(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}function Qw(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=Yw,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}$w.prototype=Kw.prototype={constructor:$w,on:function(e,t){var n,r=this._,a=Zw(e+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++i<o;)if(n=(e=a[i]).type)r[n]=Qw(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Qw(r[n],e.name,null);return this}for(;++i<o;)if((n=(e=a[i]).type)&&(n=Jw(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new $w(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};var eO,tO,nO=Kw,rO=0,aO=0,iO=0,oO=0,uO=0,sO=0,cO="object"===typeof performance&&performance.now?performance:Date,lO="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fO(){return uO||(lO(dO),uO=cO.now()+sO)}function dO(){uO=0}function hO(){this._call=this._time=this._next=null}function pO(e,t,n){var r=new hO;return r.restart(e,t,n),r}function vO(){uO=(oO=cO.now())+sO,rO=aO=0;try{!function(){fO(),++rO;for(var e,t=eO;t;)(e=uO-t._time)>=0&&t._call.call(null,e),t=t._next;--rO}()}finally{rO=0,function(){var e,t,n=eO,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:eO=t);tO=e,gO(r)}(),uO=0}}function mO(){var e=cO.now(),t=e-oO;t>1e3&&(sO-=t,oO=e)}function gO(e){rO||(aO&&(aO=clearTimeout(aO)),e-uO>24?(e<1/0&&(aO=setTimeout(vO,e-cO.now()-sO)),iO&&(iO=clearInterval(iO))):(iO||(oO=cO.now(),iO=setInterval(mO,1e3)),rO=1,lO(vO)))}hO.prototype=pO.prototype={constructor:hO,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?fO():+n)+(null==t?0:+t),this._next||tO===this||(tO?tO._next=this:eO=this,tO=this),this._call=e,this._time=n,gO()},stop:function(){this._call&&(this._call=null,this._time=1/0,gO())}};var bO=4294967296;function yO(e){return e.x}function xO(e){return e.y}var wO=Math.PI*(3-Math.sqrt(5)),OO=function(e){var t,n=1,r=.001,a=1-Math.pow(r,1/300),i=0,o=.6,u=new Map,s=pO(f),c=nO("tick","end"),l=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%bO)/bO}}();function f(){d(),c.call("tick",t),n<r&&(s.stop(),c.call("end",t))}function d(r){var s,c,l=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*a,u.forEach((function(e){e(n)})),s=0;s<l;++s)null==(c=e[s]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var a=10*Math.sqrt(.5+n),i=n*wO;t.x=a*Math.cos(i),t.y=a*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,l),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return s.restart(f),t},stop:function(){return s.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),u.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(a=+e,t):+a},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},randomSource:function(e){return arguments.length?(l=e,u.forEach(p),t):l},force:function(e,n){return arguments.length>1?(null==n?u.delete(e):u.set(e,p(n)),t):u.get(e)},find:function(t,n,r){var a,i,o,u,s,c=0,l=e.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(o=(a=t-(u=e[c]).x)*a+(i=n-u.y)*i)<r&&(s=u,r=o);return s},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}};function kO(e){return e.index}function jO(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}var _O={center:function(e,t){var n,r=1;function a(){var a,i,o=n.length,u=0,s=0;for(a=0;a<o;++a)u+=(i=n[a]).x,s+=i.y;for(u=(u/o-e)*r,s=(s/o-t)*r,a=0;a<o;++a)(i=n[a]).x-=u,i.y-=s}return null==e&&(e=0),null==t&&(t=0),a.initialize=function(e){n=e},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(e){return arguments.length?(t=+e,a):t},a.strength=function(e){return arguments.length?(r=+e,a):r},a},collide:function(e){var t,n,r,a=1,i=1;function o(){for(var e,o,s,c,l,f,d,h=t.length,p=0;p<i;++p)for(o=Lw(t,qw,Xw).visitAfter(u),e=0;e<h;++e)s=t[e],f=n[s.index],d=f*f,c=s.x+s.vx,l=s.y+s.vy,o.visit(v);function v(e,t,n,i,o){var u=e.data,h=e.r,p=f+h;if(!u)return t>c+p||i<c-p||n>l+p||o<l-p;if(u.index>s.index){var v=c-u.x-u.vx,m=l-u.y-u.vy,g=v*v+m*m;g<p*p&&(0===v&&(g+=(v=Gw(r))*v),0===m&&(g+=(m=Gw(r))*m),g=(p-(g=Math.sqrt(g)))/g*a,s.vx+=(v*=g)*(p=(h*=h)/(d+h)),s.vy+=(m*=g)*p,u.vx-=v*(p=1-p),u.vy-=m*p)}}}function u(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,a,i=t.length;for(n=new Array(i),r=0;r<i;++r)a=t[r],n[a.index]=+e(a,r,t)}}return"function"!==typeof e&&(e=Hw(null==e?1:+e)),o.initialize=function(e,n){t=e,r=n,s()},o.iterations=function(e){return arguments.length?(i=+e,o):i},o.strength=function(e){return arguments.length?(a=+e,o):a},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:Hw(+t),s(),o):e},o},nbody:function(){var e,t,n,r,a,i=Hw(-30),o=1,u=1/0,s=.81;function c(n){var a,i=e.length,o=Lw(e,yO,xO).visitAfter(f);for(r=n,a=0;a<i;++a)t=e[a],o.visit(d)}function l(){if(e){var t,n,r=e.length;for(a=new Array(r),t=0;t<r;++t)n=e[t],a[n.index]=+i(n,t,e)}}function f(e){var t,n,r,i,o,u=0,s=0;if(e.length){for(r=i=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(u+=t.value,s+=n,r+=n*t.x,i+=n*t.y);e.x=r/s,e.y=i/s}else{(t=e).x=t.data.x,t.y=t.data.y;do{u+=a[t.data.index]}while(t=t.next)}e.value=u}function d(e,i,c,l){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,h=l-i,p=f*f+d*d;if(h*h/s<p)return p<u&&(0===f&&(p+=(f=Gw(n))*f),0===d&&(p+=(d=Gw(n))*d),p<o&&(p=Math.sqrt(o*p)),t.vx+=f*e.value*r/p,t.vy+=d*e.value*r/p),!0;if(!(e.length||p>=u)){(e.data!==t||e.next)&&(0===f&&(p+=(f=Gw(n))*f),0===d&&(p+=(d=Gw(n))*d),p<o&&(p=Math.sqrt(o*p)));do{e.data!==t&&(h=a[e.data.index]*r/p,t.vx+=f*h,t.vy+=d*h)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,l()},c.strength=function(e){return arguments.length?(i="function"===typeof e?e:Hw(+e),l(),c):i},c.distanceMin=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c.distanceMax=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c.theta=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c},link:function(e){var t,n,r,a,i,o,u=kO,s=function(e){return 1/Math.min(a[e.source.index],a[e.target.index])},c=Hw(30),l=1;function f(r){for(var a=0,u=e.length;a<l;++a)for(var s,c,f,d,h,p,v,m=0;m<u;++m)c=(s=e[m]).source,d=(f=s.target).x+f.vx-c.x-c.vx||Gw(o),h=f.y+f.vy-c.y-c.vy||Gw(o),d*=p=((p=Math.sqrt(d*d+h*h))-n[m])/p*r*t[m],h*=p,f.vx-=d*(v=i[m]),f.vy-=h*v,c.vx+=d*(v=1-v),c.vy+=h*v}function d(){if(r){var o,s,c=r.length,l=e.length,f=new Map(r.map((function(e,t){return[u(e,t,r),e]})));for(o=0,a=new Array(c);o<l;++o)(s=e[o]).index=o,"object"!==typeof s.source&&(s.source=jO(f,s.source)),"object"!==typeof s.target&&(s.target=jO(f,s.target)),a[s.source.index]=(a[s.source.index]||0)+1,a[s.target.index]=(a[s.target.index]||0)+1;for(o=0,i=new Array(l);o<l;++o)s=e[o],i[o]=a[s.source.index]/(a[s.source.index]+a[s.target.index]);t=new Array(l),h(),n=new Array(l),p()}}function h(){if(r)for(var n=0,a=e.length;n<a;++n)t[n]=+s(e[n],n,e)}function p(){if(r)for(var t=0,a=e.length;t<a;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,o=t,d()},f.links=function(t){return arguments.length?(e=t,d(),f):e},f.id=function(e){return arguments.length?(u=e,f):u},f.iterations=function(e){return arguments.length?(l=+e,f):l},f.strength=function(e){return arguments.length?(s="function"===typeof e?e:Hw(+e),h(),f):s},f.distance=function(e){return arguments.length?(c="function"===typeof e?e:Hw(+e),p(),f):c},f},x:function(e){var t,n,r,a=Hw(.1);function i(e){for(var a,i=0,o=t.length;i<o;++i)(a=t[i]).vx+=(r[i]-a.x)*n[i]*e}function o(){if(t){var i,o=t.length;for(n=new Array(o),r=new Array(o),i=0;i<o;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+a(t[i],i,t)}}return"function"!==typeof e&&(e=Hw(null==e?0:+e)),i.initialize=function(e){t=e,o()},i.strength=function(e){return arguments.length?(a="function"===typeof e?e:Hw(+e),o(),i):a},i.x=function(t){return arguments.length?(e="function"===typeof t?t:Hw(+t),o(),i):e},i},y:function(e){var t,n,r,a=Hw(.1);function i(e){for(var a,i=0,o=t.length;i<o;++i)(a=t[i]).vy+=(r[i]-a.y)*n[i]*e}function o(){if(t){var i,o=t.length;for(n=new Array(o),r=new Array(o),i=0;i<o;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+a(t[i],i,t)}}return"function"!==typeof e&&(e=Hw(null==e?0:+e)),i.initialize=function(e){t=e,o()},i.strength=function(e){return arguments.length?(a="function"===typeof e?e:Hw(+e),o(),i):a},i.y=function(t){return arguments.length?(e="function"===typeof t?t:Hw(+t),o(),i):e},i}},SO="forces",EO=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],AO=["static","iterations"],CO=["x","y","vx","vy"];function NO(e){Tn.call(this,null,e)}function TO(e,t,n,r){var a,i,o,u,s=Object(Pt.e)(t.forces);for(a=0,i=EO.length;a<i;++a)(o=EO[a])!==SO&&t.modified(o)&&e[o](t[o]);for(a=0,i=s.length;a<i;++a)u=SO+a,(o=n||t.modified(SO,a)?IO(s[a]):r&&DO(s[a],r)?e.force(u):null)&&e.force(u,o);for(i=e.numForces||0;a<i;++a)e.force(SO+a,null);return e.numForces=s.length,e}function DO(e,t){var n,r;for(n in e)if(Object(Pt.A)(r=e[n])&&t.modified(Object(Pt.c)(r)))return 1;return 0}function IO(e){var t,n;for(n in Object(Pt.s)(_O,e.force)||Object(Pt.k)("Unrecognized force: "+e.force),t=_O[e.force](),e)Object(Pt.A)(t[n])&&MO(t[n],e[n],e);return t}function MO(e,t,n){e(Object(Pt.A)(t)?function(e){return t(e,n)}:t)}function FO(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}NO.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:CO}]},Object(Pt.v)(NO,Tn,{transform:function(e,t){var n,r,a=this.value,i=t.changed(t.ADD_REM),o=e.modified(EO),u=e.iterations||300;if(a?(i&&(t.modifies("index"),a.nodes(t.source)),(o||t.changed(t.MOD))&&TO(a,e,0,t)):(this.value=a=function(e,t){var n=OO(e),r=n.stop,a=n.restart,i=!1;return n.stopped=function(){return i},n.restart=function(){return i=!1,a()},n.stop=function(){return i=!0,r()},TO(n,t,!0).on("end",(function(){return i=!0}))}(t.source,e),a.on("tick",(n=t.dataflow,r=this,function(){return n.touch(r).run()})),e.static||(i=!0,a.tick()),t.modifies("index")),o||i||e.modified(AO)||t.changed()&&e.restart)if(a.alpha(Math.max(a.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(a.alphaMin(),1/u)),e.static)for(a.stop();--u>=0;)a.tick();else if(a.stopped()&&a.restart(),!i)return t.StopPropagation;return this.finish(e,t)},finish:function(e,t){for(var n,r=t.dataflow,a=this._argops,i=0,o=a.length;i<o;++i)if((n=a[i]).name===SO&&"link"===n.op._argval.force)for(var u,s=n.op._argops,c=0,l=s.length;c<l;++c)if("links"===s[c].name&&(u=s[c].op.source)){r.pulse(u,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(CO)}});var RO=O.a.mark(PO);function PO(){var e,t,n,r,a,i;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=[e=this];case 1:t=n.reverse(),n=[];case 2:if(!(e=t.pop())){o.next=8;break}return o.next=5,e;case 5:if(r=e.children)for(a=0,i=r.length;a<i;++a)n.push(r[a]);o.next=2;break;case 8:if(n.length){o.next=1;break}case 9:case"end":return o.stop()}}),RO,this)}function zO(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=LO)):void 0===t&&(t=BO);for(var n,r,a,i,o,u=new VO(e),s=[u];n=s.pop();)if((a=t(n.data))&&(o=(a=Array.from(a)).length))for(n.children=a,i=o-1;i>=0;--i)s.push(r=a[i]=new VO(a[i])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(WO)}function BO(e){return e.children}function LO(e){return Array.isArray(e)?e[1]:null}function UO(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function WO(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function VO(e){this.data=e,this.depth=this.height=0,this.parent=null}VO.prototype=zO.prototype=Object(xi.a)({constructor:VO,count:function(){return this.eachAfter(FO)},each:function(e,t){var n,r=-1,a=Object(Fn.a)(this);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.call(t,i,++r,this)}}catch(o){a.e(o)}finally{a.f()}return this},eachAfter:function(e,t){for(var n,r,a,i=this,o=[i],u=[],s=-1;i=o.pop();)if(u.push(i),n=i.children)for(r=0,a=n.length;r<a;++r)o.push(n[r]);for(;i=u.pop();)e.call(t,i,++s,this);return this},eachBefore:function(e,t){for(var n,r,a=this,i=[a],o=-1;a=i.pop();)if(e.call(t,a,++o,this),n=a.children)for(r=n.length-1;r>=0;--r)i.push(n[r]);return this},find:function(e,t){var n,r=-1,a=Object(Fn.a)(this);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(e.call(t,i,++r,this))return i}}catch(o){a.e(o)}finally{a.f()}},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;e=n.pop(),t=r.pop();for(;e===t;)a=e,e=n.pop(),t=r.pop();return a}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return zO(this).eachBefore(UO)}},Symbol.iterator,PO);var HO=function(e){for(var t,n,r=0,a=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(Array.from(e))).length,i=[];r<a;)t=e[r],n&&XO(n,t)?++r:(n=KO(i=GO(i,t)),r=0);return n};function GO(e,t){var n,r;if(YO(t,e))return[t];for(n=0;n<e.length;++n)if(qO(t,e[n])&&YO($O(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(qO($O(e[n],e[r]),t)&&qO($O(e[n],t),e[r])&&qO($O(e[r],t),e[n])&&YO(ZO(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function qO(e,t){var n=e.r-t.r,r=t.x-e.x,a=t.y-e.y;return n<0||n*n<r*r+a*a}function XO(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,a=t.y-e.y;return n>0&&n*n>r*r+a*a}function YO(e,t){for(var n=0;n<t.length;++n)if(!XO(e,t[n]))return!1;return!0}function KO(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return $O(e[0],e[1]);case 3:return ZO(e[0],e[1],e[2])}var t}function $O(e,t){var n=e.x,r=e.y,a=e.r,i=t.x,o=t.y,u=t.r,s=i-n,c=o-r,l=u-a,f=Math.sqrt(s*s+c*c);return{x:(n+i+s/f*l)/2,y:(r+o+c/f*l)/2,r:(f+a+u)/2}}function ZO(e,t,n){var r=e.x,a=e.y,i=e.r,o=t.x,u=t.y,s=t.r,c=n.x,l=n.y,f=n.r,d=r-o,h=r-c,p=a-u,v=a-l,m=s-i,g=f-i,b=r*r+a*a-i*i,y=b-o*o-u*u+s*s,x=b-c*c-l*l+f*f,w=h*p-d*v,O=(p*x-v*y)/(2*w)-r,k=(v*m-p*g)/w,j=(h*y-d*x)/(2*w)-a,_=(d*g-h*m)/w,S=k*k+_*_-1,E=2*(i+O*k+j*_),A=O*O+j*j-i*i,C=-(S?(E+Math.sqrt(E*E-4*S*A))/(2*S):A/E);return{x:r+O+k*C,y:a+j+_*C,r:C}}function JO(e,t,n){var r,a,i,o,u=e.x-t.x,s=e.y-t.y,c=u*u+s*s;c?(a=t.r+n.r,a*=a,o=e.r+n.r,a>(o*=o)?(r=(c+o-a)/(2*c),i=Math.sqrt(Math.max(0,o/c-r*r)),n.x=e.x-r*u-i*s,n.y=e.y-r*s+i*u):(r=(c+a-o)/(2*c),i=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x+r*u-i*s,n.y=t.y+r*s+i*u)):(n.x=t.x+n.r,n.y=t.y)}function QO(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,a=t.y-e.y;return n>0&&n*n>r*r+a*a}function ek(e){var t=e._,n=e.next._,r=t.r+n.r,a=(t.x*n.r+n.x*t.r)/r,i=(t.y*n.r+n.y*t.r)/r;return a*a+i*i}function tk(e){this._=e,this.next=null,this.previous=null}function nk(e){if(!(i=(t=e,e="object"===typeof t&&"length"in t?t:Array.from(t)).length))return 0;var t,n,r,a,i,o,u,s,c,l,f,d;if((n=e[0]).x=0,n.y=0,!(i>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(i>2))return n.r+r.r;JO(r,n,a=e[2]),n=new tk(n),r=new tk(r),a=new tk(a),n.next=a.previous=r,r.next=n.previous=a,a.next=r.previous=n;e:for(s=3;s<i;++s){JO(n._,r._,a=e[s]),a=new tk(a),c=r.next,l=n.previous,f=r._.r,d=n._.r;do{if(f<=d){if(QO(c._,a._)){r=c,n.next=r,r.previous=n,--s;continue e}f+=c._.r,c=c.next}else{if(QO(l._,a._)){(n=l).next=r,r.previous=n,--s;continue e}d+=l._.r,l=l.previous}}while(c!==l.next);for(a.previous=n,a.next=r,n.next=r.previous=r=a,o=ek(n);(a=a.next)!==r;)(u=ek(a))<o&&(n=a,o=u);r=n.next}for(n=[r._],a=r;(a=a.next)!==r;)n.push(a._);for(a=HO(n),s=0;s<i;++s)(n=e[s]).x-=a.x,n.y-=a.y;return a.r}function rk(e){return null==e?null:ak(e)}function ak(e){if("function"!==typeof e)throw new Error;return e}function ik(){return 0}var ok=function(e){return function(){return e}};function uk(e){return Math.sqrt(e.value)}function sk(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function ck(e,t){return function(n){if(r=n.children){var r,a,i,o=r.length,u=e(n)*t||0;if(u)for(a=0;a<o;++a)r[a].r+=u;if(i=nk(r),u)for(a=0;a<o;++a)r[a].r-=u;n.r=i+u}}}function lk(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var fk=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},dk=function(e,t,n,r,a){for(var i,o=e.children,u=-1,s=o.length,c=e.value&&(r-t)/e.value;++u<s;)(i=o[u]).y0=n,i.y1=a,i.x0=t,i.x1=t+=i.value*c},hk={depth:-1},pk={};function vk(e){return e.id}function mk(e){return e.parentId}var gk=function(){var e=vk,t=mk;function n(n){var r,a,i,o,u,s,c,l=Array.from(n),f=l.length,d=new Map;for(a=0;a<f;++a)r=l[a],u=l[a]=new VO(r),null!=(s=e(r,a,n))&&(s+="")&&(c=u.id=s,d.set(c,d.has(c)?pk:u)),null!=(s=t(r,a,n))&&(s+="")&&(u.parent=s);for(a=0;a<f;++a)if(s=(u=l[a]).parent){if(!(o=d.get(s)))throw new Error("missing: "+s);if(o===pk)throw new Error("ambiguous: "+s);o.children?o.children.push(u):o.children=[u],u.parent=o}else{if(i)throw new Error("multiple roots");i=u}if(!i)throw new Error("no root");if(i.parent=hk,i.eachBefore((function(e){e.depth=e.parent.depth+1,--f})).eachBefore(WO),i.parent=null,f>0)throw new Error("cycle");return i}return n.id=function(t){return arguments.length?(e=ak(t),n):e},n.parentId=function(e){return arguments.length?(t=ak(e),n):t},n};function bk(e,t){return e.parent===t.parent?1:2}function yk(e){var t=e.children;return t?t[0]:e.t}function xk(e){var t=e.children;return t?t[t.length-1]:e.t}function wk(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Ok(e,t,n){return e.a.parent===t.parent?e.a:n}function kk(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}kk.prototype=Object.create(VO.prototype);function jk(e,t){return e.parent===t.parent?1:2}function _k(e,t){return e+t.x}function Sk(e,t){return Math.max(e,t.y)}var Ek=function(e,t,n,r,a){for(var i,o=e.children,u=-1,s=o.length,c=e.value&&(a-n)/e.value;++u<s;)(i=o[u]).x0=t,i.x1=r,i.y0=n,i.y1=n+=i.value*c},Ak=(1+Math.sqrt(5))/2;function Ck(e,t,n,r,a,i){for(var o,u,s,c,l,f,d,h,p,v,m,g=[],b=t.children,y=0,x=0,w=b.length,O=t.value;y<w;){s=a-n,c=i-r;do{l=b[x++].value}while(!l&&x<w);for(f=d=l,m=l*l*(v=Math.max(c/s,s/c)/(O*e)),p=Math.max(d/m,m/f);x<w;++x){if(l+=u=b[x].value,u<f&&(f=u),u>d&&(d=u),m=l*l*v,(h=Math.max(d/m,m/f))>p){l-=u;break}p=h}g.push(o={value:l,dice:s<c,children:b.slice(y,x)}),o.dice?dk(o,n,r,a,O?r+=c*l/O:i):Ek(o,n,r,O?n+=s*l/O:a,i),O-=l,y=x}return g}var Nk=function e(t){function n(e,n,r,a,i){Ck(t,e,n,r,a,i)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Ak),Tk=function e(t){function n(e,n,r,a,i){if((o=e._squarify)&&o.ratio===t)for(var o,u,s,c,l,f=-1,d=o.length,h=e.value;++f<d;){for(s=(u=o[f]).children,c=u.value=0,l=s.length;c<l;++c)u.value+=s[c].value;u.dice?dk(u,n,r,a,h?r+=(i-r)*u.value/h:i):Ek(u,n,r,h?n+=(a-n)*u.value/h:a,i),h-=u.value}else e._squarify=o=Ck(t,e,n,r,a,i),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Ak);function Dk(e,t,n){var r={};return e.each((function(e){var a=e.data;n(a)&&(r[t(a)]=e)})),e.lookup=r,e}function Ik(e){Tn.call(this,null,e)}Ik.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var Mk=function(e){return e.values};function Fk(){var e=[],t={entries:function(e){return r(n(e,0),0)},key:function(n){return e.push(n),t}};function n(t,r){if(r>=e.length)return t;for(var a,i,o,u=t.length,s=e[r++],c={},l={},f=-1;++f<u;)(o=c[a=s(i=t[f])+""])?o.push(i):c[a]=[i];for(a in c)l[a]=n(c[a],r);return l}function r(t,n){if(++n>e.length)return t;var a=[];for(var i in t)a.push({key:i,values:r(t[i],n)});return a}return t}function Rk(e){Tn.call(this,null,e)}Object(Pt.v)(Ik,Tn,{transform:function(e,t){t.source||Object(Pt.k)("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),a=t.clone(),i=this.value;return(!i||r||t.changed())&&(i&&i.each((function(e){e.children&&Gt(e.data)&&a.rem.push(e.data)})),this.value=i=zO({values:Object(Pt.e)(e.keys).reduce((function(e,t){return e.key(t),e}),Fk()).entries(a.source)},Mk),n&&i.each((function(e){e.children&&(e=Yt(e.data),a.add.push(e),a.source.push(e))})),Dk(i,qt,qt)),a.source.root=i,a}});var Pk=function(e,t){return e.parent===t.parent?1:2};Object(Pt.v)(Rk,Tn,{transform:function(e,t){t.source&&t.source.root||Object(Pt.k)(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),r=this.fields,a=t.source.root,i=e.as||r;e.field?a.sum(e.field):a.count(),e.sort&&a.sort(Jt(e.sort,(function(e){return e.data}))),function(e,t,n){for(var r,a=0,i=t.length;a<i;++a)(r=t[a])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?Pk:Pt.M);try{this.value=n(a)}catch(o){Object(Pt.k)(o)}return a.each((function(e){return function(e,t,n){for(var r=e.data,a=t.length-1,i=0;i<a;++i)r[n[i]]=e[t[i]];r[n[a]]=e.children?e.children.length:0}(e,r,i)})),t.reflow(e.modified()).modifies(i).modifies("leaf")}});var zk=["x","y","r","depth","children"];function Bk(e){Rk.call(this,e)}Bk.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:zk.length,default:zk}]},Object(Pt.v)(Bk,Rk,{layout:function(){var e=null,t=1,n=1,r=ik;function a(a){return a.x=t/2,a.y=n/2,e?a.eachBefore(sk(e)).eachAfter(ck(r,.5)).eachBefore(lk(1)):a.eachBefore(sk(uk)).eachAfter(ck(ik,1)).eachAfter(ck(r,a.r/Math.min(t,n))).eachBefore(lk(Math.min(t,n)/(2*a.r))),a}return a.radius=function(t){return arguments.length?(e=rk(t),a):e},a.size=function(e){return arguments.length?(t=+e[0],n=+e[1],a):[t,n]},a.padding=function(e){return arguments.length?(r="function"===typeof e?e:ok(+e),a):r},a},params:["radius","size","padding"],fields:zk});var Lk=["x0","y0","x1","y1","depth","children"];function Uk(e){Rk.call(this,e)}function Wk(e){Tn.call(this,null,e)}Uk.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Lk.length,default:Lk}]},Object(Pt.v)(Uk,Rk,{layout:function(){var e=1,t=1,n=0,r=!1;function a(a){var i=a.height+1;return a.x0=a.y0=n,a.x1=e,a.y1=t/i,a.eachBefore(function(e,t){return function(r){r.children&&dk(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var a=r.x0,i=r.y0,o=r.x1-n,u=r.y1-n;o<a&&(a=o=(a+o)/2),u<i&&(i=u=(i+u)/2),r.x0=a,r.y0=i,r.x1=o,r.y1=u}}(t,i)),r&&a.eachBefore(fk),a}return a.round=function(e){return arguments.length?(r=!!e,a):r},a.size=function(n){return arguments.length?(e=+n[0],t=+n[1],a):[e,t]},a.padding=function(e){return arguments.length?(n=+e,a):n},a},params:["size","round","padding"],fields:Lk}),Wk.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(Pt.v)(Wk,Tn,{transform:function(e,t){t.source||Object(Pt.k)("Stratify transform requires an upstream data source.");var n=this.value,r=e.modified(),a=t.fork(t.ALL).materialize(t.SOURCE),i=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return a.source=a.source.slice(),i&&(n=a.source.length?Dk(gk().id(e.key).parentId(e.parentKey)(a.source),e.key,Pt.db):Dk(gk()([{}]),e.key,e.key)),a.source.root=this.value=n,a}});var Vk={tidy:function(){var e=bk,t=1,n=1,r=null;function a(a){var s=function(e){for(var t,n,r,a,i,o=new kk(e,0),u=[o];t=u.pop();)if(r=t._.children)for(t.children=new Array(i=r.length),a=i-1;a>=0;--a)u.push(n=t.children[a]=new kk(r[a],a)),n.parent=t;return(o.parent=new kk(null,0)).children=[o],o}(a);if(s.eachAfter(i),s.parent.m=-s.z,s.eachBefore(o),r)a.eachBefore(u);else{var c=a,l=a,f=a;a.eachBefore((function(e){e.x<c.x&&(c=e),e.x>l.x&&(l=e),e.depth>f.depth&&(f=e)}));var d=c===l?1:e(c,l)/2,h=d-c.x,p=t/(l.x+d+h),v=n/(f.depth||1);a.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*v}))}return a}function i(t){var n=t.children,r=t.parent.children,a=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,a=e.children,i=a.length;--i>=0;)(t=a[i]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var i=(n[0].z+n[n.length-1].z)/2;a?(t.z=a.z+e(t._,a._),t.m=t.z-i):t.z=i}else a&&(t.z=a.z+e(t._,a._));t.parent.A=function(t,n,r){if(n){for(var a,i=t,o=t,u=n,s=i.parent.children[0],c=i.m,l=o.m,f=u.m,d=s.m;u=xk(u),i=yk(i),u&&i;)s=yk(s),(o=xk(o)).a=t,(a=u.z+f-i.z-c+e(u._,i._))>0&&(wk(Ok(u,t,r),t,a),c+=a,l+=a),f+=u.m,c+=i.m,d+=s.m,l+=o.m;u&&!xk(o)&&(o.t=u,o.m+=f-l),i&&!yk(s)&&(s.t=i,s.m+=c-d,r=t)}return r}(t,a,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function u(e){e.x*=t,e.y=e.depth*n}return a.separation=function(t){return arguments.length?(e=t,a):e},a.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],a):r?null:[t,n]},a.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],a):r?[t,n]:null},a},cluster:function(){var e=jk,t=1,n=1,r=!1;function a(a){var i,o=0;a.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(_k,0)/e.length}(n),t.y=function(e){return 1+e.reduce(Sk,0)}(n)):(t.x=i?o+=e(t,i):0,t.y=0,i=t)}));var u=function(e){for(var t;t=e.children;)e=t[0];return e}(a),s=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(a),c=u.x-e(u,s)/2,l=s.x+e(s,u)/2;return a.eachAfter(r?function(e){e.x=(e.x-a.x)*t,e.y=(a.y-e.y)*n}:function(e){e.x=(e.x-c)/(l-c)*t,e.y=(1-(a.y?e.y/a.y:1))*n})}return a.separation=function(t){return arguments.length?(e=t,a):e},a.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],a):r?null:[t,n]},a.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],a):r?[t,n]:null},a}},Hk=["x","y","depth","children"];function Gk(e){Rk.call(this,e)}function qk(e){Tn.call(this,[],e)}Gk.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Hk.length,default:Hk}]},Object(Pt.v)(Gk,Rk,{layout:function(e){var t=e||"tidy";if(Object(Pt.s)(Vk,t))return Vk[t]();Object(Pt.k)("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:Hk}),qk.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(Pt.v)(qk,Tn,{transform:function(e,t){var n=this.value,r=t.source&&t.source.root,a=t.fork(t.NO_SOURCE),i={};return r||Object(Pt.k)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(a.rem=n,t.visit(t.SOURCE,(function(e){return i[qt(e)]=1})),r.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&i[qt(t)]&&i[qt(n)]&&a.add.push(Yt({source:n,target:t}))})),this.value=a.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){return i[qt(e)]=1})),n.forEach((function(e){(i[qt(e.source)]||i[qt(e.target)])&&a.mod.push(e)}))),a}});var Xk={binary:function(e,t,n,r,a){var i,o,u=e.children,s=u.length,c=new Array(s+1);for(c[0]=o=i=0;i<s;++i)c[i+1]=o+=u[i].value;!function e(t,n,r,a,i,o,s){if(t>=n-1){var l=u[t];return l.x0=a,l.y0=i,l.x1=o,void(l.y1=s)}var f=c[t],d=r/2+f,h=t+1,p=n-1;for(;h<p;){var v=h+p>>>1;c[v]<d?h=v+1:p=v}d-c[h-1]<c[h]-d&&t+1<h&&--h;var m=c[h]-f,g=r-m;if(o-a>s-i){var b=r?(a*g+o*m)/r:o;e(t,h,m,a,i,b,s),e(h,n,g,b,i,o,s)}else{var y=r?(i*g+s*m)/r:s;e(t,h,m,a,i,o,y),e(h,n,g,a,y,o,s)}}(0,s,e.value,t,n,r,a)},dice:dk,slice:Ek,slicedice:function(e,t,n,r,a){(1&e.depth?Ek:dk)(e,t,n,r,a)},squarify:Nk,resquarify:Tk},Yk=["x0","y0","x1","y1","depth","children"];function Kk(e){Rk.call(this,e)}Kk.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Yk.length,default:Yk}]},Object(Pt.v)(Kk,Rk,{layout:function(){var e=function(){var e=Nk,t=!1,n=1,r=1,a=[0],i=ik,o=ik,u=ik,s=ik,c=ik;function l(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),a=[0],t&&e.eachBefore(fk),e}function f(t){var n=a[t.depth],r=t.x0+n,l=t.y0+n,f=t.x1-n,d=t.y1-n;f<r&&(r=f=(r+f)/2),d<l&&(l=d=(l+d)/2),t.x0=r,t.y0=l,t.x1=f,t.y1=d,t.children&&(n=a[t.depth+1]=i(t)/2,r+=c(t)-n,l+=o(t)-n,(f-=u(t)-n)<r&&(r=f=(r+f)/2),(d-=s(t)-n)<l&&(l=d=(l+d)/2),e(t,r,l,f,d))}return l.round=function(e){return arguments.length?(t=!!e,l):t},l.size=function(e){return arguments.length?(n=+e[0],r=+e[1],l):[n,r]},l.tile=function(t){return arguments.length?(e=ak(t),l):e},l.padding=function(e){return arguments.length?l.paddingInner(e).paddingOuter(e):l.paddingInner()},l.paddingInner=function(e){return arguments.length?(i="function"===typeof e?e:ok(+e),l):i},l.paddingOuter=function(e){return arguments.length?l.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):l.paddingTop()},l.paddingTop=function(e){return arguments.length?(o="function"===typeof e?e:ok(+e),l):o},l.paddingRight=function(e){return arguments.length?(u="function"===typeof e?e:ok(+e),l):u},l.paddingBottom=function(e){return arguments.length?(s="function"===typeof e?e:ok(+e),l):s},l.paddingLeft=function(e){return arguments.length?(c="function"===typeof e?e:ok(+e),l):c},l}();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){Object(Pt.s)(Xk,t)?e.tile(Xk[t]):Object(Pt.k)("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Yk});function $k(e,t,n,r){var a=e.width,i=e.height,o=n||r,u=Po(a,i).getContext("2d");t.forEach((function(e){return Zk(u,e,o)}));var s,c,l,f,d,h=new Uint32Array(u.getImageData(0,0,a,i).data.buffer),p=e.bitmap(),v=o&&e.bitmap();for(c=0;c<i;++c)for(s=0;s<a;++s)(d=4278190080&h[c*a+s])&&(l=e(s),f=e(c),r||p.set(l,f),o&&268435456^d&&v.set(l,f));return[p,v]}function Zk(e,t,n){if(t.length){var r=t[0].mark.marktype;"group"===r?t.forEach((function(t){t.items.forEach((function(t){return Zk(e,t.items,n)}))})):mp[r].draw(e,{items:n?t.map(Jk):t})}}function Jk(e){var t=$t(e,{});return t.stroke&&(t.strokeOpacity=1),t.fill&&(t.fillOpacity=.0625,t.stroke="#000",t.strokeOpacity=1,t.strokeWidth=2),t}var Qk=31,ej=new Uint32Array(33),tj=new Uint32Array(33);tj[0]=0,ej[0]=~tj[0];for(var nj=1;nj<=32;++nj)tj[nj]=tj[nj-1]<<1|1,ej[nj]=~tj[nj];function rj(e,t,n){var r=Math.max(1,Math.sqrt(e*t/1e6)),a=~~((e+2*n+r)/r),i=~~((t+2*n+r)/r),o=function(e){return~~((e+n)/r)};return o.invert=function(e){return e*r-n},o.bitmap=function(){return function(e,t){var n=new Uint32Array(~~((e*t+32)/32));function r(e,t){n[e]|=t}function a(e,t){n[e]&=t}return{array:n,get:function(t,r){var a=r*e+t;return n[a>>>5]&1<<(a&Qk)},set:function(t,n){var a=n*e+t;r(a>>>5,1<<(a&Qk))},clear:function(t,n){var r=n*e+t;a(r>>>5,~(1<<(r&Qk)))},getRange:function(t,r,a,i){for(var o,u,s,c,l=i;l>=r;--l)if((s=(o=l*e+t)>>>5)===(c=(u=l*e+a)>>>5)){if(n[s]&ej[o&Qk]&tj[1+(u&Qk)])return!0}else{if(n[s]&ej[o&Qk])return!0;if(n[c]&tj[1+(u&Qk)])return!0;for(var f=s+1;f<c;++f)if(n[f])return!0}return!1},setRange:function(t,n,a,i){for(var o,u,s,c,l;n<=i;++n)if((s=(o=n*e+t)>>>5)===(c=(u=n*e+a)>>>5))r(s,ej[o&Qk]&tj[1+(u&Qk)]);else for(r(s,ej[o&Qk]),r(c,tj[1+(u&Qk)]),l=s+1;l<c;++l)r(l,4294967295)},clearRange:function(t,n,r,i){for(var o,u,s,c,l;n<=i;++n)if((s=(o=n*e+t)>>>5)===(c=(u=n*e+r)>>>5))a(s,tj[o&Qk]|ej[1+(u&Qk)]);else for(a(s,tj[o&Qk]),a(c,ej[1+(u&Qk)]),l=s+1;l<c;++l)a(l,0)},outOfBounds:function(n,r,a,i){return n<0||r<0||i>=t||a>=e}}}(a,i)},o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function aj(e,t,n,r,a,i){var o=n/2;return e-o<0||e+o>a||t-(o=r/2)<0||t+o>i}function ij(e,t,n,r,a,i,o,u){var s=a*i/(2*r),c=e(t-s),l=e(t+s),f=e(n-(i/=2)),d=e(n+i);return o.outOfBounds(c,f,l,d)||o.getRange(c,f,l,d)||u&&u.getRange(c,f,l,d)}var oj=[-1,-1,1,1],uj=[-1,1,-1,1];var sj=["right","center","left"],cj=["bottom","middle","top"];function lj(e,t,n,r,a,i,o,u,s,c,l,f){return!(a.outOfBounds(e,n,t,r)||(f&&i?i.getRange(e,n,t,r)||!function(e,t,n,r,a){return a[0]<=e&&n<=a[2]&&a[3]<=t&&r<=a[5]}(o,s,u,c,l):a.getRange(e,n,t,r)))}var fj={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},dj={naive:function(e,t,n,r){var a=e.width,i=e.height;return function(e){for(var t,n,o,u,s,c,l,f=e.datum.datum.items[r].items,d=f.length,h=e.datum.fontSize,p=Zh.width(e.datum,e.datum.text),v=0,m=0;m<d;++m)t=f[m].x,o=f[m].y,s=(t+(n=void 0===f[m].x2?t:f[m].x2))/2,c=(o+(u=void 0===f[m].y2?o:f[m].y2))/2,(l=Math.abs(n-t+u-o))>=v&&(v=l,e.x=s,e.y=c);return s=p/2,c=h/2,t=e.x-s,n=e.x+s,o=e.y-c,u=e.y+c,e.align="center",t<0&&n<=a?e.align="left":0<=t&&a<n&&(e.align="right"),e.baseline="middle",o<0&&u<=i?e.baseline="top":0<=o&&i<u&&(e.baseline="bottom"),!0}},"reduced-search":function(e,t,n,r){var a=e.width,i=e.height,o=t[0],u=t[1];function s(t,n,r,s,c){var l,f=e.invert(t),d=e.invert(n),h=r,p=i;if(!aj(f,d,s,c,a,i)&&!ij(e,f,d,c,s,h,o,u)&&!ij(e,f,d,c,s,c,o,null)){for(;p-h>=1;)ij(e,f,d,c,s,l=(h+p)/2,o,u)?p=l:h=l;if(h>r)return[f,d,h,!0]}}return function(t){for(var u,c,l,f,d,h,p,v,m,g,b,y,x,w,O,k,j,_=t.datum.datum.items[r].items,S=_.length,E=t.datum.fontSize,A=Zh.width(t.datum,t.datum.text),C=n?E:0,N=!1,T=!1,D=0,I=0;I<S;++I){for(u=_[I].x,l=_[I].y,u>(c=void 0===_[I].x2?u:_[I].x2)&&(j=u,u=c,c=j),l>(f=void 0===_[I].y2?l:_[I].y2)&&(j=l,l=f,f=j),g=~~(((m=e(u))+(b=e(c)))/2),x=~~(((y=e(l))+(w=e(f)))/2),p=g;p>=m;--p)for(v=x;v>=y;--v)if(k=s(p,v,C,A,E)){var M=k,F=Object(Rn.a)(M,4);t.x=F[0],t.y=F[1],C=F[2],N=F[3]}for(p=g;p<=b;++p)for(v=x;v<=w;++v)if(k=s(p,v,C,A,E)){var R=k,P=Object(Rn.a)(R,4);t.x=P[0],t.y=P[1],C=P[2],N=P[3]}N||n||(d=(u+c)/2,h=(l+f)/2,(O=Math.abs(c-u+f-l))>=D&&!aj(d,h,A,E,a,i)&&!ij(e,d,h,E,A,E,o,null)&&(D=O,t.x=d,t.y=h,T=!0))}return!(!N&&!T)&&(d=A/2,h=E/2,o.setRange(e(t.x-d),e(t.y-h),e(t.x+d),e(t.y+h)),t.align="center",t.baseline="middle",!0)}},floodfill:function(e,t,n,r){var a=e.width,i=e.height,o=t[0],u=t[1],s=e.bitmap();return function(t){for(var c,l,f,d,h,p,v,m,g,b,y,x,w=t.datum.datum.items[r].items,O=w.length,k=t.datum.fontSize,j=Zh.width(t.datum,t.datum.text),_=[],S=n?k:0,E=!1,A=!1,C=0,N=0;N<O;++N){for(c=w[N].x,f=w[N].y,l=void 0===w[N].x2?c:w[N].x2,d=void 0===w[N].y2?f:w[N].y2,_.push([e((c+l)/2),e((f+d)/2)]);_.length;){var T=_.pop(),D=Object(Rn.a)(T,2);if(v=D[0],m=D[1],!(o.get(v,m)||u.get(v,m)||s.get(v,m))){s.set(v,m);for(var I=0;I<4;++I)h=v+oj[I],p=m+uj[I],s.outOfBounds(h,p,h,p)||_.push([h,p]);if(h=e.invert(v),p=e.invert(m),g=S,b=i,!aj(h,p,j,k,a,i)&&!ij(e,h,p,k,j,g,o,u)&&!ij(e,h,p,k,j,k,o,null)){for(;b-g>=1;)ij(e,h,p,k,j,y=(g+b)/2,o,u)?b=y:g=y;g>S&&(t.x=h,t.y=p,S=g,E=!0)}}}E||n||(h=(c+l)/2,p=(f+d)/2,(x=Math.abs(l-c+d-f))>=C&&!aj(h,p,j,k,a,i)&&!ij(e,h,p,k,j,k,o,null)&&(C=x,t.x=h,t.y=p,A=!0))}return!(!E&&!A)&&(h=j/2,p=k/2,o.setRange(e(t.x-h),e(t.y-p),e(t.x+h),e(t.y+p)),t.align="center",t.baseline="middle",!0)}}};function hj(e,t,n,r,a,i,o,u,s,c,l){if(!e.length)return e;var f,d,h=Math.max(r.length,a.length),p=function(e,t){for(var n=new Float64Array(t),r=e.length,a=0;a<r;++a)n[a]=e[a]||0;for(var i=r;i<t;++i)n[i]=n[r-1];return n}(r,h),v=function(e,t){for(var n=new Int8Array(t),r=e.length,a=0;a<r;++a)n[a]|=fj[e[a]];for(var i=r;i<t;++i)n[i]=n[r-1];return n}(a,h),m=(f=e[0].datum)&&f.mark&&f.mark.marktype,g="group"===m&&e[0].datum.items[s].marktype,b="area"===g,y=function(e,t,n,r){var a=function(e){return[e.x,e.x,e.x,e.y,e.y,e.y]};return e?"line"===e||"area"===e?function(e){return a(e.datum)}:"line"===t?function(e){var t=e.datum.items[r].items;return a(t.length?t["start"===n?0:t.length-1]:{x:NaN,y:NaN})}:function(e){var t=e.datum.bounds;return[t.x1,(t.x1+t.x2)/2,t.x2,t.y1,(t.y1+t.y2)/2,t.y2]}:a}(m,g,u,s),x=rj(t[0],t[1],c),w=b&&"naive"===l,O=e.map((function(e){return{datum:e,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(e)}}));if(!w){n&&O.sort((function(e,t){return n(e.datum,t.datum)}));for(var k=!1,j=0;j<v.length&&!k;++j)k=5===v[j]||p[j]<0;m&&(o||b)&&(i=[e.map((function(e){return e.datum}))].concat(i)),d=i.length?$k(x,i,k,b):function(e,t){var n=e.bitmap();return(t||[]).forEach((function(t){return n.set(e(t.boundary[0]),e(t.boundary[3]))})),[n,void 0]}(x,o&&O)}var _=b?dj[l](x,d,o,s):function(e,t,n,r){var a=e.width,i=e.height,o=t[0],u=t[1],s=r.length;return function(t){var c=t.boundary,l=t.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>a||c[3]>i)return!1;for(var f,d,h,p,v,m,g,b,y,x,w,O,k,j,_,S=0,E=0;E<s;++E){if(f=(3&n[E])-1,d=(n[E]>>>2&3)-1,h=0===f&&0===d||r[E]<0,p=f&&d?Math.SQRT1_2:1,v=r[E]<0?-1:1,m=c[1+f]+r[E]*f*p,b=(w=c[4+d]+v*l*d/2+r[E]*d*p)-l/2,y=w+l/2,O=e(m),j=e(b),_=e(y),!S){if(!lj(O,O,j,_,o,u,m,m,b,y,c,h))continue;S=Zh.width(t.datum,t.datum.text)}if(g=(x=m+v*S*f/2)+S/2,lj(O=e(m=x-S/2),k=e(g),j,_,o,u,m,g,b,y,c,h))return t.x=f?f*v<0?g:m:x,t.y=d?d*v<0?y:b:w,t.align=sj[f*v+1],t.baseline=cj[d*v+1],o.setRange(O,j,k,_),!0}return!1}}(x,d,v,p);return O.forEach((function(e){return e.opacity=+_(e)})),O}var pj=["x","y","opacity","align","baseline"],vj=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function mj(e){Tn.call(this,null,e)}function gj(e,t){var n,r,a,i,o,u,s=[],c=function(e){return e(i)};if(null==t)s.push(e);else for(n={},r=0,a=e.length;r<a;++r)i=e[r],(u=n[o=t.map(c)])||(n[o]=u=[],u.dims=o,s.push(u)),u.push(i);return s}function bj(e){Tn.call(this,null,e)}mj.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:vj},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:pj.length,default:pj}]},Object(Pt.v)(mj,Tn,{transform:function(e,t){var n=e.modified();if(n||t.changed(t.ADD_REM)||function(n){var r=e[n];return Object(Pt.A)(r)&&t.modified(r.fields)}("sort")){e.size&&2===e.size.length||Object(Pt.k)("Size parameter should be specified as a [width, height] array.");var r=e.as||pj;return hj(t.materialize(t.SOURCE).source,e.size,e.sort,Object(Pt.e)(e.offset||1),Object(Pt.e)(e.anchor||vj),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,e.padding||0,e.method||"naive").forEach((function(e){var t=e.datum;t[r[0]]=e.x,t[r[1]]=e.y,t[r[2]]=e.opacity,t[r[3]]=e.align,t[r[4]]=e.baseline})),t.reflow(n).modifies(r)}}}),bj.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(Pt.v)(bj,Tn,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=gj(t.materialize(t.SOURCE).source,e.groupby),a=(e.groupby||[]).map(Pt.d),i=a.length,o=e.as||[Object(Pt.d)(e.x),Object(Pt.d)(e.y)],u=[];r.forEach((function(t){zr(t,e.x,e.y,e.bandwidth||.3).forEach((function(e){for(var n={},r=0;r<i;++r)n[a[r]]=t.dims[r];n[o[0]]=e[0],n[o[1]]=e[1],u.push(Yt(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});var yj={linear:Tr,log:Dr,exp:Ir,pow:Mr,quad:Fr,poly:Rr};function xj(e){Tn.call(this,null,e)}xj.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(yj)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(Pt.v)(xj,Tn,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=gj(t.materialize(t.SOURCE).source,e.groupby),a=(e.groupby||[]).map(Pt.d),i=e.method||"linear",o=e.order||3,u=function(e,t){return"poly"===e?t:"quad"===e?2:1}(i,o),s=e.as||[Object(Pt.d)(e.x),Object(Pt.d)(e.y)],c=yj[i],l=[],f=e.extent;Object(Pt.s)(yj,i)||Object(Pt.k)("Invalid regression method: "+i),null!=f&&"log"===i&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),r.forEach((function(n){if(n.length<=u)t.dataflow.warn("Skipping regression with more parameters than data points.");else{var r=c(n,e.x,e.y,o);if(e.params)l.push(Yt({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));else{var d=f||Object(Pt.m)(n,e.x),h=function(e){for(var t={},r=0;r<a.length;++r)t[a[r]]=n.dims[r];t[s[0]]=e[0],t[s[1]]=e[1],l.push(Yt(t))};"linear"===i?d.forEach((function(e){return h([e,r.predict(e)])})):Wr(r.predict,d,25,200).forEach(h)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});var wj=Math.pow(2,-52),Oj=new Uint32Array(512),kj=function(){function e(t){Object(Zg.a)(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return Object(Jg.a)(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,a=this._hullHash,i=e.length>>1,o=1/0,u=1/0,s=-1/0,c=-1/0,l=0;l<i;l++){var f=e[2*l],d=e[2*l+1];f<o&&(o=f),d<u&&(u=d),f>s&&(s=f),d>c&&(c=d),this._ids[l]=l}for(var h,p,v,m=(o+s)/2,g=(u+c)/2,b=1/0,y=0;y<i;y++){var x=jj(m,g,e[2*y],e[2*y+1]);x<b&&(h=y,b=x)}var w=e[2*h],O=e[2*h+1];b=1/0;for(var k=0;k<i;k++)if(k!==h){var j=jj(w,O,e[2*k],e[2*k+1]);j<b&&j>0&&(p=k,b=j)}for(var _=e[2*p],S=e[2*p+1],E=1/0,A=0;A<i;A++)if(A!==h&&A!==p){var C=Aj(w,O,_,S,e[2*A],e[2*A+1]);C<E&&(v=A,E=C)}var N=e[2*v],T=e[2*v+1];if(E===1/0){for(var D=0;D<i;D++)this._dists[D]=e[2*D]-e[0]||e[2*D+1]-e[1];Cj(this._ids,this._dists,0,i-1);for(var I=new Uint32Array(i),M=0,F=0,R=-1/0;F<i;F++){var P=this._ids[F];this._dists[P]>R&&(I[M++]=P,R=this._dists[P])}return this.hull=I.subarray(0,M),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Sj(w,O,_,S,N,T)){var z=p,B=_,L=S;p=v,_=N,S=T,v=z,N=B,T=L}var U=function(e,t,n,r,a,i){var o=n-e,u=r-t,s=a-e,c=i-t,l=o*o+u*u,f=s*s+c*c,d=.5/(o*c-u*s);return{x:e+(c*l-u*f)*d,y:t+(o*f-s*l)*d}}(w,O,_,S,N,T);this._cx=U.x,this._cy=U.y;for(var W=0;W<i;W++)this._dists[W]=jj(e[2*W],e[2*W+1],U.x,U.y);Cj(this._ids,this._dists,0,i-1),this._hullStart=h;var V=3;n[h]=t[v]=p,n[p]=t[h]=v,n[v]=t[p]=h,r[h]=0,r[p]=1,r[v]=2,a.fill(-1),a[this._hashKey(w,O)]=h,a[this._hashKey(_,S)]=p,a[this._hashKey(N,T)]=v,this.trianglesLen=0,this._addTriangle(h,p,v,-1,-1,-1);for(var H,G,q=0;q<this._ids.length;q++){var X=this._ids[q],Y=e[2*X],K=e[2*X+1];if(!(q>0&&Math.abs(Y-H)<=wj&&Math.abs(K-G)<=wj)&&(H=Y,G=K,X!==h&&X!==p&&X!==v)){for(var $=0,Z=0,J=this._hashKey(Y,K);Z<this._hashSize&&(-1===($=a[(J+Z)%this._hashSize])||$===n[$]);Z++);for(var Q=$=t[$],ee=void 0;ee=n[Q],!Sj(Y,K,e[2*Q],e[2*Q+1],e[2*ee],e[2*ee+1]);)if((Q=ee)===$){Q=-1;break}if(-1!==Q){var te=this._addTriangle(Q,X,n[Q],-1,-1,r[Q]);r[X]=this._legalize(te+2),r[Q]=te,V++;for(var ne=n[Q];ee=n[ne],Sj(Y,K,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1]);)te=this._addTriangle(ne,X,ee,r[X],-1,r[ne]),r[X]=this._legalize(te+2),n[ne]=ne,V--,ne=ee;if(Q===$)for(;Sj(Y,K,e[2*(ee=t[Q])],e[2*ee+1],e[2*Q],e[2*Q+1]);)te=this._addTriangle(ee,X,Q,-1,r[Q],r[ee]),this._legalize(te+2),r[ee]=te,n[Q]=Q,V--,Q=ee;this._hullStart=t[X]=Q,n[Q]=t[ne]=X,n[X]=ne,a[this._hashKey(Y,K)]=X,a[this._hashKey(e[2*Q],e[2*Q+1])]=Q}}}this.hull=new Uint32Array(V);for(var re=0,ae=this._hullStart;re<V;re++)this.hull[re]=ae,ae=n[ae];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,a=0,i=0;;){var o=n[e],u=e-e%3;if(i=u+(e+2)%3,-1!==o){var s=o-o%3,c=u+(e+1)%3,l=s+(o+2)%3,f=t[i],d=t[e],h=t[c],p=t[l];if(Ej(r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){t[e]=p,t[o]=f;var v=n[l];if(-1===v){var m=this._hullStart;do{if(this._hullTri[m]===l){this._hullTri[m]=e;break}m=this._hullPrev[m]}while(m!==this._hullStart)}this._link(e,v),this._link(o,n[i]),this._link(i,l);var g=s+(o+1)%3;a<Oj.length&&(Oj[a++]=g)}else{if(0===a)break;e=Oj[--a]}}else{if(0===a)break;e=Oj[--a]}}return i}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,a,i){var o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,a),this._link(o+2,i),this.trianglesLen+=3,o}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tj,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dj,a=t.length,i=new Float64Array(2*a),o=0;o<a;o++){var u=t[o];i[2*o]=n(u),i[2*o+1]=r(u)}return new e(i)}}]),e}();function jj(e,t,n,r){var a=e-n,i=t-r;return a*a+i*i}function _j(e,t,n,r,a,i){var o=(r-t)*(a-e),u=(n-e)*(i-t);return Math.abs(o-u)>=33306690738754716e-32*Math.abs(o+u)?o-u:0}function Sj(e,t,n,r,a,i){return(_j(a,i,e,t,n,r)||_j(e,t,n,r,a,i)||_j(n,r,a,i,e,t))<0}function Ej(e,t,n,r,a,i,o,u){var s=e-o,c=t-u,l=n-o,f=r-u,d=a-o,h=i-u,p=l*l+f*f,v=d*d+h*h;return s*(f*v-p*h)-c*(l*v-p*d)+(s*s+c*c)*(l*h-f*d)<0}function Aj(e,t,n,r,a,i){var o=n-e,u=r-t,s=a-e,c=i-t,l=o*o+u*u,f=s*s+c*c,d=.5/(o*c-u*s),h=(c*l-u*f)*d,p=(o*f-s*l)*d;return h*h+p*p}function Cj(e,t,n,r){if(r-n<=20)for(var a=n+1;a<=r;a++){for(var i=e[a],o=t[i],u=a-1;u>=n&&t[e[u]]>o;)e[u+1]=e[u--];e[u+1]=i}else{var s=n+1,c=r;Nj(e,n+r>>1,s),t[e[n]]>t[e[r]]&&Nj(e,n,r),t[e[s]]>t[e[r]]&&Nj(e,s,r),t[e[n]]>t[e[s]]&&Nj(e,n,s);for(var l=e[s],f=t[l];;){do{s++}while(t[e[s]]<f);do{c--}while(t[e[c]]>f);if(c<s)break;Nj(e,s,c)}e[n+1]=e[c],e[c]=l,r-s+1>=c-n?(Cj(e,t,s,r),Cj(e,t,n,c-1)):(Cj(e,t,n,c-1),Cj(e,t,s,r))}}function Nj(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Tj(e){return e[0]}function Dj(e){return e[1]}var Ij=1e-6,Mj=function(){function e(){Object(Zg.a)(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return Object(Jg.a)(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),a=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(a):(Math.abs(this._x1-r)>Ij||Math.abs(this._y1-a)>Ij)&&(this._+="L"+r+","+a),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=a))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),Fj=function(){function e(){Object(Zg.a)(this,e),this._=[]}return Object(Jg.a)(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),Rj=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=Object(Rn.a)(n,4),a=r[0],i=r[1],o=r[2],u=r[3];if(Object(Zg.a)(this,e),!((o=+o)>=(a=+a))||!((u=+u)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=o,this.xmin=a,this.ymax=u,this.ymin=i,this._init()}return Object(Jg.a)(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,a=n.hull,i=n.triangles,o=this.vectors,u=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2),s=0,c=0,l=i.length;s<l;s+=3,c+=2){var f=2*i[s],d=2*i[s+1],h=2*i[s+2],p=r[f],v=r[f+1],m=r[d],g=r[d+1],b=r[h],y=r[h+1],x=m-p,w=g-v,O=b-p,k=y-v,j=x*x+w*w,_=O*O+k*k,S=2*(x*k-w*O);if(S)if(Math.abs(S)<1e-8)e=(p+b)/2,t=(v+y)/2;else{var E=1/S;e=p+(k*j-w*_)*E,t=v+(x*_-O*j)*E}else e=(p+b)/2-1e8*k,t=(v+y)/2+1e8*O;u[c]=e,u[c+1]=t}var A,C,N,T=a[a.length-1],D=4*T,I=r[2*T],M=r[2*T+1];o.fill(0);for(var F=0;F<a.length;++F)A=D,C=I,N=M,D=4*(T=a[F]),I=r[2*T],M=r[2*T+1],o[A+2]=o[D]=N-M,o[A+3]=o[D+1]=I-C}},{key:"render",value:function(e){var t=null==e?e=new Mj:void 0,n=this.delaunay,r=n.halfedges,a=n.inedges,i=n.hull,o=this.circumcenters,u=this.vectors;if(i.length<=1)return null;for(var s=0,c=r.length;s<c;++s){var l=r[s];if(!(l<s)){var f=2*Math.floor(s/3),d=2*Math.floor(l/3),h=o[f],p=o[f+1],v=o[d],m=o[d+1];this._renderSegment(h,p,v,m,e)}}for(var g,b=i[i.length-1],y=0;y<i.length;++y){g=b,b=i[y];var x=2*Math.floor(a[b]/3),w=o[x],O=o[x+1],k=4*g,j=this._project(w,O,u[k+2],u[k+3]);j&&this._renderSegment(w,O,j[0],j[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new Mj:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new Mj:void 0,r=this._clip(e);if(null!==r&&r.length){t.moveTo(r[0],r[1]);for(var a=r.length;r[0]===r[a-2]&&r[1]===r[a-1]&&a>1;)a-=2;for(var i=2;i<a;i+=2)r[i]===r[i-2]&&r[i+1]===r[i-1]||t.lineTo(r[i],r[i+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:O.a.mark((function e(){var t,n,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=11;break}if(!(a=this.cellPolygon(n))){e.next=8;break}return a.index=n,e.next=8,a;case 8:++n,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new Fj;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,a){var i,o=this._regioncode(e,t),u=this._regioncode(n,r);0===o&&0===u?(a.moveTo(e,t),a.lineTo(n,r)):(i=this._clipSegment(e,t,n,r,o,u))&&(a.moveTo(i[0],i[1]),a.lineTo(i[2],i[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:O.a.mark((function e(t){var n,r,a,i,o,u,s,c,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}r=Object(Fn.a)(this.delaunay.neighbors(t)),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=25;break}if(i=a.value,!(o=this._clip(i))){e.next=23;break}u=0,s=n.length;case 10:if(!(u<s)){e.next=23;break}c=0,l=o.length;case 12:if(!(c<l)){e.next=20;break}if(n[u]!=o[c]||n[u+1]!=o[c+1]||n[(u+2)%s]!=o[(c+l-2)%l]||n[(u+3)%s]!=o[(c+l-1)%l]){e.next=17;break}return e.next=16,i;case 16:return e.abrupt("break",23);case 17:c+=2,e.next=12;break;case 20:u+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,a=n.halfedges,i=n.triangles,o=r[e];if(-1===o)return null;var u=[],s=o;do{var c=Math.floor(s/3);if(u.push(t[2*c],t[2*c+1]),i[s=s%3===2?s-2:s+1]!==e)break;s=a[s]}while(s!==o&&-1!==s);return u}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,a,i,o,u=t.length,s=null,c=t[u-2],l=t[u-1],f=this._regioncode(c,l),d=0;d<u;d+=2)if(n=c,r=l,c=t[d],l=t[d+1],a=f,f=this._regioncode(c,l),0===a&&0===f)i=o,o=0,s?s.push(c,l):s=[c,l];else{var h=void 0,p=void 0,v=void 0,m=void 0,g=void 0;if(0===a){if(null===(h=this._clipSegment(n,r,c,l,a,f)))continue;var b=h,y=Object(Rn.a)(b,4);p=y[0],v=y[1],m=y[2],g=y[3]}else{if(null===(h=this._clipSegment(c,l,n,r,f,a)))continue;var x=h,w=Object(Rn.a)(x,4);m=w[0],g=w[1],p=w[2],v=w[3],i=o,o=this._edgecode(p,v),i&&o&&this._edge(e,i,o,s,s.length),s?s.push(p,v):s=[p,v]}i=o,o=this._edgecode(m,g),i&&o&&this._edge(e,i,o,s,s.length),s?s.push(m,g):s=[m,g]}if(s)i=o,o=this._edgecode(s[0],s[1]),i&&o&&this._edge(e,i,o,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}},{key:"_clipSegment",value:function(e,t,n,r,a,i){for(;;){if(0===a&&0===i)return[e,t,n,r];if(a&i)return null;var o=void 0,u=void 0,s=a||i;8&s?(o=e+(n-e)*(this.ymax-t)/(r-t),u=this.ymax):4&s?(o=e+(n-e)*(this.ymin-t)/(r-t),u=this.ymin):2&s?(u=t+(r-t)*(this.xmax-e)/(n-e),o=this.xmax):(u=t+(r-t)*(this.xmin-e)/(n-e),o=this.xmin),a?(e=o,t=u,a=this._regioncode(e,t)):(n=o,r=u,i=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,a,i){var o,u=Array.from(t);if((o=this._project(u[0],u[1],n,r))&&u.unshift(o[0],o[1]),(o=this._project(u[u.length-2],u[u.length-1],a,i))&&u.push(o[0],o[1]),u=this._clipFinite(e,u))for(var s,c=0,l=u.length,f=this._edgecode(u[l-2],u[l-1]);c<l;c+=2)s=f,f=this._edgecode(u[c],u[c+1]),s&&f&&(c=this._edge(e,s,f,u,c),l=u.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}},{key:"_edge",value:function(e,t,n,r,a){for(;t!==n;){var i=void 0,o=void 0;switch(t){case 5:t=4;continue;case 4:t=6,i=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,i=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,i=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,i=this.xmin,o=this.ymin}r[a]===i&&r[a+1]===o||!this.contains(e,i,o)||(r.splice(a,0,i,o),a+=2)}if(r.length>4)for(var u=0;u<r.length;u+=2){var s=(u+2)%r.length,c=(u+4)%r.length;(r[u]===r[s]&&r[s]===r[c]||r[u+1]===r[s+1]&&r[s+1]===r[c+1])&&(r.splice(s,2),u-=2)}return a}},{key:"_project",value:function(e,t,n,r){var a,i,o,u=1/0;if(r<0){if(t<=this.ymin)return null;(a=(this.ymin-t)/r)<u&&(o=this.ymin,i=e+(u=a)*n)}else if(r>0){if(t>=this.ymax)return null;(a=(this.ymax-t)/r)<u&&(o=this.ymax,i=e+(u=a)*n)}if(n>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/n)<u&&(i=this.xmax,o=t+(u=a)*r)}else if(n<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/n)<u&&(i=this.xmin,o=t+(u=a)*r)}return[i,o]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),Pj=O.a.mark(Gj),zj=2*Math.PI,Bj=Math.pow;function Lj(e){return e[0]}function Uj(e){return e[1]}function Wj(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var Vj=function(){function e(t){Object(Zg.a)(this,e),this._delaunator=new kj(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return Object(Jg.a)(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var a=2*t[r],i=2*t[r+1],o=2*t[r+2];if((n[o]-n[a])*(n[i+1]-n[a+1])-(n[i]-n[a])*(n[o+1]-n[a+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],a=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],i=1e-8*Math.hypot(a[3]-a[1],a[2]-a[0]),o=0,u=t.length/2;o<u;++o){var s=Wj(t[2*o],t[2*o+1],i);t[2*o]=s[0],t[2*o+1]=s[1]}this._delaunator=new kj(t)}else delete this.collinear;for(var c=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),h=this._hullIndex.fill(-1),p=0,v=c.length;p<v;++p){var m=f[p%3===2?p-2:p+1];-1!==c[p]&&-1!==d[m]||(d[m]=p)}for(var g=0,b=l.length;g<b;++g)h[l[g]]=g;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],this.triangles[1]=l[1],this.triangles[2]=l[1],d[l[0]]=1,2===l.length&&(d[l[1]]=0))}},{key:"voronoi",value:function(e){return new Rj(this,e)}},{key:"neighbors",value:O.a.mark((function e(t){var n,r,a,i,o,u,s,c,l,f,d;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,a=this._hullIndex,i=this.halfedges,o=this.triangles,!(u=this.collinear)){e.next=10;break}if(!((s=u.indexOf(t))>0)){e.next=6;break}return e.next=6,u[s-1];case 6:if(!(s<u.length-1)){e.next=9;break}return e.next=9,u[s+1];case 9:return e.abrupt("return");case 10:if(-1!==(c=n[t])){e.next=13;break}return e.abrupt("return");case 13:l=c,f=-1;case 14:return e.next=16,f=o[l];case 16:if(o[l=l%3===2?l-2:l+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(l=i[l])){e.next=26;break}if((d=r[(a[t]+1)%r.length])===f){e.next=25;break}return e.next=25,d;case 25:return e.abrupt("return");case 26:if(l!==c){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var r,a=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==a;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,a=this.hull,i=this._hullIndex,o=this.halfedges,u=this.triangles,s=this.points;if(-1===r[e]||!s.length)return(e+1)%(s.length>>1);var c=e,l=Bj(t-s[2*e],2)+Bj(n-s[2*e+1],2),f=r[e],d=f;do{var h=u[d],p=Bj(t-s[2*h],2)+Bj(n-s[2*h+1],2);if(p<l&&(l=p,c=h),u[d=d%3===2?d-2:d+1]!==e)break;if(-1===(d=o[d])){if((d=a[(i[e]+1)%a.length])!==h&&Bj(t-s[2*d],2)+Bj(n-s[2*d+1],2)<l)return d;break}}while(d!==f);return c}},{key:"render",value:function(e){for(var t=null==e?e=new Mj:void 0,n=this.points,r=this.halfedges,a=this.triangles,i=0,o=r.length;i<o;++i){var u=r[i];if(!(u<i)){var s=2*a[i],c=2*a[u];e.moveTo(n[s],n[s+1]),e.lineTo(n[c],n[c+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new Mj:void 0,r=this.points,a=0,i=r.length;a<i;a+=2){var o=r[a],u=r[a+1];e.moveTo(o+t,u),e.arc(o,u,t,0,zj)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new Mj:void 0,n=this.hull,r=this.points,a=2*n[0],i=n.length;e.moveTo(r[a],r[a+1]);for(var o=1;o<i;++o){var u=2*n[o];e.lineTo(r[u],r[u+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new Fj;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new Mj:void 0,r=this.points,a=this.triangles,i=2*a[e*=3],o=2*a[e+1],u=2*a[e+2];return t.moveTo(r[i],r[i+1]),t.lineTo(r[o],r[o+1]),t.lineTo(r[u],r[u+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new Fj;return this.renderTriangle(e,t),t.value()}}],[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lj,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uj,a=arguments.length>3?arguments[3]:void 0;return new e("length"in t?Hj(t,n,r,a):Float64Array.from(Gj(t,n,r,a)))}}]),e}();function Hj(e,t,n,r){for(var a=e.length,i=new Float64Array(2*a),o=0;o<a;++o){var u=e[o];i[2*o]=t.call(r,u,o,e),i[2*o+1]=n.call(r,u,o,e)}return i}function Gj(e,t,n,r){var a,i,o,u;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a=0,i=Object(Fn.a)(e),s.prev=2,i.s();case 4:if((o=i.n()).done){s.next=13;break}return u=o.value,s.next=8,t.call(r,u,a,e);case 8:return s.next=10,n.call(r,u,a,e);case 10:++a;case 11:s.next=4;break;case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(2),i.e(s.t0);case 18:return s.prev=18,i.f(),s.finish(18);case 21:case"end":return s.stop()}}),Pj,null,[[2,15,18,21]])}function qj(e){Tn.call(this,null,e)}qj.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var Xj=[-1e5,-1e5,1e5,1e5];function Yj(e){for(var t=e[0][0],n=e[0][1],r=e.length-1;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}Object(Pt.v)(qj,Tn,{transform:function(e,t){var n=e.as||"path",r=t.source;if(!r||!r.length)return t;var a=e.size;a=a?[0,0,a[0],a[1]]:(a=e.extent)?[a[0][0],a[0][1],a[1][0],a[1][1]]:Xj;for(var i=this.value=Vj.from(r,e.x,e.y).voronoi(a),o=0,u=r.length;o<u;++o){var s=i.cellPolygon(o);r[o][n]=s?Yj(s):null}return t.reflow(e.modified()).modifies(n)}});var Kj=Math.PI/180,$j=2048;function Zj(){var e,t,n,r,a,i,o,u=[256,256],s=t_,c=[],l=Math.random,f={};function d(e,t,n){for(var r,a,i,o,c,f=t.x,d=t.y,h=Math.sqrt(u[0]*u[0]+u[1]*u[1]),p=s(u),v=l()<.5?1:-1,m=-v;(r=p(m+=v))&&(a=~~r[0],i=~~r[1],!(Math.min(Math.abs(a),Math.abs(i))>=h));)if(t.x=f+a,t.y=d+i,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>u[0]||t.y+t.y1>u[1])&&(!n||!Qj(t,e,u[0]))&&(!n||(c=n,(o=t).x+o.x1>c[0].x&&o.x+o.x0<c[1].x&&o.y+o.y1>c[0].y&&o.y+o.y0<c[1].y))){for(var g,b=t.sprite,y=t.width>>5,x=u[0]>>5,w=t.x-(y<<4),O=127&w,k=32-O,j=t.y1-t.y0,_=(t.y+t.y0)*x+(w>>5),S=0;S<j;S++){g=0;for(var E=0;E<=y;E++)e[_+E]|=g<<k|(E<y?(g=b[S*y+E])>>>O:0);_+=x}return t.sprite=null,!0}return!1}return f.layout=function(){for(var s=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=$j/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(Po()),f=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((u[0]>>5)*u[1]),h=null,p=c.length,v=-1,m=[],g=c.map((function(u){return{text:e(u),font:t(u),style:r(u),weight:a(u),rotate:i(u),size:~~(n(u)+1e-14),padding:o(u),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:u}})).sort((function(e,t){return t.size-e.size}));++v<p;){var b=g[v];b.x=u[0]*(l()+.5)>>1,b.y=u[1]*(l()+.5)>>1,Jj(s,b,g,v),b.hasText&&d(f,b,h)&&(m.push(b),h?e_(h,b):h=[{x:b.x+b.x0,y:b.y+b.y0},{x:b.x+b.x1,y:b.y+b.y1}],b.x-=u[0]>>1,b.y-=u[1]>>1)}return m},f.words=function(e){return arguments.length?(c=e,f):c},f.size=function(e){return arguments.length?(u=[+e[0],+e[1]],f):u},f.font=function(e){return arguments.length?(t=n_(e),f):t},f.fontStyle=function(e){return arguments.length?(r=n_(e),f):r},f.fontWeight=function(e){return arguments.length?(a=n_(e),f):a},f.rotate=function(e){return arguments.length?(i=n_(e),f):i},f.text=function(t){return arguments.length?(e=n_(t),f):e},f.spiral=function(e){return arguments.length?(s=r_[e]||e,f):s},f.fontSize=function(e){return arguments.length?(n=n_(e),f):n},f.padding=function(e){return arguments.length?(o=n_(e),f):o},f.random=function(e){return arguments.length?(l=e,f):l},f}function Jj(e,t,n,r){if(!t.sprite){var a=e.context,i=e.ratio;a.clearRect(0,0,2048/i,$j/i);var o,u,s,c,l,f=0,d=0,h=0,p=n.length;for(--r;++r<p;){if(t=n[r],a.save(),a.font=t.style+" "+t.weight+" "+~~((t.size+1)/i)+"px "+t.font,o=a.measureText(t.text+"m").width*i,s=t.size<<1,t.rotate){var v=Math.sin(t.rotate*Kj),m=Math.cos(t.rotate*Kj),g=o*m,b=o*v,y=s*m,x=s*v;o=Math.max(Math.abs(g+x),Math.abs(g-x))+31>>5<<5,s=~~Math.max(Math.abs(b+y),Math.abs(b-y))}else o=o+31>>5<<5;if(s>h&&(h=s),f+o>=2048&&(f=0,d+=h,h=0),d+s>=$j)break;a.translate((f+(o>>1))/i,(d+(s>>1))/i),t.rotate&&a.rotate(t.rotate*Kj),a.fillText(t.text,0,0),t.padding&&(a.lineWidth=2*t.padding,a.strokeText(t.text,0,0)),a.restore(),t.width=o,t.height=s,t.xoff=f,t.yoff=d,t.x1=o>>1,t.y1=s>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=o}for(var w=a.getImageData(0,0,2048/i,$j/i).data,O=[];--r>=0;)if((t=n[r]).hasText){for(u=(o=t.width)>>5,s=t.y1-t.y0,c=0;c<s*u;c++)O[c]=0;if(null==(f=t.xoff))return;d=t.yoff;var k=0,j=-1;for(l=0;l<s;l++){for(c=0;c<o;c++){var _=u*l+(c>>5),S=w[2048*(d+l)+(f+c)<<2]?1<<31-c%32:0;O[_]|=S,k|=S}k?j=l:(t.y0++,s--,l--,d++)}t.y1=t.y0+j,t.sprite=O.slice(0,(t.y1-t.y0)*u)}}}function Qj(e,t,n){n>>=5;for(var r,a=e.sprite,i=e.width>>5,o=e.x-(i<<4),u=127&o,s=32-u,c=e.y1-e.y0,l=(e.y+e.y0)*n+(o>>5),f=0;f<c;f++){r=0;for(var d=0;d<=i;d++)if((r<<s|(d<i?(r=a[f*i+d])>>>u:0))&t[l+d])return!0;l+=n}return!1}function e_(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function t_(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function n_(e){return"function"===typeof e?e:function(){return e}}var r_={archimedean:t_,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var a=e<0?-1:1;switch(Math.sqrt(1+4*a*e)-a&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},a_=["x","y","font","fontSize","fontStyle","fontWeight","angle"],i_=["text","font","rotate","fontSize","fontStyle","fontWeight"];function o_(e){Tn.call(this,Zj(),e)}o_.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:a_}]},Object(Pt.v)(o_,Tn,{transform:function(e,t){!e.size||e.size[0]&&e.size[1]||Object(Pt.k)("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||i_.some((function(n){var r=e[n];return Object(Pt.A)(r)&&t.modified(r.fields)}))){var r,a=t.materialize(t.SOURCE).source,i=this.value,o=e.as||a_,u=e.fontSize||14;if(Object(Pt.A)(u)?r=e.fontSizeRange:u=Object(Pt.i)(u),r){var s=u,c=Pl("sqrt")().domain(Object(Pt.m)(a,s)).range(r);u=function(e){return c(s(e))}}a.forEach((function(e){e[o[0]]=NaN,e[o[1]]=NaN,e[o[3]]=0}));for(var l,f,d=i.words(a).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(u).random(tr).layout(),h=i.size(),p=h[0]>>1,v=h[1]>>1,m=d.length,g=0;g<m;++g)(f=(l=d[g]).datum)[o[0]]=l.x+p,f[o[1]]=l.y+v,f[o[2]]=l.font,f[o[3]]=l.size,f[o[4]]=l.style,f[o[5]]=l.weight,f[o[6]]=l.rotate;return t.reflow(n).modifies(o)}}});var u_=function(e){return new Uint8Array(e)},s_=function(e){return new Uint16Array(e)},c_=function(e){return new Uint32Array(e)};function l_(e,t,n){var r=(t<257?u_:t<65537?s_:c_)(e);return n&&r.set(n),r}function f_(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,a=this,i=a.bisect(a.range,e.value),o=e.index,u=i[0],s=i[1],c=o.length;for(n=0;n<u;++n)t[o[n]]|=r;for(n=s;n<c;++n)t[o[n]]|=r;return a}}}function d_(){var e=c_(0),t=[],n=0;return{insert:function(r,a,i){if(!a.length)return[];var o,u,s,c,l,f,d,h=n,p=a.length,v=c_(p),m=Array(p);for(s=0;s<p;++s)m[s]=r(a[s]),v[s]=s;if(d=v,(f=m).sort.call(d,(function(e,t){var n=f[e],r=f[t];return n<r?-1:n>r?1:0})),c=f,l=d,m=Array.from(l,(function(e){return c[e]})),h)o=t,u=e,t=Array(h+p),e=c_(h+p),function(e,t,n,r,a,i,o,u,s){var c,l=0,f=0;for(c=0;l<r&&f<o;++c)t[l]<a[f]?(u[c]=t[l],s[c]=n[l++]):(u[c]=a[f],s[c]=i[f++]+e);for(;l<r;++l,++c)u[c]=t[l],s[c]=n[l];for(;f<o;++f,++c)u[c]=a[f],s[c]=i[f]+e}(i,o,u,h,m,v,p,t,e);else{if(i>0)for(s=0;s<p;++s)v[s]+=i;t=m,e=v}return n=h+p,{index:v,value:m}},remove:function(r,a){var i,o,u,s=n;for(o=0;!a[e[o]]&&o<s;++o);for(u=o;o<s;++o)a[i=e[o]]||(e[u]=i,t[u]=t[o],++u);n=s-r},bisect:function(e,r){var a;return r?a=r.length:(r=t,a=n),[Uo(r,e[0],0,a),Lo(r,e[1],0,a)]},reindex:function(t){for(var r=0,a=n;r<a;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}function h_(e){Tn.call(this,function(){var e=8,t=[],n=c_(0),r=l_(0,e),a=l_(0,e);return{data:function(){return t},seen:function(){return e=n,r=t.length,n=e.length>=r?e:((a=a||new e.constructor(r)).set(e),a);var e,r,a},add:function(e){for(var n,r=0,a=t.length,i=e.length;r<i;++r)(n=e[r])._index=a++,t.push(n)},remove:function(e,n){var i,o,u,s=t.length,c=Array(s-e),l=t;for(o=0;!n[o]&&o<s;++o)c[o]=t[o],l[o]=o;for(u=o;o<s;++o)i=t[o],n[o]?l[o]=-1:(l[o]=u,r[u]=r[o],a[u]=a[o],c[u]=i,i._index=u++),r[o]=0;return t=c,l},size:function(){return t.length},curr:function(){return r},prev:function(){return a},reset:function(e){return a[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=l_(t,e,r),a=l_(t,e))}}}(),e),this._indices=null,this._dims=null}function p_(e){Tn.call(this,null,e)}h_.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},Object(Pt.v)(h_,Tn,{transform:function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init:function(e,t){for(var n,r,a=e.fields,i=e.query,o=this._indices={},u=this._dims=[],s=i.length,c=0;c<s;++c)r=o[n=a[c].fname]||(o[n]=d_()),u.push(f_(r,c,i[c]));return this.eval(e,t)},reinit:function(e,t){var n,r,a,i,o,u,s,c,l,f=t.materialize().fork(),d=e.fields,h=e.query,p=this._indices,v=this._dims,m=this.value,g=m.curr(),b=m.prev(),y=m.all(),x=f.rem=f.add,w=f.mod,O=h.length,k={};if(b.set(g),t.rem.length&&(o=this.remove(e,t,f)),t.add.length&&m.add(t.add),t.mod.length)for(u={},s=0,c=(i=t.mod).length;s<c;++s)u[i[s]._index]=1;for(s=0;s<O;++s)l=d[s],(!v[s]||e.modified("fields",s)||t.modified(l.fields))&&((n=k[a=l.fname])||(p[a]=r=d_(),k[a]=n=r.insert(l,t.source,0)),v[s]=f_(r,s,h[s]).onAdd(n,g));for(s=0,c=m.data().length;s<c;++s)o[s]||(b[s]!==g[s]?x.push(s):u[s]&&g[s]!==y&&w.push(s));return m.mask=(1<<O)-1,f},eval:function(e,t){var n=t.materialize().fork(),r=this._dims.length,a=0;return t.rem.length&&(this.remove(e,t,n),a|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(a|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),a|=(1<<r)-1),t.mod.length&&(this.modify(t,n),a|=(1<<r)-1),this.value.mask=a,n},insert:function(e,t,n){var r,a,i,o=t.add,u=this.value,s=this._dims,c=this._indices,l=e.fields,f={},d=n.add,h=u.size()+o.length,p=s.length,v=u.size();u.resize(h,p),u.add(o);var m=u.curr(),g=u.prev(),b=u.all();for(r=0;r<p;++r)i=f[a=l[r].fname]||(f[a]=c[a].insert(l[r],o,v)),s[r].onAdd(i,m);for(;v<h;++v)g[v]=b,m[v]!==b&&d.push(v)},modify:function(e,t){var n,r,a,i=t.mod,o=this.value,u=o.curr(),s=o.all(),c=e.mod;for(n=0,r=c.length;n<r;++n)u[a=c[n]._index]!==s&&i.push(a)},remove:function(e,t,n){var r,a,i,o,u=this._indices,s=this.value,c=s.curr(),l=s.prev(),f=s.all(),d={},h=n.rem,p=t.rem;for(r=0,a=p.length;r<a;++r)d[i=p[r]._index]=1,l[i]=o=c[i],c[i]=f,o!==f&&h.push(i);for(i in u)u[i].remove(a,d);return this.reindex(t,a,d),d},reindex:function(e,t,n){var r=this._indices,a=this.value;e.runAfter((function(){var e=a.remove(t,n);for(var i in r)r[i].reindex(e)}))},update:function(e,t,n){var r,a,i=this._dims,o=e.query,u=t.stamp,s=i.length,c=0;for(n.filters=0,a=0;a<s;++a)e.modified("query",a)&&(r=a,++c);if(1===c)c=i[r].one,this.incrementOne(i[r],o[r],n.add,n.rem);else for(a=0,c=0;a<s;++a)e.modified("query",a)&&(c|=i[a].one,this.incrementAll(i[a],o[a],u,n.add),n.rem=n.add);return c},incrementAll:function(e,t,n,r){var a,i,o,u=this.value,s=u.seen(),c=u.curr(),l=u.prev(),f=e.index(),d=e.bisect(e.range),h=e.bisect(t),p=h[0],v=h[1],m=d[0],g=d[1],b=e.one;if(p<m)for(a=p,i=Math.min(m,v);a<i;++a)s[o=f[a]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=b;else if(p>m)for(a=m,i=Math.min(p,g);a<i;++a)s[o=f[a]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=b;if(v>g)for(a=Math.max(p,g),i=v;a<i;++a)s[o=f[a]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=b;else if(v<g)for(a=Math.max(m,v),i=g;a<i;++a)s[o=f[a]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=b;e.range=t.slice()},incrementOne:function(e,t,n,r){var a,i,o,u=this.value.curr(),s=e.index(),c=e.bisect(e.range),l=e.bisect(t),f=l[0],d=l[1],h=c[0],p=c[1],v=e.one;if(f<h)for(a=f,i=Math.min(h,d);a<i;++a)u[o=s[a]]^=v,n.push(o);else if(f>h)for(a=h,i=Math.min(f,p);a<i;++a)u[o=s[a]]^=v,r.push(o);if(d>p)for(a=Math.max(f,p),i=d;a<i;++a)u[o=s[a]]^=v,n.push(o);else if(d<p)for(a=Math.max(h,d),i=p;a<i;++a)u[o=s[a]]^=v,r.push(o);e.range=t.slice()}}),p_.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(Pt.v)(p_,Tn,{transform:function(e,t){var n=~(e.ignore||0),r=e.filter,a=r.mask;if(0===(a&n))return t.StopPropagation;var i=t.fork(t.ALL),o=r.data(),u=r.curr(),s=r.prev(),c=function(e){return u[e]&n?null:o[e]};return i.filter(i.MOD,c),a&a-1?(i.filter(i.ADD,(function(e){var t=u[e]&n;return!t&&t^s[e]&n?o[e]:null})),i.filter(i.REM,(function(e){var t=u[e]&n;return t&&!(t^t^s[e]&n)?o[e]:null}))):(i.filter(i.ADD,c),i.filter(i.REM,(function(e){return(u[e]&n)===a?o[e]:null}))),i.filter(i.SOURCE,(function(e){return c(e._index)}))}});var v_,m_,g_,b_,y_,x_="Literal",w_="Property",O_="ArrayExpression",k_="BinaryExpression",j_="CallExpression",__="ConditionalExpression",S_="LogicalExpression",E_="MemberExpression",A_="ObjectExpression",C_="UnaryExpression";function N_(e){this.type=e}N_.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case O_:return e.elements;case k_:case S_:return[e.left,e.right];case j_:return[e.callee].concat(e.arguments);case __:return[e.test,e.consequent,e.alternate];case E_:return[e.object,e.property];case A_:return e.properties;case w_:return[e.key,e.value];case C_:return[e.argument];default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(v_={})[1]="Boolean",v_[2]="<end>",v_[3]="Identifier",v_[4]="Keyword",v_[5]="Null",v_[6]="Numeric",v_[7]="Punctuator",v_[8]="String",v_[9]="RegularExpression";var T_="Identifier",D_="Unexpected token %0",I_="Invalid regular expression",M_="Invalid regular expression: missing /",F_="Octal literals are not allowed in strict mode.",R_="ILLEGAL",P_="Disabled.",z_=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),B_=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function L_(e,t){if(!e)throw new Error("ASSERT: "+t)}function U_(e){return e>=48&&e<=57}function W_(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function V_(e){return"01234567".indexOf(e)>=0}function H_(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function G_(e){return 10===e||13===e||8232===e||8233===e}function q_(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&z_.test(String.fromCharCode(e))}function X_(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&B_.test(String.fromCharCode(e))}var Y_={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function K_(){for(;g_<b_;){var e=m_.charCodeAt(g_);if(!H_(e)&&!G_(e))break;++g_}}function $_(e){var t,n,r,a=0;for(n="u"===e?4:2,t=0;t<n;++t)g_<b_&&W_(m_[g_])?(r=m_[g_++],a=16*a+"0123456789abcdef".indexOf(r.toLowerCase())):dS({},D_,R_);return String.fromCharCode(a)}function Z_(){var e,t,n,r;for(t=0,"}"===(e=m_[g_])&&dS({},D_,R_);g_<b_&&W_(e=m_[g_++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&dS({},D_,R_),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function J_(){var e,t;for(e=m_.charCodeAt(g_++),t=String.fromCharCode(e),92===e&&(117!==m_.charCodeAt(g_)&&dS({},D_,R_),++g_,(e=$_("u"))&&"\\"!==e&&q_(e.charCodeAt(0))||dS({},D_,R_),t=e);g_<b_&&X_(e=m_.charCodeAt(g_));)++g_,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==m_.charCodeAt(g_)&&dS({},D_,R_),++g_,(e=$_("u"))&&"\\"!==e&&X_(e.charCodeAt(0))||dS({},D_,R_),t+=e);return t}function Q_(){var e,t;return e=g_,t=92===m_.charCodeAt(g_)?J_():function(){var e,t;for(e=g_++;g_<b_;){if(92===(t=m_.charCodeAt(g_)))return g_=e,J_();if(!X_(t))break;++g_}return m_.slice(e,g_)}(),{type:1===t.length?3:Y_.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:g_}}function eS(){var e,t,n,r,a=g_,i=m_.charCodeAt(g_),o=m_[g_];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++g_,{type:7,value:String.fromCharCode(i),start:a,end:g_};default:if(61===(e=m_.charCodeAt(g_+1)))switch(i){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return g_+=2,{type:7,value:String.fromCharCode(i)+String.fromCharCode(e),start:a,end:g_};case 33:case 61:return g_+=2,61===m_.charCodeAt(g_)&&++g_,{type:7,value:m_.slice(a,g_),start:a,end:g_}}}return">>>="===(r=m_.substr(g_,4))?{type:7,value:r,start:a,end:g_+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:a,end:g_+=3}:o===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?{type:7,value:t,start:a,end:g_+=2}:("//"===t&&dS({},D_,R_),"<>=!+-*%&|^/".indexOf(o)>=0?{type:7,value:o,start:a,end:++g_}:void dS({},D_,R_))}function tS(){var e,t,n;if(L_(U_((n=m_[g_]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=g_,e="","."!==n){if(e=m_[g_++],n=m_[g_],"0"===e){if("x"===n||"X"===n)return++g_,function(e){for(var t="";g_<b_&&W_(m_[g_]);)t+=m_[g_++];return 0===t.length&&dS({},D_,R_),q_(m_.charCodeAt(g_))&&dS({},D_,R_),{type:6,value:parseInt("0x"+t,16),start:e,end:g_}}(t);if(V_(n))return function(e){for(var t="0"+m_[g_++];g_<b_&&V_(m_[g_]);)t+=m_[g_++];return(q_(m_.charCodeAt(g_))||U_(m_.charCodeAt(g_)))&&dS({},D_,R_),{type:6,value:parseInt(t,8),octal:!0,start:e,end:g_}}(t);n&&U_(n.charCodeAt(0))&&dS({},D_,R_)}for(;U_(m_.charCodeAt(g_));)e+=m_[g_++];n=m_[g_]}if("."===n){for(e+=m_[g_++];U_(m_.charCodeAt(g_));)e+=m_[g_++];n=m_[g_]}if("e"===n||"E"===n)if(e+=m_[g_++],"+"!==(n=m_[g_])&&"-"!==n||(e+=m_[g_++]),U_(m_.charCodeAt(g_)))for(;U_(m_.charCodeAt(g_));)e+=m_[g_++];else dS({},D_,R_);return q_(m_.charCodeAt(g_))&&dS({},D_,R_),{type:6,value:parseFloat(e),start:t,end:g_}}function nS(){var e,t,n,r;return y_=null,K_(),e=g_,t=function(){var e,t,n,r;for(L_("/"===(e=m_[g_]),"Regular expression literal must start with a slash"),t=m_[g_++],n=!1,r=!1;g_<b_;)if(t+=e=m_[g_++],"\\"===e)G_((e=m_[g_++]).charCodeAt(0))&&dS({},M_),t+=e;else if(G_(e.charCodeAt(0)))dS({},M_);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||dS({},M_),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";g_<b_&&X_((e=m_[g_]).charCodeAt(0));)++g_,"\\"===e&&g_<b_?dS({},D_,R_):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&dS({},I_,n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";dS({},I_)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){dS({},I_)}try{return new RegExp(e,t)}catch(a){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:g_}}function rS(){if(K_(),g_>=b_)return{type:2,start:g_,end:g_};var e=m_.charCodeAt(g_);return q_(e)?Q_():40===e||41===e||59===e?eS():39===e||34===e?function(){var e,t,n,r,a="",i=!1;for(L_("'"===(e=m_[g_])||'"'===e,"String literal must starts with a quote"),t=g_,++g_;g_<b_;){if((n=m_[g_++])===e){e="";break}if("\\"===n)if((n=m_[g_++])&&G_(n.charCodeAt(0)))"\r"===n&&"\n"===m_[g_]&&++g_;else switch(n){case"u":case"x":"{"===m_[g_]?(++g_,a+=Z_()):a+=$_(n);break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":a+="\t";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;default:V_(n)?(0!==(r="01234567".indexOf(n))&&(i=!0),g_<b_&&V_(m_[g_])&&(i=!0,r=8*r+"01234567".indexOf(m_[g_++]),"0123".indexOf(n)>=0&&g_<b_&&V_(m_[g_])&&(r=8*r+"01234567".indexOf(m_[g_++]))),a+=String.fromCharCode(r)):a+=n}else{if(G_(n.charCodeAt(0)))break;a+=n}}return""!==e&&dS({},D_,R_),{type:8,value:a,octal:i,start:t,end:g_}}():46===e?U_(m_.charCodeAt(g_+1))?tS():eS():U_(e)?tS():eS()}function aS(){var e=y_;return g_=e.end,y_=rS(),g_=e.end,e}function iS(){var e=g_;y_=rS(),g_=e}function oS(e,t,n){var r=new N_("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function uS(e,t){var n=new N_("CallExpression");return n.callee=e,n.arguments=t,n}function sS(e){var t=new N_(T_);return t.name=e,t}function cS(e){var t=new N_("Literal");return t.value=e.value,t.raw=m_.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function lS(e,t,n){var r=new N_("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function fS(e,t,n){var r=new N_("Property");return r.key=t,r.value=n,r.kind=e,r}function dS(e,t){var n,r=Array.prototype.slice.call(arguments,2),a=t.replace(/%(\d)/g,(function(e,t){return L_(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(a)).index=g_,n.description=a,n}function hS(e){2===e.type&&dS(e,"Unexpected end of input"),6===e.type&&dS(e,"Unexpected number"),8===e.type&&dS(e,"Unexpected string"),3===e.type&&dS(e,"Unexpected identifier"),4===e.type&&dS(e,"Unexpected reserved word"),dS(e,D_,e.value)}function pS(e){var t=aS();7===t.type&&t.value===e||hS(t)}function vS(e){return 7===y_.type&&y_.value===e}function mS(e){return 4===y_.type&&y_.value===e}function gS(){var e=[];for(g_=y_.start,pS("[");!vS("]");)vS(",")?(aS(),e.push(null)):(e.push(CS()),vS("]")||pS(","));return aS(),function(e){var t=new N_("ArrayExpression");return t.elements=e,t}(e)}function bS(){g_=y_.start;var e=aS();return 8===e.type||6===e.type?(e.octal&&dS(e,F_),cS(e)):sS(e.value)}function yS(){var e,t,n;return g_=y_.start,3===(e=y_).type?(n=bS(),pS(":"),fS("init",n,CS())):2!==e.type&&7!==e.type?(t=bS(),pS(":"),fS("init",t,CS())):void hS(e)}function xS(){var e,t,n=[],r={},a=String;for(g_=y_.start,pS("{");!vS("}");)t="$"+((e=yS()).key.type===T_?e.key.name:a(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?dS({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),vS("}")||pS(",");return pS("}"),function(e){var t=new N_("ObjectExpression");return t.properties=e,t}(n)}var wS={if:1};function OS(){var e,t,n;if(vS("("))return function(){pS("(");var e=NS();return pS(")"),e}();if(vS("["))return gS();if(vS("{"))return xS();if(e=y_.type,g_=y_.start,3===e||wS[y_.value])n=sS(aS().value);else if(8===e||6===e)y_.octal&&dS(y_,F_),n=cS(aS());else{if(4===e)throw new Error(P_);1===e?((t=aS()).value="true"===t.value,n=cS(t)):5===e?((t=aS()).value=null,n=cS(t)):vS("/")||vS("/=")?(n=cS(nS()),iS()):hS(aS())}return n}function kS(){var e=[];if(pS("("),!vS(")"))for(;g_<b_&&(e.push(CS()),!vS(")"));)pS(",");return pS(")"),e}function jS(){return pS("."),function(){g_=y_.start;var e=aS();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||hS(e),sS(e.value)}()}function _S(){pS("[");var e=NS();return pS("]"),e}function SS(){var e=function(){var e;for(e=OS();;)if(vS("."))e=lS(".",e,jS());else if(vS("("))e=uS(e,kS());else{if(!vS("["))break;e=lS("[",e,_S())}return e}();if(7===y_.type&&(vS("++")||vS("--")))throw new Error(P_);return e}function ES(){var e,t;if(7!==y_.type&&4!==y_.type)t=SS();else{if(vS("++")||vS("--"))throw new Error(P_);if(vS("+")||vS("-")||vS("~")||vS("!"))e=aS(),t=ES(),t=function(e,t){var n=new N_("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(mS("delete")||mS("void")||mS("typeof"))throw new Error(P_);t=SS()}}return t}function AS(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function CS(){var e,t;return e=function(){var e,t,n,r,a,i,o,u,s,c;if(e=y_,s=ES(),0===(a=AS(r=y_)))return s;for(r.prec=a,aS(),t=[e,y_],i=[s,r,o=ES()];(a=AS(y_))>0;){for(;i.length>2&&a<=i[i.length-2].prec;)o=i.pop(),u=i.pop().value,s=i.pop(),t.pop(),n=oS(u,s,o),i.push(n);(r=aS()).prec=a,i.push(r),t.push(y_),n=ES(),i.push(n)}for(n=i[c=i.length-1],t.pop();c>1;)t.pop(),n=oS(i[c-1].value,i[c-2],n),c-=2;return n}(),vS("?")&&(aS(),t=CS(),pS(":"),e=function(e,t,n){var r=new N_("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,CS())),e}function NS(){var e=CS();if(vS(","))throw new Error(P_);return e}var TS={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function DS(e){function t(t,n,r){return function(a){return function(t,n,r,a){var i=e(n[0]);return r&&(i=r+"("+i+")",0===r.lastIndexOf("new ",0)&&(i="("+i+")")),i+"."+t+(a<0?"":0===a?"()":"("+n.slice(1).map(e).join(",")+")")}(t,a,n,r)}}var n="new Date",r="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(Pt.k)("Missing arguments to clamp function."),t.length>3&&Object(Pt.k)("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",r,0),lower:t("toLowerCase",r,0),substring:t("substring",r),split:t("split",r),trim:t("trim",r,0),regexp:a,test:t("test",a),if:function(t){t.length<3&&Object(Pt.k)("Missing arguments to if function."),t.length>3&&Object(Pt.k)("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}var IS,MS,FS,RS,PS,zS=new Qg,BS=new Qg,LS={point:kb,lineStart:kb,lineEnd:kb,polygonStart:function(){zS=new Qg,LS.lineStart=US,LS.lineEnd=WS},polygonEnd:function(){var e=+zS;BS.add(e<0?ib+e:e),this.lineStart=this.lineEnd=this.point=kb},sphere:function(){BS.add(ib)}};function US(){LS.point=VS}function WS(){HS(IS,MS)}function VS(e,t){LS.point=HS,IS=e,MS=t,FS=e*=ub,RS=fb(t=(t*=ub)/2+ab),PS=gb(t)}function HS(e,t){var n=(e*=ub)-FS,r=n>=0?1:-1,a=r*n,i=fb(t=(t*=ub)/2+ab),o=gb(t),u=PS*o,s=RS*i+u*fb(a),c=u*r*gb(a);zS.add(lb(c,s)),FS=e,RS=i,PS=o}var GS,qS,XS,YS,KS,$S,ZS,JS,QS,eE,tE,nE={point:rE,lineStart:iE,lineEnd:oE,polygonStart:function(){nE.point=uE,nE.lineStart=sE,nE.lineEnd=cE,QS=new Qg,LS.polygonStart()},polygonEnd:function(){LS.polygonEnd(),nE.point=rE,nE.lineStart=iE,nE.lineEnd=oE,zS<0?(GS=-(XS=180),qS=-(YS=90)):QS>eb?YS=90:QS<-1e-6&&(qS=-90),tE[0]=GS,tE[1]=XS},sphere:function(){GS=-(XS=180),qS=-(YS=90)}};function rE(e,t){eE.push(tE=[GS=e,XS=e]),t<qS&&(qS=t),t>YS&&(YS=t)}function aE(e,t){var n=Ty([e*ub,t*ub]);if(JS){var r=Iy(JS,n),a=Iy([r[1],-r[0],0],r);Ry(a),a=Ny(a);var i,o=e-KS,u=o>0?1:-1,s=a[0]*ob*u,c=sb(o)>180;c^(u*KS<s&&s<u*e)?(i=a[1]*ob)>YS&&(YS=i):c^(u*KS<(s=(s+360)%360-180)&&s<u*e)?(i=-a[1]*ob)<qS&&(qS=i):(t<qS&&(qS=t),t>YS&&(YS=t)),c?e<KS?lE(GS,e)>lE(GS,XS)&&(XS=e):lE(e,XS)>lE(GS,XS)&&(GS=e):XS>=GS?(e<GS&&(GS=e),e>XS&&(XS=e)):e>KS?lE(GS,e)>lE(GS,XS)&&(XS=e):lE(e,XS)>lE(GS,XS)&&(GS=e)}else eE.push(tE=[GS=e,XS=e]);t<qS&&(qS=t),t>YS&&(YS=t),JS=n,KS=e}function iE(){nE.point=aE}function oE(){tE[0]=GS,tE[1]=XS,nE.point=rE,JS=null}function uE(e,t){if(JS){var n=e-KS;QS.add(sb(n)>180?n+(n>0?360:-360):n)}else $S=e,ZS=t;LS.point(e,t),aE(e,t)}function sE(){LS.lineStart()}function cE(){uE($S,ZS),LS.lineEnd(),sb(QS)>eb&&(GS=-(XS=180)),tE[0]=GS,tE[1]=XS,JS=null}function lE(e,t){return(t-=e)<0?t+360:t}function fE(e,t){return e[0]-t[0]}function dE(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var hE,pE,vE,mE,gE,bE,yE,xE,wE,OE,kE,jE,_E,SE,EE,AE,CE={sphere:kb,point:NE,lineStart:DE,lineEnd:FE,polygonStart:function(){CE.lineStart=RE,CE.lineEnd=PE},polygonEnd:function(){CE.lineStart=DE,CE.lineEnd=FE}};function NE(e,t){e*=ub;var n=fb(t*=ub);TE(n*fb(e),n*gb(e),gb(t))}function TE(e,t,n){++hE,vE+=(e-vE)/hE,mE+=(t-mE)/hE,gE+=(n-gE)/hE}function DE(){CE.point=IE}function IE(e,t){e*=ub;var n=fb(t*=ub);SE=n*fb(e),EE=n*gb(e),AE=gb(t),CE.point=ME,TE(SE,EE,AE)}function ME(e,t){e*=ub;var n=fb(t*=ub),r=n*fb(e),a=n*gb(e),i=gb(t),o=lb(yb((o=EE*i-AE*a)*o+(o=AE*r-SE*i)*o+(o=SE*a-EE*r)*o),SE*r+EE*a+AE*i);pE+=o,bE+=o*(SE+(SE=r)),yE+=o*(EE+(EE=a)),xE+=o*(AE+(AE=i)),TE(SE,EE,AE)}function FE(){CE.point=NE}function RE(){CE.point=zE}function PE(){BE(jE,_E),CE.point=NE}function zE(e,t){jE=e,_E=t,e*=ub,t*=ub,CE.point=BE;var n=fb(t);SE=n*fb(e),EE=n*gb(e),AE=gb(t),TE(SE,EE,AE)}function BE(e,t){e*=ub;var n=fb(t*=ub),r=n*fb(e),a=n*gb(e),i=gb(t),o=EE*i-AE*a,u=AE*r-SE*i,s=SE*a-EE*r,c=pb(o,u,s),l=Ob(c),f=c&&-l/c;wE.add(f*o),OE.add(f*u),kE.add(f*s),pE+=l,bE+=l*(SE+(SE=r)),yE+=l*(EE+(EE=a)),xE+=l*(AE+(AE=i)),TE(SE,EE,AE)}var LE="intersect",UE="union",WE="index:unit";function VE(e,t){for(var n,r,a=t.fields,i=t.values,o=a.length,u=0;u<o;++u)if((r=a[u]).getter=Pt.q.getter||Object(Pt.q)(r.field),n=r.getter(e),Object(Pt.z)(n)&&(n=Object(Pt.Z)(n)),Object(Pt.z)(i[u])&&(i[u]=Object(Pt.Z)(i[u])),Object(Pt.z)(i[u][0])&&(i[u]=i[u].map(Pt.Z)),"E"===r.type){if(Object(Pt.x)(i[u])?i[u].indexOf(n)<0:n!==i[u])return!1}else if("R"===r.type){if(!Object(Pt.w)(n,i[u]))return!1}else if("R-RE"===r.type){if(!Object(Pt.w)(n,i[u],!0,!1))return!1}else if("R-E"===r.type){if(!Object(Pt.w)(n,i[u],!1,!1))return!1}else if("R-LE"===r.type&&!Object(Pt.w)(n,i[u],!1,!0))return!1;return!0}var HE=Object(Pt.q)("_vgsid_"),GE=function(e){var t=e,n=e;function r(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;n(e[i],t)<0?r=i+1:a=i}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return(r=e(t))<(a=n)?-1:r>a?1:r>=a?0:NaN;var r,a}}(e)),{left:r,center:function(e,n,a,i){null==a&&(a=0),null==i&&(i=e.length);var o=r(e,n,a,i-1);return o>a&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;n(e[i],t)>0?a=i:r=i+1}return r}}}(HE),qE=GE.left,XE=GE.right;var YE={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,t){var n=Object(Pt.Z)(t[0]),r=Object(Pt.Z)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Object(Pt.Z)(t[0]),r=Object(Pt.Z)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};function KE(e,t,n,r){t[0].type!==x_&&Object(Pt.k)("First argument to selection functions must be a string literal.");var a=t[0].value,i="unit",o="@unit",u=":"+a;(t.length>=2&&Object(Pt.S)(t).value)!==LE||Object(Pt.s)(r,o)||(r["@unit"]=n.getData(a).indataRef(n,i)),Object(Pt.s)(r,u)||(r[u]=n.getData(a).tuplesRef())}function $E(e){var t=this.context.data[e];return t?t.values.value:[]}var ZE=function(e){return function(t,n){return this.context.dataflow.locale()[e](n)(t)}},JE=ZE("format"),QE=ZE("timeFormat"),eA=ZE("utcFormat"),tA=ZE("timeParse"),nA=ZE("utcParse"),rA=new Date(2e3,0,1);function aA(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(rA.setYear(2e3),rA.setMonth(e),rA.setDate(t),QE.call(this,rA,n)):""}function iA(e,t,n,r){t[0].type!==x_&&Object(Pt.k)("First argument to data functions must be a string literal.");var a=t[0].value,i=":"+a;if(!Object(Pt.s)(i,r))try{r[i]=n.getData(a).tuplesRef()}catch(o){}}function oA(e,t,n,r){if(t[0].type===x_)uA(n,r,t[0].value);else for(e in n.scales)uA(n,r,e)}function uA(e,t,n){var r="%"+n;if(!Object(Pt.s)(t,r))try{t[r]=e.scaleRef(n)}catch(a){}}function sA(e,t){var n;return Object(Pt.A)(e)?e:Object(Pt.F)(e)?(n=t.scales[e])&&n.value:void 0}function cA(e,t,n){t.__bandwidth=function(e){return e&&e.bandwidth?e.bandwidth():0},n._bandwidth=oA,n._range=oA,n._scale=oA;var r=function(t){return"_["+(t.type===x_?Object(Pt.W)("%"+t.value):Object(Pt.W)("%")+"+"+e(t))+"]"};return{_bandwidth:function(e){return"this.__bandwidth(".concat(r(e[0]),")")},_range:function(e){return"".concat(r(e[0]),".range()")},_scale:function(t){return"".concat(r(t[0]),"(").concat(e(t[1]),")")}}}function lA(e,t){return function(n,r,a){if(n){var i=sA(n,(a||this).context);return i&&i.path[e](r)}return t(r)}}var fA=lA("area",(function(e){return BS=new Qg,$g(e,LS),2*BS})),dA=lA("bounds",(function(e){var t,n,r,a,i,o,u;if(YS=XS=-(GS=qS=1/0),eE=[],$g(e,nE),n=eE.length){for(eE.sort(fE),t=1,i=[r=eE[0]];t<n;++t)dE(r,(a=eE[t])[0])||dE(r,a[1])?(lE(r[0],a[1])>lE(r[0],r[1])&&(r[1]=a[1]),lE(a[0],r[1])>lE(r[0],r[1])&&(r[0]=a[0])):i.push(r=a);for(o=-1/0,t=0,r=i[n=i.length-1];t<=n;r=a,++t)a=i[t],(u=lE(r[1],a[0]))>o&&(o=u,GS=a[0],XS=r[1])}return eE=tE=null,GS===1/0||qS===1/0?[[NaN,NaN],[NaN,NaN]]:[[GS,qS],[XS,YS]]})),hA=lA("centroid",(function(e){hE=pE=vE=mE=gE=bE=yE=xE=0,wE=new Qg,OE=new Qg,kE=new Qg,$g(e,CE);var t=+wE,n=+OE,r=+kE,a=pb(t,n,r);return a<tb&&(t=bE,n=yE,r=xE,pE<eb&&(t=vE,n=mE,r=gE),(a=pb(t,n,r))<tb)?[NaN,NaN]:[lb(n,t)*ob,Ob(r/a)*ob]}));function pA(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function vA(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function mA(e){var t=Ou(e);return.2126*vA(t.r)+.7152*vA(t.g)+.0722*vA(t.b)}function gA(e,t){return e===t||e!==e&&t!==t||(Object(Pt.x)(e)?!(!Object(Pt.x)(t)||e.length!==t.length)&&function(e,t){for(var n=0,r=e.length;n<r;++n)if(!gA(e[n],t[n]))return!1;return!0}(e,t):!(!Object(Pt.D)(e)||!Object(Pt.D)(t))&&bA(e,t))}function bA(e,t){for(var n in e)if(!gA(e[n],t[n]))return!1;return!0}function yA(e){return function(t){return bA(e,t)}}var xA={};function wA(e){return Object(Pt.x)(e)||ArrayBuffer.isView(e)?e:null}function OA(e){return wA(e)||(Object(Pt.F)(e)?e:null)}var kA=function(e){return e.data};function jA(e,t){var n=$E.call(t,e);return n.root&&n.root.lookup||{}}var _A=function(){return"undefined"!==typeof window&&window||null};var SA={random:function(){return tr()},cumulativeNormal:dr,cumulativeLogNormal:br,cumulativeUniform:jr,densityNormal:fr,densityLogNormal:gr,densityUniform:kr,quantileNormal:hr,quantileLogNormal:yr,quantileUniform:_r,sampleNormal:lr,sampleLogNormal:mr,sampleUniform:Or,isArray:Pt.x,isBoolean:Pt.y,isDate:Pt.z,isDefined:function(e){return void 0!==e},isNumber:Pt.C,isObject:Pt.D,isRegExp:Pt.E,isString:Pt.F,isTuple:Gt,isValid:function(e){return null!=e&&e===e},toBoolean:Pt.X,toDate:Pt.Y,toNumber:Pt.Z,toString:Pt.bb,indexof:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=OA(e)).indexOf.apply(t,r)},join:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=wA(e)).join.apply(t,r)},lastindexof:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=OA(e)).lastIndexOf.apply(t,r)},replace:function(e,t,n){return Object(Pt.A)(n)&&Object(Pt.k)("Function argument passed to replace."),String(e).replace(t,n)},reverse:function(e){return wA(e).slice().reverse()},slice:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=OA(e)).slice.apply(t,r)},flush:Pt.r,lerp:Pt.H,merge:function(){var e=[].slice.call(arguments);return e.unshift({}),Pt.l.apply(void 0,Object(yi.a)(e))},pad:Pt.N,peek:Pt.S,pluck:function(e,t){var n=xA[t]||(xA[t]=Object(Pt.q)(t));return Object(Pt.x)(e)?e.map(n):n(e)},span:Pt.U,inrange:Pt.w,truncate:Pt.cb,rgb:Ou,lab:Tc,hcl:zc,hsl:Cu,luminance:mA,contrast:function(e,t){var n=mA(e),r=mA(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:Hr,format:JE,utcFormat:eA,utcParse:nA,utcOffset:qr.w,utcSequence:qr.x,timeFormat:QE,timeParse:tA,timeOffset:qr.q,timeSequence:qr.r,timeUnitSpecifier:qr.s,monthFormat:function(e){return aA.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return aA.call(this,e,1,"%b")},dayFormat:function(e){return aA.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return aA.call(this,0,2+e,"%a")},quarter:Pt.T,utcquarter:Pt.eb,week:qr.A,utcweek:qr.z,dayofyear:qr.m,utcdayofyear:qr.y,warn:function(){return pA(this.context.dataflow,"warn",arguments)},info:function(){return pA(this.context.dataflow,"info",arguments)},debug:function(){return pA(this.context.dataflow,"debug",arguments)},extent:Pt.m,inScope:function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];var r=Object(Rn.a)(e,2),a=r[0],i=r[1],o=(new wd).set(a[0],a[1],i[0],i[1]);return Yv(n||this.context.dataflow.scenegraph().root,o,function(e){var t=null;if(e){var n=Object(Pt.e)(e.marktype),r=Object(Pt.e)(e.markname);t=function(e){return(!n.length||n.some((function(t){return e.marktype===t})))&&(!r.length||r.some((function(t){return e.name===t})))}}return t}(t))},clampRange:Pt.g,pinchDistance:function(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){var e=_A();return e?e.screen:{}},containerSize:function(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){var e=_A();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return sl(e||0,t||0,n||0)},setdata:function(e,t){var n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(Pt.db).insert(t)),1},pathShape:function(e){var t=null;return function(n){return n?Hf(n,t=t||If(e)):e}},panLinear:Pt.O,panLog:Pt.P,panPow:Pt.Q,panSymlog:Pt.R,zoomLinear:Pt.hb,zoomLog:Pt.ib,zoomPow:Pt.jb,zoomSymlog:Pt.kb,encode:function(e,t,n){if(e){var r=this.context.dataflow,a=e.mark.source;r.pulse(a,r.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,a,i){var o,u,s=this.context.dataflow,c=this.context.data[e],l=c.input,f=s.stamp(),d=c.changes;if(!1===s._trigger||!(l.value.length||t||r))return 0;if((!d||d.stamp<f)&&(c.changes=d=s.changeset(),d.stamp=f,s.runAfter((function(){c.modified=!0,s.pulse(l,d).run()}),!0,1)),n&&(o=!0===n?Pt.db:Object(Pt.x)(n)||Gt(n)?n:yA(n),d.remove(o)),t&&d.insert(t),r&&(o=yA(r),l.value.some(o)?d.remove(o):d.insert(r)),a)for(u in i)d.modify(a,u,i[u]);return 1}},EA=["view","item","group","xy","x","y"],AA="this.",CA={},NA={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_[".concat(Object(Pt.W)("$"+e),"]")},functions:function(e){var t=DS(e);for(var n in EA.forEach((function(e){return t[e]="event.vega."+e})),SA)t[n]=AA+n;return Object(Pt.l)(t,cA(e,SA,CA)),t},constants:TS,visitors:CA},TA=function(e){var t=(e=e||{}).allowed?Object(Pt.ab)(e.allowed):{},n=e.forbidden?Object(Pt.ab)(e.forbidden):{},r=e.constants||TS,a=(e.functions||DS)(f),i=e.globalvar,o=e.fieldvar,u=Object(Pt.A)(i)?i:function(e){return"".concat(i,'["').concat(e,'"]')},s={},c={},l=0;function f(e){if(Object(Pt.F)(e))return e;var t=d[e.type];return null==t&&Object(Pt.k)("Unsupported type: "+e.type),t(e)}var d={Literal:function(e){return e.raw},Identifier:function(e){var a=e.name;return l>0?a:Object(Pt.s)(n,a)?Object(Pt.k)("Illegal identifier: "+a):Object(Pt.s)(r,a)?r[a]:Object(Pt.s)(t,a)?a:(s[a]=1,u(a))},MemberExpression:function(e){var t=!e.computed,n=f(e.object);t&&(l+=1);var r=f(e.property);return n===o&&(c[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(l-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Object(Pt.k)("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=Object(Pt.s)(a,t)&&a[t];return r||Object(Pt.k)("Unrecognized function: "+t),Object(Pt.A)(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(f).join(",")+"]"},BinaryExpression:function(e){return"("+f(e.left)+" "+e.operator+" "+f(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+f(e.argument)+")"},ConditionalExpression:function(e){return"("+f(e.test)+"?"+f(e.consequent)+":"+f(e.alternate)+")"},LogicalExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(f).join(",")+"}"},Property:function(e){l+=1;var t=f(e.key);return l-=1,t+":"+f(e.value)}};function h(e){var t={code:f(e),globals:Object.keys(s),fields:Object.keys(c)};return s={},c={},t}return h.functions=a,h.constants=r,h}(NA);function DA(e,t,n){return 1===arguments.length?SA[e]:(SA[e]=t,n&&(CA[e]=n),TA&&(TA.functions[e]=AA+e),this)}function IA(e,t){var n,r={};try{n=function(e){g_=0,b_=(m_=e).length,y_=null,iS();var t=NS();if(2!==y_.type)throw new Error("Unexpect token after expression.");return t}(e=Object(Pt.F)(e)?e:Object(Pt.W)(e)+"")}catch(i){Object(Pt.k)("Expression parse error: "+e)}n.visit((function(e){if(e.type===j_){var n=e.callee.name,a=NA.visitors[n];a&&a(n,e.arguments,t,r)}}));var a=TA(n);return a.globals.forEach((function(e){var n="$"+e;!Object(Pt.s)(r,n)&&t.getSignal(e)&&(r[n]=t.signalRef(e))})),{$expr:Object(Pt.l)({code:a.code},t.options.ast?{ast:n}:null),$fields:a.fields,$params:r}}DA("bandwidth",(function(e,t){var n=sA(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),oA),DA("copy",(function(e,t){var n=sA(e,(t||this).context);return n?n.copy():void 0}),oA),DA("domain",(function(e,t){var n=sA(e,(t||this).context);return n?n.domain():[]}),oA),DA("range",(function(e,t){var n=sA(e,(t||this).context);return n&&n.range?n.range():[]}),oA),DA("invert",(function(e,t,n){var r=sA(e,(n||this).context);return r?Object(Pt.x)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),oA),DA("scale",(function(e,t,n){var r=sA(e,(n||this).context);return r?r(t):void 0}),oA),DA("gradient",(function(e,t,n,r,a){e=sA(e,(a||this).context);var i=Af(t,n),o=e.domain(),u=o[0],s=Object(Pt.S)(o),c=Pt.u;return s-u?c=$l(e,u,s):e=(e.interpolator?Pl("sequential")().interpolator(e.interpolator()):Pl("linear")().interpolate(e.interpolate()).range(e.range())).domain([u=0,s=1]),e.ticks&&(u!==(o=e.ticks(+r||15))[0]&&o.unshift(u),s!==Object(Pt.S)(o)&&o.push(s)),o.forEach((function(t){return i.stop(c(t),e(t))})),i}),oA),DA("geoArea",fA,oA),DA("geoBounds",dA,oA),DA("geoCentroid",hA,oA),DA("geoShape",(function(e,t,n){var r=sA(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}),oA),DA("indata",(function(e,t,n){var r=this.context.data[e]["index:"+t],a=r?r.value.get(n):void 0;return a?a.count:a}),(function(e,t,n,r){t[0].type!==x_&&Object(Pt.k)("First argument to indata must be a string literal."),t[1].type!==x_&&Object(Pt.k)("Second argument to indata must be a string literal.");var a=t[0].value,i=t[1].value,o="@"+i;Object(Pt.s)(o,r)||(r[o]=n.getData(a).indataRef(n,i))})),DA("data",$E,iA),DA("treePath",(function(e,t,n){var r=jA(e,this),a=r[t],i=r[n];return a&&i?a.path(i).map(kA):void 0}),iA),DA("treeAncestors",(function(e,t){var n=jA(e,this)[t];return n?n.ancestors().map(kA):void 0}),iA),DA("vlSelectionTest",(function(e,t,n){for(var r,a,i,o,u,s=this.context.data[e],c=s?s.values.value:[],l=s?s[WE]&&s[WE].value:void 0,f=n===LE,d=c.length,h=0;h<d;++h)if(r=c[h],l&&f){if(-1===(i=(a=a||{})[o=r.unit]||0))continue;if(u=VE(t,r),a[o]=u?-1:++i,u&&1===l.size)return!0;if(!u&&i===l.get(o).count)return!1}else if(f^(u=VE(t,r)))return u;return d&&f}),KE),DA("vlSelectionIdTest",(function(e,t,n){var r=this.context.data[e],a=r?r.values.value:[],i=r?r[WE]&&r[WE].value:void 0,o=n===LE,u=HE(t),s=qE(a,u);if(s===a.length)return!1;if(HE(a[s])!==u)return!1;if(i&&o){if(1===i.size)return!0;if(XE(a,u)-s<i.size)return!1}return!0}),KE),DA("vlSelectionResolve",(function(e,t,n,r){for(var a,i,o,u,s,c,l,f,d,h,p,v=this.context.data[e],m=v?v.values.value:[],g={},b={},y={},x=m.length,w=0;w<x;++w){for(u=(a=m[w]).unit,i=a.fields,o=a.values,h=0,p=i.length;h<p;++h)s=i[h],l=(c=g[s.field]||(g[s.field]={}))[u]||(c[u]=[]),y[s.field]=f=s.type.charAt(0),d=YE[f+"_union"],c[u]=d(l,Object(Pt.e)(o[h]));n&&(l=b[u]||(b[u]=[])).push(Object(Pt.e)(o).reduce((function(e,t,n){return e[i[n].field]=t,e}),{}))}return t=t||UE,Object.keys(g).forEach((function(e){g[e]=Object.keys(g[e]).map((function(t){return g[e][t]})).reduce((function(n,r){return void 0===n?r:YE[y[e]+"_"+t](n,r)}))})),m=Object.keys(b),n&&m.length&&(g[r?"vlPoint":"vlMulti"]=t===UE?Object(xi.a)({},"or",m.reduce((function(e,t){return e.push.apply(e,Object(yi.a)(b[t])),e}),[])):Object(xi.a)({},"and",m.map((function(e){return Object(xi.a)({},"or",b[e])})))),g}),KE),DA("vlSelectionTuples",(function(e,t){return e.map((function(e){return Object(Pt.l)({values:t.fields.map((function(t){return(t.getter||(t.getter=Object(Pt.q)(t.field)))(e.datum)}))},t)}))}));var MA=Object(Pt.ab)(["rule"]),FA=Object(Pt.ab)(["group","image","rect"]);function RA(e){return(e+"").toLowerCase()}function PA(e,t,n){";"!==n[n.length-1]&&(n="return("+n+");");var r=Function.apply(void 0,Object(yi.a)(t.concat(n)));return e&&e.functions?r.bind(e.functions):r}var zA={operator:function(e,t){return PA(e,["_"],t.code)},parameter:function(e,t){return PA(e,["datum","_"],t.code)},event:function(e,t){return PA(e,["event"],t.code)},handler:function(e,t){return PA(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";"))},encode:function(e,t){var n=t.marktype,r=t.channels,a="var o=item,datum=o.datum,m=0,$;";for(var i in r){var o="o["+Object(Pt.W)(i)+"]";a+="$=".concat(r[i].code,";if(").concat(o,"!==$)").concat(o,"=$,m=1;")}return a+=function(e,t){var n="";return MA[t]||(e.x2&&(e.x?(FA[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(FA[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(r,n),PA(e,["item","_"],a+="return m;")},codegen:{get:function(e){var t="[".concat(e.map(Pt.W).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator:function(e,t){var n,r=Function("a","b","var u, v; return "+e.map((function(e,r){var a,i,o=t[r];return e.path?(a="a".concat(e.path),i="b".concat(e.path)):((n=n||{})["f"+r]=e,a="this.f".concat(r,"(a)"),i="this.f".concat(r,"(b)")),function(e,t,n,r){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(r,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(r," : ")}(a,i,-o,o)})).join("")+"0;");return n?r.bind(n):r}}};function BA(e,t,n){if(!e||!Object(Pt.D)(e))return e;for(var r,a=0,i=LA.length;a<i;++a)if(r=LA[a],Object(Pt.s)(e,r.key))return r.parse(e,t,n);return e}var LA=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(Pt.k)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(Pt.G)(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);var r="e:"+e.$expr.code+"_"+e.$name;return t.fn[r]||(t.fn[r]=Object(Pt.b)(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(Pt.q)(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){var n=e.$encode,r={};for(var a in n){var i=n[a];r[a]=Object(Pt.b)(t.encodeExpression(i.$expr),i.$fields),r[a].output=i.$output}return r}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,r=Object(Pt.e)(e.$compare).map((function(e){return e&&e.$tupleid?qt:e}));return t.fn[n]||(t.fn[n]=Object(Pt.h)(r,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,r,a){var i=t.fork().parse(n),o=i.get(n.operators[0].id),u=i.signals.parent;return u&&u.set(a),o.detachSubflow=function(){return t.detach(i)},o}}},{key:"$tupleid",parse:function(){return qt}}];var UA={skip:!0};function WA(e,t,n,r){return new VA(e,t,n,r)}function VA(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||zA,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function HA(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}VA.prototype=HA.prototype={fork:function(){var e=new HA(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach:function(e){this.subcontext=this.subcontext.filter((function(t){return t!==e}));for(var t=Object.keys(e.nodes),n=0,r=t;n<r.length;n++){var a=r[n];e.nodes[a]._targets=null}for(var i=0,o=t;i<o.length;i++){var u=o[i];e.nodes[u].detach()}e.nodes=null},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n=this,r=n.dataflow,a=e.value;if(n.set(e.id,t),"collect"===RA(e.type)&&a&&(a.$ingest?r.ingest(t,a.$ingest,a.$format):a.$request?r.preload(t,a.$request,a.$format):r.pulse(t,r.changeset().insert(a))),e.root&&(n.root=t),e.parent){var i=n.get(e.parent.$ref);i?(r.connect(i,[t]),t.targets().add(i)):(n.unresolved=n.unresolved||[]).push((function(){i=n.get(e.parent.$ref),r.connect(i,[t]),t.targets().add(i)}))}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data){var o=function(r){var a=n.data[r]||(n.data[r]={});e.data[r].forEach((function(e){return a[e]=t}))};for(var u in e.data)o(u)}},resolve:function(){return(this.unresolved||[]).forEach((function(e){return e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[RA(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,a){this.dataflow.on(t,n,r,a,e.options)},operatorExpression:function(e){return this.expr.operator(this,e)},parameterExpression:function(e){return this.expr.parameter(this,e)},eventExpression:function(e){return this.expr.event(this,e)},handlerExpression:function(e){return this.expr.handler(this,e)},encodeExpression:function(e){return this.expr.encode(this,e)},parse:function(e){var t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach((function(e){return t.parseOperator(e)})),n.forEach((function(e){return t.parseOperatorParameters(e)})),(e.streams||[]).forEach((function(e){return t.parseStream(e)})),(e.updates||[]).forEach((function(e){return t.parseUpdate(e)})),t.resolve()},parseOperator:function(e){var t=this;"operator"!==RA(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){var t=this;if(e.params){var n=t.get(e.id);n||Object(Pt.k)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};var n=this;for(var r in e){var a=e[r];t[r]=Object(Pt.x)(a)?a.map((function(e){return BA(e,n,t)})):BA(a,n,t)}return t},parseStream:function(e){var t,n=this,r=null!=e.filter?n.eventExpression(e.filter):void 0,a=null!=e.stream?n.get(e.stream):void 0;e.source?a=n.events(e.source,e.type,r):e.merge&&(a=(t=e.merge.map((function(e){return n.get(e)})))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map((function(e){return n.get(e)})),a=a.between(t[0],t[1])),e.filter&&(a=a.filter(r)),null!=e.throttle&&(a=a.throttle(+e.throttle)),null!=e.debounce&&(a=a.debounce(+e.debounce)),null==a&&Object(Pt.k)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&a.consume(!0),n.stream(e,a)},parseUpdate:function(e){var t,n=this,r=Object(Pt.D)(r=e.source)?r.$ref:r,a=n.get(r),i=e.update,o=void 0;a||Object(Pt.k)("Source not defined: "+e.source),t=e.target&&e.target.$expr?n.eventExpression(e.target.$expr):n.get(e.target),i&&i.$expr&&(i.$params&&(o=n.parseParameters(i.$params)),i=n.handlerExpression(i.$expr)),n.update(e,a,t,i,o)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((function(n){var a=t.signals[n];e.signals(n,a)&&(r[n]=a.value)}))}if(e.data){var a=n.data={};Object.keys(t.data).forEach((function(n){var r=t.data[n];e.data(n,r)&&(a[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,a=e.signals;Object.keys(a||{}).forEach((function(e){n.update(t.signals[e],a[e],UA)})),Object.keys(r||{}).forEach((function(e){n.pulse(t.data[e].input,n.changeset().remove(Pt.db).insert(r[e]))})),(e.subcontext||[]).forEach((function(e,n){var r=t.subcontext[n];r&&r.setState(e)}))}};function GA(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}var qA="default";function XA(e,t){var n=e.globalCursor()?"undefined"!==typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}function YA(e,t){var n=e._runtime.data;return Object(Pt.s)(n,t)||Object(Pt.k)("Unrecognized data set: "+t),n[t]}function KA(e,t){Qt(t)||Object(Pt.k)("Second argument to changes must be a changeset.");var n=YA(this,e);return n.modified=!0,this.pulse(n.input,t)}function $A(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function ZA(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function JA(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function QA(e){var t=JA(e),n=$A(e),r=ZA(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,r)}catch(a){e.error(a)}}))}function eC(e,t,n){var r,a,i=e._renderer,o=i&&i.canvas();return o&&(a=JA(e),(r=Tp(t.changedTouches?t.changedTouches[0]:t,o))[0]-=a[0],r[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function a(e){var n,a=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){a=n;break}return a&&a.mark&&a.mark.interactive?a:{}}function i(e){if(!e)return n;Object(Pt.F)(e)&&(e=a(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Object(Pt.i)(e),item:Object(Pt.i)(t||{}),group:a,xy:i,x:function(e){return i(e)[0]},y:function(e){return i(e)[1]}}}(e,n,r),t}var tC="view",nC={trap:!1};function rC(e,t,n,r){e._eventListeners.push({type:n,sources:Object(Pt.e)(t),handler:r})}function aC(e,t,n){var r=e._eventConfig&&e._eventConfig[t];return!(!1===r||Object(Pt.D)(r)&&!r[n])||(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1)}function iC(e){return e.item}function oC(e){return e.item.mark.source}function uC(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function sC(e,t,n){var r=document.createElement(e);for(var a in t)r.setAttribute(a,t[a]);return null!=n&&(r.textContent=n),r}function cC(e,t,n,r){var a=n.event||"input",i=function(){return e.update(t.value)};r.signal(n.signal,t.value),t.addEventListener(a,i),rC(r,t,a,i),e.set=function(e){t.value=e,t.dispatchEvent(function(e){return"undefined"!==typeof Event?new Event(e):{type:e}}(a))}}function lC(e,t,n,r){var a=r.signal(n.signal),i=sC("div",{class:"vega-bind"}),o="radio"===n.input?i:i.appendChild(sC("label"));o.appendChild(sC("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(i);var u=fC;switch(n.input){case"checkbox":u=dC;break;case"select":u=hC;break;case"radio":u=pC;break;case"range":u=vC}u(e,o,n,a)}function fC(e,t,n,r){var a=sC("input");for(var i in n)"signal"!==i&&"element"!==i&&a.setAttribute("input"===i?"type":i,n[i]);a.setAttribute("name",n.signal),a.value=r,t.appendChild(a),a.addEventListener("input",(function(){return e.update(a.value)})),e.elements=[a],e.set=function(e){return a.value=e}}function dC(e,t,n,r){var a={type:"checkbox",name:n.signal};r&&(a.checked=!0);var i=sC("input",a);t.appendChild(i),i.addEventListener("change",(function(){return e.update(i.checked)})),e.elements=[i],e.set=function(e){return i.checked=!!e||null}}function hC(e,t,n,r){var a=sC("select",{name:n.signal}),i=n.labels||[];n.options.forEach((function(e,t){var n={value:e};mC(e,r)&&(n.selected=!0),a.appendChild(sC("option",n,(i[t]||e)+""))})),t.appendChild(a),a.addEventListener("change",(function(){e.update(n.options[a.selectedIndex])})),e.elements=[a],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(mC(n.options[t],e))return void(a.selectedIndex=t)}}function pC(e,t,n,r){var a=sC("span",{class:"vega-bind-radio"}),i=n.labels||[];t.appendChild(a),e.elements=n.options.map((function(t,o){var u={type:"radio",name:n.signal,value:t};mC(t,r)&&(u.checked=!0);var s=sC("input",u);s.addEventListener("change",(function(){return e.update(t)}));var c=sC("label",{},(i[o]||t)+"");return c.prepend(s),a.appendChild(c),s})),e.set=function(t){for(var n=e.elements,r=n.length,a=0;a<r;++a)mC(n[a].value,t)&&(n[a].checked=!0)}}function vC(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var a=null!=n.max?n.max:Math.max(100,+r)||100,i=n.min||Math.min(0,a,+r)||0,o=n.step||Object(Xo.c)(i,a,100),u=sC("input",{type:"range",name:n.signal,min:i,max:a,step:o});u.value=r;var s=sC("span",{},+r);t.appendChild(u),t.appendChild(s);var c=function(){s.textContent=u.value,e.update(+u.value)};u.addEventListener("input",c),u.addEventListener("change",c),e.elements=[u],e.set=function(e){u.value=e,s.textContent=e}}function mC(e,t){return e===t||e+""===t+""}function gC(e,t,n,r,a,i){return(t=t||new r(e.loader())).initialize(n,$A(e),ZA(e),JA(e),a,i).background(e.background())}function bC(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function yC(e,t,n){if("string"===typeof t){if("undefined"===typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&n)try{t.innerHTML=""}catch(r){t=null,e.error(r)}return t}var xC=function(e){return+e||0};function wC(e){return Object(Pt.D)(e)?{top:xC(e.top),bottom:xC(e.bottom),left:xC(e.left),right:xC(e.right)}:function(e){return{top:e,bottom:e,left:e,right:e}}(xC(e))}function OC(e,t,n,r){return kC.apply(this,arguments)}function kC(){return kC=Object(Rt.a)(O.a.mark((function e(t,n,r,a){var i,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xv(n),(o=i&&i.headless)||Object(Pt.k)("Unrecognized renderer type: "+n),e.next=4,t.runAsync();case 4:return e.abrupt("return",gC(t,null,null,o,r,a).renderAsync(t._scenegraph.root));case 5:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function jC(){return(jC=Object(Rt.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t!==Gv.Canvas&&t!==Gv.SVG&&t!==Gv.PNG&&Object(Pt.k)("Unrecognized image type: "+t),e.next=3,OC(this,t,n);case 3:return r=e.sent,e.abrupt("return",t===Gv.SVG?_C(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function _C(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function SC(){return(SC=Object(Rt.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OC(this,Gv.Canvas,t,n);case 2:return r=e.sent,e.abrupt("return",r.canvas());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function EC(){return(EC=Object(Rt.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OC(this,Gv.SVG,t);case 2:return n=e.sent,e.abrupt("return",n.svg());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var AC="width",CC="height",NC="padding",TC={skip:!0};function DC(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===NC?r.left+r.right:0)}function IC(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===NC?r.top+r.bottom:0)}function MC(e,t){return t.modified&&Object(Pt.x)(t.input.value)&&e.indexOf("_:vega:_")}function FC(e,t){return!("parent"===e||t instanceof Dn.proxy)}function RC(e,t,n,r){var a=e.element();a&&a.setAttribute("title",function(e){return null==e?"":Object(Pt.x)(e)?PC(e):Object(Pt.D)(e)&&!Object(Pt.z)(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(Object(Pt.x)(n)?PC(n):zC(n))})).join("\n")):e+"";var t}(r))}function PC(e){return"["+e.map(zC).join(", ")+"]"}function zC(e){return Object(Pt.x)(e)?"[\u2026]":Object(Pt.D)(e)&&!Object(Pt.z)(e)?"{\u2026}":e}function BC(e,t){var n=this;if(t=t||{},Cn.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){var r=Object(Pt.l)({},e.locale,t.locale);n.locale(Object(Bt.b)(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Gv.Canvas,n._scenegraph=new jp;var a=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||RC,n._redraw=!0,n._handler=(new Zp).scene(a),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(e){var t=Object(Pt.l)({defaults:{}},e),n=function(e,t){t.forEach((function(t){Object(Pt.x)(e[t])&&(e[t]=Object(Pt.ab)(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);var i=function(e,t,n){return WA(e,Dn,SA,n).parse(t)}(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map((function(e){return{state:null,param:Object(Pt.l)({},e)}})),i.root&&i.root.set(a),a.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(a.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=DC(n,n._width),n._viewHeight=IC(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(e){var t=e._signals,n=t.width,r=t.height,a=t.padding;function i(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=DC(e,t.size),i()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=IC(e,t.size),i()}),{size:r});var o=e.add(null,i,{pad:a});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=a.rank+1}(n),function(e){e.add(null,(function(t){return e._background=t.bg,e._resize=1,t.bg}),{bg:e._signals.background})}(n),function(e){var t=e._signals.cursor||(e._signals.cursor=e.add({user:qA,item:null}));e.on(e.events("view","mousemove"),t,(function(e,n){var r=t.value,a=r?Object(Pt.F)(r)?r:r.user:qA,i=n.item&&n.item.cursor||null;return r&&a===r.user&&i==r.item?r:{user:a,item:i}})),e.add(null,(function(t){var n=t.cursor,r=this.value;return Object(Pt.F)(n)||(r=n.item,n=n.user),XA(e,n&&n!==qA?n:r||n),r}),{cursor:t})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function LC(e,t){return Object(Pt.s)(e._signals,t)?e._signals[t]:Object(Pt.k)("Unrecognized signal name: "+Object(Pt.W)(t))}function UC(e,t){var n=(e._targets||[]).filter((function(e){return e._update&&e._update.handler===t}));return n.length?n[0]:null}function WC(e,t,n,r){var a=UC(n,r);return a||((a=bC(e,(function(){return r(t,n.value)}))).handler=r,e.on(n,null,a)),e}function VC(e,t,n){var r=UC(t,n);return r&&t._targets.remove(r),e}Object(Pt.v)(BC,Cn,{evaluate:function(e,t,n){var r=this;return Object(Rt.a)(O.a.mark((function a(){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Cn.prototype.evaluate.call(r,e,t);case 2:if(!r._redraw&&!r._resize){a.next=14;break}if(a.prev=3,!r._renderer){a.next=8;break}return r._resize&&(r._resize=0,QA(r)),a.next=8,r._renderer.renderAsync(r._scenegraph.root);case 8:r._redraw=!1,a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),r.error(a.t0);case 14:return n&&Ut(r,n),a.abrupt("return",r);case 16:case"end":return a.stop()}}),a,null,[[3,11]])})))()},dirty:function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description:function(e){if(arguments.length){var t=null!=e?e+"":null;return t!==this._desc&&GA(this._el,this._desc=t),this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},signal:function(e,t,n){var r=LC(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},width:function(e){return arguments.length?this.signal("width",e):this.signal("width")},height:function(e){return arguments.length?this.signal("height",e):this.signal("height")},padding:function(e){return arguments.length?this.signal("padding",wC(e)):wC(this.signal("padding"))},autosize:function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background:function(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer:function(e){return arguments.length?(Xv(e)||Object(Pt.k)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip:function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader:function(e){return arguments.length?(e!==this._loader&&(Cn.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize:function(){return this._autosize=1,this.touch(LC(this,"autosize"))},_resetRenderer:function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,r,a,i){this.runAfter((function(o){var u=0;o._autosize=0,o.width()!==n&&(u=1,o.signal(AC,n,TC),o._resizeWidth.skip(!0)),o.height()!==r&&(u=1,o.signal(CC,r,TC),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===a[0]&&o._origin[1]===a[1]||(o._resize=1,o._origin=a),u&&o.run("enter"),i&&o.runAfter((function(e){return e.resize()}))}),!1,1)},addEventListener:function(e,t,n){var r=t;return n&&!1===n.trap||((r=bC(this,t)).raw=t),this._handler.on(e,r),this},removeEventListener:function(e,t){for(var n,r,a=this._handler.handlers(e),i=a.length;--i>=0;)if(r=a[i].type,n=a[i].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},addResizeListener:function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener:function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener:function(e,t){return WC(this,e,LC(this,e),t)},removeSignalListener:function(e,t){return VC(this,LC(this,e),t)},addDataListener:function(e,t){return WC(this,e,YA(this,e).values,t)},removeDataListener:function(e,t){return VC(this,YA(this,e).values,t)},globalCursor:function(e){if(arguments.length){if(this._globalCursor!==!!e){var t=XA(this,null);this._globalCursor=!!e,t&&XA(this,t)}return this}return this._globalCursor},preventDefault:function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push(function(e,t,n){var r=new hO,a=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?fO():+n,r._restart((function i(o){o+=a,r._restart(i,a+=t,n),e(o)}),t,n)},r.restart(e,t,n),r)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},events:function(e,t,n){var r,a=this,i=new cn(n),o=function(n,r){a.runAsync(null,(function(){e===tC&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,a=n.allow;return!1!==r&&!0!==a&&(!0===r||!1===a||(r?r[t]:a?!a[t]:e.preventDefault()))}(a,t)&&n.preventDefault(),i.receive(eC(a,n,r))}))};if("timer"===e)aC(a,"timer",t)&&a.timer(o,t);else if(e===tC)aC(a,"view",t)&&a.addEventListener(t,o,nC);else if("window"===e?aC(a,"window",t)&&"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&aC(a,"selector",t)&&(r=document.querySelectorAll(e)),r){for(var u=0,s=r.length;u<s;++u)r[u].addEventListener(t,o);rC(a,r,t,o)}else a.warn("Can not resolve event source: "+e);return i},finalize:function(){var e,t,n,r=this._tooltip,a=this._timers,i=this._eventListeners;for(e=a.length;--e>=0;)a[e].stop();for(e=i.length;--e>=0;)for(t=(n=i[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",iC),oC,uC(e)),this.on(this.events("view","mouseout",iC),oC,uC(t)),this},data:function(e,t){return arguments.length<2?YA(this,e).values.value:KA.call(this,e,en().remove(Pt.db).insert(t))},change:KA,insert:function(e,t){return KA.call(this,e,en().insert(t))},remove:function(e,t){return KA.call(this,e,en().remove(t))},scale:function(e){var t=this._runtime.scales;return Object(Pt.s)(t,e)||Object(Pt.k)("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){var n=this,r=n._renderType,a=n._eventConfig.bind,i=Xv(r);e=n._el=e?yC(n,e,!0):null,function(e){var t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),GA(t,e.description()))}(n),i||n.error("Unrecognized renderer type: "+r);var o=i.handler||Zp,u=e?i.renderer:i.headless;return n._renderer=u?gC(n,n._renderer,e,u):null,n._handler=function(e,t,n,r){var a=new r(e.loader(),bC(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,JA(e),e);return t&&t.handlers().forEach((function(e){a.on(e.type,e.handler)})),a}(n,n._handler,e,o),n._redraw=!0,e&&"none"!==a&&(t=t?n._elBind=yC(n,t,!0):e.appendChild(sC("form",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==a&&(e.element=yC(n,e.param.element,!!e.param.input))})),n._bind.forEach((function(e){!function(e,t,n){if(t){var r=n.param,a=n.state;a||(a=n.state={elements:null,active:!1,set:null,update:function(t){t!=e.signal(r.signal)&&e.runAsync(null,(function(){a.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(a.update=Object(Pt.j)(r.debounce,a.update))),(null==r.input&&r.element?cC:lC)(a,t,r,e),a.active||(e.on(e._signals[r.signal],null,(function(){a.source?a.source=!1:a.set(e.signal(r.signal))})),a.active=!0)}}(n,e.element||t,e)}))),n},toImageURL:function(e,t){return jC.apply(this,arguments)},toCanvas:function(e,t){return SC.apply(this,arguments)},toSVG:function(e){return EC.apply(this,arguments)},getState:function(e){return this._runtime.getState(e||{data:MC,signals:FC,recurse:!0})},setState:function(e){return this.runAsync(null,(function(t){t._trigger=!1,t._runtime.setState(e)}),(function(e){e._trigger=!0})),this}});var HC,GC,qC="[",XC="]",YC=/[[\]{}]/,KC={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function $C(e,t,n,r,a){for(var i,o=e.length,u=0;t<o;++t){if(i=e[t],!u&&i===n)return t;a&&a.indexOf(i)>=0?--u:r&&r.indexOf(i)>=0&&++u}return t}function ZC(e){for(var t=[],n=e.length,r=0,a=0;a<n;)a=$C(e,a,",","[{","]}"),t.push(e.substring(r,a).trim()),r=++a;if(0===t.length)throw"Empty event selector: "+e;return t}function JC(e){return"["===e[0]?function(e){var t,n=e.length,r=1;if((r=$C(e,r,XC,qC,XC))===n)throw"Empty between selector: "+e;if(2!==(t=ZC(e.substring(1,r))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(r+1).trim())[0])throw"Expected '>' after between selector: "+e;t=t.map(JC);var a=JC(e.slice(1).trim());if(a.between)return{between:t,stream:a};a.between=t;return a}(e):function(e){var t,n,r={source:HC},a=[],i=[0,0],o=0,u=0,s=e.length,c=0;if("}"===e[s-1]){if(!((c=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{i=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!==n)throw e;return n}))}(e.substring(c+1,s-1))}catch(f){throw"Invalid throttle specification: "+e}s=(e=e.slice(0,c).trim()).length,c=0}if(!s)throw e;"@"===e[0]&&(o=++c);(t=$C(e,c,":"))<s&&(a.push(e.substring(u,t).trim()),u=c=++t);if((c=$C(e,c,qC))===s)a.push(e.substring(u,s).trim());else if(a.push(e.substring(u,c).trim()),n=[],(u=++c)===s)throw"Unmatched left bracket: "+e;for(;c<s;){if((c=$C(e,c,XC))===s)throw"Unmatched left bracket: "+e;if(n.push(e.substring(u,c).trim()),c<s-1&&e[++c]!==qC)throw"Expected left bracket: "+e;u=++c}if(!(s=a.length)||YC.test(a[s-1]))throw"Invalid event selector: "+e;s>1?(r.type=a[1],o?r.markname=a[0].slice(1):(l=a[0],GC[l]?r.marktype=a[0]:r.source=a[0])):r.type=a[0];var l;"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=n&&(r.filter=n);i[0]&&(r.throttle=i[0]);i[1]&&(r.debounce=i[1]);return r}(e)}function QC(e){return Object(Pt.D)(e)?e:{type:e||"pad"}}var eN=function(e){return+e||0};function tN(e){return Object(Pt.D)(e)?e.signal?e:{top:eN(e.top),bottom:eN(e.bottom),left:eN(e.left),right:eN(e.right)}:{top:t=eN(e),bottom:t,left:t,right:t};var t}var nN=function(e){return Object(Pt.D)(e)&&!Object(Pt.x)(e)?Object(Pt.l)({},e):{value:e}};function rN(e,t,n,r){return null!=n?(Object(Pt.D)(n)&&!Object(Pt.x)(n)||Object(Pt.x)(n)&&n.length&&Object(Pt.D)(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function aN(e,t,n){for(var r in t)rN(e,r,t[r]);for(var a in n)rN(e,a,n[a],"update")}function iN(e,t,n){for(var r in t)n&&Object(Pt.s)(n,r)||(e[r]=Object(Pt.l)(e[r]||{},t[r]));return e}function oN(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}var uN="mark",sN="frame",cN="scope",lN="legend-label",fN="title-text",dN="title-subtitle";function hN(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}var pN=function(e){return Object(Pt.F)(e)?Object(Pt.W)(e):e.signal?"(".concat(e.signal,")"):bN(e)};function vN(e){if(null!=e.gradient)return function(e){var t=[e.start,e.stop,e.count].map((function(e){return null==e?null:Object(Pt.W)(e)}));for(;t.length&&null==Object(Pt.S)(t);)t.pop();return t.unshift(pN(e.gradient)),"gradient(".concat(t.join(","),")")}(e);var t=e.signal?"(".concat(e.signal,")"):e.color?function(e){return e.c?mN("hcl",e.h,e.c,e.l):e.h||e.s?mN("hsl",e.h,e.s,e.l):e.l||e.a?mN("lab",e.l,e.a,e.b):e.r||e.g||e.b?mN("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?bN(e.field):void 0!==e.value?Object(Pt.W)(e.value):void 0;return null!=e.scale&&(t=function(e,t){var n=pN(e.scale);null!=e.range?t="lerp(_range(".concat(n,"), ").concat(+e.range,")"):(void 0!==t&&(t="_scale(".concat(n,", ").concat(t,")")),e.band&&(t=(t?t+"+":"")+"_bandwidth(".concat(n,")")+(1===+e.band?"":"*"+gN(e.band)),e.extra&&(t="(datum.extra ? _scale(".concat(n,", datum.extra.value) : ").concat(t,")"))),null==t&&(t="0"));return t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t="pow(".concat(t,",").concat(gN(e.exponent),")")),null!=e.mult&&(t+="*".concat(gN(e.mult))),null!=e.offset&&(t+="+".concat(gN(e.offset))),e.round&&(t="round(".concat(t,")")),t}var mN=function(e,t,n,r){return"(".concat(e,"(").concat([t,n,r].map(vN).join(","),")+'')")};function gN(e){return Object(Pt.D)(e)?"("+vN(e)+")":e}function bN(e){return yN(Object(Pt.D)(e)?e:{datum:e})}function yN(e){var t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Object(Pt.k)("Invalid field reference: "+Object(Pt.W)(e));return e.signal||(r=Object(Pt.F)(r)?Object(Pt.V)(r).map(Pt.W).join("]["):yN(r)),t+"["+r+"]"}function xN(e,t,n,r,a,i){var o={};for(var u in(i=i||{}).encoders={$encode:o},e=function(e,t,n,r,a){var i,o,u,s={},c={};for(o in o="lineBreak","text"!==t||null==a[o]||oN(o,e)||hN(s,o,a[o]),("legend"==n||String(n).startsWith("axis"))&&(n=null),u=n===sN?a.group:n===uN?Object(Pt.l)({},a.mark,a[t]):null)oN(o,e)||("fill"===o||"stroke"===o)&&(oN("fill",e)||oN("stroke",e))||hN(s,o,u[o]);for(o in Object(Pt.e)(r).forEach((function(t){var n=a.style&&a.style[t];for(var r in n)oN(r,e)||hN(s,r,n[r])})),e=Object(Pt.l)({},e),s)(u=s[o]).signal?(i=i||{})[o]=u:c[o]=u;return e.enter=Object(Pt.l)(c,e.enter),i&&(e.update=Object(Pt.l)(i,e.update)),e}(e,t,n,r,a.config),e)o[u]=wN(e[u],t,i,a);return i}function wN(e,t,n,r){var a,i={},o={};for(var u in e)null!=e[u]&&(i[u]=ON((a=e[u],Object(Pt.x)(a)?function(e){var t="";return e.forEach((function(e){var n=vN(e);t+=e.test?"(".concat(e.test,")?").concat(n,":"):n})),":"===Object(Pt.S)(t)&&(t+="null"),t}(a):vN(a)),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function ON(e,t,n,r){var a=IA(e,t);return a.$fields.forEach((function(e){return r[e]=1})),Object(Pt.l)(n,a.$params),a.$expr}var kN=["value","update","init","react","bind"];function jN(e,t){Object(Pt.k)(e+' for "outer" push: '+Object(Pt.W)(t))}function _N(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||jN("No prior signal definition",n),kN.forEach((function(t){void 0!==e[t]&&jN("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function SN(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function EN(e,t,n,r){return new SN(e,t,n,r)}function AN(e,t){return EN("operator",e,t)}function CN(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function NN(e,t){return t?{$field:e,$name:t}:{$field:e}}var TN=NN("key");function DN(e,t){return{$compare:e,$order:t}}function IN(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}var MN="scope",FN="view";function RN(e){return e&&e.signal}function PN(e){if(RN(e))return!0;if(Object(Pt.D)(e))for(var t in e)if(PN(e[t]))return!0;return!1}function zN(e,t){return null!=e?e:t}function BN(e){return e&&e.signal||e}var LN="timer";function UN(e,t){return(e.merge?WN:e.stream?VN:e.type?HN:Object(Pt.k)("Invalid stream specification: "+Object(Pt.W)(e)))(e,t)}function WN(e,t){var n=GN({merge:e.merge.map((function(e){return UN(e,t)}))},e,t);return t.addStream(n).id}function VN(e,t){var n=GN({stream:UN(e.stream,t)},e,t);return t.addStream(n).id}function HN(e,t){var n,r;e.type===LN?(n=t.event(LN,e.throttle),e={between:e.between,filter:e.filter}):n=t.event((r=e.source)===MN?FN:r||FN,e.type);var a=GN({stream:n},e,t);return 1===Object.keys(a).length?n:t.addStream(a).id}function GN(e,t,n){var r=t.between;return r&&(2!==r.length&&Object(Pt.k)('Stream "between" parameter must have 2 entries: '+Object(Pt.W)(t)),e.between=[UN(r[0],n),UN(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===MN&&r.push("inScope(event.item)"),r.length&&(e.filter=IA("("+r.join(")&&(")+")",n).$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}var qN={code:"_.$value",ast:{type:"Identifier",value:"value"}};function XN(e,t,n){var r,a,i,o=e.encode,u={target:n},s=e.events,c=e.update,l=[];s||Object(Pt.k)("Signal update missing events specification."),Object(Pt.F)(s)&&(r=s,a=t.isSubscope()?MN:FN,HC=a||"view",GC=i||KC,s=ZC(r.trim()).map(JC)),s=Object(Pt.e)(s).filter((function(e){return e.signal||e.scale?(l.push(e),0):1})),l.length>1&&(l=[YN(l)]),s.length&&l.push(s.length>1?{merge:s}:s[0]),null!=o&&(c&&Object(Pt.k)("Signal encode and update are mutually exclusive."),c="encode(item(),"+Object(Pt.W)(o)+")"),u.update=Object(Pt.F)(c)?IA(c,t):null!=c.expr?IA(c.expr,t):null!=c.value?c.value:null!=c.signal?{$expr:qN,$params:{$value:t.signalRef(c.signal)}}:Object(Pt.k)("Invalid signal update specification."),e.force&&(u.options={force:!0}),l.forEach((function(e){return t.addUpdate(Object(Pt.l)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):UN(e,t)}}(e,t),u))}))}function YN(e){return{signal:"["+e.map((function(e){return e.scale?'scale("'+e.scale+'")':e.signal}))+"]"}}var KN=function(e){return function(t,n,r){return EN(e,n,t||void 0,r)}},$N=KN("aggregate"),ZN=KN("axisticks"),JN=KN("bound"),QN=KN("collect"),eT=KN("compare"),tT=KN("datajoin"),nT=KN("encode"),rT=KN("expression"),aT=KN("facet"),iT=KN("field"),oT=KN("key"),uT=KN("legendentries"),sT=KN("load"),cT=KN("mark"),lT=KN("multiextent"),fT=KN("multivalues"),dT=KN("overlap"),hT=KN("params"),pT=KN("prefacet"),vT=KN("projection"),mT=KN("proxy"),gT=KN("relay"),bT=KN("render"),yT=KN("scale"),xT=KN("sieve"),wT=KN("sortitems"),OT=KN("viewlayout"),kT=KN("values"),jT=0,_T={min:"min",max:"max",count:"sum"};function ST(e,t){var n,r,a=t.getScale(e.name).params;for(n in a.domain=NT(e.domain,e,t),null!=e.range&&(a.range=zT(e,t,a)),null!=e.interpolate&&function(e,t){t.interpolate=ET(e.type||e),null!=e.gamma&&(t.interpolateGamma=ET(e.gamma))}(e.interpolate,a),null!=e.nice&&(a.nice=(r=e.nice,Object(Pt.D)(r)?{interval:ET(r.interval),step:ET(r.step)}:ET(r))),null!=e.bins&&(a.bins=function(e,t){return e.signal||Object(Pt.x)(e)?AT(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(Pt.s)(a,n)||"name"===n||(a[n]=ET(e[n],t))}function ET(e,t){return Object(Pt.D)(e)?e.signal?t.signalRef(e.signal):Object(Pt.k)("Unsupported object: "+Object(Pt.W)(e)):e}function AT(e,t){return e.signal?t.signalRef(e.signal):e.map((function(e){return ET(e,t)}))}function CT(e){Object(Pt.k)("Can not find data set: "+Object(Pt.W)(e))}function NT(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Object(Pt.x)(e)?TT:e.fields?IT:DT)(e,t,n);null==t.domainMin&&null==t.domainMax||Object(Pt.k)("No scale domain defined for domainMin/domainMax to override.")}function TT(e,t,n){return e.map((function(e){return ET(e,n)}))}function DT(e,t,n){var r=n.getData(e.data);return r||CT(e.data),Ul(t.type)?r.valuesRef(n,e.field,FT(e.sort,!1)):Gl(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function IT(e,t,n){var r=e.data,a=e.fields.reduce((function(e,t){return t=Object(Pt.F)(t)?{data:r,field:t}:Object(Pt.x)(t)||t.signal?function(e,t){var n="_:vega:_"+jT++,r=QN({});if(Object(Pt.x)(e))r.value={$ingest:e};else if(e.signal){var a="setdata("+Object(Pt.W)(n)+","+e.signal+")";r.params.input=t.signalRef(a)}return t.addDataPipeline(n,[r,xT({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(Ul(t.type)?MT:Gl(t.type)?RT:PT)(e,n,a)}function MT(e,t,n){var r,a,i=FT(e.sort,!0),o=n.map((function(e){var n=t.getData(e.data);return n||CT(e.data),n.countsRef(t,e.field,i)})),u={groupby:TN,pulse:o};i&&(r=i.op||"count",a=i.field?IN(r,i.field):"count",u.ops=[_T[r]],u.fields=[t.fieldRef(a)],u.as=[a]),r=t.add($N(u));var s=t.add(QN({pulse:CN(r)}));return a=t.add(kT({field:TN,sort:t.sortRef(i),pulse:CN(s)})),CN(a)}function FT(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!_T[e.op]&&Object(Pt.k)("Multiple domain scales can not be sorted using "+e.op):Object(Pt.k)("No field provided for sort aggregate op: "+e.op):Object(Pt.D)(e)?e.field="key":e={field:"key"}),e}function RT(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||CT(e.data),n.domainRef(t,e.field)}));return CN(t.add(fT({values:r})))}function PT(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||CT(e.data),n.extentRef(t,e.field)}));return CN(t.add(lT({extents:r})))}function zT(e,t,n){var r=t.config.range,a=e.range;if(a.signal)return t.signalRef(a.signal);if(Object(Pt.F)(a)){if(r&&Object(Pt.s)(r,a))return zT(e=Object(Pt.l)({},e,{range:r[a]}),t,n);"width"===a?a=[0,{signal:"width"}]:"height"===a?a=Ul(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(Pt.k)("Unrecognized scale range value: "+Object(Pt.W)(a))}else{if(a.scheme)return n.scheme=Object(Pt.x)(a.scheme)?AT(a.scheme,t):ET(a.scheme,t),a.extent&&(n.schemeExtent=AT(a.extent,t)),void(a.count&&(n.schemeCount=ET(a.count,t)));if(a.step)return void(n.rangeStep=ET(a.step,t));if(Ul(e.type)&&!Object(Pt.x)(a))return NT(a,e,t);Object(Pt.x)(a)||Object(Pt.k)("Unsupported range type: "+Object(Pt.W)(a))}return a.map((function(e){return(Object(Pt.x)(e)?AT:ET)(e,t)}))}function BT(e,t,n){return Object(Pt.x)(e)?e.map((function(e){return BT(e,t,n)})):Object(Pt.D)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Object(Pt.k)("Unsupported parameter object: "+Object(Pt.W)(e)):e}var LT="top",UT="left",WT="right",VT="bottom",HT="center",GT="index",qT="label",XT="perc",YT="value",KT="guide-label",$T="guide-title",ZT="group-title",JT="group-subtitle",QT="symbol",eD="gradient",tD="discrete",nD="size",rD=[nD,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],aD={name:1,style:1,interactive:1},iD={value:0},oD={value:1},uD="group",sD="rect",cD="rule",lD="text";function fD(e){return e.type=uD,e.interactive=e.interactive||!1,e}function dD(e,t){var n=function(n,r){return zN(e[n],zN(t[n],r))};return n.isVertical=function(n){return"vertical"===zN(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection))},n.gradientLength=function(){return zN(e.gradientLength,t.gradientLength||t.gradientWidth)},n.gradientThickness=function(){return zN(e.gradientThickness,t.gradientThickness||t.gradientHeight)},n.entryColumns=function(){return zN(e.columns,zN(t.columns,+n.isVertical(!0)))},n}function hD(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function pD(e,t,n){return"item.anchor === '".concat("start","' ? ").concat(e," : item.anchor === '").concat("end","' ? ").concat(t," : ").concat(n)}var vD=pD(Object(Pt.W)(UT),Object(Pt.W)(WT),Object(Pt.W)(HT));function mD(e,t){return t?e?Object(Pt.D)(e)?Object.assign({},e,{offset:mD(e.offset,t)}):{value:e,offset:t}:t:e}function gD(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=iN(e.encode,t,aD)):e.interactive=!1,e}function bD(e,t,n,r){var a,i,o,u,s,c=dD(e,n),l=c.isVertical(),f=c.gradientThickness(),d=c.gradientLength();l?(i=[0,1],o=[0,0],u=f,s=d):(i=[0,0],o=[1,0],u=d,s=f);var h={enter:a={opacity:iD,x:iD,y:iD,width:nN(u),height:nN(s)},update:Object(Pt.l)({},a,{opacity:oD,fill:{gradient:t,start:i,stop:o}}),exit:{opacity:iD}};return aN(h,{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),gD({type:sD,role:"legend-gradient",encode:h},r)}function yD(e,t,n,r,a){var i,o,u,s,c=dD(e,n),l=c.isVertical(),f=c.gradientThickness(),d=c.gradientLength(),h="";l?(i="y",u="y2",o="x",s="width",h="1-"):(i="x",u="x2",o="y",s="height");var p={opacity:iD,fill:{scale:t,field:YT}};p[i]={signal:h+"datum."+XT,mult:d},p[o]=iD,p[u]={signal:h+"datum.perc2",mult:d},p[s]=nN(f);var v={enter:p,update:Object(Pt.l)({},p,{opacity:oD}),exit:{opacity:iD}};return aN(v,{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),gD({type:sD,role:"legend-band",key:YT,from:a,encode:v},r)}var xD="datum.".concat(XT,'<=0?"').concat(UT,'":datum.').concat(XT,'>=1?"').concat(WT,'":"').concat(HT,'"'),wD="datum.".concat(XT,'<=0?"').concat(VT,'":datum.').concat(XT,'>=1?"').concat(LT,'":"').concat("middle",'"');function OD(e,t,n,r){var a,i,o,u,s=dD(e,t),c=s.isVertical(),l=nN(s.gradientThickness()),f=s.gradientLength(),d=s("labelOverlap"),h="",p={enter:a={opacity:iD},update:i={opacity:oD,text:{field:qT}},exit:{opacity:iD}};return aN(p,{fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:zN(e.labelLimit,t.gradientLabelLimit)}),c?(a.align={value:"left"},a.baseline=i.baseline={signal:wD},o="y",u="x",h="1-"):(a.align=i.align={signal:xD},a.baseline={value:"top"},o="x",u="y"),a[o]=i[o]={signal:h+"datum."+XT,mult:f},a[u]=i[u]=l,l.offset=zN(e.labelOffset,t.gradientLabelOffset)||0,d=d?{separation:s("labelSeparation"),method:d,order:"datum.index"}:void 0,gD({type:lD,role:lN,style:KT,key:YT,from:r,encode:p,overlap:d},n)}function kD(e,t,n,r,a){var i,o,u,s,c,l=dD(e,t),f=n.entries,d=!(!f||!f.interactive),h=f?f.name:void 0,p=l("clipHeight"),v=l("symbolOffset"),m={data:"value"},g="(".concat(a,") ? datum.").concat("offset"," : datum.").concat(nD),b=p?nN(p):{field:nD},y="datum.".concat(GT),x="max(1, ".concat(a,")");b.mult=.5,i={enter:o={opacity:iD,x:{signal:g,mult:.5,offset:v},y:b},update:u={opacity:oD,x:o.x,y:o.y},exit:{opacity:iD}};var w=null,O=null;e.fill||(w=t.symbolBaseFillColor,O=t.symbolBaseStrokeColor),aN(i,{fill:l("symbolFillColor",w),shape:l("symbolType"),size:l("symbolSize"),stroke:l("symbolStrokeColor",O),strokeDash:l("symbolDash"),strokeDashOffset:l("symbolDashOffset"),strokeWidth:l("symbolStrokeWidth")},{opacity:l("symbolOpacity")}),rD.forEach((function(t){e[t]&&(u[t]=o[t]={scale:e[t],field:YT})}));var k=gD({type:"symbol",role:"legend-symbol",key:YT,from:m,clip:!!p||void 0,encode:i},n.symbols),j=nN(v);j.offset=l("labelOffset"),aN(i={enter:o={opacity:iD,x:{signal:g,offset:j},y:b},update:u={opacity:oD,text:{field:qT},x:o.x,y:o.y},exit:{opacity:iD}},{align:l("labelAlign"),baseline:l("labelBaseline"),fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:l("labelLimit")});var _=gD({type:lD,role:lN,style:KT,key:YT,from:m,encode:i},n.labels);return i={enter:{noBound:{value:!p},width:iD,height:p?nN(p):iD,opacity:iD},exit:{opacity:iD},update:u={opacity:oD,row:{signal:null},column:{signal:null}}},l.isVertical(!0)?(s="ceil(item.mark.items.length / ".concat(x,")"),u.row.signal="".concat(y,"%").concat(s),u.column.signal="floor(".concat(y," / ").concat(s,")"),c={field:["row",y]}):(u.row.signal="floor(".concat(y," / ").concat(x,")"),u.column.signal="".concat(y," % ").concat(x),c={field:y}),u.column.signal="(".concat(a,")?").concat(u.column.signal,":").concat(y),fD({role:cN,from:r={facet:{data:r,name:"value",groupby:GT}},encode:iN(i,f,aD),marks:[k,_],name:h,interactive:d,sort:c})}var jD='item.orient === "left"',_D='item.orient === "right"',SD="(".concat(jD," || ").concat(_D,")"),ED="datum.vgrad && ".concat(SD),AD=pD('"top"','"bottom"','"middle"'),CD=pD('"right"','"left"','"center"'),ND="datum.vgrad && ".concat(_D," ? (").concat(CD,") : (").concat(SD," && !(datum.vgrad && ").concat(jD,')) ? "left" : ').concat(vD),TD="item._anchor || (".concat(SD,' ? "middle" : "start")'),DD="".concat(ED," ? (").concat(jD," ? -90 : 90) : 0"),ID="".concat(SD," ? (datum.vgrad ? (").concat(_D,' ? "bottom" : "top") : ').concat(AD,') : "top"');function MD(e,t){var n;return Object(Pt.D)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+FD(e.path)+")":e.sphere&&(n="geoShape("+FD(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function FD(e){return Object(Pt.D)(e)&&e.signal?e.signal:Object(Pt.W)(e)}function RD(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===uD?cN:t||uN:t}function PD(e){return{marktype:e.type,name:e.name||void 0,role:e.role||RD(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function zD(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function BD(e,t){var n=In(e.type);n||Object(Pt.k)("Unrecognized transform type: "+Object(Pt.W)(e.type));var r=EN(n.type.toLowerCase(),null,LD(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function LD(e,t,n){for(var r={},a=e.params.length,i=0;i<a;++i){var o=e.params[i];r[o.name]=UD(o,t,n)}return r}function UD(e,t,n){var r=e.type,a=t[e.name];return"index"===r?function(e,t,n){Object(Pt.F)(t.from)||Object(Pt.k)('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==a?"param"===r?function(e,t,n){var r=t[e.name];return e.array?(Object(Pt.x)(r)||Object(Pt.k)("Expected an array of sub-parameters. Instead: "+Object(Pt.W)(r)),r.map((function(t){return VD(e,t,n)}))):VD(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!RN(a)?a.map((function(t){return WD(e,t,n)})):WD(e,a,n):void(e.required&&Object(Pt.k)("Missing required "+Object(Pt.W)(t.type)+" parameter: "+Object(Pt.W)(e.name)))}function WD(e,t,n){var r=e.type;if(RN(t))return XD(r)?Object(Pt.k)("Expression references can not be signals."):YD(r)?n.fieldRef(t):KD(r)?n.compareRef(t):n.signalRef(t.signal);var a=e.expr||YD(r);return a&&HD(t)?n.exprRef(t.expr,t.as):a&&GD(t)?NN(t.field,t.as):XD(r)?IA(t,n):qD(r)?CN(n.getData(t).values):YD(r)?NN(t):KD(r)?n.compareRef(t):t}function VD(e,t,n){for(var r,a=e.params.length,i=0;i<a;++i){for(var o in(r=e.params[i]).key)if(r.key[o]!==t[o]){r=null;break}if(r)break}r||Object(Pt.k)("Unsupported parameter: "+Object(Pt.W)(t));var u=Object(Pt.l)(LD(r,t,n),r.key);return CN(n.add(hT(u)))}var HD=function(e){return e&&e.expr},GD=function(e){return e&&e.field},qD=function(e){return"data"===e},XD=function(e){return"expr"===e},YD=function(e){return"field"===e},KD=function(e){return"compare"===e};function $D(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:CN(t.getData(e.data).output)}function ZD(e,t,n,r,a){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=a,this.index={}}function JD(e){return Object(Pt.F)(e)?e:null}function QD(e,t,n){var r,a=IN(n.op,n.field);if(t.ops){for(var i=0,o=t.as.length;i<o;++i)if(t.as[i]===a)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(a))}function eI(e,t,n,r,a,i,o){var u,s,c=t[n]||(t[n]={}),l=function(e){return Object(Pt.D)(e)?("descending"===e.order?"-":"+")+IN(e.op,e.field):""}(i),f=JD(a);if(null!=f&&(e=t.scope,u=c[f+=l?"|"+l:""]),!u){var d=i?{field:TN,pulse:t.countsRef(e,a,i)}:{field:e.fieldRef(a),pulse:CN(t.output)};l&&(d.sort=e.sortRef(i)),s=e.add(EN(r,void 0,d)),o&&(t.index[a]=s),u=CN(s),null!=f&&(c[f]=u)}return u}function tI(e,t,n){var r=e.remove,a=e.insert,i=e.toggle,o=e.modify,u=e.values,s=t.add(AN()),c=IA("if("+e.trigger+',modify("'+n+'",'+[a,r,i,o,u].map((function(e){return null==e?"null":e})).join(",")+"),0)",t);s.update=c.$expr,s.params=c.$params}function nI(e,t){var n,r,a,i,o,u,s,c=RD(e),l=e.type===uD,f=e.from&&e.from.facet,d=e.overlap,h=e.layout||c===cN||c===sN,p=c===uN||h||f,v=function(e,t,n){var r,a,i,o,u;return e?(r=e.facet)&&(t||Object(Pt.k)("Only group marks can be faceted."),null!=r.field?o=u=$D(r,n):(e.data?u=CN(n.getData(e.data).aggregate):((i=BD(Object(Pt.l)({type:"aggregate",groupby:Object(Pt.e)(r.groupby)},r.aggregate),n)).params.key=n.keyRef(r.groupby),i.params.pulse=$D(r,n),o=u=CN(n.add(i))),a=n.keyRef(r.groupby,!0))):o=CN(n.add(QN(null,[{}]))),o||(o=$D(e,n)),{key:a,pulse:o,parent:u}}(e.from,l,t),m=CN(r=t.add(tT({key:v.key||(e.key?NN(e.key):void 0),pulse:v.pulse,clean:!l})));r=a=t.add(QN({pulse:m})),r=t.add(cT({markdef:PD(e),interactive:zD(e.interactive,t),clip:MD(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:CN(r)}));var g=CN(r);(r=i=t.add(nT(xN(e.encode,e.type,c,e.style,t,{mod:!1,pulse:g})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){var n=BD(e,t),a=n.metadata;(a.generates||a.changes)&&Object(Pt.k)("Mark transforms should not generate new data."),a.nomod||(i.params.mod=!0),n.params.pulse=CN(r),t.add(r=n)})),e.sort&&(r=t.add(wT({sort:t.compareRef(e.sort),pulse:CN(r)})));var b=CN(r);(f||h)&&(u=CN(h=t.add(OT({layout:t.objectProperty(e.layout),legends:t.legends,mark:g,pulse:b}))));var y=t.add(JN({mark:g,pulse:u||b}));s=CN(y),l&&(p&&((n=t.operators).pop(),h&&n.pop()),t.pushState(b,u||s,m),f?function(e,t,n){var r,a=e.from.facet,i=a.name,o=$D(a,t);a.name||Object(Pt.k)("Facet must have a name: "+Object(Pt.W)(a)),a.data||Object(Pt.k)("Facet must reference a data set: "+Object(Pt.W)(a)),a.field?r=t.add(pT({field:t.fieldRef(a.field),pulse:o})):a.groupby?r=t.add(aT({key:t.keyRef(a.groupby),group:CN(t.proxy(n.parent)),pulse:o})):Object(Pt.k)("Facet must specify groupby or field: "+Object(Pt.W)(a));var u=t.fork(),s=u.add(QN()),c=u.add(xT({pulse:CN(s)}));u.addData(i,new ZD(u,s,s,c)),u.addSignal("parent",null),r.params.subflow={$subflow:u.parse(e).toRuntime()}}(e,t,v):p?function(e,t,n){var r=t.add(pT({pulse:n.pulse})),a=t.fork();a.add(xT()),a.addSignal("parent",null),r.params.subflow={$subflow:a.parse(e).toRuntime()}}(e,t,v):t.parse(e),t.popState(),p&&(h&&n.push(h),n.push(y))),d&&(s=function(e,t,n){var r=e.method,a=e.bound,i=e.separation,o={separation:RN(i)?n.signalRef(i.signal):i,method:RN(r)?n.signalRef(r.signal):r,pulse:t};e.order&&(o.sort=n.compareRef({field:e.order}));if(a){var u=a.tolerance;o.boundTolerance=RN(u)?n.signalRef(u.signal):+u,o.boundScale=n.scaleRef(a.scale),o.boundOrient=a.orient}return CN(n.add(dT(o)))}(d,s,t));var x=t.add(bT({pulse:s})),w=t.add(xT({pulse:CN(x)},void 0,t.parent()));null!=e.name&&(o=e.name,t.addData(o,new ZD(t,a,x,w)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&Object(Pt.k)("Marks only support modify triggers."),tI(e,t,o)})))}function rI(e,t){var n,r,a,i=t.config.legend,o=e.encode||{},u=dD(e,i),s=o.legend||{},c=s.name||void 0,l=s.interactive,f=s.style,d={},h=0;rD.forEach((function(t){return e[t]?(d[t]=e[t],h=h||e[t]):0})),h||Object(Pt.k)("Missing valid scale for legend.");var p=function(e,t){var n=e.type||QT;e.type||1!==function(e){return rD.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=Ll(t)?eD:Wl(t)?tD:QT);return n!==eD?n:Wl(t)?tD:eD}(e,t.scaleType(h)),v={title:null!=e.title,scales:d,type:p,vgrad:"symbol"!==p&&u.isVertical()},m=CN(t.add(QN(null,[v]))),g=CN(t.add(uT(r={type:p,scale:t.scaleRef(h),count:t.objectProperty(u("tickCount")),limit:t.property(u("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===eD?(a=[bD(e,h,i,o.gradient),OD(e,i,o.labels,g)],r.count=r.count||t.signalRef("max(2,2*floor((".concat(BN(u.gradientLength()),")/100))"))):p===tD?a=[yD(e,h,i,o.gradient,g),OD(e,i,o.labels,g)]:(n=function(e,t){var n=dD(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,i),a=[kD(e,i,o,g,BN(n.columns))],r.size=function(e,t,n){var r=BN(iI("size",e,n)),a=BN(iI("strokeWidth",e,n)),i=BN(function(e,t,n){return hD("fontSize",e)||function(e,t,n){var r=t.config.style[n];return r&&r[e]}("fontSize",t,n)}(n[1].encode,t,KT));return IA("max(ceil(sqrt(".concat(r,")+").concat(a,"),").concat(i,")"),t)}(e,t,a[0].marks)),a=[fD({role:"legend-entry",from:m,encode:{enter:{x:{value:0},y:{value:0}}},marks:a,layout:n,interactive:l})],v.title&&a.push(function(e,t,n,r){var a=dD(e,t),i={enter:{opacity:iD},update:{opacity:oD,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:iD}};return aN(i,{orient:a("titleOrient"),_anchor:a("titleAnchor"),anchor:{signal:TD},angle:{signal:DD},align:{signal:ND},baseline:{signal:ID},text:e.title,fill:a("titleColor"),fillOpacity:a("titleOpacity"),font:a("titleFont"),fontSize:a("titleFontSize"),fontStyle:a("titleFontStyle"),fontWeight:a("titleFontWeight"),limit:a("titleLimit"),lineHeight:a("titleLineHeight")},{align:a("titleAlign"),baseline:a("titleBaseline")}),gD({type:lD,role:"legend-title",style:$T,from:r,encode:i},n)}(e,i,o.title,m)),nI(fD({role:"legend",from:m,encode:iN(aI(u,e,i),s,aD),marks:a,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:c,interactive:l,style:f}),t)}function aI(e,t,n){var r={enter:{},update:{}};return aN(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function iI(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):hD(e,n[0].encode)}ZD.fromEntries=function(e,t){var n=t.length,r=t[n-1],a=t[n-2],i=t[0],o=null,u=1;for(i&&"load"===i.type&&(i=t[1]),e.add(t[0]);u<n;++u)t[u].params.pulse=CN(t[u-1]),e.add(t[u]),"aggregate"===t[u].type&&(o=t[u]);return new ZD(e,i,a,r,o)},ZD.prototype={countsRef:function(e,t,n){var r,a,i,o=this,u=o.counts||(o.counts={}),s=JD(t);return null!=s&&(e=o.scope,r=u[s]),r?n&&n.field&&QD(e,r.agg.params,n):(i={groupby:e.fieldRef(t,"key"),pulse:CN(o.output)},n&&n.field&&QD(e,i,n),a=e.add($N(i)),r=e.add(QN({pulse:CN(a)})),r={agg:a,ref:CN(r)},null!=s&&(u[s]=r)),r.ref},tuplesRef:function(){return CN(this.values)},extentRef:function(e,t){return eI(e,this,"extent","extent",t,!1)},domainRef:function(e,t){return eI(e,this,"domain","values",t,!1)},valuesRef:function(e,t,n){return eI(e,this,"vals","values",t,n||!0)},lookupRef:function(e,t){return eI(e,this,"lookup","tupleindex",t,!1)},indataRef:function(e,t){return eI(e,this,"indata","tupleindex",t,!0,!0)}};var oI='item.orient==="'.concat(UT,'"?-90:item.orient==="').concat(WT,'"?90:0');function uI(e,t){var n=dD(e=Object(Pt.F)(e)?{text:e}:e,t.config.title),r=e.encode||{},a=r.group||{},i=a.name||void 0,o=a.interactive,u=a.style,s=[],c=CN(t.add(QN(null,[{}])));return s.push(function(e,t,n,r){var a={value:0},i=e.text,o={enter:{opacity:a},update:{opacity:{value:1}},exit:{opacity:a}};return aN(o,{text:i,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),gD({type:lD,role:fN,style:ZT,from:r,encode:o},n)}(e,n,function(e){var t=e.encode;return t&&t.title||Object(Pt.l)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),c)),e.subtitle&&s.push(function(e,t,n,r){var a={value:0},i=e.subtitle,o={enter:{opacity:a},update:{opacity:{value:1}},exit:{opacity:a}};return aN(o,{text:i,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),gD({type:lD,role:dN,style:JT,from:r,encode:o},n)}(e,n,r.subtitle,c)),nI(fD({role:"title",from:c,encode:sI(n,a),marks:s,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:i,interactive:o,style:u}),t)}function sI(e,t){var n={enter:{},update:{}};return aN(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:vD},angle:{signal:oI},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),iN(n,t,aD)}function cI(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(BD(e,t))})),e.on&&e.on.forEach((function(n){tI(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var r,a,i,o,u,s=[],c=null,l=!1,f=!1;e.values?RN(e.values)||PN(e.format)?(s.push(fI(t,e)),s.push(c=lI())):s.push(c=lI({$ingest:e.values,$format:e.format})):e.url?PN(e.url)||PN(e.format)?(s.push(fI(t,e)),s.push(c=lI())):s.push(c=lI({$request:e.url,$format:e.format})):e.source&&(c=r=Object(Pt.e)(e.source).map((function(e){return CN(t.getData(e).output)})),s.push(null));for(a=0,i=n.length;a<i;++a)u=(o=n[a]).metadata,c||u.source||s.push(c=lI()),s.push(o),u.generates&&(f=!0),u.modifies&&!f&&(l=!0),u.source?c=o:u.changes&&(c=null);r&&(i=r.length-1,s[0]=gT({derive:l,pulse:i?r:r[0]}),(l||i)&&s.splice(1,0,lI()));c||s.push(lI());return s.push(xT({})),s}(e,t,n))}function lI(e){var t=QN({},e);return t.metadata={source:!0},t}function fI(e,t){return sT({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}var dI=function(e){return e===VT||e===LT},hI=function(e,t,n){return RN(e)?yI(e.signal,t,n):e===UT||e===LT?t:n},pI=function(e,t,n){return RN(e)?gI(e.signal,t,n):dI(e)?t:n},vI=function(e,t,n){return RN(e)?bI(e.signal,t,n):dI(e)?n:t},mI=function(e,t,n){return RN(e)?xI(e.signal,t,n):e===LT?{value:t}:{value:n}},gI=function(e,t,n){return OI("".concat(e," === '").concat(LT,"' || ").concat(e," === '").concat(VT,"'"),t,n)},bI=function(e,t,n){return OI("".concat(e," !== '").concat(LT,"' && ").concat(e," !== '").concat(VT,"'"),t,n)},yI=function(e,t,n){return jI("".concat(e," === '").concat(UT,"' || ").concat(e," === '").concat(LT,"'"),t,n)},xI=function(e,t,n){return jI("".concat(e," === '").concat(LT,"'"),t,n)},wI=function(e,t,n){return jI("".concat(e," === '").concat(WT,"'"),t,n)},OI=function(e,t,n){return t=null!=t?nN(t):t,n=null!=n?nN(n):n,kI(t)&&kI(n)?(t=t?t.signal||Object(Pt.W)(t.value):null,n=n?n.signal||Object(Pt.W)(n.value):null,{signal:"".concat(e," ? (").concat(t,") : (").concat(n,")")}):[Object(Pt.l)({test:e},t)].concat(n||[])},kI=function(e){return null==e||1===Object.keys(e).length},jI=function(e,t,n){return{signal:"".concat(e," ? (").concat(_I(t),") : (").concat(_I(n),")")}},_I=function(e){return RN(e)?e.signal:null==e?null:Object(Pt.W)(e)},SI=function(e,t){var n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function EI(e,t,n,r){var a;if(t&&Object(Pt.s)(t,e))return t[e];if(Object(Pt.s)(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":a="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":a=e[5].toLowerCase()+e.slice(6)}return r["guide-title"][a]}if(e.startsWith("label")){switch(e){case"labelColor":a="fill";break;case"labelFont":case"labelFontSize":a=e[5].toLowerCase()+e.slice(6)}return r["guide-label"][a]}return null}function AI(e){var t,n={},r=Object(Fn.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a)for(var i in a)n[i]=1}}catch(o){r.e(o)}finally{r.f()}return Object.keys(n)}function CI(e,t){return{scale:e.scale,range:t}}function NI(e,t,n,r,a){var i,o,u,s=dD(e,t),c=e.orient,l=e.gridScale,f=hI(c,1,-1),d=function(e,t){if(1===t);else if(Object(Pt.D)(e)){for(var n=e=Object(Pt.l)({},e);null!=n.mult;){if(!Object(Pt.D)(n.mult))return n.mult=RN(t)?{signal:"(".concat(n.mult,") * (").concat(t.signal,")")}:n.mult*t,e;n=n.mult=Object(Pt.l)({},n.mult)}n.mult=t}else e=RN(t)?{signal:"(".concat(t.signal,") * (").concat(e||0,")")}:t*(e||0);return e}(e.offset,f),h={enter:i={opacity:iD},update:u={opacity:oD},exit:o={opacity:iD}};aN(h,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});var p={scale:e.scale,field:YT,band:a.band,extra:a.extra,offset:a.offset,round:s("tickRound")},v=pI(c,{signal:"height"},{signal:"width"}),m=l?{scale:l,range:0,mult:f,offset:d}:{value:0,offset:d},g=l?{scale:l,range:1,mult:f,offset:d}:Object(Pt.l)(v,{mult:f,offset:d});return i.x=u.x=pI(c,p,m),i.y=u.y=vI(c,p,m),i.x2=u.x2=vI(c,g),i.y2=u.y2=pI(c,g),o.x=pI(c,p),o.y=vI(c,p),gD({type:cD,role:"axis-grid",key:YT,from:r,encode:h},n)}function TI(e,t,n,r,a){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+a+")"}}function DI(e,t,n,r,a,i){var o,u=dD(e,t),s=e.orient,c=e.scale,l=hI(s,-1,1),f=BN(u("labelFlush")),d=BN(u("labelFlushOffset")),h=u("labelAlign"),p=u("labelBaseline"),v=0===f||!!f,m=nN(a);m.mult=l,m.offset=nN(u("labelPadding")||0),m.offset.mult=l;var g={scale:c,field:YT,band:.5,offset:mD(i.offset,u("labelOffset"))},b=pI(s,v?TI(c,f,'"left"','"right"','"center"'):{value:"center"},function(e,t,n){return RN(e)?wI(e.signal,t,n):e===WT?{value:t}:{value:n}}(s,"left","right")),y=pI(s,mI(s,"bottom","top"),v?TI(c,f,'"top"','"bottom"','"middle"'):{value:"middle"}),x=TI(c,f,"-(".concat(d,")"),d,0);v=v&&d;var w={opacity:iD,x:pI(s,g,m),y:vI(s,g,m)},O={enter:w,update:o={opacity:oD,text:{field:qT},x:w.x,y:w.y,align:b,baseline:y},exit:{opacity:iD,x:w.x,y:w.y}};aN(O,{dx:!h&&v?pI(s,x):null,dy:!p&&v?vI(s,x):null}),aN(O,{angle:u("labelAngle"),fill:u("labelColor"),fillOpacity:u("labelOpacity"),font:u("labelFont"),fontSize:u("labelFontSize"),fontWeight:u("labelFontWeight"),fontStyle:u("labelFontStyle"),limit:u("labelLimit"),lineHeight:u("labelLineHeight")},{align:h,baseline:p});var k=u("labelBound"),j=u("labelOverlap");return j=j||k?{separation:u("labelSeparation"),method:j,order:"datum.index",bound:k?{scale:c,orient:s,tolerance:k}:null}:void 0,o.align!==b&&(o.align=SI(o.align,b)),o.baseline!==y&&(o.baseline=SI(o.baseline,y)),gD({type:lD,role:"axis-label",style:KT,key:YT,from:r,encode:O,overlap:j},n)}function II(e,t,n,r){var a,i,o=dD(e,t),u=e.orient,s=hI(u,-1,1),c={enter:a={opacity:iD,anchor:nN(o("titleAnchor",null)),align:{signal:vD}},update:i=Object(Pt.l)({},a,{opacity:oD,text:nN(e.title)}),exit:{opacity:iD}},l={signal:'lerp(range("'.concat(e.scale,'"), ').concat(pD(0,1,.5),")")};return i.x=pI(u,l),i.y=vI(u,l),a.angle=pI(u,iD,function(e,t){return 0===t?0:RN(e)?{signal:"(".concat(e.signal,") * ").concat(t)}:{value:e*t}}(s,90)),a.baseline=pI(u,mI(u,VT,LT),{value:VT}),i.angle=a.angle,i.baseline=a.baseline,aN(c,{fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),angle:o("titleAngle"),baseline:o("titleBaseline")}),function(e,t,n,r){var a=function(e,t){return null!=e?(n.update[t]=SI(nN(e),n.update[t]),!1):!oN(t,r)},i=a(e("titleX"),"x"),o=a(e("titleY"),"y");n.enter.auto=o===i?nN(o):pI(t,nN(o),nN(i))}(o,u,c,n),c.update.align=SI(c.update.align,a.align),c.update.angle=SI(c.update.angle,a.angle),c.update.baseline=SI(c.update.baseline,a.baseline),gD({type:lD,role:"axis-title",style:$T,from:r,encode:c},n)}function MI(e,t){var n,r=function(e,t){var n,r,a,i,o,u,s,c,l=t.config,f=l.style,d=l.axis,h="band"===t.scaleType(e.scale)&&l.axisBand,p=e.orient;if(RN(p)){var v=AI([l.axisX,l.axisY]),m=AI([l.axisTop,l.axisBottom,l.axisLeft,l.axisRight]);n={};var g,b=Object(Fn.a)(v);try{for(b.s();!(g=b.n()).done;)n[a=g.value]=pI(p,EI(a,l.axisX,d,f),EI(a,l.axisY,d,f))}catch(w){b.e(w)}finally{b.f()}r={};var y,x=Object(Fn.a)(m);try{for(x.s();!(y=x.n()).done;)r[a=y.value]=(i=p.signal,o=EI(a,l.axisTop,d,f),u=EI(a,l.axisBottom,d,f),s=EI(a,l.axisLeft,d,f),c=EI(a,l.axisRight,d,f),{signal:(null!=s?"".concat(i," === '").concat(UT,"' ? (").concat(_I(s),") : "):"")+(null!=u?"".concat(i," === '").concat(VT,"' ? (").concat(_I(u),") : "):"")+(null!=c?"".concat(i," === '").concat(WT,"' ? (").concat(_I(c),") : "):"")+(null!=o?"".concat(i," === '").concat(LT,"' ? (").concat(_I(o),") : "):"")+"(null)"})}catch(w){x.e(w)}finally{x.f()}}else n=p===LT||p===VT?l.axisX:l.axisY,r=l["axis"+p[0].toUpperCase()+p.slice(1)];return n||r||h?Object(Pt.l)({},d,n,r,h):d}(e,t),a=e.encode||{},i=a.axis||{},o=i.name||void 0,u=i.interactive,s=i.style,c=dD(e,r),l=function(e){var t,n,r=e("tickBand"),a=e("tickOffset");return r?r.signal?(t={signal:"(".concat(r.signal,") === 'extent' ? 1 : 0.5")},n={signal:"(".concat(r.signal,") === 'extent'")},Object(Pt.D)(a)||(a={signal:"(".concat(r.signal,") === 'extent' ? 0 : ").concat(a)})):"extent"===r?(t=1,n=!0,a=0):(t=.5,n=!1):(t=e("bandPosition"),n=e("tickExtra")),{extra:n,band:t,offset:a}}(c),f={scale:e.scale,ticks:!!c("ticks"),labels:!!c("labels"),grid:!!c("grid"),domain:!!c("domain"),title:null!=e.title},d=CN(t.add(QN({},[f]))),h=CN(t.add(ZN({scale:t.scaleRef(e.scale),extra:t.property(l.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),p=[];return f.grid&&p.push(NI(e,r,a.grid,h,l)),f.ticks&&(n=c("tickSize"),p.push(function(e,t,n,r,a,i){var o,u,s,c=dD(e,t),l=e.orient,f=hI(l,-1,1),d={enter:o={opacity:iD},update:s={opacity:oD},exit:u={opacity:iD}};aN(d,{stroke:c("tickColor"),strokeCap:c("tickCap"),strokeDash:c("tickDash"),strokeDashOffset:c("tickDashOffset"),strokeOpacity:c("tickOpacity"),strokeWidth:c("tickWidth")});var h=nN(a);h.mult=f;var p={scale:e.scale,field:YT,band:i.band,extra:i.extra,offset:i.offset,round:c("tickRound")};return s.y=o.y=pI(l,iD,p),s.y2=o.y2=pI(l,h),u.x=pI(l,p),s.x=o.x=vI(l,iD,p),s.x2=o.x2=vI(l,h),u.y=vI(l,p),gD({type:cD,role:"axis-tick",key:YT,from:r,encode:d},n)}(e,r,a.ticks,h,n,l))),f.labels&&(n=f.ticks?n:0,p.push(DI(e,r,a.labels,h,n,l))),f.domain&&p.push(function(e,t,n,r){var a,i,o=dD(e,t),u=e.orient,s={enter:a={opacity:iD},update:i={opacity:oD},exit:{opacity:iD}};aN(s,{stroke:o("domainColor"),strokeCap:o("domainCap"),strokeDash:o("domainDash"),strokeDashOffset:o("domainDashOffset"),strokeWidth:o("domainWidth"),strokeOpacity:o("domainOpacity")});var c=CI(e,0),l=CI(e,1);return a.x=i.x=pI(u,c,iD),a.x2=i.x2=pI(u,l),a.y=i.y=vI(u,c,iD),a.y2=i.y2=vI(u,l),gD({type:cD,role:"axis-domain",from:r,encode:s},n)}(e,r,a.domain,d)),f.title&&p.push(II(e,r,a.title,d)),nI(fD({role:"axis",from:d,encode:iN(FI(c,e),i,aD),marks:p,aria:c("aria"),description:c("description"),zindex:c("zindex"),name:o,interactive:u,style:s}),t)}function FI(e,t){var n={enter:{},update:{}};return aN(n,{orient:e("orient"),offset:e("offset")||0,position:zN(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:'abs(span(range("'.concat(t.scale,'")))')},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function RI(e,t,n){var r=Object(Pt.e)(e.signals),a=Object(Pt.e)(e.scales);return n||r.forEach((function(e){return _N(e,t)})),Object(Pt.e)(e.projections).forEach((function(e){return function(e,t){var n=t.config.projection||{},r={};for(var a in e)"name"!==a&&(r[a]=BT(e[a],a,t));for(var i in n)null==r[i]&&(r[i]=BT(n[i],i,t));t.addProjection(e.name,r)}(e,t)})),a.forEach((function(e){return function(e,t){var n=e.type||"linear";zl(n)||Object(Pt.k)("Unrecognized scale type: "+Object(Pt.W)(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t)})),Object(Pt.e)(e.data).forEach((function(e){return cI(e,t)})),a.forEach((function(e){return ST(e,t)})),(n||r).forEach((function(e){return function(e,t){var n=t.getSignal(e.name),r=e.update;e.init&&(r?Object(Pt.k)("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=IA(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach((function(e){return XN(e,t,n.id)}))}(e,t)})),Object(Pt.e)(e.axes).forEach((function(e){return MI(e,t)})),Object(Pt.e)(e.marks).forEach((function(e){return nI(e,t)})),Object(Pt.e)(e.legends).forEach((function(e){return rI(e,t)})),e.title&&uI(e.title,t),t.parseLambdas(),t}function PI(e,t){var n=t.config,r=CN(t.root=t.add(AN())),a=function(e,t){var n=function(n){return zN(e[n],t[n])},r=[zI("background",n("background")),zI("autosize",QC(n("autosize"))),zI("padding",tN(n("padding"))),zI("width",n("width")||0),zI("height",n("height")||0)],a=r.reduce((function(e,t){return e[t.name]=t,e}),{}),i={};return Object(Pt.e)(e.signals).forEach((function(e){Object(Pt.s)(a,e.name)?e=Object(Pt.l)(a[e.name],e):r.push(e),i[e.name]=e})),Object(Pt.e)(t.signals).forEach((function(e){Object(Pt.s)(i,e.name)||Object(Pt.s)(a,e.name)||r.push(e)})),r}(e,n);a.forEach((function(e){return _N(e,t)})),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;var i=t.add(QN()),o=t.add(nT(xN(function(e){return iN({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e)}(e.encode),uD,sN,e.style,t,{pulse:CN(i)}))),u=t.add(OT({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:CN(o)}));t.operators.pop(),t.pushState(CN(o),CN(u),null),RI(e,t,a),t.operators.push(u);var s=t.add(JN({mark:r,pulse:CN(u)}));return s=t.add(bT({pulse:CN(s)})),s=t.add(xT({pulse:CN(s)})),t.addData("root",new ZD(t,i,i,s)),t}function zI(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function BI(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function LI(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function UI(e){return(Object(Pt.x)(e)?WI:VI)(e)}function WI(e){for(var t=e.length,n="[",r=0;r<t;++r){var a=e[r];n+=(r>0?",":"")+(Object(Pt.D)(a)?a.signal||UI(a):Object(Pt.W)(a))}return n+"]"}function VI(e){var t,n,r="{",a=0;for(t in e)n=e[t],r+=(++a>1?",":"")+Object(Pt.W)(t)+":"+(Object(Pt.D)(n)?n.signal||UI(n):Object(Pt.W)(n));return r+"}"}function HI(e,t,n){return Object(Pt.D)(e)||Object(Pt.k)("Input Vega specification must be an object."),t=Object(Pt.L)(function(){var e="sans-serif",t="#4c78a8",n="#000",r="#888",a="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:t},area:{fill:t},image:null,line:{stroke:t,strokeWidth:2},path:{stroke:t},rect:{fill:t},rule:{stroke:n},shape:{stroke:t},symbol:{fill:t,size:64},text:{fill:n,font:e,fontSize:11},trail:{fill:t,size:2},style:{"guide-label":{fill:n,font:e,fontSize:10},"guide-title":{fill:n,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:n,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:n,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:a}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:r,grid:!1,gridWidth:1,gridColor:a,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:r,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:a,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:r,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),PI(e,new BI(t,n)).toRuntime()}function GI(e,t,n){return e.fields=t||[],e.fname=n,e}function qI(e){return 1===e.length?XI(e[0]):YI(e)}BI.prototype=LI.prototype={parse:function(e){return RI(e,this)},fork:function(){return new LI(this)},isSubscope:function(){return this._subid>0},toRuntime:function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id:function(){return(this._subid?this._subid+":":0)+this._id++},add:function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},proxy:function(e){var t=e instanceof SN?CN(e):e;return this.add(mT({value:t}))},addStream:function(e){return this.streams.push(e),e.id=this.id(),e},addUpdate:function(e){return this.updates.push(e),e},finish:function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},pushState:function(e,t,n){this._encode.push(CN(this.add(xT({pulse:e})))),this._parent.push(t),this._lookup.push(n?CN(this.proxy(n)):null),this._markpath.push(-1)},popState:function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent:function(){return Object(Pt.S)(this._parent)},encode:function(){return Object(Pt.S)(this._encode)},lookup:function(){return Object(Pt.S)(this._lookup)},markpath:function(){var e=this._markpath;return++e[e.length-1]},fieldRef:function(e,t){if(Object(Pt.F)(e))return NN(e,t);e.signal||Object(Pt.k)("Unsupported field reference: "+Object(Pt.W)(e));var n=e.signal,r=this.field[n];if(!r){var a={name:this.signalRef(n)};t&&(a.as=t),this.field[n]=r=CN(this.add(iT(a)))}return r},compareRef:function(e){var t=this,n=!1,r=function(e){return RN(e)?(n=!0,t.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(n=!0,t.exprRef(e.expr)):e},a=Object(Pt.e)(e.field).map(r),i=Object(Pt.e)(e.order).map(r);return n?CN(this.add(eT({fields:a,orders:i}))):DN(a,i)},keyRef:function(e,t){var n=!1,r=this.signals;return e=Object(Pt.e)(e).map((function(e){return RN(e)?(n=!0,CN(r[e.signal])):e})),n?CN(this.add(oT({fields:e,flat:t}))):function(e,t){var n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef:function(e){if(!e)return e;var t=IN(e.op,e.field),n=e.order||"ascending";return n.signal?CN(this.add(eT({fields:t,orders:this.signalRef(n.signal)}))):DN(t,n)},event:function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal:function(e){return Object(Pt.s)(this.signals,e)},addSignal:function(e,t){this.hasOwnSignal(e)&&Object(Pt.k)("Duplicate signal name: "+Object(Pt.W)(e));var n=t instanceof SN?t:this.add(AN(t));return this.signals[e]=n},getSignal:function(e){return this.signals[e]||Object(Pt.k)("Unrecognized signal name: "+Object(Pt.W)(e)),this.signals[e]},signalRef:function(e){return this.signals[e]?CN(this.signals[e]):(Object(Pt.s)(this.lambdas,e)||(this.lambdas[e]=this.add(AN(null))),CN(this.lambdas[e]))},parseLambdas:function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],a=IA(r,this),i=this.lambdas[r];i.params=a.$params,i.update=a.$expr}},property:function(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty:function(e){return e&&Object(Pt.D)(e)?this.signalRef(e.signal||UI(e)):e},exprRef:function(e,t){var n={expr:IA(e,this)};return t&&(n.expr.$name=t),CN(this.add(rT(n)))},addBinding:function(e,t){this.bindings||Object(Pt.k)("Nested signals do not support binding: "+Object(Pt.W)(e)),this.bindings.push(Object(Pt.l)({signal:e},t))},addScaleProj:function(e,t){Object(Pt.s)(this.scales,e)&&Object(Pt.k)("Duplicate scale or projection name: "+Object(Pt.W)(e)),this.scales[e]=this.add(t)},addScale:function(e,t){this.addScaleProj(e,yT(t))},addProjection:function(e,t){this.addScaleProj(e,vT(t))},getScale:function(e){return this.scales[e]||Object(Pt.k)("Unrecognized scale name: "+Object(Pt.W)(e)),this.scales[e]},scaleRef:function(e){return CN(this.getScale(e))},scaleType:function(e){return this.getScale(e).params.type},projectionRef:function(e){return this.scaleRef(e)},projectionType:function(e){return this.scaleType(e)},addData:function(e,t){return Object(Pt.s)(this.data,e)&&Object(Pt.k)("Duplicate data set name: "+Object(Pt.W)(e)),this.data[e]=t},getData:function(e){return this.data[e]||Object(Pt.k)("Undefined data set name: "+Object(Pt.W)(e)),this.data[e]},addDataPipeline:function(e,t){return Object(Pt.s)(this.data,e)&&Object(Pt.k)("Duplicate data set name: "+Object(Pt.W)(e)),this.addData(e,ZD.fromEntries(this,t))}};var XI=function(e){return function(t){return t[e]}},YI=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function KI(e){throw Error(e)}function $I(e){var t,n,r,a=[],i=e.length,o=null,u=0,s="";function c(){a.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<i;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===o)c(),o=null,u=-1;else{if(o)continue;t===u&&'"'===r||t===u&&"'"===r?(t=n+1,o=r):"."!==r||u?"["===r?(n>t&&c(),u=t=n+1):"]"===r&&(u||KI("Access path missing open bracket: "+e),u>0&&c(),u=0,t=n+1):n>t?c():t=n+1}return u&&KI("Access path missing closing bracket: "+e),o&&KI("Access path missing closing quote: "+e),n>t&&(n++,c()),a}function ZI(e,t,n){var r=$I(e);return e=1===r.length?r[0]:e,GI((n&&n.get||qI)(r),[e],t||e)}ZI("id"),GI((function(e){return e}),[],"identity"),GI((function(){return 0}),[],"zero"),GI((function(){return 1}),[],"one"),GI((function(){return!0}),[],"true"),GI((function(){return!1}),[],"false");Array.isArray;function JI(e){return"function"===typeof e}var QI=Object.prototype.hasOwnProperty;function eM(e,t){return QI.call(e,t)}function tM(e){return"string"===typeof e}function nM(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return t}var rM,aM,iM,oM,uM,sM="Property",cM="ArrayExpression",lM="BinaryExpression",fM="CallExpression",dM="ConditionalExpression",hM="LogicalExpression",pM="MemberExpression",vM="ObjectExpression",mM="UnaryExpression";function gM(e){this.type=e}gM.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case cM:return e.elements;case lM:case hM:return[e.left,e.right];case fM:return[e.callee].concat(e.arguments);case dM:return[e.test,e.consequent,e.alternate];case pM:return[e.object,e.property];case vM:return e.properties;case sM:return[e.key,e.value];case mM:return[e.argument];default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(rM={})[1]="Boolean",rM[2]="<end>",rM[3]="Identifier",rM[4]="Keyword",rM[5]="Null",rM[6]="Numeric",rM[7]="Punctuator",rM[8]="String",rM[9]="RegularExpression";var bM="Identifier",yM="Unexpected token %0",xM="Invalid regular expression",wM="Invalid regular expression: missing /",OM="Octal literals are not allowed in strict mode.",kM="ILLEGAL",jM="Disabled.",_M=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),SM=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function EM(e,t){if(!e)throw new Error("ASSERT: "+t)}function AM(e){return e>=48&&e<=57}function CM(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function NM(e){return"01234567".indexOf(e)>=0}function TM(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function DM(e){return 10===e||13===e||8232===e||8233===e}function IM(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&_M.test(String.fromCharCode(e))}function MM(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&SM.test(String.fromCharCode(e))}var FM={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function RM(){for(;iM<oM;){var e=aM.charCodeAt(iM);if(!TM(e)&&!DM(e))break;++iM}}function PM(e){var t,n,r,a=0;for(n="u"===e?4:2,t=0;t<n;++t)iM<oM&&CM(aM[iM])?(r=aM[iM++],a=16*a+"0123456789abcdef".indexOf(r.toLowerCase())):QM({},yM,kM);return String.fromCharCode(a)}function zM(){var e,t,n,r;for(t=0,"}"===(e=aM[iM])&&QM({},yM,kM);iM<oM&&CM(e=aM[iM++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&QM({},yM,kM),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function BM(){var e,t;for(e=aM.charCodeAt(iM++),t=String.fromCharCode(e),92===e&&(117!==aM.charCodeAt(iM)&&QM({},yM,kM),++iM,(e=PM("u"))&&"\\"!==e&&IM(e.charCodeAt(0))||QM({},yM,kM),t=e);iM<oM&&MM(e=aM.charCodeAt(iM));)++iM,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==aM.charCodeAt(iM)&&QM({},yM,kM),++iM,(e=PM("u"))&&"\\"!==e&&MM(e.charCodeAt(0))||QM({},yM,kM),t+=e);return t}function LM(){var e,t;return e=iM,t=92===aM.charCodeAt(iM)?BM():function(){var e,t;for(e=iM++;iM<oM;){if(92===(t=aM.charCodeAt(iM)))return iM=e,BM();if(!MM(t))break;++iM}return aM.slice(e,iM)}(),{type:1===t.length?3:FM.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:iM}}function UM(){var e,t,n,r,a=iM,i=aM.charCodeAt(iM),o=aM[iM];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++iM,{type:7,value:String.fromCharCode(i),start:a,end:iM};default:if(61===(e=aM.charCodeAt(iM+1)))switch(i){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return iM+=2,{type:7,value:String.fromCharCode(i)+String.fromCharCode(e),start:a,end:iM};case 33:case 61:return iM+=2,61===aM.charCodeAt(iM)&&++iM,{type:7,value:aM.slice(a,iM),start:a,end:iM}}}return">>>="===(r=aM.substr(iM,4))?{type:7,value:r,start:a,end:iM+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:a,end:iM+=3}:o===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?{type:7,value:t,start:a,end:iM+=2}:("//"===t&&QM({},yM,kM),"<>=!+-*%&|^/".indexOf(o)>=0?{type:7,value:o,start:a,end:++iM}:void QM({},yM,kM))}function WM(){var e,t,n;if(EM(AM((n=aM[iM]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=iM,e="","."!==n){if(e=aM[iM++],n=aM[iM],"0"===e){if("x"===n||"X"===n)return++iM,function(e){for(var t="";iM<oM&&CM(aM[iM]);)t+=aM[iM++];return 0===t.length&&QM({},yM,kM),IM(aM.charCodeAt(iM))&&QM({},yM,kM),{type:6,value:parseInt("0x"+t,16),start:e,end:iM}}(t);if(NM(n))return function(e){for(var t="0"+aM[iM++];iM<oM&&NM(aM[iM]);)t+=aM[iM++];return(IM(aM.charCodeAt(iM))||AM(aM.charCodeAt(iM)))&&QM({},yM,kM),{type:6,value:parseInt(t,8),octal:!0,start:e,end:iM}}(t);n&&AM(n.charCodeAt(0))&&QM({},yM,kM)}for(;AM(aM.charCodeAt(iM));)e+=aM[iM++];n=aM[iM]}if("."===n){for(e+=aM[iM++];AM(aM.charCodeAt(iM));)e+=aM[iM++];n=aM[iM]}if("e"===n||"E"===n)if(e+=aM[iM++],"+"!==(n=aM[iM])&&"-"!==n||(e+=aM[iM++]),AM(aM.charCodeAt(iM)))for(;AM(aM.charCodeAt(iM));)e+=aM[iM++];else QM({},yM,kM);return IM(aM.charCodeAt(iM))&&QM({},yM,kM),{type:6,value:parseFloat(e),start:t,end:iM}}function VM(){var e,t,n,r;return uM=null,RM(),e=iM,t=function(){var e,t,n,r;for(EM("/"===(e=aM[iM]),"Regular expression literal must start with a slash"),t=aM[iM++],n=!1,r=!1;iM<oM;)if(t+=e=aM[iM++],"\\"===e)DM((e=aM[iM++]).charCodeAt(0))&&QM({},wM),t+=e;else if(DM(e.charCodeAt(0)))QM({},wM);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||QM({},wM),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";iM<oM&&MM((e=aM[iM]).charCodeAt(0));)++iM,"\\"===e&&iM<oM?QM({},yM,kM):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&QM({},xM,n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";QM({},xM)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){QM({},xM)}try{return new RegExp(e,t)}catch(a){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:iM}}function HM(){if(RM(),iM>=oM)return{type:2,start:iM,end:iM};var e=aM.charCodeAt(iM);return IM(e)?LM():40===e||41===e||59===e?UM():39===e||34===e?function(){var e,t,n,r,a="",i=!1;for(EM("'"===(e=aM[iM])||'"'===e,"String literal must starts with a quote"),t=iM,++iM;iM<oM;){if((n=aM[iM++])===e){e="";break}if("\\"===n)if((n=aM[iM++])&&DM(n.charCodeAt(0)))"\r"===n&&"\n"===aM[iM]&&++iM;else switch(n){case"u":case"x":"{"===aM[iM]?(++iM,a+=zM()):a+=PM(n);break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":a+="\t";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;default:NM(n)?(0!==(r="01234567".indexOf(n))&&(i=!0),iM<oM&&NM(aM[iM])&&(i=!0,r=8*r+"01234567".indexOf(aM[iM++]),"0123".indexOf(n)>=0&&iM<oM&&NM(aM[iM])&&(r=8*r+"01234567".indexOf(aM[iM++]))),a+=String.fromCharCode(r)):a+=n}else{if(DM(n.charCodeAt(0)))break;a+=n}}return""!==e&&QM({},yM,kM),{type:8,value:a,octal:i,start:t,end:iM}}():46===e?AM(aM.charCodeAt(iM+1))?WM():UM():AM(e)?WM():UM()}function GM(){var e=uM;return iM=e.end,uM=HM(),iM=e.end,e}function qM(){var e=iM;uM=HM(),iM=e}function XM(e,t,n){var r=new gM("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function YM(e,t){var n=new gM("CallExpression");return n.callee=e,n.arguments=t,n}function KM(e){var t=new gM(bM);return t.name=e,t}function $M(e){var t=new gM("Literal");return t.value=e.value,t.raw=aM.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function ZM(e,t,n){var r=new gM("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function JM(e,t,n){var r=new gM("Property");return r.key=t,r.value=n,r.kind=e,r}function QM(e,t){var n,r=Array.prototype.slice.call(arguments,2),a=t.replace(/%(\d)/g,(function(e,t){return EM(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(a)).index=iM,n.description=a,n}function eF(e){2===e.type&&QM(e,"Unexpected end of input"),6===e.type&&QM(e,"Unexpected number"),8===e.type&&QM(e,"Unexpected string"),3===e.type&&QM(e,"Unexpected identifier"),4===e.type&&QM(e,"Unexpected reserved word"),QM(e,yM,e.value)}function tF(e){var t=GM();7===t.type&&t.value===e||eF(t)}function nF(e){return 7===uM.type&&uM.value===e}function rF(e){return 4===uM.type&&uM.value===e}function aF(){var e=[];for(iM=uM.start,tF("[");!nF("]");)nF(",")?(GM(),e.push(null)):(e.push(mF()),nF("]")||tF(","));return GM(),function(e){var t=new gM("ArrayExpression");return t.elements=e,t}(e)}function iF(){iM=uM.start;var e=GM();return 8===e.type||6===e.type?(e.octal&&QM(e,OM),$M(e)):KM(e.value)}function oF(){var e,t,n;return iM=uM.start,3===(e=uM).type?(n=iF(),tF(":"),JM("init",n,mF())):2!==e.type&&7!==e.type?(t=iF(),tF(":"),JM("init",t,mF())):void eF(e)}function uF(){var e,t,n=[],r={},a=String;for(iM=uM.start,tF("{");!nF("}");)t="$"+((e=oF()).key.type===bM?e.key.name:a(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?QM({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),nF("}")||tF(",");return tF("}"),function(e){var t=new gM("ObjectExpression");return t.properties=e,t}(n)}var sF={if:1};function cF(){var e,t,n;if(nF("("))return function(){tF("(");var e=gF();return tF(")"),e}();if(nF("["))return aF();if(nF("{"))return uF();if(e=uM.type,iM=uM.start,3===e||sF[uM.value])n=KM(GM().value);else if(8===e||6===e)uM.octal&&QM(uM,OM),n=$M(GM());else{if(4===e)throw new Error(jM);1===e?((t=GM()).value="true"===t.value,n=$M(t)):5===e?((t=GM()).value=null,n=$M(t)):nF("/")||nF("/=")?(n=$M(VM()),qM()):eF(GM())}return n}function lF(){var e=[];if(tF("("),!nF(")"))for(;iM<oM&&(e.push(mF()),!nF(")"));)tF(",");return tF(")"),e}function fF(){return tF("."),function(){iM=uM.start;var e=GM();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||eF(e),KM(e.value)}()}function dF(){tF("[");var e=gF();return tF("]"),e}function hF(){var e=function(){var e;for(e=cF();;)if(nF("."))e=ZM(".",e,fF());else if(nF("("))e=YM(e,lF());else{if(!nF("["))break;e=ZM("[",e,dF())}return e}();if(7===uM.type&&(nF("++")||nF("--")))throw new Error(jM);return e}function pF(){var e,t;if(7!==uM.type&&4!==uM.type)t=hF();else{if(nF("++")||nF("--"))throw new Error(jM);if(nF("+")||nF("-")||nF("~")||nF("!"))e=GM(),t=pF(),t=function(e,t){var n=new gM("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(rF("delete")||rF("void")||rF("typeof"))throw new Error(jM);t=hF()}}return t}function vF(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function mF(){var e,t;return e=function(){var e,t,n,r,a,i,o,u,s,c;if(e=uM,s=pF(),0===(a=vF(r=uM)))return s;for(r.prec=a,GM(),t=[e,uM],i=[s,r,o=pF()];(a=vF(uM))>0;){for(;i.length>2&&a<=i[i.length-2].prec;)o=i.pop(),u=i.pop().value,s=i.pop(),t.pop(),n=XM(u,s,o),i.push(n);(r=GM()).prec=a,i.push(r),t.push(uM),n=pF(),i.push(n)}for(n=i[c=i.length-1],t.pop();c>1;)t.pop(),n=XM(i[c-1].value,i[c-2],n),c-=2;return n}(),nF("?")&&(GM(),t=mF(),tF(":"),e=function(e,t,n){var r=new gM("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,mF())),e}function gF(){var e=mF();if(nF(","))throw new Error(jM);return e}function bF(e){iM=0,oM=(aM=e).length,uM=null,qM();var t=gF();if(2!==uM.type)throw new Error("Unexpect token after expression.");return t}var yF={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function xF(e){function t(t,n,r){return function(a){return function(t,n,r,a){var i=e(n[0]);return r&&(i=r+"("+i+")",0===r.lastIndexOf("new ",0)&&(i="("+i+")")),i+"."+t+(a<0?"":0===a?"()":"("+n.slice(1).map(e).join(",")+")")}(t,a,n,r)}}var n="new Date",r="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&KI("Missing arguments to clamp function."),t.length>3&&KI("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",r,0),lower:t("toLowerCase",r,0),substring:t("substring",r),split:t("split",r),trim:t("trim",r,0),regexp:a,test:t("test",a),if:function(t){t.length<3&&KI("Missing arguments to if function."),t.length>3&&KI("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}function wF(e){var t=(e=e||{}).allowed?nM(e.allowed):{},n=e.forbidden?nM(e.forbidden):{},r=e.constants||yF,a=(e.functions||xF)(f),i=e.globalvar,o=e.fieldvar,u=JI(i)?i:function(e){return"".concat(i,'["').concat(e,'"]')},s={},c={},l=0;function f(e){if(tM(e))return e;var t=d[e.type];return null==t&&KI("Unsupported type: "+e.type),t(e)}var d={Literal:function(e){return e.raw},Identifier:function(e){var a=e.name;return l>0?a:eM(n,a)?KI("Illegal identifier: "+a):eM(r,a)?r[a]:eM(t,a)?a:(s[a]=1,u(a))},MemberExpression:function(e){var t=!e.computed,n=f(e.object);t&&(l+=1);var r=f(e.property);return n===o&&(c[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(l-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&KI("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=eM(a,t)&&a[t];return r||KI("Unrecognized function: "+t),JI(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(f).join(",")+"]"},BinaryExpression:function(e){return"("+f(e.left)+" "+e.operator+" "+f(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+f(e.argument)+")"},ConditionalExpression:function(e){return"("+f(e.test)+"?"+f(e.consequent)+":"+f(e.alternate)+")"},LogicalExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(f).join(",")+"}"},Property:function(e){l+=1;var t=f(e.key);return l-=1,t+":"+f(e.value)}};function h(e){var t={code:f(e),globals:Object.keys(s),fields:Object.keys(c)};return s={},c={},t}return h.functions=a,h.constants=r,h}var OF,kF,jF="[",_F="]",SF=/[[\]{}]/,EF={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function AF(e,t,n){return OF=t||"view",kF=n||EF,NF(e.trim()).map(TF)}function CF(e,t,n,r,a){for(var i,o=e.length,u=0;t<o;++t){if(i=e[t],!u&&i===n)return t;a&&a.indexOf(i)>=0?--u:r&&r.indexOf(i)>=0&&++u}return t}function NF(e){for(var t=[],n=e.length,r=0,a=0;a<n;)a=CF(e,a,",","[{","]}"),t.push(e.substring(r,a).trim()),r=++a;if(0===t.length)throw"Empty event selector: "+e;return t}function TF(e){return"["===e[0]?function(e){var t,n=e.length,r=1;if((r=CF(e,r,_F,jF,_F))===n)throw"Empty between selector: "+e;if(2!==(t=NF(e.substring(1,r))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(r+1).trim())[0])throw"Expected '>' after between selector: "+e;t=t.map(TF);var a=TF(e.slice(1).trim());if(a.between)return{between:t,stream:a};a.between=t;return a}(e):function(e){var t,n,r={source:OF},a=[],i=[0,0],o=0,u=0,s=e.length,c=0;if("}"===e[s-1]){if(!((c=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{i=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!==n)throw e;return n}))}(e.substring(c+1,s-1))}catch(f){throw"Invalid throttle specification: "+e}s=(e=e.slice(0,c).trim()).length,c=0}if(!s)throw e;"@"===e[0]&&(o=++c);(t=CF(e,c,":"))<s&&(a.push(e.substring(u,t).trim()),u=c=++t);if((c=CF(e,c,jF))===s)a.push(e.substring(u,s).trim());else if(a.push(e.substring(u,c).trim()),n=[],(u=++c)===s)throw"Unmatched left bracket: "+e;for(;c<s;){if((c=CF(e,c,_F))===s)throw"Unmatched left bracket: "+e;if(n.push(e.substring(u,c).trim()),c<s-1&&e[++c]!==jF)throw"Expected left bracket: "+e;u=++c}if(!(s=a.length)||SF.test(a[s-1]))throw"Invalid event selector: "+e;s>1?(r.type=a[1],o?r.markname=a[0].slice(1):(l=a[0],kF[l]?r.marktype=a[0]:r.source=a[0])):r.type=a[0];var l;"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=n&&(r.filter=n);i[0]&&(r.throttle=i[0]);i[1]&&(r.debounce=i[1]);return r}(e)}var DF="5.20.0";it(Dn,i,u,s,c,l,d,f,h,p,v,m);var IF=DF,MF=n(623),FF=function(e,t,n){return e.fields=t||[],e.fname=n,e};var RF=function(e){return 1===e.length?PF(e[0]):zF(e)},PF=function(e){return function(t){return t[e]}},zF=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}},BF=function(e){throw Error(e)},LF=function(e){var t,n,r,a=[],i=null,o=0,u=e.length,s="";function c(){a.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<u;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===i)c(),i=null,o=-1;else{if(i)continue;t===o&&'"'===r||t===o&&"'"===r?(t=n+1,i=r):"."!==r||o?"["===r?(n>t&&c(),o=t=n+1):"]"===r&&(o||BF("Access path missing open bracket: "+e),o>0&&c(),o=0,t=n+1):n>t?c():t=n+1}return o&&BF("Access path missing closing bracket: "+e),i&&BF("Access path missing closing quote: "+e),n>t&&(n++,c()),a},UF=function(e,t,n){var r=LF(e);return e=1===r.length?r[0]:e,FF((n&&n.get||RF)(r),[e],t||e)},WF=[],VF=(UF("id"),FF((function(e){return e}),WF,"identity"));FF((function(){return 0}),WF,"zero"),FF((function(){return 1}),WF,"one"),FF((function(){return!0}),WF,"true"),FF((function(){return!1}),WF,"false");function HF(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var GF=Array.isArray,qF=function(e){return e===Object(e)},XF=function(e){return"__proto__"!==e};function YF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=$F(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;KF(e,n,t[n],r)}return e}),{})}function KF(e,t,n,r){var a,i;if(XF(t))if(qF(n)&&!GF(n))for(a in i=qF(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[a])?KF(i,a,n[a]):XF(a)&&(i[a]=n[a]);else e[t]=n}function $F(e,t){if(null==e)return t;var n={},r=[];function a(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(a),e.forEach(a),r}var ZF=function(e){return null!=e?GF(e)?e:[e]:[]},JF=function(e){return"function"===typeof e},QF=Object.prototype.hasOwnProperty,eR=function(e,t){return QF.call(e,t)},tR=function(e){return"boolean"===typeof e},nR=function(e){return"number"===typeof e},rR=function(e){return"string"===typeof e};function aR(e){return GF(e)?"["+e.map(aR)+"]":qF(e)||rR(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var iR=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t};function oR(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var uR=n(624),sR=n.n(uR),cR=n(395),lR=n.n(cR),fR=n(224),dR=n.n(fR);function hR(e){return!!e.or}function pR(e){return!!e.and}function vR(e){return!!e.not}function mR(e,t){if(vR(e))mR(e.not,t);else if(pR(e)){var n,r=Object(Fn.a)(e.and);try{for(r.s();!(n=r.n()).done;){mR(n.value,t)}}catch(o){r.e(o)}finally{r.f()}}else if(hR(e)){var a,i=Object(Fn.a)(e.or);try{for(i.s();!(a=i.n()).done;){mR(a.value,t)}}catch(o){i.e(o)}finally{i.f()}}else t(e)}function gR(e,t){return vR(e)?{not:gR(e.not,t)}:pR(e)?{and:e.and.map((function(e){return gR(e,t)}))}:hR(e)?{or:e.or.map((function(e){return gR(e,t)}))}:t(e)}var bR=lR.a,yR=sR.a;function xR(e,t){var n,r={},a=Object(Fn.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;eR(e,i)&&(r[i]=e[i])}}catch(o){a.e(o)}finally{a.f()}return r}function wR(e,t){var n,r=Object.assign({},e),a=Object(Fn.a)(t);try{for(a.s();!(n=a.n()).done;){delete r[n.value]}}catch(i){a.e(i)}finally{a.f()}return r}Set.prototype.toJSON=function(){return"Set(".concat(Object(yi.a)(this).map((function(e){return dR()(e)})).join(","),")")};var OR=dR.a;function kR(e){if(nR(e))return e;var t=rR(e)?e:dR()(e);if(t.length<250)return t;for(var n=0,r=0;r<t.length;r++){n=(n<<5)-n+t.charCodeAt(r),n&=n}return n}function jR(e){return!1===e||null===e}function _R(e,t){return e.indexOf(t)>-1}function SR(e,t){var n,r=0,a=Object(Fn.a)(e.entries());try{for(a.s();!(n=a.n()).done;){var i=Object(Rn.a)(n.value,2),o=i[0];if(t(i[1],o,r++))return!0}}catch(u){a.e(u)}finally{a.f()}return!1}function ER(e,t){var n,r=0,a=Object(Fn.a)(e.entries());try{for(a.s();!(n=a.n()).done;){var i=Object(Rn.a)(n.value,2),o=i[0];if(!t(i[1],o,r++))return!1}}catch(u){a.e(u)}finally{a.f()}return!0}function AR(e,t){var n,r=Object(Fn.a)(MR(t));try{for(r.s();!(n=r.n()).done;){var a=n.value;KF(e,a,t[a],!0)}}catch(i){r.e(i)}finally{r.f()}}function CR(e,t){var n,r,a=[],i={},o=Object(Fn.a)(e);try{for(o.s();!(r=o.n()).done;){var u=r.value;(n=t(u))in i||(i[n]=1,a.push(u))}}catch(s){o.e(s)}finally{o.f()}return a}function NR(e,t){var n,r=Object(Fn.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(t.has(a))return!0}}catch(i){r.e(i)}finally{r.f()}return!1}function TR(e){var t,n=new Set,r=Object(Fn.a)(e);try{var a=function(){var e,r=t.value,a=LF(r).map((function(e,t){return 0===t?e:"[".concat(e,"]")})),i=a.map((function(e,t){return a.slice(0,t+1).join("")})),o=Object(Fn.a)(i);try{for(o.s();!(e=o.n()).done;){var u=e.value;n.add(u)}}catch(s){o.e(s)}finally{o.f()}};for(r.s();!(t=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}return n}function DR(e,t){return void 0===e||void 0===t||NR(TR(e),TR(t))}function IR(e){return 0===MR(e).length}var MR=Object.keys,FR=Object.values;function RR(e){var t=[];for(var n in e)eR(e,n)&&t.push({key:n,value:e[n]});return t}function PR(e){return!0===e||!1===e}function zR(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function BR(e,t){return vR(e)?"!("+BR(e.not,t)+")":pR(e)?"("+e.and.map((function(e){return BR(e,t)})).join(") && (")+")":hR(e)?"("+e.or.map((function(e){return BR(e,t)})).join(") || (")+")":t(e)}function LR(e,t){if(0===t.length)return!0;var n=t.shift();return n in e&&LR(e[n],t)&&delete e[n],IR(e)}function UR(e){return e.charAt(0).toUpperCase()+e.substr(1)}function WR(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=LF(e),r=[],a=1;a<=n.length;a++){var i="[".concat(n.slice(0,a).map(aR).join("]["),"]");r.push("".concat(t).concat(i))}return r.join(" && ")}function VR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return"".concat(t,"[").concat(aR(LF(e).join(".")),"]")}function HR(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function GR(e){return"".concat(LF(e).map(HR).join("\\."))}function qR(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function XR(e){return"".concat(LF(e).join("."))}function YR(e){return e?LF(e).length:0}function KR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r];if(void 0!==i)return i}}var $R=42;function ZR(e){var t=++$R;return e?String(e)+t:t}function JR(e){return function(e){return 0===e.indexOf("__")}(e)?e:"__".concat(e)}function QR(e){if(void 0!==e)return(e%360+360)%360}function eP(e){return!!nR(e)||!isNaN(e)&&!isNaN(parseFloat(e))}var tP={domainColor:{part:"domain",vgProp:"stroke"},labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDash"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDash"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"},titleColor:{part:"title",vgProp:"fill"},title:null};function nP(e){return e&&e.condition}var rP=["domain","grid","labels","ticks","title"],aP={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},iP={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},oP=Object.assign(Object.assign({},iP),{style:1,labelExpr:1,encoding:1});function uP(e){return!!oP[e]}MR(oP);var sP={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},cP=sP.arc,lP=sP.area,fP=sP.bar,dP=sP.image,hP=sP.line,pP=sP.point,vP=sP.rect,mP=sP.rule,gP=sP.text,bP=sP.tick,yP=sP.trail,xP=sP.circle,wP=sP.square,OP=sP.geoshape;function kP(e){return _R(["line","area","trail"],e)}function jP(e){return _R(["rect","bar","image","arc"],e)}var _P=MR(sP);function SP(e){return e.type}iR(_P);var EP=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),AP=MR({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),CP={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},NP={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},TP={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function DP(e){return"mark"in e}var IP=function(){function e(t,n){Object(Zg.a)(this,e),this.name=t,this.run=n}return Object(Jg.a)(e,[{key:"hasMatchingType",value:function(e){return!!DP(e)&&(SP(t=e.mark)?t.type:t)===this.name;var t}}]),e}(),MP={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},FP={count:1,min:1,max:1};function RP(e){return!!e&&!!e.argmin}function PP(e){return!!e&&!!e.argmax}MR(MP);function zP(e){return rR(e)&&!!MP[e]}var BP=["count","valid","missing","distinct"];function LP(e){return rR(e)&&_R(BP,e)}var UP=["count","sum","distinct","valid","missing"],WP=iR(["mean","average","median","q1","q3","min","max"]),VP="row",HP="column",GP="facet",qP="x",XP="y",YP="x2",KP="y2",$P="radius",ZP="radius2",JP="theta",QP="theta2",ez="latitude",tz="longitude",nz="latitude2",rz="longitude2",az="color",iz="fill",oz="stroke",uz="shape",sz="size",cz="angle",lz="opacity",fz="fillOpacity",dz="strokeOpacity",hz="strokeWidth",pz="strokeDash",vz="text",mz="order",gz="detail",bz="key",yz="tooltip",xz="href",wz="url",Oz="description",kz={theta:1,theta2:1,radius:1,radius2:1};function jz(e){return e in kz}var _z={longitude:1,longitude2:1,latitude:1,latitude2:1};var Sz=MR(_z),Ez=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),kz),_z),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function Az(e){return e===az||e===iz||e===oz}var Cz={row:1,column:1,facet:1},Nz=MR(Cz),Tz=Object.assign(Object.assign({},Ez),Cz),Dz=MR(Tz),Iz=(Tz.order,Tz.detail,Tz.tooltip,oR(Tz,["order","detail","tooltip"])),Mz=(Iz.row,Iz.column,Iz.facet,oR(Iz,["row","column","facet"]));MR(Iz),MR(Mz);function Fz(e){return!!Tz[e]}var Rz=[YP,KP,nz,rz,QP,ZP];function Pz(e){return zz(e)!==e}function zz(e){switch(e){case YP:return qP;case KP:return XP;case nz:return ez;case rz:return tz;case QP:return JP;case ZP:return $P}return e}function Bz(e){if(jz(e))switch(e){case JP:return"startAngle";case QP:return"endAngle";case $P:return"outerRadius";case ZP:return"innerRadius"}return e}function Lz(e){switch(e){case qP:return YP;case XP:return KP;case ez:return nz;case tz:return rz;case JP:return QP;case $P:return ZP}}function Uz(e){switch(e){case qP:case YP:return"width";case XP:case KP:return"height"}}MR(Ez),Ez.x,Ez.y,Ez.x2,Ez.y2,Ez.latitude,Ez.longitude,Ez.latitude2,Ez.longitude2,Ez.theta,Ez.theta2,Ez.radius,Ez.radius2;var Wz=oR(Ez,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),Vz=MR(Wz),Hz={x:1,y:1},Gz=MR(Hz);function qz(e){return e in Hz}var Xz={theta:1,radius:1},Yz=MR(Xz);function Kz(e){return"width"===e?qP:XP}Wz.text,Wz.tooltip,Wz.href,Wz.url,Wz.description,Wz.detail,Wz.key,Wz.order;var $z=oR(Wz,["text","tooltip","href","url","description","detail","key","order"]),Zz=MR($z);var Jz=Object.assign(Object.assign(Object.assign({},Hz),Xz),$z),Qz=MR(Jz);function eB(e){return!!Jz[e]}function tB(e,t){return function(e){switch(e){case az:case iz:case oz:case Oz:case gz:case bz:case yz:case xz:case mz:case lz:case fz:case dz:case hz:case GP:case VP:case HP:return nB;case qP:case XP:case ez:case tz:return rB;case YP:case KP:case nz:case rz:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case sz:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case pz:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case uz:return{point:"always",geoshape:"always"};case vz:return{text:"always"};case cz:return{point:"always",square:"always",text:"always"};case wz:return{image:"always"};case JP:case $P:return{text:"always",arc:"always"};case QP:case ZP:return{arc:"always"}}}(e)[t]}var nB={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},rB=oR(nB,["geoshape"]);function aB(e){switch(e){case qP:case XP:case JP:case $P:case sz:case cz:case hz:case lz:case fz:case dz:case YP:case KP:case QP:case ZP:return;case GP:case VP:case HP:case uz:case pz:case vz:case yz:case xz:case wz:case Oz:return"discrete";case az:case iz:case oz:return"flexible";case ez:case tz:case nz:case rz:case gz:case bz:case mz:return}}function iB(e){return tR(e)&&(e=wV(e,void 0)),"bin"+MR(e).map((function(t){return cB(e[t])?zR("_".concat(t,"_").concat(Object.entries(e[t]))):zR("_".concat(t,"_").concat(e[t]))})).join("")}function oB(e){return!0===e||sB(e)&&!e.binned}function uB(e){return"binned"===e||sB(e)&&!0===e.binned}function sB(e){return qF(e)}function cB(e){return null===e||void 0===e?void 0:e.selection}function lB(e){switch(e){case VP:case HP:case sz:case az:case iz:case oz:case hz:case lz:case fz:case dz:case uz:return 6;case pz:return 4;default:return 10}}var fB=n(374);function dB(e){return"Invalid specification ".concat(JSON.stringify(e),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}var hB='Autosize "fit" only works for single views and layered views.';function pB(e){return"".concat("width"==e?"Width":"Height",' "container" only works for single views and layered views.')}function vB(e){var t="width"==e?"x":"y";return"".concat("width"==e?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(t,'".')}function mB(e){return e?'Dropping "fit-'.concat(e,'" because spec has discrete ').concat(Uz(e),"."):'Dropping "fit" because spec has discrete size.'}function gB(e){return'Cannot project a selection on encoding channel "'.concat(e,'", which has no field.')}function bB(e,t){return'Cannot project a selection on encoding channel "'.concat(e,'" as it uses an aggregate function ("').concat(t,'").')}function yB(e){return'The "nearest" transform is not supported for '.concat(e," marks.")}function xB(e){return"Selection not supported for ".concat(e," yet.")}function wB(e){return'Cannot find a selection named "'.concat(e,'".')}var OB="Scale bindings are currently only supported for scales with unbinned, continuous domains.",kB="Legend bindings are only supported for selections over an individual field or encoding channel.";function jB(e){return'Cannot define and lookup the "'.concat(e,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}function _B(e){return'Unknown repeated value "'.concat(e,'".')}function SB(e){return'The "columns" property cannot be used when "'.concat(e,'" has nested row/column.')}var EB="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function AB(e){return'Unrecognized parse "'.concat(e,'".')}function CB(e,t,n){return'An ancestor parsed field "'.concat(e,'" as ').concat(n," but a child wants to parse the field as ").concat(t,".")}function NB(e){return"Ignoring an invalid transform: ".concat(OR(e),".")}var TB='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function DB(e){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(e," are dropped.")}function IB(e){return"Layer's shared ".concat(e.join(",")," channel ").concat(1===e.length?"is":"are"," overriden.")}function MB(e){var t=e.parentProjection,n=e.projection;return"Layer's shared projection ".concat(OR(t)," is overridden by a child projection ").concat(OR(n),".")}var FB="Arc marks uses theta channel rather than angle, replacing angle with theta.";function RB(e,t,n){return"Channel ".concat(e," is a ").concat(t,". Converted to {value: ").concat(OR(n),"}.")}function PB(e){return'Invalid field type "'.concat(e,'".')}function zB(e,t){return'Invalid field type "'.concat(e,'" for aggregate: "').concat(t,'", using "quantitative" instead.')}function BB(e){return'Invalid aggregation operator "'.concat(e,'".')}function LB(e,t){return'Missing type for channel "'.concat(e,'", using "').concat(t,'" instead.')}function UB(e,t){var n=t.fill,r=t.stroke;return"Dropping color ".concat(e," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function WB(e,t){return"Dropping ".concat(OR(e),' from channel "').concat(t,'" since it does not contain any data field, datum, value, or signal.')}function VB(e,t,n){return"".concat(e,"-encoding with type ").concat(t," is deprecated. Replacing with ").concat(n,"-encoding.")}var HB="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function GB(e,t,n){return"".concat(e,' dropped as it is incompatible with "').concat(t,'"').concat(n?" when ".concat(n):"",".")}function qB(e){return"".concat(e,"-encoding is dropped as ").concat(e," is not a valid encoding channel.")}function XB(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned).")}function YB(e){return"Facet encoding dropped as ".concat(e.join(" and ")," ").concat(e.length>1?"are":"is"," also specified.")}function KB(e,t){return'Using discrete channel "'.concat(e,'" to encode "').concat(t,'" field can be misleading as it does not encode ').concat("ordinal"===t?"order":"magnitude",".")}function $B(e,t){return"Line mark is for continuous lines and thus cannot be used with ".concat(e&&t?"x2 and y2":e?"x2":"y2",". We will use the rule mark (line segments) instead.")}function ZB(e,t){return'Specified orient "'.concat(e,'" overridden with "').concat(t,'".')}var JB="Custom domain scale cannot be unioned with default field-based domain.",QB='Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.';function eL(e){return'Cannot use the scale property "'.concat(e,'" with non-color channel.')}function tL(e){return"Using unaggregated domain with raw field has no effect (".concat(OR(e),").")}function nL(e){return'Unaggregated domain not applicable for "'.concat(e,'" since it produces values outside the origin domain of the source data.')}function rL(e){return"Unaggregated domain is currently unsupported for log scale (".concat(OR(e),").")}function aL(e){return'Cannot apply size to non-oriented mark "'.concat(e,'".')}function iL(e,t,n){return'Channel "'.concat(e,'" does not work with "').concat(t,'" scale. We are using "').concat(n,'" scale instead.')}function oL(e,t){return'FieldDef does not work with "'.concat(e,'" scale. We are using "').concat(t,'" scale instead.')}function uL(e,t,n){return"".concat(n,"-scale's \"").concat(t,'" is dropped as it does not work with ').concat(e," scale.")}function sL(e,t){return'Scale type "'.concat(t,'" does not work with mark "').concat(e,'".')}function cL(e){return'The step for "'.concat(e,'" is dropped because the ').concat("width"===e?"x":"y"," is continuous.")}function lL(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(OR(n)," and ").concat(OR(r),"). Using ").concat(OR(n),".")}function fL(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(OR(n)," and ").concat(OR(r),"). Using the union of the two domains.")}function dL(e){return'Setting the scale to be independent for "'.concat(e,'" means we also have to set the guide (axis or legend) to be independent.')}function hL(e){return"Dropping sort property ".concat(OR(e),' as unioned domains only support boolean or op "count", "min", and "max".')}var pL="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",vL="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",mL="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",gL="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.",bL="Invalid channel for axis.";function yL(e){return'Cannot stack "'.concat(e,'" if there is already "').concat(e,'2".')}function xL(e){return"Cannot stack non-linear scale (".concat(e,").")}function wL(e){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(e,'").')}function OL(e,t){return"Invalid ".concat(e,": ").concat(OR(t),".")}function kL(e){return"Dropping day from datetime ".concat(OR(e)," as day cannot be combined with other units.")}function jL(e,t){return"".concat(t?"extent ":"").concat(t&&e?"and ":"").concat(e?"center ":"").concat(t&&e?"are ":"is ","not needed when data are aggregated.")}function _L(e,t,n){return"".concat(e," is not usually used with ").concat(t," for ").concat(n,".")}function SL(e,t){return"Continuous axis should not have customized aggregation function ".concat(e,"; ").concat(t," already agregates the axis.")}function EL(e,t){return"Center is not needed to be specified in ".concat(t," when extent is ").concat(e,".")}function AL(e){return"1D error band does not support ".concat(e,".")}function CL(e){return"Channel ".concat(e,' is required for "binned" bin.')}function NL(e){return"Domain for ".concat(e," is required for threshold scale.")}var TL=function(e,t){var n=e||0;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=1&&HF(t||"error","ERROR",arguments),this},warn:function(){return n>=2&&HF(t||"warn","WARN",arguments),this},info:function(){return n>=3&&HF(t||"log","INFO",arguments),this},debug:function(){return n>=4&&HF(t||"log","DEBUG",arguments),this}}}(2),DL=TL;function IL(e){return DL=e}function ML(){return DL=TL}function FL(){var e;(e=DL).warn.apply(e,arguments)}function RL(e){if(e&&qF(e)){var t,n=Object(Fn.a)(qL);try{for(n.s();!(t=n.n()).done;){if(t.value in e)return!0}}catch(r){n.e(r)}finally{n.f()}}return!1}var PL=["january","february","march","april","may","june","july","august","september","october","november","december"],zL=PL.map((function(e){return e.substr(0,3)})),BL=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],LL=BL.map((function(e){return e.substr(0,3)}));function UL(e,t){var n=[];if(t&&void 0!==e.day&&MR(e).length>1&&(FL(b.droppedDay(e)),delete(e=yR(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){var r=t?function(e){if(eP(e)&&(e=+e),nR(e))return e-1;var t=e.toLowerCase(),n=PL.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),a=zL.indexOf(r);if(-1!==a)return a;throw new Error(b.invalidTimeUnit("month",e))}(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){var a=t?function(e){if(eP(e)&&(e=+e),nR(e))return e>4&&FL(b.invalidTimeUnit("quarter",e)),e-1;throw new Error(b.invalidTimeUnit("quarter",e))}(e.quarter):e.quarter;n.push(nR(a)?3*a:a+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var i=t?function(e){if(eP(e)&&(e=+e),nR(e))return e%7;var t=e.toLowerCase(),n=BL.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),a=LL.indexOf(r);if(-1!==a)return a;throw new Error(b.invalidTimeUnit("day",e))}(e.day):e.day;n.push(nR(i)?i+1:i+"+1")}else n.push(1);for(var o=0,u=["hours","minutes","seconds","milliseconds"];o<u.length;o++){var s=e[u[o]];n.push("undefined"===typeof s?0:s)}return n}function WL(e){var t=UL(e,!0).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function VL(e){var t=UL(e,!1).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function HL(e){var t=UL(e,!0);return e.utc?+new Date(Date.UTC.apply(Date,Object(yi.a)(t))):+Object(fB.a)(Date,Object(yi.a)(t))}var GL={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},qL=MR(GL);function XL(e){return e.startsWith("utc")}var YL={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function KL(e){var t,n=[],r=Object(Fn.a)(qL);try{for(r.s();!(t=r.n()).done;){var a=t.value;$L(e,a)&&n.push(a)}}catch(i){r.e(i)}finally{r.f()}return n}function $L(e,t){var n=e.indexOf(t);return!(n<0)&&(!(n>0&&"seconds"===t&&"i"===e.charAt(n-1))&&(!(e.length>n+3&&"day"===t&&"o"===e.charAt(n+3))&&!(n>0&&"year"===t&&"f"===e.charAt(n-1))))}function ZL(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1},a=r.end,i=WR(t),o=XL(e)?"utc":"";function u(e){return"quarter"===e?"(".concat(o,"quarter(").concat(i,")-1)"):"".concat(o).concat(e,"(").concat(i,")")}var s,c={},l=Object(Fn.a)(qL);try{for(l.s();!(s=l.n()).done;){var f=s.value;$L(e,f)&&(c[f]=u(f),n=f)}}catch(d){l.e(d)}finally{l.f()}return a&&(c[n]+="+1"),VL(c)}function JL(e){if(e){var t=KL(e);return"timeUnitSpecifier(".concat(dR()(t),", ").concat(dR()(YL),")")}}function QL(e){var t;if(e)return rR(e)?t={unit:e}:qF(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),XL(t.unit)&&(t.utc=!0,t.unit=t.unit.substr(3)),t}function eU(e){var t=QL(e),n=t.utc,r=oR(t,["utc"]);return r.unit?(n?"utc":"")+MR(r).map((function(e){return zR("".concat("unit"===e?"":"_".concat(e,"_")).concat(r[e]))})).join(""):(n?"utc":"")+"timeunit"+MR(r).map((function(e){return zR("_".concat(e,"_").concat(r[e]))})).join("")}function tU(e){return e&&!!e.signal}function nU(e){return!!e.step}function rU(e){return!GF(e)&&("field"in e&&"data"in e)}var aU=MR({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1}),iU={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},oU=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function uU(e){return e&&!!e.field&&void 0!==e.equal}function sU(e){return e&&!!e.field&&void 0!==e.lt}function cU(e){return e&&!!e.field&&void 0!==e.lte}function lU(e){return e&&!!e.field&&void 0!==e.gt}function fU(e){return e&&!!e.field&&void 0!==e.gte}function dU(e){if(e&&e.field){if(GF(e.range)&&2===e.range.length)return!0;if(tU(e.range))return!0}return!1}function hU(e){return e&&!!e.field&&(GF(e.oneOf)||GF(e.in))}function pU(e){return e&&!!e.field&&void 0!==e.valid}function vU(e){return hU(e)||uU(e)||dU(e)||sU(e)||lU(e)||cU(e)||fU(e)}function mU(e,t){return jV(e,{timeUnit:t,wrapTime:!0})}function gU(e,t){return e.map((function(e){return mU(e,t)}))}function bU(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.field,a=null===(t=QL(e.timeUnit))||void 0===t?void 0:t.unit,i=a?"time("+ZL(a,r)+")":aV(e,{expr:"datum"});if(uU(e))return i+"==="+mU(e.equal,a);if(sU(e)){var o=e.lt;return"".concat(i,"<").concat(mU(o,a))}if(lU(e)){var u=e.gt;return"".concat(i,">").concat(mU(u,a))}if(cU(e)){var s=e.lte;return"".concat(i,"<=").concat(mU(s,a))}if(fU(e)){var c=e.gte;return"".concat(i,">=").concat(mU(c,a))}if(hU(e))return"indexof([".concat(gU(e.oneOf,a).join(","),"], ").concat(i,") !== -1");if(pU(e))return yU(i,e.valid);if(dU(e)){var l=e.range,f=tU(l)?{signal:"".concat(l.signal,"[0]")}:l[0],d=tU(l)?{signal:"".concat(l.signal,"[1]")}:l[1];if(null!==f&&null!==d&&n)return"inrange("+i+", ["+mU(f,a)+", "+mU(d,a)+"])";var h=[];return null!==f&&h.push("".concat(i," >= ").concat(mU(f,a))),null!==d&&h.push("".concat(i," <= ").concat(mU(d,a))),h.length>0?h.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(JSON.stringify(e)))}function yU(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?"isValid(".concat(e,") && isFinite(+").concat(e,")"):"!isValid(".concat(e,") || !isFinite(+").concat(e,")")}function xU(e){var t;return vU(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=QL(e.timeUnit))||void 0===t?void 0:t.unit}):e}var wU={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};var OU=wU.quantitative,kU=wU.ordinal,jU=wU.temporal,_U=wU.nominal,SU=wU.geojson,EU=MR(wU);var AU="linear",CU="log",NU="pow",TU="sqrt",DU="symlog",IU="time",MU="utc",FU="quantile",RU="quantize",PU="threshold",zU="point",BU="band",LU={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},UU=MR(LU);function WU(e,t){var n=LU[e],r=LU[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}var VU={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function HU(e){return VU[e]}var GU=["linear","log","pow","sqrt","symlog","time","utc"],qU=iR(GU),XU=iR(["linear","log","pow","sqrt","symlog"]);var YU=iR(["quantile","quantize","threshold"]),KU=iR(GU.concat(["quantile","quantize","threshold","sequential","identity"])),$U=iR(["ordinal","bin-ordinal","point","band"]);function ZU(e){return e in $U}function JU(e){return e in KU}function QU(e){return e in qU}function eW(e){return e in YU}function tW(e){return null===e||void 0===e?void 0:e.selection}var nW={type:1,domain:1,domainMid:1,align:1,range:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},rW=(MR(nW),oR(nW,["type","domain","range","scheme"])),aW=MR(rW);!function(){var e,t,n={},r=Object(Fn.a)(Dz);try{for(r.s();!(t=r.n()).done;){var a,i=t.value,o=Object(Fn.a)(EU);try{for(o.s();!(a=o.n()).done;){var u,s=a.value,c=Object(Fn.a)(UU);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=cW(i,s);sW(i,l)&&uW(l,s)&&(n[f]=null!==(e=n[f])&&void 0!==e?e:[],n[f].push(l))}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}}}catch(d){r.e(d)}finally{r.f()}}();function iW(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!_R(["point","band","identity"],e);case"bins":return!_R(["point","band","identity","ordinal"],e);case"round":return QU(e)||"band"===e||"point"===e;case"padding":return QU(e)||_R(["point","band"],e);case"paddingOuter":case"align":return _R(["point","band"],e);case"paddingInner":return"band"===e;case"domainMid":case"clamp":return QU(e);case"nice":return QU(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return JU(e)&&!_R(["log","time","utc","threshold","quantile"],e)}}function oW(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Az(e)?void 0:b.cannotUseScalePropertyWithNonColor(e);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"reverse":case"round":case"clamp":case"zero":return}}function uW(e,t){return _R([kU,_U],t)?void 0===e||ZU(e):t===jU?_R([IU,MU,void 0],e):t!==OU||_R([CU,NU,TU,DU,FU,RU,PU,AU,void 0],e)}function sW(e,t){if(!eB(e))return!1;switch(e){case qP:case XP:case JP:case $P:return QU(t)||_R(["band","point"],t);case sz:case hz:case lz:case fz:case dz:case cz:return QU(t)||eW(t)||_R(["band","point","ordinal"],t);case az:case iz:case oz:return"band"!==t;case pz:return"ordinal"===t||eW(t);case uz:return"ordinal"===t}}function cW(e,t){return e+"_"+t}function lW(e){var t=e.channel,n=e.channelDef,r=e.markDef,a=e.scale,i=e.config,o=mW(e);return GW(n)&&!LP(n.aggregate)&&a&&QU(a.get("type"))&&!1===a.get("zero")?fW({fieldDef:n,channel:t,markDef:r,ref:o,config:i}):o}function fW(e){var t=e.fieldDef,n=e.channel,r=e.markDef,a=e.ref,i=e.config;return kP(r.type)||null===IV("invalid",r,i)?a:[dW(t,n),a]}function dW(e,t){var n=hW(e,!0),r="y"===zz(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function hW(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return yU(rR(e)?e:aV(e,{expr:"datum"}),!t)}function pW(e,t,n,r){var a={};if(t&&(a.scale=t),XW(e)){var i=e.datum;RL(i)?a.signal=WL(i):tU(i)?a.signal=i.signal:a.value=i}else a.field=aV(e,n);if(r){var o=r.offset,u=r.band;o&&(a.offset=o),u&&(a.band=u)}return a}function vW(e){var t=e.scaleName,n=e.fieldOrDatumDef,r=e.fieldOrDatumDef2,a=e.offset,i=e.startSuffix,o=e.band,u=void 0===o?.5:o,s=0<u&&u<1?"datum":void 0,c=aV(n,{expr:s,suffix:i}),l=void 0!==r?aV(r,{expr:s}):aV(n,{suffix:"end",expr:s}),f={};if(0===u||1===u){f.scale=t;var d=0===u?c:l;f.field=d}else{var h="".concat(u," * ").concat(c," + ").concat(1-u," * ").concat(l);f.signal='scale("'.concat(t,'", ').concat(h,")")}return a&&(f.offset=a),f}function mW(e){var t,n=e.channel,r=e.channelDef,a=e.channel2Def,i=e.markDef,o=e.config,u=e.scaleName,s=e.scale,c=e.stack,l=e.offset,f=e.defaultRef,d=e.band;if(r){if($W(r)){if(ZW(r)){d=null!==d&&void 0!==d?d:LW({channel:n,fieldDef:r,fieldDef2:a,markDef:i,stack:c,config:o,isMidPoint:!0});var h=r.bin,p=r.timeUnit,v=r.type;if(oB(h)||d&&p&&v===jU)return c&&c.impute?pW(r,u,{binSuffix:"mid"},{offset:l}):d?vW({scaleName:u,fieldOrDatumDef:r,band:d,offset:l}):pW(r,u,SV(r,n)?{binSuffix:"range"}:{},{offset:l});if(uB(h)){if(GW(a))return vW({scaleName:u,fieldOrDatumDef:r,fieldOrDatumDef2:a,band:d,offset:l});var m=n===qP?YP:KP;FL(b.channelRequiredForBinned(m))}}var g=null===s||void 0===s?void 0:s.get("type");return pW(r,u,ZU(g)?{binSuffix:"range"}:{},{offset:l,band:"band"===g?null!==(t=null!==d&&void 0!==d?d:r.band)&&void 0!==t?t:.5:void 0})}if(JW(r)){var y=r.value,x=l?{offset:l}:{};return Object.assign(Object.assign({},gW(n,y)),x)}}return JF(f)&&(f=f()),f?Object.assign(Object.assign({},f),l?{offset:l}:{}):f}function gW(e,t){return _R(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:_R(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:CV(t)}function bW(e){return e&&"number"!==e&&"time"!==e}function yW(e,t,n){return"".concat(e,"(").concat(t).concat(n?", ".concat(JSON.stringify(n)):"",")")}function xW(e){var t,n,r=e.fieldOrDatumDef,a=e.format,i=e.formatType,o=e.expr,u=e.normalizeStack,s=e.config;if(bW(i))return OW({fieldOrDatumDef:r,format:a,formatType:i,expr:o,config:s});var c=wW(r,o,u);if(kV(r)){var l=function(e,t,n,r,a){return!t||n?(n=rR(n)?n:r,"".concat(a?"utc":"time","Format(").concat(e,", '").concat(n,"')")):function(e,t,n){if(e){var r=JL(e),a=n||XL(e);return"".concat(a?"utc":"time","Format(").concat(t,", ").concat(r,")")}}(t,e,a)}(c,GW(r)?null===(t=QL(r.timeUnit))||void 0===t?void 0:t.unit:void 0,a,s.timeFormat,QW(r)&&(null===(n=r.scale)||void 0===n?void 0:n.type)===MU);return l?{signal:l}:void 0}return a=_W(qW(r),a,s),GW(r)&&oB(r.bin)?{signal:AW(c,aV(r,{expr:o,binSuffix:"end"}),a,i,s)}:a||"quantitative"===qW(r)?{signal:"".concat(SW(c,a))}:{signal:"isValid(".concat(c,") ? ").concat(c,' : ""+').concat(c)}}function wW(e,t,n){return GW(e)?n?"".concat(aV(e,{expr:t,suffix:"end"}),"-").concat(aV(e,{expr:t,suffix:"start"})):aV(e,{expr:t}):function(e){var t=e.datum;return RL(t)?WL(t):"".concat(JSON.stringify(t))}(e)}function OW(e){var t=e.fieldOrDatumDef,n=e.format,r=e.formatType,a=e.expr,i=e.normalizeStack,o=e.config,u=e.field;return u=null!==u&&void 0!==u?u:wW(t,a,i),GW(t)&&oB(t.bin)?{signal:AW(u,aV(t,{expr:a,binSuffix:"end"}),n,r,o)}:{signal:yW(r,u,n)}}function kW(e,t,n,r,a,i){var o;if(!bW(r))return kV(e)?function(e,t,n,r){if(e)return e;if(t)return{signal:JL(t)};return r?void 0:n.timeFormat}(n,GW(e)?null===(o=QL(e.timeUnit))||void 0===o?void 0:o.unit:void 0,a,i):_W(t,n,a)}function jW(e,t,n){return e&&(tU(e)||"number"===e||"time"===e)?e:kV(t)&&"time"!==n&&"utc"!==n?"time":void 0}function _W(e,t,n){return rR(t)?t:e===OU?n.numberFormat:void 0}function SW(e,t){return"format(".concat(e,', "').concat(t||"",'")')}function EW(e,t,n,r){var a;return bW(n)?yW(n,e,t):SW(e,null!==(a=rR(t)?t:void 0)&&void 0!==a?a:r.numberFormat)}function AW(e,t,n,r,a){var i=EW(e,n,r,a),o=EW(t,n,r,a);return"".concat(yU(e,!1),' ? "null" : ').concat(i,' + "').concat(" \u2013 ",'" + ').concat(o)}var CW="min",NW={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function TW(e){return e in NW}function DW(e){return!!e&&!!e.encoding}function IW(e){return!!e&&("count"===e.op||!!e.field)}function MW(e){return!!e&&GF(e)}function FW(e){return"row"in e||"column"in e}function RW(e){return!!e&&"header"in e}function PW(e){return"facet"in e}function zW(e){var t=e.field,n=e.timeUnit,r=e.bin,a=e.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),a?{aggregate:a}:{}),{field:t})}function BW(e){return ZW(e)&&"sort"in e}function LW(e){var t=e.channel,n=e.fieldDef,r=e.fieldDef2,a=e.markDef,i=e.stack,o=e.config,u=e.isMidPoint;if($W(n)&&void 0!==n.band)return n.band;if(GW(n)){var s=n.timeUnit,c=n.bin;if(s&&!r)return u?MV("timeUnitBandPosition",a,o):jP(a.type)?MV("timeUnitBand",a,o):0;if(oB(c))return jP(a.type)&&!u?1:.5}return(null===i||void 0===i?void 0:i.fieldChannel)===t&&u?.5:void 0}function UW(e,t,n,r,a,i){return!!(oB(t.bin)||t.timeUnit&&ZW(t)&&"temporal"===t.type)&&!!LW({channel:e,fieldDef:t,fieldDef2:n,stack:r,markDef:a,config:i})}function WW(e){return!!e&&"condition"in e}function VW(e){var t=e&&e.condition;return!!t&&!GF(t)&&GW(t)}function HW(e){var t=e&&e.condition;return!!t&&!GF(t)&&$W(t)}function GW(e){return!!e&&(!!e.field||"count"===e.aggregate)}function qW(e){return e&&e.type}function XW(e){return!!e&&"datum"in e}function YW(e){return ZW(e)&&oV(e)||KW(e)}function KW(e){return XW(e)&&nR(e.datum)}function $W(e){return GW(e)||XW(e)}function ZW(e){return!!e&&("field"in e&&"type"in e||"count"===e.aggregate)}function JW(e){return e&&"value"in e&&"value"in e}function QW(e){return!!e&&("scale"in e||"sort"in e)}function eV(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function tV(e){return!!e&&"legend"in e}function nV(e){return!!e&&("format"in e||"formatType"in e)}function rV(e){return"op"in e}function aV(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.field,o=a.prefix,u=a.suffix,s="";if(uV(e))i=JR("count");else{var c;if(!a.nofn)if(rV(e))c=e.op;else{var l=e.bin,f=e.aggregate,d=e.timeUnit;oB(l)?(c=iB(l),u=(null!==(t=a.binSuffix)&&void 0!==t?t:"")+(null!==(n=a.suffix)&&void 0!==n?n:"")):f?PP(f)?(s='["'.concat(i,'"]'),i="argmax_".concat(f.argmax)):RP(f)?(s='["'.concat(i,'"]'),i="argmin_".concat(f.argmin)):c=String(f):d&&(c=eU(d),u=(!_R(["range","mid"],a.binSuffix)&&a.binSuffix||"")+(null!==(r=a.suffix)&&void 0!==r?r:""))}c&&(i=i?"".concat(c,"_").concat(i):c)}return u&&(i="".concat(i,"_").concat(u)),o&&(i="".concat(o,"_").concat(i)),a.forAs?XR(i):a.expr?VR(i,a.expr)+s:GR(i)+s}function iV(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return GW(e)&&!!e.bin;case"temporal":return!1}throw new Error(b.invalidFieldType(e.type))}function oV(e){return!iV(e)}function uV(e){return"count"===e.aggregate}var sV=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){var t=e.aggregate,n=e.bin,r=e.timeUnit,a=e.field;if(PP(t))return"".concat(a," for argmax(").concat(t.argmax,")");if(RP(t))return"".concat(a," for argmin(").concat(t.argmin,")");var i=QL(r),o=t||(null===i||void 0===i?void 0:i.unit)||(null===i||void 0===i?void 0:i.maxbins)&&"timeunit"||oB(n)&&"bin";return o?o.toUpperCase()+"("+a+")":a}(e);default:return function(e,t){var n,r=e.field,a=e.bin,i=e.timeUnit,o=e.aggregate;if("count"===o)return t.countTitle;if(oB(a))return"".concat(r," (binned)");if(i){var u=null===(n=QL(i))||void 0===n?void 0:n.unit;if(u)return"".concat(r," (").concat(KL(u).join("-"),")")}else if(o)return PP(o)?"".concat(r," for max ").concat(o.argmax):RP(o)?"".concat(r," for min ").concat(o.argmin):"".concat(UR(o)," of ").concat(r);return r}(e,t)}},cV=sV;function lV(e){cV=e}function fV(){lV(sV)}function dV(e,t,n){var r,a,i=n.allowDisabling,o=n.includeDefault,u=void 0===o||o,s=(null!==(r=hV(e))&&void 0!==r?r:{}).title;if(!GW(e))return s;var c=e,l=u?pV(c,t):void 0;return i?KR(s,c.title,l):null!==(a=null!==s&&void 0!==s?s:c.title)&&void 0!==a?a:l}function hV(e){return eV(e)&&e.axis?e.axis:tV(e)&&e.legend?e.legend:RW(e)&&e.header?e.header:void 0}function pV(e,t){return cV(e,t)}function vV(e){var t;if(nV(e))return{format:e.format,formatType:e.formatType};var n=null!==(t=hV(e))&&void 0!==t?t:{};return{format:n.format,formatType:n.formatType}}function mV(e){return GW(e)?e:VW(e)?e.condition:void 0}function gV(e){return $W(e)?e:HW(e)?e.condition:void 0}function bV(e,t,n){if(rR(e)||nR(e)||tR(e)){var r=rR(e)?"string":nR(e)?"number":"boolean";return FL(b.primitiveChannelDef(t,r,e)),{value:e}}return $W(e)?yV(e,t,n):HW(e)?Object.assign(Object.assign({},e),{condition:yV(e.condition,t,n)}):e}function yV(e,t,n){if(nV(e)){e.format;var r=e.formatType,a=oR(e,["format","formatType"]);if(bW(r)&&!n.customFormatTypes)return FL(b.customFormatTypeNotAllowed(t)),yV(a,t,n)}else{var i=eV(e)?"axis":tV(e)?"legend":RW(e)?"header":null;if(i&&e[i]){var o=e[i],u=(o.format,o.formatType),s=oR(o,["format","formatType"]);if(bW(u)&&!n.customFormatTypes)return FL(b.customFormatTypeNotAllowed(t)),yV(Object.assign(Object.assign({},e),Object(xi.a)({},i,s)),t,n)}}return GW(e)?xV(e,t):function(e){var t=e.type;if(t)return e;var n=e.datum;return t=nR(n)?"quantitative":rR(n)?"nominal":RL(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function xV(e,t){var n=e.aggregate,r=e.timeUnit,a=e.bin,i=e.field,o=Object.assign({},e);if(!n||zP(n)||PP(n)||RP(n)||(FL(b.invalidAggregate(n)),delete o.aggregate),r&&(o.timeUnit=QL(r)),i&&(o.field="".concat(i)),oB(a)&&(o.bin=wV(a,t)),uB(a)&&!qz(t)&&FL("Channel ".concat(t,' should not be used with "binned" bin.')),ZW(o)){var u=o.type,s=function(e){if(e)switch(e=e.toLowerCase()){case"q":case OU:return"quantitative";case"t":case jU:return"temporal";case"o":case kU:return"ordinal";case"n":case _U:return"nominal";case SU:return"geojson"}}(u);u!==s&&(o.type=s),"quantitative"!==u&&LP(n)&&(FL(b.invalidFieldTypeForCountAggregate(u,n)),o.type="quantitative")}else if(!Pz(t)){var c=function(e,t){if(e.timeUnit)return"temporal";if(oB(e.bin))return"quantitative";switch(aB(t)){case"continuous":default:return"quantitative";case"discrete":case"flexible":return"nominal"}}(o,t);FL(b.missingFieldType(t,c)),o.type=c}if(ZW(o)){var l=function(e,t){var n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:"Channel ".concat(t," should not be used with a geojson data.")};switch(t){case VP:case HP:case GP:return oV(e)?{compatible:!1,warning:b.facetChannelShouldBeDiscrete(t)}:OV;case qP:case XP:case az:case iz:case oz:case vz:case gz:case bz:case yz:case xz:case wz:case cz:case JP:case $P:case Oz:return OV;case tz:case rz:case ez:case nz:return n!==OU?{compatible:!1,warning:"Channel ".concat(t," should be used with a quantitative field only, not ").concat(e.type," field.")}:OV;case lz:case fz:case dz:case hz:case sz:case QP:case ZP:case YP:case KP:return"nominal"!==n||e.sort?OV:{compatible:!1,warning:"Channel ".concat(t," should not be used with an unsorted discrete field.")};case pz:return _R(["ordinal","nominal"],e.type)?OV:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case uz:return _R(["ordinal","nominal","geojson"],e.type)?OV:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case mz:return"nominal"!==e.type||"sort"in e?OV:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(o,t),f=l.compatible,d=l.warning;f||FL(d)}if(BW(o)&&rR(o.sort)){var h=o.sort;if(TW(h))return Object.assign(Object.assign({},o),{sort:{encoding:h}});var p=h.substr(1);if("-"===h.charAt(0)&&TW(p))return Object.assign(Object.assign({},o),{sort:{encoding:p,order:"descending"}})}if(RW(o)){var v=o.header,m=v.orient,g=oR(v,["orient"]);if(m)return Object.assign(Object.assign({},o),{header:Object.assign(Object.assign({},g),{labelOrient:v.labelOrient||m,titleOrient:v.titleOrient||m})})}return o}function wV(e,t){return tR(e)?{maxbins:lB(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:lB(t)})}var OV={compatible:!0};function kV(e){var t,n=vV(e).formatType;return"time"===n||!n&&((t=e)&&("temporal"===t.type||GW(t)&&!!t.timeUnit))}function jV(e,t){var n,r,a=t.timeUnit,i=t.type,o=t.wrapTime,u=t.undefinedIfExprNotRequired,s=a&&(null===(n=QL(a))||void 0===n?void 0:n.unit),c=s||"temporal"===i;return tU(e)?r=e.signal:RL(e)?(c=!0,r=WL(e)):(rR(e)||nR(e))&&c&&(r="datetime(".concat(JSON.stringify(e),")"),function(e){return!!GL[e]}(s)&&(nR(e)&&e<1e4||rR(e)&&isNaN(Date.parse(e)))&&(r=WL(Object(xi.a)({},s,e)))),r?o&&c?"time(".concat(r,")"):r:u?void 0:JSON.stringify(e)}function _V(e,t){var n=e.type;return t.map((function(t){var r=jV(t,{timeUnit:GW(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t}))}function SV(e,t){return oB(e.bin)?eB(t)&&_R(["ordinal","nominal"],e.type):(console.warn("Only call this method for binned field defs."),!1)}function EV(e){var t=e.anchor,n=e.frame,r=e.offset,a=e.orient,i=e.color,o=e.subtitleColor,u=e.subtitleFont,s=e.subtitleFontSize,c=e.subtitleFontStyle,l=e.subtitleFontWeight,f=e.subtitleLineHeight,d=e.subtitlePadding,h=oR(e,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),p=Object.assign(Object.assign({},h),i?{fill:i}:{}),v=Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),a?{orient:a}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o?{subtitleColor:o}:{}),u?{subtitleFont:u}:{}),s?{subtitleFontSize:s}:{}),c?{subtitleFontStyle:c}:{}),l?{subtitleFontWeight:l}:{}),f?{subtitleLineHeight:f}:{}),d?{subtitlePadding:d}:{});return{titleMarkConfig:p,subtitleMarkConfig:xR(p,["align","baseline","dx","dy","limit"]),nonMark:v,subtitle:m}}function AV(e){return rR(e)||GF(e)&&rR(e[0])}function CV(e){return tU(e)?e:void 0!==e?{value:e}:void 0}function NV(e){return tU(e)?e.signal:aR(e.value)}function TV(e){return tU(e)?e.signal:null==e?null:aR(e)}function DV(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function IV(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.vgChannel,i=r.ignoreVgConfig;return a&&void 0!==t[a]?t[a]:void 0!==t[e]?t[e]:!i||a&&a!==e?MV(e,t,n,r):void 0}function MV(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.vgChannel;return KR(a?FV(e,t,n.style):void 0,FV(e,t,n.style),a?n[t.type][a]:void 0,n[t.type][e],a?n.mark[a]:n.mark[e])}function FV(e,t,n){return RV(e,DV(t),n)}function RV(e,t,n){var r;t=ZF(t);var a,i=Object(Fn.a)(t);try{for(i.s();!(a=i.n()).done;){var o=n[a.value];o&&void 0!==o[e]&&(r=o[e])}}catch(u){i.e(u)}finally{i.f()}return r}function PV(e,t){return ZF(e).reduce((function(e,n){var r;return e.field.push(aV(n,t)),e.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),e}),{field:[],order:[]})}function zV(e,t){var n=Object(yi.a)(e);return t.forEach((function(e){var t,r=Object(Fn.a)(n);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(bR(a,e))return}}catch(i){r.e(i)}finally{r.f()}n.push(e)})),n}function BV(e,t){return bR(e,t)||!t?e:e?[].concat(Object(yi.a)(ZF(e)),Object(yi.a)(ZF(t))).join(", "):t}function LV(e,t){var n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if((AV(n)||tU(n))&&(AV(r)||tU(r)))return{explicit:e.explicit,value:BV(n,r)};if(AV(n)||tU(n))return{explicit:e.explicit,value:n};if(AV(r)||tU(r))return{explicit:e.explicit,value:r};if(!AV(n)&&!tU(n)&&!AV(r)&&!tU(r))return{explicit:e.explicit,value:zV(n,r)};throw new Error("It should never reach here")}function UV(e,t){var n=e&&e[t];return!!n&&(GF(n)?SR(n,(function(e){return!!e.field})):GW(n)||VW(n))}function WV(e){return SR(Dz,(function(t){if(UV(e,t)){var n=e[t];if(GF(n))return SR(n,(function(e){return!!e.aggregate}));var r=mV(n);return r&&!!r.aggregate}return!1}))}function VV(e,t){var n=[],r=[],a=[],i=[],o={};return qV(e,(function(u,s){if(GW(u)){var c=u.field,l=u.aggregate,f=u.bin,d=u.timeUnit,h=oR(u,["field","aggregate","bin","timeUnit"]);if(l||d||f){var p,v=hV(u),m=v&&v.title,g=aV(u,{forAs:!0}),b=Object.assign(Object.assign(Object.assign({},m?[]:{title:dV(u,t,{allowDisabling:!0})}),h),{field:g});if(l){if(PP(l)?(p="argmax",g=aV({op:"argmax",field:l.argmax},{forAs:!0}),b.field="".concat(g,".").concat(c)):RP(l)?(p="argmin",g=aV({op:"argmin",field:l.argmin},{forAs:!0}),b.field="".concat(g,".").concat(c)):"boxplot"!==l&&"errorbar"!==l&&"errorband"!==l&&(p=l),p){var y={op:p,as:g};c&&(y.field=c),i.push(y)}}else if(n.push(g),ZW(u)&&oB(f)){if(r.push({bin:f,field:c,as:g}),n.push(aV(u,{binSuffix:"end"})),SV(u,s)&&n.push(aV(u,{binSuffix:"range"})),qz(s)){var x={field:g+"_end"};o[s+"2"]=x}b.bin="binned",Pz(s)||(b.type=OU)}else if(d){a.push({timeUnit:d,field:c,as:g});var w=ZW(u)&&u.type!==jU&&"time";w&&(s===vz||s===yz?b.formatType=w:!function(e){return!!Wz[e]}(s)?qz(s)&&(b.axis=Object.assign({formatType:w},b.axis)):b.legend=Object.assign({formatType:w},b.legend))}o[s]=b}else n.push(c),o[s]=e[s]}else o[s]=e[s]})),{bins:r,timeUnits:a,aggregate:i,groupby:n,encoding:o}}function HV(e,t,n){var r=t.type;return MR(e).reduce((function(a,i){if(!Fz(i))return FL(b.invalidEncodingChannel(i)),a;var o=e[i];if("angle"!==i||"arc"!==r||e.theta||(FL(b.REPLACE_ANGLE_WITH_THETA),i=JP),!function(e,t,n){var r=tB(t,n);if(!r)return!1;if("binned"===r){var a=e[t===YP?qP:XP];return!!(GW(a)&&GW(e[t])&&uB(a.bin))}return!0}(e,i,r))return FL(b.incompatibleChannel(i,r)),a;if(i===sz&&"line"===r){var u=mV(e[i]);if(null===u||void 0===u?void 0:u.aggregate)return FL(b.LINE_WITH_VARYING_SIZE),a}if(i===az&&(t.filled?"fill"in e:"stroke"in e))return FL(b.droppingColor("encoding",{fill:"fill"in e,stroke:"stroke"in e})),a;if(i===gz||i===mz&&!GF(o)&&!JW(o)||i===yz&&GF(o))o&&(a[i]=ZF(o).reduce((function(e,t){return GW(t)?e.push(xV(t,i)):FL(b.emptyFieldDef(t,i)),e}),[]));else{if(i===yz&&null===o)a[i]=null;else if(!GW(o)&&!XW(o)&&!JW(o)&&!WW(o)&&!tU(o))return FL(b.emptyFieldDef(o,i)),a;a[i]=bV(o,i,n)}return a}),{})}function GV(e){var t,n=[],r=Object(Fn.a)(MR(e));try{for(r.s();!(t=r.n()).done;){var a=t.value;if(UV(e,a)){var i,o=e[a],u=ZF(o),s=Object(Fn.a)(u);try{for(s.s();!(i=s.n()).done;){var c=i.value;GW(c)?n.push(c):VW(c)&&n.push(c.condition)}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){r.e(l)}finally{r.f()}return n}function qV(e,t,n){if(e){var r,a=Object(Fn.a)(MR(e));try{for(a.s();!(r=a.n()).done;){var i=r.value,o=e[i];if(GF(o)){var u,s=Object(Fn.a)(o);try{for(s.s();!(u=s.n()).done;){var c=u.value;t.call(n,c,i)}}catch(l){s.e(l)}finally{s.f()}}else t.call(n,o,i)}}catch(l){a.e(l)}finally{a.f()}}}function XV(e,t,n,r){return e?MR(e).reduce((function(n,a){var i=e[a];return GF(i)?i.reduce((function(e,n){return t.call(r,e,n,a)}),n):t.call(r,n,i,a)}),n):n}function YV(e,t){return MR(t).reduce((function(n,r){switch(r){case qP:case XP:case xz:case Oz:case wz:case YP:case KP:case JP:case QP:case $P:case ZP:case ez:case tz:case nz:case rz:case vz:case uz:case cz:case yz:return n;case mz:if("line"===e||"trail"===e)return n;case gz:case bz:var a=t[r];if(GF(a)||GW(a)){var i,o=Object(Fn.a)(ZF(a));try{for(o.s();!(i=o.n()).done;){var u=i.value;u.aggregate||n.push(aV(u,{}))}}catch(c){o.e(c)}finally{o.f()}}return n;case sz:if("trail"===e)return n;case az:case iz:case oz:case lz:case fz:case dz:case pz:case hz:var s=mV(t[r]);return s&&!s.aggregate&&n.push(aV(s,{})),n}}),[])}function KV(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};var a=e.map((function(e){var n=e.fieldPrefix,a=e.titlePrefix,i=r?" of ".concat(t.field):"";return{field:n+t.field,type:t.type,title:tU(a)?{signal:a+'"'.concat(escape(i),'"')}:a+i}}));return{tooltip:[].concat(Object(yi.a)(a),Object(yi.a)(GV(n)))}}function $V(e){var t=e.axis,n=e.title,r=e.field;return t&&void 0!==t.title?void 0:KR(n,r)}function ZV(e,t,n,r,a){var i=n.scale,o=n.axis;return function(u){var s=u.partName,c=u.mark,l=u.positionPrefix,f=u.endPositionPrefix,d=void 0===f?void 0:f,h=u.aria,p=u.extraEncoding,v=void 0===p?{}:p,m=$V(n);return JV(e,s,a,h,{mark:c,encoding:Object.assign(Object.assign(Object.assign(Object(xi.a)({},t,Object.assign(Object.assign(Object.assign({field:l+"_"+n.field,type:n.type},void 0!==m?{title:m}:{}),void 0!==i?{scale:i}:{}),void 0!==o?{axis:o}:{})),rR(d)?Object(xi.a)({},t+"2",{field:d+"_"+n.field}):{}),r),v)})}}function JV(e,t,n,r,a){var i=e.clip,o=e.color,u=e.opacity,s=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},a),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),o?{color:o}:{}),u?{opacity:u}:{}),SP(a.mark)?a.mark:{type:a.mark}),{style:"".concat(s,"-").concat(t)}),tR(e[t])?{}:e[t]),!1===r?{aria:r}:{})})]:[]}function QV(e,t,n){var r=e.encoding,a="vertical"===t?"y":"x",i=r[a],o=r[a+"2"],u=r[a+"Error"],s=r[a+"Error2"];return{continuousAxisChannelDef:eH(i,n),continuousAxisChannelDef2:eH(o,n),continuousAxisChannelDefError:eH(u,n),continuousAxisChannelDefError2:eH(s,n),continuousAxis:a}}function eH(e,t){if(e&&e.aggregate){var n=e.aggregate,r=oR(e,["aggregate"]);return n!==t&&FL(b.errorBarContinuousAxisHasCustomizedAggregate(n,t)),r}return e}function tH(e,t){var n=e.mark,r=e.encoding,a=r.x,i=r.y;if(YW(a)){if(YW(i)){var o=GW(a)&&a.aggregate,u=GW(i)&&i.aggregate;if(o||u!==t){if(u||o!==t){if(o===t&&u===t)throw new Error("Both x and y cannot have aggregate");return SP(n)&&n.orient?n.orient:"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(YW(i))return"vertical";throw new Error("Need a valid continuous axis for "+t+"s")}var nH="boxplot",rH=new IP(nH,iH);function aH(e){return nR(e)?"tukey":e}function iH(e,t){var n,r,a=t.config,i=e.mark,o=(e.encoding,e.selection),u=(e.projection,oR(e,["mark","encoding","selection","projection"])),s=SP(i)?i:{type:i};o&&FL(b.selectionNotSupported("boxplot"));var c,l=null!==(n=s.extent)&&void 0!==n?n:a.boxplot.extent,f=IV("size",s,a),d=aH(l),h=function(e,t,n){var r=tH(e,nH),a=QV(e,r,nH),i=a.continuousAxisChannelDef,o=a.continuousAxis,u=i.field,s=aH(t),c=[].concat(Object(yi.a)(oH(u)),[{op:"median",field:u,as:"mid_box_"+u},{op:"min",field:u,as:("min-max"===s?"lower_whisker_":"min_")+u},{op:"max",field:u,as:("min-max"===s?"upper_whisker_":"max_")+u}]),l="min-max"===s||"tukey"===s?[]:[{calculate:'datum["upper_box_'.concat(u,'"] - datum["lower_box_').concat(u,'"]'),as:"iqr_"+u},{calculate:'min(datum["upper_box_'.concat(u,'"] + datum["iqr_').concat(u,'"] * ').concat(t,', datum["max_').concat(u,'"])'),as:"upper_whisker_"+u},{calculate:'max(datum["lower_box_'.concat(u,'"] - datum["iqr_').concat(u,'"] * ').concat(t,', datum["min_').concat(u,'"])'),as:"lower_whisker_"+u}],f=e.encoding,d=o,h=(f[d],function(e){var t,n,r=e.tooltip,a=oR(e,["tooltip"]);if(!r)return{filteredEncoding:e};if(GF(r)){var i,o=Object(Fn.a)(r);try{for(o.s();!(i=o.n()).done;){var u=i.value;u.aggregate?(t||(t=[]),t.push(u)):(n||(n=[]),n.push(u))}}catch(s){o.e(s)}finally{o.f()}t&&(a.tooltip=t)}else r.aggregate?a.tooltip=r:n=r;return GF(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:a}}(oR(f,["symbol"===typeof d?d:d+""]))),p=h.customTooltipWithoutAggregatedField,v=VV(h.filteredEncoding,n),m=v.bins,g=v.timeUnits,b=v.aggregate,y=v.groupby,x=v.encoding,w="vertical"===r?"horizontal":"vertical",O=r;return{transform:[].concat(Object(yi.a)(m),Object(yi.a)(g),[{aggregate:[].concat(Object(yi.a)(b),Object(yi.a)(c)),groupby:y}],l),groupby:y,aggregate:b,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:x,ticksOrient:w,boxOrient:O,customTooltipWithoutAggregatedField:p}}(e,l,a),p=h.transform,v=h.continuousAxisChannelDef,m=h.continuousAxis,g=h.groupby,y=h.aggregate,x=h.encodingWithoutContinuousAxis,w=h.ticksOrient,O=h.boxOrient,k=h.customTooltipWithoutAggregatedField,j=(x.color,x.size),_=oR(x,["color","size"]),S=function(e){return ZV(s,m,v,e,a.boxplot)},E=S(_),A=S(x),C=S(Object.assign(Object.assign({},_),j?{size:j}:{})),N=KV([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],v,x),T={type:"tick",color:"black",opacity:1,orient:w,invalid:null},D="min-max"===d?N:KV([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],v,x),I=[].concat(Object(yi.a)(E({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",aria:!1,extraEncoding:D})),Object(yi.a)(E({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",aria:!1,extraEncoding:D})),Object(yi.a)(E({partName:"ticks",mark:T,positionPrefix:"lower_whisker",aria:!1,extraEncoding:D})),Object(yi.a)(E({partName:"ticks",mark:T,positionPrefix:"upper_whisker",aria:!1,extraEncoding:D}))),M=[].concat(Object(yi.a)("tukey"!==d?I:[]),Object(yi.a)(A({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:O,invalid:null}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",aria:!1,extraEncoding:N})),Object(yi.a)(C({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},qF(a.boxplot.median)&&a.boxplot.median.color?{color:a.boxplot.median.color}:{}),f?{size:f}:{}),{orient:w,ariaRoleDescription:"box"}),positionPrefix:"mid_box",extraEncoding:N})));if("min-max"!==d){var F='datum["lower_box_'.concat(v.field,'"]'),R='datum["upper_box_'.concat(v.field,'"]'),P="(".concat(R," - ").concat(F,")"),z="".concat(F," - ").concat(l," * ").concat(P),B="".concat(R," + ").concat(l," * ").concat(P),L='datum["'.concat(v.field,'"]'),U={joinaggregate:oH(v.field),groupby:g},W=void 0;"tukey"===d&&(W={transform:[{filter:"(".concat(z," <= ").concat(L,") && (").concat(L," <= ").concat(B,")")},{aggregate:[{op:"min",field:v.field,as:"lower_whisker_"+v.field},{op:"max",field:v.field,as:"upper_whisker_"+v.field},{op:"min",field:"lower_box_"+v.field,as:"lower_box_"+v.field},{op:"max",field:"upper_box_"+v.field,as:"upper_box_"+v.field}].concat(Object(yi.a)(y)),groupby:g}],layer:I});_.tooltip;var V=oR(_,["tooltip"]),H=v.scale,G=v.axis,q=$V(v),X=JV(s,"outliers",a.boxplot,!0,{transform:[{filter:"(".concat(L," < ").concat(z,") || (").concat(L," > ").concat(B,")")}],mark:"point",encoding:Object.assign(Object.assign(Object(xi.a)({},m,Object.assign(Object.assign(Object.assign({field:v.field,type:v.type},void 0!==q?{title:q}:{}),void 0!==H?{scale:H}:{}),void 0!==G?{axis:G}:{})),V),k?{tooltip:k}:{})})[0];X&&W?c={transform:[U],layer:[X,W]}:X?(c=X).transform.unshift(U):W&&(c=W).transform.unshift(U)}return c?Object.assign(Object.assign({},u),{layer:[c,{transform:p,layer:M}]}):Object.assign(Object.assign({},u),{transform:(null!==(r=u.transform)&&void 0!==r?r:[]).concat(p),layer:M})}function oH(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}var uH="errorbar",sH=new IP(uH,cH);function cH(e,t){var n=t.config,r=fH(e,uH,n),a=r.transform,i=r.continuousAxisChannelDef,o=r.continuousAxis,u=r.encodingWithoutContinuousAxis,s=r.ticksOrient,c=r.markDef,l=r.outerSpec,f=r.tooltipEncoding,d=ZV(c,o,i,u,n.errorbar),h={type:"tick",orient:s},p=[].concat(Object(yi.a)(d({partName:"ticks",mark:h,positionPrefix:"lower",aria:!1,extraEncoding:f})),Object(yi.a)(d({partName:"ticks",mark:h,positionPrefix:"upper",aria:!1,extraEncoding:f})),Object(yi.a)(d({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar"},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})));return Object.assign(Object.assign(Object.assign({},l),{transform:a}),p.length>1?{layer:p}:Object.assign({},p[0]))}function lH(e,t){var n=e.encoding;if(function(e){return($W(e.x)||$W(e.y))&&!$W(e.x2)&&!$W(e.y2)&&!$W(e.xError)&&!$W(e.xError2)&&!$W(e.yError)&&!$W(e.yError2)}(n))return{orient:tH(e,t),inputType:"raw"};var r=function(e){return $W(e.x2)||$W(e.y2)}(n),a=function(e){return $W(e.xError)||$W(e.xError2)||$W(e.yError)||$W(e.yError2)}(n),i=n.x,o=n.y;if(r){if(a)throw new Error("".concat(t," cannot be both type aggregated-upper-lower and aggregated-error"));var u=n.x2,s=n.y2;if($W(u)&&$W(s))throw new Error("".concat(t," cannot have both x2 and y2"));if($W(u)){if(YW(i))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(t))}if($W(s)){if(YW(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(t))}throw new Error("No ranged axis")}var c=n.xError,l=n.xError2,f=n.yError,d=n.yError2;if($W(l)&&!$W(c))throw new Error("".concat(t," cannot have xError2 without xError"));if($W(d)&&!$W(f))throw new Error("".concat(t," cannot have yError2 without yError"));if($W(c)&&$W(f))throw new Error("".concat(t," cannot have both xError and yError with both are quantiative"));if($W(c)){if(YW(i))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if($W(f)){if(YW(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}function fH(e,t,n){var r,a=e.mark,i=e.encoding,o=e.selection,u=(e.projection,oR(e,["mark","encoding","selection","projection"])),s=SP(a)?a:{type:a};o&&FL(b.selectionNotSupported(t));var c=lH(e,t),l=c.orient,f=c.inputType,d=QV(e,l,t),h=d.continuousAxisChannelDef,p=d.continuousAxisChannelDef2,v=d.continuousAxisChannelDefError,m=d.continuousAxisChannelDefError2,g=d.continuousAxis,y=function(e,t,n,r,a,i,o,u){var s,c=[],l=[],f=t.field,d=!1;if("raw"===i){var h,p,v,m=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":u.errorbar.center,g=e.extent?e.extent:"mean"===m?"stderr":"iqr";if("median"===m!==("iqr"===g)&&FL(b.errorBarCenterIsUsedWithWrongExtent(m,g,o)),"stderr"===g||"stdev"===g)c=[{op:g,field:f,as:"extent_"+f},{op:m,field:f,as:"center_"+f}],l=[{calculate:'datum["center_'.concat(f,'"] + datum["extent_').concat(f,'"]'),as:"upper_"+f},{calculate:'datum["center_'.concat(f,'"] - datum["extent_').concat(f,'"]'),as:"lower_"+f}],s=[{fieldPrefix:"center_",titlePrefix:UR(m)},{fieldPrefix:"upper_",titlePrefix:dH(m,g,"+")},{fieldPrefix:"lower_",titlePrefix:dH(m,g,"-")}],d=!0;else e.center&&e.extent&&FL(b.errorBarCenterIsNotNeeded(e.extent,o)),"ci"===g?(h="mean",p="ci0",v="ci1"):(h="median",p="q1",v="q3"),c=[{op:p,field:f,as:"lower_"+f},{op:v,field:f,as:"upper_"+f},{op:h,field:f,as:"center_"+f}],s=[{fieldPrefix:"upper_",titlePrefix:dV({field:f,aggregate:v,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:dV({field:f,aggregate:p,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:dV({field:f,aggregate:h,type:"quantitative"},u,{allowDisabling:!1})}]}else{(e.center||e.extent)&&FL(b.errorBarCenterAndExtentAreNotNeeded(e.center,e.extent)),"aggregated-upper-lower"===i?(s=[],l=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_"+f},{calculate:'datum["'.concat(f,'"]'),as:"lower_"+f}]):"aggregated-error"===i&&(s=[{fieldPrefix:"",titlePrefix:f}],l=[{calculate:'datum["'.concat(f,'"] + datum["').concat(r.field,'"]'),as:"upper_"+f}],a?l.push({calculate:'datum["'.concat(f,'"] + datum["').concat(a.field,'"]'),as:"lower_"+f}):l.push({calculate:'datum["'.concat(f,'"] - datum["').concat(r.field,'"]'),as:"lower_"+f}));var y,x=Object(Fn.a)(l);try{for(x.s();!(y=x.n()).done;){var w=y.value;s.push({fieldPrefix:w.as.substring(0,6),titlePrefix:qR(qR(w.calculate,'datum["',""),'"]',"")})}}catch(O){x.e(O)}finally{x.f()}}return{postAggregateCalculates:l,errorBarSpecificAggregate:c,tooltipSummary:s,tooltipTitleWithFieldName:d}}(s,h,p,v,m,f,t,n),x=y.errorBarSpecificAggregate,w=y.postAggregateCalculates,O=y.tooltipSummary,k=y.tooltipTitleWithFieldName,j=i,_=g,S=(j[_],"x"===g?"x2":"y2"),E=(j[S],"x"===g?"xError":"yError"),A=(j[E],"x"===g?"xError2":"yError2"),C=(j[A],VV(oR(j,["symbol"===typeof _?_:_+"","symbol"===typeof S?S:S+"","symbol"===typeof E?E:E+"","symbol"===typeof A?A:A+""]),n)),N=C.bins,T=C.timeUnits,D=C.aggregate,I=C.groupby,M=C.encoding,F=[].concat(Object(yi.a)(D),Object(yi.a)(x)),R="raw"!==f?[]:I,P=KV(O,h,M,k);return{transform:[].concat(Object(yi.a)(null!==(r=u.transform)&&void 0!==r?r:[]),Object(yi.a)(N),Object(yi.a)(T),Object(yi.a)(0===F.length?[]:[{aggregate:F,groupby:R}]),Object(yi.a)(w)),groupby:R,continuousAxisChannelDef:h,continuousAxis:g,encodingWithoutContinuousAxis:M,ticksOrient:"vertical"===l?"horizontal":"vertical",markDef:s,outerSpec:u,tooltipEncoding:P}}function dH(e,t,n){return UR(e)+" "+n+" "+t}var hH="errorband",pH=new IP(hH,vH);function vH(e,t){var n=t.config,r=fH(e,hH,n),a=r.transform,i=r.continuousAxisChannelDef,o=r.continuousAxis,u=r.encodingWithoutContinuousAxis,s=r.markDef,c=r.outerSpec,l=r.tooltipEncoding,f=s,d=ZV(f,o,i,u,n.errorband),h=void 0!==e.encoding.x&&void 0!==e.encoding.y,p={type:h?"area":"rect"},v={type:h?"line":"rule"},m=Object.assign(Object.assign({},f.interpolate?{interpolate:f.interpolate}:{}),f.tension&&f.interpolate?{tension:f.tension}:{});return h?(p=Object.assign(Object.assign(Object.assign({},p),m),{ariaRoleDescription:"errorband"}),v=Object.assign(Object.assign({},v),m)):f.interpolate?FL(b.errorBand1DNotSupport("interpolate")):f.tension&&FL(b.errorBand1DNotSupport("tension")),Object.assign(Object.assign({},c),{transform:a,layer:[].concat(Object(yi.a)(d({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})),Object(yi.a)(d({partName:"borders",mark:v,positionPrefix:"lower",aria:!1,extraEncoding:l})),Object(yi.a)(d({partName:"borders",mark:v,positionPrefix:"upper",aria:!1,extraEncoding:l})))})}var mH={};function gH(e,t,n){var r=new IP(e,t);mH[e]={normalizer:r,parts:n}}gH(nH,iH,["box","median","outliers","rule","ticks"]),gH(uH,cH,["ticks","rule"]),gH(hH,vH,["band","borders"]);var bH=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],yH=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],xH={fillColor:{part:"legend",vgProp:"fill"},gradientStrokeColor:{part:"gradient",vgProp:"stroke"},labelColor:{part:"labels",vgProp:"fill"},strokeColor:{part:"legend",vgProp:"stroke"},symbolFillColor:{part:"symbols",vgProp:"fill"},symbolStrokeColor:{part:"symbols",vgProp:"stroke"},titleColor:{part:"title",vgProp:"fill"}},wH={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},OH=(MR(wH),"_vgsid_"),kH={single:{on:"click",fields:[OH],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:[OH],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function jH(e){return!!e&&("legend"===e||!!e.legend)}function _H(e){return jH(e)&&qF(e)}function SH(e){return"concat"in e}function EH(e){return"vconcat"in e}function AH(e){return"hconcat"in e}function CH(e){return qF(e)&&void 0!==e.step}function NH(e){return e.view||e.width||e.height}var TH=MR({align:1,bounds:1,center:1,columns:1,spacing:1});function DH(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function IH(e,t){var n=MH(e,t);return CH(n)?n.step:FH}function MH(e,t){var n;return KR(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}var FH=20;var RH={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:FH},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:NP,circle:{},geoshape:{},image:{},line:{},point:{},rect:TP,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:kH,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},PH=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],zH={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},BH={blue:PH[0],orange:PH[1],red:PH[2],teal:PH[3],green:PH[4],yellow:PH[5],purple:PH[6],pink:PH[7],brown:PH[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function LH(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:qF(e)?Object.assign(Object.assign({},BH),e):BH}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function UH(e){return{signals:[{name:"fontSize",value:qF(e)?Object.assign(Object.assign({},zH),e):zH}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function WH(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function VH(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.font,r=e.fontSize,a=oR(e,["color","font","fontSize"]);return YF({},RH,n?WH(n):{},t?LH(t):{},r?UH(r):{},a||{})}var HH=["view"].concat(Object(yi.a)(_P)),GH=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],qH=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function XH(e){e=yR(e);var t,n=Object(Fn.a)(GH);try{for(n.s();!(t=n.n()).done;){delete e[t.value]}}catch(k){n.e(k)}finally{n.f()}if(e.axis)for(var r in e.axis)nP(e.axis[r])&&delete e.axis[r];if(e.legend){var a,i=Object(Fn.a)(bH);try{for(i.s();!(a=i.n()).done;){var o=a.value;delete e.legend[o]}}catch(k){i.e(k)}finally{i.f()}}if(e.mark){var u,s=Object(Fn.a)(AP);try{for(s.s();!(u=s.n()).done;){var c=u.value;delete e.mark[c]}}catch(k){s.e(k)}finally{s.f()}e.mark.tooltip&&qF(e.mark.tooltip)&&delete e.mark.tooltip}var l,f=Object(Fn.a)(HH);try{for(f.s();!(l=f.n()).done;){var d,h=l.value,p=Object(Fn.a)(AP);try{for(p.s();!(d=p.n()).done;){var v=d.value;delete e[h][v]}}catch(k){p.e(k)}finally{p.f()}var m=qH[h];if(m){var g,b=Object(Fn.a)(m);try{for(b.s();!(g=b.n()).done;){var y=g.value;delete e[h][y]}}catch(k){b.e(k)}finally{b.f()}}YH(e,h)}}catch(k){f.e(k)}finally{f.f()}var x,w=Object(Fn.a)(MR(mH));try{for(w.s();!(x=w.n()).done;){delete e[x.value]}}catch(k){w.e(k)}finally{w.f()}for(var O in function(e){var t=EV(e.title),n=t.titleMarkConfig,r=t.subtitleMarkConfig,a=t.subtitle;IR(n)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),n));IR(r)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),r));IR(a)?delete e.title:e.title=a}(e),e)qF(e[O])&&IR(e[O])&&delete e[O];return IR(e)?void 0:e}function YH(e,t,n,r){var a=r?e[t][r]:e[t];"view"===t&&(n="cell");var i=Object.assign(Object.assign({},a),e.style[null!==n&&void 0!==n?n:t]);IR(i)||(e.style[null!==n&&void 0!==n?n:t]=i),r||delete e[t]}function KH(e){return"layer"in e}var $H=n(36),ZH=n(34),JH=n(17),QH=n(18),eG=function(){function e(){Object(Zg.a)(this,e)}return Object(Jg.a)(e,[{key:"map",value:function(e,t){return PW(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):AH(e)?this.mapHConcat(e,t):EH(e)?this.mapVConcat(e,t):SH(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if(KH(e))return this.mapLayer(e,t);if(DP(e))return this.mapUnit(e,t);throw new Error(b.invalidSpec(e))}},{key:"mapLayer",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{layer:e.layer.map((function(e){return n.mapLayerOrUnit(e,t)}))})}},{key:"mapHConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapVConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapConcat",value:function(e,t){var n=this,r=e.concat,a=oR(e,["concat"]);return Object.assign(Object.assign({},a),{concat:r.map((function(e){return n.map(e,t)}))})}},{key:"mapFacet",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}},{key:"mapRepeat",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}]),e}(),tG={zero:1,center:1,normalize:1};function nG(e){return e in tG}var rG=new Set([cP,fP,lP,mP,pP,xP,wP,hP,gP,bP]),aG=new Set([fP,lP,cP]);function iG(e,t){var n,r,a="x"===t?"y":"radius",i=e[t],o=e[a];if(GW(i)&&GW(o))if("quantitative"===qW(i)&&"quantitative"===qW(o)){if(i.stack)return t;if(o.stack)return a;var u=GW(i)&&!!i.aggregate;if(u!==(GW(o)&&!!o.aggregate))return u?t:a;var s=null===(n=i.scale)||void 0===n?void 0:n.type,c=null===(r=o.scale)||void 0===r?void 0:r.type;if(s&&"linear"!==s)return a;if(c&&"linear"!==c)return t}else{if("quantitative"===qW(i))return t;if("quantitative"===qW(o))return a}else{if("quantitative"===qW(i))return t;if("quantitative"===qW(o))return a}}function oG(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function uG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=SP(e)?e.type:e;if(!rG.has(r))return null;var a=iG(t,"x")||iG(t,"theta");if(!a)return null;var i=t[a],o=GW(i)?aV(i,{}):void 0,u=oG(a),s=t[u],c=GW(s)?aV(s,{}):void 0;c===o&&(c=void 0,s=void 0,u=void 0);var l,f=Vz.reduce((function(e,n){if("tooltip"!==n&&UV(t,n)){var r,a=t[n],i=Object(Fn.a)(ZF(a));try{for(i.s();!(r=i.n()).done;){var o=mV(r.value);if(!o.aggregate){var u=aV(o,{});u&&u===c||e.push({channel:n,fieldDef:o})}}}catch(s){i.e(s)}finally{i.f()}}return e}),[]);if(void 0!==i.stack?l=tR(i.stack)?i.stack?"zero":null:i.stack:f.length>0&&aG.has(r)&&(l="zero"),!l||!nG(l))return null;if(WV(t)&&0===f.length)return null;if(i.scale&&i.scale.type&&i.scale.type!==AU){if(n.disallowNonLinearStack)return null;FL(b.cannotStackNonLinearScale(i.scale.type))}return $W(t[Lz(a)])?(void 0!==i.stack&&FL(b.cannotStackRangedMark(a)),null):(GW(i)&&i.aggregate&&!_R(UP,i.aggregate)&&FL(b.stackNonSummativeAggregate(i.aggregate)),{groupbyChannel:s?u:void 0,groupbyField:c,fieldChannel:a,impute:null!==i.impute&&kP(r),stackBy:f,offset:l})}function sG(e){e.point,e.line;var t=oR(e,["point","line"]);return MR(t).length>1?t:t.type}function cG(e){for(var t=0,n=["line","area","rule","trail"];t<n.length;t++){var r=n[t];e[r]&&(e=Object.assign(Object.assign({},e),Object(xi.a)({},r,wR(e[r],["point","line"]))))}return e}function lG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?qF(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?qF(t.point)?t.point:{}:void 0}function fG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}var dG=function(){function e(){Object(Zg.a)(this,e),this.name="path-overlay"}return Object(Jg.a)(e,[{key:"hasMatchingType",value:function(e,t){if(DP(e)){var n=e.mark,r=e.encoding,a=SP(n)?n:{type:n};switch(a.type){case"line":case"rule":case"trail":return!!lG(a,t[a.type],r);case"area":return!!lG(a,t[a.type],r)||!!fG(a,t[a.type])}}return!1}},{key:"run",value:function(e,t,n){var r=t.config,a=e.selection,i=e.projection,o=e.encoding,u=e.mark,s=oR(e,["selection","projection","encoding","mark"]),c=SP(u)?u:{type:u},l=lG(c,r[c.type],o),f="area"===c.type&&fG(c,r[c.type]),d=[Object.assign(Object.assign({},a?{selection:a}:{}),{mark:sG(Object.assign(Object.assign({},"area"===c.type&&void 0===c.opacity&&void 0===c.fillOpacity?{opacity:.7}:{}),c)),encoding:wR(o,["shape"])})],h=uG(c,o),p=o;if(h){var v=h.fieldChannel,m=h.offset;p=Object.assign(Object.assign({},o),Object(xi.a)({},v,Object.assign(Object.assign({},o[v]),m?{stack:m}:{})))}return f&&d.push(Object.assign(Object.assign({},i?{projection:i}:{}),{mark:Object.assign(Object.assign({type:"line"},xR(c,["clip","interpolate","tension","tooltip"])),f),encoding:p})),l&&d.push(Object.assign(Object.assign({},i?{projection:i}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},xR(c,["clip","tooltip"])),l),encoding:p})),n(Object.assign(Object.assign({},s),{layer:d}),Object.assign(Object.assign({},t),{config:cG(r)}))}}]),e}(),hG=function(){function e(){Object(Zg.a)(this,e),this.name="RangeStep"}return Object(Jg.a)(e,[{key:"hasMatchingType",value:function(e){var t;if(DP(e)&&e.encoding){var n,r=Object(Fn.a)(Gz);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=e.encoding[a];if(i&&$W(i)&&(null===(t=null===i||void 0===i?void 0:i.scale)||void 0===t?void 0:t.rangeStep))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1}},{key:"run",value:function(e){var t,n,r={},a=Object.assign({},e.encoding),i=Object(Fn.a)(Gz);try{for(i.s();!(n=i.n()).done;){var o=n.value,u=Uz(o),s=a[o];if(s&&$W(s)&&(null===(t=null===s||void 0===s?void 0:s.scale)||void 0===t?void 0:t.rangeStep)){var c=s.scale,l=oR(s,["scale"]),f=c,d=(f.rangeStep,oR(f,["rangeStep"]));r[u]={step:c.rangeStep},FL(b.RANGE_STEP_DEPRECATED),a=Object.assign(Object.assign({},a),Object(xi.a)({},o,Object.assign(Object.assign({},l),IR(d)?{}:{scale:d})))}}}catch(h){i.e(h)}finally{i.f()}return Object.assign(Object.assign(Object.assign({},r),e),{encoding:a})}}]),e}();function pG(e,t){return t?FW(e)?xG(e,t):gG(e,t):e}function vG(e,t){return t?xG(e,t):e}function mG(e,t,n){var r,a=t[e];return(r=a)&&!rR(r)&&"repeat"in r?a.repeat in n?Object.assign(Object.assign({},t),Object(xi.a)({},e,n[a.repeat])):void FL(b.noSuchRepeatedValue(a.repeat)):t}function gG(e,t){if(void 0!==(e=mG("field",e,t))){if(null===e)return null;if(BW(e)&&IW(e.sort)){var n=mG("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function bG(e,t){if(GW(e))return gG(e,t);var n=mG("datum",e,t);return n===e||n.type||(n.type="nominal"),n}function yG(e,t){if(!$W(e)){if(HW(e)){var n=bG(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});e.condition;return oR(e,["condition"])}return e}var r=bG(e,t);return r||(WW(e)?{condition:e.condition}:void 0)}function xG(e,t){var n={};for(var r in e)if(eR(e,r)){var a=e[r];if(GF(a))n[r]=a.map((function(e){return yG(e,t)})).filter((function(e){return e}));else{var i=yG(a,t);void 0!==i&&(n[r]=i)}}return n}var wG=function(){function e(){Object(Zg.a)(this,e),this.name="RuleForRangedLine"}return Object(Jg.a)(e,[{key:"hasMatchingType",value:function(e){if(DP(e)){var t=e.encoding;if("line"===e.mark){var n,r=Object(Fn.a)(Rz);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=t[zz(a)];if(t[a]&&(GW(i)&&!uB(i.bin)||XW(i)))return!0}}catch(o){r.e(o)}finally{r.f()}}}return!1}},{key:"run",value:function(e,t,n){var r=e.encoding;return FL(b.lineWithRange(!!r.x2,!!r.y2)),n(Object.assign(Object.assign({},e),{mark:"rule"}),t)}}]),e}(),OG=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){var e;return Object(Zg.a)(this,n),(e=t.apply(this,arguments)).nonFacetUnitNormalizers=[rH,sH,pH,new dG,new wG,new hG],e}return Object(Jg.a)(n,[{key:"map",value:function(e,t){if(DP(e)){var r=UV(e.encoding,VP),a=UV(e.encoding,HP),i=UV(e.encoding,GP);if(r||a||i)return this.mapFacetedUnit(e,t)}return Object($H.a)(Object(ZH.a)(n.prototype),"map",this).call(this,e,t)}},{key:"mapUnit",value:function(e,t){var n=t.parentEncoding,r=t.parentProjection,a=Object.assign(Object.assign({},e),{encoding:vG(e.encoding,t.repeater)});if(n||r)return this.mapUnitWithParentEncodingOrProjection(a,t);var i,o=this.mapLayerOrUnit.bind(this),u=Object(Fn.a)(this.nonFacetUnitNormalizers);try{for(u.s();!(i=u.n()).done;){var s=i.value;if(s.hasMatchingType(a,t.config))return s.run(a,t,o)}}catch(c){u.e(c)}finally{u.f()}return a}},{key:"mapRepeat",value:function(e,t){return function(e){return!GF(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}},{key:"mapLayerRepeat",value:function(e,t){var n=this,r=e.repeat,a=e.spec,i=oR(e,["repeat","spec"]),o=r.row,u=r.column,s=r.layer,c=t.repeater,l=void 0===c?{}:c,f=t.repeaterPrefix,d=void 0===f?"":f;return o||u?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},o?{row:o}:{}),u?{column:u}:{}),spec:{repeat:{layer:s},spec:a}}),t):Object.assign(Object.assign({},i),{layer:s.map((function(e){var r=Object.assign(Object.assign({},l),{layer:e}),i=(a.name||"")+d+"child__layer_".concat(zR(e)),o=n.mapLayerOrUnit(a,Object.assign(Object.assign({},t),{repeater:r,repeaterPrefix:i}));return o.name=i,o}))})}},{key:"mapNonLayerRepeat",value:function(e,t){var n,r=e,a=r.repeat,i=r.spec,o=r.data,u=oR(e,["repeat","spec","data"]);!GF(a)&&e.columns&&(e=wR(e,["columns"]),FL(b.columnsNotSupportByRowCol("repeat")));var s,c=[],l=t.repeater,f=void 0===l?{}:l,d=t.repeaterPrefix,h=void 0===d?"":d,p=!GF(a)&&a.row||[f?f.row:null],v=!GF(a)&&a.column||[f?f.column:null],m=GF(a)&&a||[f?f.repeat:null],g=Object(Fn.a)(m);try{for(g.s();!(s=g.n()).done;){var y,x=s.value,w=Object(Fn.a)(p);try{for(w.s();!(y=w.n()).done;){var O,k=y.value,j=Object(Fn.a)(v);try{for(j.s();!(O=j.n()).done;){var _=O.value,S={repeat:x,row:k,column:_,layer:f.layer},E=(i.name||"")+h+"child__"+(GF(a)?"".concat(zR(x)):(a.row?"row_".concat(zR(k)):"")+(a.column?"column_".concat(zR(_)):"")),A=this.map(i,Object.assign(Object.assign({},t),{repeater:S,repeaterPrefix:E}));A.name=E,c.push(wR(A,["data"]))}}catch(N){j.e(N)}finally{j.f()}}}catch(N){w.e(N)}finally{w.f()}}}catch(N){g.e(N)}finally{g.f()}var C=GF(a)?e.columns:a.column?a.column.length:1;return Object.assign(Object.assign({data:null!==(n=i.data)&&void 0!==n?n:o,align:"all"},u),{columns:C,concat:c})}},{key:"mapFacet",value:function(e,t){return FW(e.facet)&&e.columns&&(e=wR(e,["columns"]),FL(b.columnsNotSupportByRowCol("facet"))),Object($H.a)(Object(ZH.a)(n.prototype),"mapFacet",this).call(this,e,t)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(e,t){var n=e.encoding,r=e.projection,a=t.parentEncoding,i=t.parentProjection,o=t.config,u=jG({parentProjection:i,projection:r}),s=kG({parentEncoding:a,encoding:vG(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),u?{projection:u}:{}),s?{encoding:s}:{}),{config:o})}},{key:"mapFacetedUnit",value:function(e,t){var n=e.encoding,r=n.row,a=n.column,i=n.facet,o=oR(n,["row","column","facet"]),u=e.mark,s=e.width,c=e.projection,l=e.height,f=e.view,d=e.selection,h=(e.encoding,oR(e,["mark","width","projection","height","view","selection","encoding"])),p=this.getFacetMappingAndLayout({row:r,column:a,facet:i},t),v=p.facetMapping,m=p.layout,g=vG(o,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},h),m),{facet:v,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s?{width:s}:{}),l?{height:l}:{}),f?{view:f}:{}),c?{projection:c}:{}),{mark:u,encoding:g}),d?{selection:d}:{})}),t)}},{key:"getFacetMappingAndLayout",value:function(e,t){var n,r=e.row,a=e.column,i=e.facet;if(r||a){i&&FL(b.facetChannelDropped([].concat(Object(yi.a)(r?[VP]:[]),Object(yi.a)(a?[HP]:[]))));for(var o={},u={},s=0,c=[VP,HP];s<c.length;s++){var l=c[s],f=e[l];if(f){f.align,f.center,f.spacing,f.columns;var d=oR(f,["align","center","spacing","columns"]);o[l]=d;for(var h=0,p=["align","center","spacing"];h<p.length;h++){var v=p[h];void 0!==f[v]&&(u[v]=null!==(n=u[v])&&void 0!==n?n:{},u[v][l]=f[v])}}}return{facetMapping:o,layout:u}}var m=i.align,g=i.center,y=i.spacing,x=i.columns;return{facetMapping:pG(oR(i,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},m?{align:m}:{}),g?{center:g}:{}),y?{spacing:y}:{}),x?{columns:x}:{})}}},{key:"mapLayer",value:function(e,t){var r=t.parentEncoding,a=t.parentProjection,i=oR(t,["parentEncoding","parentProjection"]),o=e.encoding,u=e.projection,s=oR(e,["encoding","projection"]),c=Object.assign(Object.assign({},i),{parentEncoding:kG({parentEncoding:r,encoding:o}),parentProjection:jG({parentProjection:a,projection:u})});return Object($H.a)(Object(ZH.a)(n.prototype),"mapLayer",this).call(this,s,c)}}]),n}(eG);function kG(e){var t=e.parentEncoding,n=e.encoding;if(t&&n){var r=MR(t).reduce((function(e,t){return n[t]&&e.push(t),e}),[]);r.length>0&&FL(b.encodingOverridden(r))}var a=Object.assign(Object.assign({},null!==t&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{});return IR(a)?void 0:a}function jG(e){var t=e.parentProjection,n=e.projection;return t&&n&&FL(b.projectionOverridden({parentProjection:t,projection:n})),null!==n&&void 0!==n?n:t}function _G(e,t){void 0===t&&(t=VH(e.config));var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return SG.map(e,{config:t})}(e,t),r=function(e,t,n){var r=t.width,a=t.height,i=DP(e)||KH(e),o={};i?"container"==r&&"container"==a?(o.type="fit",o.contains="padding"):"container"==r?(o.type="fit-x",o.contains="padding"):"container"==a&&(o.type="fit-y",o.contains="padding"):("container"==r&&(FL(b.containerSizeNonSingle("width")),r=void 0),"container"==a&&(FL(b.containerSizeNonSingle("height")),a=void 0));var u=Object.assign(Object.assign(Object.assign({type:"pad"},o),n?EG(n.autosize):{}),EG(e.autosize));"fit"!==u.type||i||(FL(b.FIT_NON_SINGLE),u.type="pad");"container"==r&&"fit"!=u.type&&"fit-x"!=u.type&&FL(b.containerSizeNotCompatibleWithAutosize("width"));"container"==a&&"fit"!=u.type&&"fit-y"!=u.type&&FL(b.containerSizeNotCompatibleWithAutosize("height"));if(bR(u,{type:"pad"}))return;return u}(n,{width:e.width,height:e.height,autosize:e.autosize},t);return Object.assign(Object.assign({},n),r?{autosize:r}:{})}var SG=new OG;function EG(e){return rR(e)?{type:e}:null!==e&&void 0!==e?e:{}}var AG=["background","padding"];function CG(e){return AG.reduce((function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t}),{})}var NG=n(67),TG=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(Zg.a)(this,e),this.explicit=t,this.implicit=n}return Object(Jg.a)(e,[{key:"clone",value:function(){return new e(yR(this.explicit),yR(this.implicit))}},{key:"combine",value:function(){return Object.assign(Object.assign({},this.explicit),this.implicit)}},{key:"get",value:function(e){return KR(this.explicit[e],this.implicit[e])}},{key:"getWithExplicit",value:function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)}},{key:"set",value:function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}},{key:"copyKeyFromSplit",value:function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)}},{key:"copyKeyFromObject",value:function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}},{key:"copyAll",value:function(e){var t,n=Object(Fn.a)(MR(e.combine()));try{for(n.s();!(t=n.n()).done;){var r=t.value,a=e.getWithExplicit(r);this.setWithExplicit(r,a)}}catch(i){n.e(i)}finally{n.f()}}}]),e}();function DG(e){return{explicit:!0,value:e}}function IG(e){return{explicit:!1,value:e}}function MG(e){return function(t,n,r,a){var i=e(t.value,n.value);return i>0?t:i<0?n:FG(t,n,r,a)}}function FG(e,t,n,r){return e.explicit&&t.explicit&&FL(b.mergeConflictingProperty(n,r,e.value,t.value)),e}function RG(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:FG;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:bR(e.value,t.value)?e:a(e,t,n,r)}var PG=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(Zg.a)(this,n),(e=t.call(this,r,a)).explicit=r,e.implicit=a,e.parseNothing=i,e}return Object(Jg.a)(n,[{key:"clone",value:function(){var e=Object($H.a)(Object(ZH.a)(n.prototype),"clone",this).call(this);return e.parseNothing=this.parseNothing,e}}]),n}(TG);function zG(e){return"url"in e}function BG(e){return"values"in e}function LG(e){return"name"in e&&!zG(e)&&!BG(e)&&!UG(e)}function UG(e){return e&&(WG(e)||VG(e)||HG(e))}function WG(e){return"sequence"in e}function VG(e){return"sphere"in e}function HG(e){return"graticule"in e}var GG="main",qG="raw";function XG(e){return"filter"in e}function YG(e){return"lookup"in e}function KG(e){return"pivot"in e}function $G(e){return"density"in e}function ZG(e){return"quantile"in e}function JG(e){return"regression"in e}function QG(e){return"loess"in e}function eq(e){return"sample"in e}function tq(e){return"window"in e}function nq(e){return"joinaggregate"in e}function rq(e){return"flatten"in e}function aq(e){return"calculate"in e}function iq(e){return"bin"in e}function oq(e){return"impute"in e}function uq(e){return"timeUnit"in e}function sq(e){return"aggregate"in e}function cq(e){return"stack"in e}function lq(e){return"fold"in e}function fq(e,t,n,r){var a=WW(t)&&t.condition,i=r(t);if(a){var o=ZF(a).map((function(t){var n=r(t),a=function(e){return e.selection}(t)?QY(e,t.selection):tK(e,t.test);return Object.assign({test:a},n)}));return Object(xi.a)({},n,[].concat(Object(yi.a)(o),Object(yi.a)(void 0!==i?[i]:[])))}return void 0!==i?Object(xi.a)({},n,i):{}}function dq(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=e.encoding[t];return fq(e,n,t,(function(t){return hq(t,e.config)}))}function hq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(JW(e))return CV(e.value);if($W(e)){var r=vV(e),a=r.format,i=r.formatType;return xW({fieldOrDatumDef:e,format:a,formatType:i,expr:n,config:t})}}}function pq(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.encoding,r=e.markDef,a=e.config,i=e.stack,o=n.tooltip;if(GF(o))return{tooltip:mq({tooltip:o},i,a,t)};var u=t.reactiveGeom?"datum.datum":"datum";return fq(e,o,"tooltip",(function(e){var o=hq(e,a,u);if(o)return o;if(null!==e){var s=IV("tooltip",r,a);return!0===s&&(s={content:"encoding"}),rR(s)?{value:s}:qF(s)?"encoding"===s.content?mq(n,i,a,t):{signal:u}:void 0}}))}function vq(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.reactiveGeom,i={},o=a?"datum.datum":"datum",u=[];function s(r,a){var s,c=zz(a),l=ZW(r)?r:Object.assign(Object.assign({},r),{type:e[c].type}),f=ZF(dV(l,n,{allowDisabling:!1})).join(", ");if(qz(a)){var d="x"===a?"x2":"y2",h=mV(e[d]);if(uB(l.bin)&&h){var p=aV(l,{expr:o}),v=aV(h,{expr:o}),m=vV(l);s=AW(p,v,m.format,m.formatType,n),i[d]=!0}else if(t&&t.fieldChannel===a&&"normalize"===t.offset){var g=vV(l);s=xW({fieldOrDatumDef:l,format:g.format,formatType:g.formatType,expr:o,config:n,normalizeStack:!0}).signal}}s=null!==s&&void 0!==s?s:hq(l,n,o).signal,u.push({channel:a,key:f,value:s})}qV(e,(function(e,t){GW(e)?s(e,t):VW(e)&&s(e.condition,t)}));for(var c={},l=0,f=u;l<f.length;l++){var d=f[l],h=d.channel,p=d.key,v=d.value;i[h]||c[p]||(c[aR(p)]=v)}return c}function mq(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.reactiveGeom,i=vq(e,t,n,{reactiveGeom:a}),o=RR(i).map((function(e){var t=e.key,n=e.value;return"".concat(t,": ").concat(n)}));return o.length>0?{signal:"{".concat(o.join(", "),"}")}:void 0}function gq(e){var t=IV("aria",e.markDef,e.config);return!1===t?{}:Object.assign(Object.assign(Object.assign({},t?{aria:t}:{}),function(e){var t=e.mark,n=e.markDef,r=e.config;if(!1===r.aria)return{};var a=IV("ariaRoleDescription",n,r);if(null!=a)return{ariaRoleDescription:{value:a}};return t in iU?{}:{ariaRoleDescription:{value:t}}}(e)),function(e){var t=e.encoding,n=e.markDef,r=e.config,a=e.stack,i=t.description;if(i)return fq(e,i,"description",(function(t){return hq(t,e.config)}));var o=IV("description",n,r);if(null!=o)return{description:CV(o)};if(!1===r.aria)return{};var u=vq(t,a,r);if(IR(u))return;return{description:{signal:RR(u).map((function(e){var t=e.key,n=e.value;return"".concat(t,' + ": " + (').concat(n,")")})).join(' + "; " + ')}}}(e))}function bq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.markDef,a=t.encoding,i=t.config,o=n.vgChannel,u=n.defaultRef,s=n.defaultValue;void 0===u&&void 0!==(s=null!==s&&void 0!==s?s:IV(e,r,i,{vgChannel:o,ignoreVgConfig:!0}))&&(u=CV(s));var c=a[e];return fq(t,c,null!==o&&void 0!==o?o:e,(function(n){return mW({channel:e,channelDef:n,markDef:r,config:i,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:u})}))}function yq(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0},o=e.markDef,u=e.encoding,s=e.config,c=o.type,l=null!==(t=i.filled)&&void 0!==t?t:IV("filled",o,s),f=_R(["bar","point","circle","square","geoshape"],c)?"transparent":void 0,d=null!==(r=null!==(n=IV(!0===l?"color":void 0,o,s,{vgChannel:"fill"}))&&void 0!==n?n:s.mark[!0===l&&"color"])&&void 0!==r?r:f,h=null!==(a=IV(!1===l?"color":void 0,o,s,{vgChannel:"stroke"}))&&void 0!==a?a:s.mark[!1===l&&"color"],p=l?"fill":"stroke",v=Object.assign(Object.assign({},d?{fill:CV(d)}:{}),h?{stroke:CV(h)}:{});return o.color&&(l?o.fill:o.stroke)&&FL(b.droppingColor("property",{fill:"fill"in o,stroke:"stroke"in o})),Object.assign(Object.assign(Object.assign(Object.assign({},v),bq("color",e,{vgChannel:p,defaultValue:l?d:h})),bq("fill",e,{defaultValue:u.fill?d:void 0})),bq("stroke",e,{defaultValue:u.stroke?h:void 0}))}function xq(e,t){var n=function(e){switch(e){case qP:return"xOffset";case XP:return"yOffset";case YP:return"x2Offset";case KP:return"y2Offset";case JP:return"thetaOffset";case $P:return"radiusOffset";case QP:return"theta2Offset";case ZP:return"radius2Offset"}}(e),r=t[n];if(r)return r}function wq(e,t,n){var r=n.defaultPos,a=n.vgChannel,i=n.isMidPoint,o=t.encoding,u=t.markDef,s=t.config,c=t.stack,l=o[e],f=o[Lz(e)],d=t.scaleName(e),h=t.getScaleComponent(e),p=xq(e,u),v=Oq({model:t,defaultPos:r,channel:e,scaleName:d,scale:h}),m=!l&&qz(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function(e){var t=e.channel,n=e.channelDef,r=e.isMidPoint,a=e.scaleName,i=e.stack,o=e.offset,u=e.markDef,s=e.config;if($W(n)&&i&&t===i.fieldChannel){if(GW(n)){var c=LW({channel:t,fieldDef:n,isMidPoint:r,markDef:u,stack:i,config:s});if(void 0!==c)return vW({scaleName:a,fieldOrDatumDef:n,startSuffix:"start",band:c,offset:o})}return pW(n,a,{suffix:"end"},{offset:o})}return lW(e)}({channel:e,channelDef:l,channel2Def:f,markDef:u,config:s,isMidPoint:i,scaleName:d,scale:h,stack:c,offset:p,defaultRef:v});return m?Object(xi.a)({},a||e,m):void 0}function Oq(e){var t=e.model,n=e.defaultPos,r=e.channel,a=e.scaleName,i=e.scale,o=t.markDef,u=t.config;return function(){var e=zz(r),s=Bz(r),c=IV(r,o,u,{vgChannel:s});if(void 0!==c)return gW(r,c);switch(n){case"zeroOrMin":case"zeroOrMax":if(a){var l=i.get("type");if(_R([CU,IU,MU],l));else if(i.domainDefinitelyIncludesZero())return{scale:a,value:0}}if("zeroOrMin"===n)return"y"===e?{field:{group:"height"}}:{value:0};switch(e){case"radius":return{signal:"min(".concat(t.width.signal,",").concat(t.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":var f=t[Uz(r)];return Object.assign(Object.assign({},f),{mult:.5})}}}var kq={left:"x",center:"xc",right:"x2"},jq={top:"y",middle:"yc",bottom:"y2"};function _q(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===e||"theta"===e)return Bz(e);var a="x"===e?"align":"baseline",i=IV(a,t,n);return"x"===e?kq[i||("top"===r?"left":"center")]:jq[i||r]}function Sq(e,t,n){var r=n.defaultPos,a=n.defaultPos2;return n.range?Eq(e,t,{defaultPos:r,defaultPos2:a}):wq(e,t,{defaultPos:r})}function Eq(e,t,n){var r=n.defaultPos,a=n.defaultPos2,i=t.markDef,o=t.config,u=Lz(e),s=Uz(e),c=function(e,t,n){var r,a=e.encoding,i=e.mark,o=e.markDef,u=e.stack,s=e.config,c=zz(n),l=Uz(n),f=Bz(n),d=a[c],h=e.scaleName(c),p=e.getScaleComponent(c),v=xq(n in a||n in o?n:c,e.markDef);if(!d&&("x2"===n||"y2"===n)&&(a.latitude||a.longitude))return Object(xi.a)({},f,{field:e.getName(n)});var m=function(e){var t=e.channel,n=e.channelDef,r=e.channel2Def,a=e.markDef,i=e.config,o=e.scaleName,u=e.scale,s=e.stack,c=e.offset,l=e.defaultRef;if($W(n)&&s&&t.charAt(0)===s.fieldChannel.charAt(0))return pW(n,o,{suffix:"start"},{offset:c});return lW({channel:t,channelDef:r,scaleName:o,scale:u,stack:s,markDef:a,config:i,offset:c,defaultRef:l})}({channel:n,channelDef:d,channel2Def:a[n],markDef:o,config:s,scaleName:h,scale:p,stack:u,offset:v,defaultRef:void 0});if(void 0!==m)return Object(xi.a)({},f,m);return Aq(n,o)||Aq(n,(r={},Object(xi.a)(r,n,FV(n,o,s.style)),Object(xi.a)(r,l,FV(l,o,s.style)),r))||Aq(n,s[i])||Aq(n,s.mark)||Object(xi.a)({},f,Oq({model:e,defaultPos:t,channel:n,scaleName:h,scale:p})())}(t,a,u),l=c[s]?_q(e,i,o):Bz(e);return Object.assign(Object.assign({},wq(e,t,{defaultPos:r,vgChannel:l})),c)}function Aq(e,t){var n=Uz(e),r=Bz(e);return void 0!==t[r]?Object(xi.a)({},r,gW(e,t[r])):void 0!==t[e]?Object(xi.a)({},r,gW(e,t[e])):t[n]?Object(xi.a)({},n,gW(e,t[n])):void 0}function Cq(e,t,n){var r,a,i,o,u=e.config,s=e.encoding,c=e.markDef,l=e.stack,f=Lz(t),d=Uz(t),h=s[t],p=s[f],v=e.getScaleComponent(t),m=v?v.get("type"):void 0,g=e.scaleName(t),y=c.orient,x=null!==(a=null!==(r=s[d])&&void 0!==r?r:s.size)&&void 0!==a?a:IV("size",c,u,{vgChannel:d}),w="bar"===n&&("x"===t?"vertical"===y:"horizontal"===y);if(GW(h)&&(oB(h.bin)||uB(h.bin)||h.timeUnit&&!p)&&!x&&!ZU(m)){var O=LW({channel:t,fieldDef:h,stack:l,markDef:c,config:u}),k=null===(i=e.component.axes[t])||void 0===i?void 0:i[0];return function(e){var t,n=e.fieldDef,r=e.fieldDef2,a=e.channel,i=e.band,o=e.scaleName,u=e.markDef,s=e.spacing,c=void 0===s?0:s,l=e.axisTranslate,f=e.reverse,d=e.config,h=Lz(a),p=Bz(a),v=Bz(h),m=xq(a,u);if(oB(n.bin)||n.timeUnit)return t={},Object(xi.a)(t,v,Tq({channel:a,fieldDef:n,scaleName:o,markDef:u,band:(1-i)/2,offset:Nq(h,c,f,l,m),config:d})),Object(xi.a)(t,p,Tq({channel:a,fieldDef:n,scaleName:o,markDef:u,band:1-(1-i)/2,offset:Nq(a,c,f,l,m),config:d})),t;if(uB(n.bin)){var g,y,x=pW(n,o,{},{offset:Nq(h,c,f,l,m)});if(GW(r))return g={},Object(xi.a)(g,v,x),Object(xi.a)(g,p,pW(r,o,{},{offset:Nq(a,c,f,l,m)})),g;if(sB(n.bin)&&n.bin.step)return y={},Object(xi.a)(y,v,x),Object(xi.a)(y,p,{signal:'scale("'.concat(o,'", ').concat(aV(n,{expr:"datum"})," + ").concat(n.bin.step,")"),offset:Nq(a,c,f,l,m)}),y}return void FL(b.channelRequiredForBinned(h))}({fieldDef:h,fieldDef2:p,channel:t,markDef:c,scaleName:g,band:O,axisTranslate:null!==(o=null===k||void 0===k?void 0:k.get("translate"))&&void 0!==o?o:.5,spacing:qz(t)?IV("binSpacing",c,u):void 0,reverse:v.get("reverse"),config:u})}return($W(h)&&ZU(m)||w)&&!p?function(e,t,n,r){var a,i,o=r.markDef,u=r.encoding,s=r.config,c=r.stack,l=o.orient,f=r.scaleName(n),d=r.getScaleComponent(n),h=Uz(n),p=Lz(n),v="horizontal"===l&&"y"===n||"vertical"===l&&"x"===n,m=IV(v?"size":h,o,s,{vgChannel:h});(u.size||void 0!==m)&&(v?i=bq("size",r,{vgChannel:h,defaultValue:m}):FL(b.cannotApplySizeToNonOrientedMark(o.type)));var g=null!==(a=$W(t)?LW({channel:n,fieldDef:t,markDef:o,stack:c,config:s}):void 0)&&void 0!==a?a:1;i=i||Object(xi.a)({},h,function(e,t,n,r,a,i){if(r){var o=r.get("type");if("point"===o||"band"===o){if(void 0!==a[e].discreteBandSize)return{value:a[e].discreteBandSize};if(o===zU){var u=r.get("range");return nU(u)&&nR(u.step)?{value:u.step-2}:{value:FH-2}}return{scale:n,band:i}}return{value:a[e].continuousBandSize}}var s=IH(a.view,t),c=KR(a[e].discreteBandSize,s-2);return void 0!==c?{value:c}:void 0}(e,h,f,d,s,g));var y="band"!==(null===d||void 0===d?void 0:d.get("type"))||!("band"in i[h]),x=_q(n,o,s,y?"middle":"top"),w=xq(n,o),O=lW({channel:n,channelDef:t,markDef:o,config:s,scaleName:f,scale:d,stack:c,offset:w,defaultRef:Oq({model:r,defaultPos:"mid",channel:n,scaleName:f,scale:d}),band:y?.5:(1-g)/2});if(h)return Object.assign(Object(xi.a)({},x,O),i);var k,j=Bz(p),_=i[h],S=w?Object.assign(Object.assign({},_),{offset:w}):_;return k={},Object(xi.a)(k,x,O),Object(xi.a)(k,j,GF(O)?[O[0],Object.assign(Object.assign({},O[1]),{offset:S})]:Object.assign(Object.assign({},O),{offset:S})),k}(n,h,t,e):Eq(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Nq(e,t,n,r,a){if(jz(e))return 0;var i="x"===e||"y2"===e?-t/2:t/2;if(tU(n)){var o=TV(a);return{signal:"".concat(n.signal," ? ").concat(r-i).concat(o?"-"+o:""," : ").concat(r+i).concat(o?"+"+o:"")}}if(tU(a)){var u=r+(n?-i:i);return{signal:"".concat(u||"").concat(n?" - ":u?" + ":"").concat(a.signal)}}return a=a||0,r+(n?-a-i:+a+i)}function Tq(e){var t=e.channel,n=e.fieldDef,r=e.scaleName,a=e.markDef,i=e.band,o=e.offset,u=e.config;return fW({fieldDef:n,channel:t,markDef:a,ref:vW({scaleName:r,fieldOrDatumDef:n,band:i,offset:o}),config:u})}var Dq=new Set(["aria"]);function Iq(e,t){var n="include"===t.color?yq(e):{},r=n.fill,a=void 0===r?void 0:r,i=n.stroke,o=void 0===i?void 0:i;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return aU.reduce((function(n,r){return Dq.has(r)||void 0===e[r]||"ignore"===t[r]||(n[r]=CV(e[r])),n}),{})}(e.markDef,t)),Mq(e,"fill",a)),Mq(e,"stroke",o)),bq("opacity",e)),bq("fillOpacity",e)),bq("strokeOpacity",e)),bq("strokeWidth",e)),bq("strokeDash",e)),pq(e)),dq(e,"href")),gq(e))}function Mq(e,t,n){var r=e.config,a=e.mark;if("hide"===IV("invalid",e.markDef,r)&&n&&!kP(a)){var i=function(e,t){var n=t.invalid,r=void 0!==n&&n,a=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var a=r.get("type"),i=e.vgField(n,{expr:"datum"});i&&JU(a)&&(t[i]=!0)}return t}),{}),i=MR(a);if(i.length>0){var o=r?"||":"&&";return i.map((function(e){return hW(e,r)})).join(" ".concat(o," "))}return}(e,{invalid:!0,channels:Qz});if(i)return Object(xi.a)({},t,[{test:i,value:null}].concat(Object(yi.a)(ZF(n))))}return n?Object(xi.a)({},t,n):{}}function Fq(e){var t=e.config;if(IV("invalid",e.markDef,t)){var n=function(e,t){var n=t.invalid,r=void 0!==n&&n,a=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var a=r.get("type"),i=e.vgField(n,{expr:"datum"});i&&JU(a)&&(t[i]=!0)}return t}),{}),i=MR(a);if(i.length>0){var o=r?"||":"&&";return i.map((function(e){return hW(e,r)})).join(" ".concat(o," "))}return}(e,{channels:Gz});if(n)return{defined:{signal:n}}}return{}}function Rq(e,t){if(void 0!==t)return Object(xi.a)({},e,CV(t))}var Pq="voronoi",zq={has:function(e){return"interval"!==e.type&&e.nearest},parse:function(e,t){if(t.events){var n,r=Object(Fn.a)(t.events);try{for(r.s();!(n=r.n()).done;){n.value.markname=e.getName(Pq)}}catch(a){r.e(a)}finally{r.f()}}},marks:function(e,t,n){var r=t.project.hasChannel,a=r.x,i=r.y,o=e.mark;if(kP(o))return FL(b.nearestNotSupportForContinuous(o)),n;var u={name:e.getName(Pq),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},pq(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:a||!i?"datum.datum.x || 0":"0"},y:{expr:i||!a?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},s=0,c=!1;return n.forEach((function(t,n){var r,a=null!==(r=t.name)&&void 0!==r?r:"";a===e.component.mark[0].name?s=n:a.indexOf(Pq)>=0&&(c=!0)})),c||n.splice(s+1,0,u),n}},Bq=function(){function e(t,n){Object(Zg.a)(this,e),this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}return Object(Jg.a)(e,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e,e&&e.addChild(this)}},{key:"children",get:function(){return this._children}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(e,t){this._children.indexOf(e)>-1?console.warn("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);return this._children.splice(t,1),t}},{key:"remove",value:function(){var e,t=this._parent.removeChild(this),n=Object(Fn.a)(this._children);try{for(n.s();!(e=n.n()).done;){var r=e.value;r._parent=this._parent,this._parent.addChild(r,t++)}}catch(a){n.e(a)}finally{n.f()}}},{key:"insertAsParentOf",value:function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}},{key:"swapWithParent",value:function(){var e,t=this._parent,n=t.parent,r=Object(Fn.a)(this._children);try{for(r.s();!(e=r.n()).done;){e.value.parent=t}}catch(a){r.e(a)}finally{r.f()}this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=n,t.parent=this}}]),e}(),Lq=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r,a,i){var o;return Object(Zg.a)(this,n),(o=t.call(this,e,r)).type=a,o.refCounts=i,o._source=o._name=r,o.refCounts&&!(o._name in o.refCounts)&&(o.refCounts[o._name]=0),o}return Object(Jg.a)(n,[{key:"clone",value:function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(ZR())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(e){this._source=e}}]),n}(Bq),Uq=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e)).formula=r,a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.formula))}},{key:"merge",value:function(e){for(var t in this.formula=Object.assign({},this.formula),e.formula)this.formula[t]&&!e.formula[t].band||(this.formula[t]=e.formula[t]);var n,r=Object(Fn.a)(e.children);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.removeChild(a),a.parent=this}}catch(i){r.e(i)}finally{r.f()}e.remove()}},{key:"producedFields",value:function(){return new Set(FR(this.formula).map((function(e){return e.as})))}},{key:"dependentFields",value:function(){return new Set(FR(this.formula).map((function(e){return e.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(kR(this.formula))}},{key:"assemble",value:function(){var e,t=[],n=Object(Fn.a)(FR(this.formula));try{for(n.s();!(e=n.n()).done;){var r=e.value,a=r.field,i=r.as,o=QL(r.timeUnit),u=o.unit,s=o.utc,c=oR(o,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:GR(a),type:"timeunit"},u?{units:KL(u)}:{}),s?{timezone:"utc"}:{}),c),{as:[i,"".concat(i,"_end")]}))}}catch(l){n.e(l)}finally{n.f()}return t}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,n,r){var a=n.field,i=n.timeUnit,o=IZ(t)?t.encoding[Lz(r)]:void 0,u=IZ(t)&&UW(r,n,o,t.stack,t.markDef,t.config);if(i){var s=aV(n,{forAs:!0});e[kR({as:s,field:a,timeUnit:i})]=Object.assign({as:s,field:a,timeUnit:i},u?{band:!0}:{})}return e}),{});return IR(r)?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t){var r=Object.assign({},t),a=r.timeUnit,i=oR(r,["timeUnit"]),o=QL(a),u=Object.assign(Object.assign({},i),{timeUnit:o});return new n(e,Object(xi.a)({},kR(u),u))}}]),n}(Bq),Wq="_tuple_fields",Vq=Object(Jg.a)((function e(){Object(Zg.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.items=n,this.hasChannel={},this.hasField={}})),Hq={has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!jH(e.bind)},parse:function(e,t,n,r){r.on||delete t.events,r.clear||delete t.clear},topLevelSignals:function(e,t,n){var r=t.name,a=t.project,i=t.bind,o=t.init&&t.init[0],u=zq.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return a.items.forEach((function(e,a){var s,c,l=zR("".concat(r,"_").concat(e.field));n.filter((function(e){return e.name===l})).length||n.unshift(Object.assign(Object.assign({name:l},o?{init:sX(o[a])}:{value:null}),{on:t.events?[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(u,"[").concat(aR(e.field),"] : null")}]:[],bind:null!==(c=null!==(s=i[e.field])&&void 0!==s?s:i[e.channel])&&void 0!==c?c:i}))})),n},signals:function(e,t,n){var r=t.name,a=t.project,i=n.filter((function(e){return e.name===r+yX}))[0],o=r+Wq,u=a.items.map((function(e){return zR("".concat(r,"_").concat(e.field))})),s=u.map((function(e){return"".concat(e," !== null")})).join(" && ");return u.length&&(i.update="".concat(s," ? {fields: ").concat(o,", values: [").concat(u.join(", "),"]} : null")),delete i.value,delete i.on,n}},Gq="_toggle",qq={has:function(e){return"multi"===e.type&&!!e.toggle},signals:function(e,t,n){return n.concat({name:t.name+Gq,value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t){var n=t.name+yX,r=t.name+Gq;return"".concat(r," ? null : ").concat(n,", ")+("global"===t.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(_X(e),"}, "))+"".concat(r," ? ").concat(n," : null")}},Xq={has:function(e){return void 0!==e.clear&&!1!==e.clear},parse:function(e,t,n){n.clear&&(t.clear=rR(n.clear)?AF(n.clear,"scope"):n.clear)},topLevelSignals:function(e,t,n){if(Hq.has(t)){var r,a=Object(Fn.a)(t.project.items);try{var i=function(){var e=r.value,a=n.findIndex((function(n){return n.name===zR("".concat(t.name,"_").concat(e.field))}));-1!==a&&n[a].on.push({events:t.clear,update:"null"})};for(a.s();!(r=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}}return n},signals:function(e,t,n){function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type){var a,i=Object(Fn.a)(t.project.items);try{var o=function(){var e=a.value,t=n.findIndex((function(t){return t.name===e.signals.visual}));(r(t,"[0, 0]"),-1===t)&&r(n.findIndex((function(t){return t.name===e.signals.data})),"null")};for(i.s();!(a=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}}else{var u=n.findIndex((function(e){return e.name===t.name+yX}));r(u,"null"),qq.has(t)&&r(u=n.findIndex((function(e){return e.name===t.name+Gq})),"false")}return n}},Yq={has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t){var n,r=t.scales=[],a=Object(Fn.a)(t.project.items);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=i.channel;if(eB(o)){var u=e.getScaleComponent(o),s=u?u.get("type"):void 0;if(u&&JU(s)){var c={selection:t.name,field:i.field};u.set("selectionExtent",c,!0),r.push(i)}else FL(b.SCALE_BINDINGS_CONTINUOUS)}}}catch(l){a.e(l)}finally{a.f()}},topLevelSignals:function(e,t,n){var r=t.scales.filter((function(e){return 0===n.filter((function(t){return t.name===e.signals.data})).length}));if(!e.parent||$q(e)||0===r.length)return n;var a=n.filter((function(e){return e.name===t.name}))[0],i=a.update;if(i.indexOf(wX)>=0)a.update="{".concat(r.map((function(e){return"".concat(aR(e.field),": ").concat(e.signals.data)})).join(", "),"}");else{var o,u=Object(Fn.a)(r);try{for(u.s();!(o=u.n()).done;){var s=o.value,c="".concat(aR(s.field),": ").concat(s.signals.data);i.indexOf(c)<0&&(i="".concat(i.substring(0,i.length-1),", ").concat(c,"}"))}}catch(l){u.e(l)}finally{u.f()}a.update=i}return n.concat(r.map((function(e){return{name:e.signals.data}})))},signals:function(e,t,n){if(e.parent&&!$q(e)){var r,a=Object(Fn.a)(t.scales);try{var i=function(){var e=r.value,t=n.filter((function(t){return t.name===e.signals.data}))[0];t.push="outer",delete t.value,delete t.update};for(a.s();!(r=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}}return n}};function Kq(e,t){var n=aR(e.scaleName(t));return"domain(".concat(n,")")}function $q(e){var t;return e.parent&&RZ(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:$q(e.parent.parent))}var Zq={has:function(e){var t="global"===e.resolve&&e.bind&&jH(e.bind),n=1===e.project.items.length&&e.project.items[0].field!==OH;return t&&!n&&FL(b.LEGEND_BINDINGS_PROJECT_LENGTH),t&&n},parse:function(e,t,n,r){var a;if(r.on||delete t.events,r.clear||delete t.clear,r.on||r.clear){var i,o='event.item && indexof(event.item.mark.role, "legend") < 0',u=Object(Fn.a)(t.events);try{for(u.s();!(i=u.n()).done;){var s=i.value;s.filter=ZF(null!==(a=s.filter)&&void 0!==a?a:[]),s.filter.indexOf(o)<0&&s.filter.push(o)}}catch(f){u.e(f)}finally{u.f()}}var c=_H(t.bind)?t.bind.legend:"click",l=rR(c)?AF(c,"view"):ZF(c);t.bind={legend:{merge:l}}},topLevelSignals:function(e,t,n){var r,a=t.name,i=_H(t.bind)&&t.bind.legend,o=function(e){return function(t){var n=yR(t);return n.markname=e,n}},u=Object(Fn.a)(t.project.items);try{var s=function(){var e=r.value;if(!e.hasLegend)return"continue";var u="".concat(zR(e.field),"_legend"),s="".concat(a,"_").concat(u);if(0===n.filter((function(e){return e.name===s})).length){var c=i.merge.map(o("".concat(u,"_symbols"))).concat(i.merge.map(o("".concat(u,"_labels")))).concat(i.merge.map(o("".concat(u,"_entries"))));n.unshift(Object.assign(Object.assign({name:s},t.init?{}:{value:null}),{on:[{events:c,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:"!event.item || !datum ? null : ".concat(s),force:!0}]}))}};for(u.s();!(r=u.n()).done;)s()}catch(c){u.e(c)}finally{u.f()}return n},signals:function(e,t,n){var r=t.name,a=t.project,i=n.find((function(e){return e.name===r+yX})),o=r+Wq,u=a.items.filter((function(e){return e.hasLegend})).map((function(e){return zR("".concat(r,"_").concat(zR(e.field),"_legend"))})),s=u.map((function(e){return"".concat(e," !== null")})).join(" && "),c="".concat(s," ? {fields: ").concat(o,", values: [").concat(u.join(", "),"]} : null");t.events&&u.length>0?i.on.push({events:u.map((function(e){return{signal:e}})),update:c}):u.length>0&&(i.update=c,delete i.value,delete i.on);var l=n.find((function(e){return e.name===r+Gq})),f=_H(t.bind)&&t.bind.legend;return l&&(t.events?l.on.push(Object.assign(Object.assign({},l.on[0]),{events:f})):l.on[0].events=f),n}};var Jq="_translate_anchor",Qq="_translate_delta",eX={has:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var r=t.name,a=Yq.has(t),i=r+Jq,o=t.project.hasChannel,u=o.x,s=o.y,c=AF(t.translate,"scope");return a||(c=c.map((function(e){return e.between[0].markname=r+fX,e}))),n.push({name:i,value:{},on:[{events:c.map((function(e){return e.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==u?", extent_x: "+(a?Kq(e,qP):"slice(".concat(u.signals.visual,")")):"")+(void 0!==s?", extent_y: "+(a?Kq(e,XP):"slice(".concat(s.signals.visual,")")):"")+"}"}]},{name:r+Qq,value:{},on:[{events:c,update:"{x: ".concat(i,".x - x(unit), y: ").concat(i,".y - y(unit)}")}]}),void 0!==u&&tX(e,t,u,"width",n),void 0!==s&&tX(e,t,s,"height",n),n}};function tX(e,t,n,r,a){var i,o=t.name,u=o+Jq,s=o+Qq,c=n.channel,l=Yq.has(t),f=a.filter((function(e){return e.name===n.signals[l?"data":"visual"]}))[0],d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(c),p=h.get("type"),v=l&&c===qP?"-":"",m="".concat(u,".extent_").concat(c),g="".concat(v).concat(s,".").concat(c," / ")+(l?"".concat(d):"span(".concat(m,")")),b="".concat(l?"log"===p?"panLog":"pow"===p?"panPow":"panLinear":"panLinear","(").concat(m,", ").concat(g)+(l&&"pow"===p?", ".concat(null!==(i=h.get("exponent"))&&void 0!==i?i:1):"")+")";f.on.push({events:{signal:s},update:l?b:"clampRange(".concat(b,", 0, ").concat(d,")")})}var nX="_zoom_anchor",rX="_zoom_delta",aX={has:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var r=t.name,a=Yq.has(t),i=r+rX,o=t.project.hasChannel,u=o.x,s=o.y,c=aR(e.scaleName(qP)),l=aR(e.scaleName(XP)),f=AF(t.zoom,"scope");return a||(f=f.map((function(e){return e.markname=r+fX,e}))),n.push({name:r+nX,on:[{events:f,update:a?"{"+[c?"x: invert(".concat(c,", x(unit))"):"",l?"y: invert(".concat(l,", y(unit))"):""].filter((function(e){return!!e})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:i,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==u&&iX(e,t,u,"width",n),void 0!==s&&iX(e,t,s,"height",n),n}};function iX(e,t,n,r,a){var i,o=t.name,u=n.channel,s=Yq.has(t),c=a.filter((function(e){return e.name===n.signals[s?"data":"visual"]}))[0],l=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(u),d=f.get("type"),h=s?Kq(e,u):c.name,p=o+rX,v="".concat(o).concat(nX,".").concat(u),m="".concat(s?"log"===d?"zoomLog":"pow"===d?"zoomPow":"zoomLinear":"zoomLinear","(").concat(h,", ").concat(v,", ").concat(p)+(s&&"pow"===d?", ".concat(null!==(i=f.get("exponent"))&&void 0!==i?i:1):"")+")";c.on.push({events:{signal:p},update:s?m:"clampRange(".concat(m,", 0, ").concat(l,")")})}var oX=[{has:function(){return!0},parse:function(e,t,n){var r,a,i,o=t.name,u=null!==(r=t.project)&&void 0!==r?r:t.project=new Vq,s={},c={},l=new Set,f=function(e,t){for(var n="visual"===t?e.channel:e.field,r=zR("".concat(o,"_").concat(n)),a=1;l.has(r);a++)r=zR("".concat(o,"_").concat(n,"_").concat(a));return l.add(r),Object(xi.a)({},t,r)};if(!n.fields&&!n.encodings){var d=e.config.selection[n.type];if(n.init){var h,p=Object(Fn.a)(ZF(n.init));try{for(p.s();!(h=p.n()).done;){var v,m=h.value,g=Object(Fn.a)(MR(m));try{for(g.s();!(v=g.n()).done;){var y=v.value;Mz[y]?(n.encodings||(n.encodings=[])).push(y):"interval"===n.type?(FL('Interval selections should be initialized using "x" and/or "y" keys.'),n.encodings=d.encodings):(n.fields||(n.fields=[])).push(y)}}catch(M){g.e(M)}finally{g.f()}}}catch(M){p.e(M)}finally{p.f()}}else n.encodings=d.encodings,n.fields=d.fields}var x,w=Object(Fn.a)(null!==(a=n.fields)&&void 0!==a?a:[]);try{for(w.s();!(x=w.n()).done;){var O=x.value,k={type:"E",field:O};k.signals=Object.assign({},f(k,"data")),u.items.push(k),u.hasField[O]=k}}catch(M){w.e(M)}finally{w.f()}var j,_=Object(Fn.a)(null!==(i=n.encodings)&&void 0!==i?i:[]);try{for(_.s();!(j=_.n()).done;){var S=j.value,E=e.fieldDef(S);if(E){var A=E.field;if(E.aggregate){FL(b.cannotProjectAggregate(S,E.aggregate));continue}if(!A){FL(b.cannotProjectOnChannelWithoutField(S));continue}if(E.timeUnit){A=e.vgField(S);var C={timeUnit:E.timeUnit,as:A,field:E.field};c[kR(C)]=C}if(!s[A]){var N="E";if("interval"===t.type)JU(e.getScaleComponent(S).get("type"))&&(N="R");else E.bin&&(N="R-RE");var T={field:A,channel:S,type:N};T.signals=Object.assign(Object.assign({},f(T,"data")),f(T,"visual")),u.items.push(s[A]=T),u.hasField[A]=u.hasChannel[S]=s[A]}}else FL(b.cannotProjectOnChannelWithoutField(S))}}catch(M){_.e(M)}finally{_.f()}if(n.init){var D=function(e){return u.items.map((function(t){return void 0!==e[t.channel]?e[t.channel]:e[t.field]}))};if("interval"===n.type)t.init=D(n.init);else{var I=ZF(n.init);t.init=I.map(D)}}IR(c)||(u.timeUnit=new Uq(null,c))},signals:function(e,t,n){var r=t.name+Wq;return n.filter((function(e){return e.name===r})).length>0?n:n.concat({name:r,value:t.project.items.map((function(e){e.signals,e.hasLegend;var t=oR(e,["signals","hasLegend"]);return t.field=GR(t.field),t}))})}},qq,Yq,Zq,eX,aX,Hq,zq,Xq];function uX(e,t){var n,r=Object(Fn.a)(oX);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.has(e)&&t(a)}}catch(i){r.e(i)}finally{r.f()}}function sX(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:VF;if(GF(e)){var r=e.map((function(e){return sX(e,t,n)}));return t?"[".concat(r.join(", "),"]"):r}return RL(e)?n(t?WL(e):HL(e)):t?n(JSON.stringify(e)):e}function cX(e,t){return kX(e,(function(n,r){t=r.marks?r.marks(e,n,t):t,uX(n,(function(r){r.marks&&(t=r.marks(e,n,t))}))})),t}function lX(e){return e.map((function(e){return e.on&&!e.on.length&&delete e.on,e}))}var fX="_brush",dX="_scale_trigger",hX={signals:function(e,t){var n=t.name,r=n+Wq,a=Yq.has(t),i=[],o=[],u=[];if(t.translate&&!a){var s="!event.item || event.item.mark.name !== ".concat(aR(n+fX));pX(t,(function(e,t){var n,r=ZF(null!==(n=t.between[0].filter)&&void 0!==n?n:t.between[0].filter=[]);return r.indexOf(s)<0&&r.push(s),e}))}t.project.items.forEach((function(n,r){var a=n.channel;if(a===qP||a===XP){var s=t.init?t.init[r]:null,c=function(e,t,n,r){var a=n.channel,i=n.signals.visual,o=n.signals.data,u=Yq.has(t),s=aR(e.scaleName(a)),c=e.getScaleComponent(a),l=c?c.get("type"):void 0,f=function(e){return"scale(".concat(s,", ").concat(e,")")},d=e.getSizeSignalRef(a===qP?"width":"height").signal,h="".concat(a,"(unit)"),p=pX(t,(function(e,t){return[].concat(Object(yi.a)(e),[{events:t.between[0],update:"[".concat(h,", ").concat(h,"]")},{events:t,update:"[".concat(i,"[0], clamp(").concat(h,", 0, ").concat(d,")]")}])}));return p.push({events:{signal:t.name+dX},update:JU(l)?"[".concat(f("".concat(o,"[0]")),", ").concat(f("".concat(o,"[1]")),"]"):"[0, 0]"}),u?[{name:o,on:[]}]:[Object.assign(Object.assign({name:i},r?{init:sX(r,!0,f)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:o},r?{init:sX(r)}:{}),{on:[{events:{signal:i},update:"".concat(i,"[0] === ").concat(i,"[1] ? null : invert(").concat(s,", ").concat(i,")")}]})]}(e,t,n,s),l=n.signals.data,f=n.signals.visual,d=aR(e.scaleName(a)),h=JU(e.getScaleComponent(a).get("type"))?"+":"";i.push.apply(i,Object(yi.a)(c)),o.push(l),u.push({scaleName:e.scaleName(a),expr:"(!isArray(".concat(l,") || ")+"(".concat(h,"invert(").concat(d,", ").concat(f,")[0] === ").concat(h).concat(l,"[0] && ")+"".concat(h,"invert(").concat(d,", ").concat(f,")[1] === ").concat(h).concat(l,"[1]))")})}else FL("Interval selections only support x and y encoding channels.")})),a||i.push({name:n+dX,value:{},on:[{events:u.map((function(e){return{scale:e.scaleName}})),update:u.map((function(e){return e.expr})).join(" && ")+" ? ".concat(n+dX," : {}")}]});var c=t.init,l="unit: ".concat(_X(e),", fields: ").concat(r,", values");return i.concat(Object.assign(Object.assign({name:n+yX},c?{init:"{".concat(l,": ").concat(sX(c),"}")}:{}),{on:[{events:[{signal:o.join(" || ")}],update:o.join(" && ")+" ? {".concat(l,": [").concat(o,"]} : null")}]}))},modifyExpr:function(e,t){return t.name+yX+", "+("global"===t.resolve?"true":"{unit: ".concat(_X(e),"}"))},marks:function(e,t,n){var r=t.name,a=t.project.hasChannel,i=a.x,o=a.y,u=i&&i.signals.visual,s=o&&o.signals.visual,c="data(".concat(aR(t.name+bX),")");if(Yq.has(t))return n;var l={x:void 0!==i?{signal:"".concat(u,"[0]")}:{value:0},y:void 0!==o?{signal:"".concat(s,"[0]")}:{value:0},x2:void 0!==i?{signal:"".concat(u,"[1]")}:{field:{group:"width"}},y2:void 0!==o?{signal:"".concat(s,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve){var f,d=Object(Fn.a)(MR(l));try{for(d.s();!(f=d.n()).done;){var h=f.value;l[h]=[Object.assign({test:"".concat(c,".length && ").concat(c,"[0].unit === ").concat(_X(e))},l[h]),{value:0}]}}catch(x){d.e(x)}finally{d.f()}}var p=t.mark,v=p.fill,m=p.fillOpacity,g=p.cursor,b=oR(p,["fill","fillOpacity","cursor"]),y=MR(b).reduce((function(e,t){return e[t]=[{test:[void 0!==i&&"".concat(u,"[0] !== ").concat(u,"[1]"),void 0!==o&&"".concat(s,"[0] !== ").concat(s,"[1]")].filter((function(e){return e})).join(" && "),value:b[t]},{value:null}],e}),{});return[{name:r+fX+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:v},fillOpacity:{value:m}},update:l}}].concat(Object(yi.a)(n),[{name:r+fX,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},g?{cursor:{value:g}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},l),y)}}])}};function pX(e,t){return e.events.reduce((function(e,n){return n.between?t(e,n):(FL("".concat(n," is not an ordered event stream for interval selections.")),e)}),[])}function vX(e,t){var n=t.name,r=n+Wq,a=t.project,i="(item().isVoronoi ? datum.datum : datum)",o=a.items.map((function(t){var n=e.fieldDef(t.channel);return n&&n.bin?"[".concat(i,"[").concat(aR(e.vgField(t.channel,{})),"], ")+"".concat(i,"[").concat(aR(e.vgField(t.channel,{binSuffix:"end"})),"]]"):"".concat(i,"[").concat(aR(t.field),"]")})).join(", "),u="unit: ".concat(_X(e),", fields: ").concat(r,", values"),s=t.events;return[{name:n+yX,on:s?[{events:s,update:"datum && item().mark.marktype !== 'group' ? {".concat(u,": [").concat(o,"]} : null"),force:!0}]:[]}]}var mX={signals:vX,modifyExpr:function(e,t){return t.name+yX+", "+("global"===t.resolve?"null":"{unit: ".concat(_X(e),"}"))}},gX={signals:vX,modifyExpr:function(e,t){return t.name+yX+", "+("global"===t.resolve?"true":"{unit: ".concat(_X(e),"}"))}},bX="_store",yX="_tuple",xX="_modify",wX="vlSelectionResolve",OX={single:gX,multi:mX,interval:hX};function kX(e,t){var n=e.component.selection;if(n){var r,a=Object(Fn.a)(FR(n));try{for(a.s();!(r=a.n()).done;){var i=r.value;if(!0===t(i,OX[i.type]))break}}catch(o){a.e(o)}finally{a.f()}}}function jX(e){for(var t=e.parent;t&&!MZ(t);)t=t.parent;return t}function _X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=t.escape,r=n?aR(e.name):e.name,a=jX(e);if(a){var i,o=a.facet,u=Object(Fn.a)(Nz);try{for(u.s();!(i=u.n()).done;){var s=i.value;o[s]&&(r+=" + '__facet_".concat(s,"_' + (facet[").concat(aR(a.vgField(s)),"])"))}}catch(c){u.e(c)}finally{u.f()}}return r}function SX(e){var t=!1;return kX(e,(function(e){t=t||e.project.items.some((function(e){return e.field===OH}))})),t}var EX,AX,CX,NX,TX,DX="Property",IX="ArrayExpression",MX="BinaryExpression",FX="CallExpression",RX="ConditionalExpression",PX="LogicalExpression",zX="MemberExpression",BX="ObjectExpression",LX="UnaryExpression";function UX(e){this.type=e}UX.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case IX:return e.elements;case MX:case PX:return[e.left,e.right];case FX:return[e.callee].concat(e.arguments);case RX:return[e.test,e.consequent,e.alternate];case zX:return[e.object,e.property];case BX:return e.properties;case DX:return[e.key,e.value];case LX:return[e.argument];default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(EX={})[1]="Boolean",EX[2]="<end>",EX[3]="Identifier",EX[4]="Keyword",EX[5]="Null",EX[6]="Numeric",EX[7]="Punctuator",EX[8]="String",EX[9]="RegularExpression";var WX="Identifier",VX="Unexpected token %0",HX="Invalid regular expression",GX="Invalid regular expression: missing /",qX="Octal literals are not allowed in strict mode.",XX="ILLEGAL",YX="Disabled.",KX=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),$X=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function ZX(e,t){if(!e)throw new Error("ASSERT: "+t)}function JX(e){return e>=48&&e<=57}function QX(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function eY(e){return"01234567".indexOf(e)>=0}function tY(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function nY(e){return 10===e||13===e||8232===e||8233===e}function rY(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&KX.test(String.fromCharCode(e))}function aY(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&$X.test(String.fromCharCode(e))}var iY={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function oY(){for(var e;CX<NX&&(tY(e=AX.charCodeAt(CX))||nY(e));)++CX}function uY(e){var t,n,r,a=0;for(n="u"===e?4:2,t=0;t<n;++t)CX<NX&&QX(AX[CX])?(r=AX[CX++],a=16*a+"0123456789abcdef".indexOf(r.toLowerCase())):kY({},VX,XX);return String.fromCharCode(a)}function sY(){var e,t,n,r;for(t=0,"}"===(e=AX[CX])&&kY({},VX,XX);CX<NX&&QX(e=AX[CX++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&kY({},VX,XX),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function cY(){var e,t;for(e=AX.charCodeAt(CX++),t=String.fromCharCode(e),92===e&&(117!==AX.charCodeAt(CX)&&kY({},VX,XX),++CX,(e=uY("u"))&&"\\"!==e&&rY(e.charCodeAt(0))||kY({},VX,XX),t=e);CX<NX&&aY(e=AX.charCodeAt(CX));)++CX,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==AX.charCodeAt(CX)&&kY({},VX,XX),++CX,(e=uY("u"))&&"\\"!==e&&aY(e.charCodeAt(0))||kY({},VX,XX),t+=e);return t}function lY(){var e,t;return e=CX,t=92===AX.charCodeAt(CX)?cY():function(){var e,t;for(e=CX++;CX<NX;){if(92===(t=AX.charCodeAt(CX)))return CX=e,cY();if(!aY(t))break;++CX}return AX.slice(e,CX)}(),{type:1===t.length?3:iY.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:CX}}function fY(){var e,t,n,r,a=CX,i=AX.charCodeAt(CX),o=AX[CX];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++CX,{type:7,value:String.fromCharCode(i),start:a,end:CX};default:if(61===(e=AX.charCodeAt(CX+1)))switch(i){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return CX+=2,{type:7,value:String.fromCharCode(i)+String.fromCharCode(e),start:a,end:CX};case 33:case 61:return CX+=2,61===AX.charCodeAt(CX)&&++CX,{type:7,value:AX.slice(a,CX),start:a,end:CX}}}return">>>="===(r=AX.substr(CX,4))?{type:7,value:r,start:a,end:CX+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:a,end:CX+=3}:o===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?{type:7,value:t,start:a,end:CX+=2}:"<>=!+-*%&|^/".indexOf(o)>=0?{type:7,value:o,start:a,end:++CX}:void kY({},VX,XX)}function dY(){var e,t,n;if(ZX(JX((n=AX[CX]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=CX,e="","."!==n){if(e=AX[CX++],n=AX[CX],"0"===e){if("x"===n||"X"===n)return++CX,function(e){for(var t="";CX<NX&&QX(AX[CX]);)t+=AX[CX++];return 0===t.length&&kY({},VX,XX),rY(AX.charCodeAt(CX))&&kY({},VX,XX),{type:6,value:parseInt("0x"+t,16),start:e,end:CX}}(t);if(eY(n))return function(e){for(var t="0"+AX[CX++];CX<NX&&eY(AX[CX]);)t+=AX[CX++];return(rY(AX.charCodeAt(CX))||JX(AX.charCodeAt(CX)))&&kY({},VX,XX),{type:6,value:parseInt(t,8),octal:!0,start:e,end:CX}}(t);n&&JX(n.charCodeAt(0))&&kY({},VX,XX)}for(;JX(AX.charCodeAt(CX));)e+=AX[CX++];n=AX[CX]}if("."===n){for(e+=AX[CX++];JX(AX.charCodeAt(CX));)e+=AX[CX++];n=AX[CX]}if("e"===n||"E"===n)if(e+=AX[CX++],"+"!==(n=AX[CX])&&"-"!==n||(e+=AX[CX++]),JX(AX.charCodeAt(CX)))for(;JX(AX.charCodeAt(CX));)e+=AX[CX++];else kY({},VX,XX);return rY(AX.charCodeAt(CX))&&kY({},VX,XX),{type:6,value:parseFloat(e),start:t,end:CX}}function hY(){var e,t,n,r;return TX=null,oY(),e=CX,t=function(){var e,t,n,r;for(ZX("/"===(e=AX[CX]),"Regular expression literal must start with a slash"),t=AX[CX++],n=!1,r=!1;CX<NX;)if(t+=e=AX[CX++],"\\"===e)nY((e=AX[CX++]).charCodeAt(0))&&kY({},GX),t+=e;else if(nY(e.charCodeAt(0)))kY({},GX);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||kY({},GX),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";CX<NX&&aY((e=AX[CX]).charCodeAt(0));)++CX,"\\"===e&&CX<NX?kY({},VX,XX):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&kY({},HX,n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";kY({},HX)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){kY({},HX)}try{return new RegExp(e,t)}catch(a){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:CX}}function pY(){var e;return oY(),CX>=NX?{type:2,start:CX,end:CX}:rY(e=AX.charCodeAt(CX))?lY():40===e||41===e||59===e?fY():39===e||34===e?function(){var e,t,n,r,a="",i=!1;for(ZX("'"===(e=AX[CX])||'"'===e,"String literal must starts with a quote"),t=CX,++CX;CX<NX;){if((n=AX[CX++])===e){e="";break}if("\\"===n)if((n=AX[CX++])&&nY(n.charCodeAt(0)))"\r"===n&&"\n"===AX[CX]&&++CX;else switch(n){case"u":case"x":"{"===AX[CX]?(++CX,a+=sY()):a+=uY(n);break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":a+="\t";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;default:eY(n)?(0!==(r="01234567".indexOf(n))&&(i=!0),CX<NX&&eY(AX[CX])&&(i=!0,r=8*r+"01234567".indexOf(AX[CX++]),"0123".indexOf(n)>=0&&CX<NX&&eY(AX[CX])&&(r=8*r+"01234567".indexOf(AX[CX++]))),a+=String.fromCharCode(r)):a+=n}else{if(nY(n.charCodeAt(0)))break;a+=n}}return""!==e&&kY({},VX,XX),{type:8,value:a,octal:i,start:t,end:CX}}():46===e?JX(AX.charCodeAt(CX+1))?dY():fY():JX(e)?dY():fY()}function vY(){var e;return CX=(e=TX).end,TX=pY(),CX=e.end,e}function mY(){var e;e=CX,TX=pY(),CX=e}function gY(e,t,n){var r=new UX("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function bY(e,t){var n=new UX("CallExpression");return n.callee=e,n.arguments=t,n}function yY(e){var t=new UX(WX);return t.name=e,t}function xY(e){var t=new UX("Literal");return t.value=e.value,t.raw=AX.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function wY(e,t,n){var r=new UX("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function OY(e,t,n){var r=new UX("Property");return r.key=t,r.value=n,r.kind=e,r}function kY(e,t){var n,r=Array.prototype.slice.call(arguments,2),a=t.replace(/%(\d)/g,(function(e,t){return ZX(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(a)).index=CX,n.description=a,n}function jY(e){2===e.type&&kY(e,"Unexpected end of input"),6===e.type&&kY(e,"Unexpected number"),8===e.type&&kY(e,"Unexpected string"),3===e.type&&kY(e,"Unexpected identifier"),4===e.type&&kY(e,"Unexpected reserved word"),kY(e,VX,e.value)}function _Y(e){var t=vY();7===t.type&&t.value===e||jY(t)}function SY(e){return 7===TX.type&&TX.value===e}function EY(e){return 4===TX.type&&TX.value===e}function AY(){var e=[];for(CX=TX.start,_Y("[");!SY("]");)SY(",")?(vY(),e.push(null)):(e.push(LY()),SY("]")||_Y(","));return vY(),function(e){var t=new UX("ArrayExpression");return t.elements=e,t}(e)}function CY(){var e;return CX=TX.start,8===(e=vY()).type||6===e.type?(e.octal&&kY(e,qX),xY(e)):yY(e.value)}function NY(){var e,t,n;return CX=TX.start,3===(e=TX).type?(n=CY(),_Y(":"),OY("init",n,LY())):2!==e.type&&7!==e.type?(t=CY(),_Y(":"),OY("init",t,LY())):void jY(e)}function TY(){var e,t,n=[],r={},a=String;for(CX=TX.start,_Y("{");!SY("}");)t="$"+((e=NY()).key.type===WX?e.key.name:a(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?kY({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),SY("}")||_Y(",");return _Y("}"),function(e){var t=new UX("ObjectExpression");return t.properties=e,t}(n)}var DY={if:1};function IY(){var e,t,n;if(SY("("))return function(){var e;return _Y("("),e=UY(),_Y(")"),e}();if(SY("["))return AY();if(SY("{"))return TY();if(e=TX.type,CX=TX.start,3===e||DY[TX.value])n=yY(vY().value);else if(8===e||6===e)TX.octal&&kY(TX,qX),n=xY(vY());else{if(4===e)throw new Error(YX);1===e?((t=vY()).value="true"===t.value,n=xY(t)):5===e?((t=vY()).value=null,n=xY(t)):SY("/")||SY("/=")?(n=xY(hY()),mY()):jY(vY())}return n}function MY(){var e=[];if(_Y("("),!SY(")"))for(;CX<NX&&(e.push(LY()),!SY(")"));)_Y(",");return _Y(")"),e}function FY(){return _Y("."),function(){var e;return CX=TX.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=vY())||jY(e),yY(e.value)}()}function RY(){var e;return _Y("["),e=UY(),_Y("]"),e}function PY(){var e=function(){var e;for(e=IY();;)if(SY("."))e=wY(".",e,FY());else if(SY("("))e=bY(e,MY());else{if(!SY("["))break;e=wY("[",e,RY())}return e}();if(7===TX.type&&(SY("++")||SY("--")))throw new Error(YX);return e}function zY(){var e,t;if(7!==TX.type&&4!==TX.type)t=PY();else{if(SY("++")||SY("--"))throw new Error(YX);if(SY("+")||SY("-")||SY("~")||SY("!"))e=vY(),t=zY(),t=function(e,t){var n=new UX("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(EY("delete")||EY("void")||EY("typeof"))throw new Error(YX);t=PY()}}return t}function BY(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function LY(){var e,t;return e=function(){var e,t,n,r,a,i,o,u,s,c;if(e=TX,s=zY(),0===(a=BY(r=TX)))return s;for(r.prec=a,vY(),t=[e,TX],i=[s,r,o=zY()];(a=BY(TX))>0;){for(;i.length>2&&a<=i[i.length-2].prec;)o=i.pop(),u=i.pop().value,s=i.pop(),t.pop(),n=gY(u,s,o),i.push(n);(r=vY()).prec=a,i.push(r),t.push(TX),n=zY(),i.push(n)}for(n=i[c=i.length-1],t.pop();c>1;)t.pop(),n=gY(i[c-1].value,i[c-2],n),c-=2;return n}(),SY("?")&&(vY(),t=LY(),_Y(":"),e=function(e,t,n){var r=new UX("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,LY())),e}function UY(){var e=LY();if(SY(","))throw new Error(YX);return e}function WY(e,t,n){return e.fields=t||[],e.fname=n,e}function VY(e){return 1===e.length?HY(e[0]):GY(e)}var HY=function(e){return function(t){return t[e]}},GY=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function qY(e){throw Error(e)}function XY(e){var t,n,r,a=[],i=e.length,o=null,u=0,s="";function c(){a.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<i;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===o)c(),o=null,u=-1;else{if(o)continue;t===u&&'"'===r||t===u&&"'"===r?(t=n+1,o=r):"."!==r||u?"["===r?(n>t&&c(),u=t=n+1):"]"===r&&(u||qY("Access path missing open bracket: "+e),u>0&&c(),u=0,t=n+1):n>t?c():t=n+1}return u&&qY("Access path missing closing bracket: "+e),o&&qY("Access path missing closing quote: "+e),n>t&&(n++,c()),a}function YY(e,t,n){var r=XY(e);return e=1===r.length?r[0]:e,WY((n&&n.get||VY)(r),[e],t||e)}YY("id"),WY((function(e){return e}),[],"identity"),WY((function(){return 0}),[],"zero"),WY((function(){return 1}),[],"one"),WY((function(){return!0}),[],"true"),WY((function(){return!1}),[],"false");Array.isArray;Object.prototype.hasOwnProperty;function KY(e){var t=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(t.push.apply(t,Object(yi.a)(KY(e.object))),t.push.apply(t,Object(yi.a)(KY(e.property)))),t)}function $Y(e){return"MemberExpression"===e.object.type?$Y(e.object):"datum"===e.object.name}function ZY(e){var t=function(e){CX=0,NX=(AX=e).length,TX=null,mY();var t=UY();if(2!==TX.type)throw new Error("Unexpect token after expression.");return t}(e),n=new Set;return t.visit((function(e){"MemberExpression"===e.type&&$Y(e)&&n.add(KY(e).slice(1).join("."))})),n}var JY=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r,a){var i;return Object(Zg.a)(this,n),(i=t.call(this,e)).model=r,i.filter=a,i.expr=tK(i.model,i.filter,Object(NG.a)(i)),i._dependentFields=ZY(i.expr),i}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,this.model,yR(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),n}(Bq);function QY(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum",a=[];function i(t){var i=zR(t),o=e.getSelectionComponent(i,t),u=aR(i+bX);if(o.project.timeUnit){var s=null!==n&&void 0!==n?n:e.component.data.raw,c=o.project.timeUnit.clone();s.parent?c.insertAsParentOf(s):s.parent=c}return"none"!==o.empty&&a.push(u),"vlSelectionTest(".concat(u,", ").concat(r)+("global"===o.resolve?")":", ".concat(aR(o.resolve),")"))}var o=BR(t,i);return(a.length?"!("+a.map((function(e){return"length(data(".concat(e,"))")})).join(" || ")+") || ":"")+"(".concat(o,")")}function eK(e,t){var n=t.encoding,r=t.field;if(n||r){if(n&&!r){var a=e.project.items.filter((function(e){return e.channel===n}));!a.length||a.length>1?(r=e.project.items[0].field,FL((a.length?"Multiple ":"No ")+"matching ".concat(aR(n)," encoding found for selection ").concat(aR(t.selection),". ")+'Using "field": '.concat(aR(r),"."))):r=a[0].field}}else r=e.project.items[0].field,e.project.items.length>1&&FL('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(aR(r),"."));return"".concat(e.name,"[").concat(aR(r),"]")}function tK(e,t,n){return BR(t,(function(t){return rR(t)?t:function(e){return null===e||void 0===e?void 0:e.selection}(t)?QY(e,t.selection,n):bU(t)}))}function nK(e,t){if(e)return GF(e)&&!AV(e)?e.map((function(e){return pV(e,t)})).join(", "):e}function rK(e,t,n,r){var a,i,o;e.encode=null!==(a=e.encode)&&void 0!==a?a:{},e.encode[t]=null!==(i=e.encode[t])&&void 0!==i?i:{},e.encode[t].update=null!==(o=e.encode[t].update)&&void 0!==o?o:{},e.encode[t].update[n]=r}function aK(e,t,n){var r,a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},o=e.combine(),u=o.disable,s=o.orient,c=o.scale,l=o.labelExpr,f=o.title,d=o.zindex,h=oR(o,["disable","orient","scale","labelExpr","title","zindex"]);if(!u){for(var p in h){var v=aP[p],m=h[p];if(v&&v!==t&&"both"!==v)delete h[p];else if(nP(m)){var g=m.condition,b=oR(m,["condition"]),y=ZF(g),x=tP[p];if(x){var w=x.vgProp,O=x.part,k=[].concat(Object(yi.a)(y.map((function(e){var t=e.test,n=oR(e,["test"]);return Object.assign({test:tK(null,t)},n)}))),[b]);rK(h,O,w,k),delete h[p]}else if(null===x){var j={signal:y.map((function(e){var t=e.test,n=oR(e,["test"]);return"".concat(tK(null,t)," ? ").concat(NV(n)," : ")})).join("")+NV(b)};h[p]=j}}else if(tU(m)){var _=tP[p];if(_){var S=_.vgProp,E=_.part;rK(h,E,S,m),delete h[p]}}}if("grid"===t){if(!h.grid)return;if(h.encode){var A=h.encode.grid;h.encode=Object.assign({},A?{grid:A}:{}),IR(h.encode)&&delete h.encode}return Object.assign(Object.assign({scale:c,orient:s},h),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:KR(d,0)})}if(i.header||!e.mainExtracted){if(void 0!==l){var C=l;(null===(a=null===(r=h.encode)||void 0===r?void 0:r.labels)||void 0===a?void 0:a.update)&&tU(h.encode.labels.update.text)&&(C=qR(l,"datum.label",h.encode.labels.update.text.signal)),rK(h,"labels","text",{signal:C})}if(null===h.labelAlign&&delete h.labelAlign,h.encode){var N,T=Object(Fn.a)(rP);try{for(T.s();!(N=T.n()).done;){var D=N.value;e.hasAxisPart(D)||delete h.encode[D]}}catch(M){T.e(M)}finally{T.f()}IR(h.encode)&&delete h.encode}var I=nK(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:c,orient:s,grid:!1},I?{title:I}:{}),h),!1===n.aria?{aria:!1}:{}),{zindex:KR(d,0)})}}}function iK(e){var t,n=e.component.axes,r=[],a=Object(Fn.a)(Gz);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(n[i]){var o,u=Object(Fn.a)(n[i]);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(!s.get("disable")&&!s.get("gridScale")){var c="x"===i?"height":"width",l=e.getSizeSignalRef(c).signal;c!==l&&r.push({name:c,update:l})}}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){a.e(f)}finally{a.f()}return r}var oK={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},uK={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},sK=MR(oK),cK=MR(uK);function lK(e,t,n,r){return Object.assign.apply(null,[{}].concat(Object(yi.a)(e.map((function(e){if("axisOrient"===e){var a,i="x"===n?"bottom":"left",o=t["x"===n?"axisBottom":"axisLeft"]||{},u=t["x"===n?"axisTop":"axisRight"]||{},s=new Set([].concat(Object(yi.a)(MR(o)),Object(yi.a)(MR(u)))),c={},l=Object(Fn.a)(s.values());try{for(l.s();!(a=l.n()).done;){var f=a.value;c[f]={signal:"".concat(r.signal,' === "').concat(i,'" ? ').concat(TV(o[f])," : ").concat(TV(u[f]))}}}catch(d){l.e(d)}finally{l.f()}return c}return t[e]})))))}function fK(e,t,n,r){var a="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:t in XU?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],i="x"===e?"axisX":"axisY",o=tU(n)?"axisOrient":"axis"+UR(n),u=[].concat(a,Object(yi.a)(a.map((function(e){return i+e.substr(4)})))),s=["axis",o,i];return{vlOnlyAxisConfig:lK(u,r,e,n),vgAxisConfig:lK(s,r,e,n),axisConfigStyle:dK([].concat(s,Object(yi.a)(u)),r)}}function dK(e,t){var n,r,a=[{}],i=Object(Fn.a)(e);try{for(i.s();!(r=i.n()).done;){var o=null===(n=t[r.value])||void 0===n?void 0:n.style;if(o){o=ZF(o);var u,s=Object(Fn.a)(o);try{for(s.s();!(u=s.n()).done;){var c=u.value;a.push(t.style[c])}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){i.e(l)}finally{i.f()}return Object.assign.apply(null,a)}function hK(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=RV(e,n,t.style);if(void 0!==i)return{configFrom:"style",configValue:i};for(var o=0,u=["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"];o<u.length;o++){var s=u[o];if(void 0!==(null===(r=a[s])||void 0===r?void 0:r[e]))return{configFrom:s,configValue:a[s][e]}}return{}}var pK={scale:function(e){var t=e.model,n=e.channel;return t.scaleName(n)},format:function(e){var t=e.fieldOrDatumDef,n=e.config,r=e.axis,a=r.format,i=r.formatType;return kW(t,t.type,a,i,n,!0)},formatType:function(e){var t=e.axis,n=e.fieldOrDatumDef,r=e.scaleType,a=t.formatType;return jW(a,n,r)},grid:function(e){var t,n=e.fieldOrDatumDef,r=e.axis,a=e.scaleType;return(!GW(n)||!uB(n.bin))&&(null!==(t=r.grid)&&void 0!==t?t:function(e,t){return!ZU(e)&&GW(t)&&!oB(null===t||void 0===t?void 0:t.bin)}(a,n))},gridScale:function(e){return function(e,t){var n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n);return}(e.model,e.channel)},labelAlign:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,a=e.channel;return t.labelAlign||gK(n,r,a)},labelAngle:function(e){return e.labelAngle},labelBaseline:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,a=e.channel;return t.labelBaseline||mK(n,r,a)},labelFlush:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,a=e.channel;return null!==(t=n.labelFlush)&&void 0!==t?t:function(e,t){if("x"===t&&_R(["quantitative","temporal"],e))return!0;return}(r.type,a)},labelOverlap:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,a=e.scaleType;return null!==(t=n.labelOverlap)&&void 0!==t?t:function(e,t){if("nominal"!==e)return"log"!==t||"greedy";return}(r.type,a)},orient:function(e){return e.orient},tickCount:function(e){var t,n=e.channel,r=e.model,a=e.axis,i=e.fieldOrDatumDef,o=e.scaleType,u="x"===n?"width":"y"===n?"height":void 0,s=u?r.getSizeSignalRef(u):void 0;return null!==(t=a.tickCount)&&void 0!==t?t:function(e){var t,n=e.fieldOrDatumDef,r=e.scaleType,a=e.size;if(!e.values&&!ZU(r)&&"log"!==r){if(GW(n)){if(oB(n.bin))return{signal:"ceil(".concat(a.signal,"/10)")};if(n.timeUnit&&_R(["month","hours","day","quarter"],null===(t=QL(n.timeUnit))||void 0===t?void 0:t.unit))return}return{signal:"ceil(".concat(a.signal,"/40)")}}return}({fieldOrDatumDef:i,scaleType:o,size:s,values:a.values})},title:function(e){var t=e.axis,n=e.model,r=e.channel;if(void 0!==t.title)return t.title;var a=bK(n,r);if(void 0!==a)return a;var i=n.typedFieldDef(r),o="x"===r?"x2":"y2",u=n.fieldDef(o);return zV(i?[zW(i)]:[],GW(u)?[zW(u)]:[])},values:function(e){return function(e,t){var n=e.values;if(GF(n))return _V(t,n);if(tU(n))return n;return}(e.axis,e.fieldOrDatumDef)},zindex:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,a=e.mark;return null!==(t=n.zindex)&&void 0!==t?t:function(e,t){if("rect"===e&&iV(t))return 1;return 0}(a,r)}};function vK(e){return"(((".concat(e.signal," % 360) + 360) % 360)")}function mK(e,t,n,r){if(void 0!==e){if("x"===n){if(tU(e)){var a=vK(e),i=tU(t)?"(".concat(t.signal,' === "top")'):"top"===t;return{signal:"(45 < ".concat(a," && ").concat(a," < 135) || (225 < ").concat(a," && ").concat(a,' < 315) ? "middle" :')+"(".concat(a," <= 45 || 315 <= ").concat(a,") === ").concat(i,' ? "bottom" : "top"')}}if(45<e&&e<135||225<e&&e<315)return"middle";if(tU(t)){var o=e<=45||315<=e?"===":"!==";return{signal:"".concat(t.signal," ").concat(o,' "top" ? "bottom" : "top"')}}return(e<=45||315<=e)===("top"===t)?"bottom":"top"}if(tU(e)){var u=vK(e),s=tU(t)?"(".concat(t.signal,' === "left")'):"left"===t,c=r?'"middle"':"null";return{signal:"".concat(u," <= 45 || 315 <= ").concat(u," || (135 <= ").concat(u," && ").concat(u," <= 225) ? ").concat(c," : (45 <= ").concat(u," && ").concat(u," <= 135) === ").concat(s,' ? "top" : "bottom"')}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(tU(t)){var l=45<=e&&e<=135?"===":"!==";return{signal:"".concat(t.signal," ").concat(l,' "left" ? "top" : "bottom"')}}return(45<=e&&e<=135)===("left"===t)?"top":"bottom"}}function gK(e,t,n){if(void 0!==e){var r="x"===n,a=r?0:90,i=r?"bottom":"left";if(tU(e)){var o=vK(e),u=tU(t)?"(".concat(t.signal,' === "').concat(i,'")'):t===i;return{signal:"(".concat(a?"("+o+" + 90)":o," % 180 === 0) ? ").concat(r?null:'"center"'," :")+"(".concat(a," < ").concat(o," && ").concat(o," < ").concat(180+a,") === ").concat(u,' ? "left" : "right"')}}if((e+a)%180===0)return r?null:"center";if(tU(t)){var s=a<e&&e<180+a?"===":"!==",c="".concat(t.signal," ").concat(s,' "').concat(i,'"');return{signal:"".concat(c,' ? "left" : "right"')}}return(a<e&&e<180+a)===(t===i)?"left":"right"}}function bK(e,t){var n="x"===t?"x2":"y2",r=e.fieldDef(t),a=e.fieldDef(n),i=r?r.title:void 0,o=a?a.title:void 0;return i&&o?BV(i,o):i||(o||(void 0!==i?i:void 0!==o?o:void 0))}var yK=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e)).transform=r,a._dependentFields=ZY(a.transform.calculate),a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(kR(this.transform))}}],[{key:"parseAllForSortIndex",value:function(e,t){return t.forEachFieldDef((function(t,r){if(QW(t)&&MW(t.sort)){var a=t.field,i=t.timeUnit,o=t.sort,u=o.map((function(e,t){return"".concat(bU({field:a,timeUnit:i,equal:e})," ? ").concat(t," : ")})).join("")+o.length;e=new n(e,{calculate:u,as:xK(t,r,{forAs:!0})})}})),e}}]),n}(Bq);function xK(e,t,n){return aV(e,Object.assign({prefix:t,suffix:"sort_index"},null!==n&&void 0!==n?n:{}))}function wK(e,t){return _R(["top","bottom"],t)?"column":_R(["left","right"],t)||"row"===e?"row":"column"}function OK(e,t,n,r){var a="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return KR(((null===t||void 0===t?void 0:t.header)||{})[e],a[e],n.header[e])}function kK(e,t,n,r){var a,i={},o=Object(Fn.a)(e);try{for(o.s();!(a=o.n()).done;){var u=a.value,s=OK(u,t,n,r);void 0!==s&&(i[u]=s)}}catch(c){o.e(c)}finally{o.f()}return i}var jK=["row","column"],_K=["header","footer"];function SK(e,t){var n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,a=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,i=kK(["titleAnchor","titleAngle","titleOrient"],a,r,t),o=i.titleAnchor,u=i.titleAngle,s=wK(t,i.titleOrient),c=QR(u);return{name:"".concat(t,"-title"),type:"group",role:"".concat(s,"-title"),title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),AK(c,s)),EK(s,c,o)),FK(r,a,t,sK,oK))}}function EK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}var r=gK(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function AK(e,t){var n=mK(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function CK(e,t){var n,r=e.component.layoutHeaders[t],a=[],i=Object(Fn.a)(_K);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(r[o]){var u,s=Object(Fn.a)(r[o]);try{for(s.s();!(u=s.n()).done;){var c=DK(e,t,o,r,u.value);null!=c&&a.push(c)}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){i.e(l)}finally{i.f()}return a}function NK(e,t){var n,r=e.sort;return IW(r)?{field:aV(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:GF(r)?{field:xK(e,t,{expr:"datum"}),order:"ascending"}:{field:aV(e,{expr:"datum"}),order:null!==r&&void 0!==r?r:"ascending"}}function TK(e,t,n){var r=kK(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e,n,t),a=r.format,i=r.formatType,o=r.labelAngle,u=r.labelAnchor,s=r.labelOrient,c=r.labelExpr,l=xW({fieldOrDatumDef:e,format:a,formatType:i,expr:"parent",config:n}).signal,f=wK(t,s);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:c?qR(qR(c,"datum.label",l),"datum.value",aV(e,{expr:"parent"})):l}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),AK(o,f)),EK(f,o,u)),FK(n,e,t,cK,uK))}function DK(e,t,n,r,a){if(a){var i=null,o=r.facetFieldDef,u=e.config?e.config:void 0;if(o&&a.labels){var s=kK(["labelOrient"],o,u,t).labelOrient;("row"===t&&!_R(["top","bottom"],s)||"column"===t&&!_R(["left","right"],s))&&(i=TK(o,t,u))}var c=MZ(e)&&!FW(e.facet),l=a.axes,f=(null===l||void 0===l?void 0:l.length)>0;if(i||f){var d="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("".concat(t,"_").concat(n)),type:"group",role:"".concat(t,"-").concat(n)},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:NK(o,t)}:{}),f&&c?{from:{data:e.getName("facet_domain_".concat(t))}}:{}),i?{title:i}:{}),a.sizeSignal?{encode:{update:Object(xi.a)({},d,a.sizeSignal)}}:{}),f?{axes:l}:{})}}return null}var IK={column:{start:0,end:1},row:{start:1,end:0}};function MK(e,t){return IK[t][e]}function FK(e,t,n,r,a){var i,o={},u=Object(Fn.a)(r);try{for(u.s();!(i=u.n()).done;){var s=i.value;if(a[s]){var c=OK(s,t,e,n);void 0!==c&&(o[a[s]]=c)}}}catch(l){u.e(l)}finally{u.f()}return o}function RK(e){return[].concat(Object(yi.a)(PK(e,"width")),Object(yi.a)(PK(e,"height")),Object(yi.a)(PK(e,"childWidth")),Object(yi.a)(PK(e,"childHeight")))}function PK(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var a=e.getSizeSignalRef(t).signal;if("step"===r){var i=e.getScaleComponent(n);if(i){var o=i.get("type"),u=i.get("range");if(ZU(o)&&nU(u)){var s=e.scaleName(n);if(MZ(e.parent))if("independent"===e.parent.component.resolve.scale[n])return[zK(s,u)];return[zK(s,u),{name:a,update:BK(s,i,"domain('".concat(s,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){var c=a.endsWith("width"),l=c?"containerSize()[0]":"containerSize()[1]",f=DH(e.config.view,c?"width":"height"),d="isFinite(".concat(l,") ? ").concat(l," : ").concat(f);return[{name:a,init:d,on:[{update:d,events:"window:resize"}]}]}return[{name:a,value:r}]}function zK(e,t){return{name:e+"_step",value:t.step}}function BK(e,t,n){var r=t.get("type"),a=t.get("padding"),i=KR(t.get("paddingOuter"),a),o=t.get("paddingInner");return o="band"===r?void 0!==o?o:a:1,"bandspace(".concat(n,", ").concat(o,", ").concat(i,") * ").concat(e,"_step")}function LK(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function UK(e,t){return MR(e).reduce((function(n,r){var a=e[r];return Object.assign(Object.assign({},n),fq(t,a,r,(function(e){return tU(e)?e:{value:e.value}})))}),{})}function WK(e,t){if(RZ(t)||MZ(t))return"shared";if(FZ(t))return qz(e)?"independent":"shared";throw new Error("invalid model type for resolve")}function VK(e,t){var n=e.scale[t],r=qz(t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&FL(b.independentScaleMeansIndependentGuide(t)),"independent"):e[r][t]||"shared"}var HK=Object.assign(Object.assign({},wH),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),GK=MR(HK),qK=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){return Object(Zg.a)(this,n),t.apply(this,arguments)}return Object(Jg.a)(n)}(TG),XK={symbols:function(e,t){var n,r,a,i,o,u=t.fieldOrDatumDef,s=t.model,c=t.channel,l=t.legendCmpt;if("symbol"!==t.legendType)return;var f=s.markDef,d=s.encoding,h=s.config,p=s.mark,v=f.filled&&"trail"!==p,m=Object.assign(Object.assign({},function(e,t,n){var r,a=Object(Fn.a)(n);try{for(a.s();!(r=a.n()).done;){var i=r.value,o=MV(i,t.markDef,t.config);void 0!==o&&(e[i]=CV(o))}}catch(u){a.e(u)}finally{a.f()}return e}({},s,EP)),yq(s,{filled:v})),g=null!==(n=YK(d.opacity))&&void 0!==n?n:f.opacity;if(m.fill)if("fill"===c||v&&c===az)delete m.fill;else if(m.fill.field)l.get("symbolFillColor")?delete m.fill:(m.fill=CV(null!==(r=h.legend.symbolBaseFillColor)&&void 0!==r?r:"black"),m.fillOpacity=CV(null!==g&&void 0!==g?g:1));else if(GF(m.fill)){var b=null!==(o=null!==(i=KK(null!==(a=d.fill)&&void 0!==a?a:d.color))&&void 0!==i?i:f.fill)&&void 0!==o?o:v&&f.color;b&&(m.fill=CV(b))}if(m.stroke)if("stroke"===c||!v&&c===az)delete m.stroke;else if(m.stroke.field)delete m.stroke;else if(GF(m.stroke)){var y=KR(KK(d.stroke||d.color),f.stroke,v?f.color:void 0);y&&(m.stroke={value:y})}if(c!==lz){var x=GW(u)&&ZK(s,l,u);x?m.opacity=[Object.assign({test:x},CV(null!==g&&void 0!==g?g:1)),CV(h.legend.unselectedOpacity)]:g&&(m.opacity=CV(g))}return IR(m=Object.assign(Object.assign({},m),e))?void 0:m},gradient:function(e,t){var n=t.model;if("gradient"!==t.legendType)return;var r={},a=YK(n.encoding.opacity)||n.markDef.opacity;a&&(r.opacity=CV(a));return IR(r=Object.assign(Object.assign({},r),e))?void 0:r},labels:function(e,t){var n=t.fieldOrDatumDef,r=t.model,a=t.channel,i=t.legendCmpt,o=r.legend(a)||{},u=r.config,s=GW(n)?ZK(r,i,n):void 0,c=s?[{test:s,value:1},{value:u.legend.unselectedOpacity}]:void 0,l=o.format,f=o.formatType,d=bW(f)?OW({fieldOrDatumDef:n,field:"datum.value",format:l,formatType:f,config:u}):void 0,h=Object.assign(Object.assign(Object.assign({},c?{opacity:c}:{}),d?{text:d}:{}),e);return IR(h)?void 0:h},entries:function(e,t){var n=t.legendCmpt.get("selections");return(null===n||void 0===n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function YK(e){return $K(e,(function(e,t){return Math.max(e,t.value)}))}function KK(e){return $K(e,(function(e,t){return KR(e,t.value)}))}function $K(e,t){return function(e){var t=e&&e.condition;return!!t&&(GF(t)||JW(t))}(e)?ZF(e.condition).reduce(t,e.value):JW(e)?e.value:void 0}function ZK(e,t,n){var r=t.get("selections");if(null===r||void 0===r?void 0:r.length){var a=aR(n.field);return r.map((function(e){var t=aR(zR(e)+bX);return"(!length(data(".concat(t,")) || (").concat(e,"[").concat(a,"] && indexof(").concat(e,"[").concat(a,"], datum.value) >= 0))")})).join(" || ")}}var JK={direction:function(e){return e.direction},format:function(e){var t=e.fieldOrDatumDef,n=e.legend,r=e.config,a=n.format,i=n.formatType;return kW(t,t.type,a,i,r,!1)},formatType:function(e){var t=e.legend,n=e.fieldOrDatumDef,r=e.scaleType,a=t.formatType;return jW(a,n,r)},gradientLength:function(e){var t,n,r=e.legend,a=e.legendConfig;return null!==(n=null!==(t=r.gradientLength)&&void 0!==t?t:a.gradientLength)&&void 0!==n?n:function(e){var t=e.legendConfig,n=e.model,r=e.direction,a=e.orient,i=e.scaleType,o=t.gradientHorizontalMaxLength,u=t.gradientHorizontalMinLength,s=t.gradientVerticalMaxLength,c=t.gradientVerticalMinLength;if(QU(i))return"horizontal"===r?"top"===a||"bottom"===a?t$(n,"width",u,o):u:t$(n,"height",c,s);return}(e)},labelOverlap:function(e){var t,n,r=e.legend,a=e.legendConfig,i=e.scaleType;return null!==(n=null!==(t=r.labelOverlap)&&void 0!==t?t:a.labelOverlap)&&void 0!==n?n:function(e){if(_R(["quantile","threshold","log"],e))return"greedy";return}(i)},symbolType:function(e){var t,n=e.legend,r=e.markDef,a=e.channel,i=e.encoding;return null!==(t=n.symbolType)&&void 0!==t?t:function(e,t,n,r){var a;if("shape"!==t){var i=null!==(a=KK(n))&&void 0!==a?a:r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(r.type,a,i.shape,r.shape)},title:function(e){return dV(e.fieldOrDatumDef,e.config,{allowDisabling:!0})},type:function(e){var t=e.legendType,n=e.scaleType;if(Az(e.channel)&&QU(n)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:function(e){var t=e.fieldOrDatumDef;return function(e,t){var n=e.values;if(GF(n))return _V(t,n);if(tU(n))return n;return}(e.legend,t)}};function QK(e){return KR(e.legend.type,function(e){var t=e.channel,n=e.timeUnit,r=e.scaleType;if(Az(t)){if(_R(["quarter","month","day"],n))return"symbol";if(QU(r))return"gradient"}return"symbol"}(e))}function e$(e){var t,n,r=e.legendConfig,a=e.legendType,i=e.orient;return null!==(n=null!==(t=e.legend.direction)&&void 0!==t?t:r[a?"gradientDirection":"symbolDirection"])&&void 0!==n?n:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(i,a)}function t$(e,t,n,r){var a=e.getSizeSignalRef(t).signal;return{signal:"clamp(".concat(a,", ").concat(n,", ").concat(r,")")}}function n$(e){var t=IZ(e)?function(e){for(var t=e.encoding,n={},r=0,a=[az].concat(Object(yi.a)(yH));r<a.length;r++){var i=a[r],o=gV(t[i]);o&&e.getScaleComponent(i)&&(i===uz&&GW(o)&&o.type===SU||(n[i]=a$(e,i)))}return n}(e):function(e){var t,n=e.component,r=n.legends,a=n.resolve,i=Object(Fn.a)(e.children);try{for(i.s();!(t=i.n()).done;){var o=t.value;n$(o);var u,s=Object(Fn.a)(MR(o.component.legends));try{for(s.s();!(u=s.n()).done;){var c=u.value;a.legend[c]=VK(e.component.resolve,c),"shared"===a.legend[c]&&(r[c]=i$(r[c],o.component.legends[c]),r[c]||(a.legend[c]="independent",delete r[c]))}}catch(m){s.e(m)}finally{s.f()}}}catch(m){i.e(m)}finally{i.f()}var l,f=Object(Fn.a)(MR(r));try{for(f.s();!(l=f.n()).done;){var d,h=l.value,p=Object(Fn.a)(e.children);try{for(p.s();!(d=p.n()).done;){var v=d.value;v.component.legends[h]&&("shared"===a.legend[h]&&delete v.component.legends[h])}}catch(m){p.e(m)}finally{p.f()}}}catch(m){f.e(m)}finally{f.f()}return r}(e);return e.component.legends=t,t}function r$(e,t,n,r){switch(t){case"disable":return void 0!==n;case"values":return!!(null===n||void 0===n?void 0:n.values);case"title":if("title"===t&&e===(null===r||void 0===r?void 0:r.title))return!0}return e===(n||{})[t]}function a$(e,t){var n,r,a,i=e.legend(t),o=e.markDef,u=e.encoding,s=e.config,c=s.legend,l=new qK({},function(e,t){var n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:Object(xi.a)({},t,n)}(e,t));!function(e,t,n){var r,a=null===(r=e.fieldDef(t))||void 0===r?void 0:r.field;kX(e,(function(e){var r,i,o=null!==(r=e.project.hasField[a])&&void 0!==r?r:e.project.hasChannel[t];if(o&&Zq.has(e)){var u=null!==(i=n.get("selections"))&&void 0!==i?i:[];u.push(e.name),n.set("selections",u,!1),o.hasLegend=!0}}))}(e,t,l);var f=void 0!==i?!i:c.disable;if(l.set("disable",f,void 0!==i),f)return l;i=i||{};var d,h=e.getScaleComponent(t).get("type"),p=gV(u[t]),v=GW(p)?null===(n=QL(p.timeUnit))||void 0===n?void 0:n.unit:void 0,m=i.orient||s.legend.orient||"right",g=QK({legend:i,channel:t,timeUnit:v,scaleType:h}),b={legend:i,channel:t,model:e,markDef:o,encoding:u,fieldOrDatumDef:p,legendConfig:c,config:s,scaleType:h,orient:m,legendType:g,direction:e$({legend:i,legendType:g,orient:m,legendConfig:c})},y=Object(Fn.a)(GK);try{for(y.s();!(d=y.n()).done;){var x=d.value,w=x in JK?JK[x](b):i[x];if(void 0!==w){var O=r$(w,x,i,e.fieldDef(t));(O||void 0===s.legend[x])&&l.set(x,w,O)}}}catch(D){y.e(D)}finally{y.f()}for(var k=null!==(r=null===i||void 0===i?void 0:i.encoding)&&void 0!==r?r:{},j=l.get("selections"),_={},S={fieldOrDatumDef:p,model:e,channel:t,legendCmpt:l,legendType:g},E=0,A=["labels","legend","title","symbols","gradient","entries"];E<A.length;E++){var C=A[E],N=UK(null!==(a=k[C])&&void 0!==a?a:{},e),T=C in XK?XK[C](N,S):N;void 0===T||IR(T)||(_[C]=Object.assign(Object.assign(Object.assign({},(null===j||void 0===j?void 0:j.length)&&GW(p)?{name:"".concat(zR(p.field),"_legend_").concat(C)}:{}),(null===j||void 0===j?void 0:j.length)?{interactive:!!j}:{}),{update:T}))}return IR(_)||l.set("encode",_,!!(null===i||void 0===i?void 0:i.encoding)),l}function i$(e,t){var n,r,a,i;if(!e)return t.clone();var o=e.getWithExplicit("orient"),u=t.getWithExplicit("orient");if(!o.explicit||!u.explicit||o.value===u.value){var s,c=!1,l=Object(Fn.a)(GK);try{var f=function(){var n=s.value,r=RG(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(function(e,t){switch(n){case"symbolType":return function(e,t){if("circle"===t.value)return t;return e}(e,t);case"title":return LV(e,t);case"type":return c=!0,IG("symbol")}return FG(e,t,n,"legend")}));e.setWithExplicit(n,r)};for(l.s();!(s=l.n()).done;)f()}catch(d){l.e(d)}finally{l.f()}return c&&((null===(r=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)&&LR(e.implicit,["encode","gradient"]),(null===(i=null===(a=e.explicit)||void 0===a?void 0:a.encode)||void 0===i?void 0:i.gradient)&&LR(e.explicit,["encode","gradient"])),e}}function o$(e,t,n,r){var a,i,o;e.encode=null!==(a=e.encode)&&void 0!==a?a:{},e.encode[t]=null!==(i=e.encode[t])&&void 0!==i?i:{},e.encode[t].update=null!==(o=e.encode[t].update)&&void 0!==o?o:{},e.encode[t].update[n]=r}function u$(e){var t,n=e.component.legends,r={},a=Object(Fn.a)(MR(n));try{for(a.s();!(t=a.n()).done;){var i=t.value,o=e.getScaleComponent(i),u=OR(o.get("domains"));if(r[u]){var s,c=Object(Fn.a)(r[u]);try{for(c.s();!(s=c.n()).done;){i$(s.value,n[i])||r[u].push(n[i])}}catch(l){c.e(l)}finally{c.f()}}else r[u]=[n[i].clone()]}}catch(l){a.e(l)}finally{a.f()}return FR(r).flat().map((function(t){return function(e,t){var n,r,a,i=e.combine(),o=i.disable,u=i.labelExpr,s=(i.selections,oR(i,["disable","labelExpr","selections"]));if(o)return;!1===t.aria&&void 0==s.aria&&(s.aria=!1);if(null===(n=s.encode)||void 0===n?void 0:n.symbols){var c=s.encode.symbols.update;!c.fill||"transparent"===c.fill.value||c.stroke||s.stroke||(c.stroke={value:"transparent"});var f,d=Object(Fn.a)(yH);try{for(d.s();!(f=d.n()).done;){var h=f.value;s[h]&&delete c[h]}}catch(l){d.e(l)}finally{d.f()}}s.title||delete s.title;if(void 0!==u){var p=u;(null===(a=null===(r=s.encode)||void 0===r?void 0:r.labels)||void 0===a?void 0:a.update)&&tU(s.encode.labels.update.text)&&(p=qR(u,"datum.label",s.encode.labels.update.text.signal)),o$(s,"labels","text",{signal:p})}for(var v in s){var m=s[v];if(tU(m)){var g=xH[v];if(g){var b=g.vgProp;o$(s,g.part,b,m),delete s[v]}}}return s}(t,e.config)})).filter((function(e){return void 0!==e}))}function s$(e){return RZ(e)||FZ(e)?function(e){return e.children.reduce((function(e,t){return e.concat(t.assembleProjections())}),c$(e))}(e):c$(e)}function c$(e){var t=e.component.projection;if(!t||t.merged)return[];var n=t.combine(),r=n.name;if(t.data){var a={signal:"[".concat(t.size.map((function(e){return e.signal})).join(", "),"]")},i=t.data.reduce((function(t,n){var r=tU(n)?n.signal:"data('".concat(e.lookupDataSource(n),"')");return _R(t,r)||t.push(r),t}),[]);if(i.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:a,fit:{signal:i.length>1?"[".concat(i.join(", "),"]"):i[0]}},n)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}var l$=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],f$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r,a,i){var o;return Object(Zg.a)(this,n),(o=t.call(this,Object.assign({},r),{name:e})).specifiedProjection=r,o.size=a,o.data=i,o.merged=!1,o}return Object(Jg.a)(n,[{key:"isFit",get:function(){return!!this.data}}]),n}(TG);function d$(e){e.component.projection=IZ(e)?function(e){var t;if(e.hasProjection){var n=e.specifiedProjection,r=!(n&&(null!=n.scale||null!=n.translate)),a=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=r?function(e){for(var t=[],n=e.encoding,r=0,a=[[tz,ez],[rz,nz]];r<a.length;r++){var i=a[r];(gV(n[i[0]])||gV(n[i[1]]))&&t.push({signal:e.getName("geojson_".concat(t.length))})}e.channelHasField(uz)&&e.typedFieldDef(uz).type===SU&&t.push({signal:e.getName("geojson_".concat(t.length))});0===t.length&&t.push(e.requestDataName(GG));return t}(e):void 0;return new f$(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=e.config.projection)&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{}),a,i)}return}(e):function(e){if(0===e.children.length)return;var t,n,r=Object(Fn.a)(e.children);try{for(r.s();!(n=r.n()).done;){d$(n.value)}}catch(d){r.e(d)}finally{r.f()}var a=ER(e.children,(function(e){var n=e.component.projection;if(n){if(t){var r=function(e,t){var n=ER(l$,(function(n){return!eR(e.explicit,n)&&!eR(t.explicit,n)||!(!eR(e.explicit,n)||!eR(t.explicit,n)||OR(e.get(n))!==OR(t.get(n)))}));if(OR(e.size)===OR(t.size)){if(n)return e;if(OR(e.explicit)===OR({}))return t;if(OR(t.explicit)===OR({}))return e}return null}(t,n);return r&&(t=r),!!r}return t=n,!0}return!0}));if(t&&a){var i,o=e.projectionName(!0),u=new f$(o,t.specifiedProjection,t.size,yR(t.data)),s=Object(Fn.a)(e.children);try{for(s.s();!(i=s.n()).done;){var c=i.value,l=c.component.projection;if(l){var f;if(l.isFit)(f=u.data).push.apply(f,Object(yi.a)(c.component.projection.data));c.renameProjection(l.get("name"),o),l.merged=!0}}}catch(d){s.e(d)}finally{s.f()}return u}return}(e)}var h$=n(267);function p$(e,t){return"".concat(iB(e),"_").concat(t)}function v$(e,t,n){var r,a=p$(null!==(r=wV(n,void 0))&&void 0!==r?r:{},t);return e.getName("".concat(a,"_bins"))}function m$(e,t,n){var r,a;r=function(e){return"as"in e}(e)?rR(e.as)?[e.as,"".concat(e.as,"_end")]:[e.as[0],e.as[1]]:[aV(e,{forAs:!0}),aV(e,{binSuffix:"end",forAs:!0})];var i=Object.assign({},wV(t,void 0)),o=p$(i,e.field),u=function(e,t){return{signal:e.getName("".concat(t,"_bins")),extentSignal:e.getName("".concat(t,"_extent"))}}(n,o),s=u.signal,c=u.extentSignal;if(cB(i.extent)){var l=i.extent,f=l.selection;a=eK(n.getSelectionComponent(zR(f),f),l),delete i.extent}return{key:o,binComponent:Object.assign(Object.assign(Object.assign({bin:i,field:e.field,as:[r]},s?{signal:s}:{}),c?{extentSignal:c}:{}),a?{span:a}:{})}}var g$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e)).bins=r,a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.bins))}},{key:"merge",value:function(e,t){var n,r=Object(Fn.a)(MR(e.bins));try{for(r.s();!(n=r.n()).done;){var a=n.value;a in this.bins?(t(e.bins[a].signal,this.bins[a].signal),this.bins[a].as=CR([].concat(Object(yi.a)(this.bins[a].as),Object(yi.a)(e.bins[a].as)),kR)):this.bins[a]=e.bins[a]}}catch(s){r.e(s)}finally{r.f()}var i,o=Object(Fn.a)(e.children);try{for(o.s();!(i=o.n()).done;){var u=i.value;e.removeChild(u),u.parent=this}}catch(s){o.e(s)}finally{o.f()}e.remove()}},{key:"producedFields",value:function(){return new Set(FR(this.bins).map((function(e){return e.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(FR(this.bins).map((function(e){return e.field})))}},{key:"hash",value:function(){return"Bin ".concat(kR(this.bins))}},{key:"assemble",value:function(){return FR(this.bins).flatMap((function(e){var t=[],n=Object(h$.a)(e.as),r=n[0],a=n.slice(1),i=e.bin,o=i.extent,u=oR(i,["extent"]),s=Object.assign(Object.assign(Object.assign({type:"bin",field:GR(e.field),as:r,signal:e.signal},cB(o)?{extent:null}:{extent:o}),e.span?{span:{signal:"span(".concat(e.span,")")}}:{}),u);!o&&e.extentSignal&&(t.push({type:"extent",field:GR(e.field),signal:e.extentSignal}),s.extent={signal:e.extentSignal}),t.push(s);var c,l=Object(Fn.a)(a);try{for(l.s();!(c=l.n()).done;)for(var f=c.value,d=0;d<2;d++)t.push({type:"formula",expr:aV({field:r[d]},{expr:"datum"}),as:f[d]})}catch(h){l.e(h)}finally{l.f()}return e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,n,r){if(ZW(n)&&oB(n.bin)){var a=m$(n,n.bin,t),i=a.key,o=a.binComponent;e[i]=Object.assign(Object.assign(Object.assign({},o),e[i]),function(e,t,n,r){var a,i;if(SV(t,n)){var o=IZ(e)&&null!==(i=null!==(a=e.axis(n))&&void 0!==a?a:e.legend(n))&&void 0!==i?i:{},u=aV(t,{expr:"datum"}),s=aV(t,{expr:"datum",binSuffix:"end"});return{formulaAs:aV(t,{binSuffix:"range",forAs:!0}),formula:AW(u,s,o.format,o.formatType,r)}}return{}}(t,n,r,t.config))}return e}),{});return IR(r)?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t,r){var a=m$(t,t.bin,r),i=a.key,o=a.binComponent;return new n(e,Object(xi.a)({},i,o))}}]),n}(Bq),b$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e){var r,a;if(Object(Zg.a)(this,n),r=t.call(this,null),UG(e=null!==e&&void 0!==e?e:{name:"source"})||(a=e.format?Object.assign({},wR(e.format,["parse"])):{}),BG(e))r._data={values:e.values};else if(zG(e)){if(r._data={url:e.url},!a.type){var i=/(?:\.([^.]+))?$/.exec(e.url)[1];_R(["json","csv","tsv","dsv","topojson"],i)||(i="json"),a.type=i}}else VG(e)?r._data={values:[{type:"Sphere"}]}:(LG(e)||UG(e))&&(r._data={});return r._generator=UG(e),e.name&&(r._name=e.name),a&&!IR(a)&&(r._data.format=a),r}return Object(Jg.a)(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"data",get:function(){return this._data}},{key:"hasName",value:function(){return!!this._name}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(e){this._name=e}},{key:"parent",set:function(e){throw new Error("Source nodes have to be roots.")}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}]),n}(Bq);function y$(e){var t,n=Object(Fn.a)(e);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,i=Object(Fn.a)(a.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.parent!==a)return console.error("Dataflow graph is inconsistent.",a,o),!1}}catch(u){i.e(u)}finally{i.f()}if(!y$(a.children))return!1}}catch(u){n.e(u)}finally{n.f()}return!0}var x$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e)).params=r,a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(kR(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}]),n}(Bq),w$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e)).params=r,a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}},{key:"hash",value:function(){return"Hash ".concat(kR(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"sequence"},this.params)}}]),n}(Bq);function O$(e){return e instanceof b$||e instanceof x$||e instanceof w$}var k$=function(){function e(){Object(Zg.a)(this,e),this._mutated=!1}return Object(Jg.a)(e,[{key:"setMutated",value:function(){this._mutated=!0}},{key:"mutatedFlag",get:function(){return this._mutated}}]),e}(),j$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){var e;return Object(Zg.a)(this,n),(e=t.call(this))._continue=!1,e}return Object(Jg.a)(n,[{key:"setContinue",value:function(){this._continue=!0}},{key:"continueFlag",get:function(){return this._continue}},{key:"flags",get:function(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}},set:function(e){var t=e.continueFlag,n=e.mutatedFlag;t&&this.setContinue(),n&&this.setMutated()}},{key:"reset",value:function(){}},{key:"optimizeNextFromLeaves",value:function(e){if(O$(e))return!1;var t=e.parent;return this.run(e).continueFlag&&this.optimizeNextFromLeaves(t),this.mutatedFlag}}]),n}(k$),_$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){return Object(Zg.a)(this,n),t.apply(this,arguments)}return Object(Jg.a)(n)}(k$);function S$(e,t,n,r){var a=IZ(r)?r.encoding[Lz(t)]:void 0;if(ZW(n)&&IZ(r)&&UW(t,n,a,r.stack,r.markDef,r.config))e.add(aV(n,{})),e.add(aV(n,{suffix:"end"})),n.bin&&SV(n,t)&&e.add(aV(n,{binSuffix:"range"}));else if(t in _z){var i=function(e){switch(e){case ez:return"y";case nz:return"y2";case tz:return"x";case rz:return"x2"}}(t);e.add(r.getName(i))}else e.add(aV(n));return e}var E$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r,a){var i;return Object(Zg.a)(this,n),(i=t.call(this,e)).dimensions=r,i.measures=a,i}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,new Set(this.dimensions),yR(this.measures))}},{key:"groupBy",get:function(){return this.dimensions}},{key:"merge",value:function(e){return function(e,t){if(e.size!==t.size)return!1;var n,r=Object(Fn.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!t.has(a))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(this.dimensions,e.dimensions)?(function(e,t){var n,r,a=Object(Fn.a)(MR(t));try{for(a.s();!(r=a.n()).done;){var i,o=r.value,u=t[o],s=Object(Fn.a)(MR(u));try{for(s.s();!(i=s.n()).done;){var c=i.value;o in e?e[o][c]=new Set([].concat(Object(yi.a)(null!==(n=e[o][c])&&void 0!==n?n:[]),Object(yi.a)(u[c]))):e[o]=Object(xi.a)({},c,u[c])}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}}(this.measures,e.measures),!0):(function(){var e;(e=DL).debug.apply(e,arguments)}("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(e){e.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat(Object(yi.a)(this.dimensions),Object(yi.a)(MR(this.measures))))}},{key:"producedFields",value:function(){var e,t=new Set,n=Object(Fn.a)(MR(this.measures));try{for(n.s();!(e=n.n()).done;){var r,a=e.value,i=Object(Fn.a)(MR(this.measures[a]));try{for(i.s();!(r=i.n()).done;){var o=r.value,u=this.measures[a][o];0===u.size?t.add("".concat(o,"_").concat(a)):u.forEach(t.add,t)}}catch(s){i.e(s)}finally{i.f()}}}catch(s){n.e(s)}finally{n.f()}return t}},{key:"hash",value:function(){return"Aggregate ".concat(kR({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],a=Object(Fn.a)(MR(this.measures));try{for(a.s();!(e=a.n()).done;){var i,o=e.value,u=Object(Fn.a)(MR(this.measures[o]));try{for(u.s();!(i=u.n()).done;){var s,c=i.value,l=Object(Fn.a)(this.measures[o][c]);try{for(l.s();!(s=l.n()).done;){var f=s.value;r.push(f),t.push(c),n.push("*"===o?null:GR(o))}}catch(d){l.e(d)}finally{l.f()}}}catch(d){u.e(d)}finally{u.f()}}}catch(d){a.e(d)}finally{a.f()}return{type:"aggregate",groupby:Object(yi.a)(this.dimensions).map(GR),ops:t,fields:n,as:r}}}],[{key:"makeFromEncoding",value:function(e,t){var r=!1;t.forEachFieldDef((function(e){e.aggregate&&(r=!0)}));var a={},i=new Set;return r?(t.forEachFieldDef((function(e,n){var r,o,u,s,c=e.aggregate,l=e.field;if(c)if("count"===c)a["*"]=null!==(r=a["*"])&&void 0!==r?r:{},a["*"].count=new Set([aV(e,{forAs:!0})]);else{if(RP(c)||PP(c)){var f=RP(c)?"argmin":"argmax",d=c[f];a[d]=null!==(o=a[d])&&void 0!==o?o:{},a[d][f]=new Set([aV({op:f,field:d},{forAs:!0})])}else a[l]=null!==(u=a[l])&&void 0!==u?u:{},a[l][c]=new Set([aV(e,{forAs:!0})]);eB(n)&&"unaggregated"===t.scaleDomain(n)&&(a[l]=null!==(s=a[l])&&void 0!==s?s:{},a[l].min=new Set([aV({field:l,aggregate:"min"},{forAs:!0})]),a[l].max=new Set([aV({field:l,aggregate:"max"},{forAs:!0})]))}else S$(i,n,e,t)})),i.size+MR(a).length===0?null:new n(e,i,a)):null}},{key:"makeFromTransform",value:function(e,t){var r,a,i,o,u=new Set,s={},c=Object(Fn.a)(t.aggregate);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=l.op,d=l.field,h=l.as;f&&("count"===f?(s["*"]=null!==(r=s["*"])&&void 0!==r?r:{},s["*"].count=new Set([h||aV(l,{forAs:!0})])):(s[d]=null!==(a=s[d])&&void 0!==a?a:{},s[d][f]=new Set([h||aV(l,{forAs:!0})])))}}catch(g){c.e(g)}finally{c.f()}var p,v=Object(Fn.a)(null!==(i=t.groupby)&&void 0!==i?i:[]);try{for(v.s();!(p=v.n()).done;){var m=p.value;u.add(m)}}catch(g){v.e(g)}finally{v.f()}return u.size+MR(s).length===0?null:new n(e,u,s)}}]),n}(Bq),A$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r,a,i){var o;Object(Zg.a)(this,n),(o=t.call(this,e)).model=r,o.name=a,o.data=i;var u,s=Object(Fn.a)(Nz);try{for(s.s();!(u=s.n()).done;){var c=u.value,l=r.facet[c];if(l){var f=l.bin,d=l.sort;o[c]=Object.assign({name:r.getName("".concat(c,"_domain")),fields:[aV(l)].concat(Object(yi.a)(oB(f)?[aV(l,{binSuffix:"end"})]:[]))},IW(d)?{sortField:d}:GF(d)?{sortIndexField:xK(l,c)}:{})}}}catch(h){s.e(h)}finally{s.f()}return o.childModel=r.child,o}return Object(Jg.a)(n,[{key:"hash",value:function(){var e,t="Facet",n=Object(Fn.a)(Nz);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(t+=" ".concat(r.charAt(0),":").concat(kR(this[r])))}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"fields",get:function(){var e,t,n=[],r=Object(Fn.a)(Nz);try{for(r.s();!(t=r.n()).done;){var a=t.value;(null===(e=this[a])||void 0===e?void 0:e.fields)&&n.push.apply(n,Object(yi.a)(this[a].fields))}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"dependentFields",value:function(){var e,t=new Set(this.fields),n=Object(Fn.a)(Nz);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(this[r].sortField&&t.add(this[r].sortField.field),this[r].sortIndexField&&t.add(this[r].sortIndexField))}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){var e,t={},n=Object(Fn.a)(Gz);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=this.childModel.component.scales[r];if(a&&!a.merged){var i=a.get("type"),o=a.get("range");if(ZU(i)&&nU(o)){var u=dZ(hZ(this.childModel,r));u?t[r]=u:FL("Unknown field for ".concat(r,". Cannot calculate view size."))}}}}catch(s){n.e(s)}finally{n.f()}return t}},{key:"assembleRowColumnHeaderData",value:function(e,t,n){var r={row:"y",column:"x"}[e],a=[],i=[],o=[];n&&n[r]&&(t?(a.push("distinct_".concat(n[r])),i.push("max")):(a.push(n[r]),i.push("distinct")),o.push("distinct_".concat(n[r])));var u=this[e],s=u.sortField,c=u.sortIndexField;if(s){var l=s.op,f=void 0===l?CW:l,d=s.field;a.push(d),i.push(f),o.push(aV(s,{forAs:!0}))}else c&&(a.push(c),i.push("max"),o.push(c));return{name:this[e].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},a.length?{fields:a,ops:i,as:o}:{})]}}},{key:"assembleFacetHeaderData",value:function(e){var t,n,r,a=this.model.layout.columns,i=this.model.component.layoutHeaders,o=[],u={},s=Object(Fn.a)(jK);try{for(s.s();!(r=s.n()).done;){var c,l=r.value,f=Object(Fn.a)(_K);try{for(f.s();!(c=f.n()).done;){var d,h=c.value,p=null!==(t=i[l]&&i[l][h])&&void 0!==t?t:[],v=Object(Fn.a)(p);try{for(v.s();!(d=v.n()).done;){if((null===(n=d.value.axes)||void 0===n?void 0:n.length)>0){u[l]=!0;break}}}catch(x){v.e(x)}finally{v.f()}}}catch(x){f.e(x)}finally{f.f()}if(u[l]){var m='length(data("'.concat(this.facet.name,'"))'),g="row"===l?a?{signal:"ceil(".concat(m," / ").concat(a,")")}:1:a?{signal:"min(".concat(m,", ").concat(a,")")}:{signal:m};o.push({name:"".concat(this.facet.name,"_").concat(l),transform:[{type:"sequence",start:0,stop:g}]})}}}catch(x){s.e(x)}finally{s.f()}var b=u.row,y=u.column;return(b||y)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,e)),o}},{key:"assemble",value:function(){var e,t,n=[],r=null,a=this.getChildIndependentFieldsWithStep(),i=this.column,o=this.row,u=this.facet;if(i&&o&&(a.x||a.y)){r="cross_".concat(this.column.name,"_").concat(this.row.name);var s=[].concat(null!==(e=a.x)&&void 0!==e?e:[],null!==(t=a.y)&&void 0!==t?t:[]),c=s.map((function(){return"distinct"}));n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:s,ops:c}]})}for(var l=0,f=[HP,VP];l<f.length;l++){var d=f[l];this[d]&&n.push(this.assembleRowColumnHeaderData(d,r,a))}if(u){var h=this.assembleFacetHeaderData(a);h&&n.push.apply(n,Object(yi.a)(h))}return n}}]),n}(Bq);function C$(e){return"'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}function N$(e,t){var n=WR(e);if("number"===t)return"toNumber(".concat(n,")");if("boolean"===t)return"toBoolean(".concat(n,")");if("string"===t)return"toString(".concat(n,")");if("date"===t)return"toDate(".concat(n,")");if("flatten"===t)return n;if(0===t.indexOf("date:")){var r=C$(t.slice(5,t.length));return"timeParse(".concat(n,",'").concat(r,"')")}if(0===t.indexOf("utc:")){var a=C$(t.slice(4,t.length));return"utcParse(".concat(n,",'").concat(a,"')")}return FL(b.unrecognizedParse(t)),null}function T$(e){var t={};return mR(e.filter,(function(e){var n;if(vU(e)){var r=null;uU(e)?r=e.equal:dU(e)?r=e.range[0]:hU(e)&&(r=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]),r&&(RL(r)?t[e.field]="date":nR(r)?t[e.field]="number":rR(r)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}})),t}function D$(e){var t={};function n(e){var n;kV(e)?t[e.field]="date":"quantitative"===e.type&&(n=e.aggregate,rR(n)&&_R(["min","max"],n))?t[e.field]="number":YR(e.field)>1?e.field in t||(t[e.field]="flatten"):QW(e)&&IW(e.sort)&&YR(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if((IZ(e)||MZ(e))&&e.forEachFieldDef((function(t,r){if(ZW(t))n(t);else{var a=zz(r),i=e.fieldDef(a);n(Object.assign(Object.assign({},t),{type:i.type}))}})),IZ(e)){var r=e.mark,a=e.markDef,i=e.encoding;if(kP(r)&&!e.encoding.order){var o=i["horizontal"===a.orient?"y":"x"];GW(o)&&"quantitative"===o.type&&!(o.field in t)&&(t[o.field]="number")}}return t}var I$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e))._parse=r,a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(kR(this._parse))}},{key:"parse",get:function(){return this._parse}},{key:"merge",value:function(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}},{key:"assembleFormatParse",value:function(){var e,t={},n=Object(Fn.a)(MR(this._parse));try{for(n.s();!(e=n.n()).done;){var r=e.value,a=this._parse[r];1===YR(r)&&(t[r]=a)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set(MR(this._parse))}},{key:"dependentFields",value:function(){return new Set(MR(this._parse))}},{key:"assembleTransforms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return MR(this._parse).filter((function(e){return!t||YR(e)>1})).map((function(t){var n=N$(t,e._parse[t]);return n?{type:"formula",expr:n,as:XR(t)}:null})).filter((function(e){return null!==e}))}}],[{key:"makeExplicit",value:function(e,t,n){var r={},a=t.data;return!UG(a)&&a&&a.format&&a.format.parse&&(r=a.format.parse),this.makeWithAncestors(e,r,{},n)}},{key:"makeWithAncestors",value:function(e,t,r,a){var i,o=Object(Fn.a)(MR(r));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=a.getWithExplicit(u);void 0!==s.value&&(s.explicit||s.value===r[u]||"derived"===s.value||"flatten"===r[u]?delete r[u]:FL(b.differentParse(u,r[u],s.value)))}}catch(x){o.e(x)}finally{o.f()}var c,l=Object(Fn.a)(MR(t));try{for(l.s();!(c=l.n()).done;){var f=c.value,d=a.get(f);void 0!==d&&(d===t[f]?delete t[f]:FL(b.differentParse(f,t[f],d)))}}catch(x){l.e(x)}finally{l.f()}var h=new TG(t,r);a.copyAll(h);var p,v={},m=Object(Fn.a)(MR(h.combine()));try{for(m.s();!(p=m.n()).done;){var g=p.value,y=h.get(g);null!==y&&(v[g]=y)}}catch(x){m.e(x)}finally{m.f()}return 0===MR(v).length||a.parseNothing?null:new n(e,v)}}]),n}(Bq),M$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e){return Object(Zg.a)(this,n),t.call(this,e)}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set([OH])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:OH}}}]),n}(Bq),F$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e)).transform=r,a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=CR(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:aV(e)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(kR(this.transform))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],a=Object(Fn.a)(this.transform.joinaggregate);try{for(a.s();!(e=a.n()).done;){var i=e.value;n.push(i.op),r.push(this.getDefaultName(i)),t.push(void 0===i.field?null:i.field)}}catch(u){a.e(u)}finally{a.f()}var o=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},void 0!==o?{groupby:o}:{})}}]),n}(Bq);var R$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e))._stack=r,a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this._stack))}},{key:"stack",get:function(){return this._stack}},{key:"addDimensions",value:function(e){var t;(t=this._stack.facetby).push.apply(t,Object(yi.a)(e))}},{key:"dependentFields",value:function(){var e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(kR(this._stack))}},{key:"getGroupbyFields",value:function(){var e=this._stack,t=e.dimensionFieldDef,n=e.impute,r=e.groupby;return t?t.bin?n?[aV(t,{binSuffix:"mid"})]:[aV(t,{}),aV(t,{binSuffix:"end"})]:[aV(t)]:null!==r&&void 0!==r?r:[]}},{key:"assemble",value:function(){var e=[],t=this._stack,n=t.facetby,r=t.dimensionFieldDef,a=t.stackField,i=t.stackby,o=t.sort,u=t.offset,s=t.impute,c=t.as;if(s&&r){var l=r.band,f=void 0===l?.5:l;r.bin&&e.push({type:"formula",expr:"".concat(f,"*")+aV(r,{expr:"datum"})+"+".concat(1-f,"*")+aV(r,{expr:"datum",binSuffix:"end"}),as:aV(r,{binSuffix:"mid",forAs:!0})}),e.push({type:"impute",field:a,groupby:[].concat(Object(yi.a)(i),Object(yi.a)(n)),key:aV(r,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[].concat(Object(yi.a)(this.getGroupbyFields()),Object(yi.a)(n)),field:a,sort:o,as:c,offset:u}),e}}],[{key:"makeFromTransform",value:function(e,t){var r=t.stack,a=t.groupby,i=t.as,o=t.offset,u=void 0===o?"zero":o,s=[],c=[];if(void 0!==t.sort){var l,f=Object(Fn.a)(t.sort);try{for(f.s();!(l=f.n()).done;){var d=l.value;s.push(d.field),c.push(KR(d.order,"ascending"))}}catch(v){f.e(v)}finally{f.f()}}var h,p={field:s,order:c};return h=function(e){return GF(e)&&e.every((function(e){return rR(e)}))&&e.length>1}(i)?i:rR(i)?[i,i+"_end"]:[t.stack+"_start",t.stack+"_end"],new n(e,{stackField:r,groupby:a,offset:u,sort:p,facetby:[],as:h})}},{key:"makeFromEncoding",value:function(e,t){var r=t.stack,a=t.encoding;if(!r)return null;var i,o=r.groupbyChannel,u=r.fieldChannel,s=r.offset,c=r.impute;o&&(i=mV(a[o]));var l,f=function(e){return e.stack.stackBy.reduce((function(e,t){var n=aV(t.fieldDef);return n&&e.push(n),e}),[])}(t),d=t.encoding.order;return l=GF(d)||GW(d)?PV(d):f.reduce((function(e,t){return e.field.push(t),e.order.push("y"===u?"descending":"ascending"),e}),{field:[],order:[]}),new n(e,{dimensionFieldDef:i,stackField:t.vgField(u),facetby:[],stackby:f,sort:l,offset:s,impute:c,as:[t.vgField(u,{suffix:"start",forAs:!0}),t.vgField(u,{suffix:"end",forAs:!0})]})}}]),n}(Bq),P$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e)).transform=r,a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=CR(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e,t,n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach((function(e){return n.add(e.field)})),this.transform.window.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(n.add,n),n}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:aV(e)}},{key:"hash",value:function(){return"WindowTransform ".concat(kR(this.transform))}},{key:"assemble",value:function(){var e,t,n=[],r=[],a=[],i=[],o=Object(Fn.a)(this.transform.window);try{for(o.s();!(t=o.n()).done;){var u=t.value;r.push(u.op),a.push(this.getDefaultName(u)),i.push(void 0===u.param?null:u.param),n.push(void 0===u.field?null:u.field)}}catch(g){o.e(g)}finally{o.f()}var s=this.transform.frame,c=this.transform.groupby;if(s&&null===s[0]&&null===s[1]&&r.every((function(e){return zP(e)})))return Object.assign({type:"joinaggregate",as:a,ops:r,fields:n},void 0!==c?{groupby:c}:{});var l=[],f=[];if(void 0!==this.transform.sort){var d,h=Object(Fn.a)(this.transform.sort);try{for(h.s();!(d=h.n()).done;){var p=d.value;l.push(p.field),f.push(null!==(e=p.order)&&void 0!==e?e:"ascending")}}catch(g){h.e(g)}finally{h.f()}}var v={field:l,order:f},m=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:i,as:a,ops:r,fields:n,sort:v},void 0!==m?{ignorePeers:m}:{}),void 0!==c?{groupby:c}:{}),void 0!==s?{frame:s}:{})}}]),n}(Bq),z$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){return Object(Zg.a)(this,n),t.apply(this,arguments)}return Object(Jg.a)(n,[{key:"run",value:function(e){var t=e.parent;if(e instanceof I$){if(O$(t))return this.flags;if(t.numChildren()>1)return this.setContinue(),this.flags;if(t instanceof I$)this.setMutated(),t.merge(e);else{if(DR(t.producedFields(),e.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),e.swapWithParent()}}return this.setContinue(),this.flags}}]),n}(j$),B$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){return Object(Zg.a)(this,n),t.apply(this,arguments)}return Object(Jg.a)(n,[{key:"mergeNodes",value:function(e,t){var n,r=t.shift(),a=Object(Fn.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.removeChild(i),i.parent=r,i.remove()}}catch(o){a.e(o)}finally{a.f()}}},{key:"run",value:function(e){for(var t=e.children.map((function(e){return e.hash()})),n={},r=0;r<t.length;r++)void 0===n[t[r]]?n[t[r]]=[e.children[r]]:n[t[r]].push(e.children[r]);var a,i=Object(Fn.a)(MR(n));try{for(i.s();!(a=i.n()).done;){var o=a.value;n[o].length>1&&(this.setMutated(),this.mergeNodes(e,n[o]))}}catch(l){i.e(l)}finally{i.f()}var u,s=Object(Fn.a)(e.children);try{for(s.s();!(u=s.n()).done;){var c=u.value;this.run(c)}}catch(l){s.e(l)}finally{s.f()}return this.mutatedFlag}}]),n}(_$),L$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){return Object(Zg.a)(this,n),t.apply(this,arguments)}return Object(Jg.a)(n,[{key:"run",value:function(e){return e instanceof Lq||e.numChildren()>0||e instanceof A$||(this.setMutated(),e.remove()),this.flags}}]),n}(j$),U$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){var e;return Object(Zg.a)(this,n),(e=t.apply(this,arguments)).fields=new Set,e.prev=null,e}return Object(Jg.a)(n,[{key:"run",value:function(e){if(this.setContinue(),e instanceof Uq){var t=e.producedFields();NR(t,this.fields)?(this.setMutated(),this.prev.remove()):this.fields=new Set([].concat(Object(yi.a)(this.fields),Object(yi.a)(t))),this.prev=e}return this.flags}},{key:"reset",value:function(){this.fields.clear()}}]),n}(j$),W$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){return Object(Zg.a)(this,n),t.apply(this,arguments)}return Object(Jg.a)(n,[{key:"run",value:function(e){this.setContinue();var t,n=e.parent.children.filter((function(e){return e instanceof Uq})),r=n.pop(),a=Object(Fn.a)(n);try{for(a.s();!(t=a.n()).done;){var i=t.value;this.setMutated(),r.merge(i)}}catch(o){a.e(o)}finally{a.f()}return this.flags}}]),n}(j$);function V$(e){if(e instanceof A$)if(1!==e.numChildren()||e.children[0]instanceof Lq){var t=e.model.component.data.main;H$(t);var n,r=(u=e,function e(t){if(!(t instanceof A$)){var n=t.clone();if(n instanceof Lq){var r=Z$+n.getSource();n.setSource(r),u.model.component.data.outputNodes[r]=n}else(n instanceof E$||n instanceof R$||n instanceof P$||n instanceof F$)&&n.addDimensions(u.fields);var a,i=Object(Fn.a)(t.children.flatMap(e));try{for(i.s();!(a=i.n()).done;)a.value.parent=n}catch(o){i.e(o)}finally{i.f()}return[n]}return t.children.flatMap(e)}),a=e.children.map(r).flat(),i=Object(Fn.a)(a);try{for(i.s();!(n=i.n()).done;){n.value.parent=t}}catch(s){i.e(s)}finally{i.f()}}else{var o=e.children[0];(o instanceof E$||o instanceof R$||o instanceof P$||o instanceof F$)&&o.addDimensions(e.fields),o.swapWithParent(),V$(e)}else e.children.map(V$);var u}function H$(e){if(e instanceof Lq&&e.type===GG&&1===e.numChildren()){var t=e.children[0];t instanceof A$||(t.swapWithParent(),H$(e))}}var G$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){return Object(Zg.a)(this,n),t.call(this)}return Object(Jg.a)(n,[{key:"run",value:function(e){e instanceof Lq&&!e.isRequired()&&(this.setMutated(),e.remove());var t,n=Object(Fn.a)(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.run(r)}}catch(a){n.e(a)}finally{n.f()}return this.mutatedFlag}}]),n}(_$),q$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e){var r;return Object(Zg.a)(this,n),(r=t.call(this)).requiresSelectionId=e&&SX(e),r}return Object(Jg.a)(n,[{key:"run",value:function(e){e instanceof M$&&(this.requiresSelectionId&&(O$(e.parent)||e.parent instanceof E$||e.parent instanceof I$)||(this.setMutated(),e.remove()));var t,n=Object(Fn.a)(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.run(r)}}catch(a){n.e(a)}finally{n.f()}return this.mutatedFlag}}]),n}(_$),X$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){return Object(Zg.a)(this,n),t.apply(this,arguments)}return Object(Jg.a)(n,[{key:"run",value:function(e){var t=e.parent,n=Object(yi.a)(t.children),r=t.children.filter((function(e){return e instanceof I$}));if(t.numChildren()>1&&r.length>=1){var a,i={},o=new Set,u=Object(Fn.a)(r);try{for(u.s();!(a=u.n()).done;){var s,c=a.value.parse,l=Object(Fn.a)(MR(c));try{for(l.s();!(s=l.n()).done;){var f=s.value;f in i?i[f]!==c[f]&&o.add(f):i[f]=c[f]}}catch(w){l.e(w)}finally{l.f()}}}catch(w){u.e(w)}finally{u.f()}var d,h=Object(Fn.a)(o);try{for(h.s();!(d=h.n()).done;){delete i[d.value]}}catch(w){h.e(w)}finally{h.f()}if(!IR(i)){this.setMutated();var p,v=new I$(t,i),m=Object(Fn.a)(n);try{for(m.s();!(p=m.n()).done;){var g=p.value;if(g instanceof I$){var b,y=Object(Fn.a)(MR(i));try{for(y.s();!(b=y.n()).done;){var x=b.value;delete g.parse[x]}}catch(w){y.e(w)}finally{y.f()}}t.removeChild(g),g.parent=v,g instanceof I$&&0===MR(g.parse).length&&g.remove()}}catch(w){m.e(w)}finally{m.f()}}}return this.setContinue(),this.flags}}]),n}(j$),Y$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){return Object(Zg.a)(this,n),t.apply(this,arguments)}return Object(Jg.a)(n,[{key:"run",value:function(e){var t,n=e.parent,r=n.children.filter((function(e){return e instanceof E$})),a={},i=Object(Fn.a)(r);try{for(i.s();!(t=i.n()).done;){var o=t.value,u=kR(o.groupBy);u in a||(a[u]=[]),a[u].push(o)}}catch(v){i.e(v)}finally{i.f()}var s,c=Object(Fn.a)(MR(a));try{for(c.s();!(s=c.n()).done;){var l=a[s.value];if(l.length>1){var f,d=l.pop(),h=Object(Fn.a)(l);try{for(h.s();!(f=h.n()).done;){var p=f.value;d.merge(p)&&(n.removeChild(p),p.parent=d,p.remove(),this.setMutated())}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){c.e(v)}finally{c.f()}return this.setContinue(),this.flags}}]),n}(j$),K$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e){var r;return Object(Zg.a)(this,n),(r=t.call(this)).model=e,r}return Object(Jg.a)(n,[{key:"run",value:function(e){var t,n=e.parent,r=!(O$(n)||n instanceof JY||n instanceof I$||n instanceof M$),a=[],i=[],o=Object(Fn.a)(n.children);try{for(o.s();!(t=o.n()).done;){var u=t.value;u instanceof g$&&(r&&!DR(n.producedFields(),u.dependentFields())?a.push(u):i.push(u))}}catch(m){o.e(m)}finally{o.f()}if(a.length>0){var s,c=a.pop(),l=Object(Fn.a)(a);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.merge(f,this.model.renameSignal.bind(this.model))}}catch(m){l.e(m)}finally{l.f()}this.setMutated(),n instanceof g$?n.merge(c,this.model.renameSignal.bind(this.model)):c.swapWithParent()}if(i.length>1){var d,h=i.pop(),p=Object(Fn.a)(i);try{for(p.s();!(d=p.n()).done;){var v=d.value;h.merge(v,this.model.renameSignal.bind(this.model))}}catch(m){p.e(m)}finally{p.f()}this.setMutated()}return this.setContinue(),this.flags}}]),n}(j$),$$=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){return Object(Zg.a)(this,n),t.apply(this,arguments)}return Object(Jg.a)(n,[{key:"run",value:function(e){var t=e.parent,n=Object(yi.a)(t.children),r=SR(n,(function(e){return e instanceof Lq}));if(!r||t.numChildren()<=1)return this.setContinue(),this.flags;var a,i,o=[],u=Object(Fn.a)(n);try{for(u.s();!(i=u.n()).done;){var s=i.value;if(s instanceof Lq){for(var c=s;1===c.numChildren();){var l=c.children[0];if(!(l instanceof Lq))break;c=l}o.push.apply(o,Object(yi.a)(c.children)),a?(t.removeChild(s),s.parent=a.parent,a.parent.removeChild(a),a.parent=c,this.setMutated()):a=c}else o.push(s)}}catch(p){u.e(p)}finally{u.f()}if(o.length){this.setMutated();var f,d=Object(Fn.a)(o);try{for(d.s();!(f=d.n()).done;){var h=f.value;h.parent.removeChild(h),h.parent=a}}catch(p){d.e(p)}finally{d.f()}}return this.setContinue(),this.flags}}]),n}(j$),Z$="scale_";function J$(e){var t=[];function n(e){if(0===e.numChildren())t.push(e);else{var r,a=Object(Fn.a)(e.children);try{for(a.s();!(r=a.n()).done;){n(r.value)}}catch(i){a.e(i)}finally{a.f()}}}var r,a=Object(Fn.a)(e);try{for(a.s();!(r=a.n()).done;){n(r.value)}}catch(i){a.e(i)}finally{a.f()}return t}function Q$(e){return e}function eZ(e,t){return t.map((function(t){if(e instanceof j$){var n=e.optimizeNextFromLeaves(t);return e.reset(),n}return e.run(t)})).some(Q$)}function tZ(e,t){var n=e.sources,r=new Set;return r.add(eZ(new G$,n)),r.add(eZ(new q$(t),n)),n=n.filter((function(e){return e.numChildren()>0})),r.add(eZ(new L$,J$(n))),n=n.filter((function(e){return e.numChildren()>0})),r.add(eZ(new z$,J$(n))),r.add(eZ(new K$(t),J$(n))),r.add(eZ(new U$,J$(n))),r.add(eZ(new X$,J$(n))),r.add(eZ(new Y$,J$(n))),r.add(eZ(new W$,J$(n))),r.add(eZ(new B$,n)),r.add(eZ(new $$,J$(n))),e.sources=n,r.has(!0)}function nZ(e,t){y$(e.sources);for(var n=0,r=0,a=0;a<5&&tZ(e,t);a++)n++;e.sources.map(V$);for(var i=0;i<5&&tZ(e,t);i++)r++;y$(e.sources),5===Math.max(n,r)&&FL("Maximum optimization runs(".concat(5,") reached."))}var rZ=function(){function e(t){Object(Zg.a)(this,e),Object.defineProperty(this,"signal",{enumerable:!0,get:t})}return Object(Jg.a)(e,null,[{key:"fromName",value:function(t,n){return new e((function(){return t(n)}))}}]),e}();function aZ(e){IZ(e)?function(e){var t,n=e.component.scales,r=Object(Fn.a)(MR(n));try{for(r.s();!(t=r.n()).done;){var a=t.value,i=iZ(e,a);if(n[a].setWithExplicit("domains",i),cZ(e,a),e.component.data.isFaceted){for(var o=e;!MZ(o)&&o.parent;)o=o.parent;if("shared"===o.component.resolve.scale[a]){var u,s=Object(Fn.a)(i.value);try{for(s.s();!(u=s.n()).done;){var c=u.value;rU(c)&&(c.data=Z$+c.data.replace(Z$,""))}}catch(l){s.e(l)}finally{s.f()}}}}}catch(l){r.e(l)}finally{r.f()}}(e):function(e){var t,n=Object(Fn.a)(e.children);try{for(n.s();!(t=n.n()).done;){aZ(t.value)}}catch(h){n.e(h)}finally{n.f()}var r,a=e.component.scales,i=Object(Fn.a)(MR(a));try{for(i.s();!(r=i.n()).done;){var o,u=r.value,s=void 0,c=null,l=Object(Fn.a)(e.children);try{for(l.s();!(o=l.n()).done;){var f=o.value.component.scales[u];if(f){s=void 0===s?f.getWithExplicit("domains"):RG(s,f.getWithExplicit("domains"),"domains","scale",fZ);var d=f.get("selectionExtent");c&&d&&c.selection!==d.selection&&FL("The same selection must be used to override scale domains in a layered view."),c=d}}}catch(h){l.e(h)}finally{l.f()}a[u].setWithExplicit("domains",s),c&&a[u].set("selectionExtent",c,!0)}}catch(h){i.e(h)}finally{i.f()}}(e)}function iZ(e,t){var n=e.getScaleComponent(t).get("type"),r=e.encoding,a=function(e,t,n,r){if("unaggregated"===e){var a=lZ(t,n),i=a.valid,o=a.reason;if(!i)return void FL(o)}else if(void 0===e&&r.useUnaggregatedDomain&&lZ(t,n).valid)return"unaggregated";return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return a!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:a})),"x"===t&&gV(r.x2)?gV(r.x)?RG(uZ(n,a,e,"x"),uZ(n,a,e,"x2"),"domain","scale",fZ):uZ(n,a,e,"x2"):"y"===t&&gV(r.y2)?gV(r.y)?RG(uZ(n,a,e,"y"),uZ(n,a,e,"y2"),"domain","scale",fZ):uZ(n,a,e,"y2"):uZ(n,a,e,t)}function oZ(e,t,n){var r,a=null===(r=QL(n))||void 0===r?void 0:r.unit;return"temporal"===t||a?function(e,t,n){return e.map((function(e){var r=jV(e,{timeUnit:n,type:t});return{signal:"{data: ".concat(r,"}")}}))}(e,t,a):[e]}function uZ(e,t,n,r){var a=gV(n.encoding[r]),i=a.type,o=a.timeUnit;if(function(e){return e&&e.unionWith}(t)){var u=uZ(e,void 0,n,r),s=oZ(t.unionWith,i,o);return DG([].concat(Object(yi.a)(u.value),Object(yi.a)(s)))}if(tU(t))return DG([t]);if(t&&"unaggregated"!==t&&!tW(t))return DG(oZ(t,i,o));var c=n.stack;if(c&&r===c.fieldChannel){if("normalize"===c.offset)return IG([[0,1]]);var l=n.requestDataName(GG);return IG([{data:l,field:n.vgField(r,{suffix:"start"})},{data:l,field:n.vgField(r,{suffix:"end"})}])}var f=eB(r)&&GW(a)?function(e,t,n){if(!ZU(n))return;var r=e.fieldDef(t),a=r.sort;if(MW(a))return{op:"min",field:xK(r,t),order:"ascending"};var i=e.stack,o=i?[].concat(Object(yi.a)(i.groupbyField?[i.groupbyField]:[]),Object(yi.a)(i.stackBy.map((function(e){return e.fieldDef.field})))):void 0;if(IW(a))return sZ(a,i&&!_R(o,a.field));if(DW(a)){var u=a.encoding,s=a.order,c=e.fieldDef(u),l=c.aggregate,f=c.field,d=i&&!_R(o,f);if(RP(l)||PP(l))return sZ({field:aV(c),order:s},d);if(zP(l)||!l)return sZ({op:l,field:f,order:s},d)}else{if("descending"===a)return{op:"min",field:e.vgField(t),order:"descending"};if(_R(["ascending",void 0],a))return!0}return}(n,r,e):void 0;if(XW(a))return IG(oZ([a.datum],i,o));var d=a;if("unaggregated"===t){var h=n.requestDataName(GG),p=a.field;return IG([{data:h,field:aV({field:p,aggregate:"min"})},{data:h,field:aV({field:p,aggregate:"max"})}])}if(oB(d.bin)){if(ZU(e))return IG("bin-ordinal"===e?[]:[{data:PR(f)?n.requestDataName(GG):n.requestDataName(qG),field:n.vgField(r,SV(d,r)?{binSuffix:"range"}:{}),sort:!0!==f&&qF(f)?f:{field:n.vgField(r,{}),op:"min"}}]);var v=d.bin;if(oB(v)){var m=v$(n,d.field,v);return IG([new rZ((function(){var e=n.getSignalName(m);return"[".concat(e,".start, ").concat(e,".stop]")}))])}return IG([{data:n.requestDataName(GG),field:n.vgField(r,{})}])}if(d.timeUnit&&_R(["time","utc"],e)&&UW(r,d,IZ(n)?n.encoding[Lz(r)]:void 0,n.stack,n.markDef,n.config)){var g=n.requestDataName(GG);return IG([{data:g,field:n.vgField(r)},{data:g,field:n.vgField(r,{suffix:"end"})}])}return IG(f?[{data:PR(f)?n.requestDataName(GG):n.requestDataName(qG),field:n.vgField(r),sort:f}]:[{data:n.requestDataName(GG),field:n.vgField(r)}])}function sZ(e,t){var n=e.op,r=e.field,a=e.order;return Object.assign(Object.assign({op:null!==n&&void 0!==n?n:t?"sum":CW},r?{field:GR(r)}:{}),a?{order:a}:{})}function cZ(e,t){var n,r=e.component.scales[t],a=e.specifiedScales[t].domain,i=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,o=tW(a)&&a,u=sB(i)&&cB(i.extent)&&i.extent;(o||u)&&r.set("selectionExtent",null!==o&&void 0!==o?o:u,!0)}function lZ(e,t){var n=e.aggregate,r=e.type;return n?rR(n)&&!WP[n]?{valid:!1,reason:b.unaggregateDomainWithNonSharedDomainOp(n)}:"quantitative"===r&&"log"===t?{valid:!1,reason:b.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:b.unaggregateDomainHasNoEffectForRawField(e)}}function fZ(e,t,n,r){return e.explicit&&t.explicit&&FL(b.mergeConflictingDomainProperty(n,r,e.value,t.value)),{explicit:e.explicit,value:[].concat(Object(yi.a)(e.value),Object(yi.a)(t.value))}}function dZ(e){if(rU(e)&&rR(e.field))return e.field;if(function(e){return!GF(e)&&"fields"in e&&!("data"in e)}(e)){var t,n,r=Object(Fn.a)(e.fields);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(rU(a)&&rR(a.field))if(t){if(t!==a.field)return FL(b.FACETED_INDEPENDENT_DIFFERENT_SOURCES),t}else t=a.field}}catch(o){r.e(o)}finally{r.f()}return FL(b.FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES),t}if(function(e){return!GF(e)&&"fields"in e&&"data"in e}(e)){FL(b.FACETED_INDEPENDENT_SAME_SOURCE);var i=e.fields[0];return rR(i)?i:void 0}}function hZ(e,t){return function(e){var t=CR(e.map((function(e){return rU(e)?(e.sort,oR(e,["sort"])):e})),kR),n=CR(e.map((function(e){if(rU(e)){var t=e.sort;return void 0===t||PR(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((function(e){return void 0!==e})),kR);if(0!==t.length){if(1===t.length){var r=e[0];if(rU(r)&&n.length>0){var a=n[0];if(n.length>1)FL(b.MORE_THAN_ONE_SORT),a=!0;else if(qF(a)&&"field"in a){var i=a.field;r.field===i&&(a=!a.order||{order:a.order})}return Object.assign(Object.assign({},r),{sort:a})}return r}var o,u=CR(n.map((function(e){return PR(e)||!("op"in e)||e.op in FP?e:(FL(b.domainSortDropped(e)),!0)})),kR);1===u.length?o=u[0]:u.length>1&&(FL(b.MORE_THAN_ONE_SORT),o=!0);var s=CR(e.map((function(e){return rU(e)?e.data:null})),(function(e){return e}));return 1===s.length&&null!==s[0]?Object.assign({data:s[0],fields:t.map((function(e){return e.field}))},o?{sort:o}:{}):Object.assign({fields:t},o?{sort:o}:{})}}(e.component.scales[t].get("domains").map((function(t){return rU(t)&&(t.data=e.lookupDataSource(t.data)),t})))}function pZ(e){return RZ(e)||FZ(e)?e.children.reduce((function(e,t){return e.concat(pZ(t))}),vZ(e)):vZ(e)}function vZ(e){return MR(e.component.scales).reduce((function(t,n){var r=e.component.scales[n];if(r.merged)return t;var a,i=r.combine(),o=i.name,u=i.type,s=i.selectionExtent,c=(i.domains,i.range,i.reverse),l=oR(i,["name","type","selectionExtent","domains","range","reverse"]),f=function(e,t,n){if(qz(n)&&nU(e))return{step:{signal:t+"_step"}};return e}(i.range,o,n);s&&(a=function(e,t){var n=t.selection;return{signal:eK(e.getSelectionComponent(n,zR(n)),t)}}(e,s));var d=hZ(e,n);return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:u},d?{domain:d}:{}),a?{domainRaw:a}:{}),{range:f}),void 0!==c?{reverse:c}:{}),l)),t}),[])}var mZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,{},{name:e})).merged=!1,a.setWithExplicit("type",r),a}return Object(Jg.a)(n,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||SR(this.get("domains"),(function(e){return GF(e)&&2===e.length&&e[0]<=0&&e[1]>=0}))}}]),n}(TG),gZ=["range","scheme"];function bZ(e){return"x"===e?"width":"y"===e?"height":void 0}function yZ(e,t){var n=e.fieldDef(t);if(n&&n.bin&&oB(n.bin)){var r=v$(e,n.field,n.bin),a=bZ(t),i=e.getName(a);return new rZ((function(){var t=e.getSignalName(r),n="(".concat(t,".stop - ").concat(t,".start) / ").concat(t,".step");return"".concat(e.getSignalName(i)," / (").concat(n,")")}))}}function xZ(e,t){var n,r=t.specifiedScales[e],a=t.size,i=t.getScaleComponent(e).get("type"),o=Object(Fn.a)(gZ);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(void 0!==r[u]){var s=iW(i,u),c=oW(e,u);if(s)if(c)FL(c);else switch(u){case"range":return GF(r.range)&&qz(e)?DG(r.range.map((function(e){if("width"===e||"height"===e){var n=t.getName(e),r=t.getSignalName.bind(t);return rZ.fromName(r,n)}return e}))):DG(r.range);case"scheme":return DG(wZ(r[u]))}else FL(b.scalePropertyNotWorkWithScaleType(i,u,e))}}}catch(d){o.e(d)}finally{o.f()}if(e===qP||e===XP){var l=e===qP?"width":"height",f=a[l];if(CH(f)){if(ZU(i))return DG({step:f.step});FL(b.stepDropped(l))}}return IG(function(e,t){var n=t.size,r=t.config,a=t.mark,i=t.encoding,o=t.getSignalName.bind(t),u=gV(i[e]).type,s=t.getScaleComponent(e).get("type"),c=t.specifiedScales[e],l=c.domain,f=c.domainMid;switch(e){case qP:case XP:if(_R(["point","band"],s))if(e!==qP||n.width){if(e===XP&&!n.height){var d=MH(r.view,"height");if(CH(d))return d}}else{var h=MH(r.view,"width");if(CH(h))return h}var p=bZ(e),v=t.getName(p);return e===XP&&JU(s)?[rZ.fromName(o,v),0]:[0,rZ.fromName(o,v)];case sz:var m=OZ(a,t.component.scales[e].get("zero"),r),g=function(e,t,n,r){var a={x:yZ(n,"x"),y:yZ(n,"y")};switch(e){case"bar":case"tick":if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;var i=jZ(t,a,r.view);return nR(i)?i-1:new rZ((function(){return"".concat(i.signal," - 1")}));case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":if(r.scale.maxSize)return r.scale.maxSize;var o=jZ(t,a,r.view);return nR(o)?Math.pow(kZ*o,2):new rZ((function(){return"pow(".concat(kZ," * ").concat(o.signal,", 2)")}))}throw new Error(b.incompatibleChannel("size",e))}(a,n,t,r);return eW(s)?function(e,t,n){var r=function(){var r=TV(t),a=TV(e),i="(".concat(r," - ").concat(a,") / (").concat(n," - 1)");return"sequence(".concat(a,", ").concat(r," + ").concat(i,", ").concat(i,")")};return tU(t)?new rZ(r):{signal:r()}}(m,g,function(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&GF(n)?n.length+1:(FL(b.domainRequiredForThresholdScale(r)),3)}}(s,r,l,e)):[m,g];case JP:return[0,2*Math.PI];case cz:return[0,360];case $P:return[0,new rZ((function(){var e=t.getSignalName("width"),n=t.getSignalName("height");return"min(".concat(e,",").concat(n,")/2")}))];case hz:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case pz:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case uz:return"symbol";case az:case iz:case oz:return"ordinal"===s?"nominal"===u?"category":"ordinal":void 0!==f?"diverging":"rect"===a||"geoshape"===a?"heatmap":"ramp";case lz:case fz:case dz:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel ".concat(e))}(e,t))}function wZ(e){return function(e){return!rR(e)&&!!e.name}(e)?Object.assign({scheme:e.name},wR(e,["name"])):{scheme:e}}function OZ(e,t,n){if(t)return tU(t)?{signal:"".concat(t.signal," ? 0 : ").concat(OZ(e,!1,n))}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(b.incompatibleChannel("size",e))}var kZ=.95;function jZ(e,t,n){var r=CH(e.width)?e.width.step:IH(n,"width"),a=CH(e.height)?e.height.step:IH(n,"height");return t.x||t.y?new rZ((function(){var e=[t.x?t.x.signal:r,t.y?t.y.signal:a];return"min(".concat(e.join(", "),")")})):Math.min(r,a)}function _Z(e,t){IZ(e)?function(e,t){var n,r=e.component.scales,a=e.config,i=e.encoding,o=e.markDef,u=e.specifiedScales,s=Object(Fn.a)(MR(r));try{for(s.s();!(n=s.n()).done;){var c=n.value,l=u[c],f=r[c],d=e.getScaleComponent(c),h=gV(i[c]),p=l[t],v=d.get("type"),m=d.get("padding"),g=d.get("paddingInner"),y=iW(v,t),x=oW(c,t);if(void 0!==p&&(y?x&&FL(x):FL(b.scalePropertyNotWorkWithScaleType(v,t,c))),y&&void 0===x)if(void 0!==p)f.copyKeyFromObject(t,l);else{var w=t in SZ?SZ[t]({model:e,channel:c,fieldOrDatumDef:h,scaleType:v,scalePadding:m,scalePaddingInner:g,domain:l.domain,markDef:o,config:a}):a.scale[t];void 0!==w&&f.set(t,w,!1)}}}catch(O){s.e(O)}finally{s.f()}}(e,t):AZ(e,t)}var SZ={bins:function(e){var t=e.model,n=e.fieldOrDatumDef;return GW(n)?function(e,t){var n=t.bin;if(oB(n)){var r=v$(e,t.field,n);return new rZ((function(){return e.getSignalName(r)}))}if(uB(n)&&sB(n)&&void 0!==n.step)return{step:n.step};return}(t,n):void 0},interpolate:function(e){return function(e,t){if(_R([az,iz,oz],e)&&"nominal"!==t)return"hcl";return}(e.channel,e.fieldOrDatumDef.type)},nice:function(e){return function(e,t,n){var r;if((null===(r=mV(n))||void 0===r?void 0:r.bin)||_R([IU,MU],e))return;return t in Hz||void 0}(e.scaleType,e.channel,e.fieldOrDatumDef)},padding:function(e){var t=e.channel,n=e.scaleType,r=e.fieldOrDatumDef,a=e.markDef,i=e.config;return function(e,t,n,r,a,i){if(e in Hz){if(QU(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var o=a.type,u=a.orient;if("bar"===o&&(!GW(r)||!r.bin&&!r.timeUnit)&&("vertical"===u&&"x"===e||"horizontal"===u&&"y"===e))return i.continuousBandSize}if(t===zU)return n.pointPadding}return}(t,n,i.scale,r,a,i.bar)},paddingInner:function(e){var t=e.scalePadding,n=e.channel,r=e.markDef,a=e.config;return function(e,t,n,r){if(void 0!==e)return;if(t in Hz){var a=r.bandPaddingInner,i=r.barBandPaddingInner,o=r.rectBandPaddingInner;return KR(a,"bar"===n?i:o)}return}(t,n,r.type,a.scale)},paddingOuter:function(e){var t=e.scalePadding,n=e.channel,r=e.scaleType,a=e.markDef,i=e.scalePaddingInner,o=e.config;return function(e,t,n,r,a,i){if(void 0!==e)return;if(t in Hz){if(n===BU)return KR(i.bandPaddingOuter,tU(a)?{signal:"".concat(a.signal,"/2")}:a/2)}return}(t,n,r,a.type,i,o.scale)},reverse:function(e){var t=e.fieldOrDatumDef,n=e.scaleType,r=e.channel,a=e.config;return function(e,t,n,r){if("x"===n&&void 0!==r.xReverse)return JU(e)&&"descending"===t?tU(r.xReverse)?{signal:"!".concat(r.xReverse.signal)}:!r.xReverse:r.xReverse;if(JU(e)&&"descending"===t)return!0;return}(n,GW(t)?t.sort:void 0,r,a.scale)},zero:function(e){return function(e,t,n,r,a){if(n&&"unaggregated"!==n&&JU(a)){if(GF(n)){var i=n[0],o=n[n.length-1];if(i<=0&&o>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!eW(a))return!0;if((!GW(t)||!t.bin)&&_R([].concat(Object(yi.a)(Gz),Object(yi.a)(Yz)),e)){var u=r.orient;return!_R(["bar","area","line","trail"],r.type)||!("horizontal"===u&&"y"===e||"vertical"===u&&"x"===e)}return!1}(e.channel,e.fieldOrDatumDef,e.domain,e.markDef,e.scaleType)}};function EZ(e){IZ(e)?function(e){var t,n=e.component.scales,r=Object(Fn.a)(Qz);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=n[a];if(i){var o=xZ(a,e);i.setWithExplicit("range",o)}}}catch(u){r.e(u)}finally{r.f()}}(e):AZ(e,"range")}function AZ(e,t){var n,r=e.component.scales,a=Object(Fn.a)(e.children);try{for(a.s();!(n=a.n()).done;){var i=n.value;"range"===t?EZ(i):_Z(i,t)}}catch(h){a.e(h)}finally{a.f()}var o,u=Object(Fn.a)(MR(r));try{for(u.s();!(o=u.n()).done;){var s,c=o.value,l=void 0,f=Object(Fn.a)(e.children);try{for(f.s();!(s=f.n()).done;){var d=s.value.component.scales[c];if(d)l=RG(l,d.getWithExplicit(t),t,"scale",MG((function(e,n){return"range"===t&&e.step&&n.step?e.step-n.step:0})))}}catch(h){f.e(h)}finally{f.f()}r[c].setWithExplicit(t,l)}}catch(h){u.e(h)}finally{u.f()}}function CZ(e,t,n,r){var a=function(e,t,n){var r;switch(t.type){case"nominal":case"ordinal":if(Az(e)||"discrete"===aB(e))return"shape"===e&&"ordinal"===t.type&&FL(b.discreteChannelCannotEncode(e,"ordinal")),"ordinal";if(e in Hz){if(_R(["rect","bar","image","rule"],n))return"band"}else if("arc"===n&&e in Xz)return"band";return void 0!==t.band||eV(t)&&(null===(r=t.axis)||void 0===r?void 0:r.tickBand)?"band":"point";case"temporal":return Az(e)?"time":"discrete"===aB(e)?(FL(b.discreteChannelCannotEncode(e,"temporal")),"ordinal"):GW(t)&&t.timeUnit&&QL(t.timeUnit).utc?"utc":"time";case"quantitative":return Az(e)?GW(t)&&oB(t.bin)?"bin-ordinal":"linear":"discrete"===aB(e)?(FL(b.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(b.invalidFieldType(t.type))}(t,n,r),i=e.type;return eB(t)?void 0!==i?sW(t,i)?GW(n)&&!uW(i,n.type)?(FL(b.scaleTypeNotWorkWithFieldDef(i,a)),a):i:(FL(b.scaleTypeNotWorkWithChannel(t,i,a)),a):a:null}function NZ(e){IZ(e)?e.component.scales=function(e){var t=e.encoding,n=e.mark;return Qz.reduce((function(r,a){var i=gV(t[a]);if(i&&n===OP&&a===uz&&i.type===SU)return r;var o=i&&i.scale;if(i&&null!==o&&!1!==o){var u=CZ(o=null!==o&&void 0!==o?o:{},a,i,n);r[a]=new mZ(e.scaleName(a+"",!0),{value:u,explicit:o.type===u})}return r}),{})}(e):e.component.scales=function(e){var t,n,r=e.component.scales={},a={},i=e.component.resolve,o=Object(Fn.a)(e.children);try{for(o.s();!(n=o.n()).done;){var u=n.value;NZ(u);var s,c=Object(Fn.a)(MR(u.component.scales));try{for(c.s();!(s=c.n()).done;){var l=s.value;if(i.scale[l]=null!==(t=i.scale[l])&&void 0!==t?t:WK(l,e),"shared"===i.scale[l]){var f=a[l],d=u.component.scales[l].getWithExplicit("type");f?WU(f.value,d.value)?a[l]=RG(f,d,"type","scale",TZ):(i.scale[l]="independent",delete a[l]):a[l]=d}}}catch(O){c.e(O)}finally{c.f()}}}catch(O){o.e(O)}finally{o.f()}var h,p=Object(Fn.a)(MR(a));try{for(p.s();!(h=p.n()).done;){var v=h.value,m=e.scaleName(v,!0),g=a[v];r[v]=new mZ(m,g);var b,y=Object(Fn.a)(e.children);try{for(y.s();!(b=y.n()).done;){var x=b.value,w=x.component.scales[v];w&&(x.renameScale(w.get("name"),m),w.merged=!0)}}catch(O){y.e(O)}finally{y.f()}}}catch(O){p.e(O)}finally{p.f()}return r}(e)}var TZ=MG((function(e,t){return HU(e)-HU(t)}));var DZ=function(){function e(){Object(Zg.a)(this,e),this.nameMap={}}return Object(Jg.a)(e,[{key:"rename",value:function(e,t){this.nameMap[e]=t}},{key:"has",value:function(e){return void 0!==this.nameMap[e]}},{key:"get",value:function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}]),e}();function IZ(e){return"unit"===(null===e||void 0===e?void 0:e.type)}function MZ(e){return"facet"===(null===e||void 0===e?void 0:e.type)}function FZ(e){return"concat"===(null===e||void 0===e?void 0:e.type)}function RZ(e){return"layer"===(null===e||void 0===e?void 0:e.type)}var PZ=function(){function e(t,n,r,a,i,o,u){var s,c,l=this;Object(Zg.a)(this,e),this.type=n,this.parent=r,this.config=i,this.view=u,this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=l.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=l.lookupDataSource(e.from.facet.data)),e},this.parent=r,this.config=i,this.name=null!==(s=t.name)&&void 0!==s?s:a,this.title=AV(t.title)?{text:t.title}:t.title,this.scaleNameMap=r?r.scaleNameMap:new DZ,this.projectionNameMap=r?r.projectionNameMap:new DZ,this.signalNameMap=r?r.signalNameMap:new DZ,this.data=t.data,this.description=t.description,this.transforms=(null!==(c=t.transform)&&void 0!==c?c:[]).map((function(e){return XG(e)?{filter:gR(e.filter,xU)}:e})),this.layout="layer"===n||"unit"===n?{}:function(e,t,n){var r,a,i=n[t],o={},u=i.spacing,s=i.columns;void 0!==u&&(o.spacing=u),void 0!==s&&(PW(e)&&!FW(e.facet)||SH(e))&&(o.columns=s),EH(e)&&(o.columns=1);var c,l=Object(Fn.a)(TH);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(void 0!==e[f])if("spacing"===f){var d=e[f];o[f]=nR(d)?d:{row:null!==(r=d.row)&&void 0!==r?r:u,column:null!==(a=d.column)&&void 0!==a?a:u}}else o[f]=e[f]}}catch(h){l.e(h)}finally{l.f()}return o}(t,n,i),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:PW(t)||r&&r.component.data.isFaceted&&void 0===t.data},layoutSize:new TG,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},o?yR(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return Object(Jg.a)(e,[{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}},{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){!function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ignoreRange;NZ(e),aZ(e);var n,r=Object(Fn.a)(aW);try{for(r.s();!(n=r.n()).done;){_Z(e,n.value)}}catch(a){r.e(a)}finally{r.f()}t||EZ(e)}(this)}},{key:"parseProjection",value:function(){d$(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){n$(this)}},{key:"assembleGroupStyle",value:function(){var e,t;if("unit"===this.type||"layer"===this.type)return null!==(t=null===(e=this.view)||void 0===e?void 0:e.style)&&void 0!==t?t:"cell"}},{key:"assembleEncodeFromView",value:function(e){e.style;var t,n=oR(e,["style"]),r={},a=Object(Fn.a)(MR(n));try{for(a.s();!(t=a.n()).done;){var i=t.value,o=n[i];void 0!==o&&(r[i]=CV(o))}}catch(u){a.e(u)}finally{a.f()}return r}},{key:"assembleGroupEncodeEntry",value:function(e){var t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),e||(this.description&&(t.description=CV(this.description)),"unit"!==this.type&&"layer"!==this.type)?IR(t)?void 0:t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==t&&void 0!==t?t:{})}},{key:"assembleLayout",value:function(){if(this.layout){var e=this.layout,t=e.spacing,n=oR(e,["spacing"]),r=this.component,a=this.config,i=function(e,t){var n,r={},a=Object(Fn.a)(Nz);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=e[i];if(null===o||void 0===o?void 0:o.facetFieldDef){var u=kK(["titleAnchor","titleOrient"],o.facetFieldDef,t,i),s=u.titleAnchor,c=wK(i,u.titleOrient),l=MK(s,c);void 0!==l&&(r[c]=l)}}}catch(f){a.e(f)}finally{a.f()}return IR(r)?void 0:r}(r.layoutHeaders,a);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),i?{titleBand:i}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var e,t=this.component.layoutHeaders,n=[],r=Object(Fn.a)(Nz);try{for(r.s();!(e=r.n()).done;){var a=e.value;t[a].title&&n.push(SK(this,a))}}catch(s){r.e(s)}finally{r.f()}var i,o=Object(Fn.a)(jK);try{for(o.s();!(i=o.n()).done;){var u=i.value;n=n.concat(CK(this,u))}}catch(s){o.e(s)}finally{o.f()}return n}},{key:"assembleAxes",value:function(){return function(e,t){var n=e.x,r=void 0===n?[]:n,a=e.y,i=void 0===a?[]:a;return[].concat(Object(yi.a)(r.map((function(e){return aK(e,"grid",t)}))),Object(yi.a)(i.map((function(e){return aK(e,"grid",t)}))),Object(yi.a)(r.map((function(e){return aK(e,"main",t)}))),Object(yi.a)(i.map((function(e){return aK(e,"main",t)})))).filter((function(e){return e}))}(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return u$(this)}},{key:"assembleProjections",value:function(){return s$(this)}},{key:"assembleTitle",value:function(){var e,t,n,r=null!==(e=this.title)&&void 0!==e?e:{},a=r.encoding,i=oR(r,["encoding"]),o=Object.assign(Object.assign(Object.assign({},EV(this.config.title).nonMark),i),a?{encode:{update:a}}:{});if(o.text)return _R(["unit","layer"],this.type)?_R(["middle",void 0],o.anchor)&&(o.frame=null!==(t=o.frame)&&void 0!==t?t:"group"):o.anchor=null!==(n=o.anchor)&&void 0!==n?n:"start",IR(o)?void 0:o}},{key:"assembleGroup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||MZ(this.parent)?pZ(this):[];r.length>0&&(t.scales=r);var a=this.assembleAxes();a.length>0&&(t.axes=a);var i=this.assembleLegends();return i.length>0&&(t.legends=i),t}},{key:"getName",value:function(e){return zR((this.name?this.name+"_":"")+e)}},{key:"requestDataName",value:function(e){var t,n=this.getName(e),r=this.component.data.outputNodeRefCounts;return r[n]=(null!==(t=r[n])&&void 0!==t?t:0)+1,n}},{key:"getSizeSignalRef",value:function(e){if(MZ(this.parent)){var t=Kz(LK(e)),n=this.component.scales[t];if(n&&!n.merged){var r=n.get("type"),a=n.get("range");if(ZU(r)&&nU(a)){var i=n.get("name"),o=dZ(hZ(this,t));return o?{signal:BK(i,n,aV({aggregate:"distinct",field:o},{expr:"datum"}))}:(FL("Unknown field for ".concat(t,". Cannot calculate view size.")),null)}}}return{signal:this.signalNameMap.get(this.getName(e))}}},{key:"lookupDataSource",value:function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e}},{key:"getSignalName",value:function(e){return this.signalNameMap.get(e)}},{key:"renameSignal",value:function(e,t){this.signalNameMap.rename(e,t)}},{key:"renameScale",value:function(e,t){this.scaleNameMap.rename(e,t)}},{key:"renameProjection",value:function(e,t){this.projectionNameMap.rename(e,t)}},{key:"scaleName",value:function(e,t){return t?this.getName(e):Fz(e)&&eB(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}},{key:"projectionName",value:function(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}},{key:"getSelectionComponent",value:function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(b.selectionNotFound(t));return n}},{key:"hasAxisOrientSignalRef",value:function(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some((function(e){return e.hasOrientSignalRef()})))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some((function(e){return e.hasOrientSignalRef()})))}}]),e}(),zZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){return Object(Zg.a)(this,n),t.apply(this,arguments)}return Object(Jg.a)(n,[{key:"vgField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(e);if(n)return aV(n,t)}},{key:"reduceFieldDef",value:function(e,t){return XV(this.getMapping(),(function(t,n,r){var a=mV(n);return a?e(t,a,r):t}),t)}},{key:"forEachFieldDef",value:function(e,t){qV(this.getMapping(),(function(t,n){var r=mV(t);r&&e(r,n)}),t)}}]),n}(PZ),BZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a,i,o,u;Object(Zg.a)(this,n),(a=t.call(this,e)).transform=r,a.transform=yR(r);var s=null!==(i=a.transform.as)&&void 0!==i?i:[void 0,void 0];return a.transform.as=[null!==(o=s[0])&&void 0!==o?o:"value",null!==(u=s[1])&&void 0!==u?u:"density"],a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.density].concat(Object(yi.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(kR(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.density,n=oR(e,["density"]);return Object.assign({type:"kde",field:t},n)}}]),n}(Bq),LZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e)).filter=r,a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,Object.assign({},this.filter))}},{key:"dependentFields",value:function(){return new Set(MR(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(kR(this.filter))}},{key:"assemble",value:function(){var e=this,t=MR(this.filter).reduce((function(t,n){var r=e.filter[n],a=aV(r,{expr:"datum"});return null!==r&&("temporal"===r.type?t.push("(isDate(".concat(a,") || (isValid(").concat(a,") && isFinite(+").concat(a,")))")):"quantitative"===r.type&&(t.push("isValid(".concat(a,")")),t.push("isFinite(+".concat(a,")")))),t}),[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}],[{key:"make",value:function(e,t){var r=t.config,a=t.mark;if("filter"!==IV("invalid",t.markDef,r))return null;var i=t.reduceFieldDef((function(e,n,r){var i=eB(r)&&t.getScaleComponent(r);i&&(JU(i.get("type"))&&"count"!==n.aggregate&&!kP(a)&&(e[n.field]=n));return e}),{});return MR(i).length?new n(e,i):null}}]),n}(Bq),UZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;Object(Zg.a)(this,n),(a=t.call(this,e)).transform=r,a.transform=yR(r);var i=a.transform,o=i.flatten,u=i.as,s=void 0===u?[]:u;return a.transform.as=o.map((function(e,t){var n;return null!==(n=s[t])&&void 0!==n?n:e})),a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(this.parent,yR(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(kR(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"flatten",fields:e.flatten,as:e.as}}}]),n}(Bq),WZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a,i,o,u;Object(Zg.a)(this,n),(a=t.call(this,e)).transform=r,a.transform=yR(r);var s=null!==(i=a.transform.as)&&void 0!==i?i:[void 0,void 0];return a.transform.as=[null!==(o=s[0])&&void 0!==o?o:"key",null!==(u=s[1])&&void 0!==u?u:"value"],a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(kR(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"fold",fields:e.fold,as:e.as}}}]),n}(Bq),VZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r,a,i){var o;return Object(Zg.a)(this,n),(o=t.call(this,e)).fields=r,o.geojson=a,o.signal=i,o}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){var e,t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(rR);return new Set([].concat(Object(yi.a)(this.geojson?[this.geojson]:[]),Object(yi.a)(t)))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(kR(this.fields))}},{key:"assemble",value:function(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}],[{key:"parseAll",value:function(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;for(var r=0,a=0,i=[[tz,ez],[rz,nz]];a<i.length;a++){var o=i[a].map((function(e){var n=gV(t.encoding[e]);return GW(n)?n.field:XW(n)?{expr:"".concat(n.datum)}:JW(n)?{expr:"".concat(n.value)}:void 0}));(o[0]||o[1])&&(e=new n(e,o,null,t.getName("geojson_".concat(r++))))}if(t.channelHasField(uz)){var u=t.typedFieldDef(uz);u.type===SU&&(e=new n(e,null,u.field,t.getName("geojson_".concat(r++))))}return e}}]),n}(Bq),HZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r,a,i){var o;return Object(Zg.a)(this,n),(o=t.call(this,e)).projection=r,o.fields=a,o.as=i,o}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,this.projection,yR(this.fields),yR(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(rR))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(kR(this.fields)," ").concat(kR(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(e,t){if(!t.projectionName())return e;for(var r=0,a=[[tz,ez],[rz,nz]];r<a.length;r++){var i=a[r],o=i.map((function(e){var n=gV(t.encoding[e]);return GW(n)?n.field:XW(n)?{expr:"".concat(n.datum)}:JW(n)?{expr:"".concat(n.value)}:void 0})),u=i[0]===rz?"2":"";(o[0]||o[1])&&(e=new n(e,t.projectionName(),o,[t.getName("x"+u),t.getName("y"+u)]))}return e}}]),n}(Bq),GZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e)).transform=r,a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.impute,this.transform.key].concat(Object(yi.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(e){var t=e.start,n=void 0===t?0:t,r=e.stop,a=e.step,i=[n,r].concat(Object(yi.a)(a?[a]:[])).join(",");return{signal:"sequence(".concat(i,")")}}},{key:"hash",value:function(){return"Impute ".concat(kR(this.transform))}},{key:"assemble",value:function(){var e,t=this.transform,n=t.impute,r=t.key,a=t.keyvals,i=t.method,o=t.groupby,u=t.value,s=t.frame,c=void 0===s?[null,null]:s,l=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:n,key:r},a?{keyvals:(e=a,void 0!==(null===e||void 0===e?void 0:e.stop)?this.processSequence(a):a)}:{}),{method:"value"}),o?{groupby:o}:{}),{value:i&&"value"!==i?null:u});return i&&"value"!==i?[l,Object.assign({type:"window",as:["imputed_".concat(n,"_value")],ops:[i],fields:[n],frame:c,ignorePeers:!1},o?{groupby:o}:{}),{type:"formula",expr:"datum.".concat(n," === null ? datum.imputed_").concat(n,"_value : datum.").concat(n),as:n}]:[l]}}],[{key:"makeFromTransform",value:function(e,t){return new n(e,t)}},{key:"makeFromEncoding",value:function(e,t){var r=t.encoding,a=r.x,i=r.y;if(GW(a)&&GW(i)){var o=a.impute?a:i.impute?i:void 0;if(void 0===o)return;var u=a.impute?i:i.impute?a:void 0,s=o.impute,c=s.method,l=s.value,f=s.frame,d=s.keyvals,h=YV(t.mark,r);return new n(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:u.field},c?{method:c}:{}),void 0!==l?{value:l}:{}),f?{frame:f}:{}),void 0!==d?{keyvals:d}:{}),h.length?{groupby:h}:{}))}return null}}]),n}(Bq),qZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a,i,o,u;Object(Zg.a)(this,n),(a=t.call(this,e)).transform=r,a.transform=yR(r);var s=null!==(i=a.transform.as)&&void 0!==i?i:[void 0,void 0];return a.transform.as=[null!==(o=s[0])&&void 0!==o?o:r.on,null!==(u=s[1])&&void 0!==u?u:r.loess],a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.loess,this.transform.on].concat(Object(yi.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(kR(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.loess,n=e.on,r=oR(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},r)}}]),n}(Bq),XZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r,a){var i;return Object(Zg.a)(this,n),(i=t.call(this,e)).transform=r,i.secondary=a,i}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?ZF(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(kR({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:ZF(this.transform.as)}:{});else{var t=this.transform.as;rR(t)||(FL(b.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(e,t,r,a){var i=t.component.data.sources,o=r.from,u=null;if(function(e){return"data"in e}(o)){var s=cJ(o.data,i);s||(s=new b$(o.data),i.push(s));var c=t.getName("lookup_".concat(a));u=new Lq(s,c,"lookup",t.component.data.outputNodeRefCounts),t.component.data.outputNodes[c]=u}else if(function(e){return"selection"in e}(o)){var l=o.selection;if(r=Object.assign({as:l},r),!(u=t.getSelectionComponent(zR(l),l).materialized))throw new Error(b.noSameUnitLookup(l))}return new n(e,r,u.getSource())}}]),n}(Bq),YZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a,i,o,u;Object(Zg.a)(this,n),(a=t.call(this,e)).transform=r,a.transform=yR(r);var s=null!==(i=a.transform.as)&&void 0!==i?i:[void 0,void 0];return a.transform.as=[null!==(o=s[0])&&void 0!==o?o:"prob",null!==(u=s[1])&&void 0!==u?u:"value"],a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.quantile].concat(Object(yi.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"QuantileTransform ".concat(kR(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.quantile,n=oR(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}]),n}(Bq),KZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a,i,o,u;Object(Zg.a)(this,n),(a=t.call(this,e)).transform=r,a.transform=yR(r);var s=null!==(i=a.transform.as)&&void 0!==i?i:[void 0,void 0];return a.transform.as=[null!==(o=s[0])&&void 0!==o?o:r.on,null!==(u=s[1])&&void 0!==u?u:r.regression],a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.regression,this.transform.on].concat(Object(yi.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(kR(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.regression,n=e.on,r=oR(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},r)}}]),n}(Bq),$Z=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e)).transform=r,a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.transform))}},{key:"addDimensions",value:function(e){var t;this.transform.groupby=CR((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),(function(e){return e}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.pivot,this.transform.value].concat(Object(yi.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(kR(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.pivot,n=e.value,r=e.groupby,a=e.limit,i=e.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},void 0!==a?{limit:a}:{}),void 0!==i?{op:i}:{}),void 0!==r?{groupby:r}:{})}}]),n}(Bq),ZZ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r){var a;return Object(Zg.a)(this,n),(a=t.call(this,e)).transform=r,a}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(null,yR(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(kR(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),n}(Bq);function JZ(e){var t=0;return function n(r,a){var i,o,u;if(r instanceof b$&&(r.isGenerator||zG(r.data)||(e.push(a),a={name:null,source:a.name,transform:[]})),r instanceof I$&&(r.parent instanceof b$&&!a.source?(a.format=Object.assign(Object.assign({},null!==(i=a.format)&&void 0!==i?i:{}),{parse:r.assembleFormatParse()}),(o=a.transform).push.apply(o,Object(yi.a)(r.assembleTransforms(!0)))):(u=a.transform).push.apply(u,Object(yi.a)(r.assembleTransforms()))),r instanceof A$){a.name||(a.name="data_".concat(t++)),!a.source||a.transform.length>0?(e.push(a),r.data=a.name):r.data=a.source;var s,c=Object(Fn.a)(r.assemble());try{for(c.s();!(s=c.n()).done;){var l=s.value;e.push(l)}}catch(v){c.e(v)}finally{c.f()}}else{var f;if((r instanceof x$||r instanceof w$||r instanceof LZ||r instanceof JY||r instanceof yK||r instanceof HZ||r instanceof VZ||r instanceof E$||r instanceof XZ||r instanceof P$||r instanceof F$||r instanceof WZ||r instanceof UZ||r instanceof BZ||r instanceof qZ||r instanceof YZ||r instanceof KZ||r instanceof M$||r instanceof ZZ||r instanceof $Z)&&a.transform.push(r.assemble()),r instanceof g$||r instanceof Uq||r instanceof GZ||r instanceof R$)(f=a.transform).push.apply(f,Object(yi.a)(r.assemble()));if(r instanceof Lq)if(a.source&&0===a.transform.length)r.setSource(a.source);else if(r.parent instanceof Lq)r.setSource(a.name);else{if(a.name||(a.name="data_".concat(t++)),r.setSource(a.name),1===r.numChildren())e.push(a),a={name:null,source:a.name,transform:[]}}switch(r.numChildren()){case 0:r instanceof Lq&&(!a.source||a.transform.length>0)&&e.push(a);break;case 1:n(r.children[0],a);break;default:a.name||(a.name="data_".concat(t++));var d=a.name;!a.source||a.transform.length>0?e.push(a):d=a.source;var h,p=Object(Fn.a)(r.children);try{for(p.s();!(h=p.n()).done;){n(h.value,{name:null,source:d,transform:[]})}}catch(v){p.e(v)}finally{p.f()}}}}}function QZ(e,t){var n,r,a,i=[],o=JZ(i),u=0,s=Object(Fn.a)(e.sources);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.hasName()||(c.dataName="source_".concat(u++));var l=c.assemble();o(c,l)}}catch(C){s.e(C)}finally{s.f()}for(var f=0,d=i;f<d.length;f++){var h=d[f];0===h.transform.length&&delete h.transform}var p,v=0,m=Object(Fn.a)(i.entries());try{for(m.s();!(p=m.n()).done;){var g=Object(Rn.a)(p.value,2),b=g[0],y=g[1];0!==(null!==(n=y.transform)&&void 0!==n?n:[]).length||y.source||i.splice(v++,0,i.splice(b,1)[0])}}catch(C){m.e(C)}finally{m.f()}for(var x=0,w=i;x<w.length;x++){var O,k=w[x],j=Object(Fn.a)(null!==(r=k.transform)&&void 0!==r?r:[]);try{for(j.s();!(O=j.n()).done;){var _=O.value;"lookup"===_.type&&(_.from=e.outputNodes[_.from].getSource())}}catch(C){j.e(C)}finally{j.f()}}for(var S=0,E=i;S<E.length;S++){var A=E[S];A.name in t&&(A.values=t[A.name])}return i}function eJ(e,t){var n,r=e.facet,a=e.config,i=e.child,o=e.component;if(e.channelHasField(t)){var u=r[t],s=OK("title",null,a,t),c=dV(u,a,{allowDisabling:!0,includeDefault:void 0===s||!!s});i.component.layoutHeaders[t].title&&(c=GF(c)?c.join(", "):c,c+=" / "+i.component.layoutHeaders[t].title,i.component.layoutHeaders[t].title=null);var l=OK("labelOrient",u,a,t),f=KR((null!==(n=u.header)&&void 0!==n?n:{}).labels,a.header.labels,!0),d=_R(["bottom","right"],l)?"footer":"header";o.layoutHeaders[t]=Object(xi.a)({title:c,facetFieldDef:u},d,"facet"===t?[]:[tJ(e,t,f)])}}function tJ(e,t,n){var r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function nJ(e,t){var n,r,a=e.child;if(a.component.axes[t]){var i=e.component,o=i.layoutHeaders,u=i.resolve;if(u.axis[t]=VK(u,t),"shared"===u.axis[t]){var s,c="x"===t?"column":"row",l=o[c],f=Object(Fn.a)(a.component.axes[t]);try{for(f.s();!(s=f.n()).done;){var d=s.value,h="top"===(r=d.get("orient"))||"left"===r||tU(r)?"header":"footer";l[h]=null!==(n=l[h])&&void 0!==n?n:[tJ(e,c,!1)];var p=aK(d,"main",e.config,{header:!0});p&&l[h][0].axes.push(p),d.mainExtracted=!0}}catch(v){f.e(v)}finally{f.f()}}}}function rJ(e){aJ(e);var t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";iJ(e,t),iJ(e,n)}function aJ(e){var t,n=Object(Fn.a)(e.children);try{for(n.s();!(t=n.n()).done;){t.value.parseLayoutSize()}}catch(r){n.e(r)}finally{n.f()}}function iJ(e,t){var n,r,a=LK(t),i=Kz(a),o=e.component.resolve,u=e.component.layoutSize,s=Object(Fn.a)(e.children);try{for(s.s();!(r=s.n()).done;){var c=r.value.component.layoutSize.getWithExplicit(a),l=o.scale[i];if("independent"===l&&"step"===c.value){n=void 0;break}if(n){if("independent"===l&&n.value!==c.value){n=void 0;break}n=RG(n,c,a,"")}else n=c}}catch(p){s.e(p)}finally{s.f()}if(n){var f,d=Object(Fn.a)(e.children);try{for(d.s();!(f=d.n()).done;){var h=f.value;e.renameSignal(h.getName(a),e.getName(t)),h.component.layoutSize.set(a,"merged",!1)}}catch(p){d.e(p)}finally{d.f()}u.setWithExplicit(t,n)}else u.setWithExplicit(t,{explicit:!1,value:void 0})}function oJ(e,t){var n="width"===t?"x":"y",r=e.config,a=e.getScaleComponent(n);if(a){var i=a.get("type"),o=a.get("range");if(ZU(i)){var u=MH(r.view,t);return nU(o)||CH(u)?"step":u}return DH(r.view,t)}if(e.hasProjection||"arc"===e.mark)return DH(r.view,t);var s=MH(r.view,t);return CH(s)?s.step:s}function uJ(e,t,n){return aV(t,Object.assign({suffix:"by_".concat(aV(e))},null!==n&&void 0!==n?n:{}))}var sJ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r,a,i){var o;return Object(Zg.a)(this,n),(o=t.call(this,e,"facet",r,a,i,e.resolve)).child=PJ(e.spec,Object(NG.a)(o),o.getName("child"),void 0,i),o.children=[o.child],o.facet=o.initFacet(e.facet,i),o}return Object(Jg.a)(n,[{key:"initFacet",value:function(e,t){return FW(e)?XV(e,(function(e,n,r){return _R([VP,HP],r)?void 0===n.field?(FL(b.emptyFieldDef(n,r)),e):(e[r]=bV(n,r,t),e):(FL(b.incompatibleChannel(r,"facet")),e)}),{}):{facet:bV(e,"facet",t)}}},{key:"channelHasField",value:function(e){return!!this.facet[e]}},{key:"fieldDef",value:function(e){return this.facet[e]}},{key:"parseData",value:function(){this.component.data=fJ(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){aJ(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),function(e){var t,n=Object(Fn.a)(Nz);try{for(n.s();!(t=n.n()).done;)eJ(e,t.value)}catch(r){n.e(r)}finally{n.f()}nJ(e,"x"),nJ(e,"y")}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.child.assembleSelectionTopLevelSignals(e)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(e){return this.child.assembleSelectionData(e)}},{key:"getHeaderLayoutMixins",value:function(){var e,t,n,r,a={},i=Object(Fn.a)(Nz);try{for(i.s();!(r=i.n()).done;){var o,u=r.value,s=Object(Fn.a)(_K);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=this.component.layoutHeaders[u],f=l[c],d=l.facetFieldDef;if(d){var h=OK("titleOrient",d,this.config,u);if(_R(["right","bottom"],h)){var p=wK(u,h);a.titleAnchor=null!==(e=a.titleAnchor)&&void 0!==e?e:{},a.titleAnchor[p]="end"}}if(null===f||void 0===f?void 0:f[0]){var v="row"===u?"height":"width",m="header"===c?"headerBand":"footerBand";"facet"===u||this.child.component.layoutSize.get(v)||(a[m]=null!==(t=a[m])&&void 0!==t?t:{},a[m][u]=.5),l.title&&(a.offset=null!==(n=a.offset)&&void 0!==n?n:{},a.offset["row"===u?"rowTitle":"columnTitle"]=10)}}}catch(g){s.e(g)}finally{s.f()}}}catch(g){i.e(g)}finally{i.f()}return a}},{key:"assembleDefaultLayout",value:function(){var e=this.facet,t=e.column,n=e.row,r=t?this.columnDistinctSignal():n?1:void 0,a="all";return(n||"independent"!==this.component.resolve.scale.x)&&(t||"independent"!==this.component.resolve.scale.y)||(a="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:a})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof n)){var e=this.getName("column_domain");return{signal:"length(data('".concat(e,"'))")}}}},{key:"assembleGroup",value:function(e){return this.parent&&this.parent instanceof n?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:aV(this.facet.column,{prefix:"distinct"})}}}}:{}),Object($H.a)(Object(ZH.a)(n.prototype),"assembleGroup",this).call(this,e)):Object($H.a)(Object(ZH.a)(n.prototype),"assembleGroup",this).call(this,e)}},{key:"getCardinalityAggregateForChild",value:function(){var e=[],t=[],r=[];if(this.child instanceof n){if(this.child.channelHasField("column")){var a=aV(this.child.facet.column);e.push(a),t.push("distinct"),r.push("distinct_".concat(a))}}else{var i,o=Object(Fn.a)(Gz);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=this.child.component.scales[u];if(s&&!s.merged){var c=s.get("type"),l=s.get("range");if(ZU(c)&&nU(l)){var f=dZ(hZ(this.child,u));f?(e.push(f),t.push("distinct"),r.push("distinct_".concat(f))):FL("Unknown field for ".concat(u,". Cannot calculate view size."))}}}}catch(d){o.e(d)}finally{o.f()}}return{fields:e,ops:t,as:r}}},{key:"assembleFacet",value:function(){var e,t=this.component.data.facetRoot,n=t.name,r=t.data,a=this.facet,i=a.row,o=a.column,u=this.getCardinalityAggregateForChild(),s=u.fields,c=u.ops,l=u.as,f=[],d=Object(Fn.a)(Nz);try{for(d.s();!(e=d.n()).done;){var h=e.value,p=this.facet[h];if(p){f.push(aV(p));var v=p.bin,m=p.sort;if(oB(v)&&f.push(aV(p,{binSuffix:"end"})),IW(m)){var g=m.field,b=m.op,y=void 0===b?CW:b,x=uJ(p,m);i&&o?(s.push(x),c.push("max"),l.push(x)):(s.push(g),c.push(y),l.push(x))}else if(GF(m)){var w=xK(p,h);s.push(w),c.push("max"),l.push(w)}}}}catch(k){d.e(k)}finally{d.f()}var O=!!i&&!!o;return Object.assign({name:n,data:r,groupby:f},O||s.length>0?{aggregate:Object.assign(Object.assign({},O?{cross:O}:{}),s.length?{fields:s,ops:c,as:l}:{})}:{})}},{key:"facetSortFields",value:function(e){var t=this.facet[e];return t?IW(t.sort)?[uJ(t,t.sort,{expr:"datum"})]:GF(t.sort)?[xK(t,e,{expr:"datum"})]:[aV(t,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(e){var t=this.facet[e];if(t){var n=t.sort;return[(IW(n)?n.order:!GF(n)&&n)||"ascending"]}return[]}},{key:"assembleLabelTitle",value:function(){var e=this.facet,t=this.config;if(e.facet)return TK(e.facet,"facet",t);var n,r={row:["top","bottom"],column:["left","right"]},a=Object(Fn.a)(jK);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(e[i]){var o=OK("labelOrient",e[i],t,i);if(_R(r[i],o))return TK(e[i],i,t)}}}catch(u){a.e(u)}finally{a.f()}}},{key:"assembleMarks",value:function(){var e=this,t=this.child,n=function(e){var t,n=[],r=JZ(n),a=Object(Fn.a)(e.children);try{for(a.s();!(t=a.n()).done;)r(t.value,{source:e.name,name:null,transform:[]})}catch(i){a.e(i)}finally{a.f()}return n}(this.component.data.facetRoot),r=t.assembleGroupEncodeEntry(!1),a=this.assembleLabelTitle()||t.assembleTitle(),i=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},a?{title:a}:{}),i?{style:i}:{}),{from:{facet:this.assembleFacet()},sort:{field:Nz.map((function(t){return e.facetSortFields(t)})).flat(),order:Nz.map((function(t){return e.facetSortOrder(t)})).flat()}}),n.length>0?{data:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup(function(e,t){if(e.component.selection&&MR(e.component.selection).length){var n=aR(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:AF("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return lX(t)}(this,[])))]}},{key:"getMapping",value:function(){return this.facet}}]),n}(zZ);function cJ(e,t){var n,r,a,i,o,u,s,c,l,f,d,h=Object(Fn.a)(t);try{for(h.s();!(d=h.n()).done;){var p=d.value,v=p.data;if((!e.name||!p.hasName()||e.name===p.dataName)&&((!(null===(n=e.format)||void 0===n?void 0:n.mesh)||!(null===(r=v.format)||void 0===r?void 0:r.feature))&&(!(null===(a=e.format)||void 0===a?void 0:a.feature)&&!(null===(i=v.format)||void 0===i?void 0:i.feature)||(null===(o=e.format)||void 0===o?void 0:o.feature)===(null===(u=v.format)||void 0===u?void 0:u.feature))&&(!(null===(s=e.format)||void 0===s?void 0:s.mesh)&&!(null===(c=v.format)||void 0===c?void 0:c.mesh)||(null===(l=e.format)||void 0===l?void 0:l.mesh)===(null===(f=v.format)||void 0===f?void 0:f.mesh))))if(BG(e)&&BG(v)){if(bR(e.values,v.values))return p}else if(zG(e)&&zG(v)){if(e.url===v.url)return p}else if(LG(e)&&e.name===p.dataName)return p}}catch(m){h.e(m)}finally{h.f()}return null}function lJ(e,t){if(e.data||!e.parent){if(null===e.data){var n=new b$({values:[]});return t.push(n),n}var r=cJ(e.data,t);if(r)return UG(e.data)||(r.data.format=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];AR(e,null!==o&&void 0!==o?o:{})}return e}({},e.data.format,r.data.format)),!r.hasName()&&e.data.name&&(r.dataName=e.data.name),r;var a=new b$(e.data);return t.push(a),a}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function fJ(e){var t,n,r,a,i,o,u,s,c,l,f=lJ(e,e.component.data.sources),d=e.component.data,h=d.outputNodes,p=d.outputNodeRefCounts,v=e.parent?e.parent.component.data.ancestorParse.clone():new PG,m=e.data;UG(m)?(WG(m)?f=new w$(f,m.sequence):HG(m)&&(f=new x$(f,m.graticule)),v.parseNothing=!0):null===(null===(t=null===m||void 0===m?void 0:m.format)||void 0===t?void 0:t.parse)&&(v.parseNothing=!0),f=null!==(n=I$.makeExplicit(f,e,v))&&void 0!==n?n:f,f=new M$(f);var g=e.parent&&RZ(e.parent);(IZ(e)||MZ(e))&&g&&(f=null!==(r=g$.makeFromEncoding(f,e))&&void 0!==r?r:f),e.transforms.length>0&&(f=function(e,t,n){var r,a,i,o=0,u=Object(Fn.a)(t.transforms);try{for(u.s();!(i=u.n()).done;){var s=i.value,c=void 0,l=void 0;if(aq(s))l=e=new yK(e,s),c="derived";else if(XG(s)){var f=T$(s);l=e=null!==(r=I$.makeWithAncestors(e,{},f,n))&&void 0!==r?r:e,e=new JY(e,t,s.filter)}else if(iq(s))l=e=g$.makeFromTransform(e,s,t),c="number";else if(uq(s))c="date",void 0===n.getWithExplicit(s.field).value&&(e=new I$(e,Object(xi.a)({},s.field,c)),n.set(s.field,c,!1)),l=e=Uq.makeFromTransform(e,s);else if(sq(s))l=e=E$.makeFromTransform(e,s),c="number",SX(t)&&(e=new M$(e));else if(YG(s))l=e=XZ.make(e,t,s,o++),c="derived";else if(tq(s))l=e=new P$(e,s),c="number";else if(nq(s))l=e=new F$(e,s),c="number";else if(cq(s))l=e=R$.makeFromTransform(e,s),c="derived";else if(lq(s))l=e=new WZ(e,s),c="derived";else if(rq(s))l=e=new UZ(e,s),c="derived";else if(KG(s))l=e=new $Z(e,s),c="derived";else if(eq(s))e=new ZZ(e,s);else if(oq(s))l=e=GZ.makeFromTransform(e,s),c="derived";else if($G(s))l=e=new BZ(e,s),c="derived";else if(ZG(s))l=e=new YZ(e,s),c="derived";else if(JG(s))l=e=new KZ(e,s),c="derived";else{if(!QG(s)){FL(b.invalidTransformIgnored(s));continue}l=e=new qZ(e,s),c="derived"}if(l&&void 0!==c){var d,h=Object(Fn.a)(null!==(a=l.producedFields())&&void 0!==a?a:[]);try{for(h.s();!(d=h.n()).done;){var p=d.value;n.set(p,c,!1)}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){u.e(v)}finally{u.f()}return e}(f,e,v));var y=function(e){var t={};if(IZ(e)&&e.component.selection){var n,r=Object(Fn.a)(MR(e.component.selection));try{for(r.s();!(n=r.n()).done;){var a,i=n.value,o=e.component.selection[i],u=Object(Fn.a)(o.project.items);try{for(u.s();!(a=u.n()).done;){var s=a.value;!s.channel&&YR(s.field)>1&&(t[s.field]="flatten")}}catch(c){u.e(c)}finally{u.f()}}}catch(c){r.e(c)}finally{r.f()}}return t}(e),x=D$(e);f=null!==(a=I$.makeWithAncestors(f,{},Object.assign(Object.assign({},y),x),v))&&void 0!==a?a:f,IZ(e)&&(f=VZ.parseAll(f,e),f=HZ.parseAll(f,e)),(IZ(e)||MZ(e))&&(g||(f=null!==(i=g$.makeFromEncoding(f,e))&&void 0!==i?i:f),f=null!==(o=Uq.makeFromEncoding(f,e))&&void 0!==o?o:f,f=yK.parseAllForSortIndex(f,e));var w=e.getName(qG),O=new Lq(f,w,qG,p);if(h[w]=O,f=O,IZ(e)){var k=E$.makeFromEncoding(f,e);k&&(f=k,SX(e)&&(f=new M$(f))),f=null!==(u=GZ.makeFromEncoding(f,e))&&void 0!==u?u:f,f=null!==(s=R$.makeFromEncoding(f,e))&&void 0!==s?s:f}IZ(e)&&(f=null!==(c=LZ.make(f,e))&&void 0!==c?c:f);var j=e.getName(GG),_=new Lq(f,j,GG,p);h[j]=_,f=_,IZ(e)&&function(e,t){kX(e,(function(n){var r=n.name,a=e.getName("lookup_".concat(r));e.component.data.outputNodes[a]=n.materialized=new Lq(new JY(t,e,{selection:r}),a,"lookup",e.component.data.outputNodeRefCounts)}))}(e,_);var S=null;if(MZ(e)){var E=e.getName("facet");f=null!==(l=function(e,t){var n=t.row,r=t.column;if(n&&r){for(var a=null,i=0,o=[n,r];i<o.length;i++){var u=o[i];if(IW(u.sort)){var s=u.sort,c=s.field,l=s.op;e=a=new F$(e,{joinaggregate:[{op:void 0===l?CW:l,field:c,as:uJ(u,u.sort,{forAs:!0})}],groupby:[aV(u)]})}}return a}return null}(f,e.facet))&&void 0!==l?l:f,S=new A$(f,e,E,_.getSource()),h[E]=S}return Object.assign(Object.assign({},e.component.data),{outputNodes:h,outputNodeRefCounts:p,raw:O,main:_,facetRoot:S,ancestorParse:v})}var dJ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r,a,i){var o,u,s,c,l;return Object(Zg.a)(this,n),o=t.call(this,e,"concat",r,a,i,e.resolve),"shared"!==(null===(s=null===(u=e.resolve)||void 0===u?void 0:u.axis)||void 0===s?void 0:s.x)&&"shared"!==(null===(l=null===(c=e.resolve)||void 0===c?void 0:c.axis)||void 0===l?void 0:l.y)||FL(b.CONCAT_CANNOT_SHARE_AXIS),o.children=o.getChildren(e).map((function(e,t){return PJ(e,Object(NG.a)(o),o.getName("concat_"+t),void 0,i)})),o}return Object(Jg.a)(n,[{key:"parseData",value:function(){this.component.data=fJ(this);var e,t=Object(Fn.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=Object(Fn.a)(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var r,a=Object(Fn.a)(MR(n.component.selection));try{for(a.s();!(r=a.n()).done;){var i=r.value;this.component.selection[i]=n.component.selection[i]}}catch(o){a.e(o)}finally{a.f()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=Object(Fn.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){var e,t=Object(Fn.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseAxesAndHeaders()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getChildren",value:function(e){return EH(e)?e.vconcat:AH(e)?e.hconcat:e.concat}},{key:"parseLayoutSize",value:function(){rJ(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(e){return e.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){var e,t=RK(this),n=Object(Fn.a)(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,Object(yi.a)(r.assembleLayoutSignals()))}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleMarks",value:function(){return this.children.map((function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup())}))}},{key:"assembleDefaultLayout",value:function(){var e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:"full",align:"each"})}}]),n}(PZ);var hJ=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},iP),{labelExpr:1,encode:1}),pJ=MR(hJ),vJ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(Zg.a)(this,n),(e=t.call(this)).explicit=r,e.implicit=a,e.mainExtracted=i,e}return Object(Jg.a)(n,[{key:"clone",value:function(){return new n(yR(this.explicit),yR(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}},{key:"hasOrientSignalRef",value:function(){return tU(this.explicit.orient)}}]),n}(TG);var mJ={bottom:"top",top:"bottom",left:"right",right:"left"};function gJ(e,t){if(!e)return t.map((function(e){return e.clone()}));if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var a=e[r],i=t[r];if(!!a!==!!i)return;if(a&&i){var o=a.getWithExplicit("orient"),u=i.getWithExplicit("orient");if(o.explicit&&u.explicit&&o.value!==u.value)return;e[r]=bJ(a,i)}}return e}}function bJ(e,t){var n,r=Object(Fn.a)(pJ);try{var a=function(){var r=n.value,a=RG(e.getWithExplicit(r),t.getWithExplicit(r),r,"axis",(function(e,t){switch(r){case"title":return LV(e,t);case"gridScale":return{explicit:e.explicit,value:KR(e.value,t.value)}}return FG(e,t,r,"axis")}));e.setWithExplicit(r,a)};for(r.s();!(n=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}return e}function yJ(e,t,n,r,a){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(tU(n.labelAngle)?n.labelAngle:QR(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===bK(r,a))return!0}return e===n[t]}var xJ=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function wJ(e,t){var n,r,a,i=t.axis(e),o=new vJ,u=gV(t.encoding[e]),s=t.mark,c=t.config,l=(null===i||void 0===i?void 0:i.orient)||(null===(n=c["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=c.axis)||void 0===r?void 0:r.orient)||function(e){return"x"===e?"bottom":"left"}(e),f=t.getScaleComponent(e).get("type"),d=fK(e,f,l,t.config),h=void 0!==i?!i:hK("disable",c,null===i||void 0===i?void 0:i.style,d).configValue;if(o.set("disable",h,void 0!==i),h)return o;var p,v=function(e,t,n,r,a){var i=null===t||void 0===t?void 0:t.labelAngle;if(void 0!==i)return tU(i)?i:QR(i);var o=hK("labelAngle",e.config,null===t||void 0===t?void 0:t.style,a).configValue;return void 0!==o?QR(o):n===qP&&_R([_U,kU],r.type)?270:void 0}(t,i=i||{},e,u,d),m={fieldOrDatumDef:u,axis:i,channel:e,model:t,scaleType:f,orient:l,labelAngle:v,mark:s,config:c},g=Object(Fn.a)(pJ);try{for(g.s();!(p=g.n()).done;){var b=p.value,y=b in pK?pK[b](m):uP(b)?i[b]:void 0,x=void 0!==y,w=yJ(y,b,i,t,e);if(x&&w)o.set(b,y,w);else{var O=uP(b)&&"values"!==b?hK(b,t.config,i.style,d):{},k=O.configValue,j=void 0===k?void 0:k,_=O.configFrom,S=void 0===_?void 0:_,E=void 0!==j;x&&!E?o.set(b,y,w):("vgAxisConfig"!==S||xJ.has(b)&&E||nP(j)||tU(j))&&o.set(b,j,!1)}}}catch(N){g.e(N)}finally{g.f()}var A=null!==(a=i.encoding)&&void 0!==a?a:{},C=rP.reduce((function(n,r){var a;if(!o.hasAxisPart(r))return n;var i=UK(null!==(a=A[r])&&void 0!==a?a:{},t),u="labels"===r?function(e,t,n){var r,a=e.encoding,i=e.config,o=null!==(r=gV(a[t]))&&void 0!==r?r:gV(a[Lz(t)]),u=e.axis(t)||{},s=u.format,c=u.formatType;return bW(c)?Object.assign({text:OW({fieldOrDatumDef:o,field:"datum.value",format:s,formatType:c,config:i})},n):n}(t,e,i):i;return void 0===u||IR(u)||(n[r]={update:u}),n}),{});return IR(C)||o.set("encode",C,!!i.encoding||void 0!==i.labelAngle),o}function OJ(e){var t,n=e.encoding,r=e.size,a=Object(Fn.a)(Gz);try{for(a.s();!(t=a.n()).done;){var i=t.value,o=Uz(i);CH(r[o])&&YW(n[i])&&(delete r[o],FL(b.stepDropped(o)))}}catch(u){a.e(u)}finally{a.f()}return r}function kJ(e,t,n,r){var a=r.graticule,i=SP(e)?Object.assign({},e):{type:e},o=IV("orient",i,n);if(i.orient=function(e,t,n){switch(e){case pP:case xP:case wP:case gP:case vP:case dP:return}var r=t.x,a=t.y,i=t.x2,o=t.y2;switch(e){case fP:if(GW(r)&&(uB(r.bin)||GW(a)&&a.aggregate&&!r.aggregate))return"vertical";if(GW(a)&&(uB(a.bin)||GW(r)&&r.aggregate&&!a.aggregate))return"horizontal";if(o||i){if(n)return n;if(!i&&(GW(r)&&r.type===OU&&!oB(r.bin)||KW(r)))return"horizontal";if(!o&&(GW(a)&&a.type===OU&&!oB(a.bin)||KW(a)))return"vertical"}case mP:if(i&&(!GW(r)||!uB(r.bin))&&o&&(!GW(a)||!uB(a.bin)))return;case lP:if(o)return GW(a)&&uB(a.bin)?"horizontal":"vertical";if(i)return GW(r)&&uB(r.bin)?"vertical":"horizontal";if(e===mP){if(r&&!a)return"vertical";if(a&&!r)return"horizontal"}case hP:case bP:var u=YW(r),s=YW(a);if(u&&!s)return"tick"!==e?"horizontal":"vertical";if(!u&&s)return"tick"!==e?"vertical":"horizontal";if(u&&s){var c=r,l=a,f=c.type===jU,d=l.type===jU;return f&&!d?"tick"!==e?"vertical":"horizontal":!f&&d?"tick"!==e?"horizontal":"vertical":!c.aggregate&&l.aggregate?"tick"!==e?"vertical":"horizontal":c.aggregate&&!l.aggregate?"tick"!==e?"horizontal":"vertical":n||"vertical"}return n||void 0}return"vertical"}(i.type,t,o),void 0!==o&&o!==i.orient&&FL(b.orientOverridden(i.orient,o)),"bar"===i.type&&i.orient){var u=IV("cornerRadiusEnd",i,n);if(void 0!==u){var s,c="horizontal"===i.orient&&t.x2||"vertical"===i.orient&&t.y2?["cornerRadius"]:CP[i.orient],l=Object(Fn.a)(c);try{for(l.s();!(s=l.n()).done;){i[s.value]=u}}catch(f){l.e(f)}finally{l.f()}void 0!==i.cornerRadiusEnd&&delete i.cornerRadiusEnd}}return void 0===IV("opacity",i,n)&&(i.opacity=function(e,t){if(_R([pP,bP,xP,wP],e)&&!WV(t))return.7;return}(i.type,t)),void 0===i.filled&&(i.filled=!a&&function(e,t){var n=MV("filled",e,t),r=e.type;return KR(n,r!==pP&&r!==hP&&r!==mP)}(i,n)),void 0===IV("cursor",i,n)&&(i.cursor=function(e,t,n){if(t.href||e.href||IV("href",e,n))return"pointer";return e.cursor}(i,t,n)),i}function jJ(e,t){e.config;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Iq(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),wq("x",e,{defaultPos:"mid"})),wq("y",e,{defaultPos:"mid"})),bq("size",e)),bq("angle",e)),function(e,t,n){if(n)return{shape:{value:n}};return bq("shape",e)}(e,0,t))}function _J(e){var t,n=e.config,r=e.markDef,a=r.orient,i="horizontal"===a?"width":"height",o=e.getScaleComponent("horizontal"===a?"x":"y"),u=null!==(t=IV("size",r,n,{vgChannel:i}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==u)return u;var s=o?o.get("range"):void 0;return s&&nU(s)&&nR(s.step)?3*s.step/4:3*IH(n.view,i)/4}var SJ={arc:{vgMark:"arc",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Iq(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),wq("x",e,{defaultPos:"mid"})),wq("y",e,{defaultPos:"mid"})),Cq(e,"radius","arc")),Cq(e,"theta","arc"))}},area:{vgMark:"area",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},Iq(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),Sq("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),Sq("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),Fq(e))}},bar:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},Iq(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Cq(e,"x","bar")),Cq(e,"y","bar"))}},circle:{vgMark:"symbol",encodeEntry:function(e){return jJ(e,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(e){return Object.assign({},Iq(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(e){var t=e.encoding.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},t&&GW(t)&&t.type===SU?{field:aV(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},Iq(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),Cq(e,"x","image")),Cq(e,"y","image")),dq(e,"url"))}},line:{vgMark:"line",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Iq(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),wq("x",e,{defaultPos:"mid"})),wq("y",e,{defaultPos:"mid"})),bq("size",e,{vgChannel:"strokeWidth"})),Fq(e))}},point:{vgMark:"symbol",encodeEntry:function(e){return jJ(e)}},rect:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},Iq(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Cq(e,"x","rect")),Cq(e,"y","rect"))}},rule:{vgMark:"rule",encodeEntry:function(e){var t=e.markDef.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},Iq(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Sq("x",e,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t})),Sq("y",e,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t})),bq("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:function(e){return jJ(e,"square")}},text:{vgMark:"text",encodeEntry:function(e){var t=e.config;e.encoding;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Iq(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),wq("x",e,{defaultPos:"mid"})),wq("y",e,{defaultPos:"mid"})),dq(e)),bq("size",e,{vgChannel:"fontSize"})),bq("angle",e)),Rq("align",function(e,t,n){if(void 0===IV("align",e,n))return"center";return}(e.markDef,0,t))),Rq("baseline",function(e,t,n){if(void 0===IV("baseline",e,n))return"middle";return}(e.markDef,0,t))),wq("radius",e,{defaultPos:null,isMidPoint:!0})),wq("theta",e,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,r=n.orient,a="horizontal"===r?"width":"height",i="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Iq(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),wq("x",e,{defaultPos:"mid",vgChannel:"xc"})),wq("y",e,{defaultPos:"mid",vgChannel:"yc"})),bq("size",e,{defaultValue:_J(e),vgChannel:a})),Object(xi.a)({},i,CV(IV("thickness",n,t))))}},trail:{vgMark:"trail",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Iq(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),wq("x",e,{defaultPos:"mid"})),wq("y",e,{defaultPos:"mid"})),bq("size",e)),Fq(e))}}};function EJ(e){return _R([hP,lP,yP],e.mark)?function(e){var t=YV(e.mark,e.encoding),n=TJ(e,{fromPrefix:t.length>0?AJ:""});return t.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:AJ+e.requestDataName(GG),data:e.requestDataName(GG),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}(e):_R([fP],e.mark)?function(e){var t=oU.some((function(t){return IV(t,e.markDef,e.config)}));if(e.stack&&!e.fieldDef("size")&&t){var n,r,a=TJ(e,{fromPrefix:CJ}),i=Object(Rn.a)(a,1)[0],o=e.scaleName(e.stack.fieldChannel),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},s=function(e,t){var n=[u({prefix:"min",suffix:"start",expr:t}),u({prefix:"max",suffix:"start",expr:t}),u({prefix:"min",suffix:"end",expr:t}),u({prefix:"max",suffix:"end",expr:t})];return"".concat(e,"(").concat(n.map((function(e){return"scale('".concat(o,"',").concat(e,")")})).join(","),")")};"x"===e.stack.fieldChannel?(n=Object.assign(Object.assign({},xR(i.encode.update,["y","yc","y2","height"].concat(Object(yi.a)(oU)))),{x:{signal:s("min","datum")},x2:{signal:s("max","datum")},clip:{value:!0}}),r={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},i.encode.update=Object.assign(Object.assign({},wR(i.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(n=Object.assign(Object.assign({},xR(i.encode.update,["x","xc","x2","width"])),{y:{signal:s("min","datum")},y2:{signal:s("max","datum")},clip:{value:!0}}),r={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},i.encode.update=Object.assign(Object.assign({},wR(i.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));var c,l=Object(Fn.a)(oU);try{for(l.s();!(c=l.n()).done;){var f=c.value,d=MV(f,e.markDef,e.config);i.encode.update[f]?(n[f]=i.encode.update[f],delete i.encode.update[f]):d&&(n[f]=CV(d)),d&&(i.encode.update[f]={value:0})}}catch(v){l.e(v)}finally{l.f()}var h=e.fieldDef(e.stack.groupbyChannel),p=aV(h)?[aV(h)]:[];return((null===h||void 0===h?void 0:h.bin)||(null===h||void 0===h?void 0:h.timeUnit))&&p.push(aV(h,{binSuffix:"end"})),n=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((function(t,n){if(i.encode.update[n])return Object.assign(Object.assign({},t),Object(xi.a)({},n,i.encode.update[n]));var r=MV(n,e.markDef,e.config);return void 0!==r?Object.assign(Object.assign({},t),Object(xi.a)({},n,CV(r))):t}),n),n.stroke&&(n.strokeForeground={value:!0},n.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(GG),name:CJ+e.requestDataName(GG),groupby:p,aggregate:{fields:[u({suffix:"start"}),u({suffix:"start"}),u({suffix:"end"}),u({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:n},marks:[{type:"group",encode:{update:r},marks:[i]}]}]}return TJ(e)}(e):TJ(e)}var AJ="faceted_path_";var CJ="stack_group_";function NJ(e){var t=e.encoding,n=e.stack,r=e.mark,a=e.markDef,i=e.config,o=t.order;if(!(!GF(o)&&JW(o)&&jR(o.value)||!o&&jR(IV("order",a,i)))){if((GF(o)||GW(o))&&!n)return PV(o,{expr:"datum"});if(kP(r)){var u="horizontal"===a.orient?"y":"x",s=t[u];if(GW(s)){var c=s.sort;return GF(c)?{field:aV(s,{prefix:u,suffix:"sort_index",expr:"datum"})}:IW(c)?{field:aV({aggregate:WV(e.encoding)?c.op:void 0,field:c.field},{expr:"datum"})}:DW(c)?{field:aV(e.fieldDef(c.encoding),{expr:"datum"}),order:c.order}:null===c?void 0:{field:aV(s,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}}else;}}function TJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=e.mark,r=e.markDef,a=e.config,i=KR(r.clip,DJ(e),IJ(e)),o=DV(r),u=e.encoding.key,s=NJ(e),c=MJ(e),l=IV("aria",r,a),f=SJ[n].postEncodingTransform?SJ[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:SJ[n].vgMark},i?{clip:!0}:{}),o?{style:o}:{}),u?{key:u.field}:{}),s?{sort:s}:{}),c||{}),!1===l?{aria:l}:{}),{from:{data:t.fromPrefix+e.requestDataName(GG)},encode:{update:SJ[n].encodeEntry(e)}}),f?{transform:f}:{})]}function DJ(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("selectionExtent")||n&&n.get("selectionExtent"))||void 0}function IJ(e){var t=e.component.projection;return!(!t||t.isFit)||void 0}function MJ(e){if(!e.component.selection)return null;for(var t=MR(e.component.selection).length,n=t,r=e.parent;r&&0===n;)n=MR(r.component.selection).length,r=r.parent;return n?{interactive:t>0}:null}var FJ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r,a){var i,o,u,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4?arguments[4]:void 0;Object(Zg.a)(this,n),(i=t.call(this,e,"unit",r,a,c,void 0,NH(e)?e.view:void 0)).specifiedScales={},i.specifiedAxes={},i.specifiedLegends={},i.specifiedProjection={},i.selection={},i.children=[];var l=SP(e.mark)?e.mark.type:e.mark;i.markDef=kJ(e.mark,null!==(o=e.encoding)&&void 0!==o?o:{},c,{graticule:e.data&&HG(e.data)});var f=i.encoding=HV(null!==(u=e.encoding)&&void 0!==u?u:{},i.markDef,c);return i.size=OJ({encoding:f,size:NH(e)?Object.assign(Object.assign(Object.assign({},s),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):s}),i.stack=uG(l,f),i.specifiedScales=i.initScales(l,f),i.specifiedAxes=i.initAxes(f),i.specifiedLegends=i.initLegend(f),i.specifiedProjection=e.projection,i.selection=e.selection,i}return Object(Jg.a)(n,[{key:"hasProjection",get:function(){var e=this.encoding,t=this.mark===OP,n=e&&Sz.some((function(t){return $W(e[t])}));return t||n}},{key:"scaleDomain",value:function(e){var t=this.specifiedScales[e];return t?t.domain:void 0}},{key:"axis",value:function(e){return this.specifiedAxes[e]}},{key:"legend",value:function(e){return this.specifiedLegends[e]}},{key:"initScales",value:function(e,t){return Qz.reduce((function(e,n){var r,a=gV(t[n]);return a&&(e[n]=null!==(r=a.scale)&&void 0!==r?r:{}),e}),{})}},{key:"initAxes",value:function(e){return Gz.reduce((function(t,n){var r=e[n];if($W(r)||n===qP&&$W(e.x2)||n===XP&&$W(e.y2)){var a=$W(r)?r.axis:void 0;t[n]=a?Object.assign({},a):a}return t}),{})}},{key:"initLegend",value:function(e){return Zz.reduce((function(t,n){var r=gV(e[n]);if(r&&function(e){switch(e){case az:case iz:case oz:case sz:case uz:case lz:case hz:case pz:return!0;case fz:case dz:case cz:return!1}}(n)){var a=r.legend;t[n]=a?Object.assign({},a):a}return t}),{})}},{key:"parseData",value:function(){this.component.data=fJ(this)}},{key:"parseLayoutSize",value:function(){!function(e){var t,n=e.size,r=e.component,a=Object(Fn.a)(Gz);try{for(a.s();!(t=a.n()).done;){var i=Uz(t.value);if(n[i]){var o=n[i];r.layoutSize.set(i,CH(o)?"step":o,!0)}else{var u=oJ(e,i);r.layoutSize.set(i,u,!1)}}}catch(s){a.e(s)}finally{a.f()}}(this)}},{key:"parseSelections",value:function(){this.component.selection=function(e,t){var n,r,a={},i=e.config.selection,o=Object(Fn.a)(MR(null!==t&&void 0!==t?t:{}));try{var u=function(){var o=r.value,u=yR(t[o]),s=i[u.type],c=(s.fields,s.encodings,oR(s,["fields","encodings"]));for(var l in c)"encodings"===l&&u.fields||"fields"===l&&u.encodings||("mark"===l&&(u[l]=Object.assign(Object.assign({},c[l]),u[l])),void 0!==u[l]&&!0!==u[l]||(u[l]=null!==(n=c[l])&&void 0!==n?n:u[l]));var f=zR(o),d=a[f]=Object.assign(Object.assign({},u),{name:f,events:rR(u.on)?AF(u.on,"scope"):yR(u.on)});uX(d,(function(n){n.has(d)&&n.parse&&n.parse(e,d,u,t[o])}))};for(o.s();!(r=o.n()).done;)u()}catch(s){o.e(s)}finally{o.f()}return a}(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=EJ(this)}},{key:"parseAxesAndHeaders",value:function(){var e;this.component.axes=(e=this,Gz.reduce((function(t,n){return e.component.scales[n]&&(t[n]=[wJ(n,e)]),t}),{}))}},{key:"assembleSelectionTopLevelSignals",value:function(e){return function(e,t){var n=!1;return kX(e,(function(r,a){var i=r.name,o=aR(i+bX);if(0===t.filter((function(e){return e.name===i})).length){var u="global"===r.resolve?"union":r.resolve,s="multi"===r.type?", true)":")";t.push({name:r.name,update:"".concat(wX,"(").concat(o,", ").concat(aR(u)).concat(s)})}n=!0,a.topLevelSignals&&(t=a.topLevelSignals(e,r,t)),uX(r,(function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}))})),n&&0===t.filter((function(e){return"unit"===e.name})).length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),lX(t)}(this,e)}},{key:"assembleSignals",value:function(){return[].concat(Object(yi.a)(iK(this)),Object(yi.a)((t=[],kX(e=this,(function(n,r){var a,i=n.name,o=r.modifyExpr(e,n);(a=t).push.apply(a,Object(yi.a)(r.signals(e,n))),uX(n,(function(r){r.signals&&(t=r.signals(e,n,t)),r.modifyExpr&&(o=r.modifyExpr(e,n,o))})),t.push({name:i+xX,on:[{events:{signal:n.name+yX},update:"modify(".concat(aR(n.name+bX),", ").concat(o,")")}]})})),lX(t))));var e,t}},{key:"assembleSelectionData",value:function(e){return function(e,t){var n=Object(yi.a)(t);return kX(e,(function(t){var r={name:t.name+bX};if(t.init){var a=t.project.items.map((function(e){return e.signals,oR(e,["signals"])})),i=t.init.map((function(e){return sX(e,!1)}));r.values="interval"===t.type?[{unit:_X(e,{escape:!1}),fields:a,values:i}]:i.map((function(t){return{unit:_X(e,{escape:!1}),fields:a,values:t}}))}n.filter((function(e){return e.name===t.name+bX})).length||n.push(r)})),n}(this,e)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return RK(this)}},{key:"assembleMarks",value:function(){var e,t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&RZ(this.parent)||(t=cX(this,t)),t.map(this.correctDataNames)}},{key:"getMapping",value:function(){return this.encoding}},{key:"mark",get:function(){return this.markDef.type}},{key:"channelHasField",value:function(e){return UV(this.encoding,e)}},{key:"fieldDef",value:function(e){return mV(this.encoding[e])}},{key:"typedFieldDef",value:function(e){var t=this.fieldDef(e);return ZW(t)?t:null}}]),n}(zZ),RJ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(e,r,a,i,o){var u;Object(Zg.a)(this,n),u=t.call(this,e,"layer",r,a,o,e.resolve,e.view);var s=Object.assign(Object.assign(Object.assign({},i),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});return u.children=e.layer.map((function(e,t){if(KH(e))return new n(e,Object(NG.a)(u),u.getName("layer_"+t),s,o);if(DP(e))return new FJ(e,Object(NG.a)(u),u.getName("layer_"+t),s,o);throw new Error(b.invalidSpec(e))})),u}return Object(Jg.a)(n,[{key:"parseData",value:function(){this.component.data=fJ(this);var e,t=Object(Fn.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseLayoutSize",value:function(){var e;aJ(e=this),iJ(e,"width"),iJ(e,"height")}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=Object(Fn.a)(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var r,a=Object(Fn.a)(MR(n.component.selection));try{for(a.s();!(r=a.n()).done;){var i=r.value;this.component.selection[i]=n.component.selection[i]}}catch(o){a.e(o)}finally{a.f()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=Object(Fn.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){!function(e){var t,n,r=e.component,a=r.axes,i=r.resolve,o={top:0,bottom:0,right:0,left:0},u=Object(Fn.a)(e.children);try{for(u.s();!(n=u.n()).done;){var s=n.value;s.parseAxesAndHeaders();var c,l=Object(Fn.a)(MR(s.component.axes));try{for(l.s();!(c=l.n()).done;){var f=c.value;i.axis[f]=VK(e.component.resolve,f),"shared"===i.axis[f]&&(a[f]=gJ(a[f],s.component.axes[f]),a[f]||(i.axis[f]="independent",delete a[f]))}}catch(A){l.e(A)}finally{l.f()}}}catch(A){u.e(A)}finally{u.f()}var d,h=Object(Fn.a)(Gz);try{for(h.s();!(d=h.n()).done;){var p,v=d.value,m=Object(Fn.a)(e.children);try{for(m.s();!(p=m.n()).done;){var g=p.value;if(g.component.axes[v]){if("independent"===i.axis[v]){a[v]=(null!==(t=a[v])&&void 0!==t?t:[]).concat(g.component.axes[v]);var b,y=Object(Fn.a)(g.component.axes[v]);try{for(y.s();!(b=y.n()).done;){var x=b.value,w=x.getWithExplicit("orient"),O=w.value,k=w.explicit;if(!tU(O)){if(o[O]>0&&!k){var j=mJ[O];o[O]>o[j]&&x.set("orient",j,!1)}o[O]++}}}catch(A){y.e(A)}finally{y.f()}}delete g.component.axes[v]}}}catch(A){m.e(A)}finally{m.f()}if("independent"===i.axis[v]&&a[v]&&a[v].length>1){var _,S=Object(Fn.a)(a[v]);try{for(S.s();!(_=S.n()).done;){var E=_.value;E.get("grid")&&!E.explicit.grid&&(E.implicit.grid=!1)}}catch(A){S.e(A)}finally{S.f()}}}}catch(A){h.e(A)}finally{h.f()}}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleSignals())}),iK(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLayoutSignals())}),RK(this))}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleTitle",value:function(){var e=Object($H.a)(Object(ZH.a)(n.prototype),"assembleTitle",this).call(this);if(e)return e;var t,r=Object(Fn.a)(this.children);try{for(r.s();!(t=r.n()).done;){if(e=t.value.assembleTitle())return e}}catch(a){r.e(a)}finally{r.f()}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return function(e,t){var n,r=Object(Fn.a)(e.children);try{for(r.s();!(n=r.n()).done;){var a=n.value;IZ(a)&&(t=cX(a,t))}}catch(i){r.e(i)}finally{r.f()}return t}(this,this.children.flatMap((function(e){return e.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLegends())}),u$(this))}}]),n}(PZ);function PJ(e,t,n,r,a){if(PW(e))return new sJ(e,t,n,a);if(KH(e))return new RJ(e,t,n,r,a);if(DP(e))return new FJ(e,t,n,r,a);if(function(e){return EH(e)||AH(e)||SH(e)}(e))return new dJ(e,t,n,a);throw new Error(b.invalidSpec(e))}function zJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.logger&&IL(t.logger),t.fieldTitle&&lV(t.fieldTitle);try{var n=VH(YF(t.config,e.config)),r=_G(e,n),a=PJ(r,null,"",void 0,n);a.parse(),nZ(a.component.data,a);var i=LJ(a,BJ(e,r.autosize,n,a),e.datasets,e.usermeta);return{spec:i,normalized:r}}finally{t.logger&&ML(),t.fieldTitle&&fV()}}function BJ(e,t,n,r){var a,i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):rR(t)&&(t={type:t}),i&&o&&("fit"===(a=t.type)||"fit-x"===a||"fit-y"===a))if("step"===i&&"step"===o)FL(b.droppingFit()),t.type="pad";else if("step"===i||"step"===o){var u="step"===i?"width":"height";FL(b.droppingFit(Kz(u)));var s="width"===u?"height":"width";t.type=function(e){return e?"fit-".concat(Kz(e)):"fit"}(s)}return Object.assign(Object.assign(Object.assign({},1===MR(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),CG(n)),CG(e))}function LJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,a=e.config?XH(e.config):void 0,i=[].concat(e.assembleSelectionData([]),QZ(e.component.data,n)),o=e.assembleProjections(),u=e.assembleTitle(),s=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0),l=e.assembleLayoutSignals();return l=l.filter((function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)})),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),t),u?{title:u}:{}),s?{style:s}:{}),c?{encode:{update:c}}:{}),{data:i}),o.length>0?{projections:o}:{}),e.assembleGroup([].concat(Object(yi.a)(l),Object(yi.a)(e.assembleSelectionTopLevelSignals([]))))),a?{config:a}:{}),r?{usermeta:r}:{})}var UJ=function(e){Object(JH.a)(n,e);var t=Object(QH.a)(n);function n(){return Object(Zg.a)(this,n),t.apply(this,arguments)}return Object(Jg.a)(n,[{key:"mapUnit",value:function(e,t){var n=t.config;if(e.encoding){var r=e.encoding,a=e.transform,i=VV(r,n),o=i.bins,u=i.timeUnits,s=i.aggregate,c=i.groupby,l=i.encoding,f=[].concat(Object(yi.a)(a||[]),Object(yi.a)(o),Object(yi.a)(u),Object(yi.a)(0===s.length?[]:[{aggregate:s,groupby:c}]));return Object.assign(Object.assign(Object.assign({},e),f.length>0?{transform:f}:{}),{encoding:l})}return e}}]),n}(eG),WJ=new UJ;function VJ(e,t){return WJ.map(e,{config:t})}var HJ=MF.version;var GJ=function(e){var t=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3),n=Object(Rn.a)(t,2);return{library:n[0],version:n[1]}},qJ="#fff",XJ={background:"#333",title:{color:qJ,subtitleColor:qJ},style:{"guide-label":{fill:qJ},"guide-title":{fill:qJ}},axis:{domainColor:qJ,gridColor:"#888",tickColor:qJ}},YJ="#4572a7",KJ={background:"#fff",arc:{fill:YJ},area:{fill:YJ},line:{stroke:YJ,strokeWidth:2},path:{stroke:YJ},rect:{fill:YJ},shape:{stroke:YJ},symbol:{fill:YJ,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},$J="#30a2da",ZJ="#cbcbcb",JJ="#f0f0f0",QJ="#333",eQ={arc:{fill:$J},area:{fill:$J},axis:{domainColor:ZJ,grid:!0,gridColor:ZJ,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:ZJ,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:JJ,group:{fill:JJ},legend:{labelColor:QJ,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:QJ,titleFontSize:14,titlePadding:10},line:{stroke:$J,strokeWidth:2},path:{stroke:$J,strokeWidth:.5},rect:{fill:$J},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:$J},bar:{binSpacing:2,fill:$J,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},tQ="#000",nQ={group:{fill:"#e5e5e5"},arc:{fill:tQ},area:{fill:tQ},line:{stroke:tQ},path:{stroke:tQ},rect:{fill:tQ},shape:{stroke:tQ},symbol:{fill:tQ,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},rQ="Benton Gothic, sans-serif",aQ="#82c6df",iQ="Benton Gothic Bold, sans-serif",oQ="normal",uQ={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},sQ={background:"#ffffff",title:{anchor:"start",color:"#000000",font:iQ,fontSize:22,fontWeight:"normal"},arc:{fill:aQ},area:{fill:aQ},line:{stroke:aQ,strokeWidth:2},path:{stroke:aQ},rect:{fill:aQ},shape:{stroke:aQ},symbol:{fill:aQ,size:30},axis:{labelFont:rQ,labelFontSize:11.5,labelFontWeight:"normal",titleFont:iQ,titleFontSize:13,titleFontWeight:oQ},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:rQ,labelFontSize:11.5,symbolType:"square",titleFont:iQ,titleFontSize:13,titleFontWeight:oQ},range:{category:uQ["category-6"],diverging:uQ["fireandice-6"],heatmap:uQ["fire-7"],ordinal:uQ["fire-7"],ramp:uQ["fire-7"]}},cQ="#ab5787",lQ="#979797",fQ={background:"#f9f9f9",arc:{fill:cQ},area:{fill:cQ},line:{stroke:cQ},path:{stroke:cQ},rect:{fill:cQ},shape:{stroke:cQ},symbol:{fill:cQ,size:30},axis:{domainColor:lQ,domainWidth:.5,gridWidth:.2,labelColor:lQ,tickColor:lQ,tickWidth:.2,titleColor:lQ},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},dQ="#3e5c69",hQ={background:"#fff",arc:{fill:dQ},area:{fill:dQ},line:{stroke:dQ},path:{stroke:dQ},rect:{fill:dQ},shape:{stroke:dQ},symbol:{fill:dQ},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},pQ="#1696d2",vQ="#000000",mQ="Lato",gQ="Lato",bQ={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},yQ={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:mQ},axisX:{domain:!0,domainColor:vQ,domainWidth:1,grid:!1,labelFontSize:12,labelFont:gQ,labelAngle:0,tickColor:vQ,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:mQ},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:gQ,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:mQ,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:gQ,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:mQ,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:bQ["six-groups-cat-1"],diverging:bQ["diverging-colors"],heatmap:bQ["diverging-colors"],ordinal:bQ["six-groups-seq"],ramp:bQ["shades-blue"]},area:{fill:pQ},rect:{fill:pQ},line:{color:pQ,stroke:pQ,strokeWidth:5},trail:{color:pQ,stroke:pQ,strokeWidth:0,size:1},path:{stroke:pQ,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:pQ,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:pQ,stroke:null}},arc:{fill:pQ},shape:{stroke:pQ},symbol:{fill:pQ,size:30}},xQ="#3366CC",wQ="#ccc",OQ="Arial, sans-serif",kQ={arc:{fill:xQ},area:{fill:xQ},path:{stroke:xQ},rect:{fill:xQ},shape:{stroke:xQ},symbol:{stroke:xQ},circle:{fill:xQ},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:OQ,fontSize:12},"guide-title":{font:OQ,fontSize:12},"group-title":{font:OQ,fontSize:12}},title:{font:OQ,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:wQ,tickColor:wQ,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},jQ="2.10.0",_Q="vg-tooltip-element",SQ={offsetX:10,offsetY:10,id:_Q,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function EQ(e,t,n){if(Object(Pt.x)(e))return"[".concat(e.map((function(e){return t(Object(Pt.F)(e)?e:AQ(e,n))})).join(", "),"]");if(Object(Pt.D)(e)){var r="",a=e,i=a.title,o=a.image,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(a,["title","image"]);i&&(r+="<h2>".concat(t(i),"</h2>")),o&&(r+='<img src="'.concat(t(o),'">'));var s=Object.keys(u);if(s.length>0){r+="<table>";var c,l=Object(Fn.a)(s);try{for(l.s();!(c=l.n()).done;){var f=c.value,d=u[f];void 0!==d&&(Object(Pt.D)(d)&&(d=AQ(d,n)),r+='<tr><td class="key">'.concat(t(f),':</td><td class="value">').concat(t(d),"</td></tr>"))}}catch(h){l.e(h)}finally{l.f()}r+="</table>"}return r||"{}"}return t(e)}function AQ(e,t){return JSON.stringify(e,function(e){var t=[];return function(n,r){if("object"!==typeof r||null===r)return r;var a=t.indexOf(this)+1;return t.length=a,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}var CQ=function(){function e(t){Object(Zg.a)(this,e),this.options=Object.assign(Object.assign({},SQ),t);var n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace(_Q,e)}(n);var a=document.head;a.childNodes.length>0?a.insertBefore(r,a.childNodes[0]):a.appendChild(r)}}return Object(Jg.a)(e,[{key:"tooltipHandler",value:function(e,t,n,r){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el)),(null!=document.fullscreenElement?document.fullscreenElement:document.body).appendChild(this.el),null!=r&&""!==r){this.el.innerHTML=EQ(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var a=function(e,t,n,r){var a=e.clientX+n;a+t.width>window.innerWidth&&(a=+e.clientX-n-t.width);var i=e.clientY+r;return i+t.height>window.innerHeight&&(i=+e.clientY-r-t.height),{x:a,y:i}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),i=a.x,o=a.y;this.el.setAttribute("style","top: ".concat(o,"px; left: ").concat(i,"px"))}else this.el.classList.remove("visible","".concat(this.options.theme,"-theme"))}}]),e}();function NQ(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function TQ(e,t,n){var r=e.open(t),a=new URL(t).origin,i=40;e.addEventListener("message",(function t(n){n.source===r&&(i=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){i<=0||(r.postMessage(n,a),setTimeout(e,250),i-=1)}),250)}var DQ,IQ='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';function MQ(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];FQ(e,o)}return e}function FQ(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Ae(e,a,t[a],!0)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});var RQ=g,PQ=y,zQ="undefined"!==typeof window?window:void 0;void 0===PQ&&(null===(DQ=null===zQ||void 0===zQ?void 0:zQ.vl)||void 0===DQ?void 0:DQ.compile)&&(PQ=zQ.vl);var BQ={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},LQ={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},UQ={vega:"Vega","vega-lite":"Vega-Lite"},WQ={vega:RQ.version,"vega-lite":PQ?PQ.version:"not available"},VQ={vega:function(e){return e},"vega-lite":function(e,t){return PQ.compile(e,{config:t}).spec}},HQ='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',GQ="chart-wrapper";function qQ(e){return"function"===typeof e}function XQ(e,t,n,r){var a="<html><head>".concat(t,'</head><body><pre><code class="json">'),i="</code></pre>".concat(n,"</body></html>"),o=window.open("");o.document.write(a+e+i),o.document.title="".concat(UQ[r]," JSON Source")}function YQ(e,t){var n;if(e.$schema){var r=GJ(e.$schema);t&&t!==r.library&&console.warn("The given visualization spec is written in ".concat(UQ[r.library],", but mode argument sets ").concat(null!==(n=UQ[t])&&void 0!==n?n:t,"."));var a=r.library;return Object(te.satisfies)(WQ[a],"^".concat(r.version.slice(1)))||console.warn("The input spec uses ".concat(UQ[a]," ").concat(r.version,", but the current version of ").concat(UQ[a]," is v").concat(WQ[a],".")),a}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!==t&&void 0!==t?t:"vega"}function KQ(e){return(t=e)&&"load"in t?e:RQ.loader(e);var t}function $Q(e){var t;return null!==(t=e.usermeta&&e.usermeta.embedOptions)&&void 0!==t?t:{}}function ZQ(e,t){var n;return NQ(this,void 0,void 0,O.a.mark((function r(){var a,i;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!xt(e.config)){r.next=8;break}return r.t1=JSON,r.next=4,t.load(e.config);case 4:r.t2=r.sent,r.t0=r.t1.parse.call(r.t1,r.t2),r.next=9;break;case 8:r.t0=null!==(n=e.config)&&void 0!==n?n:{};case 9:if(a=r.t0,!xt(e.patch)){r.next=18;break}return r.t4=JSON,r.next=14,t.load(e.patch);case 14:r.t5=r.sent,r.t3=r.t4.parse.call(r.t4,r.t5),r.next=19;break;case 18:r.t3=e.patch;case 19:return i=r.t3,r.abrupt("return",Object.assign(Object.assign(Object.assign({},e),i?{patch:i}:{}),a?{config:a}:{}));case 21:case"end":return r.stop()}}),r)})))}function JQ(e){var t,n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(t=document.head)&&void 0!==t?t:document.body}}function QQ(e,t){var n,r,a,i,o,u,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;return NQ(this,void 0,void 0,O.a.mark((function l(){var f,d,h,p,v,m,g,b,y,w,k,j,_,S,E,A,C,N,T,D,I,M,F,R,P,z,B,U,W,V,H,G,q,X,Y,K,$,Z,J;return O.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(J=function(){B&&document.removeEventListener("click",B),I.finalize()},f=s.theme?Ee(x[s.theme],null!==(n=s.config)&&void 0!==n?n:{}):s.config,d=vt(s.actions)?s.actions:MQ({},BQ,null!==(r=s.actions)&&void 0!==r?r:{}),h=Object.assign(Object.assign({},LQ),s.i18n),p=null!==(a=s.renderer)&&void 0!==a?a:"canvas",v=null!==(i=s.logLevel)&&void 0!==i?i:RQ.Warn,m=null!==(o=s.downloadFileName)&&void 0!==o?o:"visualization",g="string"===typeof e?document.querySelector(e):e){l.next=10;break}throw new Error("".concat(e," does not exist"));case 10:return!1!==s.defaultStyle&&(b="vega-embed-style",y=JQ(g),w=y.root,k=y.rootContainer,w.getElementById(b)||((j=document.createElement("style")).id=b,j.innerText=void 0===s.defaultStyle||!0===s.defaultStyle?IQ.toString():s.defaultStyle,k.appendChild(j))),_=YQ(t,s.mode),S=VQ[_](t,f),"vega-lite"===_&&S.$schema&&(E=GJ(S.$schema),Object(te.satisfies)(WQ.vega,"^".concat(E.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(E.version,", but current version is v").concat(WQ.vega,"."))),g.classList.add("vega-embed"),d&&g.classList.add("has-actions"),g.innerHTML="",A=g,d&&((C=document.createElement("div")).classList.add(GQ),g.appendChild(C),A=C),(N=s.patch)&&(S=N instanceof Function?N(S):L(S,N,!0,!1).newDocument),s.formatLocale&&RQ.formatLocale(s.formatLocale),s.timeFormatLocale&&RQ.timeFormatLocale(s.timeFormatLocale),T=s.ast,D=RQ.parse(S,"vega-lite"===_?{}:f,{ast:T}),I=new(s.viewClass||RQ.View)(D,Object.assign({loader:c,logLevel:v,renderer:p},T?{expr:RQ.expressionInterpreter}:{})),!1!==s.tooltip&&(M=qQ(s.tooltip)?s.tooltip:new CQ(!0===s.tooltip?{}:s.tooltip).call,I.tooltip(M)),void 0===(F=s.hover)&&(F="vega"===_),F&&(P=(R="boolean"===typeof F?{}:F).hoverSet,z=R.updateSet,I.hover(P,z)),s&&(null!=s.width&&I.width(s.width),null!=s.height&&I.height(s.height),null!=s.padding&&I.padding(s.padding)),l.next=33,I.initialize(A,s.bind).runAsync();case 33:if(!1!==d){if(U=g,!1!==s.defaultStyle&&((W=document.createElement("details")).title=h.CLICK_TO_VIEW_ACTIONS,g.append(W),U=W,(V=document.createElement("summary")).innerHTML=HQ,W.append(V),B=function(e){W.contains(e.target)||W.removeAttribute("open")},document.addEventListener("click",B)),H=document.createElement("div"),U.append(H),H.classList.add("vega-actions"),!0===d||!1!==d.export)for(G=function(){var e=X[q];if(!0===d||!0===d.export||d.export[e]){var t=h["".concat(e.toUpperCase(),"_ACTION")],n=document.createElement("a");n.text=t,n.href="#",n.target="_blank",n.download="".concat(m,".").concat(e),n.addEventListener("mousedown",(function(t){return NQ(this,void 0,void 0,O.a.mark((function n(){var r;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,I.toImageURL(e,s.scaleFactor);case 3:r=n.sent,this.href=r;case 5:case"end":return n.stop()}}),n,this)})))})),H.append(n)}},q=0,X=["svg","png"];q<X.length;q++)G();!0!==d&&!1===d.source||((Y=document.createElement("a")).text=h.SOURCE_ACTION,Y.href="#",Y.addEventListener("click",(function(e){var n,r;XQ(ee()(t),null!==(n=s.sourceHeader)&&void 0!==n?n:"",null!==(r=s.sourceFooter)&&void 0!==r?r:"",_),e.preventDefault()})),H.append(Y)),"vega-lite"!==_||!0!==d&&!1===d.compiled||((K=document.createElement("a")).text=h.COMPILED_ACTION,K.href="#",K.addEventListener("click",(function(e){var t,n;XQ(ee()(S),null!==(t=s.sourceHeader)&&void 0!==t?t:"",null!==(n=s.sourceFooter)&&void 0!==n?n:"","vega"),e.preventDefault()})),H.append(K)),!0!==d&&!1===d.editor||($=null!==(u=s.editorUrl)&&void 0!==u?u:"https://vega.github.io/editor/",(Z=document.createElement("a")).text=h.EDITOR_ACTION,Z.href="#",Z.addEventListener("click",(function(e){TQ(window,$,{config:f,mode:_,renderer:p,spec:ee()(t)}),e.preventDefault()})),H.append(Z))}return l.abrupt("return",{view:I,spec:t,vgSpec:S,finalize:J});case 35:case"end":return l.stop()}}),l)})))}t.default=function(e,t){var n,r,a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return NQ(this,void 0,void 0,O.a.mark((function o(){var u,s,c,l,f,d;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!xt(t)){o.next=9;break}return s=KQ(i.loader),o.t0=JSON,o.next=5,s.load(t);case 5:o.t1=o.sent,u=o.t0.parse.call(o.t0,o.t1),o.next=10;break;case 9:u=t;case 10:return c=$Q(u).loader,s&&!c||(s=KQ(null!==(n=i.loader)&&void 0!==n?n:c)),o.next=14,ZQ($Q(u),s);case 14:return l=o.sent,o.next=17,ZQ(i,s);case 17:return f=o.sent,d=Object.assign(Object.assign({},MQ(f,l)),{config:Ee(null!==(r=f.config)&&void 0!==r?r:{},null!==(a=l.config)&&void 0!==a?a:{})}),o.next=21,QQ(e,u,d,s);case 21:return o.abrupt("return",o.sent);case 22:case"end":return o.stop()}}),o)})))}},function(e,t,n){"use strict";e.exports=n(665)},function(e,t,n){"use strict";n.r(t),n.d(t,"validateUpdateShape",(function(){return i})),n.d(t,"validateInput",(function(){return o})),n.d(t,"calculateShapes",(function(){return u}));var r=n(16),a=n(23);function i(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(i+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(i+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(i+" update.rank != ".concat(a+e.length-r));for(var o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(i+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(var u=0;u<n.rank-a;++u)if(n.shape[u+a]!==e[u+r])throw new Error(i+" updates.shape[".concat(u+a,"] (").concat(n.shape[u+a],") != shape[").concat(u+a,"] (").concat(e[u+a],")"))}function o(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}i(n,t,e)}function u(e,t,n){for(var i=t.shape.length,o=i>1?t.shape[i-1]:1,u=n.length,s=1,c=o;c<u;++c)s*=n[c];var l=o<1?1:o;return{sliceRank:o,numUpdates:Object(a.O)(t.shape)/l,sliceSize:s,strides:[].concat(Object(r.a)(Object(a.j)(n.slice(0,o))),[1]),outputSize:Object(a.O)(n)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"assertParamsValid",(function(){return i})),n.d(t,"maskToAxes",(function(){return o})),n.d(t,"computeOutShape",(function(){return u})),n.d(t,"stridesWithElidedDims",(function(){return s})),n.d(t,"getNormalizedAxes",(function(){return f})),n.d(t,"startIndicesWithElidedDims",(function(){return d})),n.d(t,"stopIndicesWithElidedDims",(function(){return h})),n.d(t,"stridesForAxis",(function(){return p})),n.d(t,"startForAxis",(function(){return v})),n.d(t,"stopForAxis",(function(){return m})),n.d(t,"isSliceContinous",(function(){return g})),n.d(t,"computeFlatOffset",(function(){return b})),n.d(t,"parseSliceParams",(function(){return y})),n.d(t,"sliceInfo",(function(){return x}));var r=n(16),a=n(23);function i(e,t,n){var r=e.shape.length;a.b(r===t.length,(function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")})),a.b(r===n.length,(function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")}));for(var i=function(i){a.b(t[i]+n[i]<=e.shape[i],(function(){return"Error in slice".concat(r,"D: begin[").concat(i,"] + size[").concat(i,"] ")+"(".concat(t[i]+n[i],") would overflow input.shape[").concat(i,"] (").concat(e.shape[i],")")}))},o=0;o<r;++o)i(o)}function o(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function u(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function s(e,t,n,a){for(var i=Object(r.a)(e),o=i.length;o<a.length;o++)i.push(1);for(var u=0;u<n;u++)0===u?i[t]=1:(i.splice(t,0,1),i.pop());return i}function c(e,t,n){return n<=e?n:n-(t-1)}function l(e,t){for(var n=[],r=0;r<e;r++)n.push(t+r);return n}function f(e,t,n,r,a,i,o,u,c){var l=e.length,f=new Array(l),g=new Array(l),b=new Array(l);if(t.length&&n>0){var y=t[0],x=n+1;f=d(o,y,x,r,e),g=h(u,y,x,a,e),b=s(i,y,x,e)}else for(var w=0;w<l;w++)f[w]=v(o,r,i,e,w,c),g[w]=m(u,a,i,e,w,c),b[w]=p(i,w,c);return{begin:f,end:g,strides:b}}function d(e,t,n,a,i){for(var o=Object(r.a)(i),u=l(n,t),s=0;s<o.length;s++)if(u.indexOf(s)>-1)o[s]=0;else{var f=c(t,n,s),d=a[f];e&1<<f&&(d=0),o[s]=d}return o}function h(e,t,n,i,o){for(var u=Object(r.a)(o),s=l(n,t),f=0;f<u.length;f++)if(s.indexOf(f)>-1)u[f]=Number.MAX_SAFE_INTEGER;else{var d=c(t,n,f),h=i[d];e&1<<d&&(h=Number.MAX_SAFE_INTEGER),u[f]=h}for(var p=0;p<u.length;p++){var v=o[p];u[p]<0&&(u[p]+=v),u[p]=a.i(0,u[p],o[p])}return u}function p(e,t,n){var r=e[t];return(n&1<<t||null==r)&&(r=1),r}function v(e,t,n,r,i,o){var u=t[i],s=n[i]||1;(e&1<<i||o&1<<i||null==u)&&(u=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var c=r[i];return u<0&&(u+=c),u=a.i(0,u,c-1)}function m(e,t,n,r,i,o){var u=t[i],s=n[i]||1;(e&1<<i||o&1<<i||null==u)&&(u=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var c=r[i];return u<0&&(u+=c),u=s>0?a.i(0,u,c):a.i(-1,u,c-1)}function g(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(var i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function b(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function y(e,t,n){var i,o,u=e.shape.length;return(i="number"===typeof t?[t].concat(Object(r.a)(new Array(u-1).fill(0))):t.length<u?t.concat(new Array(u-t.length).fill(0)):t.slice()).forEach((function(e){a.b(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=null==n?new Array(u).fill(-1):"number"===typeof n?[n].concat(Object(r.a)(new Array(u-1).fill(-1))):n.length<u?n.concat(new Array(u-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(a.b(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")})),e.shape[n]-i[n])})),[i,o]}function x(e,t,n,r,a,i,o,u,s){var c;if(null==r?(c=new Array(t.length)).fill(1):c=r,null!=o&&0!==(o&o-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var l=!1,f={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:a,endMask:i,ellipsisMask:o,newAxisMask:u,shrinkAxisMask:s},d=0;d<f.dims;d++)l&&0!==(1<<d&u)&&f.numAddAxisAfterEllipsis++,1<<d&o&&(l=!0);l||(f.ellipsisMask|=1<<f.dims,f.dims++);var h={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(f,h);for(var p=!0,v=!0,m=!0,g=[],b=[],y=0;y<e.length;++y){if(0===h.strides[y])throw Error("strides[".concat(y,"] must be non-zero"));var x=!!(h.shrinkAxisMask&1<<y),O=e[y];if(-1!==O){var k=[h.beginMask&1<<y,h.endMask&1<<y],j=[h.strides[y]>0?0:-1,h.strides[y]>0?O:O-1];if(x&&h.strides[y]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===h.strides[y];var _=!!(h.beginMask&1<<y&&h.endMask&1<<y);if(h.beginValid&&h.endValid){if(x){var S=h.begin[y]<0?O+h.begin[y]:h.begin[y];if(h.begin[y]=S,h.end[y]=h.begin[y]+1,S<0||S>=O)throw Error("slice index ".concat(h.begin[y]," of dimension ").concat(y," out of bounds."))}else h.begin[y]=w(h.begin[y],0,h.strides[y],O,k,j),h.end[y]=w(h.end[y],1,h.strides[y],O,k,j);var E=1===h.strides[y]&&0===h.begin[y]&&h.end[y]===O;p=p&&E,v=v&&(0===y&&1===h.strides[y]||E)}else p=p&&1===h.strides[y]&&_,v=v&&(0===y&&1===h.strides[y]||_);var A=void 0,C=!1;if(h.beginValid&&h.endValid?(A=h.end[y]-h.begin[y],C=!0):x?(A=1,C=!0):_&&O>=0&&(A=h.strides[y]<0?-O:O,C=!0),C){var N=void 0;N=0===A||A<0!==h.strides[y]<0?0:Math.trunc(A/h.strides[y])+(A%h.strides[y]!==0?1:0),g.push(N)}else g.push(-1)}else g.push(x?1:-1)}for(var T=0;T<h.finalShapeGatherIndices.length;++T){var D=h.finalShapeGatherIndices[T];D>=0?b.push(g[D]):-2===D&&b.push(1)}var I=b.filter((function(e,t){return-2!==h.finalShapeGatherIndices[t]}));return{finalShapeSparse:I,finalShape:b,isIdentity:p,sliceDim0:v,isSimpleSlice:m,begin:h.begin,end:h.end,strides:h.strides}}function w(e,t,n,r,a,i){if(a[t])return n>0?i[t]:i[t+1&1];var o=e<0?r+e:e;return o<i[0]?i[0]:o>i[1]?i[1]:o}},function(e,t,n){"use strict";var r=n(917);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(13);var c=Object(s.b)({floorDiv_:function(e,t){var n=Object(u.a)(e,"a","floorDiv"),s=Object(u.a)(t,"b","floorDiv"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.ib,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(35),s=n(56),c=n(13),l=n(21);var f=Object(c.b)({avgPool_:function(e,t,n,c,f){var d=Object(i.a)(e,"x","avgPool","float32");o.b(s.i(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}));var h=d,p=!1;3===d.rank&&(p=!0,h=Object(l.a)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),o.b(4===h.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(h.rank,".")})),s.a("avgPool",c,f);var v={x:h},m={filterSize:t,strides:n,pad:c,dimRoundingMode:f},g=r.a.runKernel(a.o,v,m);return g=Object(u.a)(g,d.dtype),p?Object(l.a)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({cos_:function(e){var t={x:Object(i.a)(e,"x","cos","float32")};return r.a.runKernel(a.J,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=Object(i.a)(e,"x","cumsum"),s={x:u},c={axis:t,exclusive:n,reverse:o};return r.a.runKernel(a.M,s,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({elu_:function(e){var t={x:Object(i.a)(e,"x","elu","float32")};return r.a.runKernel(a.X,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({floor_:function(e){var t={x:Object(i.a)(e,"x","floor","float32")};return r.a.runKernel(a.hb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({imag_:function(e){var t={input:Object(i.a)(e,"input","imag")};return r.a.runKernel(a.tb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=Object(i.a)(e,"x","leakyRelu"),o={x:n},u={alpha:t};return r.a.runKernel(a.zb,o,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(42),c=n(13);var l=Object(c.b)({less_:function(e,t){var n=Object(u.a)(e,"a","less","string_or_numeric"),c=Object(u.a)(t,"b","less","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.Ab,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(9),a=n(23),i=n(39),o=n(88),u=n(89),s=n(151),c=n(139),l=n(13),f=n(21),d=n(40),h=n(43);var p=Object(l.b)({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=Object(r.a)(e,"x","logSumExp"),p=Object(a.I)(t,l.shape),v=Object(c.a)(l,p,!0),m=Object(d.a)(l,v),g=Object(u.a)(m),b=Object(h.a)(g,p),y=Object(s.a)(b),x=Object(i.a)(Object(f.a)(v,y.shape),y);if(n){var w=Object(o.e)(x.shape,p);return Object(f.a)(x,w)}return x}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(42),u=n(13);var s=Object(u.b)({logicalOr_:function(e,t){var n=Object(i.a)(e,"a","logicalOr","bool"),u=Object(i.a)(t,"b","logicalOr","bool");Object(o.assertAndGetBroadcastShape)(n.shape,u.shape);var s={a:n,b:u};return r.a.runKernel(a.Ib,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(56),s=n(13),c=n(21);var l=Object(s.b)({maxPool_:function(e,t,n,s,l){var f=Object(i.a)(e,"x","maxPool"),d=f,h=!1;3===f.rank&&(h=!0,d=Object(c.a)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),o.b(4===d.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(d.rank,".")})),o.b(u.i(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")})),u.a("maxPool",s,l);var p={x:d},v={filterSize:t,strides:n,pad:s,dimRoundingMode:l},m=r.a.runKernel(a.Kb,p,v);return h?Object(c.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(42),c=n(35),l=n(13);var f=Object(l.b)({minimum_:function(e,t){var n=Object(u.a)(e,"a","minimum"),l=Object(u.a)(t,"b","minimum"),f=Object(o.makeTypesMatch)(n,l),d=Object(r.a)(f,2);n=d[0],l=d[1],"bool"===n.dtype&&(n=Object(c.a)(n,"int32"),l=Object(c.a)(l,"int32")),Object(s.assertAndGetBroadcastShape)(n.shape,l.shape);var h={a:n,b:l};return a.a.runKernel(i.Sb,h)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(42),c=n(13);var l=Object(c.b)({notEqual_:function(e,t){var n=Object(u.a)(e,"a","notEqual","string_or_numeric"),c=Object(u.a)(t,"b","notEqual","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.bc,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({prelu_:function(e,t){var n={x:Object(i.a)(e,"x","prelu"),alpha:Object(i.a)(t,"alpha","prelu")};return r.a.runKernel(a.ic,n)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({relu6_:function(e){var t={x:Object(i.a)(e,"x","relu6")};return r.a.runKernel(a.pc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(23),o=n(13);var u=Object(o.b)({fft_:function(e){Object(i.b)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.a.runKernel(a.eb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(23),a=n(121),i=n(75),o=n(248),u=n(13),s=n(217),c=n(21),l=n(64),f=n(123),d=n(158),h=n(49),p=n(258);var v=Object(u.b)({rfft_:function(e,t){Object(r.b)("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,u=e.shape[e.shape.length-1],v=e.size/u;if(null!=t&&t<u){var m=e.shape.map((function(e){return 0})),g=e.shape.map((function(e){return e}));g[e.shape.length-1]=t,n=Object(l.a)(e,m,g),u=t}else if(null!=t&&t>u){var b=e.shape.map((function(e){return e}));b[e.shape.length-1]=t-u,n=Object(i.a)([e,Object(d.a)(b)],e.shape.length-1),u=t}else n=e;var y=Object(h.a)(n),x=Object(c.a)(Object(a.a)(n,y),[v,u]),w=Object(p.a)(x),O=Math.floor(u/2)+1,k=Object(s.a)(w),j=Object(o.a)(w),_=Object(f.a)(k,[O,u-O],k.shape.length-1),S=Object(f.a)(j,[O,u-O],j.shape.length-1),E=n.shape.slice();return E[n.shape.length-1]=O,Object(c.a)(Object(a.a)(_[0],S[0]),E)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(42),c=n(13);var l=Object(c.b)({squaredDifference_:function(e,t){var n=Object(u.a)(e,"a","squaredDifference"),c=Object(u.a)(t,"b","squaredDifference"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.Sc,d,{})}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({unsortedSegmentSum_:function(e,t,n){var u=Object(i.a)(e,"x","unsortedSegmentSum"),s=Object(i.a)(t,"segmentIds","unsortedSegmentSum","int32");Object(o.b)(Object(o.v)(n),(function(){return"numSegments must be of dtype int"}));var c={x:u,segmentIds:s},l={numSegments:n};return r.a.runKernel(a.id,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(9),a=n(23),i=n(92),o=n(88),u=n(139),s=n(215),c=n(13),l=n(111),f=n(21),d=n(46),h=n(85),p=n(63),v=n(43);function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return Object(i.a)(e);if(1!==e.rank&&null===n)return m(Object(f.a)(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Object(v.a)(Object(i.a)(e),n);if(t===1/0)return Object(u.a)(Object(i.a)(e),n);if(t===-1/0)return Object(s.a)(Object(i.a)(e),n);if("euclidean"===t||2===t)return Object(h.a)(Object(v.a)(Object(l.a)(Object(i.a)(e),Object(d.a)(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return Object(u.a)(Object(v.a)(Object(i.a)(e),n[0]),n[1]-1);if(t===1/0)return Object(u.a)(Object(v.a)(Object(i.a)(e),n[1]),n[0]);if(t===-1/0)return Object(s.a)(Object(v.a)(Object(i.a)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return Object(h.a)(Object(v.a)(Object(p.a)(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}var g=Object(c.b)({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=m(e=Object(r.a)(e,"x","norm"),t,n),s=u.shape;if(i){var c=Object(a.I)(n,e.shape);s=o.e(u.shape,c)}return Object(f.a)(u,s)}})},function(e,t,n){"use strict";var r=n(921);t.a=r.a},function(e,t,n){"use strict";var r=n(663),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||a}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var a=h(n);a&&a!==p&&e(t,a,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!i[g]&&(!r||!r[g])&&(!v||!v[g])&&(!u||!u[g])){var b=d(n,g);try{c(t,g,b)}catch(y){}}}}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(10),i=n(23),o=n(56),u=n(13),s=n(21);var c=Object(u.b)({conv2DBackpropInput_:function(e,t,n,u,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",f=arguments.length>6?arguments[6]:void 0;i.b(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var d=e,h=t,p=!1;3===t.rank&&(p=!0,h=Object(s.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),d=[1,e[0],e[1],e[2]]),i.b(4===d.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(d.length,".")})),i.b(4===h.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(h.rank)})),i.b(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var v="NHWC"===l?d[3]:d[1],m="NHWC"===l?h.shape[3]:h.shape[1];i.b(v===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(v,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),i.b(m===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(m,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),o.a("conv2dDerInput",c,f);var g={dy:h,filter:n},b={strides:u,pad:c,dataFormat:l,dimRoundingMode:f,inputShape:d},y=r.a.runKernel(a.F,g,b);return p?Object(s.a)(y,[y.shape[1],y.shape[2],y.shape[3]]):y}})},function(e,t,n){"use strict";n.r(t),n.d(t,"TEST_EPSILON_FLOAT16",(function(){return u})),n.d(t,"expectArraysClose",(function(){return s})),n.d(t,"testEpsilon",(function(){return c})),n.d(t,"expectPromiseToFail",(function(){return f})),n.d(t,"expectArraysEqual",(function(){return d})),n.d(t,"expectNumbersClose",(function(){return h})),n.d(t,"expectValuesInRange",(function(){return v})),n.d(t,"expectArrayBuffersEqual",(function(){return m})),n.d(t,"encodeStrings",(function(){return g}));var r=n(14),a=n(9),i=n(23),o=n(27),u=.1;function s(e,t,n){return null==n&&(n=c()),l(e,t,(function(e,t){return p(e,t,n)}))}function c(){return 32===r.a.backend.floatPrecision()?.001:u}function l(e,t,n){var r=!0;if((Object(i.A)(e)||Object(i.A)(t))&&(r=!1),Object(i.A)(e)&&Object(i.A)(t)&&(r=!0),r){var o=e.constructor.name,u=t.constructor.name;if(o!==u)throw new Error("Arrays are of different type. Actual: ".concat(o,". ")+"Expected: ".concat(u))}if(Array.isArray(e)&&Array.isArray(t)){var s=Object(a.c)(e),c=Object(a.c)(t);if(!Object(i.a)(s,c))throw new Error("Arrays have different shapes. "+"Actual: [".concat(s,"]. Expected: [").concat(c,"]"))}var l=Object(i.A)(e)?e:Object(i.m)(e),f=Object(i.A)(t)?t:Object(i.m)(t);if(l.length!==f.length)throw new Error("Arrays have different lengths actual: ".concat(l.length," vs ")+"expected: ".concat(f.length,".\n")+"Actual:   ".concat(l,".\n")+"Expected: ".concat(f,"."));for(var d=0;d<f.length;++d){var h=l[d],p=f[d];if(!n(h,p))throw new Error("Arrays differ: actual[".concat(d,"] = ").concat(h,", expected[").concat(d,"] = ").concat(p,".\n")+"Actual:   ".concat(l,".\n")+"Expected: ".concat(f,"."))}}function f(e,t){e().then((function(){return t.fail()}),(function(){return t()}))}function d(e,t){var n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return Object(i.z)(e)||Object(i.z)(e[0])||Object(i.z)(t)||Object(i.z)(t[0])?l(e,n,(function(e,t){return e==t})):l(e,t,(function(e,t){return p(e,t,0)}))}function h(e,t,n){if(null==n&&(n=c()),!p(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t))}function p(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function v(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:".concat(e[r]," low: ").concat(t,", high: ").concat(n))}function m(e,t){var n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error("Expected ArrayBuffer to be of length "+"".concat(r.length,", but it was ").concat(n.length));for(var a=0;a<r.length;a++)if(n[a]!==r[a])throw new Error("Expected ArrayBuffer value at ".concat(a," to be ")+"".concat(r[a]," but got ").concat(n[a]," instead"))}function g(e){for(var t=0;t<e.length;t++){var n=e[t];Array.isArray(n)?g(n):e[t]=Object(o.encodeString)(n)}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(368),a=n(367),i=n(199),o=n(369);function u(e){return Object(r.a)(e)||Object(a.a)(e)||Object(i.a)(e)||Object(o.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(10),i=n(23),o=n(56),u=n(13),s=n(21);var c=Object(u.b)({conv2DBackpropFilter_:function(e,t,n,u,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",f=arguments.length>6?arguments[6]:void 0,d=e;3===e.rank&&(d=Object(s.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var h=t;3===h.rank&&(h=Object(s.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),i.b(4===d.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(d.shape,".")})),i.b(4===h.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(h.shape,".")})),i.b(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var p="NHWC"===l?d.shape[3]:d.shape[1],v="NHWC"===l?h.shape[3]:h.shape[1];i.b(p===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(p,") must ")+"match input depth in filter (".concat(n[2],".")})),i.b(v===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(v,") must ")+"match output depth for filter (".concat(n[3],").")})),o.a("conv2dDerFilter",c,f);var m={x:d,dy:h},g={strides:u,pad:c,dataFormat:l,dimRoundingMode:f,filterShape:n};return r.a.runKernel(a.E,m,g)}})},function(e,t,n){"use strict";var r=n(1),a=r.createContext();t.a=a},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"}),"Label");t.default=o},function(e,t,n){"use strict";t.a=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},function(e,t,n){"use strict";var r=n(1),a=n.n(r);t.a=a.a.createContext(null)},function(e,t,n){"use strict";n.d(t,"b",(function(){return K}));var r=n(15),a=n(44),i=n(168);var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),a=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?Object(i.a)(t,r[n](e)):t}),{})};return a.propTypes={},a.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),a},u=n(115),s=n(105);function c(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var l=Object(a.a)({prop:"border",themeKey:"borders",transform:c}),f=Object(a.a)({prop:"borderTop",themeKey:"borders",transform:c}),d=Object(a.a)({prop:"borderRight",themeKey:"borders",transform:c}),h=Object(a.a)({prop:"borderBottom",themeKey:"borders",transform:c}),p=Object(a.a)({prop:"borderLeft",themeKey:"borders",transform:c}),v=Object(a.a)({prop:"borderColor",themeKey:"palette"}),m=Object(a.a)({prop:"borderTopColor",themeKey:"palette"}),g=Object(a.a)({prop:"borderRightColor",themeKey:"palette"}),b=Object(a.a)({prop:"borderBottomColor",themeKey:"palette"}),y=Object(a.a)({prop:"borderLeftColor",themeKey:"palette"}),x=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Object(u.b)(e.theme,"shape.borderRadius",4,"borderRadius");return Object(s.b)(e,e.borderRadius,(function(e){return{borderRadius:Object(u.d)(t,e)}}))}return null};x.propTypes={},x.filterProps=["borderRadius"];var w=o(l,f,d,h,p,v,m,g,b,y,x),O=o(Object(a.a)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Object(a.a)({prop:"display"}),Object(a.a)({prop:"overflow"}),Object(a.a)({prop:"textOverflow"}),Object(a.a)({prop:"visibility"}),Object(a.a)({prop:"whiteSpace"})),k=o(Object(a.a)({prop:"flexBasis"}),Object(a.a)({prop:"flexDirection"}),Object(a.a)({prop:"flexWrap"}),Object(a.a)({prop:"justifyContent"}),Object(a.a)({prop:"alignItems"}),Object(a.a)({prop:"alignContent"}),Object(a.a)({prop:"order"}),Object(a.a)({prop:"flex"}),Object(a.a)({prop:"flexGrow"}),Object(a.a)({prop:"flexShrink"}),Object(a.a)({prop:"alignSelf"}),Object(a.a)({prop:"justifyItems"}),Object(a.a)({prop:"justifySelf"})),j=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Object(u.b)(e.theme,"spacing",8,"gap");return Object(s.b)(e,e.gap,(function(e){return{gap:Object(u.d)(t,e)}}))}return null};j.propTypes={},j.filterProps=["gap"];var _=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Object(u.b)(e.theme,"spacing",8,"columnGap");return Object(s.b)(e,e.columnGap,(function(e){return{columnGap:Object(u.d)(t,e)}}))}return null};_.propTypes={},_.filterProps=["columnGap"];var S=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Object(u.b)(e.theme,"spacing",8,"rowGap");return Object(s.b)(e,e.rowGap,(function(e){return{rowGap:Object(u.d)(t,e)}}))}return null};S.propTypes={},S.filterProps=["rowGap"];var E=o(j,_,S,Object(a.a)({prop:"gridColumn"}),Object(a.a)({prop:"gridRow"}),Object(a.a)({prop:"gridAutoFlow"}),Object(a.a)({prop:"gridAutoColumns"}),Object(a.a)({prop:"gridAutoRows"}),Object(a.a)({prop:"gridTemplateColumns"}),Object(a.a)({prop:"gridTemplateRows"}),Object(a.a)({prop:"gridTemplateAreas"}),Object(a.a)({prop:"gridArea"})),A=o(Object(a.a)({prop:"position"}),Object(a.a)({prop:"zIndex",themeKey:"zIndex"}),Object(a.a)({prop:"top"}),Object(a.a)({prop:"right"}),Object(a.a)({prop:"bottom"}),Object(a.a)({prop:"left"})),C=o(Object(a.a)({prop:"color",themeKey:"palette"}),Object(a.a)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),Object(a.a)({prop:"backgroundColor",themeKey:"palette"})),N=Object(a.a)({prop:"boxShadow",themeKey:"shadows"});function T(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var D=Object(a.a)({prop:"width",transform:T}),I=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Object(s.b)(e,e.maxWidth,(function(t){var n,r,a;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(a=r.values)?void 0:a[t])||s.e[t]||T(t)}}))}return null};I.filterProps=["maxWidth"];var M=Object(a.a)({prop:"minWidth",transform:T}),F=Object(a.a)({prop:"height",transform:T}),R=Object(a.a)({prop:"maxHeight",transform:T}),P=Object(a.a)({prop:"minHeight",transform:T}),z=(Object(a.a)({prop:"size",cssProperty:"width",transform:T}),Object(a.a)({prop:"size",cssProperty:"height",transform:T}),o(D,I,M,F,R,P,Object(a.a)({prop:"boxSizing"}))),B=Object(a.a)({prop:"fontFamily",themeKey:"typography"}),L=Object(a.a)({prop:"fontSize",themeKey:"typography"}),U=Object(a.a)({prop:"fontStyle",themeKey:"typography"}),W=Object(a.a)({prop:"fontWeight",themeKey:"typography"}),V=Object(a.a)({prop:"letterSpacing"}),H=Object(a.a)({prop:"lineHeight"}),G=Object(a.a)({prop:"textAlign"}),q=o(Object(a.a)({prop:"typography",cssProperty:!1,themeKey:"typography"}),B,L,U,W,V,H,G),X={borders:w.filterProps,display:O.filterProps,flexbox:k.filterProps,grid:E.filterProps,positions:A.filterProps,palette:C.filterProps,shadows:N.filterProps,sizing:z.filterProps,spacing:u.c.filterProps,typography:q.filterProps},Y={borders:w,display:O,flexbox:k,grid:E,positions:A,palette:C,shadows:N,sizing:z,spacing:u.c,typography:q},K=Object.keys(X).reduce((function(e,t){return X[t].forEach((function(n){e[n]=Y[t]})),e}),{});t.a=function(e,t,n){var a,i=(a={},Object(r.a)(a,e,t),Object(r.a)(a,"theme",n),a),o=K[e];return o?o(i):Object(r.a)({},e,t)}},function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(a){r[a]=e[a].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}n.d(t,"a",(function(){return r}))},,,,,function(e,t,n){var r=n(484),a=n(684),i=n(485);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";(function(e){n(14);var t=n(329),r=n(52),a=Object(r.c)();a.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),a.registerFlag("IS_BROWSER",(function(){return t.isBrowser()})),a.registerFlag("IS_NODE",(function(){return"undefined"!==typeof e&&"undefined"!==typeof e.versions&&"undefined"!==typeof e.versions.node})),a.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),a.registerFlag("PROD",(function(){return!1})),a.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return a.getBool("DEBUG")})),a.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),a.registerFlag("IS_TEST",(function(){return!1})),a.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),a.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1}))}).call(this,n(232))},function(e,t,n){var r=n(155).Symbol;e.exports=r},function(e,t,n){var r=n(529),a=n(747),i=n(311);e.exports=function(e){return i(e)?r(e):a(e)}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=t.merge=t.$=t.style=t.presets=t.keyframes=t.fontFace=t.insertGlobal=t.insertRule=t.plugins=t.styleSheet=void 0,t.speedy=function(e){return f.speedy(e)},t.simulations=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];v=!!e},t.simulate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!(t=(0,o.default)(t)))return{};if(!v)return m||(console.warn("can't simulate without once calling simulations(true)"),m=!0),g||(console.warn("don't use simulation outside dev"),g=!0),{};return t.reduce((function(e,t){return e["data-simulate-"+y(t)]="",e}),{})},t.cssLabels=function(e){b=!!e},t.isLikeRule=w,t.idFor=O,t.css=H,t.rehydrate=function(e){(0,r.default)(C,e.reduce((function(e,t){return e[t]=!0,e}),{}))},t.flush=function(){C=f.inserted={},N=f.registered={},D={},f.flush(),f.inject()},t.select=q,t.parent=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H(l({},e+" &",n))},t.media=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H(l({},"@media "+e,n))},t.pseudo=X,t.active=function(e){return X(":active",e)},t.any=function(e){return X(":any",e)},t.checked=function(e){return X(":checked",e)},t.disabled=function(e){return X(":disabled",e)},t.empty=function(e){return X(":empty",e)},t.enabled=function(e){return X(":enabled",e)},t._default=function(e){return X(":default",e)},t.first=function(e){return X(":first",e)},t.firstChild=function(e){return X(":first-child",e)},t.firstOfType=function(e){return X(":first-of-type",e)},t.fullscreen=function(e){return X(":fullscreen",e)},t.focus=function(e){return X(":focus",e)},t.hover=function(e){return X(":hover",e)},t.indeterminate=function(e){return X(":indeterminate",e)},t.inRange=function(e){return X(":in-range",e)},t.invalid=function(e){return X(":invalid",e)},t.lastChild=function(e){return X(":last-child",e)},t.lastOfType=function(e){return X(":last-of-type",e)},t.left=function(e){return X(":left",e)},t.link=function(e){return X(":link",e)},t.onlyChild=function(e){return X(":only-child",e)},t.onlyOfType=function(e){return X(":only-of-type",e)},t.optional=function(e){return X(":optional",e)},t.outOfRange=function(e){return X(":out-of-range",e)},t.readOnly=function(e){return X(":read-only",e)},t.readWrite=function(e){return X(":read-write",e)},t.required=function(e){return X(":required",e)},t.right=function(e){return X(":right",e)},t.root=function(e){return X(":root",e)},t.scope=function(e){return X(":scope",e)},t.target=function(e){return X(":target",e)},t.valid=function(e){return X(":valid",e)},t.visited=function(e){return X(":visited",e)},t.dir=function(e,t){return X(":dir("+e+")",t)},t.lang=function(e,t){return X(":lang("+e+")",t)},t.not=function(e,t){var n=e.split(",").map((function(e){return e.trim()})).map((function(e){return":not("+e+")"}));if(1===n.length)return X(":not("+e+")",t);return q(n.join(""),t)},t.nthChild=function(e,t){return X(":nth-child("+e+")",t)},t.nthLastChild=function(e,t){return X(":nth-last-child("+e+")",t)},t.nthLastOfType=function(e,t){return X(":nth-last-of-type("+e+")",t)},t.nthOfType=function(e,t){return X(":nth-of-type("+e+")",t)},t.after=function(e){return X("::after",e)},t.before=function(e){return X("::before",e)},t.firstLetter=function(e){return X("::first-letter",e)},t.firstLine=function(e){return X("::first-line",e)},t.selection=function(e){return X("::selection",e)},t.backdrop=function(e){return X("::backdrop",e)},t.placeholder=function(e){return H({"::placeholder":e})},t.cssFor=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(t=(0,o.default)(t))?t.map((function(e){var t={label:[]};return z(t,{src:e}),A(x(t),E(t)).join("")})).join(""):""},t.attribsFor=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(t=(0,o.default)(t))?t.map((function(e){O(e);var t=Object.keys(e)[0];return t+'="'+(e[t]||"")+'"'})).join(" "):"";return r};var r=c(n(229)),a=n(873),i=n(554),o=c(n(882)),u=n(883),s=c(n(900));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=t.styleSheet=new a.StyleSheet;f.inject();var d=t.plugins=f.plugins=new u.PluginSet([u.prefixes,u.contentWrap,u.fallbacks]);d.media=new u.PluginSet,d.fontFace=new u.PluginSet,d.keyframes=new u.PluginSet([u.prefixes,u.fallbacks]);var h=!1,p="undefined"!==typeof window,v=h,m=!1,g=!1;var b=h;function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.toLowerCase().replace(/[^a-z0-9]/g,t)}function x(e){var t=JSON.stringify(e),n=(0,s.default)(t).toString(36);return e.label&&e.label.length,n}function w(e){var t=Object.keys(e).filter((function(e){return"toString"!==e}));return 1===t.length&&!!/data\-css\-([a-zA-Z0-9\-_]+)/.exec(t[0])}function O(e){var t=Object.keys(e).filter((function(e){return"toString"!==e}));if(1!==t.length)throw new Error("not a rule");var n=/data\-css\-([a-zA-Z0-9\-_]+)/.exec(t[0]);if(!n)throw new Error("not a rule");return n[1]}var k=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function j(e){if(-1===e.indexOf(","))return[e];for(var t,n=[],r=[],a=0;t=k.exec(e);)switch(t[0]){case"(":a++;break;case")":a--;break;case",":if(a)break;n.push(t.index)}for(t=n.length;t--;)r.unshift(e.slice(n[t]+1)),e=e.slice(0,n[t]);return r.unshift(e),r}function _(e,t){if(!e)return t.replace(/\&/g,"");if(!t)return".css-"+e+",[data-css-"+e+"]";var n=j(t).map((function(t){return t.indexOf("&")>=0?[t.replace(/\&/gm,".css-"+e),t.replace(/\&/gm,"[data-css-"+e+"]")].join(","):".css-"+e+t+",[data-css-"+e+"]"+t})).join(",");return v&&/^\&\:/.exec(t)&&!/\s/.exec(t)&&(n+=",.css-"+e+"[data-simulate-"+y(t)+"],[data-css-"+e+"][data-simulate-"+y(t)+"]"),n}function S(e){var t=e.selector,n=e.style,r=d.transform({selector:t,style:n});return r.selector+"{"+(0,i.createMarkupForStyles)(r.style)+"}"}function E(e){var t=void 0,n=void 0,r=void 0,a=void 0;return Object.keys(e).forEach((function(i){i.indexOf("&")>=0?(n=n||{})[i]=e[i]:0===i.indexOf("@media")?(r=r||{})[i]=E(e[i]):0===i.indexOf("@supports")?(a=a||{})[i]=E(e[i]):"label"===i?e.label.length>0&&((t=t||{}).label=b?e.label.join("."):""):(t=t||{})[i]=e[i]})),{plain:t,selects:n,medias:r,supports:a}}function A(e,t){var n=[],r=t.plain,a=t.selects,i=t.medias,o=t.supports;return r&&n.push(S({style:r,selector:_(e)})),a&&Object.keys(a).forEach((function(t){return n.push(S({style:a[t],selector:_(e,t)}))})),i&&Object.keys(i).forEach((function(t){return n.push(t+"{"+A(e,i[t]).join("")+"}")})),o&&Object.keys(o).forEach((function(t){return n.push(t+"{"+A(e,o[t]).join("")+"}")})),n}var C=f.inserted={};var N=f.registered={};function T(e){N[e.id]||(N[e.id]=e)}var D={};function I(e){if(T(e),function(e){if(!C[e.id]){C[e.id]=!0;var t=E(e.style),n=A(e.id,t);C[e.id]=!!p||n,n.forEach((function(e){return f.insert(e)}))}}(e),D[e.id])return D[e.id];var t=l({},"data-css-"+e.id,b&&e.label||"");return Object.defineProperty(t,"toString",{enumerable:!1,value:function(){return"css-"+e.id}}),D[e.id]=t,t}function M(e,t){var n=j(e).map((function(e){return e.indexOf("&")>=0?e:"&"+e})),r=j(t).map((function(e){return e.indexOf("&")>=0?e:"&"+e}));return r.reduce((function(e,t){return e.concat(n.map((function(e){return t.replace(/\&/g,e)})))}),[]).join(",")}function F(e,t){return e?"@supports "+e.substring(9)+" and "+t.substring(9):t}function R(e){for(var t=[],n=0;n<e.length;n++)t=Array.isArray(e[n])?t.concat(R(e[n])):t.concat(e[n]);return t}var P={"::placeholder":["::-webkit-input-placeholder","::-moz-placeholder","::-ms-input-placeholder"],":fullscreen":[":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"]};function z(e,t){var n=t.selector,r=void 0===n?"":n,a=t.mq,i=void 0===a?"":a,u=t.supp,s=void 0===u?"":u,c=t.src,l=void 0===c?{}:c;Array.isArray(l)||(l=[l]),(l=R(l)).forEach((function(t){if(w(t)){var n=function(e){if(w(e)){var t=N[O(e)];if(null==t)throw new Error("[glamor] an unexpected rule cache miss occurred. This is probably a sign of multiple glamor instances in your app. See https://github.com/threepointone/glamor/issues/79");return t}return e}(t);if("css"!==n.type)throw new Error("cannot merge this rule");t=n.style}(t=(0,o.default)(t))&&t.composes&&z(e,{selector:r,mq:i,supp:s,src:t.composes}),Object.keys(t||{}).forEach((function(n){if(function(e){for(var t=[":",".","[",">"," "],n=!1,r=e.charAt(0),a=0;a<t.length;a++)if(r===t[a]){n=!0;break}return n||e.indexOf("&")>=0}(n))P[n]&&P[n].forEach((function(a){return z(e,{selector:M(r,a),mq:i,supp:s,src:t[n]})})),z(e,{selector:M(r,n),mq:i,supp:s,src:t[n]});else if(function(e){return 0===e.indexOf("@media")}(n))z(e,{selector:r,mq:(o=i,u=n,o?"@media "+o.substring(6)+" and "+u.substring(6):u),supp:s,src:t[n]});else if(function(e){return 0===e.indexOf("@supports")}(n))z(e,{selector:r,mq:i,supp:F(s,n),src:t[n]});else if("composes"===n);else{var a=e;s&&(a[s]=a[s]||{},a=a[s]),i&&(a[i]=a[i]||{},a=a[i]),r&&(a[r]=a[r]||{},a=a[r]),"label"===n?b&&(e.label=e.label.concat(t.label)):a[n]=t[n]}var o,u}))}))}function B(e){var t={label:[]};return z(t,{src:e}),I({id:x(t),style:t,label:b?t.label.join("."):"",type:"css"})}var L={};Object.defineProperty(L,"toString",{enumerable:!1,value:function(){return"css-nil"}});var U="undefined"!==typeof WeakMap?[L,new WeakMap,new WeakMap,new WeakMap]:[L];var W,V="undefined"!==typeof WeakMap?(W=B,function(e){if(U[e.length]){for(var t=U[e.length],n=0;n<e.length-1;)t.has(e[n])||t.set(e[n],new WeakMap),t=t.get(e[n]),n++;if(t.has(e[e.length-1])){var r=t.get(e[n]);if(N[r.toString().substring(4)])return r}}var a=W(e);if(U[e.length]){for(var i=0,o=U[e.length];i<e.length-1;)o=o.get(e[i]),i++;try{o.set(e[i],a)}catch(u){}}return a}):B;function H(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0]&&t[0].length&&t[0].raw)throw new Error("you forgot to include glamor/babel in your babel plugins.");return(t=(0,o.default)(t))?V(t):L}H.insert=function(e){var t={id:x(e),css:e,type:"raw"};T(t),C[t.id]||(f.insert(t.css),C[t.id]=!!p||[t.css])};t.insertRule=H.insert;H.global=function(e,t){if(t=(0,o.default)(t))return H.insert(S({selector:e,style:t}))};t.insertGlobal=H.global;H.keyframes=function(e,t){t||(t=e,e="animation");var n={id:x({name:e,kfs:t=(0,o.default)(t)||{}}),type:"keyframes",name:e,keyframes:t};return T(n),function(e){if(!C[e.id]){var t=Object.keys(e.keyframes).map((function(t){var n=d.keyframes.transform({id:e.id,name:t,style:e.keyframes[t]});return n.name+"{"+(0,i.createMarkupForStyles)(n.style)+"}"})).join(""),n=["-webkit-","-moz-","-o-",""].map((function(n){return"@"+n+"keyframes "+e.name+"_"+e.id+"{"+t+"}"}));n.forEach((function(e){return f.insert(e)})),C[e.id]=!!p||n}}(n),e+"_"+n.id},H.fontFace=function(e){var t={id:x(e=(0,o.default)(e)),type:"font-face",font:e};return T(t),function(e){if(!C[e.id]){var t="@font-face{"+(0,i.createMarkupForStyles)(e.font)+"}";f.insert(t),C[e.id]=!!p||[t]}}(t),e.fontFamily};t.fontFace=H.fontFace,t.keyframes=H.keyframes;t.presets={mobile:"(min-width: 400px)",Mobile:"@media (min-width: 400px)",phablet:"(min-width: 550px)",Phablet:"@media (min-width: 550px)",tablet:"(min-width: 750px)",Tablet:"@media (min-width: 750px)",desktop:"(min-width: 1000px)",Desktop:"@media (min-width: 1000px)",hd:"(min-width: 1200px)",Hd:"@media (min-width: 1200px)"};var G=t.style=H;function q(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?H(l({},e,n)):G(n)}t.$=q;t.merge=H,t.compose=H;function X(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H(l({},e,n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&r.test(e)};var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),a=n(5),i=n(53),o=n(87),u=n(144),s=function(){function e(t){Object(r.a)(this,e);var n,a,i,s,c=(t=o.a.checkMatrix(t)).clone(),l=t.rows,f=t.columns,d=new Float64Array(f);for(i=0;i<f;i++){var h=0;for(n=i;n<l;n++)h=Object(u.a)(h,c.get(n,i));if(0!==h){for(c.get(i,i)<0&&(h=-h),n=i;n<l;n++)c.set(n,i,c.get(n,i)/h);for(c.set(i,i,c.get(i,i)+1),a=i+1;a<f;a++){for(s=0,n=i;n<l;n++)s+=c.get(n,i)*c.get(n,a);for(s=-s/c.get(i,i),n=i;n<l;n++)c.set(n,a,c.get(n,a)+s*c.get(n,i))}}d[i]=-h}this.QR=c,this.Rdiag=d}return Object(a.a)(e,[{key:"solve",value:function(e){e=i.b.checkMatrix(e);var t=this.QR,n=t.rows;if(e.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var r,a,o,u,s=e.columns,c=e.clone(),l=t.columns;for(o=0;o<l;o++)for(a=0;a<s;a++){for(u=0,r=o;r<n;r++)u+=t.get(r,o)*c.get(r,a);for(u=-u/t.get(o,o),r=o;r<n;r++)c.set(r,a,c.get(r,a)+u*t.get(r,o))}for(o=l-1;o>=0;o--){for(a=0;a<s;a++)c.set(o,a,c.get(o,a)/this.Rdiag[o]);for(r=0;r<o;r++)for(a=0;a<s;a++)c.set(r,a,c.get(r,a)-c.get(o,a)*t.get(r,o))}return c.subMatrix(0,l-1,0,s-1)}},{key:"isFullRank",value:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var e,t,n=this.QR,r=n.columns,a=new i.b(r,r);for(e=0;e<r;e++)for(t=0;t<r;t++)e<t?a.set(e,t,n.get(e,t)):e===t?a.set(e,t,this.Rdiag[e]):a.set(e,t,0);return a}},{key:"orthogonalMatrix",get:function(){var e,t,n,r,a=this.QR,o=a.rows,u=a.columns,s=new i.b(o,u);for(n=u-1;n>=0;n--){for(e=0;e<o;e++)s.set(e,n,0);for(s.set(n,n,1),t=n;t<u;t++)if(0!==a.get(n,n)){for(r=0,e=n;e<o;e++)r+=a.get(e,n)*s.get(e,t);for(r=-r/a.get(n,n),e=n;e<o;e++)s.set(e,t,s.get(e,t)+r*a.get(e,n))}}return s}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(4),a=n(5),i=function(){function e(t,n){Object(r.a)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return Object(a.a)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),o=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"refCount",value:function(e){return u("refCount")}},{key:"incRef",value:function(e){return u("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return u("time")}},{key:"read",value:function(e){return u("read")}},{key:"readSync",value:function(e){return u("readSync")}},{key:"readToGPU",value:function(e,t){return u("readToGPU")}},{key:"numDataIds",value:function(){return u("numDataIds")}},{key:"disposeData",value:function(e,t){return u("disposeData")}},{key:"write",value:function(e,t,n){return u("write")}},{key:"move",value:function(e,t,n,r,a){return u("move")}},{key:"memory",value:function(){return u("memory")}},{key:"floatPrecision",value:function(){return u("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return u("dispose")}}]),e}();function u(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";t.a=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({tanh_:function(e){var t={x:Object(i.a)(e,"x","tanh","float32")};return r.a.runKernel(a.bd,t)}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=1.7580993408473768,a=1.0507009873554805},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n(288);var r=n(1),a=n(289),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=Object(a.a)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),u=n(11),s=n(99),c=n(152),l=n(182),f=o,d=function(e){return"theme"!==e},h=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?f:d},p=function(e,t,n){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},v=function(){return null},m=function e(t,n){var a,i,o=t.__emotion_real===t,f=o&&t.__emotion_base||t;void 0!==n&&(a=n.label,i=n.target);var d=p(t,n,o),m=d||h(f),g=!m("as");return function(){var b=arguments,y=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==a&&y.push("label:"+a+";"),null==b[0]||void 0===b[0].raw)y.push.apply(y,b);else{0,y.push(b[0][0]);for(var x=b.length,w=1;w<x;w++)y.push(b[w],b[0][w])}var O=Object(s.f)((function(e,t,n){var a=g&&e.as||f,o="",u=[],p=e;if(null==e.theme){for(var b in p={},e)p[b]=e[b];p.theme=Object(r.useContext)(s.c)}"string"===typeof e.className?o=Object(c.a)(t.registered,u,e.className):null!=e.className&&(o=e.className+" ");var x=Object(l.a)(y.concat(u),t.registered,p);Object(c.b)(t,x,"string"===typeof a);o+=t.key+"-"+x.name,void 0!==i&&(o+=" "+i);var w=g&&void 0===d?h(a):m,O={};for(var k in e)g&&"as"===k||w(k)&&(O[k]=e[k]);O.className=o,O.ref=n;var j=Object(r.createElement)(a,O),_=Object(r.createElement)(v,null);return Object(r.createElement)(r.Fragment,null,_,j)}));return O.displayName=void 0!==a?a:"Styled("+("string"===typeof f?f:f.displayName||f.name||"Component")+")",O.defaultProps=t.defaultProps,O.__emotion_real=O,O.__emotion_base=f,O.__emotion_styles=y,O.__emotion_forwardProp=d,Object.defineProperty(O,"toString",{value:function(){return"."+i}}),O.withComponent=function(t,r){return e(t,Object(u.a)({},n,r,{shouldForwardProp:p(O,r,!0)})).apply(void 0,y)},O}},g=m.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var b=g;function y(e,t){return b(e,t)}},function(e,t,n){"use strict";var r=n(377),a="-ms-",i="-moz-",o="-webkit-",u="comm",s="rule",c="decl",l="@keyframes",f=Math.abs,d=String.fromCharCode,h=Object.assign;function p(e){return e.trim()}function v(e,t,n){return e.replace(t,n)}function m(e,t){return e.indexOf(t)}function g(e,t){return 0|e.charCodeAt(t)}function b(e,t,n){return e.slice(t,n)}function y(e){return e.length}function x(e){return e.length}function w(e,t){return t.push(e),e}function O(e,t){return e.map(t).join("")}var k=1,j=1,_=0,S=0,E=0,A="";function C(e,t,n,r,a,i,o){return{value:e,root:t,parent:n,type:r,props:a,children:i,line:k,column:j,length:o,return:""}}function N(e,t){return h(C("",null,null,"",null,null,0),e,{length:-e.length},t)}function T(){return E=S>0?g(A,--S):0,j--,10===E&&(j=1,k--),E}function D(){return E=S<_?g(A,S++):0,j++,10===E&&(j=1,k++),E}function I(){return g(A,S)}function M(){return S}function F(e,t){return b(A,e,t)}function R(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function P(e){return k=j=1,_=y(A=e),S=0,[]}function z(e){return A="",e}function B(e){return p(F(S-1,W(91===e?e+2:40===e?e+1:e)))}function L(e){for(;(E=I())&&E<33;)D();return R(e)>2||R(E)>3?"":" "}function U(e,t){for(;--t&&D()&&!(E<48||E>102||E>57&&E<65||E>70&&E<97););return F(e,M()+(t<6&&32==I()&&32==D()))}function W(e){for(;D();)switch(E){case e:return S;case 34:case 39:34!==e&&39!==e&&W(E);break;case 40:41===e&&W(e);break;case 92:D()}return S}function V(e,t){for(;D()&&e+E!==57&&(e+E!==84||47!==I()););return"/*"+F(t,S-1)+"*"+d(47===e?e:D())}function H(e){for(;!R(I());)D();return F(e,S)}function G(e){return z(q("",null,null,null,[""],e=P(e),0,[0],e))}function q(e,t,n,r,a,i,o,u,s){for(var c=0,l=0,f=o,h=0,p=0,g=0,b=1,x=1,O=1,k=0,j="",_=a,S=i,E=r,A=j;x;)switch(g=k,k=D()){case 40:if(108!=g&&58==A.charCodeAt(f-1)){-1!=m(A+=v(B(k),"&","&\f"),"&\f")&&(O=-1);break}case 34:case 39:case 91:A+=B(k);break;case 9:case 10:case 13:case 32:A+=L(g);break;case 92:A+=U(M()-1,7);continue;case 47:switch(I()){case 42:case 47:w(Y(V(D(),M()),t,n),s);break;default:A+="/"}break;case 123*b:u[c++]=y(A)*O;case 125*b:case 59:case 0:switch(k){case 0:case 125:x=0;case 59+l:p>0&&y(A)-f&&w(p>32?K(A+";",r,n,f-1):K(v(A," ","")+";",r,n,f-2),s);break;case 59:A+=";";default:if(w(E=X(A,t,n,c,l,a,u,j,_=[],S=[],f),i),123===k)if(0===l)q(A,t,E,E,_,i,f,u,S);else switch(h){case 100:case 109:case 115:q(e,E,E,r&&w(X(e,E,E,0,0,a,u,j,a,_=[],f),S),a,S,f,u,r?_:S);break;default:q(A,E,E,E,[""],S,0,u,S)}}c=l=p=0,b=O=1,j=A="",f=o;break;case 58:f=1+y(A),p=g;default:if(b<1)if(123==k)--b;else if(125==k&&0==b++&&125==T())continue;switch(A+=d(k),k*b){case 38:O=l>0?1:(A+="\f",-1);break;case 44:u[c++]=(y(A)-1)*O,O=1;break;case 64:45===I()&&(A+=B(D())),h=I(),l=f=y(j=A+=H(M())),k++;break;case 45:45===g&&2==y(A)&&(b=0)}}return i}function X(e,t,n,r,a,i,o,u,c,l,d){for(var h=a-1,m=0===a?i:[""],g=x(m),y=0,w=0,O=0;y<r;++y)for(var k=0,j=b(e,h+1,h=f(w=o[y])),_=e;k<g;++k)(_=p(w>0?m[k]+" "+j:v(j,/&\f/g,m[k])))&&(c[O++]=_);return C(e,t,n,0===a?s:u,c,l,d)}function Y(e,t,n){return C(e,t,n,u,d(E),b(e,2,-2),0)}function K(e,t,n,r){return C(e,t,n,c,b(e,0,r),b(e,r+1,-1),r)}function $(e,t){switch(function(e,t){return(((t<<2^g(e,0))<<2^g(e,1))<<2^g(e,2))<<2^g(e,3)}(e,t)){case 5103:return o+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return o+e+i+e+a+e+e;case 6828:case 4268:return o+e+a+e+e;case 6165:return o+e+a+"flex-"+e+e;case 5187:return o+e+v(e,/(\w+).+(:[^]+)/,o+"box-$1$2"+a+"flex-$1$2")+e;case 5443:return o+e+a+"flex-item-"+v(e,/flex-|-self/,"")+e;case 4675:return o+e+a+"flex-line-pack"+v(e,/align-content|flex-|-self/,"")+e;case 5548:return o+e+a+v(e,"shrink","negative")+e;case 5292:return o+e+a+v(e,"basis","preferred-size")+e;case 6060:return o+"box-"+v(e,"-grow","")+o+e+a+v(e,"grow","positive")+e;case 4554:return o+v(e,/([^-])(transform)/g,"$1"+o+"$2")+e;case 6187:return v(v(v(e,/(zoom-|grab)/,o+"$1"),/(image-set)/,o+"$1"),e,"")+e;case 5495:case 3959:return v(e,/(image-set\([^]*)/,o+"$1$`$1");case 4968:return v(v(e,/(.+:)(flex-)?(.*)/,o+"box-pack:$3"+a+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+o+e+e;case 4095:case 3583:case 4068:case 2532:return v(e,/(.+)-inline(.+)/,o+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(y(e)-1-t>6)switch(g(e,t+1)){case 109:if(45!==g(e,t+4))break;case 102:return v(e,/(.+:)(.+)-([^]+)/,"$1"+o+"$2-$3$1"+i+(108==g(e,t+3)?"$3":"$2-$3"))+e;case 115:return~m(e,"stretch")?$(v(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==g(e,t+1))break;case 6444:switch(g(e,y(e)-3-(~m(e,"!important")&&10))){case 107:return v(e,":",":"+o)+e;case 101:return v(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+o+(45===g(e,14)?"inline-":"")+"box$3$1"+o+"$2$3$1"+a+"$2box$3")+e}break;case 5936:switch(g(e,t+11)){case 114:return o+e+a+v(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return o+e+a+v(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return o+e+a+v(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return o+e+a+e+e}return e}function Z(e,t){for(var n="",r=x(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function J(e,t,n,r){switch(e.type){case"@import":case c:return e.return=e.return||e.value;case u:return"";case l:return e.return=e.value+"{"+Z(e.children,r)+"}";case s:e.value=e.props.join(",")}return y(n=Z(e.children,r))?e.return=e.value+"{"+n+"}":""}function Q(e){return function(t){t.root||(t=t.return)&&e(t)}}n(290),n(289);var ee=function(e,t,n){for(var r=0,a=0;r=a,a=I(),38===r&&12===a&&(t[n]=1),!R(a);)D();return F(e,S)},te=function(e,t){return z(function(e,t){var n=-1,r=44;do{switch(R(r)){case 0:38===r&&12===I()&&(t[n]=1),e[n]+=ee(S-1,t,n);break;case 2:e[n]+=B(r);break;case 4:if(44===r){e[++n]=58===I()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=d(r)}}while(r=D());return e}(P(e),t))},ne=new WeakMap,re=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ne.get(n))&&!r){ne.set(e,!0);for(var a=[],i=te(t,a),o=n.props,u=0,s=0;u<i.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=a[u]?i[u].replace(/&\f/g,o[c]):o[c]+" "+i[u]}}},ae=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ie=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case c:e.return=$(e.value,e.length);break;case l:return Z([N(e,{value:v(e.value,"@","@"+o)})],r);case s:if(e.length)return O(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Z([N(e,{props:[v(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Z([N(e,{props:[v(t,/:(plac\w+)/,":"+o+"input-$1")]}),N(e,{props:[v(t,/:(plac\w+)/,":-moz-$1")]}),N(e,{props:[v(t,/:(plac\w+)/,a+"input-$1")]})],r)}return""}))}}];t.a=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var a=e.stylisPlugins||ie;var i,o,u={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var c=[re,ae];var l,f=[J,Q((function(e){l.insert(e)}))],d=function(e){var t=x(e);return function(n,r,a,i){for(var o="",u=0;u<t;u++)o+=e[u](n,r,a,i)||"";return o}}(c.concat(a,f));o=function(e,t,n,r){l=n,Z(G(e?e+"{"+t.styles+"}":t.styles),d),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new r.a({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return h.sheet.hydrate(s),h}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){return"function"===typeof a?a(n,r,e):t(a)}}}}var a=r();a.withExtraArgument=r,t.a=a},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){(function(n){var r,a,i;a=[],r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,u=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(e,t,n){var u=o.URL||o.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?i(s):a(s.href)?r(e,t,n):i(s,s.target="_blank")):(s.href=u.createObjectURL(e),setTimeout((function(){u.revokeObjectURL(s.href)}),4e4),setTimeout((function(){i(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),n);else if(a(e))r(e,n,o);else{var u=document.createElement("a");u.href=e,u.target="_blank",setTimeout((function(){i(u)}))}}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var i="application/octet-stream"===e.type,s=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&s||u)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},l.readAsDataURL(e)}else{var f=o.URL||o.webkitURL,d=f.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout((function(){f.revokeObjectURL(d)}),4e4)}});o.saveAs=s.saveAs=s,e.exports=s},void 0===(i="function"===typeof r?r.apply(t,a):r)||(e.exports=i)}).call(this,n(116))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}},function(e,t,n){"use strict";(function(e,r){function a(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof e?e:0)}function i(e,t){return e.require(t)}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}))}).call(this,n(232),n(283)(e))},function(e,t,n){"use strict";var r=n(1),a="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.a=a},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){var r;!function(a){var i=/^\s+/,o=/\s+$/,u=0,s=a.round,c=a.min,l=a.max,f=a.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,u=null,s=null,f=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(o,"").toLowerCase();var t,n=!1;if(N[e])e=N[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=L.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=L.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=L.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=L.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=L.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=L.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=L.hex8.exec(e))return{r:F(t[1]),g:F(t[2]),b:F(t[3]),a:B(t[4]),format:n?"name":"hex8"};if(t=L.hex6.exec(e))return{r:F(t[1]),g:F(t[2]),b:F(t[3]),format:n?"name":"hex"};if(t=L.hex4.exec(e))return{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=L.hex3.exec(e))return{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(U(e.r)&&U(e.g)&&U(e.b)?(h=e.r,p=e.g,v=e.b,t={r:255*I(h,255),g:255*I(p,255),b:255*I(v,255)},f=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):U(e.h)&&U(e.s)&&U(e.v)?(r=P(e.s),u=P(e.v),t=function(e,t,n){e=6*I(e,360),t=I(t,100),n=I(n,100);var r=a.floor(e),i=e-r,o=n*(1-t),u=n*(1-i*t),s=n*(1-(1-i)*t),c=r%6;return{r:255*[n,u,o,o,s,n][c],g:255*[s,n,n,u,o,o][c],b:255*[o,o,s,n,n,u][c]}}(e.h,r,u),f=!0,d="hsv"):U(e.h)&&U(e.s)&&U(e.l)&&(r=P(e.s),s=P(e.l),t=function(e,t,n){var r,a,i;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=I(e,360),t=I(t,100),n=I(n,100),0===t)r=a=i=n;else{var u=n<.5?n*(1+t):n+t-n*t,s=2*n-u;r=o(s,u,e+1/3),a=o(s,u,e),i=o(s,u,e-1/3)}return{r:255*r,g:255*a,b:255*i}}(e.h,r,s),f=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));var h,p,v;return n=D(n),{ok:f,format:e.format||d,r:c(255,l(t.r,0)),g:c(255,l(t.g,0)),b:c(255,l(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=s(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=n.ok,this._tc_id=u++}function h(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var r,a,i=l(e,t,n),o=c(e,t,n),u=(i+o)/2;if(i==o)r=a=0;else{var s=i-o;switch(a=u>.5?s/(2-i-o):s/(i+o),i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:a,l:u}}function p(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var r,a,i=l(e,t,n),o=c(e,t,n),u=i,s=i-o;if(a=0===i?0:s/i,i==o)r=0;else{switch(i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:a,v:u}}function v(e,t,n,r){var a=[R(s(e).toString(16)),R(s(t).toString(16)),R(s(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function m(e,t,n,r){return[R(z(r)),R(s(e).toString(16)),R(s(t).toString(16)),R(s(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=M(n.s),d(n)}function b(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=M(n.s),d(n)}function y(e){return d(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=M(n.l),d(n)}function w(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=l(0,c(255,n.r-s(-t/100*255))),n.g=l(0,c(255,n.g-s(-t/100*255))),n.b=l(0,c(255,n.b-s(-t/100*255))),d(n)}function O(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=M(n.l),d(n)}function k(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function j(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function _(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function S(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function E(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function A(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),a=360/n,i=[d(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(d(r));return i}function C(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,a=n.s,i=n.v,o=[],u=1/t;t--;)o.push(d({h:r,s:a,v:i})),i=(i+u)%1;return o}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:a.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:a.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:a.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=D(e),this._roundA=s(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=s(360*e.h),n=s(100*e.s),r=s(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=s(360*e.h),n=s(100*e.s),r=s(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return v(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,a){var i=[R(s(e).toString(16)),R(s(t).toString(16)),R(s(n).toString(16)),R(z(r))];if(a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(100*I(this._r,255))+"%",g:s(100*I(this._g,255))+"%",b:s(100*I(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+s(100*I(this._r,255))+"%, "+s(100*I(this._g,255))+"%, "+s(100*I(this._b,255))+"%)":"rgba("+s(100*I(this._r,255))+"%, "+s(100*I(this._g,255))+"%, "+s(100*I(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(T[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var a=d(e);n="#"+m(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(j,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:P(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:f(),g:f(),b:f()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),a=d(t).toRgb(),i=n/100;return d({r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(a.max(n.getLuminance(),r.getLuminance())+.05)/(a.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,a,i=d.readability(e,t);switch(a=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7}return a},d.mostReadable=function(e,t,n){var r,a,i,o,u=null,s=0;a=(n=n||{}).includeFallbackColors,i=n.level,o=n.size;for(var c=0;c<t.length;c++)(r=d.readability(e,t[c]))>s&&(s=r,u=d(t[c]));return d.isReadable(e,u,{level:i,size:o})||!a?u:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var N=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},T=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(N);function D(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function I(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,l(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),a.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function M(e){return c(1,l(0,e))}function F(e){return parseInt(e,16)}function R(e){return 1==e.length?"0"+e:""+e}function P(e){return e<=1&&(e=100*e+"%"),e}function z(e){return a.round(255*parseFloat(e)).toString(16)}function B(e){return F(e)/255}var L=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function U(e){return!!L.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new i({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function i(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}a.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(11);function a(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?Object(r.a)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e&&a(e[r])?o[r]=i(e[r],t[r],n):o[r]=t[r])})),o}},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(28),u=n(978),s=n(274),c=n(25),l=n(32),f=n(29),d=n(184),h=n(209);function p(e){return Object(d.a)("MuiTypography",e)}Object(h.a)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var v=n(2),m=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=Object(c.a)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Object(f.a)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),b={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},x=i.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiTypography"}),i=function(e){return y[e]||e}(n.color),c=Object(u.a)(Object(a.a)({},n,{color:i})),d=c.align,h=void 0===d?"inherit":d,x=c.className,w=c.component,O=c.gutterBottom,k=void 0!==O&&O,j=c.noWrap,_=void 0!==j&&j,S=c.paragraph,E=void 0!==S&&S,A=c.variant,C=void 0===A?"body1":A,N=c.variantMapping,T=void 0===N?b:N,D=Object(r.a)(c,m),I=Object(a.a)({},c,{align:h,color:i,className:x,component:w,gutterBottom:k,noWrap:_,paragraph:E,variant:C,variantMapping:T}),M=w||(E?"p":T[C]||b[C])||"span",F=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,a=e.paragraph,i=e.variant,o=e.classes,u={root:["root",i,"inherit"!==e.align&&"align".concat(Object(f.a)(t)),n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return Object(s.a)(u,p,o)}(I);return Object(v.jsx)(g,Object(a.a)({as:M,ref:t,ownerState:I,className:Object(o.a)(F.root,x)},D))}));t.a=x},,,function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(691),a=n(692),i=n(418),o=n(693);e.exports=function(e){return r(e)||a(e)||i(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(534),a=n(422);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},function(e,t,n){var r=n(755),a=n(756),i=n(757),o=n(758),u=n(759);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(428);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(212)(Object,"create");e.exports=r},function(e,t,n){var r=n(777);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(792),a=n(429),i=n(793),o=n(794),u=n(795),s=n(211),c=n(537),l="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=c(r),m=c(a),g=c(i),b=c(o),y=c(u),x=s;(r&&x(new r(new ArrayBuffer(1)))!=p||a&&x(new a)!=l||i&&x(i.resolve())!=f||o&&x(new o)!=d||u&&x(new u)!=h)&&(x=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case g:return f;case b:return d;case y:return h}return t}),e.exports=x},function(e,t,n){var r=n(433);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},function(e,t,n){var r=n(549),a=n(550);e.exports=function(e,t,n,i){var o=!n;n||(n={});for(var u=-1,s=t.length;++u<s;){var c=t[u],l=i?i(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),o?a(n,c,l):r(n,c,l)}return n}},function(e,t){var n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){(function(t){var n="object"===typeof t&&Object({NODE_ENV:"production",PUBLIC_URL:"/pix_test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})&&Object({NODE_ENV:"production",PUBLIC_URL:"/pix_test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",PUBLIC_URL:"/pix_test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NODE_DEBUG)?function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["SEMVER"].concat(n))}:function(){};e.exports=n}).call(this,n(232))},function(e,t){var n=["includePrerelease","loose","rtl"];e.exports=function(e){return e?"object"!==typeof e?{loose:!0}:n.filter((function(t){return e[t]})).reduce((function(e,t){return e[t]=!0,e}),{}):{}}},function(e,t,n){var r=n(148);e.exports=function(e,t,n){return r(e,t,n)>0}},function(e,t,n){var r=n(73).default,a=n(74).default,i=Symbol("SemVer ANY"),o=function(){"use strict";function e(t,n){if(r(this,e),n=u(n),t instanceof e){if(t.loose===!!n.loose)return t;t=t.value}d("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===i?this.value="":this.value=this.operator+this.semver.version,d("comp",this)}return a(e,[{key:"parse",value:function(e){var t=this.options.loose?c[l.COMPARATORLOOSE]:c[l.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new h(n[2],this.options.loose):this.semver=i}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(e){if(d("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"===typeof e)try{e=new h(e,this.options)}catch(t){return!1}return f(e,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");if(n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||new p(t.value,n).test(this.value);if(""===t.operator)return""===t.value||new p(this.value,n).test(t.semver);var r=(">="===this.operator||">"===this.operator)&&(">="===t.operator||">"===t.operator),a=("<="===this.operator||"<"===this.operator)&&("<="===t.operator||"<"===t.operator),i=this.semver.version===t.semver.version,o=(">="===this.operator||"<="===this.operator)&&(">="===t.operator||"<="===t.operator),u=f(this.semver,"<",t.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),s=f(this.semver,">",t.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||a||i&&o||u||s}}],[{key:"ANY",get:function(){return i}}]),e}();e.exports=o;var u=n(321),s=n(235),c=s.re,l=s.t,f=n(553),d=n(320),h=n(110),p=n(149)},function(e,t,n){var r=n(149);e.exports=function(e,t,n){try{t=new r(t,n)}catch(a){return!1}return t.test(e)}},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.assert=r,t.assertShapesMatch=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r(a(e,t),n+" Shapes ".concat(e," and ").concat(t," must match"))},t.arraysEqual=a,t.DECIMAL_PLACES_TO_CHECK=4},function(e,t,n){"use strict";var r=n(7),a=n(443).default,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=n(325);t.arrayStats=function(e){if(!Array.isArray(e))throw new Error("input must be an array");if(0===e.length)return{numVals:0,numNans:0,numZeros:0,max:void 0,min:void 0};for(var t=e.length,n=-1/0,r=1/0,a=0,i=0,o=0,u=0;u<t;u++){var s=e[u];s>n&&(n=s),s<r&&(r=s),0===s&&(a+=1),isNaN(s)?i+=1:isFinite(s)||(o+=1)}var c={numVals:t,numZeros:a,numNans:i,max:n,min:r,numInfs:o};return c.max===-1/0&&(c.max=NaN),c.min===1/0&&(c.min=NaN),c},t.tensorStats=function(e){return i(this,void 0,void 0,r.mark((function t(){var n,i,u,s,c;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.tidy((function(){var t=o.scalar(0,e.dtype);return[e.min(),e.max(),e.equal(t).sum()]})),i=a(n,3),u=i[0],s=i[1],c=i[2],t.abrupt("return",Promise.all([e.data(),u.data(),s.data(),c.data()]).then((function(e){for(var t=a(e,4),n=t[0],r=t[1],i=t[2],o=t[3],u=n.length,s=0,c=0,l=0;l<u;l++){var f=n[l];isNaN(f)?s+=1:isFinite(f)||(c+=1)}var d=r[0],h=i[0];return s===u&&(d=NaN,h=NaN),{numVals:u,numZeros:o[0],numNans:s,min:d,max:h,numInfs:c}})));case 2:case"end":return t.stop()}}),t)})))},t.confusionMatrix=function(e,t,n,s){return i(this,void 0,void 0,r.mark((function i(){var c,l,f;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u.assert(1===e.rank,"labels must be a 1D tensor"),u.assert(1===t.rank,"predictions must be a 1D tensor"),u.assert(e.size===t.size,"labels and predictions must be the same length"),null!=s&&u.assert(s.size===t.size,"labels and predictions must be the same length"),c=e.cast("int32"),l=t.cast("int32"),null==n&&(n=o.tidy((function(){return o.maximum(c.max(),l.max()).cast("int32").dataSync()[0]+1}))),f=Promise.resolve(null),null!=s&&(f=s.data()),r.abrupt("return",Promise.all([c.data(),l.data(),f]).then((function(e){for(var t=a(e,3),r=t[0],i=t[1],o=t[2],u=Array(n).fill(0),s=0;s<n;s++)u[s]=Array(n).fill(0);for(var c=0;c<r.length;c++){var l=r[c],f=i[c];u[l][f]+=null!=o?o[c]:1}return u})));case 10:case"end":return r.stop()}}),i)})))},t.accuracy=function(e,t){return i(this,void 0,void 0,r.mark((function n(){var a,i,s;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u.assertShapesMatch(e.shape,t.shape,"Error computing accuracy."),a=e.equal(t),i=a.mean(),n.next=5,i.data();case 5:return s=n.sent[0],o.dispose([a,i]),n.abrupt("return",s);case 8:case"end":return n.stop()}}),n)})))},t.perClassAccuracy=function(e,t,n){return i(this,void 0,void 0,r.mark((function i(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u.assert(1===e.rank,"labels must be a 1D tensor"),u.assert(1===t.rank,"predictions must be a 1D tensor"),u.assert(e.size===t.size,"labels and predictions must be the same length"),null==n&&(n=o.tidy((function(){return o.maximum(e.max(),t.max()).dataSync()[0]+1}))),r.abrupt("return",Promise.all([e.data(),t.data()]).then((function(e){for(var t=a(e,2),r=t[0],i=t[1],o=Array(n).fill(0),u=Array(n).fill(0),s=0;s<r.length;s++){var c=r[s],l=i[s];o[c]+=1,c===l&&(u[c]+=1)}for(var f=[],d=0;d<o.length;d++)f.push({count:o[d],accuracy:0===o[d]?0:u[d]/o[d]});return f})));case 5:case"end":return r.stop()}}),i)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(561),a=n(913),i=n(284),o=n(150);t.table=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&null==t.headers)throw new Error('Data to render must have a "headers" property');if(t&&null==t.values)throw new Error('Data to render must have a "values" property');var s=o.getDrawArea(e),c=Object.assign({},u,n),l=a.select(s).select("table.tf-table"),f=i.css({fontSize:c.fontSize||".875rem",width:"100%",maxWidth:"64rem",marginRight:"auto",marginLeft:"auto"});if(0===l.size()&&((l=a.select(s).append("table")).attr("class"," ".concat(f," tf-table")),l.append("thead").append("tr"),l.append("tbody")),1!==l.size())throw new Error("Error inserting table");var d=i.css({fontWeight:"600",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )",textAlign:"left",paddingBottom:"1rem",paddingRight:"1rem",backgroundColor:"#fff"}),h=l.select("thead").select("tr").selectAll("th").data(t.headers),p=h.enter().append("th").attr("class","".concat(d));h.merge(p).html((function(e){return e})),h.exit().remove();var v=r.format(",.4~f"),m=l.select("tbody").selectAll("tr").data(t.values),g=m.enter().append("tr"),b=i.css({padding:"0.25rem",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )"}),y=m.merge(g).selectAll("td").data((function(e){return e})),x=y.enter().append("td").attr("class","".concat(b));y.merge(x).html((function(e){return"number"===typeof e?v(e):e})),y.exit().remove(),m.exit().remove()};var u={fontSize:14}},function(e,t,n){"use strict";n.r(t),n.d(t,"capitalize",(function(){return r.a})),n.d(t,"createChainedFunction",(function(){return a})),n.d(t,"createSvgIcon",(function(){return i.a})),n.d(t,"debounce",(function(){return o.a})),n.d(t,"deprecatedPropType",(function(){return u})),n.d(t,"isMuiElement",(function(){return s.a})),n.d(t,"ownerDocument",(function(){return c.a})),n.d(t,"ownerWindow",(function(){return l.a})),n.d(t,"requirePropFactory",(function(){return f.a})),n.d(t,"setRef",(function(){return d})),n.d(t,"unstable_useEnhancedEffect",(function(){return h.a})),n.d(t,"unstable_useId",(function(){return p.a})),n.d(t,"unsupportedProp",(function(){return v.a})),n.d(t,"useControlled",(function(){return m.a})),n.d(t,"useEventCallback",(function(){return g.a})),n.d(t,"useForkRef",(function(){return b.a})),n.d(t,"useIsFocusVisible",(function(){return y.a})),n.d(t,"unstable_ClassNameGenerator",(function(){return x.a}));var r=n(29),a=n(981).a,i=n(76),o=n(263);var u=function(e,t){return function(){return null}},s=n(167),c=n(166),l=n(221),f=n(446),d=n(301).a,h=n(133),p=n(365),v=n(447),m=n(198),g=n(179),b=n(70),y=n(241),x=n(572)},function(e,t,n){"use strict";var r;function a(e){r=e}function i(e){if(void 0!==r)return r;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function o(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}n.r(t),n.d(t,"mockIsMobile",(function(){return a})),n.d(t,"isMobile",(function(){return i})),n.d(t,"isBrowser",(function(){return o}))},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.a)(e,"x","all","bool"),u={x:o},s={axis:t,keepDims:n};return r.a.runKernel(a.f,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.a)(e,"x","any","bool"),u={x:o},s={axis:t,keepDims:n};return r.a.runKernel(a.g,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","argMax"),o={x:n},u={axis:t};return r.a.runKernel(a.h,o,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","argMin"),o={x:n},u={axis:t};return r.a.runKernel(a.i,o,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(13);var c=Object(s.b)({atan2_:function(e,t){var n=Object(u.a)(e,"a","atan2"),s=Object(u.a)(t,"b","atan2"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.m,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({bincount_:function(e,t,n){var u=Object(i.a)(e,"x","bincount"),s=Object(i.a)(t,"weights","bincount");o.b("int32"===u.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(u.dtype)})),o.b(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),o.b(s.size===u.size||0===s.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(u.shape,", weights shape: ")+"".concat(s.shape,".")}));var c={x:u,weights:s},l={size:n};return r.a.runKernel(a.u,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(23),i=n(134),o=n(56),u=n(13),s=n(21);var c=Object(u.b)({conv1d_:function(e,t,n,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,f=arguments.length>6?arguments[6]:void 0,d=Object(r.a)(e,"x","conv1d"),h=Object(r.a)(t,"filter","conv1d"),p=d,v=!1;2===d.rank&&(v=!0,p=Object(s.a)(d,[1,d.shape[0],d.shape[1]])),a.b(3===p.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(p.rank,".")})),a.b(3===h.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(h.rank,".")})),o.a("conv1d",u,f),a.b(p.shape[2]===h.shape[1],(function(){return"Error in conv1d: depth of input (".concat(p.shape[2],") must match ")+"input depth for filter ".concat(h.shape[1],".")})),a.b(o.i(n,l),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(l,"'")})),a.b("NWC"===c,(function(){return"Error in conv1d: got dataFormat of ".concat(c," but only NWC is currently supported.")}));var m=Object(s.a)(h,[1,h.shape[0],h.shape[1],h.shape[2]]),g=Object(s.a)(p,[p.shape[0],1,p.shape[1],p.shape[2]]),b=[1,n],y=[1,l],x="NHWC",w=Object(i.a)(g,m,b,u,x,y,f);return v?Object(s.a)(w,[w.shape[2],w.shape[3]]):Object(s.a)(w,[w.shape[0],w.shape[2],w.shape[3]])}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(9),a=n(265),i=n(13);var o=Object(i.b)({conv2dTranspose_:function(e,t,n,i,o,u){var s=Object(r.a)(e,"x","conv2dTranspose"),c=Object(r.a)(t,"filter","conv2dTranspose");return Object(a.a)(n,s,c,i,o,"NHWC",u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({cosh_:function(e){var t={x:Object(i.a)(e,"x","cosh","float32")};return r.a.runKernel(a.K,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",u=Object(i.a)(e,"x","depthToSpace","float32"),s="NHWC"===n?u.shape[1]:u.shape[2],c="NHWC"===n?u.shape[2]:u.shape[3],l="NHWC"===n?u.shape[3]:u.shape[1];o.b(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)})),o.b(s*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(s," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(u.shape)})),o.b(c*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(c," and ").concat(t," for depthToSpace with input shape\n        ").concat(u.shape)})),o.b(l%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(l," for depthToSpace with input shape ").concat(u.shape)}));var f={x:u},d={blockSize:t,dataFormat:n};return r.a.runKernel(a.O,f,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13),s=n(21);var c=Object(u.b)({dilation2d_:function(e,t,n,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",f=Object(i.a)(e,"x","dilation2d"),d=Object(i.a)(t,"filter","dilation2d");o.b(3===f.rank||4===f.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(f.rank,".")})),o.b(3===d.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(d.rank,".")})),o.b("NHWC"===l,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(l)}));var h=f,p=!1;3===f.rank&&(h=Object(s.a)(f,[1,f.shape[0],f.shape[1],f.shape[2]]),p=!0);var v={x:h,filter:d},m={strides:n,pad:u,dilations:c},g=r.a.runKernel(a.T,v,m);return p?Object(s.a)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),a=n(55),i=n(9),o=n(41),u=n(193),s=n(13),c=n(79),l=n(49);var f=Object(s.b)({divNoNan_:function(e,t){var n=Object(i.a)(e,"a","div"),s=Object(i.a)(t,"b","div"),f=Object(a.makeTypesMatch)(n,s),d=Object(r.a)(f,2);n=d[0],s=d[1];var h=Object(o.a)(n,s),p=Object(l.a)(h),v=Object(u.a)(s,p);return Object(c.a)(v,p,h)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(9),a=n(23),i=n(61),o=n(13),u=n(21);var s=Object(o.b)({dot_:function(e,t){var n=Object(r.a)(e,"t1","dot"),o=Object(r.a)(t,"t2","dot");a.b((1===n.rank||2===n.rank)&&(1===o.rank||2===o.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(o.rank,".")}));var s=1===n.rank?n.size:n.shape[1],c=1===o.rank?o.size:o.shape[0];if(a.b(s===c,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(s," and ").concat(c,".")})),1===n.rank&&1===o.rank){var l=Object(u.a)(n,[1,-1]),f=Object(u.a)(o,[-1,1]),d=Object(i.a)(l,f);return Object(u.a)(d,[])}if(1===n.rank&&2===o.rank){var h=Object(u.a)(n,[1,-1]),p=Object(u.a)(o,[o.shape[0],o.shape[1]]),v=Object(i.a)(h,p);return Object(u.a)(v,[v.size])}if(2===n.rank&&1===o.rank){var m=Object(u.a)(o,[-1,1]),g=Object(i.a)(n,m);return Object(u.a)(g,[g.size])}var b=Object(u.a)(o,[o.shape[0],o.shape[1]]);return Object(i.a)(n,b)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13),s=n(21);var c=Object(u.b)({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,l=Object(i.a)(e,"x","localResponseNormalization");o.b(4===l.rank||3===l.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(l.rank,".")})),o.b(o.v(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var f=l,d=!1;3===l.rank&&(d=!0,f=Object(s.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]]));var h={x:f},p={depthRadius:t,bias:n,alpha:u,beta:c},v=r.a.runKernel(a.xb,h,p);return d?Object(s.a)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({log1p_:function(e){var t={x:Object(i.a)(e,"x","log1p")};return r.a.runKernel(a.Eb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({softplus_:function(e){var t={x:Object(i.a)(e,"x","softplus")};return r.a.runKernel(a.Ic,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(42),i=n(122),o=n(195),u=n(252),s=n(13);var c=Object(s.b)({logicalXor_:function(e,t){var n=Object(r.a)(e,"a","logicalXor","bool"),s=Object(r.a)(t,"b","logicalXor","bool");return Object(a.assertAndGetBroadcastShape)(n.shape,s.shape),Object(i.a)(Object(u.a)(e,t),Object(o.a)(Object(i.a)(e,t)))}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({mirrorPad_:function(e,t,n){o.b("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")}));var u=Object(i.a)(e,"x","mirrorPad");if(0===u.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");o.b(t.length===u.rank,(function(){return"Padding doesn't match input. Must be ".concat(u.rank,". ")+"Got ".concat(t.length,".")}));for(var s="reflect"===n?1:0,c=function(e){o.b(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),o.b(t[e][0]>=0&&t[e][0]<=u.shape[e]-s&&t[e][1]>=0&&t[e][1]<=u.shape[e]-s,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(u.shape[e]-s," or less than 0 for input of ")+"shape ".concat(u.shape)}))},l=0;l<u.rank;l++)c(l);var f={paddings:t,mode:n},d={x:u};return r.a.runKernel(a.Tb,d,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(14),i=n(10),o=n(55),u=n(9),s=n(13);var c=Object(s.b)({mod_:function(e,t){var n=Object(u.a)(e,"a","mod"),s=Object(u.a)(t,"b","mod"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.Ub,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(6),a=n(9),i=n(23),o=n(243),u=n(191),s=n(56),c=n(253),l=n(13),f=n(21),d=n(196);var h=Object(l.b)({pool_:function(e,t,n,l,h,p,v){null==h&&(h=[1,1]),null==p&&(p=1),0===l&&(l="valid");var m=Object(a.a)(e,"x","maxPool"),g=m,b=!1;3===m.rank&&(b=!0,g=Object(f.a)(m,[1,m.shape[0],m.shape[1],m.shape[2]])),i.b(s.i(p,h),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(p," and dilations '").concat(h,"'")}));var y,x=s.f(g.shape,t,p,h,l),w=[x.dilationHeight,x.dilationWidth];y="same"===l?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),a=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],a[t]]}))}([x.filterHeight,x.filterWidth],w):[[0,0],[0,0]];var O=1===w[0]&&1===w[1],k=function(e,t,n){var r=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]})),i=e.concat(r,a),o=t.map((function(e,t){return(e-i[t]%e)%e})),u=a.map((function(e,t){return e+o[t]})),s=t.map((function(e,t){return[r[t],u[t]]})),c=t.map((function(e,t){return[0,o[t]]}));return[s,c]}([x.inHeight,x.inWidth],w,y),j=Object(r.a)(k,2),_=j[0],S=j[1],E=O?l:"valid",A=O?g:Object(d.a)(g,w,_),C=("avg"===n?function(){return Object(o.a)(A,t,p,E,v)}:function(){return Object(c.a)(A,t,p,E,v)})(),N=O?C:Object(u.a)(C,w,S);return b?Object(f.a)(N,[N.shape[1],N.shape[2],N.shape[3]]):N}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(35),u=n(13);var s=Object(u.b)({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=Object(i.a)(e,"x","prod");"bool"===u.dtype&&(u=Object(o.a)(u,"int32"));var s={x:u},c={axis:t,keepDims:n};return r.a.runKernel(a.jc,s,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(100),a=n(13),i=n(203);var o=Object(a.b)({randomUniform_:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0,u=Object(r.a)(e,a),s=new i.c(t,n,null,o),c=0;c<u.values.length;c++)u.values[c]=s.nextValue();return u.toTensor()}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({round_:function(e){var t={x:Object(i.a)(e,"x","round")};return r.a.runKernel(a.xc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({rsqrt_:function(e){var t={x:Object(i.a)(e,"x","rsqrt","float32")};return r.a.runKernel(a.yc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({selu_:function(e){var t={x:Object(i.a)(e,"x","selu")};return r.a.runKernel(a.Bc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(23),i=n(134),o=n(192),u=n(13),s=n(21);var c=Object(u.b)({separableConv2d_:function(e,t,n,u,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",d=Object(r.a)(e,"x","separableConv2d"),h=Object(r.a)(t,"depthwiseFilter","separableConv2d"),p=Object(r.a)(n,"pointwiseFilter","separableConv2d"),v=d,m=!1;if(3===d.rank&&(m=!0,v=Object(s.a)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),"NCHW"===f)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");a.b(4===v.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(v.rank,".")})),a.b(4===h.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(h.rank,".")})),a.b(4===p.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(h.rank,".")})),a.b(1===p.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(p.shape[0],".")})),a.b(1===p.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(p.shape[1],".")}));var g=h.shape[2],b=h.shape[3];a.b(p.shape[2]===g*b,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(g*b,", ")+"but got ".concat(p.shape[2],".")}));var y=Object(o.a)(v,h,u,c,f,l),x=1,w=Object(i.a)(y,p,x,"valid",f);return m?Object(s.a)(w,[w.shape[1],w.shape[2],w.shape[3]]):w}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({sin_:function(e){var t={x:Object(i.a)(e,"x","sin","float32")};return r.a.runKernel(a.Ec,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({sinh_:function(e){var t={x:Object(i.a)(e,"x","sinh")};return r.a.runKernel(a.Fc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(121),a=n(75),i=n(248),o=n(24),u=n(13),s=n(217),c=n(21),l=n(101),f=n(46),d=n(64),h=n(218);var p=Object(u.b)({irfft_:function(e){var t,n=e.shape[e.shape.length-1],u=e.size/n;if(n<=2){var p=Object(c.a)(e,[u,n]);t=Object(h.a)(p)}else{var v=[u,2*(n-1)],m=Object(c.a)(Object(s.a)(e),[u,n]),g=Object(c.a)(Object(i.a)(e),[u,n]),b=Object(l.a)(Object(d.a)(m,[0,1],[u,n-2]),1),y=Object(o.a)(Object(l.a)(Object(d.a)(g,[0,1],[u,n-2]),1),Object(f.a)(-1)),x=Object(a.a)([m,b],1),w=Object(a.a)([g,y],1),O=Object(c.a)(Object(r.a)(x,w),[v[0],v[1]]);t=Object(h.a)(O)}if(t=Object(s.a)(t),3===e.rank&&0!==e.shape[0]){var k=t,j=e.shape[0];t=Object(c.a)(t,[j,t.shape[0]/j,t.shape[1]]),k.dispose()}return t}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(9),a=n(23),i=n(106);function o(e,t,n){if(Object(a.d)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var o=Object(r.c)(e,n);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Object(i.a)(e,t,o,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),a=n(14),i=n(10),o=n(9),u=n(13);var s=Object(u.b)({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=Object(o.a)(e,"x","topk");if(0===u.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var s=u.shape[u.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>s)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(s,") ")+"but got ".concat(t));var c={x:u},l={k:t,sorted:n},f=a.a.runKernel(i.dd,c,l),d=Object(r.a)(f,2),h=d[0],p=d[1];return{values:h,indices:p}}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(14),i=n(10),o=n(9),u=n(23),s=n(13);var c=Object(s.b)({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(o.a)(e,"x","unique","string_or_numeric");Object(u.b)(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var s={x:n},c={axis:t},l=a.a.runKernel(i.gd,s,c),f=Object(r.a)(l,2),d=f[0],h=f[1];return{values:d,indices:h}}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(19),a=n(7),i=n.n(a),o=n(364),u=n(9);function s(){return(s=Object(r.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.a)(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return r=e.sent,a=Object(o.a)(n.shape,r),t!==n&&n.dispose(),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=function(e){return s.apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(100);function a(e,t){for(var n=[],a=0;a<t.length;a++)t[a]&&n.push(a);for(var i=Object(r.a)(e,"int32"),o=Object(r.a)([n.length,e.length],"int32"),u=0;u<n.length;u++){var s=i.indexToLoc(n[u]),c=u*e.length;o.values.set(s,c)}return o.toTensor()}},function(e,t,n){"use strict";var r=n(920);t.a=r.a},function(e,t,n){"use strict";var r=n(71);t.a=function(e,t){var n;void 0===t&&(t=!0);var a=new Promise((function(r){n=setTimeout(r,e,t)}));return a[r.a]=function(){clearTimeout(n)},a}},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(675),a=n(676);e.exports={encode:r,decode:a}},function(e,t,n){var r=Object.prototype.hasOwnProperty;e.exports=t=function(e,t){return r.call(t,e)},t.version=n(678).version},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(164),a=n(371);function i(e,t,n){return i=Object(a.a)()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return n&&Object(r.a)(i,n.prototype),i},i.apply(null,arguments)}},function(e,t,n){!function(){function t(e){for(var t=0,a=e.length-1,i=void 0,o=void 0,u=void 0,s=r(t,a);;){if(a<=t)return e[s];if(a==t+1)return e[t]>e[a]&&n(e,t,a),e[s];for(e[i=r(t,a)]>e[a]&&n(e,i,a),e[t]>e[a]&&n(e,t,a),e[i]>e[t]&&n(e,i,t),n(e,i,t+1),o=t+1,u=a;;){do{o++}while(e[t]>e[o]);do{u--}while(e[u]>e[t]);if(u<o)break;n(e,o,u)}n(e,t,u),u<=s&&(t=o),u>=s&&(a=u-1)}}var n=function(e,t,n){var r;return r=[e[n],e[t]],e[t]=r[0],e[n]=r[1],r},r=function(e,t){return~~((e+t)/2)};e.exports?e.exports=t:window.median=t}()},function(e,t,n){var r=n(697);e.exports=Number.isInteger||function(e){return"number"===typeof e&&r(e)&&Math.floor(e)===e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},function(e,t,n){"use strict";var r=n(1),a=r.createContext(null);t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(164);function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(23),o=n(13),u=n(21);var s=Object(o.b)({conv3DBackpropInput_:function(e,t,n,o,s){i.b(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var c=e,l=t,f=!1;4===t.rank&&(f=!0,l=Object(u.a)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),c=[1,e[0],e[1],e[2],e[3]]);var d=c[4],h=l.shape[4];i.b(5===c.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(c.length,".")})),i.b(5===l.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(l.rank)})),i.b(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),i.b(d===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(d,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),i.b(h===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(h,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var p={dy:l,filter:n},v={pad:s,strides:o,inputShape:c},m=r.a.runKernel(a.I,p,v);return f?Object(u.a)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(267),a=n(14),i=n(10),o=n(9),u=n(23),s=n(13),c=n(21);var l=Object(s.b)({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=Object(o.a)(e,"images","resizeNearestNeighbor");u.b(3===l.rank||4===l.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(l.rank,".")})),u.b(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),u.b("float32"===l.dtype||"int32"===l.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),u.b(!1===s||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var f=l,d=!1;3===l.rank&&(d=!0,f=Object(c.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),Object(r.a)(t);var h={images:f},p={alignCorners:n,halfPixelCenters:s,size:t},v=a.a.runKernel(i.tc,h,p);return d?Object(c.a)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(267),a=n(14),i=n(10),o=n(9),u=n(23),s=n(13),c=n(21);var l=Object(s.b)({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=Object(o.a)(e,"images","resizeBilinear");u.b(3===l.rank||4===l.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(l.rank,".")})),u.b(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),u.b(!1===s||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var f=l,d=!1;3===l.rank&&(d=!0,f=Object(c.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),Object(r.a)(t);var h={images:f},p={alignCorners:n,halfPixelCenters:s,size:t},v=a.a.runKernel(i.rc,h,p);return d?Object(c.a)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(13),o=n(21);var u=Object(i.b)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,i,u){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,l=t,f=!1;3===t.rank&&(f=!0,l=Object(o.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var d={dy:l,filter:n},h={strides:i,pad:u,dimRoundingMode:c,dilations:s,inputShape:e},p=r.a.runKernel(a.R,d,h);return f?Object(o.a)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(13),o=n(21);var u=Object(i.b)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,i,u){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,l=e;3===e.rank&&(l=Object(o.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var f=t;3===f.rank&&(f=Object(o.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var d={x:l,dy:f},h={strides:i,pad:u,dimRoundingMode:c,dilations:s,filterShape:n};return r.a.runKernel(a.Q,d,h)}})},function(e,t,n){"use strict";var r=n(1),a=Object(r.createContext)({});t.a=a},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(184),a=n(209);function i(e){return Object(r.a)("MuiDialogTitle",e)}var o=Object(a.a)("MuiDialogTitle",["root"]);t.a=o},function(e,t,n){"use strict";n(1);var r=n(76),a=n(2);t.a=Object(r.a)(Object(a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=o},function(e,t,n){"use strict";n(1);var r=n(76),a=n(2);t.a=Object(r.a)(Object(a.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown")},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z"}),"LabelOutlined");t.default=o},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(116))},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"m3.5 18.99 11 .01c.67 0 1.27-.33 1.63-.84L20.5 12l-4.37-6.16c-.36-.51-.96-.84-1.63-.84l-11 .01L8.34 12 3.5 18.99z"}),"LabelImportant");t.default=o},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!==a--;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;0!==a--;){var o=i[a];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},function(e,t,n){"use strict";var r=n(1),a=r.createContext({});t.a=a},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"}),"Computer");t.default=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return R}));var r={};function a(e){var t=null;return function(){return null==t&&(t=e()),t}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(r),n.d(r,"FILE",(function(){return g})),n.d(r,"URL",(function(){return b})),n.d(r,"TEXT",(function(){return y})),n.d(r,"HTML",(function(){return x}));var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"entered",[]),o(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var a=[];return n.forEach((function(e){return a.push(e)})),a}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&i(t.prototype,n),r&&i(t,r),e}(),s=a((function(){return/firefox/i.test(navigator.userAgent)})),c=a((function(){return Boolean(window.safari)}));function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"xs",void 0),f(this,"ys",void 0),f(this,"c1s",void 0),f(this,"c2s",void 0),f(this,"c3s",void 0);for(var r=t.length,a=[],i=0;i<r;i++)a.push(i);a.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var o,u,s=[],c=[],l=[],d=0;d<r-1;d++)o=t[d+1]-t[d],u=n[d+1]-n[d],c.push(o),s.push(u),l.push(u/o);for(var h=[l[0]],p=0;p<c.length-1;p++){var v=l[p],m=l[p+1];if(v*m<=0)h.push(0);else{o=c[p];var g=c[p+1],b=o+g;h.push(3*b/((b+g)/v+(b+o)/m))}}h.push(l[l.length-1]);for(var y,x=[],w=[],O=0;O<h.length-1;O++){y=l[O];var k=h[O],j=1/c[O],_=k+h[O+1]-y-y;x.push((y-k-_)*j),w.push(_*j*j)}this.xs=t,this.ys=n,this.c1s=h,this.c2s=x,this.c3s=w}var t,n,r;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,a=this.c2s,i=this.c3s,o=t.length-1;if(e===t[o])return n[o];for(var u,s=0,c=i.length-1;s<=c;){var l=t[u=Math.floor(.5*(s+c))];if(l<e)s=u+1;else{if(!(l>e))return n[u];c=u-1}}var f=e-t[o=Math.max(0,c)],d=f*f;return n[o]+r[o]*f+a[o]*d+i[o]*f*d}}])&&l(t.prototype,n),r&&l(t,r),e}();function h(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function p(e){return{x:e.clientX,y:e.clientY}}function v(e,t,n,r,a){var i=function(e){var t;return"IMG"===e.nodeName&&(s()||!(null!==(t=document.documentElement)&&void 0!==t&&t.contains(e)))}(t),o=h(i?e:t),u={x:n.x-o.x,y:n.y-o.y},l=e.offsetWidth,f=e.offsetHeight,p=r.anchorX,v=r.anchorY,m=function(e,t,n,r){var a=e?t.width:n,i=e?t.height:r;return c()&&e&&(i/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:i}}(i,t,l,f),g=m.dragPreviewWidth,b=m.dragPreviewHeight,y=a.offsetX,x=a.offsetY,w=0===x||x;return{x:0===y||y?y:new d([0,.5,1],[u.x,u.x/l*g,u.x+g-l]).interpolate(p),y:w?x:function(){var e=new d([0,.5,1],[u.y,u.y/f*b,u.y+b-f]).interpolate(v);return c()&&i&&(e+=(window.devicePixelRatio-1)*b),e}()}}var m,g="__NATIVE_FILE__",b="__NATIVE_URL__",y="__NATIVE_TEXT__",x="__NATIVE_HTML__";function w(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=(O(m={},g,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items},dataTransfer:function(e){return e}},matchesTypes:["Files"]}),O(m,x,{exposeProperties:{html:function(e,t){return w(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Html","text/html"]}),O(m,b,{exposeProperties:{urls:function(e,t){return w(e,t,"").split("\n")},dataTransfer:function(e){return e}},matchesTypes:["Url","text/uri-list"]}),O(m,y,{exposeProperties:{text:function(e,t){return w(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Text","text/plain"]}),m);function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"item",void 0),_(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}var t,n,r;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&j(t.prototype,n),r&&j(t,r),e}();function E(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(k).filter((function(e){return k[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,"ownerDocument",null),C(this,"globalContext",void 0),C(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=n}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}])&&A(t.prototype,n),r&&A(t,r),e}();function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(){function e(t,n,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,"options",void 0),M(this,"actions",void 0),M(this,"monitor",void 0),M(this,"registry",void 0),M(this,"enterLeaveCounter",void 0),M(this,"sourcePreviewNodes",new Map),M(this,"sourcePreviewNodeOptions",new Map),M(this,"sourceNodes",new Map),M(this,"sourceNodeOptions",new Map),M(this,"dragStartSourceIds",null),M(this,"dropTargetIds",[]),M(this,"dragEnterTargetIds",[]),M(this,"currentNativeSource",null),M(this,"currentNativeHandle",null),M(this,"currentDragSourceNode",null),M(this,"altKeyPressed",!1),M(this,"mouseMoveTimeoutTimer",null),M(this,"asyncEndDragFrameId",null),M(this,"dragOverTargetIds",null),M(this,"lastClientOffset",null),M(this,"hoverRafId",null),M(this,"getSourceClientOffset",(function(e){var t=a.sourceNodes.get(e);return t&&h(t)||null})),M(this,"endDragNativeItem",(function(){a.isDraggingNativeItem()&&(a.actions.endDrag(),a.currentNativeHandle&&a.registry.removeSource(a.currentNativeHandle),a.currentNativeHandle=null,a.currentNativeSource=null)})),M(this,"isNodeInDocument",(function(e){return Boolean(e&&a.document&&a.document.body&&a.document.body.contains(e))})),M(this,"endDragIfSourceWasRemovedFromDOM",(function(){var e=a.currentDragSourceNode;null==e||a.isNodeInDocument(e)||a.clearCurrentDragSourceNode()&&a.monitor.isDragging()&&a.actions.endDrag()})),M(this,"handleTopDragStartCapture",(function(){a.clearCurrentDragSourceNode(),a.dragStartSourceIds=[]})),M(this,"handleTopDragStart",(function(e){if(!e.defaultPrevented){var t=a.dragStartSourceIds;a.dragStartSourceIds=null;var n=p(e);a.monitor.isDragging()&&a.actions.endDrag(),a.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:a.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,i=E(r);if(a.monitor.isDragging()){if(r&&"function"===typeof r.setDragImage){var o=a.monitor.getSourceId(),u=a.sourceNodes.get(o),s=a.sourcePreviewNodes.get(o)||u;if(s){var c=a.getCurrentSourcePreviewNodeOptions(),l=v(u,s,n,{anchorX:c.anchorX,anchorY:c.anchorY},{offsetX:c.offsetX,offsetY:c.offsetY});r.setDragImage(s,l.x,l.y)}}try{null===r||void 0===r||r.setData("application/json",{})}catch(f){}a.setCurrentDragSourceNode(e.target),a.getCurrentSourcePreviewNodeOptions().captureDraggingState?a.actions.publishDragSource():setTimeout((function(){return a.actions.publishDragSource()}),0)}else if(i)a.beginDragNativeItem(i);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}})),M(this,"handleTopDragEndCapture",(function(){a.clearCurrentDragSourceNode()&&a.monitor.isDragging()&&a.actions.endDrag()})),M(this,"handleTopDragEnterCapture",(function(e){if(a.dragEnterTargetIds=[],a.enterLeaveCounter.enter(e.target)&&!a.monitor.isDragging()){var t=e.dataTransfer,n=E(t);n&&a.beginDragNativeItem(n,t)}})),M(this,"handleTopDragEnter",(function(e){var t=a.dragEnterTargetIds;(a.dragEnterTargetIds=[],a.monitor.isDragging())&&(a.altKeyPressed=e.altKey,t.length>0&&a.actions.hover(t,{clientOffset:p(e)}),t.some((function(e){return a.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=a.getCurrentDropEffect())))})),M(this,"handleTopDragOverCapture",(function(){a.dragOverTargetIds=[]})),M(this,"handleTopDragOver",(function(e){var t=a.dragOverTargetIds;if(a.dragOverTargetIds=[],!a.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));a.altKeyPressed=e.altKey,a.lastClientOffset=p(e),null===a.hoverRafId&&"undefined"!==typeof requestAnimationFrame&&(a.hoverRafId=requestAnimationFrame((function(){a.monitor.isDragging()&&a.actions.hover(t||[],{clientOffset:a.lastClientOffset}),a.hoverRafId=null}))),(t||[]).some((function(e){return a.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=a.getCurrentDropEffect())):a.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))})),M(this,"handleTopDragLeaveCapture",(function(e){a.isDraggingNativeItem()&&e.preventDefault(),a.enterLeaveCounter.leave(e.target)&&a.isDraggingNativeItem()&&setTimeout((function(){return a.endDragNativeItem()}),0)})),M(this,"handleTopDropCapture",(function(e){var t;(a.dropTargetIds=[],a.isDraggingNativeItem())?(e.preventDefault(),null===(t=a.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):E(e.dataTransfer)&&e.preventDefault();a.enterLeaveCounter.reset()})),M(this,"handleTopDrop",(function(e){var t=a.dropTargetIds;a.dropTargetIds=[],a.actions.hover(t,{clientOffset:p(e)}),a.actions.drop({dropEffect:a.getCurrentDropEffect()}),a.isDraggingNativeItem()?a.endDragNativeItem():a.monitor.isDragging()&&a.actions.endDrag()})),M(this,"handleSelectStart",(function(e){var t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))})),this.options=new N(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new u(this.isNodeInDocument)}var t,n,a;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var a=function(t){return r.handleDragStart(t,e)},i=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",i),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},a=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",a),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",a),t.removeEventListener("drop",i)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return D({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return D({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new S(k[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}])&&I(t.prototype,n),a&&I(t,a),e}(),R=function(e,t,n){return new F(e,t,n)}},function(e,t,n){"use strict";var r=n(6),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(29),l=n(25),f=n(198),d=n(119),h=n(1003),p=n(184),v=n(209);function m(e){return Object(p.a)("PrivateSwitchBase",e)}Object(v.a)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var g=n(2),b=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],y=Object(l.a)(h.a,{skipSx:!0})((function(e){var t=e.ownerState;return Object(i.a)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),x=Object(l.a)("input",{skipSx:!0})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),w=o.forwardRef((function(e,t){var n=e.autoFocus,o=e.checked,l=e.checkedIcon,h=e.className,p=e.defaultChecked,v=e.disabled,w=e.disableFocusRipple,O=void 0!==w&&w,k=e.edge,j=void 0!==k&&k,_=e.icon,S=e.id,E=e.inputProps,A=e.inputRef,C=e.name,N=e.onBlur,T=e.onChange,D=e.onFocus,I=e.readOnly,M=e.required,F=e.tabIndex,R=e.type,P=e.value,z=Object(a.a)(e,b),B=Object(f.a)({controlled:o,default:Boolean(p),name:"SwitchBase",state:"checked"}),L=Object(r.a)(B,2),U=L[0],W=L[1],V=Object(d.a)(),H=v;V&&"undefined"===typeof H&&(H=V.disabled);var G="checkbox"===R||"radio"===R,q=Object(i.a)({},e,{checked:U,disabled:H,disableFocusRipple:O,edge:j}),X=function(e){var t=e.classes,n=e.checked,r=e.disabled,a=e.edge,i={root:["root",n&&"checked",r&&"disabled",a&&"edge".concat(Object(c.a)(a))],input:["input"]};return Object(s.a)(i,m,t)}(q);return Object(g.jsxs)(y,Object(i.a)({component:"span",className:Object(u.a)(X.root,h),centerRipple:!0,focusRipple:!O,disabled:H,tabIndex:null,role:void 0,onFocus:function(e){D&&D(e),V&&V.onFocus&&V.onFocus(e)},onBlur:function(e){N&&N(e),V&&V.onBlur&&V.onBlur(e)},ownerState:q,ref:t},z,{children:[Object(g.jsx)(x,Object(i.a)({autoFocus:n,checked:o,defaultChecked:p,className:X.input,disabled:H,id:G&&S,name:C,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;W(t),T&&T(e,t)}},readOnly:I,ref:A,required:M,ownerState:q,tabIndex:F,type:R},"checkbox"===R&&void 0===P?{}:{value:P},E)),U?l:_]}))}));t.a=w},function(e,t,n){"use strict";t.encode=n(667)},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(184),a=n(209);function i(e){return Object(r.a)("MuiListItemText",e)}var o=Object(a.a)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);t.a=o},function(e,t,n){"use strict";var r=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,t){var n,a,i;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),a=""===n?1/0:void 0===t.maxLength?80:t.maxLength,i=t.replacer,function e(t,o,u){var s,c,l,f,d,h,p,v,m,g,b,y;if(t&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0===(b=JSON.stringify(t,i)))return b;if(p=a-o.length-u,b.length<=p&&(m=b.replace(r,(function(e,t){return t||e+" "}))).length<=p)return m;if(null!=i&&(t=JSON.parse(b),i=void 0),"object"===typeof t&&null!==t){if(v=o+n,l=[],c=0,Array.isArray(t))for(g="[",s="]",p=t.length;c<p;c++)l.push(e(t[c],v,c===p-1?0:1)||"null");else for(g="{",s="}",p=(h=Object.keys(t)).length;c<p;c++)f=h[c],d=JSON.stringify(f)+": ",void 0!==(y=e(t[f],v,d.length+(c===p-1?0:1)))&&l.push(d+y);if(l.length>0)return[g,n+l.join(",\n"+v),s].join("\n"+o)}return b}(e,"",0)}},function(e,t,n){"use strict";var r=n(72),a=Object(r.a)((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));t.a=a;a.range},function(e,t,n){"use strict";var r=n(72),a=Object(r.a)((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Object(r.a)((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):a:null},t.a=a;a.range},function(e,t,n){"use strict";var r=n(72),a=Object(r.a)((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));t.a=a;a.range},function(e,t,n){"use strict";var r=n(271);t.a=function(e){var t=e,n=e;function a(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;n(e[i],t)<0?r=i+1:a=i}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return Object(r.a)(e(t),n)}}(e)),{left:a,center:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);var o=a(e,n,r,i-1);return o>r&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;n(e[i],t)>0?a=i:r=i+1}return r}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u}));var r,a,i,o,u,s,c=n(465);s={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},r=Object(c.a)(s),a=r.format,i=r.parse,o=r.utcFormat,u=r.utcParse},,,,,,,,,function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(487);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(213),a=n(286),i=n(157),o=n(53),u=n(87);function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=u.a.checkMatrix(e),t?new i.a(e).inverse():c(e,o.b.eye(e.rows))}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=u.a.checkMatrix(e),t=u.a.checkMatrix(t),n?new i.a(e).solve(t):e.isSquare()?new r.a(e).solve(t):new a.a(e).solve(t)}},function(e,t,n){var r=n(528),a=n(749);e.exports=function(e,t){return e&&r(e,a(t))}},function(e,t,n){(function(e){var r=n(155),a=n(745),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=o&&o.exports===i?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||a;e.exports=s}).call(this,n(146)(e))},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(527),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u}).call(this,n(146)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(533)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(312),a=n(760),i=n(761),o=n(762),u=n(763),s=n(764);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(212)(n(155),"Map");e.exports=r},function(e,t,n){var r=n(769),a=n(776),i=n(778),o=n(779),u=n(780);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(791),a=n(544),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return i.call(e,t)})))}:a;e.exports=u},function(e,t,n){var r=n(147),a=n(433),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var r=n(211),a=n(176);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(529),a=n(820),i=n(311);e.exports=function(e){return i(e)?r(e,!0):a(e)}},function(e,t,n){var r=n(540);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t){var n=/^[0-9]+$/,r=function(e,t){var r=n.test(e),a=n.test(t);return r&&a&&(e=+e,t=+t),e===t?0:r&&!a?-1:a&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:function(e,t){return r(t,e)}}},function(e,t,n){var r=n(148);e.exports=function(e,t,n){return 0===r(e,t,n)}},function(e,t,n){var r=n(110);e.exports=function(e,t,n){var a=new r(e,n),i=new r(t,n);return a.compare(i)||a.compareBuild(i)}},function(e,t,n){var r=n(148);e.exports=function(e,t,n){return r(e,t,n)<0}},function(e,t,n){var r=n(148);e.exports=function(e,t,n){return r(e,t,n)>=0}},function(e,t,n){var r=n(148);e.exports=function(e,t,n){return r(e,t,n)<=0}},function(e,t,n){var r=n(110),a=n(323),i=a.ANY,o=n(149),u=n(324),s=n(322),c=n(439),l=n(441),f=n(440);e.exports=function(e,t,n,d){var h,p,v,m,g;switch(e=new r(e,d),t=new o(t,d),n){case">":h=s,p=l,v=c,m=">",g=">=";break;case"<":h=c,p=f,v=s,m="<",g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(u(e,t,d))return!1;for(var b=function(n){var r=t.set[n],o=null,u=null;return r.forEach((function(e){e.semver===i&&(e=new a(">=0.0.0")),o=o||e,u=u||e,h(e.semver,o.semver,d)?o=e:v(e.semver,u.semver,d)&&(u=e)})),o.operator===m||o.operator===g?{v:!1}:u.operator&&u.operator!==m||!p(e,u.semver)?u.operator===g&&v(e,u.semver)?{v:!1}:void 0:{v:!1}},y=0;y<t.set.length;++y){var x=b(y);if("object"===typeof x)return x.v}return!0}},function(e,t,n){var r=n(869),a=n(870),i=n(418),o=n(871);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(){}n.r(t),n.d(t,"h",(function(){return u})),n.d(t,"createElement",(function(){return u})),n.d(t,"cloneElement",(function(){return l})),n.d(t,"Component",(function(){return R})),n.d(t,"render",(function(){return P})),n.d(t,"rerender",(function(){return p})),n.d(t,"options",(function(){return a}));var a={},i=[],o=[];function u(e,t){var n,u,s,c,l=o;for(c=arguments.length;c-- >2;)i.push(arguments[c]);for(t&&null!=t.children&&(i.length||i.push(t.children),delete t.children);i.length;)if((u=i.pop())&&void 0!==u.pop)for(c=u.length;c--;)i.push(u[c]);else"boolean"===typeof u&&(u=null),(s="function"!==typeof e)&&(null==u?u="":"number"===typeof u?u=String(u):"string"!==typeof u&&(s=!1)),s&&n?l[l.length-1]+=u:l===o?l=[u]:l.push(u),n=s;var f=new r;return f.nodeName=e,f.children=l,f.attributes=null==t?void 0:t,f.key=null==t?void 0:t.key,void 0!==a.vnode&&a.vnode(f),f}function s(e,t){for(var n in t)e[n]=t[n];return e}var c="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function l(e,t){return u(e.nodeName,s(s({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var f=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,d=[];function h(e){!e._dirty&&(e._dirty=!0)&&1==d.push(e)&&(a.debounceRendering||c)(p)}function p(){var e,t=d;for(d=[];e=t.pop();)e._dirty&&M(e)}function v(e,t,n){return"string"===typeof t||"number"===typeof t?void 0!==e.splitText:"string"===typeof t.nodeName?!e._componentConstructor&&m(e,t.nodeName):n||e._componentConstructor===t.nodeName}function m(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function g(e){var t=s({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function b(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n,r,a){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||a)if("style"===t){if(r&&"string"!==typeof r&&"string"!==typeof n||(e.style.cssText=r||""),r&&"object"===typeof r){if("string"!==typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"===typeof r[i]&&!1===f.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var o=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,x,o):e.removeEventListener(t,x,o),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!a&&t in e)!function(e,t,n){try{e[t]=n}catch(r){}}(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var u=a&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?u?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!==typeof r&&(u?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function x(e){return this._listeners[e.type](a.event&&a.event(e)||e)}var w=[],O=0,k=!1,j=!1;function _(){for(var e;e=w.pop();)a.afterMount&&a.afterMount(e),e.componentDidMount&&e.componentDidMount()}function S(e,t,n,r,a,i){O++||(k=null!=a&&void 0!==a.ownerSVGElement,j=null!=e&&!("__preactattr_"in e));var o=E(e,t,n,r,i);return a&&o.parentNode!==a&&a.appendChild(o),--O||(j=!1,i||_()),o}function E(e,t,n,r,a){var i=e,o=k;if(null!=t&&"boolean"!==typeof t||(t=""),"string"===typeof t||"number"===typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||a)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),A(e,!0))),i.__preactattr_=!0,i;var u=t.nodeName;if("function"===typeof u)return function(e,t,n,r){var a=e&&e._component,i=a,o=e,u=a&&e._componentConstructor===t.nodeName,s=u,c=g(t);for(;a&&!s&&(a=a._parentComponent);)s=a.constructor===t.nodeName;a&&s&&(!r||a._component)?(I(a,c,3,n,r),e=a.base):(i&&!u&&(F(i),e=o=null),a=T(t.nodeName,c,n),e&&!a.nextBase&&(a.nextBase=e,o=null),I(a,c,1,n,r),e=a.base,o&&e!==o&&(o._component=null,A(o,!1)));return e}(e,t,n,r);if(k="svg"===u||"foreignObject"!==u&&k,u=String(u),(!e||!m(e,u))&&(i=function(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}(u,k),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),A(e,!0)}var s=i.firstChild,c=i.__preactattr_,l=t.children;if(null==c){c=i.__preactattr_={};for(var f=i.attributes,d=f.length;d--;)c[f[d].name]=f[d].value}return!j&&l&&1===l.length&&"string"===typeof l[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=l[0]&&(s.nodeValue=l[0]):(l&&l.length||null!=s)&&function(e,t,n,r,a){var i,o,u,s,c,l=e.childNodes,f=[],d={},h=0,p=0,m=l.length,g=0,y=t?t.length:0;if(0!==m)for(var x=0;x<m;x++){var w=l[x],O=w.__preactattr_;null!=(k=y&&O?w._component?w._component.__key:O.key:null)?(h++,d[k]=w):(O||(void 0!==w.splitText?!a||w.nodeValue.trim():a))&&(f[g++]=w)}if(0!==y)for(x=0;x<y;x++){var k;if(c=null,null!=(k=(s=t[x]).key))h&&void 0!==d[k]&&(c=d[k],d[k]=void 0,h--);else if(!c&&p<g)for(i=p;i<g;i++)if(void 0!==f[i]&&v(o=f[i],s,a)){c=o,f[i]=void 0,i===g-1&&g--,i===p&&p++;break}c=E(c,s,n,r),u=l[x],c&&c!==e&&c!==u&&(null==u?e.appendChild(c):c===u.nextSibling?b(u):e.insertBefore(c,u))}if(h)for(var x in d)void 0!==d[x]&&A(d[x],!1);for(;p<=g;)void 0!==(c=f[g--])&&A(c,!1)}(i,l,n,r,j||null!=c.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||y(e,r,n[r],n[r]=void 0,k);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||y(e,r,n[r],n[r]=t[r],k)}(i,t.attributes,c),k=o,i}function A(e,t){var n=e._component;n?F(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||b(e),C(e))}function C(e){for(e=e.lastChild;e;){var t=e.previousSibling;A(e,!0),e=t}}var N={};function T(e,t,n){var r,a=N[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),R.call(r,t,n)):((r=new R(t,n)).constructor=e,r.render=D),a)for(var i=a.length;i--;)if(a[i].constructor===e){r.nextBase=a[i].nextBase,a.splice(i,1);break}return r}function D(e,t,n){return this.constructor(e,n)}function I(e,t,n,r,i){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===a.syncComponentUpdates&&e.base?h(e):M(e,1,i)),e.__ref&&e.__ref(e))}function M(e,t,n,r){if(!e._disable){var i,o,u,c=e.props,l=e.state,f=e.context,d=e.prevProps||c,h=e.prevState||l,p=e.prevContext||f,v=e.base,m=e.nextBase,b=v||m,y=e._component,x=!1;if(v&&(e.props=d,e.state=h,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,l,f)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(c,l,f),e.props=c,e.state=l,e.context=f),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!x){i=e.render(c,l,f),e.getChildContext&&(f=s(s({},f),e.getChildContext()));var k,j,E=i&&i.nodeName;if("function"===typeof E){var C=g(i);(o=y)&&o.constructor===E&&C.key==o.__key?I(o,C,1,f,!1):(k=o,e._component=o=T(E,C,f),o.nextBase=o.nextBase||m,o._parentComponent=e,I(o,C,0,f,!1),M(o,1,n,!0)),j=o.base}else u=b,(k=y)&&(u=e._component=null),(b||1===t)&&(u&&(u._component=null),j=S(u,i,f,n||!v,b&&b.parentNode,!0));if(b&&j!==b&&o!==y){var N=b.parentNode;N&&j!==N&&(N.replaceChild(j,b),k||(b._component=null,A(b,!1)))}if(k&&F(k),e.base=j,j&&!r){for(var D=e,R=e;R=R._parentComponent;)(D=R).base=j;j._component=D,j._componentConstructor=D.constructor}}if(!v||n?w.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(d,h,p),a.afterUpdate&&a.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);O||r||_()}}function F(e){a.beforeUnmount&&a.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?F(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,b(t),function(e){var t=e.constructor.name;(N[t]||(N[t]=[])).push(e)}(e),C(t)),e.__ref&&e.__ref(null)}function R(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function P(e,t,n){return S(n,e,{},!1,t,!1)}s(R.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=s({},n)),s(n,"function"===typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),h(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),M(this,2)},render:function(){}});var z={h:u,createElement:u,cloneElement:l,Component:R,render:P,rerender:p,options:a};t.default=z},function(e,t,n){"use strict";var r=n(7),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(561),u=i(n(237)),s=n(186),c=n(326),l=n(327),f={maxBins:12,fontSize:11};function d(e,t,n){var r=o.format(",.4~f"),a=o.format(".4~p"),i=[],u=[];if(null!=e.numVals&&(i.push("Num Vals"),u.push(r(e.numVals))),null!=e.min&&(i.push("Min"),u.push(r(e.min))),null!=e.max&&(i.push("Max"),u.push(r(e.max))),null!=e.numZeros){i.push("# Zeros");var s="";e.numVals&&(s=e.numZeros>0?"(".concat(a(e.numZeros/e.numVals),")"):""),u.push("".concat(r(e.numZeros)," ").concat(s))}if(null!=e.numNans){i.push("# NaNs");var c="";e.numVals&&(c=e.numNans>0?"(".concat(a(e.numNans/e.numVals),")"):""),u.push("".concat(r(e.numNans)," ").concat(c))}if(null!=e.numInfs){i.push("# Infinity");var f="";e.numVals&&(f=e.numInfs>0?"(".concat(a(e.numInfs/e.numVals),")"):""),u.push("".concat(r(e.numInfs)," ").concat(f))}l.table(t,{headers:i,values:[u]},n)}function h(e){if(null==e.length)throw new Error("input data must be an array");if(0===e.length)return[];if("object"===typeof e[0]){if(null==e[0].value)throw new Error("input data must have a value field");return e}for(var t=Array(e.length),n=0;n<e.length;n++)t[n]={value:e[n]};return t}t.histogram=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(this,void 0,void 0,r.mark((function a(){var i,o,l,p,v,m,g,b,y;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=h(t),o=Object.assign({},f,n),l={actions:!1,mode:"vega-lite",defaultStyle:!1},p=s.subSurface(e,"histogram"),!1!==n.stats&&(v=s.subSurface(e,"stats",{prepend:!0}),d(n.stats?n.stats:c.arrayStats(i.map((function(e){return e.value}))),v,{fontSize:o.fontSize})),0!==i.length){r.next=7;break}return r.abrupt("return",void 0);case 7:for(m=[],g=0;g<i.length;g++)null!=(b=i[g].value)&&isFinite(b)&&m.push(i[g]);return y={width:o.width||s.getDefaultWidth(p),height:o.height||s.getDefaultHeight(p),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},data:{values:m},mark:{type:"bar",tooltip:!0},config:{axis:{labelFontSize:o.fontSize,titleFontSize:o.fontSize},text:{fontSize:o.fontSize},legend:{labelFontSize:o.fontSize,titleFontSize:o.fontSize}},encoding:{x:{bin:{maxbins:o.maxBins},field:"value",type:"quantitative"},y:{aggregate:"count",type:"quantitative"},color:{value:o.color||"#001B44"}}},r.abrupt("return",u.default(p,y,l));case 11:case"end":return r.stop()}}),a)})))}},function(e,t,n){"use strict";n(11);t.a=function(e,t){return function(){return null}}},function(e,t,n){"use strict";t.a=function(e,t,n,r,a){return null}},function(e,t,n){"use strict";var r=n(264),a=n.n(r);t.a=function(e,t){return a()(e,t)}},function(e,t,n){var r=n(695).FFTUtils;function a(e){var t,n,r=e;if("number"!=typeof e[0]){t=e.length,n=e[0].length,r=new Array(t*n);for(var a=0;a<t;a++)for(var i=0;i<n;i++)r[a*n+i]=e[a][i]}else{var o=Math.sqrt(e.length);Number.isInteger(o)&&(t=o,n=o)}return{data:r,rows:t,cols:n}}e.exports={fft:function(e,t,n){var i,o,u=a(e),s=u.data,c=Object.assign({normalize:!1,divisor:1,rows:u.rows,cols:u.cols},n);if(!c.rows||!c.cols)throw new Error("Invalid number of rows or columns "+i+" "+o);i=c.rows,o=c.cols;var l,f,d=c.divisor,h=t.length,p=t[0].length;if(c.normalize)for(d=0,l=0;l<h;l++)for(f=0;f<p;f++)d+=t[l][f];if(0===d)throw new RangeError("convolution: The divisor is equal to zero");var v=r.toRadix2(s,i,o),m=r.convolute(v.data,t,v.rows,v.cols);if(m=r.crop(m,v.rows,v.cols,i,o),0!=d&&1!=d)for(l=0;l<m.length;l++)m[l]/=d;return m},direct:function(e,t,n){var r,i,o=a(e),u=o.data,s=Object.assign({normalize:!1,divisor:1,rows:o.rows,cols:o.cols},n);if(!s.rows||!s.cols)throw new Error("Invalid number of rows or columns "+r+" "+i);r=s.rows,i=s.cols;var c,l,f,d,h,p,v=s.divisor,m=t.length,g=t[0].length;if(s.normalize)for(v=0,c=0;c<m;c++)for(l=0;l<g;l++)v+=t[c][l];if(0===v)throw new RangeError("convolution: The divisor is equal to zero");var b=new Array(r*i),y=Math.floor(m/2),x=Math.floor(g/2);for(d=0;d<r;d++)for(f=0;f<i;f++){for(h=0,l=0;l<m;l++)for(c=0;c<g;c++)p=t[m-l-1][g-c-1],h+=u[(d+l-y+r)%r*i+(f+c-x+i)%i]*p;b[d*i+f]=h/v}return b},kernelFactory:{LoG:function(e,t,n){var r=1e3;n&&n.factor&&(r=n.factor);var a,i,o,u,s=new Array(t);r*=-1;var c=(t-1)/2,l=2*e*e;for(a=0;a<t;a++)for(s[a]=new Array(t),u=(a-c)*(a-c),i=0;i<t;i++)o=-((i-c)*(i-c)+u)/l,s[a][i]=Math.round(r*(1+o)*Math.exp(o));return s}},matrix2Array:a}},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=n(177),o=i.Matrix,u=i.MatrixTransposeView,s=n(698),c=n(699),l=n(700),f=n(701),d=n(702),h=n(703),p=n(704),v={gaussian:s,rbf:s,polynomial:c,poly:c,anova:f,cauchy:d,exponential:h,histogram:p,min:p,laplacian:n(705),multiquadratic:n(706),rational:n(707),sigmoid:l,mlp:l},m=function(){function e(t,n){if(r(this,e),this.kernelType=t,"linear"!==t)if("string"===typeof t){t=t.toLowerCase();var a=v[t];if(!a)throw new Error("unsupported kernel type: ".concat(t));this.kernelFunction=new a(n)}else{if("object"!==typeof t||"function"!==typeof t.compute)throw new TypeError("first argument must be a valid kernel type or instance");this.kernelFunction=t}}return a(e,[{key:"compute",value:function(e,t){if(e=o.checkMatrix(e),t=void 0===t?e:o.checkMatrix(t),"linear"===this.kernelType)return e.mmul(new u(t));var n=new o(e.rows,t.rows);if(e===t)for(var r=0;r<e.rows;r++)for(var a=r;a<e.rows;a++){var i=this.kernelFunction.compute(e.getRow(r),e.getRow(a));n.set(r,a,i),n.set(a,r,i)}else for(var s=0;s<e.rows;s++)for(var c=0;c<t.rows;c++)n.set(s,c,this.kernelFunction.compute(e.getRow(s),t.getRow(c)));return n}}]),e}();e.exports=m},function(e,t,n){e.exports=function(e,t){for(var n=t[0],a=t[1],i=e.length,o=1,u=i,s=0,c=i-1;s<u;c=s++){var l=e[s],f=e[c],d=l[1],h=f[1];if(h<d){if(h<a&&a<d){if(0===(m=r(l,f,t)))return 0;o^=0<m|0}else if(a===d){var p=(v=e[(s+1)%i])[1];if(d<p){if(0===(m=r(l,f,t)))return 0;o^=0<m|0}}}else if(d<h){if(d<a&&a<h){if(0===(m=r(l,f,t)))return 0;o^=m<0|0}else if(a===d){var v=e[(s+1)%i];if((p=v[1])<d){var m;if(0===(m=r(l,f,t)))return 0;o^=m<0|0}}}else if(a===d){var g=Math.min(l[0],f[0]),b=Math.max(l[0],f[0]);if(0===s){for(;c>0;){var y=(c+i-1)%i;if((O=e[y])[1]!==a)break;var x=O[0];g=Math.min(g,x),b=Math.max(b,x),c=y}if(0===c)return g<=n&&n<=b?0:1;u=c+1}for(var w=e[(c+i-1)%i][1];s+1<u;){var O;if((O=e[s+1])[1]!==a)break;x=O[0];g=Math.min(g,x),b=Math.max(b,x),s+=1}if(g<=n&&n<=b)return 0;var k=e[(s+1)%i][1];n<g&&w<a!==k<a&&(o^=1)}}return 2*o-1};var r=n(708)},function(e,t,n){e.exports=function e(t,n,r){function a(o,u){if(!n[o]){if(!t[o]){if(i)return i(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){var n=t[o][1][e];return a(n||e)}),c,c.exports,e,t,n,r)}return n[o].exports}for(var i=!1,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){var r,a,i,o,u,s=function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty;r=e("./PriorityQueue/AbstractPriorityQueue"),a=e("./PriorityQueue/ArrayStrategy"),o=e("./PriorityQueue/BinaryHeapStrategy"),i=e("./PriorityQueue/BHeapStrategy"),(u=function(e){function t(e){e||(e={}),e.strategy||(e.strategy=o),e.comparator||(e.comparator=function(e,t){return(e||0)-(t||0)}),t.__super__.constructor.call(this,e)}return s(t,e),t}(r)).ArrayStrategy=a,u.BinaryHeapStrategy=o,u.BHeapStrategy=i,t.exports=u},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(e,t,n){t.exports=function(){function e(e){var t;if(null==(null!=e?e.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=e?e.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new e.strategy(e),this.length=(null!=e&&null!=(t=e.initialValues)?t.length:void 0)||0}return e.prototype.queue=function(e){this.length++,this.priv.queue(e)},e.prototype.dequeue=function(e){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},e.prototype.peek=function(e){if(!this.length)throw"Empty queue";return this.priv.peek()},e.prototype.clear=function(){return this.length=0,this.priv.clear()},e}()},{}],3:[function(e,t,n){var r;r=function(e,t,n){var r,a,i;for(a=0,r=e.length;a<r;)n(e[i=a+r>>>1],t)>=0?a=i+1:r=i;return a},t.exports=function(){function e(e){var t;this.options=e,this.comparator=this.options.comparator,this.data=(null!=(t=this.options.initialValues)?t.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return e.prototype.queue=function(e){var t;t=r(this.data,e,this.comparator),this.data.splice(t,0,e)},e.prototype.dequeue=function(){return this.data.pop()},e.prototype.peek=function(){return this.data[this.data.length-1]},e.prototype.clear=function(){this.data.length=0},e}()},{}],4:[function(e,t,n){t.exports=function(){function e(e){var t,n,r,a,i,o,u,s;for(this.comparator=(null!=e?e.comparator:void 0)||function(e,t){return e-t},this.pageSize=(null!=e?e.pageSize:void 0)||512,this.length=0,u=0;1<<u<this.pageSize;)u+=1;if(1<<u!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=u,this._emptyMemoryPageTemplate=t=[],n=0,i=this.pageSize;0<=i?n<i:n>i;0<=i?++n:--n)t.push(null);if(this._memory=[],this._mask=this.pageSize-1,e.initialValues)for(r=0,a=(o=e.initialValues).length;r<a;r++)s=o[r],this.queue(s)}return e.prototype.queue=function(e){this.length+=1,this._write(this.length,e),this._bubbleUp(this.length,e)},e.prototype.dequeue=function(){var e,t;return e=this._read(1),t=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,t),this._bubbleDown(1,t)),e},e.prototype.peek=function(){return this._read(1)},e.prototype.clear=function(){this.length=0,this._memory.length=0},e.prototype._write=function(e,t){var n;for(n=e>>this._shift;n>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[n][e&this._mask]=t},e.prototype._read=function(e){return this._memory[e>>this._shift][e&this._mask]},e.prototype._bubbleUp=function(e,t){var n,r,a,i;for(n=this.comparator;e>1&&(r=e&this._mask,e<this.pageSize||r>3?a=e&~this._mask|r>>1:r<2?(a=e-this.pageSize>>this._shift,a+=a&~(this._mask>>1),a|=this.pageSize>>1):a=e-2,!(n(i=this._read(a),t)<0));)this._write(a,t),this._write(e,i),e=a},e.prototype._bubbleDown=function(e,t){var n,r,a,i,o;for(o=this.comparator;e<this.length;)if(e>this._mask&&!(e&this._mask-1)?n=r=e+2:e&this.pageSize>>1?(n=(e&~this._mask)>>1,r=1+(n=1+(n|=e&this._mask>>1)<<this._shift)):r=(n=e+(e&this._mask))+1,n!==r&&r<=this.length)if(a=this._read(n),i=this._read(r),o(a,t)<0&&o(a,i)<=0)this._write(n,t),this._write(e,a),e=n;else{if(!(o(i,t)<0))break;this._write(r,t),this._write(e,i),e=r}else{if(!(n<=this.length))break;if(!(o(a=this._read(n),t)<0))break;this._write(n,t),this._write(e,a),e=n}},e}()},{}],5:[function(e,t,n){t.exports=function(){function e(e){var t;this.comparator=(null!=e?e.comparator:void 0)||function(e,t){return e-t},this.length=0,this.data=(null!=(t=e.initialValues)?t.slice(0):void 0)||[],this._heapify()}return e.prototype._heapify=function(){var e,t,n;if(this.data.length>0)for(e=t=1,n=this.data.length;1<=n?t<n:t>n;e=1<=n?++t:--t)this._bubbleUp(e)},e.prototype.queue=function(e){this.data.push(e),this._bubbleUp(this.data.length-1)},e.prototype.dequeue=function(){var e,t;return t=this.data[0],e=this.data.pop(),this.data.length>0&&(this.data[0]=e,this._bubbleDown(0)),t},e.prototype.peek=function(){return this.data[0]},e.prototype.clear=function(){this.length=0,this.data.length=0},e.prototype._bubbleUp=function(e){for(var t,n;e>0&&(t=e-1>>>1,this.comparator(this.data[e],this.data[t])<0);)n=this.data[t],this.data[t]=this.data[e],this.data[e]=n,e=t},e.prototype._bubbleDown=function(e){var t,n,r,a,i;for(t=this.data.length-1;a=1+(n=1+(e<<1)),r=e,n<=t&&this.comparator(this.data[n],this.data[r])<0&&(r=n),a<=t&&this.comparator(this.data[a],this.data[r])<0&&(r=a),r!==e;)i=this.data[r],this.data[r]=this.data[e],this.data[e]=i,e=r},e}()},{}]},{},[1])(1)},function(e,t,n){"use strict";var r=n(185).default,a=n(713),i=navigator.hardwareConcurrency||1;Function.prototype;function o(e,t){if("string"!==typeof e&&"function"!==typeof e)throw new TypeError("func argument must be a function");if(void 0===t&&(t={}),"object"!==typeof t||null===t)throw new TypeError("options argument must be an object");this._workerCode=e.toString(),void 0===t.maxWorkers||"auto"===t.maxWorkers?this._numWorkers=Math.min(i-1,1):t.maxWorkers>0?this._numWorkers=Math.min(t.maxWorkers,i):this._numWorkers=i,this._workers=new Map,this._timeout=t.timeout||0,this._terminateOnError=!!t.terminateOnError;var n=t.deps;"string"===typeof n&&(n=[n]),Array.isArray(n)||(n=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(n)}o.prototype._init=function(e){for(var t=a.newWorkerURL(this._workerCode,e),n=0;n<this._numWorkers;n++){var r=new Worker(t);r.onmessage=this._onmessage.bind(this,r),r.onerror=this._onerror.bind(this,r),r.running=!1,r.id=n,this._workers.set(r,null)}URL.revokeObjectURL(t)},o.prototype._onerror=function(e,t){if(!this._terminated){this._working--,e.running=!1;var n=this._workers.get(e);n&&n[1](t.message),this._workers.set(e,null),this._terminateOnError?this.terminate():this._exec()}},o.prototype._onmessage=function(e,t){if(!this._terminated){this._working--,e.running=!1;var n=this._workers.get(e);n&&n[0](t.data.data),this._workers.set(e,null),this._exec()}},o.prototype._exec=function(){var e,t=r(this._workers.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;if(this._working===this._numWorkers||0===this._waiting.length)return;if(!n.running)for(var a=0;a<this._waiting.length;a++){var i=this._waiting[a];if("number"!==typeof i[4]||i[4]===n.id){this._waiting.splice(a,1),n.postMessage({action:"exec",event:i[0],args:i[1]},i[2]),n.running=!0,n.time=Date.now(),this._workers.set(n,i[3]),this._working++;break}}}}catch(o){t.e(o)}finally{t.f()}},o.prototype.terminate=function(){if(!this._terminated){var e,t=r(this._workers);try{for(t.s();!(e=t.n()).done;){var n=e.value;n[0].terminate(),n[1]&&n[1][1](new Error("Terminated"))}}catch(a){t.e(a)}finally{t.f()}this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}},o.prototype.postAll=function(e,t){if(this._terminated)throw new Error("Cannot post (terminated)");var n,a=[],i=r(this._workers.keys());try{for(i.s();!(n=i.n()).done;){var o=n.value;a.push(this.post(e,t,[],o.id))}}catch(u){i.e(u)}finally{i.f()}return Promise.all(a)},o.prototype.post=function(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);var a=this;return new Promise((function(i,o){if(a._terminated)throw new Error("Cannot post (terminated)");a._waiting.push([e,t,n,[i,o],r]),a._exec()}))},e.exports=o},function(e,t,n){"use strict";var r=n(915);function a(e){return 0===Object.keys(e).length}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(r.a)();return!t||a(t)?e:t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(916);function a(e){var t=e.theme,n=e.name,a=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Object(r.a)(t.components[n].defaultProps,a):a}},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(S){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function a(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=a;var i={},o={};function u(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=c(e,(0|e)<0?-1:0,!0),a&&(o[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=c(e,e<0?-1:0,!1),a&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?b:g;if(t){if(e<0)return b;if(e>=p)return k}else{if(e<=-v)return j;if(e+1>=v)return O}return e<0?s(-e,t).neg():c(e%h|0,e/h|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=u,r.fromNumber=s,r.fromBits=c;var l=Math.pow;function f(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return f(e.substring(1),t,n).neg();for(var a=s(l(n,8)),i=g,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+u),n);if(u<8){var d=s(l(n,u));i=i.mul(d).add(s(c))}else i=(i=i.mul(a)).add(s(c))}return i.unsigned=t,i}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?f(e,t):c(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}r.fromString=f,r.fromValue=d;var h=4294967296,p=h*h,v=p/2,m=u(1<<24),g=u(0);r.ZERO=g;var b=u(0,!0);r.UZERO=b;var y=u(1);r.ONE=y;var x=u(1,!0);r.UONE=x;var w=u(-1);r.NEG_ONE=w;var O=c(-1,2147483647,!1);r.MAX_VALUE=O;var k=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=k;var j=c(0,-2147483648,!1);r.MIN_VALUE=j;var _=r.prototype;_.toInt=function(){return this.unsigned?this.low>>>0:this.low},_.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},_.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(j)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=s(l(e,6),this.unsigned),i=this,o="";;){var u=i.div(a),c=(i.sub(u.mul(a)).toInt()>>>0).toString(e);if((i=u).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},_.getHighBits=function(){return this.high},_.getHighBitsUnsigned=function(){return this.high>>>0},_.getLowBits=function(){return this.low},_.getLowBitsUnsigned=function(){return this.low>>>0},_.getNumBitsAbs=function(){if(this.isNegative())return this.eq(j)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},_.isZero=function(){return 0===this.high&&0===this.low},_.eqz=_.isZero,_.isNegative=function(){return!this.unsigned&&this.high<0},_.isPositive=function(){return this.unsigned||this.high>=0},_.isOdd=function(){return 1===(1&this.low)},_.isEven=function(){return 0===(1&this.low)},_.equals=function(e){return a(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},_.eq=_.equals,_.notEquals=function(e){return!this.eq(e)},_.neq=_.notEquals,_.ne=_.notEquals,_.lessThan=function(e){return this.comp(e)<0},_.lt=_.lessThan,_.lessThanOrEqual=function(e){return this.comp(e)<=0},_.lte=_.lessThanOrEqual,_.le=_.lessThanOrEqual,_.greaterThan=function(e){return this.comp(e)>0},_.gt=_.greaterThan,_.greaterThanOrEqual=function(e){return this.comp(e)>=0},_.gte=_.greaterThanOrEqual,_.ge=_.greaterThanOrEqual,_.compare=function(e){if(a(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},_.comp=_.compare,_.negate=function(){return!this.unsigned&&this.eq(j)?j:this.not().add(y)},_.neg=_.negate,_.add=function(e){a(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,u=65535&e.high,s=e.low>>>16,l=0,f=0,h=0,p=0;return h+=(p+=i+(65535&e.low))>>>16,f+=(h+=r+s)>>>16,l+=(f+=n+u)>>>16,l+=t+o,c((h&=65535)<<16|(p&=65535),(l&=65535)<<16|(f&=65535),this.unsigned)},_.subtract=function(e){return a(e)||(e=d(e)),this.add(e.neg())},_.sub=_.subtract,_.multiply=function(e){if(this.isZero())return g;if(a(e)||(e=d(e)),n)return c(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(j))return e.isOdd()?j:g;if(e.eq(j))return this.isOdd()?j:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,u=e.high>>>16,l=65535&e.high,f=e.low>>>16,h=65535&e.low,p=0,v=0,b=0,y=0;return b+=(y+=o*h)>>>16,v+=(b+=i*h)>>>16,b&=65535,v+=(b+=o*f)>>>16,p+=(v+=r*h)>>>16,v&=65535,p+=(v+=i*f)>>>16,v&=65535,p+=(v+=o*l)>>>16,p+=t*h+r*f+i*l+o*u,c((b&=65535)<<16|(y&=65535),(p&=65535)<<16|(v&=65535),this.unsigned)},_.mul=_.multiply,_.divide=function(e){if(a(e)||(e=d(e)),e.isZero())throw Error("division by zero");var t,r,i;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?b:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return x;i=b}else{if(this.eq(j))return e.eq(y)||e.eq(w)?j:e.eq(j)?y:(t=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:w:(r=this.sub(e.mul(t)),i=t.add(r.div(e)));if(e.eq(j))return this.unsigned?b:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),u=o<=48?1:l(2,o-48),f=s(t),h=f.mul(e);h.isNegative()||h.gt(r);)h=(f=s(t-=u,this.unsigned)).mul(e);f.isZero()&&(f=y),i=i.add(f),r=r.sub(h)}return i},_.div=_.divide,_.modulo=function(e){return a(e)||(e=d(e)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},_.mod=_.modulo,_.rem=_.modulo,_.not=function(){return c(~this.low,~this.high,this.unsigned)},_.and=function(e){return a(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},_.or=function(e){return a(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},_.xor=function(e){return a(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},_.shiftLeft=function(e){return a(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},_.shl=_.shiftLeft,_.shiftRight=function(e){return a(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},_.shr=_.shiftRight,_.shiftRightUnsigned=function(e){if(a(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},_.shru=_.shiftRightUnsigned,_.shr_u=_.shiftRightUnsigned,_.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},_.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},_.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},_.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},_.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var r=n(391),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.a.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();t.a=u}).call(this,n(283)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0),n(560);var r=n(843),a=n(904),i=n(905),o=n(445),u=n(559),s=n(906),c=n(327),l=n(907),f=n(908),d=n(909),h=n(910),p=n(326),v=n(911);t.version_vis=v.version;var m={barchart:r.barchart,table:c.table,histogram:o.histogram,linechart:u.linechart,scatterplot:s.scatterplot,confusionMatrix:a.confusionMatrix,heatmap:i.heatmap};t.render=m;var g={accuracy:p.accuracy,perClassAccuracy:p.perClassAccuracy,confusionMatrix:p.confusionMatrix};t.metrics=g;var b={history:l.history,fitCallbacks:l.fitCallbacks,perClassAccuracy:d.perClassAccuracy,valuesDistribution:h.valuesDistribution,layer:f.layer,modelSummary:f.modelSummary};t.show=b;var y=n(558);t.visor=y.visor,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(557))},function(e,t,n){var r=n(235);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(319).SEMVER_SPEC_VERSION,SemVer:n(110),compareIdentifiers:n(436).compareIdentifiers,rcompareIdentifiers:n(436).rcompareIdentifiers,parse:n(236),valid:n(844),clean:n(845),inc:n(846),diff:n(847),major:n(848),minor:n(849),patch:n(850),prerelease:n(851),compare:n(148),rcompare:n(852),compareLoose:n(853),compareBuild:n(438),sort:n(854),rsort:n(855),gt:n(322),lt:n(439),eq:n(437),neq:n(552),gte:n(440),lte:n(441),cmp:n(553),coerce:n(856),Comparator:n(323),Range:n(149),satisfies:n(324),toComparators:n(860),maxSatisfying:n(861),minSatisfying:n(862),minVersion:n(863),validRange:n(864),outside:n(442),gtr:n(865),ltr:n(866),intersects:n(867),simplifyRange:n(868),subset:n(872)}},function(e,t,n){"use strict";var r=n(72),a=n(62),i=Object(r.a)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*a.e-e.getMinutes()*a.c)}),(function(e,t){e.setTime(+e+t*a.b)}),(function(e,t){return(t-e)/a.b}),(function(e){return e.getHours()}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(72),a=n(62),i=Object(r.a)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*a.e)}),(function(e,t){e.setTime(+e+t*a.c)}),(function(e,t){return(t-e)/a.c}),(function(e){return e.getMinutes()}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(72),a=n(62),i=Object(r.a)((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*a.b)}),(function(e,t){return(t-e)/a.b}),(function(e){return e.getUTCHours()}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(72),a=n(62),i=Object(r.a)((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*a.c)}),(function(e,t){return(t-e)/a.c}),(function(e){return e.getUTCMinutes()}));t.a=i;i.range},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(130),a=n(206),i=n(129),o=n(205),u=n(207),s=n(208);function c(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function l(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function f(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function d(e){var t=e.dateTime,n=e.date,u=e.time,s=e.periods,d=e.days,p=e.shortDays,v=e.months,m=e.shortMonths,g=y(s),b=x(s),J=y(d),be=x(d),Ne=y(p),Te=x(p),De=y(v),Ie=x(v),Me=y(m),Fe=x(m),Re={a:function(e){return p[e.getDay()]},A:function(e){return d[e.getDay()]},b:function(e){return m[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:null,d:U,e:U,f:q,g:re,G:ie,H:W,I:V,j:H,L:G,m:X,M:Y,p:function(e){return s[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ae,s:Ce,S:K,u:$,U:Z,V:Q,w:ee,W:te,x:null,X:null,y:ne,Y:ae,Z:oe,"%":Ee},Pe={a:function(e){return p[e.getUTCDay()]},A:function(e){return d[e.getUTCDay()]},b:function(e){return m[e.getUTCMonth()]},B:function(e){return v[e.getUTCMonth()]},c:null,d:ue,e:ue,f:de,g:ke,G:_e,H:se,I:ce,j:le,L:fe,m:he,M:pe,p:function(e){return s[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ae,s:Ce,S:ve,u:me,U:ge,V:ye,w:xe,W:we,x:null,X:null,y:Oe,Y:je,Z:Se,"%":Ee},ze={a:function(e,t,n){var r=Ne.exec(t.slice(n));return r?(e.w=Te.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=J.exec(t.slice(n));return r?(e.w=be.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=Me.exec(t.slice(n));return r?(e.m=Fe.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=De.exec(t.slice(n));return r?(e.m=Ie.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return Ue(e,t,n,r)},d:T,e:T,f:P,g:E,G:S,H:I,I:I,j:D,L:R,m:N,M:M,p:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.p=b.get(r[0].toLowerCase()),n+r[0].length):-1},q:C,Q:B,s:L,S:F,u:O,U:k,V:j,w:w,W:_,x:function(e,t,r){return Ue(e,n,t,r)},X:function(e,t,n){return Ue(e,u,t,n)},y:E,Y:S,Z:A,"%":z};function Be(e,t){return function(n){var r,a,i,o=[],u=-1,s=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===e.charCodeAt(u)&&(o.push(e.slice(s,u)),null!=(a=h[r=e.charAt(++u)])?r=e.charAt(++u):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),o.push(r),s=u+1);return o.push(e.slice(s,u)),o.join("")}}function Le(e,t){return function(n){var u,s,d=f(1900,void 0,1);if(Ue(d,e,n+="",0)!=n.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1e3*d.s+("L"in d?d.L:0));if(t&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+12*d.p),void 0===d.m&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(s=(u=l(f(d.y,0,1))).getUTCDay(),u=s>4||0===s?r.a.ceil(u):Object(r.a)(u),u=a.a.offset(u,7*(d.V-1)),d.y=u.getUTCFullYear(),d.m=u.getUTCMonth(),d.d=u.getUTCDate()+(d.w+6)%7):(s=(u=c(f(d.y,0,1))).getDay(),u=s>4||0===s?i.a.ceil(u):Object(i.a)(u),u=o.a.offset(u,7*(d.V-1)),d.y=u.getFullYear(),d.m=u.getMonth(),d.d=u.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),s="Z"in d?l(f(d.y,0,1)).getUTCDay():c(f(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(s+5)%7:d.w+7*d.U-(s+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,l(d)):c(d)}}function Ue(e,t,n,r){for(var a,i,o=0,u=t.length,s=n.length;o<u;){if(r>=s)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=ze[a in h?t.charAt(o++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return Re.x=Be(n,Re),Re.X=Be(u,Re),Re.c=Be(t,Re),Pe.x=Be(n,Pe),Pe.X=Be(u,Pe),Pe.c=Be(t,Pe),{format:function(e){var t=Be(e+="",Re);return t.toString=function(){return e},t},parse:function(e){var t=Le(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=Be(e+="",Pe);return t.toString=function(){return e},t},utcParse:function(e){var t=Le(e+="",!0);return t.toString=function(){return e},t}}}var h={"-":"",_:" ",0:"0"},p=/^\s*\d+/,v=/^%/,m=/[\\^$*+?|[\]().{}]/g;function g(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function b(e){return e.replace(m,"\\$&")}function y(e){return new RegExp("^(?:"+e.map(b).join("|")+")","i")}function x(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function w(e,t,n){var r=p.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function O(e,t,n){var r=p.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function k(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function j(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function S(e,t,n){var r=p.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function E(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function A(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function C(e,t,n){var r=p.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function N(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function T(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function D(e,t,n){var r=p.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function I(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function M(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function F(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function R(e,t,n){var r=p.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function P(e,t,n){var r=p.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function z(e,t,n){var r=v.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function B(e,t,n){var r=p.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function L(e,t,n){var r=p.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function U(e,t){return g(e.getDate(),t,2)}function W(e,t){return g(e.getHours(),t,2)}function V(e,t){return g(e.getHours()%12||12,t,2)}function H(e,t){return g(1+o.a.count(Object(u.a)(e),e),t,3)}function G(e,t){return g(e.getMilliseconds(),t,3)}function q(e,t){return G(e,t)+"000"}function X(e,t){return g(e.getMonth()+1,t,2)}function Y(e,t){return g(e.getMinutes(),t,2)}function K(e,t){return g(e.getSeconds(),t,2)}function $(e){var t=e.getDay();return 0===t?7:t}function Z(e,t){return g(i.b.count(Object(u.a)(e)-1,e),t,2)}function J(e){var t=e.getDay();return t>=4||0===t?Object(i.c)(e):i.c.ceil(e)}function Q(e,t){return e=J(e),g(i.c.count(Object(u.a)(e),e)+(4===Object(u.a)(e).getDay()),t,2)}function ee(e){return e.getDay()}function te(e,t){return g(i.a.count(Object(u.a)(e)-1,e),t,2)}function ne(e,t){return g(e.getFullYear()%100,t,2)}function re(e,t){return g((e=J(e)).getFullYear()%100,t,2)}function ae(e,t){return g(e.getFullYear()%1e4,t,4)}function ie(e,t){var n=e.getDay();return g((e=n>=4||0===n?Object(i.c)(e):i.c.ceil(e)).getFullYear()%1e4,t,4)}function oe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+g(t/60|0,"0",2)+g(t%60,"0",2)}function ue(e,t){return g(e.getUTCDate(),t,2)}function se(e,t){return g(e.getUTCHours(),t,2)}function ce(e,t){return g(e.getUTCHours()%12||12,t,2)}function le(e,t){return g(1+a.a.count(Object(s.a)(e),e),t,3)}function fe(e,t){return g(e.getUTCMilliseconds(),t,3)}function de(e,t){return fe(e,t)+"000"}function he(e,t){return g(e.getUTCMonth()+1,t,2)}function pe(e,t){return g(e.getUTCMinutes(),t,2)}function ve(e,t){return g(e.getUTCSeconds(),t,2)}function me(e){var t=e.getUTCDay();return 0===t?7:t}function ge(e,t){return g(r.b.count(Object(s.a)(e)-1,e),t,2)}function be(e){var t=e.getUTCDay();return t>=4||0===t?Object(r.c)(e):r.c.ceil(e)}function ye(e,t){return e=be(e),g(r.c.count(Object(s.a)(e),e)+(4===Object(s.a)(e).getUTCDay()),t,2)}function xe(e){return e.getUTCDay()}function we(e,t){return g(r.a.count(Object(s.a)(e)-1,e),t,2)}function Oe(e,t){return g(e.getUTCFullYear()%100,t,2)}function ke(e,t){return g((e=be(e)).getUTCFullYear()%100,t,2)}function je(e,t){return g(e.getUTCFullYear()%1e4,t,4)}function _e(e,t){var n=e.getUTCDay();return g((e=n>=4||0===n?Object(r.c)(e):r.c.ceil(e)).getUTCFullYear()%1e4,t,4)}function Se(){return"+0000"}function Ee(){return"%"}function Ae(e){return+e}function Ce(e){return Math.floor(+e/1e3)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(172);var r=n(97);function a(e,t){try{for(var n=e,r=[],a=0,o=0,u=" > ".length,s=void 0;n&&a++<5&&!("html"===(s=i(n,t))||a>1&&o+r.length*u+s.length>=80);)r.push(s),o+=s.length,n=n.parentNode;return r.reverse().join(" > ")}catch(c){return"<unknown>"}}function i(e,t){var n,a,i,o,u,s,c,l=e,f=[];if(!l||!l.tagName)return"";f.push(l.tagName.toLowerCase());var d=(null===(n=t)||void 0===n?void 0:n.length)?t.filter((function(e){return l.getAttribute(e)})).map((function(e){return[e,l.getAttribute(e)]})):null;if(null===(a=d)||void 0===a?void 0:a.length)d.forEach((function(e){f.push("["+e[0]+'="'+e[1]+'"]')}));else if(l.id&&f.push("#"+l.id),(i=l.className)&&Object(r.h)(i))for(o=i.split(/\s+/),c=0;c<o.length;c++)f.push("."+o[c]);var h=["type","name","title","alt"];for(c=0;c<h.length;c++)u=h[c],(s=l.getAttribute(u))&&f.push("["+u+'="'+s+'"]');return f.join("")}},function(e,t,n){"use strict";(function(e){function r(e){i.length||(a(),!0),i[i.length]=e}n.d(t,"a",(function(){return r}));var a,i=[],o=0;function u(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>1024){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var s="undefined"!==typeof e?e:self,c=s.MutationObserver||s.WebKitMutationObserver;function l(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}a="function"===typeof c?function(e){var t=1,n=new c(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(u):l(u),r.requestFlush=a,r.makeRequestCallFromTimer=l}).call(this,n(116))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=function(e){return e},a=function(e){if(null==e)return r;var t,n,a=e.scale[0],i=e.scale[1],o=e.translate[0],u=e.translate[1];return function(e,r){r||(t=n=0);var s=2,c=e.length,l=new Array(c);for(l[0]=(t+=e[0])*a+o,l[1]=(n+=e[1])*i+u;s<c;)l[s]=e[s],++s;return l}},i=function(e,t){return"string"===typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return o(e,t)}))}:o(e,t)};function o(e,t){var n=t.id,r=t.bbox,a=null==t.properties?{}:t.properties,i=u(e,t);return null==n&&null==r?{type:"Feature",properties:a,geometry:i}:null==r?{type:"Feature",id:n,properties:a,geometry:i}:{type:"Feature",id:n,bbox:r,properties:a,geometry:i}}function u(e,t){var n=a(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var a=r[e<0?~e:e],i=0,o=a.length;i<o;++i)t.push(n(a[i],i));e<0&&function(e,t){for(var n,r=e.length,a=r-t;a<--r;)n=e[a],e[a++]=e[r],e[r]=n}(t,o)}function o(e){return n(e)}function u(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=u(e);t.length<4;)t.push(t[0]);return t}function c(e){return e.map(s)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=u(t.arcs);break;case"MultiLineString":n=t.arcs.map(u);break;case"Polygon":n=c(t.arcs);break;case"MultiPolygon":n=t.arcs.map(c);break;default:return null}return{type:r,coordinates:n}}(t)}var s=function(e,t){var n={},r={},a={},i=[],o=-1;function u(e,t){for(var r in e){var a=e[r];delete t[a.start],delete a.start,delete a.end,a.forEach((function(e){n[e<0?~e:e]=1})),i.push(a)}}return t.forEach((function(n,r){var a,i=e.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(a=t[++o],t[o]=n,t[r]=a)})),t.forEach((function(t){var n,i,o=function(t){var n,r=e.arcs[t<0?~t:t],a=r[0];e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1];return t<0?[n,a]:[a,n]}(t),u=o[0],s=o[1];if(n=a[u])if(delete a[n.end],n.push(t),n.end=s,i=r[s]){delete r[i.start];var c=i===n?n:n.concat(i);r[c.start=n.start]=a[c.end=i.end]=c}else r[n.start]=a[n.end]=n;else if(n=r[s])if(delete r[n.start],n.unshift(t),n.start=u,i=a[u]){delete a[i.end];var l=i===n?n:i.concat(n);r[l.start=i.start]=a[l.end=n.end]=l}else r[n.start]=a[n.end]=n;else r[(n=[t]).start=u]=a[n.end=s]=n})),u(a,r),u(r,a),t.forEach((function(e){n[e<0?~e:e]||i.push([e])})),i},c=function(e){return u(e,l.apply(this,arguments))};function l(e,t,n){var r,a,i;if(arguments.length>1)r=f(e,t,n);else for(a=0,r=new Array(i=e.arcs.length);a<i;++a)r[a]=a;return{type:"MultiLineString",arcs:s(e,r)}}function f(e,t,n){var r,a=[],i=[];function o(e){var t=e<0?~e:e;(i[t]||(i[t]=[])).push({i:e,g:r})}function u(e){e.forEach(o)}function s(e){e.forEach(u)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":u(t.arcs);break;case"MultiLineString":case"Polygon":s(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(s)}(t.arcs)}}(t),i.forEach(null==n?function(e){a.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&a.push(e[0].i)}),a}},function(e,t,n){"use strict";var r,a=n(171),i=n(303),o=n(181),u=function(e,t){var n=Object(o.b)(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")},s={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:o.a,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return u(100*e,t)},r:u,s:function(e,t){var n=Object(o.b)(e,t);if(!n)return e+"";var a=n[0],i=n[1],u=i-(r=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=a.length;return u===s?a:u>s?a+new Array(u-s+1).join("0"):u>0?a.slice(0,u)+"."+a.slice(u):"0."+new Array(1-u).join("0")+Object(o.b)(e,Math.max(0,t+u-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},c=function(e){return e},l=Array.prototype.map,f=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];t.a=function(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?c:(t=l.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,u=t[0],s=0;a>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),i.push(e.substring(a-=u,a+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return i.reverse().join(n)}),u=void 0===e.currency?"":e.currency[0]+"",d=void 0===e.currency?"":e.currency[1]+"",h=void 0===e.decimal?".":e.decimal+"",p=void 0===e.numerals?c:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(l.call(e.numerals,String)),v=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"\u2212":e.minus+"",g=void 0===e.nan?"NaN":e.nan+"";function b(e){var t=(e=Object(i.a)(e)).fill,n=e.align,a=e.sign,c=e.symbol,l=e.zero,b=e.width,y=e.comma,x=e.precision,w=e.trim,O=e.type;"n"===O?(y=!0,O="g"):s[O]||(void 0===x&&(x=12),w=!0,O="g"),(l||"0"===t&&"="===n)&&(l=!0,t="0",n="=");var k="$"===c?u:"#"===c&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",j="$"===c?d:/[%p]/.test(O)?v:"",_=s[O],S=/[defgprs%]/.test(O);function E(e){var i,u,s,c=k,d=j;if("c"===O)d=_(e)+d,e="";else{var v=(e=+e)<0||1/e<0;if(e=isNaN(e)?g:_(Math.abs(e),x),w&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),v&&0===+e&&"+"!==a&&(v=!1),c=(v?"("===a?a:m:"-"===a||"("===a?"":a)+c,d=("s"===O?f[8+r/3]:"")+d+(v&&"("===a?")":""),S)for(i=-1,u=e.length;++i<u;)if(48>(s=e.charCodeAt(i))||s>57){d=(46===s?h+e.slice(i+1):e.slice(i))+d,e=e.slice(0,i);break}}y&&!l&&(e=o(e,1/0));var E=c.length+e.length+d.length,A=E<b?new Array(b-E+1).join(t):"";switch(y&&l&&(e=o(A+e,A.length?b-d.length:1/0),A=""),n){case"<":e=c+e+d+A;break;case"=":e=c+A+e+d;break;case"^":e=A.slice(0,E=A.length>>1)+c+e+d+A.slice(E);break;default:e=A+c+e+d}return p(e)}return x=void 0===x?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),E.toString=function(){return e+""},E}return{format:b,formatPrefix:function(e,t){var n=b(((e=Object(i.a)(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Object(a.a)(t)/3))),o=Math.pow(10,-r),u=f[8+r/3];return function(e){return n(o*e)+u}}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u}));var r=Math.sqrt(50),a=Math.sqrt(10),i=Math.sqrt(2);function o(e,t,n){var o=(t-e)/Math.max(0,n),u=Math.floor(Math.log(o)/Math.LN10),s=o/Math.pow(10,u);return u>=0?(s>=r?10:s>=a?5:s>=i?2:1)*Math.pow(10,u):-Math.pow(10,-u)/(s>=r?10:s>=a?5:s>=i?2:1)}function u(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),u=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),s=o/u;return s>=r?u*=10:s>=a?u*=5:s>=i&&(u*=2),t<e?-u:u}t.a=function(e,t,n){var r,a,i,u,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),0===(u=o(e,t,n))||!isFinite(u))return[];if(u>0){var c=Math.round(e/u),l=Math.round(t/u);for(c*u<e&&++c,l*u>t&&--l,i=new Array(a=l-c+1);++s<a;)i[s]=(c+s)*u}else{u=-u;var f=Math.round(e*u),d=Math.round(t*u);for(f/u<e&&++f,d/u>t&&--d,i=new Array(a=d-f+1);++s<a;)i[s]=(f+s)/u}return r&&i.reverse(),i}},function(e,t,n){"use strict";var r=n(26),a=n(379),i=n(1),o=n.n(i),u=n(163),s=n.n(u),c=!1,l=n(272),f="unmounted",d="exited",h="entering",p="entered",v="exiting",m=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(a=d,r.appearStatus=h):a=p:a=t.unmountOnExit||t.mountOnEnter?f:d,r.state={status:a},r.nextCallback=null,r}Object(a.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===f?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==p&&(t=h):n!==h&&n!==p||(t=v)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===d&&this.setState({status:f})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[s.a.findDOMNode(this),r],i=a[0],o=a[1],u=this.getTimeouts(),l=r?u.appear:u.enter;!e&&!n||c?this.safeSetState({status:p},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,o),this.safeSetState({status:h},(function(){t.props.onEntering(i,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(i,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.a.findDOMNode(this);t&&!c?(this.props.onExit(r),this.safeSetState({status:v},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=a[0],o=a[1];this.props.addEndListener(i,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===f)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(l.a.Provider,{value:null},"function"===typeof n?n(e,a):o.a.cloneElement(o.a.Children.only(n),a))},t}(o.a.Component);function g(){}m.contextType=l.a,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},m.UNMOUNTED=f,m.EXITED=d,m.ENTERING=h,m.ENTERED=p,m.EXITING=v;t.a=m},,,,,,,,,,,,function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=[],o=function(){function e(t,n){r(this,e),n=n||{},void 0===t&&(t=8192),"number"===typeof t&&(t=new ArrayBuffer(t));var a=t.byteLength,i=n.offset?n.offset>>>0:0;t.buffer&&(a=t.byteLength-i,t=t.byteLength!==t.buffer.byteLength?t.buffer.slice(t.byteOffset+i,t.byteOffset+t.byteLength):i?t.buffer.slice(i):t.buffer),this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=a||8192,this._mark=0}return a(e,[{key:"available",value:function(e){return void 0===e&&(e=1),this.offset+e<=this.length}},{key:"isLittleEndian",value:function(){return this.littleEndian}},{key:"setLittleEndian",value:function(){this.littleEndian=!0}},{key:"isBigEndian",value:function(){return!this.littleEndian}},{key:"setBigEndian",value:function(){this.littleEndian=!1}},{key:"skip",value:function(e){void 0===e&&(e=1),this.offset+=e}},{key:"seek",value:function(e){this.offset=e}},{key:"mark",value:function(){this._mark=this.offset}},{key:"reset",value:function(){this.offset=this._mark}},{key:"rewind",value:function(){this.offset=0}},{key:"ensureAvailable",value:function(e){if(void 0===e&&(e=1),!this.available(e)){var t=this._increment+this._increment;this._increment=t;var n=this.length+t,r=new Uint8Array(n);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=n,this._data=new DataView(this.buffer)}}},{key:"readBoolean",value:function(){return 0!==this.readUint8()}},{key:"readInt8",value:function(){return this._data.getInt8(this.offset++)}},{key:"readUint8",value:function(){return this._data.getUint8(this.offset++)}},{key:"readByte",value:function(){return this.readUint8()}},{key:"readBytes",value:function(e){void 0===e&&(e=1);for(var t=new Uint8Array(e),n=0;n<e;n++)t[n]=this.readByte();return t}},{key:"readInt16",value:function(){var e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}},{key:"readUint16",value:function(){var e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}},{key:"readInt32",value:function(){var e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"readUint32",value:function(){var e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"readFloat32",value:function(){var e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"readFloat64",value:function(){var e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}},{key:"readChar",value:function(){return String.fromCharCode(this.readInt8())}},{key:"readChars",value:function(e){void 0===e&&(e=1),i.length=e;for(var t=0;t<e;t++)i[t]=this.readChar();return i.join("")}},{key:"writeBoolean",value:function(e){this.writeUint8(e?255:0)}},{key:"writeInt8",value:function(e){this.ensureAvailable(1),this._data.setInt8(this.offset++,e)}},{key:"writeUint8",value:function(e){this.ensureAvailable(1),this._data.setUint8(this.offset++,e)}},{key:"writeByte",value:function(e){this.writeUint8(e)}},{key:"writeBytes",value:function(e){this.ensureAvailable(e.length);for(var t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t])}},{key:"writeInt16",value:function(e){this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2}},{key:"writeUint16",value:function(e){this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2}},{key:"writeInt32",value:function(e){this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4}},{key:"writeUint32",value:function(e){this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4}},{key:"writeFloat32",value:function(e){this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4}},{key:"writeFloat64",value:function(e){this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8}},{key:"writeChar",value:function(e){this.writeUint8(e.charCodeAt(0))}},{key:"writeChars",value:function(e){for(var t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t))}},{key:"toArray",value:function(){return new Uint8Array(this.buffer,0,this.offset)}}]),e}();e.exports=o},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(309).default,a=n(417);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(185).default,a=n(73).default,i=n(74).default,o={standard:n(685),exif:n(686),gps:n(687)},u=function(){function e(t){if(a(this,e),!t)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=t,this._map=null}return i(e,[{key:"get",value:function(e){if("number"===typeof e)return this.fields.get(e);if("string"===typeof e)return this.fields.get(o[this.kind].tagsByName[e]);throw new Error("expected a number or string")}},{key:"map",get:function(){if(!this._map){this._map={};var e,t=o[this.kind].tagsById,n=r(this.fields.keys());try{for(n.s();!(e=n.n()).done;){var a=e.value;t[a]&&(this._map[t[a]]=this.fields.get(a))}}catch(i){n.e(i)}finally{n.f()}}return this._map}}]),e}();e.exports=u},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){(function(){var e,n="0.3.0",r="2013-03";(e=t).toString=function(){return"version "+n+", released "+r};for(var a=0,i=null,o=null,u={init:function(e){if(0===e||0!==(e&e-1))throw new Error("init: radix-2 required");a=e,u._initArray(),u._makeBitReversalTable(),u._makeCosSinTable()},fft1d:function(e,t){u.fft(e,t,1)},ifft1d:function(e,t){var n=1/a;u.fft(e,t,-1);for(var r=0;r<a;r++)e[r]*=n,t[r]*=n},bt1d:function(e,t){u.fft(e,t,-1)},fft2d:function(e,t){for(var n=[],r=[],i=0,o=0;o<a;o++){i=o*a;for(var s=0;s<a;s++)n[s]=e[s+i],r[s]=t[s+i];u.fft1d(n,r);for(var c=0;c<a;c++)e[c+i]=n[c],t[c+i]=r[c]}for(var l=0;l<a;l++){for(var f=0;f<a;f++)i=l+f*a,n[f]=e[i],r[f]=t[i];u.fft1d(n,r);for(var d=0;d<a;d++)e[i=l+d*a]=n[d],t[i]=r[d]}},ifft2d:function(e,t){for(var n=[],r=[],i=0,o=0;o<a;o++){i=o*a;for(var s=0;s<a;s++)n[s]=e[s+i],r[s]=t[s+i];u.ifft1d(n,r);for(var c=0;c<a;c++)e[c+i]=n[c],t[c+i]=r[c]}for(var l=0;l<a;l++){for(var f=0;f<a;f++)i=l+f*a,n[f]=e[i],r[f]=t[i];u.ifft1d(n,r);for(var d=0;d<a;d++)e[i=l+d*a]=n[d],t[i]=r[d]}},fft:function(e,t,n){for(var r,u,s,c,l,f,d,h,p,v=a>>2,m=0;m<a;m++)m<(c=i[m])&&(l=e[m],e[m]=e[c],e[c]=l,l=t[m],t[m]=t[c],t[c]=l);for(var g=1;g<a;g<<=1){u=0,r=a/(g<<1);for(var b=0;b<g;b++){f=o[u+v],d=n*o[u];for(var y=b;y<a;y+=g<<1)h=f*e[s=y+g]+d*t[s],p=f*t[s]-d*e[s],e[s]=e[y]-h,e[y]+=h,t[s]=t[y]-p,t[y]+=p;u+=r}}},_initArray:function(){i="undefined"!==typeof Uint32Array?new Uint32Array(a):[],o="undefined"!==typeof Float64Array?new Float64Array(1.25*a):[]},_paddingZero:function(){},_makeBitReversalTable:function(){var e=0,t=0,n=0;for(i[0]=0;++e<a;){for(n=a>>1;n<=t;)t-=n,n>>=1;t+=n,i[e]=t}},_makeCosSinTable:function(){var e=a>>1,t=a>>2,n=a>>3,r=e+t,i=Math.sin(Math.PI/a),u=2*i*i,s=Math.sqrt(u*(2-u)),c=o[t]=1,l=o[0]=0;i=2*u;for(var f=1;f<n;f++)u+=i*(c-=u),s-=i*(l+=s),o[f]=l,o[t-f]=c;0!==n&&(o[n]=Math.sqrt(.5));for(var d=0;d<t;d++)o[e-d]=o[d];for(var h=0;h<r;h++)o[h+e]=-o[h]}},s=["init","fft1d","ifft1d","fft2d","ifft2d"],c=0;c<s.length;c++)e[s[c]]=u[s[c]];return e.bt=u.bt1d,e.fft=u.fft1d,e.ifft=u.ifft1d,e}).call(this)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),a=n(5),i=n(17),o=n(18),u=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,e,e.columns,e.rows)}return Object(a.a)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(t,e,n),this}},{key:"get",value:function(e,t){return this.matrix.get(t,e)}}]),n}(n(95).a)},function(e,t,n){"use strict";e.exports=function(e,t,n){var a=e*t,i=r*e,o=i-(i-e),u=e-o,s=r*t,c=s-(s-t),l=t-c,f=u*l-(a-o*c-u*c-o*l);if(n)return n[0]=f,n[1]=a,n;return[f,a]};var r=+(Math.pow(2,27)+1)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({acos_:function(e){var t={x:Object(i.a)(e,"x","acos")};return r.a.runKernel(a.b,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({acosh_:function(e){var t={x:Object(i.a)(e,"x","acosh")};return r.a.runKernel(a.c,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({addN_:function(e){o.b(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),o.b(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)}));var t=e.map((function(e,t){return Object(i.a)(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!o.a(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var u=t;return r.a.runKernel(a.e,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({asin_:function(e){var t={x:Object(i.a)(e,"x","asin")};return r.a.runKernel(a.j,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({asinh_:function(e){var t={x:Object(i.a)(e,"x","asinh")};return r.a.runKernel(a.k,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({atan_:function(e){var t={x:Object(i.a)(e,"x","atan")};return r.a.runKernel(a.l,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({atanh_:function(e){var t={x:Object(i.a)(e,"x","atanh")};return r.a.runKernel(a.n,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(56),s=n(35),c=n(13),l=n(21);var f=Object(c.b)({avgPool3d_:function(e,t,n,c,f){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",h=Object(i.a)(e,"x","avgPool3d","float32"),p=h,v=!1;4===h.rank&&(v=!0,p=Object(l.a)(h,[1,h.shape[0],h.shape[1],h.shape[2],h.shape[3]])),o.b(5===p.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(p.rank,".")})),o.b("NDHWC"===d,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(d)})),Object(u.a)("avgPool3d",c,f);var m={x:p},g={filterSize:t,strides:n,pad:c,dimRoundingMode:f,dataFormat:d},b=r.a.runKernel(a.p,m,g);return b=Object(s.a)(b,p.dtype),v?Object(l.a)(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({broadcastArgs_:function(e,t){var n=Object(i.a)(e,"s0","broadcastArgs","int32"),o=Object(i.a)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==o.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(o.rank));var u={s0:n,s1:o};return r.a.runKernel(a.v,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({ceil_:function(e){var t={x:Object(i.a)(e,"x","ceil","float32")};return r.a.runKernel(a.y,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({clipByValue_:function(e,t,n){var u=Object(i.a)(e,"x","clipByValue");o.b(t<=n,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")}));var s={x:u},c={clipValueMin:t,clipValueMax:n};return r.a.runKernel(a.z,s,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(56),s=n(13),c=n(21);var l=Object(s.b)({conv3d_:function(e,t,n,s){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],d=Object(i.a)(e,"x","conv3d"),h=Object(i.a)(t,"filter","conv3d"),p=d,v=!1;4===d.rank&&(v=!0,p=Object(c.a)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),o.b(5===p.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(p.rank,".")})),o.b(5===h.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(h.rank,".")})),o.b(p.shape[4]===h.shape[3],(function(){return"Error in conv3d: depth of input (".concat(p.shape[4],") must match ")+"input depth for filter ".concat(h.shape[3],".")})),o.b(Object(u.i)(n,f),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(f,"'")})),o.b("NDHWC"===l,(function(){return"Error in conv3d: got dataFormat of ".concat(l," but only NDHWC is currently supported.")}));var m={x:p,filter:h},g={strides:n,pad:s,dataFormat:l,dilations:f},b=r.a.runKernel(a.G,m,g);return v?Object(c.a)(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(13);var s=Object(u.b)({denseBincount_:function(e,t,n){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=Object(i.a)(e,"x","denseBincount"),c=Object(i.a)(t,"weights","denseBincount");o.b("int32"===s.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(s.dtype)})),o.b(s.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(s.rank,".")})),o.b(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),o.b(c.size===s.size||0===c.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(s.shape,", weights shape: ")+"".concat(c.shape,".")}));var l={x:s,weights:c},f={size:n,binaryOutput:u};return r.a.runKernel(a.N,l,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var u=n.map((function(e,t){return Object(i.a)(e,"tensors".concat(t),"einsum")})),s={equation:e};return r.a.runKernel(a.W,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(35),s=n(13);var c=Object(s.b)({erf_:function(e){var t=Object(i.a)(e,"x","erf");o.b("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=Object(u.a)(t,"float32"));var n={x:t};return r.a.runKernel(a.ab,n)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({expm1_:function(e){var t={x:Object(i.a)(e,"x","expm1")};return r.a.runKernel(a.db,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({isFinite_:function(e){var t={x:Object(i.a)(e,"x","isFinite")};return r.a.runKernel(a.ub,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({isInf_:function(e){var t={x:Object(i.a)(e,"x","isInf")};return r.a.runKernel(a.vb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({isNaN_:function(e){var t={x:Object(i.a)(e,"x","isNaN")};return r.a.runKernel(a.wb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),a=n(10);function i(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var i={start:e,stop:t,num:n};return r.a.runKernel(a.Cb,{},i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(83),a=n(9),i=n(24),o=n(69),u=n(13),s=n(137),c=n(346);var l=Object(u.b)({logSigmoid_:function(e){var t=Object(a.a)(e,"x","logSigmoid"),n=Object(r.a)((function(e){return{value:Object(o.a)(Object(c.a)(Object(o.a)(e))),gradFunc:function(t){return Object(i.a)(t,Object(s.a)(Object(o.a)(e)))}}}));return n(t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(6),a=n(83),i=n(9),o=n(35),u=n(89),s=n(151),c=n(139),l=n(24),f=n(13),d=n(40),h=n(43);var p=Object(f.b)({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Object(i.a)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));var f=Object(a.a)((function(e,n){var a=Object(c.a)(e,t,!0),i=Object(d.a)(e,a),f=Object(d.a)(Object(o.a)(i,"float32"),Object(s.a)(Object(h.a)(Object(u.a)(i),t,!0)));n([f]);return{value:f,gradFunc:function(e,n){var a=Object(r.a)(n,1)[0],i=Object(u.a)(a);return Object(d.a)(e,Object(l.a)(Object(h.a)(e,t,!0),i))}}}));return f(n)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),a=n(10),i=n(9),o=n(23),u=n(56),s=n(13),c=n(21);var l=Object(s.b)({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",d=Object(i.a)(e,"x","maxPool3d"),h=d,p=!1;4===d.rank&&(p=!0,h=Object(c.a)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),o.b(5===h.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(h.rank,".")})),o.b("NDHWC"===f,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(f)})),Object(u.a)("maxPool3d",s,l);var v={x:h},m={filterSize:t,strides:n,pad:s,dimRoundingMode:l,dataFormat:f},g=r.a.runKernel(a.Lb,v,m);return p?Object(c.a)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({maxPoolWithArgmax_:function(e,t,n,o){var u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=Object(i.a)(e,"x","maxPoolWithArgmax"),c={x:s},l={filterSize:t,strides:n,pad:o,includeBatchInIndex:u},f=r.a.runKernel(a.Ob,c,l);return{result:f[0],indexes:f[1]}}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(13),u=n(21);var s=Object(o.b)({multinomial_:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=Object(i.a)(e,"logits","multinomial"),c=s.size,l=s.rank;if(c<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(c,"."));if(l>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(l));n=n||Math.random();var f=1===l?Object(u.a)(s,[1,-1]):s,d={logits:f},h={numSamples:t,seed:n,normalized:o},p=r.a.runKernel(a.Vb,d,h);return 1===l?Object(u.a)(p,[p.size]):p}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({onesLike_:function(e){var t={x:Object(i.a)(e,"x","onesLike")};return r.a.runKernel(a.dc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({reciprocal_:function(e){var t={x:Object(i.a)(e,"x","reciprocal")};return r.a.runKernel(a.nc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(19),a=n(7),i=n.n(a),o=n(20),u=n(9),s=n(23);function c(){return(c=Object(r.a)(i.a.mark((function e(t,n){var r,a,c,l,f,d,h,p,v,m,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.a)(t,"x","setdiff1d"),a=Object(u.a)(n,"y","setdiff1d"),s.b(r.dtype===a.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(a.dtype,").")})),s.b(1===r.rank,(function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")})),s.b(1===a.rank,(function(){return"y should be 1D tensor, but got y (".concat(a.shape,").")})),e.next=7,r.data();case 7:return c=e.sent,e.next=10,a.data();case 10:for(l=e.sent,f=new Set(l),d=0,h=0;h<c.length;h++)f.has(c[h])||d++;for(p=new o.b([d],r.dtype),v=new o.b([d],"int32"),m=0,g=0;m<c.length;m++)f.has(c[m])||(p.values[g]=c[m],v.values[g]=m,g++);return e.abrupt("return",[p.toTensor(),v.toTensor()]);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=function(e,t){return c.apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({sign_:function(e){var t={x:Object(i.a)(e,"x","sign")};return r.a.runKernel(a.Dc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Object(i.a)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var o={logits:n},u={dim:t};return r.a.runKernel(a.Hc,o,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({stridedSlice_:function(e,t,n,o){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=Object(i.a)(e,"x","stridedSlice","string_or_numeric"),h={x:d},p={begin:t,end:n,strides:o,beginMask:u,endMask:s,ellipsisMask:c,newAxisMask:l,shrinkAxisMask:f};return r.a.runKernel(a.Uc,h,p)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({tan_:function(e){var t={x:Object(i.a)(e,"x","tan","float32")};return r.a.runKernel(a.ad,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(100),a=n(13),i=n(203);var o=Object(a.b)({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(null!=a&&"bool"===a)throw new Error("Unsupported data type $ { dtype }");for(var u=new i.a(t,n,a,!0,o),s=Object(r.a)(e,a),c=0;c<s.values.length;c++)s.values[c]=u.nextValue();return s.toTensor()}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10),i=n(9),o=n(13),u=n(239);var s=Object(o.b)({scatterND_:function(e,t,n){var o=Object(i.a)(e,"indices","scatterND","int32"),s=Object(i.a)(t,"updates","scatterND");u.validateInput(s,o,n);var c={indices:o,updates:s},l={shape:n};return r.a.runKernel(a.zc,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(10),i=n(9),o=n(13);var u=Object(o.b)({gatherND_:function(e,t){var n=Object(i.a)(t,"indices","gatherND","int32"),o={params:Object(i.a)(e,"x","gatherND","string_or_numeric"),indices:n};return r.a.runKernel(a.nb,o)}})},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof e?e:function(e){return e()};function a(){return new Promise((function(e){return r((function(){return e()}))}))}}).call(this,n(726).setImmediate)},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(116))},function(e,t,n){var r=n(741),a=n(282);e.exports=function(e,t){return e&&r(e,t,a)}},function(e,t,n){var r=n(743),a=n(530),i=n(147),o=n(421),u=n(531),s=n(532),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&a(e),f=!n&&!l&&o(e),d=!n&&!l&&!f&&s(e),h=n||l||f||d,p=h?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||h&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},function(e,t,n){var r=n(744),a=n(176),i=Object.prototype,o=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(746),a=n(423),i=n(424),o=i&&i.isTypedArray,u=o?a(o):r;e.exports=u},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(211),a=n(234);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(781),a=n(176);e.exports=function e(t,n,i,o,u){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,i,o,e,u))}},function(e,t,n){var r=n(782),a=n(785),i=n(786);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var g=e[p],b=t[p];if(o)var y=c?o(b,g,p,t,e,s):o(g,b,p,e,t,s);if(void 0!==y){if(y)continue;v=!1;break}if(m){if(!a(t,(function(e,t){if(!i(m,t)&&(g===e||u(g,e,n,o,s)))return m.push(t)}))){v=!1;break}}else if(g!==b&&!u(g,b,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},function(e,t,n){var r=n(155).Uint8Array;e.exports=r},function(e,t,n){var r=n(542),a=n(431),i=n(282);e.exports=function(e){return r(e,i,a)}},function(e,t,n){var r=n(543),a=n(147);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(234);e.exports=function(e){return e===e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(548),a=n(317);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(147),a=n(432),i=n(799),o=n(802);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},function(e,t,n){var r=n(550),a=n(428),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];i.call(e,t)&&a(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(817);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(543),a=n(426),i=n(431),o=n(544),u=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=a(e);return t}:o;e.exports=u},function(e,t,n){var r=n(148);e.exports=function(e,t,n){return 0!==r(e,t,n)}},function(e,t,n){var r=n(437),a=n(552),i=n(322),o=n(440),u=n(439),s=n(441);e.exports=function(e,t,n,c){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return a(e,n,c);case">":return i(e,n,c);case">=":return o(e,n,c);case"<":return u(e,n,c);case"<=":return s(e,n,c);default:throw new TypeError("Invalid operator: ".concat(t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processStyleName=void 0,t.createMarkupForStyles=function(e,t){var n="";for(var a in e){var i=0===a.indexOf("--");if(e.hasOwnProperty(a)&&"label"!==a){var o=e[a];0,null!=o&&(i?n+=a+":"+o+";":(n+=u(a)+":",n+=(0,r.default)(a,o,t)+";"))}}return n||null};o(n(874));var r=o(n(876)),a=o(n(879)),i=o(n(881));o(n(555));function o(e){return e&&e.__esModule?e:{default:e}}var u=t.processStyleName=(0,i.default)(a.default)},function(e,t,n){"use strict";var r=n(878);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSurfaceInfo=function(e){return null!=e.name},t.isSurface=function(e){return e.drawArea instanceof HTMLElement}},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default;Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(901),u="tfjs-visor-container";t.visor=function(){if("undefined"===typeof document)throw new Error("No document defined. This library needs a browser/dom to work");if(document.getElementById(u)&&null!=i)return i;var e,t=document.getElementById(u);function n(t,n){var r=null;return e=o.VisorComponent.render(t,e,{ref:function(e){return r=e},surfaceList:Array.from(n.values())}),r}null==t&&((t=document.createElement("div")).id=u,document.body.appendChild(t));var r=new Map,a=n(t,r);return i=new s(a,t,r,n)};var s=function(){function e(t,n,a,i){r(this,e),this.visorComponent=t,this.el=n,this.surfaceList=a,this.renderVisor=i}return a(e,[{key:"surface",value:function(e){var t=e.name,n=null==e.tab?"Visor":e.tab;if(null==t||!("string"===typeof t||t instanceof String))throw new Error("You must pass a config object with a 'name' property to create or retrieve a surface");var r=Object.assign({},e,{tab:n}),a="".concat(t,"-").concat(n);return this.surfaceList.has(a)||this.surfaceList.set(a,r),this.renderVisor(this.el,this.surfaceList),this.visorComponent.getSurface(t,n)}},{key:"isFullscreen",value:function(){return this.visorComponent.isFullscreen()}},{key:"isOpen",value:function(){return this.visorComponent.isOpen()}},{key:"close",value:function(){return this.visorComponent.close()}},{key:"open",value:function(){return this.visorComponent.open()}},{key:"toggle",value:function(){return this.visorComponent.toggle()}},{key:"toggleFullScreen",value:function(){return this.visorComponent.toggleFullScreen()}},{key:"bindKeys",value:function(){return this.visorComponent.bindKeys()}},{key:"unbindKeys",value:function(){return this.visorComponent.unbindKeys()}},{key:"setActiveTab",value:function(e){if(!this.visorComponent.state.tabs.has(e))throw new Error("Tab '".concat(e,"' does not exist"));this.visorComponent.setState({activeTab:e})}}]),e}();t.Visor=s},function(e,t,n){"use strict";var r=n(7),a=n(310).default,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(237)),s=n(186),c=n(325),l=n(150);t.linechart=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,void 0,void 0,r.mark((function i(){var o,d,h,p,v,m,g,b,y,x,w,O,k,j;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(o=Array.isArray(t.values[0])?t.values:[t.values],d=o[0].length,h=t.series?t.series:o.map((function(e,t){return"Series ".concat(t+1)})),c.assert(h.length===o.length,"Must have an equal number of series labels as there are data series"),null!=n.seriesColors&&c.assert(n.seriesColors.length===o.length,"Must have an equal number of series colors as there are data series"),p=[],v=function(e){var t={x:e};h.forEach((function(n,r){var a=o[r][e].y;t[n]=a,t["".concat(n,"-name")]=n})),p.push(t)},m=0;m<d;m++)v(m);return g=Object.assign({},f,n),b=function(){return g.zoomToFit?{zero:!1}:null!=g.yAxisDomain?{domain:g.yAxisDomain}:void 0},y={x:{field:"x",type:g.xType,title:g.xLabel},tooltip:[{field:"x",type:"quantitative"}].concat(a(h.map((function(e){return{field:e,type:"quantitative"}}))))},x=h.map((function(e){return{data:void 0,mark:{type:"line",clip:!0},encoding:{y:{field:e,type:g.yType,title:g.yLabel,scale:b()},color:{field:"".concat(e,"-name"),type:"nominal",legend:{values:h,title:null},scale:{range:g.seriesColors}}}}})),w={mark:"rule",selection:{hover:{type:"single",on:"mouseover",nearest:!0,clear:"mouseout"}},encoding:{color:{value:"grey",condition:{selection:{not:"hover"},value:"transparent"}}}},O=l.getDrawArea(e),k={width:g.width||s.getDefaultWidth(O),height:g.height||s.getDefaultHeight(O),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},text:{fontSize:g.fontSize},legend:{labelFontSize:g.fontSize,titleFontSize:g.fontSize}},data:{values:p},encoding:y,layer:[].concat(a(x),[w])},j={actions:!1,mode:"vega-lite",defaultStyle:!1},r.next=18,u.default(O,k,j);case 18:return r.abrupt("return",Promise.resolve());case 19:case"end":return r.stop()}}),i)})))};var f={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11}},function(e,t,n){"use strict";n.r(t);var r=n(92),a=n(20);Object(a.d)().prototype.abs=function(){return this.throwIfDisposed(),Object(r.a)(this)};var i=n(491);Object(a.d)().prototype.acos=function(){return this.throwIfDisposed(),Object(i.a)(this)};var o=n(492);Object(a.d)().prototype.acosh=function(){return this.throwIfDisposed(),Object(o.a)(this)};var u=n(39);Object(a.d)().prototype.add=function(e){return this.throwIfDisposed(),Object(u.a)(this,e)};var s=n(331);Object(a.d)().prototype.all=function(e,t){return this.throwIfDisposed(),Object(s.a)(this,e,t)};var c=n(332);Object(a.d)().prototype.any=function(e,t){return this.throwIfDisposed(),Object(c.a)(this,e,t)};var l=n(333);Object(a.d)().prototype.argMax=function(e){return this.throwIfDisposed(),Object(l.a)(this,e)};var f=n(334);Object(a.d)().prototype.argMin=function(e){return this.throwIfDisposed(),Object(f.a)(this,e)};var d=n(21),h=n(23);Object(a.d)().prototype.asScalar=function(){return this.throwIfDisposed(),Object(h.b)(1===this.size,(function(){return"The array must have only 1 element."})),Object(d.a)(this,[])};var p=n(35);Object(a.d)().prototype.asType=function(e){return this.throwIfDisposed(),Object(p.a)(this,e)},Object(a.d)().prototype.as1D=function(){return this.throwIfDisposed(),Object(d.a)(this,[this.size])},Object(a.d)().prototype.as2D=function(e,t){return this.throwIfDisposed(),Object(d.a)(this,[e,t])},Object(a.d)().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),Object(d.a)(this,[e,t,n])},Object(a.d)().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),Object(d.a)(this,[e,t,n,r])},Object(a.d)().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),Object(d.a)(this,[e,t,n,r,a])};var v=n(494);Object(a.d)().prototype.asin=function(){return this.throwIfDisposed(),Object(v.a)(this)};var m=n(495);Object(a.d)().prototype.asinh=function(){return this.throwIfDisposed(),Object(m.a)(this)};var g=n(496);Object(a.d)().prototype.atan=function(){return this.throwIfDisposed(),Object(g.a)(this)};var b=n(335);Object(a.d)().prototype.atan2=function(e){return this.throwIfDisposed(),Object(b.a)(this,e)};var y=n(497);Object(a.d)().prototype.atanh=function(){return this.throwIfDisposed(),Object(y.a)(this)};var x=n(243);Object(a.d)().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),Object(x.a)(this,e,t,n,r)};var w=n(191);Object(a.d)().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Object(w.a)(this,e,t)};var O=n(162);Object(a.d)().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),Object(O.a)(this,e,t,n,r,a)};var k=n(202);Object(a.d)().prototype.broadcastTo=function(e){return this.throwIfDisposed(),Object(k.a)(this,e)},Object(a.d)().prototype.cast=function(e){return this.throwIfDisposed(),Object(p.a)(this,e)};var j=n(500);Object(a.d)().prototype.ceil=function(){return this.throwIfDisposed(),Object(j.a)(this)};var _=n(501);Object(a.d)().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Object(_.a)(this,e,t)};var S=n(16),E=n(75);Object(a.d)().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof a.a&&(e=[e]),Object(E.a)([this].concat(Object(S.a)(e)),t)};var A=n(337);Object(a.d)().prototype.conv1d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(A.a)(this,e,t,n,r,a,i)};var C=n(338);Object(a.d)().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),Object(C.a)(this,e,t,n,r,a)};var N=n(134);Object(a.d)().prototype.conv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(N.a)(this,e,t,n,r,a,i)};var T=n(244);Object(a.d)().prototype.cos=function(){return this.throwIfDisposed(),Object(T.a)(this)};var D=n(339);Object(a.d)().prototype.cosh=function(){return this.throwIfDisposed(),Object(D.a)(this)};var I=n(245);Object(a.d)().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),Object(I.a)(this,e,t,n)};var M=n(340);Object(a.d)().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),Object(M.a)(this,e,t)};var F=n(192);Object(a.d)().prototype.depthwiseConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(F.a)(this,e,t,n,r,a,i)};var R=n(341);Object(a.d)().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),Object(R.a)(this,e,t,n,r,a)};var P=n(342);Object(a.d)().prototype.divNoNan=function(e){return this.throwIfDisposed(),Object(P.a)(this,e)};var z=n(41);Object(a.d)().prototype.div=function(e){return this.throwIfDisposed(),Object(z.a)(this,e)};var B=n(343);Object(a.d)().prototype.dot=function(e){return this.throwIfDisposed(),Object(B.a)(this,e)};var L=n(246);Object(a.d)().prototype.elu=function(){return this.throwIfDisposed(),Object(L.a)(this)};var U=n(193);Object(a.d)().prototype.equal=function(e){return this.throwIfDisposed(),Object(U.a)(this,e)};var W=n(505);Object(a.d)().prototype.erf=function(){return this.throwIfDisposed(),Object(W.a)(this)};var V=n(89);Object(a.d)().prototype.exp=function(){return this.throwIfDisposed(),Object(V.a)(this)};var H=n(126);Object(a.d)().prototype.expandDims=function(e){return this.throwIfDisposed(),Object(H.a)(this,e)};var G=n(506);Object(a.d)().prototype.expm1=function(){return this.throwIfDisposed(),Object(G.a)(this)};var q=n(258);Object(a.d)().prototype.fft=function(){return this.throwIfDisposed(),Object(q.a)(this)},Object(a.d)().prototype.flatten=function(){return this.throwIfDisposed(),Object(d.a)(this,[this.size])};var X=n(247);Object(a.d)().prototype.floor=function(){return this.throwIfDisposed(),Object(X.a)(this)};var Y=n(242);Object(a.d)().prototype.floorDiv=function(e){return this.throwIfDisposed(),Object(Y.a)(this,e)};var K=n(194);Object(a.d)().prototype.gather=function(e,t){return this.throwIfDisposed(),Object(K.a)(this,e,t)};var $=n(135);Object(a.d)().prototype.greaterEqual=function(e){return this.throwIfDisposed(),Object($.a)(this,e)};var Z=n(90);Object(a.d)().prototype.greater=function(e){return this.throwIfDisposed(),Object(Z.a)(this,e)};var J=n(218);Object(a.d)().prototype.ifft=function(){return this.throwIfDisposed(),Object(J.a)(this)};var Q=n(359);Object(a.d)().prototype.irfft=function(){return this.throwIfDisposed(),Object(Q.a)(this)};var ee=n(507);Object(a.d)().prototype.isFinite=function(){return this.throwIfDisposed(),Object(ee.a)(this)};var te=n(508);Object(a.d)().prototype.isInf=function(){return this.throwIfDisposed(),Object(te.a)(this)};var ne=n(509);Object(a.d)().prototype.isNaN=function(){return this.throwIfDisposed(),Object(ne.a)(this)};var re=n(249);Object(a.d)().prototype.leakyRelu=function(e){return this.throwIfDisposed(),Object(re.a)(this,e)};var ae=n(117);Object(a.d)().prototype.lessEqual=function(e){return this.throwIfDisposed(),Object(ae.a)(this,e)};var ie=n(250);Object(a.d)().prototype.less=function(e){return this.throwIfDisposed(),Object(ie.a)(this,e)};var oe=n(344);Object(a.d)().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),Object(oe.a)(this,e,t,n,r)};var ue=n(511);Object(a.d)().prototype.logSigmoid=function(){return this.throwIfDisposed(),Object(ue.a)(this)};var se=n(512);Object(a.d)().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Object(se.a)(this,e)};var ce=n(251);Object(a.d)().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),Object(ce.a)(this,e,t)};var le=n(151);Object(a.d)().prototype.log=function(){return this.throwIfDisposed(),Object(le.a)(this)};var fe=n(345);Object(a.d)().prototype.log1p=function(){return this.throwIfDisposed(),Object(fe.a)(this)};var de=n(122);Object(a.d)().prototype.logicalAnd=function(e){return this.throwIfDisposed(),Object(de.a)(this,e)};var he=n(195);Object(a.d)().prototype.logicalNot=function(){return this.throwIfDisposed(),Object(he.a)(this)};var pe=n(252);Object(a.d)().prototype.logicalOr=function(e){return this.throwIfDisposed(),Object(pe.a)(this,e)};var ve=n(347);Object(a.d)().prototype.logicalXor=function(e){return this.throwIfDisposed(),Object(ve.a)(this,e)};var me=n(61);Object(a.d)().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Object(me.a)(this,e,t,n)};var ge=n(253);Object(a.d)().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),Object(ge.a)(this,e,t,n,r)};var be=n(139);Object(a.d)().prototype.max=function(e,t){return this.throwIfDisposed(),Object(be.a)(this,e,t)};var ye=n(190);Object(a.d)().prototype.maximum=function(e){return this.throwIfDisposed(),Object(ye.a)(this,e)};var xe=n(178);Object(a.d)().prototype.mean=function(e,t){return this.throwIfDisposed(),Object(xe.a)(this,e,t)};var we=n(215);Object(a.d)().prototype.min=function(e,t){return this.throwIfDisposed(),Object(we.a)(this,e,t)};var Oe=n(254);Object(a.d)().prototype.minimum=function(e){return this.throwIfDisposed(),Object(Oe.a)(this,e)};var ke=n(348);Object(a.d)().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),Object(ke.a)(this,e,t)};var je=n(349);Object(a.d)().prototype.mod=function(e){return this.throwIfDisposed(),Object(je.a)(this,e)};var _e=n(24);Object(a.d)().prototype.mul=function(e){return this.throwIfDisposed(),Object(_e.a)(this,e)};var Se=n(69);Object(a.d)().prototype.neg=function(){return this.throwIfDisposed(),Object(Se.a)(this)};var Ee=n(262);Object(a.d)().prototype.norm=function(e,t,n){return this.throwIfDisposed(),Object(Ee.a)(this,e,t,n)};var Ae=n(255);Object(a.d)().prototype.notEqual=function(e){return this.throwIfDisposed(),Object(Ae.a)(this,e)};var Ce=n(216);Object(a.d)().prototype.oneHot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),Object(Ce.a)(this,e,t,n)};var Ne=n(516);Object(a.d)().prototype.onesLike=function(){return this.throwIfDisposed(),Object(Ne.a)(this)};var Te=n(118);Object(a.d)().prototype.pad=function(e,t){return this.throwIfDisposed(),Object(Te.a)(this,e,t)};var De=n(350);Object(a.d)().prototype.pool=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(De.a)(this,e,t,n,r,a,i)};var Ie=n(111);Object(a.d)().prototype.pow=function(e){return this.throwIfDisposed(),Object(Ie.a)(this,e)};var Me=n(256);Object(a.d)().prototype.prelu=function(e){return this.throwIfDisposed(),Object(Me.a)(this,e)};var Fe=n(351);Object(a.d)().prototype.prod=function(e,t){return this.throwIfDisposed(),Object(Fe.a)(this,e,t)};var Re=n(517);Object(a.d)().prototype.reciprocal=function(){return this.throwIfDisposed(),Object(Re.a)(this)};var Pe=n(159);Object(a.d)().prototype.relu=function(){return this.throwIfDisposed(),Object(Pe.a)(this)};var ze=n(257);Object(a.d)().prototype.relu6=function(){return this.throwIfDisposed(),Object(ze.a)(this)},Object(a.d)().prototype.reshapeAs=function(e){return this.throwIfDisposed(),Object(d.a)(this,e.shape)},Object(a.d)().prototype.reshape=function(e){return this.throwIfDisposed(),Object(d.a)(this,e)};var Be=n(382);Object(a.d)().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),Object(Be.a)(this,e,t,n)};var Le=n(381);Object(a.d)().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),Object(Le.a)(this,e,t,n)};var Ue=n(101);Object(a.d)().prototype.reverse=function(e){return this.throwIfDisposed(),Object(Ue.a)(this,e)};var We=n(259);Object(a.d)().prototype.rfft=function(){return this.throwIfDisposed(),Object(We.a)(this)};var Ve=n(353);Object(a.d)().prototype.round=function(){return this.throwIfDisposed(),Object(Ve.a)(this)};var He=n(354);Object(a.d)().prototype.rsqrt=function(){return this.throwIfDisposed(),Object(He.a)(this)};var Ge=n(355);Object(a.d)().prototype.selu=function(){return this.throwIfDisposed(),Object(Ge.a)(this)};var qe=n(356);Object(a.d)().prototype.separableConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(qe.a)(this,e,t,n,r,a,i)};var Xe=n(137);Object(a.d)().prototype.sigmoid=function(){return this.throwIfDisposed(),Object(Xe.a)(this)};var Ye=n(519);Object(a.d)().prototype.sign=function(){return this.throwIfDisposed(),Object(Ye.a)(this)};var Ke=n(357);Object(a.d)().prototype.sin=function(){return this.throwIfDisposed(),Object(Ke.a)(this)};var $e=n(358);Object(a.d)().prototype.sinh=function(){return this.throwIfDisposed(),Object($e.a)(this)};var Ze=n(64);Object(a.d)().prototype.slice=function(e,t){return this.throwIfDisposed(),Object(Ze.a)(this,e,t)};var Je=n(520);Object(a.d)().prototype.softmax=function(e){return this.throwIfDisposed(),Object(Je.a)(this,e)};var Qe=n(346);Object(a.d)().prototype.softplus=function(){return this.throwIfDisposed(),Object(Qe.a)(this)};var et=n(196);Object(a.d)().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Object(et.a)(this,e,t)};var tt=n(123);Object(a.d)().prototype.split=function(e,t){return this.throwIfDisposed(),Object(tt.a)(this,e,t)};var nt=n(85);Object(a.d)().prototype.sqrt=function(){return this.throwIfDisposed(),Object(nt.a)(this)};var rt=n(63);Object(a.d)().prototype.square=function(){return this.throwIfDisposed(),Object(rt.a)(this)};var at=n(260);Object(a.d)().prototype.squaredDifference=function(e){return this.throwIfDisposed(),Object(at.a)(this,e)};var it=n(197);Object(a.d)().prototype.squeeze=function(e){return this.throwIfDisposed(),Object(it.a)(this,e)};var ot=n(124);Object(a.d)().prototype.stack=function(e,t){this.throwIfDisposed();var n=e instanceof a.a?[this,e]:[this].concat(Object(S.a)(e));return Object(ot.a)(n,t)};var ut=n(160);Object(a.d)().prototype.step=function(e){return this.throwIfDisposed(),Object(ut.a)(this,e)};var st=n(521);Object(a.d)().prototype.stridedSlice=function(e,t,n,r,a,i,o,u){return this.throwIfDisposed(),Object(st.a)(this,e,t,n,r,a,i,o,u)};var ct=n(40);Object(a.d)().prototype.sub=function(e){return this.throwIfDisposed(),Object(ct.a)(this,e)};var lt=n(43);Object(a.d)().prototype.sum=function(e,t){return this.throwIfDisposed(),Object(lt.a)(this,e,t)};var ft=n(522);Object(a.d)().prototype.tan=function(){return this.throwIfDisposed(),Object(ft.a)(this)};var dt=n(291);Object(a.d)().prototype.tanh=function(){return this.throwIfDisposed(),Object(dt.a)(this)};var ht=n(138);Object(a.d)().prototype.tile=function(e){return this.throwIfDisposed(),Object(ht.a)(this,e)},Object(a.d)().prototype.toBool=function(){return this.throwIfDisposed(),Object(p.a)(this,"bool")},Object(a.d)().prototype.toFloat=function(){return this.throwIfDisposed(),Object(p.a)(this,"float32")},Object(a.d)().prototype.toInt=function(){return this.throwIfDisposed(),Object(p.a)(this,"int32")};var pt=n(361);Object(a.d)().prototype.topk=function(e,t){return this.throwIfDisposed(),Object(pt.a)(this,e,t)};var vt=n(107);Object(a.d)().prototype.transpose=function(e){return this.throwIfDisposed(),Object(vt.a)(this,e)};var mt=n(362);Object(a.d)().prototype.unique=function(e){return this.throwIfDisposed(),Object(mt.a)(this,e)};var gt=n(261);Object(a.d)().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),Object(gt.a)(this,e,t)};var bt=n(161);Object(a.d)().prototype.unstack=function(e){return this.throwIfDisposed(),Object(bt.a)(this,e)};var yt=n(79);Object(a.d)().prototype.where=function(e,t){return this.throwIfDisposed(),Object(yt.a)(e,this,t)};var xt=n(49);Object(a.d)().prototype.zerosLike=function(){return this.throwIfDisposed(),Object(xt.a)(this)}},function(e,t,n){"use strict";n.r(t),n.d(t,"formatDefaultLocale",(function(){return g})),n.d(t,"format",(function(){return l})),n.d(t,"formatPrefix",(function(){return f})),n.d(t,"formatLocale",(function(){return m})),n.d(t,"formatSpecifier",(function(){return o})),n.d(t,"precisionFixed",(function(){return b})),n.d(t,"precisionPrefix",(function(){return y})),n.d(t,"precisionRound",(function(){return x}));var r=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},a=function(e){return(e=r(Math.abs(e)))?e[1]:NaN},i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(e){return new u(e)}function u(e){if(!(t=i.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}o.prototype=u.prototype,u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s,c,l,f,d=function(e,t){var n=r(e,t);if(!n)return e+"";var a=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")},h={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return d(100*e,t)},r:d,s:function(e,t){var n=r(e,t);if(!n)return e+"";var a=n[0],i=n[1],o=i-(s=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=a.length;return o===u?a:o>u?a+new Array(o-u+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+r(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},p=function(e){return e},v=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],m=function(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var a=e.length,i=[],o=0,u=t[0],s=0;a>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),i.push(e.substring(a-=u,a+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return i.reverse().join(n)}):p,i=e.currency,u=e.decimal,c=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(e.numerals):p,l=e.percent||"%";function f(e){var t=(e=o(e)).fill,n=e.align,a=e.sign,f=e.symbol,d=e.zero,p=e.width,m=e.comma,g=e.precision,b=e.trim,y=e.type;"n"===y?(m=!0,y="g"):h[y]||(null==g&&(g=12),b=!0,y="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var x="$"===f?i[0]:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===f?i[1]:/[%p]/.test(y)?l:"",O=h[y],k=/[defgprs%]/.test(y);function j(e){var i,o,l,f=x,h=w;if("c"===y)h=O(e)+h,e="";else{var j=(e=+e)<0;if(e=O(Math.abs(e),g),b&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(a>0){if(!+e[r])break e;a=0}}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),j&&0===+e&&(j=!1),f=(j?"("===a?a:"-":"-"===a||"("===a?"":a)+f,h=("s"===y?v[8+s/3]:"")+h+(j&&"("===a?")":""),k)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){h=(46===l?u+e.slice(i+1):e.slice(i))+h,e=e.slice(0,i);break}}m&&!d&&(e=r(e,1/0));var _=f.length+e.length+h.length,S=_<p?new Array(p-_+1).join(t):"";switch(m&&d&&(e=r(S+e,S.length?p-h.length:1/0),S=""),n){case"<":e=f+e+h+S;break;case"=":e=f+S+e+h;break;case"^":e=S.slice(0,_=S.length>>1)+f+e+h+S.slice(_);break;default:e=S+f+e+h}return c(e)}return g=null==g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),j.toString=function(){return e+""},j}return{format:f,formatPrefix:function(e,t){var n=f(((e=o(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(a(t)/3))),i=Math.pow(10,-r),u=v[8+r/3];return function(e){return n(i*e)+u}}}};function g(e){return c=m(e),l=c.format,f=c.formatPrefix,c}g({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var b=function(e){return Math.max(0,-a(Math.abs(e)))},y=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(a(t)/3)))-a(Math.abs(e)))},x=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,a(t)-a(e))+1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(10);function i(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var a=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(i,"."));var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var o=n(9),u=n(13);var s=Object(u.b)({sparseToDense_:function(e,t,n){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=Object(o.a)(e,"sparseIndices","sparseToDense","int32"),c=Object(o.a)(t,"sparseValues","sparseToDense"),l=Object(o.a)(u,"defaultValue","sparseToDense",c.dtype);i(s,c,n,l);var f={sparseIndices:s,sparseValues:c,defaultValue:l},d={outputShape:n};return r.a.runKernel(a.Oc,f,d)}})},function(e,t,n){"use strict";t.decode=n(679)},function(e,t,n){"use strict";var r=n(690),a=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),i=function(e){var t=r(e);return a.has(t&&t.ext)?t:null};e.exports=i,e.exports.default=i,Object.defineProperty(i,"minimumBytes",{value:r.minimumBytes})},function(e,t,n){"use strict";function r(e){if(this.size=0|e,this.size<=1||0!==(this.size&this.size-1))throw new Error("FFT size must be a power of two and bigger than 1");this._csize=e<<1;for(var t=new Array(2*this.size),n=0;n<t.length;n+=2){var r=Math.PI*n/this.size;t[n]=Math.cos(r),t[n+1]=-Math.sin(r)}this.table=t;for(var a=0,i=1;this.size>i;i<<=1)a++;this._width=a%2===0?a-1:a,this._bitrev=new Array(1<<this._width);for(var o=0;o<this._bitrev.length;o++){this._bitrev[o]=0;for(var u=0;u<this._width;u+=2){var s=this._width-u-2;this._bitrev[o]|=(o>>>u&3)<<s}}this._out=null,this._data=null,this._inv=0}e.exports=r,r.prototype.fromComplexArray=function(e,t){for(var n=t||new Array(e.length>>>1),r=0;r<e.length;r+=2)n[r>>>1]=e[r];return n},r.prototype.createComplexArray=function(){for(var e=new Array(this._csize),t=0;t<e.length;t++)e[t]=0;return e},r.prototype.toComplexArray=function(e,t){for(var n=t||this.createComplexArray(),r=0;r<n.length;r+=2)n[r]=e[r>>>1],n[r+1]=0;return n},r.prototype.completeSpectrum=function(e){for(var t=this._csize,n=t>>>1,r=2;r<n;r+=2)e[t-r]=e[r],e[t-r+1]=-e[r+1]},r.prototype.transform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._transform4(),this._out=null,this._data=null},r.prototype.realTransform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._realTransform4(),this._out=null,this._data=null},r.prototype.inverseTransform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=1,this._transform4();for(var n=0;n<e.length;n++)e[n]/=this.size;this._out=null,this._data=null},r.prototype._transform4=function(){var e,t,n=this._out,r=this._csize,a=1<<this._width,i=r/a<<1,o=this._bitrev;if(4===i)for(e=0,t=0;e<r;e+=i,t++){var u=o[t];this._singleTransform2(e,u,a)}else for(e=0,t=0;e<r;e+=i,t++){var s=o[t];this._singleTransform4(e,s,a)}var c=this._inv?-1:1,l=this.table;for(a>>=2;a>=2;a>>=2){var f=(i=r/a<<1)>>>2;for(e=0;e<r;e+=i)for(var d=e+f,h=e,p=0;h<d;h+=2,p+=a){var v=h,m=v+f,g=m+f,b=g+f,y=n[v],x=n[v+1],w=n[m],O=n[m+1],k=n[g],j=n[g+1],_=n[b],S=n[b+1],E=y,A=x,C=l[p],N=c*l[p+1],T=w*C-O*N,D=w*N+O*C,I=l[2*p],M=c*l[2*p+1],F=k*I-j*M,R=k*M+j*I,P=l[3*p],z=c*l[3*p+1],B=_*P-S*z,L=_*z+S*P,U=E+F,W=A+R,V=E-F,H=A-R,G=T+B,q=D+L,X=c*(T-B),Y=c*(D-L),K=U+G,$=W+q,Z=U-G,J=W-q,Q=V+Y,ee=H-X,te=V-Y,ne=H+X;n[v]=K,n[v+1]=$,n[m]=Q,n[m+1]=ee,n[g]=Z,n[g+1]=J,n[b]=te,n[b+1]=ne}}},r.prototype._singleTransform2=function(e,t,n){var r=this._out,a=this._data,i=a[t],o=a[t+1],u=a[t+n],s=a[t+n+1],c=i+u,l=o+s,f=i-u,d=o-s;r[e]=c,r[e+1]=l,r[e+2]=f,r[e+3]=d},r.prototype._singleTransform4=function(e,t,n){var r=this._out,a=this._data,i=this._inv?-1:1,o=2*n,u=3*n,s=a[t],c=a[t+1],l=a[t+n],f=a[t+n+1],d=a[t+o],h=a[t+o+1],p=a[t+u],v=a[t+u+1],m=s+d,g=c+h,b=s-d,y=c-h,x=l+p,w=f+v,O=i*(l-p),k=i*(f-v),j=m+x,_=g+w,S=b+k,E=y-O,A=m-x,C=g-w,N=b-k,T=y+O;r[e]=j,r[e+1]=_,r[e+2]=S,r[e+3]=E,r[e+4]=A,r[e+5]=C,r[e+6]=N,r[e+7]=T},r.prototype._realTransform4=function(){var e,t,n=this._out,r=this._csize,a=1<<this._width,i=r/a<<1,o=this._bitrev;if(4===i)for(e=0,t=0;e<r;e+=i,t++){var u=o[t];this._singleRealTransform2(e,u>>>1,a>>>1)}else for(e=0,t=0;e<r;e+=i,t++){var s=o[t];this._singleRealTransform4(e,s>>>1,a>>>1)}var c=this._inv?-1:1,l=this.table;for(a>>=2;a>=2;a>>=2){var f=(i=r/a<<1)>>>1,d=f>>>1,h=d>>>1;for(e=0;e<r;e+=i)for(var p=0,v=0;p<=h;p+=2,v+=a){var m=e+p,g=m+d,b=g+d,y=b+d,x=n[m],w=n[m+1],O=n[g],k=n[g+1],j=n[b],_=n[b+1],S=n[y],E=n[y+1],A=x,C=w,N=l[v],T=c*l[v+1],D=O*N-k*T,I=O*T+k*N,M=l[2*v],F=c*l[2*v+1],R=j*M-_*F,P=j*F+_*M,z=l[3*v],B=c*l[3*v+1],L=S*z-E*B,U=S*B+E*z,W=A+R,V=C+P,H=A-R,G=C-P,q=D+L,X=I+U,Y=c*(D-L),K=c*(I-U),$=W+q,Z=V+X,J=H+K,Q=G-Y;if(n[m]=$,n[m+1]=Z,n[g]=J,n[g+1]=Q,0!==p){if(p!==h){var ee=H+-c*K,te=-G+-c*Y,ne=W+-c*q,re=-V- -c*X,ae=e+d-p,ie=e+f-p;n[ae]=ee,n[ae+1]=te,n[ie]=ne,n[ie+1]=re}}else{var oe=W-q,ue=V-X;n[b]=oe,n[b+1]=ue}}}},r.prototype._singleRealTransform2=function(e,t,n){var r=this._out,a=this._data,i=a[t],o=a[t+n],u=i+o,s=i-o;r[e]=u,r[e+1]=0,r[e+2]=s,r[e+3]=0},r.prototype._singleRealTransform4=function(e,t,n){var r=this._out,a=this._data,i=this._inv?-1:1,o=2*n,u=3*n,s=a[t],c=a[t+n],l=a[t+o],f=a[t+u],d=s+l,h=s-l,p=c+f,v=i*(c-f),m=d+p,g=h,b=-v,y=d-p,x=h,w=v;r[e]=m,r[e+1]=0,r[e+2]=g,r[e+3]=b,r[e+4]=y,r[e+5]=0,r[e+6]=x,r[e+7]=w}},function(e,t){e.exports=function(e){return 0===e?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,(e|=e>>16)+1)}},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){return"Array"===r.call(e).substr(-6,5)}},function(e,t,n){"use strict";function r(e){if("number"!==typeof e)throw new TypeError("Expected a number")}t.ascending=function(e,t){return r(e),r(t),Number.isNaN(e)?-1:Number.isNaN(t)?1:e-t},t.descending=function(e,t){return r(e),r(t),Number.isNaN(e)?1:Number.isNaN(t)?-1:t-e}},function(e,t,n){!function(){function t(e,t,n){this.next=n,n&&(n.prev=this),this.prev=t,t&&(t.next=this),this.data=e}function n(){if(!(this instanceof n))return new n;this._head=null,this._tail=null,this.length=0}n.prototype={push:function(e){this._tail=new t(e,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(0!==this.length){var e=this._tail;return this._tail=e.prev,e.prev&&(e.prev=this._tail.next=null),this.length--,1===this.length?this._head=this._tail:0===this.length&&(this._head=this._tail=null),e.data}},unshift:function(e){this._head=new t(e,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(0!==this.length){var e=this._head;return this._head=e.next,e.next&&(e.next=this._head.prev=null),this.length--,1===this.length?this._tail=this._head:0===this.length&&(this._head=this._tail=null),e.data}},item:function(e){e<0&&(e=this.length+e);for(var t=this._head;e-- >0&&t;)t=t.next;return t?t.data:void 0},slice:function(e,t){if(e||(e=0),t||(t=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t===e)return[];if(t<e)throw new Error("invalid offset: "+e+","+t+" (length="+this.length+")");for(var n=t-e,r=new Array(n),a=0,i=this._head;e-- >0&&i;)i=i.next;for(;a<n&&i;)r[a++]=i.data,i=i.next;return r},drop:function(){n.call(this)},forEach:function(e,t){for(var n=this._head,r=0,a=this.length;r<a&&n;)e.call(t||this,n.data,r,this),n=n.next,r++},map:function(e,t){var r=new n;return this.forEach((function(n,a,i){r.push(e.call(t||i,n,a,i))})),r},filter:function(e,t){var r=new n;return this.forEach((function(n,a,i){e.call(t||i,n,a,i)&&r.push(n)})),r},reduce:function(e,t,n){var r=0,a=this._head,i=this.length;for(t||(r=1,t=a&&a.data,a=a&&a.next);r<i&&a;)t=e.call(n||this,t,a.data,this),r++,a=a.next;return t}},e.exports=n}()},function(e,t,n){e.exports=function(){"use strict";function e(e){return"string"===typeof e||e instanceof String}var t=Number.isFinite||window.isFinite;function n(e){return t(e)}function r(e){return e}function a(e){var t={};return e.filter((function(e){return!t.hasOwnProperty(e)&&(t[e]=!0)}))}function i(e,t){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++){if(t[n].compareArray&&!t[n].compareArray(e[n]))return!1;if(t[n]!==e[n])return!1}return!0}function o(e,t){Object.keys(t).forEach((function(n){e[n]=t[n]}))}function u(){for(var e=1,t=0,n=0;n<arguments.length;n++){var r=arguments[n];t+=l(r),e*=r}return 0!==t?c(e,t):e}function s(e,t){if(0===t)throw new Error("Divide by zero");var n=Math.pow(10,l(t));return u(e,n/(n*t))}function c(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function l(e){if(!isFinite(e))return 0;for(var t=0;e%1!==0;)e*=10,t++;return t}function f(){var e;if(!this)return e=Object.create(f.prototype),f.apply(e,arguments),e;e=Error.apply(this,arguments),this.name="QtyError",this.message=e.message,this.stack=e.stack}function d(e,t){throw new f("Incompatible units: "+e+" and "+t)}f.prototype=Object.create(Error.prototype,{constructor:{value:f}});var h={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","\u03bc","\xb5","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],86400,"time",["<second>"]],"<week>":[["wk","week","weeks"],604800,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","\u03a9","\u2126"],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-9,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},p=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],v="<1>",m=[v];function g(e,t){var r=t[1],a=t[3]||[],i=t[4]||[];if(!n(r))throw new f(e+": Invalid unit definition. 'scalar' must be a number");a.forEach((function(t){if(void 0===h[t])throw new f(e+": Invalid unit definition. Unit "+t+" in 'numerator' is not recognized")})),i.forEach((function(t){if(void 0===h[t])throw new f(e+": Invalid unit definition. Unit "+t+" in 'denominator' is not recognized")}))}var b={},y={},x={},w={},O={};for(var k in h)if(h.hasOwnProperty(k)){var j=h[k];if("prefix"===j[2]){b[k]=j[1];for(var _=0;_<j[0].length;_++)y[j[0][_]]=k}else{g(k,j),x[k]={scalar:j[1],numerator:j[3],denominator:j[4]};for(var S=0;S<j[0].length;S++)w[j[0][S]]=k}O[k]=j[0][0]}function E(e){var t,n=[],r=Object.keys(h);if("undefined"===typeof e)for(t=0;t<r.length;t++)-1===["","prefix"].indexOf(h[r[t]][2])&&n.push(r[t].substr(1,r[t].length-2));else{if(-1===this.getKinds().indexOf(e))throw new f("Kind not recognized");for(t=0;t<r.length;t++)h[r[t]][2]===e&&n.push(r[t].substr(1,r[t].length-2))}return n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}))}function A(e){if(!w[e])throw new f("Unit not recognized");return h[w[e]][0]}var C=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function N(){if(this.signature)return this.signature;for(var e=T.call(this),t=0;t<e.length;t++)e[t]*=Math.pow(20,t);return e.reduce((function(e,t){return e+t}),0)}function T(){if(!this.isBase())return T.call(this.toBase());for(var e,t,n=new Array(C.length),r=0;r<n.length;r++)n[r]=0;for(var a=0;a<this.numerator.length;a++)(e=h[this.numerator[a]])&&(t=C.indexOf(e[2]))>=0&&(n[t]=n[t]+1);for(var i=0;i<this.denominator.length;i++)(e=h[this.denominator[i]])&&(t=C.indexOf(e[2]))>=0&&(n[t]=n[t]-1);return n}var D="[+-]",I="\\d+",M="\\."+I,F=new RegExp("^("+D+"?\\s*(?:(?:"+I+"(?:"+M+")?)|(?:"+M+"))(?:[Ee]"+D+"?"+I+")?)?\\s*([^/]*)(?:/(.+))?$"),R="\\^|\\*{2}",P="[01234]",z=new RegExp("([^ \\*\\d]+?)(?:"+R+")?(-?"+P+"(?![a-zA-Z]))"),B=new RegExp("([^ \\*\\d]+?)(?:"+R+")?("+P+"(?![a-zA-Z]))");function L(t){e(t)||(t=t.toString()),t=t.trim();var n=F.exec(t);if(!n)throw new f(t+": Quantity not recognized");var r=n[1];r?(r=r.replace(/\s/g,""),this.scalar=parseFloat(r)):this.scalar=1;for(var a,i,o,u=n[2],s=n[3];n=z.exec(u);){if(a=parseFloat(n[2]),isNaN(a))throw new f("Unit exponent is not a number");if(0===a&&!H.test(n[1]))throw new f("Unit not recognized");i=n[1]+" ",o="";for(var c=0;c<Math.abs(a);c++)o+=i;a>=0?u=u.replace(n[0],o):(s=s?s+o:o,u=u.replace(n[0],""))}for(;n=B.exec(s);){if(a=parseFloat(n[2]),isNaN(a))throw new f("Unit exponent is not a number");if(0===a&&!H.test(n[1]))throw new f("Unit not recognized");i=n[1]+" ",o="";for(var l=0;l<a;l++)o+=i;s=s.replace(n[0],o)}u&&(this.numerator=X(u.trim())),s&&(this.denominator=X(s.trim()))}var U=Object.keys(y).sort((function(e,t){return t.length-e.length})).join("|"),W=Object.keys(w).sort((function(e,t){return t.length-e.length})).join("|"),V="("+U+")??("+W+")(?:\\b|$)",H=new RegExp("^\\s*("+V+"[\\s\\*]*)+$"),G=new RegExp(V,"g"),q={};function X(e){var t=q[e];if(t)return t;var n,r=[];if(!H.test(e))throw new f("Unit not recognized");for(;n=G.exec(e);)r.push(n.slice(1));return r=(r=(r=r.map((function(e){return y[e[0]]?[y[e[0]],w[e[1]]]:[w[e[1]]]}))).reduce((function(e,t){return e.concat(t)}),[])).filter((function(e){return e})),q[e]=r,r}function Y(t){if(!e(t))throw new f("Argument should be a string");try{return this(t)}catch(n){return null}}function K(e){return e instanceof $}function $(e,t){if(Z.apply(null,arguments),!K(this))return new $(e,t);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=m,this.denominator=m,J(e)?(this.scalar=e.scalar,this.numerator=e.numerator&&0!==e.numerator.length?e.numerator:m,this.denominator=e.denominator&&0!==e.denominator.length?e.denominator:m):t?(L.call(this,t),this.scalar=e):L.call(this,e),this.denominator.join("*").indexOf("temp")>=0)throw new f("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new f("Cannot multiply by temperatures");if(!i(this.denominator,m))throw new f("Cannot divide with temperatures")}if(this.initValue=e,Q.call(this),this.isTemperature()&&this.baseScalar<0)throw new f("Temperatures must not be less than absolute zero")}function Z(t,r){if(r){if(!n(t)||!e(r))throw new f("Only number accepted as initialization value when units are explicitly provided")}else if(!(e(t)||n(t)||K(t)||J(t)))throw new f("Only string, number or quantity accepted as single initialization value")}function J(e){return e&&"object"===typeof e&&e.hasOwnProperty("scalar")}function Q(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=N.call(this);else{var e=this.toBase();this.baseScalar=e.scalar,this.signature=e.signature}}$.prototype={constructor:$};var ee={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency",25599999980:"information_rate",256e8:"information",511999999980:"angular_velocity",512e9:"angle"};function te(){return a(Object.keys(ee).map((function(e){return ee[e]})))}function ne(e,t){var n=e.units(),r=t.to(n),a=$(ie(n));return $({scalar:e.scalar-r.scalar,numerator:a.numerator,denominator:a.denominator})}function re(e,t){var n=t.to(ie(e.units()));return $({scalar:e.scalar-n.scalar,numerator:e.numerator,denominator:e.denominator})}function ae(e,t){var n=t.to(ie(e.units()));return $({scalar:e.scalar+n.scalar,numerator:e.numerator,denominator:e.denominator})}function ie(e){if("tempK"===e)return"degK";if("tempC"===e)return"degC";if("tempF"===e)return"degF";if("tempR"===e)return"degR";throw new f("Unknown type for temp conversion from: "+e)}function oe(e,t){var n,r=ue(e),a=t.units();if("degK"===a)n=r.scalar;else if("degC"===a)n=r.scalar;else if("degF"===a)n=9*r.scalar/5;else{if("degR"!==a)throw new f("Unknown type for degree conversion to: "+a);n=9*r.scalar/5}return $({scalar:n,numerator:t.numerator,denominator:t.denominator})}function ue(e){var t,n=e.units();if(n.match(/(deg)[CFRK]/))t=e.baseScalar;else if("tempK"===n)t=e.scalar;else if("tempC"===n)t=e.scalar;else if("tempF"===n)t=5*e.scalar/9;else{if("tempR"!==n)throw new f("Unknown type for temp conversion from: "+n);t=5*e.scalar/9}return $({scalar:t,numerator:["<kelvin>"],denominator:m})}function se(e,t){var n,r=t.units();if("tempK"===r)n=e.baseScalar;else if("tempC"===r)n=e.baseScalar-273.15;else if("tempF"===r)n=9*e.baseScalar/5-459.67;else{if("tempR"!==r)throw new f("Unknown type for temp conversion to: "+r);n=9*e.baseScalar/5}return $({scalar:n,numerator:t.numerator,denominator:t.denominator})}function ce(e){var t,n=e.units();if(n.match(/(deg)[CFRK]/))t=e.baseScalar;else if("tempK"===n)t=e.scalar;else if("tempC"===n)t=e.scalar+273.15;else if("tempF"===n)t=5*(e.scalar+459.67)/9;else{if("tempR"!==n)throw new f("Unknown type for temp conversion from: "+n);t=5*e.scalar/9}return $({scalar:t,numerator:["<temp-K>"],denominator:m})}function le(e,t){var n,a=$(e),i=$(t);return a.eq(i)?r:(n=a.isTemperature()?function(e){return a.mul(e).to(i).scalar}:function(e){return e*a.baseScalar/i.baseScalar},function(e){var t,r,a;if(Array.isArray(e)){for(r=e.length,a=[],t=0;t<r;t++)a.push(n(e[t]));return a}return n(e)})}$.prototype.kind=function(){return ee[this.signature.toString()]},o($.prototype,{isDegrees:function(){return(null===this.signature||400===this.signature)&&1===this.numerator.length&&i(this.denominator,m)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}}),o($.prototype,{to:function(t){var n,r;return void 0===t||null===t?this:e(t)?(n=this._conversionCache[t])?n:(r=$(t)).units()===this.units()?this:(this.isCompatible(r)?r=r.isTemperature()?se(this,r):r.isDegrees()?oe(this,r):$({scalar:s(this.baseScalar,r.baseScalar),numerator:r.numerator,denominator:r.denominator}):this.isInverse(r)?r=this.inverse().to(t):d(this.units(),r.units()),this._conversionCache[t]=r,r):this.to(t.units())},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return ce(this);var e=fe[this.units()];return e||(e=de(this.numerator,this.denominator),fe[this.units()]=e),e.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new f("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(t){if(e(t)&&(t=$(t)),n(t)&&(t=$(t+" "+this.units())),this.isUnitless()?t.isUnitless()||d(this.units(),t.units()):t=t.to(this.units()),0===t.scalar)throw new f("Divide by zero");return $(u(Math.round(this.scalar/t.scalar),t.scalar)+this.units())}});var fe={};function de(e,t){for(var n,r=[],a=[],i=1,o=0;o<e.length;o++)n=e[o],b[n]?i=u(i,b[n]):x[n]&&(i*=x[n].scalar,x[n].numerator&&r.push(x[n].numerator),x[n].denominator&&a.push(x[n].denominator));for(var s=0;s<t.length;s++)n=t[s],b[n]?i/=b[n]:x[n]&&(i/=x[n].scalar,x[n].numerator&&a.push(x[n].numerator),x[n].denominator&&r.push(x[n].denominator));return $({scalar:i,numerator:r=r.reduce((function(e,t){return e.concat(t)}),[]),denominator:a=a.reduce((function(e,t){return e.concat(t)}),[])})}function he(e,t,n,r){function a(e){return e!==v}e=e.filter(a),n=n.filter(a),t=t.filter(a),r=r.filter(a);var i={};function o(e,t){for(var n,r,a,o=0;o<e.length;o++)if(b[e[o]]?(n=e[o+1],r=e[o],a=b[r],o++):(n=e[o],r=null,a=1),n&&n!==v)if(i[n]){i[n][0]+=t;var u=i[n][2]?b[i[n][2]]:1;i[n][1===t?3:4]*=s(a,u)}else i[n]=[t,n,r,1,1]}o(e,1),o(t,-1),o(n,1),o(r,-1);var u=[],c=[],l=1;for(var f in i)if(i.hasOwnProperty(f)){var d,h=i[f];if(h[0]>0)for(d=0;d<h[0];d++)u.push(null===h[2]?h[1]:[h[2],h[1]]);else if(h[0]<0)for(d=0;d<-h[0];d++)c.push(null===h[2]?h[1]:[h[2],h[1]]);l*=s(h[3],h[4])}return 0===u.length&&(u=m),0===c.length&&(c=m),[u=u.reduce((function(e,t){return e.concat(t)}),[]),c=c.reduce((function(e,t){return e.concat(t)}),[]),l]}function pe(){}function ve(e,t){return(e+" "+t).trim()}$.parse=Y,$.getUnits=E,$.getAliases=A,$.mulSafe=u,$.divSafe=s,$.getKinds=te,$.swiftConverter=le,$.Error=f,o($.prototype,{add:function(t){if(e(t)&&(t=$(t)),this.isCompatible(t)||d(this.units(),t.units()),this.isTemperature()&&t.isTemperature())throw new f("Cannot add two temperatures");return this.isTemperature()?ae(this,t):t.isTemperature()?ae(t,this):$({scalar:this.scalar+t.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(t){if(e(t)&&(t=$(t)),this.isCompatible(t)||d(this.units(),t.units()),this.isTemperature()&&t.isTemperature())return ne(this,t);if(this.isTemperature())return re(this,t);if(t.isTemperature())throw new f("Cannot subtract a temperature from a differential degree unit");return $({scalar:this.scalar-t.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(t){if(n(t))return $({scalar:u(this.scalar,t),numerator:this.numerator,denominator:this.denominator});if(e(t)&&(t=$(t)),(this.isTemperature()||t.isTemperature())&&!this.isUnitless()&&!t.isUnitless())throw new f("Cannot multiply by temperatures");var r=this,a=t;r.isCompatible(a)&&400!==r.signature&&(a=a.to(r));var i=he(r.numerator,r.denominator,a.numerator,a.denominator);return $({scalar:u(r.scalar,a.scalar,i[2]),numerator:i[0],denominator:i[1]})},div:function(t){if(n(t)){if(0===t)throw new f("Divide by zero");return $({scalar:this.scalar/t,numerator:this.numerator,denominator:this.denominator})}if(e(t)&&(t=$(t)),0===t.scalar)throw new f("Divide by zero");if(t.isTemperature())throw new f("Cannot divide with temperatures");if(this.isTemperature()&&!t.isUnitless())throw new f("Cannot divide with temperatures");var r=this,a=t;r.isCompatible(a)&&400!==r.signature&&(a=a.to(r));var i=he(r.numerator,r.denominator,a.denominator,a.numerator);return $({scalar:u(r.scalar,i[2])/a.scalar,numerator:i[0],denominator:i[1]})},inverse:function(){if(this.isTemperature())throw new f("Cannot divide with temperatures");if(0===this.scalar)throw new f("Divide by zero");return $({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}}),o($.prototype,{eq:function(e){return 0===this.compareTo(e)},lt:function(e){return-1===this.compareTo(e)},lte:function(e){return this.eq(e)||this.lt(e)},gt:function(e){return 1===this.compareTo(e)},gte:function(e){return this.eq(e)||this.gt(e)},compareTo:function(t){return e(t)?this.compareTo($(t)):(this.isCompatible(t)||d(this.units(),t.units()),this.baseScalar<t.baseScalar?-1:this.baseScalar===t.baseScalar?0:this.baseScalar>t.baseScalar?1:void 0)},same:function(e){return this.scalar===e.scalar&&this.units()===e.units()}}),o($.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every((function(e){return i(e,m)}))},isCompatible:function(t){return e(t)?this.isCompatible($(t)):!!K(t)&&void 0!==t.signature&&this.signature===t.signature},isInverse:function(e){return this.inverse().isCompatible(e)},isBase:function(){return void 0!==this._isBase?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach((function(e){e!==v&&-1===p.indexOf(e)&&(this._isBase=!1)}),this),!1===this._isBase||(this._isBase=!0),this._isBase)}}),pe.prototype.get=function(e){return arguments.length>1&&(e=Array.apply(null,arguments)),e.reduce((function(t,n,r){if(t){var a=t[n];return r===e.length-1?a?a.data:void 0:a}}),this)},pe.prototype.set=function(e,t){return arguments.length>2&&(e=Array.prototype.slice.call(arguments,0,-1),t=arguments[arguments.length-1]),e.reduce((function(n,r,a){var i=n[r];return void 0===i&&(i=n[r]={}),a===e.length-1?(i.data=t,t):i}),this)},$.formatter=ve,o($.prototype,{units:function(){if(void 0!==this._units)return this._units;var e=i(this.numerator,m),t=i(this.denominator,m);if(e&&t)return this._units="",this._units;var n=ge(this.numerator),r=ge(this.denominator);return this._units=n+(t?"":"/"+r),this._units},toString:function(t,r){var a;if(n(t))a=this.units(),r=t;else if(e(t))a=t;else if(K(t))return this.toPrec(t).toString(r);var i=this.to(a);return i=((void 0!==r?c(i.scalar,r):i.scalar)+" "+i.units()).trim()},format:function(e,t){1===arguments.length&&"function"===typeof e&&(t=e,e=void 0),t=t||$.formatter;var n=this.to(e);return t.call(this,n.scalar,n.units())}});var me=new pe;function ge(e){var t=me.get(e);return t||(t=i(e,m)?"1":ye(be(e)).join("*"),me.set(e,t),t)}function be(e){for(var t,n,r=[],a=0;a<e.length;a++)t=e[a],n=e[a+1],b[t]?(r.push(O[t]+O[n]),a++):r.push(O[t]);return r}function ye(e){return e.reduce((function(e,t){var n=e[t];return n||e.push(n=e[t]=[t,0]),n[1]++,e}),[]).map((function(e){return e[0]+(e[1]>1?e[1]:"")}))}return $.version="1.7.6",$}()},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=function(){function e(){r(this,e),this.nodes=new Map}return a(e,[{key:"add",value:function(e){var t=this.nodes.get(e);return t||(t=new o(e),this.nodes.set(e,t)),t}},{key:"union",value:function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n.rank<r.rank?n.parent=r:n.rank>r.rank?r.parent=n:(r.parent=n,n.rank++))}},{key:"find",value:function(e){for(var t=e;null!==t.parent;)t=t.parent;for(var n=e;null!==n.parent;){var r=n;n=n.parent,r.parent=t}return t}},{key:"connected",value:function(e,t){return this.find(e)===this.find(t)}}]),e}();function o(e){this.value=e,this.parent=null,this.rank=0}e.exports=i},function(e,t,n){"use strict";var r=function(e){return e},a=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();t.a=a},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(184),a=n(209);function i(e){return Object(r.a)("MuiDivider",e)}var o=Object(a.a)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.a=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(184),a=n(209);function i(e){return Object(r.a)("MuiListItemIcon",e)}var o=Object(a.a)("MuiListItemIcon",["root","alignItemsFlexStart"]);t.a=o},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}]},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(19),a=n(4),i=n(5),o=n(17),u=n(18),s=n(7),c=n.n(s),l=n(0),f=n(94),d=n(595),h=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"decodeUTF8",value:function(){return new p(this)}}]),n}(f.a),p=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this)).upstream=e,r.impl=new v(e),r}return Object(i.a)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(d.a),v=function(t){Object(o.a)(f,t);var s=Object(u.a)(f);function f(e){var t;if(Object(a.a)(this,f),(t=s.call(this)).upstream=e,Object(l.env)().get("IS_BROWSER"))t.decoder=new TextDecoder("utf-8");else{var r=n(729).StringDecoder;t.decoder=new r("utf8")}return t}return Object(i.a)(f,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Utf8")}},{key:"pump",value:function(){var t=Object(r.a)(c.a.mark((function t(){var n,r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.upstream.next();case 2:if(!(n=t.sent).done){t.next=7;break}return t.abrupt("return",!1);case 7:r=n.value;case 8:return a=Object(l.env)().get("IS_BROWSER")?this.decoder.decode(r,{stream:!0}):this.decoder.write(e.from(r.buffer)),this.outputQueue.push(a),t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),f}(f.b)}).call(this,n(175).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(12),a=n(19),i=n(4),o=n(5),u=n(17),s=n(18),c=n(7),l=n.n(c),f=n(94),d=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"split",value:function(e){return new h(this,e)}}]),n}(f.a),h=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this)).upstream=e,a.impl=new p(e,r),a}return Object(o.a)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=Object(a.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(d),p=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this)).upstream=e,a.separator=r,a.carryover="",a}return Object(o.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Split('").concat(this.separator,"')")}},{key:"pump",value:function(){var e=Object(a.a)(l.a.mark((function e(){var t,n,a,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=9;break}if(""!==this.carryover){e.next=6;break}return e.abrupt("return",!1);case 6:return this.outputQueue.push(this.carryover),this.carryover="",e.abrupt("return",!0);case 9:(n=t.value.split(this.separator))[0]=this.carryover+n[0],a=Object(r.a)(n.slice(0,-1));try{for(a.s();!(i=a.n()).done;)o=i.value,this.outputQueue.push(o)}catch(u){a.e(u)}finally{a.f()}return this.carryover=n[n.length-1],e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(f.b)},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H15v-8h5V8l-6-6zm-1 7V3.5L18.5 9H13zm4 12.66V16h5.66v2h-2.24l2.95 2.95-1.41 1.41L19 19.41v2.24h-2z"}),"FileOpen");t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(731);t.default=r.default},function(e,t,n){e.exports=function(e){"uniqueLinkId"in(e=e||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId);void 0===e.multigraph&&(e.multigraph=!1);if("function"!==typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,n=[],c={},l=0,f=e.multigraph?function(e,t,n){var r=s(e,t),a=c.hasOwnProperty(r);if(a||S(e,t)){a||(c[r]=0);var i="@"+ ++c[r];r=s(e+i,t+i)}return new u(e,t,n,r)}:function(e,t,n){var r=s(e,t);return new u(e,t,n,r)},d=[],h=E,p=E,v=E,m=E,g={addNode:x,addLink:function(e,t,r){v();var a=w(e)||x(e),i=w(t)||x(t),u=f(e,t,r);n.push(u),o(a,u),e!==t&&o(i,u);return h(u,"add"),m(),u},removeLink:_,removeNode:O,getNode:w,getNodeCount:k,getLinkCount:j,getLinksCount:j,getNodesCount:k,getLinks:function(e){var t=w(e);return t?t.links:null},forEachNode:N,forEachLinkedNode:function(e,n,r){var a=w(e);if(a&&a.links&&"function"===typeof n)return r?function(e,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(i.fromId===n&&r(t.get(i.toId),i))return!0}}(a.links,e,n):function(e,n,r){for(var a=0;a<e.length;++a){var i=e[a],o=i.fromId===n?i.toId:i.fromId;if(r(t.get(o),i))return!0}}(a.links,e,n)},forEachLink:function(e){var t,r;if("function"===typeof e)for(t=0,r=n.length;t<r;++t)e(n[t])},beginUpdate:v,endUpdate:m,clear:function(){v(),N((function(e){O(e.id)})),m()},hasLink:S,hasNode:w,getLink:S};return r(g),function(){var e=g.on;function t(){return g.beginUpdate=v=A,g.endUpdate=m=C,h=b,p=y,g.on=e,e.apply(g,arguments)}g.on=t}(),g;function b(e,t){d.push({link:e,changeType:t})}function y(e,t){d.push({node:e,changeType:t})}function x(e,n){if(void 0===e)throw new Error("Invalid node identifier");v();var r=w(e);return r?(r.data=n,p(r,"update")):(r=new i(e,n),p(r,"add")),t.set(e,r),m(),r}function w(e){return t.get(e)}function O(e){var n=w(e);if(!n)return!1;v();var r=n.links;if(r){n.links=null;for(var a=0;a<r.length;++a)_(r[a])}return t.delete(e),p(n,"remove"),m(),!0}function k(){return t.size}function j(){return n.length}function _(e){if(!e)return!1;var t=a(e,n);if(t<0)return!1;v(),n.splice(t,1);var r=w(e.fromId),i=w(e.toId);return r&&(t=a(e,r.links))>=0&&r.links.splice(t,1),i&&(t=a(e,i.links))>=0&&i.links.splice(t,1),h(e,"remove"),m(),!0}function S(e,t){var n,r=w(e);if(!r||!r.links)return null;for(n=0;n<r.links.length;++n){var a=r.links[n];if(a.fromId===e&&a.toId===t)return a}return null}function E(){}function A(){l+=1}function C(){0===(l-=1)&&d.length>0&&(g.fire("changed",d),d.length=0)}function N(e){if("function"!==typeof e)throw new Error("Function is expected to iterate over graph nodes. You passed "+e);for(var n=t.values(),r=n.next();!r.done;){if(e(r.value))return!0;r=n.next()}}};var r=n(733);function a(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var n,r=t.length;for(n=0;n<r;n+=1)if(t[n]===e)return n;return-1}function i(e,t){this.id=e,this.links=null,this.data=t}function o(e,t){e.links?e.links.push(t):e.links=[t]}function u(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function s(e,t){return e.toString()+"\ud83d\udc49 "+t.toString()}},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"}),"FolderOpen");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");t.default=o},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";(function(e){var r=n(86),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a?r.a.Buffer:void 0,u=o?o.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(283)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,i=void 0===r?24:r,u=e.height,s=void 0===u?24:u,c=e.style,l=void 0===c?{}:c,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return o.default.createElement("svg",a({viewBox:"0 0 24 24",style:a({fill:n,width:i,height:s},l)},f),o.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,i=void 0===r?24:r,u=e.height,s=void 0===u?24:u,c=e.style,l=void 0===c?{}:c,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return o.default.createElement("svg",a({viewBox:"0 0 24 24",style:a({fill:n,width:i,height:s},l)},f),o.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)([(0,i.jsx)("circle",{cx:"7",cy:"14",r:"3"},"0"),(0,i.jsx)("circle",{cx:"11",cy:"6",r:"3"},"1"),(0,i.jsx)("circle",{cx:"16.6",cy:"17.6",r:"3"},"2")],"ScatterPlot");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"}),"Assessment");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"}),"Feedback");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z"}),"Gesture");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z"}),"ViewComfy");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),a=Object(r.createContext)({dragDropManager:void 0})},function(e,t,n){"use strict";var r=n(7),a=n.n(r),i=n(1),o=n(617),u=n.n(o);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=Object(i.createContext)(null),h=(d.Provider,null);function p(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return h||(h=new Promise((function(t,n){u()("https://www.dropbox.com/static/api/2/dropins.js",{attrs:{id:"dropboxjs","data-app-key":e}},(function(e,r){e?n(e):t(r)}))}))),t.abrupt("return",h);case 2:case"end":return t.stop()}}))}function v(){console.error(new Error("Dropbox app key is not provided. Please pass it to useDropboxChooser or provider it with DropboxAppProvider."))}t.a=function(e){var t=e.lazy,n=e.appKey,r=e.chooserOptions,o=void 0===r?{}:r,u=e.onSelected,s=void 0===u?function(){}:u,c=e.onCanceled,m=void 0===c?function(){}:c,g=f(Object(i.useState)(!1),2),b=g[0],y=g[1],x=Object(i.useContext)(d),w=n||x;return Object(i.useEffect)((function(){!t&&w&&p(w),null!==h||w||v()}),[t,w]),{open:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=2;break}return e.abrupt("return",Promise.reject("Already opened"));case 2:if(y(!0),!w){e.next=8;break}return e.next=6,a.a.awrap(p(w));case 6:e.next=9;break;case 8:v();case 9:if(!window.Dropbox){e.next=11;break}return e.abrupt("return",new Promise((function(e,t){window.Dropbox.choose(l({success:function(t){y(!1),s(t),e(t)},cancel:function(){y(!1),m(),t()}},o))})));case 11:return e.abrupt("return",Promise.reject("window.Dropbox doesn't exist for some reason!"));case 12:case"end":return e.stop()}}))},isOpen:b}}},function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,a){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof t&&(a=t,t={}),t=t||{},a=a||function(){},o.type=t.type||"text/javascript",o.charset=t.charset||"utf8",o.async=!("async"in t)||!!t.async,o.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,t.attrs),t.text&&(o.text=""+t.text),("onload"in o?n:r)(o,a),o.onload||n(o,a),i.appendChild(o)}},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)((0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}),"ZoomOut");t.default=o},function(e,t,n){"use strict";var r=n(77);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),i=n(2),o=(0,a.default)([(0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},"0"),(0,i.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"},"1")],"ZoomIn");t.default=o},function(e,t,n){(function(e){!function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":N(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,d,h){h=h||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof d){if(r){if("function"==typeof r&&r(p,d))return;if("object"===("undefined"==typeof r?"undefined":N(r))){if(r.prefilter&&r.prefilter(p,d))return;if(r.normalize){var v=r.normalize(p,d,e,t);v&&(e=v[0],t=v[1])}}}p.push(d)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var m="undefined"==typeof e?"undefined":N(e),g="undefined"==typeof t?"undefined":N(t),b="undefined"!==m||h&&h[h.length-1].lhs&&h[h.length-1].lhs.hasOwnProperty(d),y="undefined"!==g||h&&h[h.length-1].rhs&&h[h.length-1].rhs.hasOwnProperty(d);if(!b&&y)n(new i(p,t));else if(!y&&b)n(new o(p,e));else if(c(e)!==c(t))n(new a(p,e,t));else if("date"===c(e)&&e-t!==0)n(new a(p,e,t));else if("object"===m&&null!==e&&null!==t)if(h.filter((function(t){return t.lhs===e})).length)e!==t&&n(new a(p,e,t));else{if(h.push({lhs:e,rhs:t}),Array.isArray(e)){var x;for(e.length,x=0;x<e.length;x++)x>=t.length?n(new u(p,x,new o(void 0,e[x]))):l(e[x],t[x],n,r,p,x,h);for(;x<t.length;)n(new u(p,x,new i(void 0,t[x++])))}else{var w=Object.keys(e),O=Object.keys(t);w.forEach((function(a,i){var o=O.indexOf(a);o>=0?(l(e[a],t[a],n,r,p,a,h),O=s(O,o)):l(e[a],void 0,n,r,p,a,h)})),O.forEach((function(e){l(void 0,t[e],n,r,p,e,h)}))}h.length=h.length-1}else e!==t&&("number"===m&&isNaN(e)&&isNaN(t)||n(new a(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function d(e,t,n){if(n.path&&n.path.length){var r,a=e[t],i=n.path.length-1;for(r=0;r<i;r++)a=a[n.path[r]];switch(n.kind){case"A":d(a[n.path[r]],n.index,n.item);break;case"D":delete a[n.path[r]];break;case"E":case"N":a[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function h(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,a=-1,i=n.path?n.path.length-1:0;++a<i;)"undefined"==typeof r[n.path[a]]&&(r[n.path[a]]="number"==typeof n.path[a]?[]:{}),r=r[n.path[a]];switch(n.kind){case"A":d(n.path?r[n.path[a]]:r,n.index,n.item);break;case"D":delete r[n.path[a]];break;case"E":case"N":r[n.path[a]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,a=e[t],i=n.path.length-1;for(r=0;r<i;r++)a=a[n.path[r]];switch(n.kind){case"A":p(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,a,i=e;for(a=n.path.length-1,r=0;r<a;r++)"undefined"==typeof i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}}function m(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||h(e,t,r)}))}function g(e){return"color: "+I[e].color+"; font-weight: bold"}function b(e){var t=e.kind,n=e.path,r=e.lhs,a=e.rhs,i=e.index,o=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",a];case"N":return[n.join("."),a];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+i+"]",o];default:return[]}}function y(e,t,n,r){var a=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}a?a.forEach((function(e){var t=e.kind,r=b(e);n.log.apply(n,["%c "+I[t].text,g(t)].concat(T(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function x(e,t,n,r){switch("undefined"==typeof e?"undefined":N(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,T(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,a){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+r),n&&i.push("%c(in "+a.toFixed(2)+" ms)"),i.join(" ")}}function O(e,t){var n=t.logger,r=t.actionTransformer,a=t.titleFormatter,i=void 0===a?w(t):a,o=t.collapsed,u=t.colors,s=t.level,c=t.diff,l="undefined"==typeof t.titleFormatter;e.forEach((function(a,f){var d=a.started,h=a.startedTime,p=a.action,v=a.prevState,m=a.error,g=a.took,b=a.nextState,w=e[f+1];w&&(b=w.prevState,g=w.started-d);var O=r(p),k="function"==typeof o?o((function(){return b}),p,a):o,j=A(h),_=u.title?"color: "+u.title(O)+";":"",S=["color: gray; font-weight: lighter;"];S.push(_),t.timestamp&&S.push("color: gray; font-weight: lighter;"),t.duration&&S.push("color: gray; font-weight: lighter;");var E=i(O,j,g);try{k?u.title&&l?n.groupCollapsed.apply(n,["%c "+E].concat(S)):n.groupCollapsed(E):u.title&&l?n.group.apply(n,["%c "+E].concat(S)):n.group(E)}catch(e){n.log(E)}var C=x(s,O,[v],"prevState"),N=x(s,O,[O],"action"),T=x(s,O,[m,v],"error"),D=x(s,O,[b],"nextState");if(C)if(u.prevState){var I="color: "+u.prevState(v)+"; font-weight: bold";n[C]("%c prev state",I,v)}else n[C]("prev state",v);if(N)if(u.action){var M="color: "+u.action(O)+"; font-weight: bold";n[N]("%c action    ",M,O)}else n[N]("action    ",O);if(m&&T)if(u.error){var F="color: "+u.error(m,v)+"; font-weight: bold;";n[T]("%c error     ",F,m)}else n[T]("error     ",m);if(D)if(u.nextState){var R="color: "+u.nextState(b)+"; font-weight: bold";n[D]("%c next state",R,b)}else n[D]("next state",b);c&&y(v,b,n,k);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},M,e),n=t.logger,r=t.stateTransformer,a=t.errorTransformer,i=t.predicate,o=t.logErrors,u=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof i&&!i(n,c))return e(c);var l={};s.push(l),l.started=C.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(o)try{f=e(c)}catch(e){l.error=a(e)}else f=e(c);l.took=C.now()-l.started,l.nextState=r(n());var d=t.diff&&"function"==typeof u?u(n,c):t.diff;if(O(s,Object.assign({},t,{diff:d})),s.length=0,l.error)throw l.error;return f}}}}var j,_,S=function(e,t){return new Array(t+1).join(e)},E=function(e,t){return S("0",t-e.toString().length)+e},A=function(e){return E(e.getHours(),2)+":"+E(e.getMinutes(),2)+":"+E(e.getSeconds(),2)+"."+E(e.getMilliseconds(),3)},C="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},D=[];j="object"===("undefined"==typeof e?"undefined":N(e))&&e?e:"undefined"!=typeof window?window:{},(_=j.DeepDiff)&&D.push((function(){"undefined"!=typeof _&&j.DeepDiff===f&&(j.DeepDiff=_,_=void 0)})),n(a,r),n(i,r),n(o,r),n(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:m,enumerable:!0},applyChange:{value:h,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof _},enumerable:!0},noConflict:{value:function(){return D&&(D.forEach((function(e){e()})),D=null),f},enumerable:!0}});var I={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},M={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?k()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=M,t.createLogger=k,t.logger=F,t.default=F,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(116))},function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}n.d(t,"a",(function(){return r}))},function(e){e.exports=JSON.parse('{"name":"vega-lite","author":"Dominik Moritz, Kanit \\"Ham\\" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer","version":"4.13.1","collaborators":["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],"homepage":"https://vega.github.io/vega-lite/","description":"Vega-Lite is a concise high-level language for interactive visualization.","main":"build/vega-lite.js","unpkg":"build/vega-lite.min.js","jsdelivr":"build/vega-lite.min.js","module":"build/src/index","types":"build/src/index.d.ts","bin":{"vl2png":"./bin/vl2png","vl2svg":"./bin/vl2svg","vl2pdf":"./bin/vl2pdf","vl2vg":"./bin/vl2vg"},"directories":{"test":"test"},"scripts":{"changelog":"conventional-changelog -p angular -r 2","build":"yarn build:only","build:only":"yarn tsc:src && rollup -c","postbuild":"terser build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && yarn schema && babel build/vega-lite.js --out-dir build-es5 --config-file ./babel.config.js","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"yarn tsc:site && rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh","clean":"find build ! -name \'vega-lite-schema.json\' -type f -delete && rm -rf site/data/* && rm -f examples/compiled/*.png && find site/examples ! -name \'index.md\' ! -name \'data\' -type f -delete","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site","data":"rsync -r node_modules/vega-datasets/data/* site/data","schema":"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/","renameschema":"scripts/rename-schema.sh","presite":"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh","site":"pushd site && bundle exec jekyll serve -I -l && popd","tsc:src":"tsc -b src/tsconfig.src.json","tsc:site":"tsc -b site/tsconfig.site.json","prettierbase":"prettier \'**/*.{md,css,yml}\'","eslintbase":"eslint .","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","test":"jest test/ && yarn lint && yarn schema && jest examples/ && yarn test:runtime","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles jest test-runtime/","test:runtime:generate":"yarn build:only && rm -Rf test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime","watch:build":"yarn build:only && concurrently --kill-others -n Typescript,Rollup \'yarn tsc:src -w\' \'rollup -c -w\'","watch:site":"concurrently --kill-others -n Typescript,Rollup \'yarn tsc:site -w\' \'rollup -c site/rollup.config.js -w\'","watch:test":"jest --watch"},"repository":{"type":"git","url":"https://github.com/vega/vega-lite.git"},"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-lite/issues"},"devDependencies":{"@babel/cli":"^7.10.1","@babel/core":"^7.10.1","@babel/preset-env":"^7.10.1","@rollup/plugin-commonjs":"12.0.0","@rollup/plugin-json":"^4.0.3","@rollup/plugin-node-resolve":"^8.0.0","@types/chai":"^4.2.11","@types/d3":"^5.7.2","@types/jest":"^25.2.3","@types/mkdirp":"^1.0.0","@types/puppeteer":"^3.0.0","@typescript-eslint/eslint-plugin":"^3.0.2","@typescript-eslint/parser":"^3.0.2","ajv":"^6.12.2","chai":"^4.2.0","cheerio":"^1.0.0-rc.3","codecov":"^3.7.0","concurrently":"^5.2.0","conventional-changelog-cli":"^2.0.34","d3":"^5.16.0","eslint":"^7.1.0","eslint-config-prettier":"^6.11.0","eslint-plugin-jest":"^23.13.2","eslint-plugin-prettier":"^3.1.3","gh-pages":"^2.2.0","highlight.js":"^10.0.3","http-server":"^0.12.3","jest":"^26.0.1","jest-puppeteer":"^4.4.0","mkdirp":"^1.0.4","prettier":"^2.0.5","puppeteer":"^3.1.0","rollup":"^2.11.0","rollup-plugin-sourcemaps":"^0.6.2","rollup-plugin-terser":"^6.1.0","svg2png-many":"^0.0.7","terser":"^4.7.0","ts-jest":"^26.0.0","ts-json-schema-generator":"^0.68.1","typescript":"~3.9.3","vega-cli":"^5.12.1","vega-datasets":"^1.30.2","vega-embed":"^6.8.0","vega-tooltip":"^0.23.0","vega-typings":"^0.17.0","yaml-front-matter":"^4.1.0"},"dependencies":{"@types/clone":"~0.1.30","@types/fast-json-stable-stringify":"^2.0.0","array-flat-polyfill":"^1.0.1","clone":"~2.1.2","fast-deep-equal":"~3.1.1","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~2.0.0","tslib":"~2.0.0","vega-event-selector":"~2.0.3","vega-expression":"~2.6.5","vega-util":"~1.14.0","yargs":"~15.3.1"},"peerDependencies":{"vega":"^5.12.1"},"jest":{"preset":"jest-puppeteer","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["<rootDir>/node_modules","<rootDir>/build","<rootDir>/_site","<rootDir>/src"],"coverageDirectory":"./coverage/","collectCoverage":false}}')},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,r,a;try{n=Map}catch(s){n=function(){}}try{r=Set}catch(s){r=function(){}}try{a=Promise}catch(s){a=function(){}}function i(o,s,c,l,f){"object"===typeof s&&(c=s.depth,l=s.prototype,f=s.includeNonEnumerable,s=s.circular);var d=[],h=[],p="undefined"!=typeof t;return"undefined"==typeof s&&(s=!0),"undefined"==typeof c&&(c=1/0),function o(c,v){if(null===c)return null;if(0===v)return c;var m,g;if("object"!=typeof c)return c;if(e(c,n))m=new n;else if(e(c,r))m=new r;else if(e(c,a))m=new a((function(e,t){c.then((function(t){e(o(t,v-1))}),(function(e){t(o(e,v-1))}))}));else if(i.__isArray(c))m=[];else if(i.__isRegExp(c))m=new RegExp(c.source,u(c)),c.lastIndex&&(m.lastIndex=c.lastIndex);else if(i.__isDate(c))m=new Date(c.getTime());else{if(p&&t.isBuffer(c))return m=t.allocUnsafe?t.allocUnsafe(c.length):new t(c.length),c.copy(m),m;e(c,Error)?m=Object.create(c):"undefined"==typeof l?(g=Object.getPrototypeOf(c),m=Object.create(g)):(m=Object.create(l),g=l)}if(s){var b=d.indexOf(c);if(-1!=b)return h[b];d.push(c),h.push(m)}for(var y in e(c,n)&&c.forEach((function(e,t){var n=o(t,v-1),r=o(e,v-1);m.set(n,r)})),e(c,r)&&c.forEach((function(e){var t=o(e,v-1);m.add(t)})),c){var x;g&&(x=Object.getOwnPropertyDescriptor(g,y)),x&&null==x.set||(m[y]=o(c[y],v-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);for(y=0;y<w.length;y++){var O=w[y];(!(j=Object.getOwnPropertyDescriptor(c,O))||j.enumerable||f)&&(m[O]=o(c[O],v-1),j.enumerable||Object.defineProperty(m,O,{enumerable:!1}))}}if(f){var k=Object.getOwnPropertyNames(c);for(y=0;y<k.length;y++){var j,_=k[y];(j=Object.getOwnPropertyDescriptor(c,_))&&j.enumerable||(m[_]=o(c[_],v-1),Object.defineProperty(m,_,{enumerable:!1}))}}return m}(o,c)}function o(e){return Object.prototype.toString.call(e)}function u(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"===typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"===typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=u,i}();e.exports&&(e.exports=n)}).call(this,n(175).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r="<anonymous>";function a(e){try{return e&&"function"===typeof e&&e.name||r}catch(t){return r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){this._hasWeakSet="function"===typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return La}));var r=n(1),a=n.n(r),i=n(37),o=n.n(i),u=function(e,t,n,r,a){var i=a.clientWidth,o=a.clientHeight,u="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=u-(a.getBoundingClientRect().left+window.pageXOffset),l=s-(a.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var f=void 0;if(f=l<0?0:l>o?1:Math.round(100*l/o)/100,t.a!==f)return{h:t.h,s:t.s,l:t.l,a:f,source:"rgb"}}else{var d=void 0;if(r!==(d=c<0?0:c>i?1:Math.round(100*c/i)/100))return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}return null},s={},c=function(e,t,n,r){var a=e+"-"+t+"-"+n+(r?"-server":"");if(s[a])return s[a];var i=function(e,t,n,r){if("undefined"===typeof document&&!r)return null;var a=r?new r:document.createElement("canvas");a.width=2*n,a.height=2*n;var i=a.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,a.width,a.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),a.toDataURL()):null}(e,t,n,r);return s[a]=i,i},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){var t=e.white,n=e.grey,i=e.size,u=e.renderers,s=e.borderRadius,f=e.boxShadow,d=e.children,h=o()({default:{grid:{borderRadius:s,boxShadow:f,absolute:"0px 0px 0px 0px",background:"url("+c(t,n,i,u.canvas)+") center left"}}});return Object(r.isValidElement)(d)?a.a.cloneElement(d,l({},d.props,{style:l({},d.props.style,h.grid)})):a.a.createElement("div",{style:h.grid})};f.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var d=f,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=function(e){function t(){var e,n,r;v(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=u(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},m(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=o()({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:h({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.a.createElement("div",{style:n.alpha},a.a.createElement("div",{style:n.checkboard},a.a.createElement(d,{renderers:this.props.renderers})),a.a.createElement("div",{style:n.gradient}),a.a.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.a.createElement("div",{style:n.pointer},this.props.pointer?a.a.createElement(this.props.pointer,this.props):a.a.createElement("div",{style:n.slider}))))}}]),t}(r.PureComponent||r.Component),b=g,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var x=[38,40],w=1,O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,x.indexOf(t)>-1)){var a=n.getArrowOffset(),i=38===e.keyCode?r+a:r-a;n.setUpdatedValue(i,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+w++,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),y(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=o()({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return a.a.createElement("div",{style:t.wrap},a.a.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?a.a.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(r.PureComponent||r.Component),k=function(e,t,n,r){var a=r.clientWidth,i=r.clientHeight,o="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,s=o-(r.getBoundingClientRect().left+window.pageXOffset),c=u-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var l=void 0;if(c<0)l=359;else if(c>i)l=0;else{l=360*(-100*c/i+100)/100}if(n.h!==l)return{h:l,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var f=void 0;if(s<0)f=0;else if(s>a)f=359;else{f=360*(100*s/a)/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var E=function(e){function t(){var e,n,r;_(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=k(e,r.props.direction,r.props.hsl,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},S(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),j(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=o()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return a.a.createElement("div",{style:r.hue},a.a.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.a.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),a.a.createElement("div",{style:r.pointer},this.props.pointer?a.a.createElement(this.props.pointer,this.props):a.a.createElement("div",{style:r.slider}))))}}]),t}(r.PureComponent||r.Component),A=E,C=n(22),N=n.n(C);var T=function(){this.__data__=[],this.size=0};var D=function(e,t){return e===t||e!==e&&t!==t};var I=function(e,t){for(var n=e.length;n--;)if(D(e[n][0],t))return n;return-1},M=Array.prototype.splice;var F=function(e){var t=this.__data__,n=I(t,e);return!(n<0)&&(n==t.length-1?t.pop():M.call(t,n,1),--this.size,!0)};var R=function(e){var t=this.__data__,n=I(t,e);return n<0?void 0:t[n][1]};var P=function(e){return I(this.__data__,e)>-1};var z=function(e,t){var n=this.__data__,r=I(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function B(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}B.prototype.clear=T,B.prototype.delete=F,B.prototype.get=R,B.prototype.has=P,B.prototype.set=z;var L=B;var U=function(){this.__data__=new L,this.size=0};var W=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var V=function(e){return this.__data__.get(e)};var H=function(e){return this.__data__.has(e)},G=n(86),q=G.a.Symbol,X=Object.prototype,Y=X.hasOwnProperty,K=X.toString,$=q?q.toStringTag:void 0;var Z=function(e){var t=Y.call(e,$),n=e[$];try{e[$]=void 0;var r=!0}catch(i){}var a=K.call(e);return r&&(t?e[$]=n:delete e[$]),a},J=Object.prototype.toString;var Q=function(e){return J.call(e)},ee=q?q.toStringTag:void 0;var te=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?Z(e):Q(e)};var ne=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var re=function(e){if(!ne(e))return!1;var t=te(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ae=G.a["__core-js_shared__"],ie=function(){var e=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var oe=function(e){return!!ie&&ie in e},ue=Function.prototype.toString;var se=function(e){if(null!=e){try{return ue.call(e)}catch(t){}try{return e+""}catch(t){}}return""},ce=/^\[object .+?Constructor\]$/,le=Function.prototype,fe=Object.prototype,de=le.toString,he=fe.hasOwnProperty,pe=RegExp("^"+de.call(he).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ve=function(e){return!(!ne(e)||oe(e))&&(re(e)?pe:ce).test(se(e))};var me=function(e,t){return null==e?void 0:e[t]};var ge=function(e,t){var n=me(e,t);return ve(n)?n:void 0},be=ge(G.a,"Map"),ye=ge(Object,"create");var xe=function(){this.__data__=ye?ye(null):{},this.size=0};var we=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Oe=Object.prototype.hasOwnProperty;var ke=function(e){var t=this.__data__;if(ye){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Oe.call(t,e)?t[e]:void 0},je=Object.prototype.hasOwnProperty;var _e=function(e){var t=this.__data__;return ye?void 0!==t[e]:je.call(t,e)};var Se=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ye&&void 0===t?"__lodash_hash_undefined__":t,this};function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ee.prototype.clear=xe,Ee.prototype.delete=we,Ee.prototype.get=ke,Ee.prototype.has=_e,Ee.prototype.set=Se;var Ae=Ee;var Ce=function(){this.size=0,this.__data__={hash:new Ae,map:new(be||L),string:new Ae}};var Ne=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Te=function(e,t){var n=e.__data__;return Ne(t)?n["string"==typeof t?"string":"hash"]:n.map};var De=function(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t};var Ie=function(e){return Te(this,e).get(e)};var Me=function(e){return Te(this,e).has(e)};var Fe=function(e,t){var n=Te(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Re.prototype.clear=Ce,Re.prototype.delete=De,Re.prototype.get=Ie,Re.prototype.has=Me,Re.prototype.set=Fe;var Pe=Re;var ze=function(e,t){var n=this.__data__;if(n instanceof L){var r=n.__data__;if(!be||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pe(r)}return n.set(e,t),this.size=n.size,this};function Be(e){var t=this.__data__=new L(e);this.size=t.size}Be.prototype.clear=U,Be.prototype.delete=W,Be.prototype.get=V,Be.prototype.has=H,Be.prototype.set=ze;var Le=Be,Ue=function(){try{var e=ge(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var We=function(e,t,n){"__proto__"==t&&Ue?Ue(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Ve=function(e,t,n){(void 0!==n&&!D(e[t],n)||void 0===n&&!(t in e))&&We(e,t,n)};var He=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++a];if(!1===n(i[s],s,i))break}return t}}(),Ge=n(602),qe=G.a.Uint8Array;var Xe=function(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t};var Ye=function(e,t){var n=t?Xe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Ke=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},$e=Object.create,Ze=function(){function e(){}return function(t){if(!ne(t))return{};if($e)return $e(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Je=function(e,t){return function(n){return e(t(n))}},Qe=Je(Object.getPrototypeOf,Object),et=Object.prototype;var tt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||et)};var nt=function(e){return"function"!=typeof e.constructor||tt(e)?{}:Ze(Qe(e))};var rt=function(e){return null!=e&&"object"==typeof e};var at=function(e){return rt(e)&&"[object Arguments]"==te(e)},it=Object.prototype,ot=it.hasOwnProperty,ut=it.propertyIsEnumerable,st=at(function(){return arguments}())?at:function(e){return rt(e)&&ot.call(e,"callee")&&!ut.call(e,"callee")},ct=st,lt=Array.isArray;var ft=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var dt=function(e){return null!=e&&ft(e.length)&&!re(e)};var ht=function(e){return rt(e)&&dt(e)},pt=n(223),vt=Function.prototype,mt=Object.prototype,gt=vt.toString,bt=mt.hasOwnProperty,yt=gt.call(Object);var xt=function(e){if(!rt(e)||"[object Object]"!=te(e))return!1;var t=Qe(e);if(null===t)return!0;var n=bt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&gt.call(n)==yt},wt={};wt["[object Float32Array]"]=wt["[object Float64Array]"]=wt["[object Int8Array]"]=wt["[object Int16Array]"]=wt["[object Int32Array]"]=wt["[object Uint8Array]"]=wt["[object Uint8ClampedArray]"]=wt["[object Uint16Array]"]=wt["[object Uint32Array]"]=!0,wt["[object Arguments]"]=wt["[object Array]"]=wt["[object ArrayBuffer]"]=wt["[object Boolean]"]=wt["[object DataView]"]=wt["[object Date]"]=wt["[object Error]"]=wt["[object Function]"]=wt["[object Map]"]=wt["[object Number]"]=wt["[object Object]"]=wt["[object RegExp]"]=wt["[object Set]"]=wt["[object String]"]=wt["[object WeakMap]"]=!1;var Ot=function(e){return rt(e)&&ft(e.length)&&!!wt[te(e)]};var kt=function(e){return function(t){return e(t)}},jt=n(458),_t=jt.a&&jt.a.isTypedArray,St=_t?kt(_t):Ot;var Et=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]},At=Object.prototype.hasOwnProperty;var Ct=function(e,t,n){var r=e[t];At.call(e,t)&&D(r,n)&&(void 0!==n||t in e)||We(e,t,n)};var Nt=function(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var u=t[i],s=r?r(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),a?We(n,u,s):Ct(n,u,s)}return n};var Tt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Dt=/^(?:0|[1-9]\d*)$/;var It=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Dt.test(e))&&e>-1&&e%1==0&&e<t},Mt=Object.prototype.hasOwnProperty;var Ft=function(e,t){var n=lt(e),r=!n&&ct(e),a=!n&&!r&&Object(pt.a)(e),i=!n&&!r&&!a&&St(e),o=n||r||a||i,u=o?Tt(e.length,String):[],s=u.length;for(var c in e)!t&&!Mt.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||It(c,s))||u.push(c);return u};var Rt=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Pt=Object.prototype.hasOwnProperty;var zt=function(e){if(!ne(e))return Rt(e);var t=tt(e),n=[];for(var r in e)("constructor"!=r||!t&&Pt.call(e,r))&&n.push(r);return n};var Bt=function(e){return dt(e)?Ft(e,!0):zt(e)};var Lt=function(e){return Nt(e,Bt(e))};var Ut=function(e,t,n,r,a,i,o){var u=Et(e,n),s=Et(t,n),c=o.get(s);if(c)Ve(e,n,c);else{var l=i?i(u,s,n+"",e,t,o):void 0,f=void 0===l;if(f){var d=lt(s),h=!d&&Object(pt.a)(s),p=!d&&!h&&St(s);l=s,d||h||p?lt(u)?l=u:ht(u)?l=Ke(u):h?(f=!1,l=Object(Ge.a)(s,!0)):p?(f=!1,l=Ye(s,!0)):l=[]:xt(s)||ct(s)?(l=u,ct(u)?l=Lt(u):ne(u)&&!re(u)||(l=nt(s))):f=!1}f&&(o.set(s,l),a(l,s,r,i,o),o.delete(s)),Ve(e,n,l)}};var Wt=function e(t,n,r,a,i){t!==n&&He(n,(function(o,u){if(i||(i=new Le),ne(o))Ut(t,n,u,r,e,a,i);else{var s=a?a(Et(t,u),o,u+"",t,n,i):void 0;void 0===s&&(s=o),Ve(t,u,s)}}),Bt)};var Vt=function(e){return e};var Ht=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Gt=Math.max;var qt=function(e,t,n){return t=Gt(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=Gt(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=r[a];return u[t]=n(o),Ht(e,this,u)}};var Xt=function(e){return function(){return e}},Yt=Ue?function(e,t){return Ue(e,"toString",{configurable:!0,enumerable:!1,value:Xt(t),writable:!0})}:Vt,Kt=Date.now;var $t=function(e){var t=0,n=0;return function(){var r=Kt(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Zt=$t(Yt);var Jt=function(e,t){return Zt(qt(e,t,Vt),e+"")};var Qt=function(e,t,n){if(!ne(n))return!1;var r=typeof t;return!!("number"==r?dt(n)&&It(t,n.length):"string"==r&&t in n)&&D(n[t],e)};var en=function(e){return Jt((function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(a--,i):void 0,o&&Qt(n[0],n[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var u=n[r];u&&e(t,u,r,i)}return t}))}((function(e,t,n){Wt(e,t,n)})),tn=function(e){var t=e.zDepth,n=e.radius,r=e.background,i=e.children,u=e.styles,s=void 0===u?{}:u,c=o()(en({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":1===t});return a.a.createElement("div",{style:c.wrap},a.a.createElement("div",{style:c.bg}),a.a.createElement("div",{style:c.content},i))};tn.propTypes={background:N.a.string,zDepth:N.a.oneOf([0,1,2,3,4,5]),radius:N.a.number,styles:N.a.object},tn.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var nn=tn,rn=function(){return G.a.Date.now()},an=/\s/;var on=function(e){for(var t=e.length;t--&&an.test(e.charAt(t)););return t},un=/^\s+/;var sn=function(e){return e?e.slice(0,on(e)+1).replace(un,""):e};var cn=function(e){return"symbol"==typeof e||rt(e)&&"[object Symbol]"==te(e)},ln=/^[-+]0x[0-9a-f]+$/i,fn=/^0b[01]+$/i,dn=/^0o[0-7]+$/i,hn=parseInt;var pn=function(e){if("number"==typeof e)return e;if(cn(e))return NaN;if(ne(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ne(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=sn(e);var n=fn.test(e);return n||dn.test(e)?hn(e.slice(2),n?2:8):ln.test(e)?NaN:+e},vn=Math.max,mn=Math.min;var gn=function(e,t,n){var r,a,i,o,u,s,c=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,i=a;return r=a=void 0,c=t,o=e.apply(i,n)}function p(e){return c=e,u=setTimeout(m,t),l?h(e):o}function v(e){var n=e-s;return void 0===s||n>=t||n<0||f&&e-c>=i}function m(){var e=rn();if(v(e))return g(e);u=setTimeout(m,function(e){var n=t-(e-s);return f?mn(n,i-(e-c)):n}(e))}function g(e){return u=void 0,d&&r?h(e):(r=a=void 0,o)}function b(){var e=rn(),n=v(e);if(r=arguments,a=this,s=e,n){if(void 0===u)return p(s);if(f)return clearTimeout(u),u=setTimeout(m,t),h(s)}return void 0===u&&(u=setTimeout(m,t)),o}return t=pn(t)||0,ne(n)&&(l=!!n.leading,i=(f="maxWait"in n)?vn(pn(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&clearTimeout(u),c=0,r=s=a=u=void 0},b.flush=function(){return void 0===u?o:g(rn())},b};var bn=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ne(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),gn(e,t,{leading:r,maxWait:t,trailing:a})},yn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var xn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),a=r.width,i=r.height,o="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,s=o-(n.getBoundingClientRect().left+window.pageXOffset),c=u-(n.getBoundingClientRect().top+window.pageYOffset);s<0?s=0:s>a&&(s=a),c<0?c=0:c>i&&(c=i);var l=s/a,f=1-c/i;return{h:t.h,s:l,v:f,a:t.a,source:"hsv"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=bn((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),yn(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,u=t.pointer,s=t.circle,c=o()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:u,circle:s}},{custom:!!this.props.style});return a.a.createElement("div",{style:c.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.a.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),a.a.createElement("div",{style:c.white,className:"saturation-white"},a.a.createElement("div",{style:c.black,className:"saturation-black"}),a.a.createElement("div",{style:c.pointer},this.props.pointer?a.a.createElement(this.props.pointer,this.props):a.a.createElement("div",{style:c.circle}))))}}]),t}(r.PureComponent||r.Component);var wn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},On=Je(Object.keys,Object),kn=Object.prototype.hasOwnProperty;var jn=function(e){if(!tt(e))return On(e);var t=[];for(var n in Object(e))kn.call(e,n)&&"constructor"!=n&&t.push(n);return t};var _n=function(e){return dt(e)?Ft(e):jn(e)};var Sn=function(e,t){return function(n,r){if(null==n)return n;if(!dt(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&!1!==r(o[i],i,o););return n}}((function(e,t){return e&&He(e,t,_n)}));var En=function(e){return"function"==typeof e?e:Vt};var An=function(e,t){return(lt(e)?wn:Sn)(e,En(t))},Cn=n(302),Nn=n.n(Cn),Tn=function(e){var t=0,n=0;return An(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},Dn=function(e,t){var n=e.hex?Nn()(e.hex):Nn()(e),r=n.toHsl(),a=n.toHsv(),i=n.toRgb(),o=n.toHex();return 0===r.s&&(r.h=t||0,a.h=t||0),{hsl:r,hex:"000000"===o&&0===i.a?"transparent":"#"+o,rgb:i,hsv:a,oldHue:e.h||t||r.h,source:e.source}},In=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&Nn()(e).isValid()},Mn=function(e){if(!e)return"#fff";var t=Dn(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},Fn=function(e,t){var n=e.replace("\xb0","");return Nn()(t+" ("+n+")")._ok},Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var zn=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(Tn(e)){var r=Dn(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(Tn(e)){var r=Dn(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=Rn({},Dn(e.color,0)),t.debounce=gn((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),Pn(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.a.createElement(e,Rn({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Rn({},Dn(e.color,t.oldHue))}}]),n}(r.PureComponent||r.Component);return t.propTypes=Rn({},e.propTypes),t.defaultProps=Rn({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ln=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Vn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;Un(this,r);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=n=Wn(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},Wn(n,t)}return Vn(r,n),Ln(r,[{key:"render",value:function(){return a.a.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},a.a.createElement(e,Bn({},this.props,this.state)))}}]),r}(a.a.Component)}((function(e){var t=e.color,n=e.style,r=e.onClick,i=void 0===r?function(){}:r,u=e.onHover,s=e.title,c=void 0===s?t:s,l=e.children,f=e.focus,h=e.focusStyle,p=void 0===h?{}:h,v="transparent"===t,m=o()({default:{swatch:Hn({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,f?p:{})}}),g={};return u&&(g.onMouseOver=function(e){return u(t,e)}),a.a.createElement("div",Hn({style:m.swatch,onClick:function(e){return i(t,e)},title:c,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&i(t,e)}},g),l,v&&a.a.createElement(d,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))})),qn=function(e){var t=e.direction,n=o()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return a.a.createElement("div",{style:n.picker})},Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yn=function(e){var t=e.rgb,n=e.hsl,r=e.width,i=e.height,u=e.onChange,s=e.direction,c=e.style,l=e.renderers,f=e.pointer,d=e.className,h=void 0===d?"":d,p=o()({default:{picker:{position:"relative",width:r,height:i},alpha:{radius:"2px",style:c}}});return a.a.createElement("div",{style:p.picker,className:"alpha-picker "+h},a.a.createElement(b,Xn({},p.alpha,{rgb:t,hsl:n,pointer:f,renderers:l,onChange:u,direction:s})))};Yn.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:qn};zn(Yn);var Kn=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a};var $n=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Zn=function(e){return this.__data__.has(e)};function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Pe;++t<n;)this.add(e[t])}Jn.prototype.add=Jn.prototype.push=$n,Jn.prototype.has=Zn;var Qn=Jn;var er=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var tr=function(e,t){return e.has(t)};var nr=function(e,t,n,r,a,i){var o=1&n,u=e.length,s=t.length;if(u!=s&&!(o&&s>u))return!1;var c=i.get(e),l=i.get(t);if(c&&l)return c==t&&l==e;var f=-1,d=!0,h=2&n?new Qn:void 0;for(i.set(e,t),i.set(t,e);++f<u;){var p=e[f],v=t[f];if(r)var m=o?r(v,p,f,t,e,i):r(p,v,f,e,t,i);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!er(t,(function(e,t){if(!tr(h,t)&&(p===e||a(p,e,n,r,i)))return h.push(t)}))){d=!1;break}}else if(p!==v&&!a(p,v,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d};var rr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var ar=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},ir=q?q.prototype:void 0,or=ir?ir.valueOf:void 0;var ur=function(e,t,n,r,a,i,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new qe(e),new qe(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return D(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=rr;case"[object Set]":var s=1&r;if(u||(u=ar),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=nr(u(e),u(t),r,a,i,o);return o.delete(e),l;case"[object Symbol]":if(or)return or.call(e)==or.call(t)}return!1};var sr=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e};var cr=function(e,t,n){var r=t(e);return lt(e)?r:sr(r,n(e))};var lr=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i};var fr=function(){return[]},dr=Object.prototype.propertyIsEnumerable,hr=Object.getOwnPropertySymbols,pr=hr?function(e){return null==e?[]:(e=Object(e),lr(hr(e),(function(t){return dr.call(e,t)})))}:fr;var vr=function(e){return cr(e,_n,pr)},mr=Object.prototype.hasOwnProperty;var gr=function(e,t,n,r,a,i){var o=1&n,u=vr(e),s=u.length;if(s!=vr(t).length&&!o)return!1;for(var c=s;c--;){var l=u[c];if(!(o?l in t:mr.call(t,l)))return!1}var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var h=!0;i.set(e,t),i.set(t,e);for(var p=o;++c<s;){var v=e[l=u[c]],m=t[l];if(r)var g=o?r(m,v,l,t,e,i):r(v,m,l,e,t,i);if(!(void 0===g?v===m||a(v,m,n,r,i):g)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(h=!1)}return i.delete(e),i.delete(t),h},br=ge(G.a,"DataView"),yr=ge(G.a,"Promise"),xr=ge(G.a,"Set"),wr=ge(G.a,"WeakMap"),Or="[object Map]",kr="[object Promise]",jr="[object Set]",_r="[object WeakMap]",Sr="[object DataView]",Er=se(br),Ar=se(be),Cr=se(yr),Nr=se(xr),Tr=se(wr),Dr=te;(br&&Dr(new br(new ArrayBuffer(1)))!=Sr||be&&Dr(new be)!=Or||yr&&Dr(yr.resolve())!=kr||xr&&Dr(new xr)!=jr||wr&&Dr(new wr)!=_r)&&(Dr=function(e){var t=te(e),n="[object Object]"==t?e.constructor:void 0,r=n?se(n):"";if(r)switch(r){case Er:return Sr;case Ar:return Or;case Cr:return kr;case Nr:return jr;case Tr:return _r}return t});var Ir=Dr,Mr="[object Arguments]",Fr="[object Array]",Rr="[object Object]",Pr=Object.prototype.hasOwnProperty;var zr=function(e,t,n,r,a,i){var o=lt(e),u=lt(t),s=o?Fr:Ir(e),c=u?Fr:Ir(t),l=(s=s==Mr?Rr:s)==Rr,f=(c=c==Mr?Rr:c)==Rr,d=s==c;if(d&&Object(pt.a)(e)){if(!Object(pt.a)(t))return!1;o=!0,l=!1}if(d&&!l)return i||(i=new Le),o||St(e)?nr(e,t,n,r,a,i):ur(e,t,s,n,r,a,i);if(!(1&n)){var h=l&&Pr.call(e,"__wrapped__"),p=f&&Pr.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,m=p?t.value():t;return i||(i=new Le),a(v,m,n,r,i)}}return!!d&&(i||(i=new Le),gr(e,t,n,r,a,i))};var Br=function e(t,n,r,a,i){return t===n||(null==t||null==n||!rt(t)&&!rt(n)?t!==t&&n!==n:zr(t,n,r,a,e,i))};var Lr=function(e,t,n,r){var a=n.length,i=a,o=!r;if(null==e)return!i;for(e=Object(e);a--;){var u=n[a];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<i;){var s=(u=n[a])[0],c=e[s],l=u[1];if(o&&u[2]){if(void 0===c&&!(s in e))return!1}else{var f=new Le;if(r)var d=r(c,l,s,e,t,f);if(!(void 0===d?Br(l,c,3,r,f):d))return!1}}return!0};var Ur=function(e){return e===e&&!ne(e)};var Wr=function(e){for(var t=_n(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,Ur(a)]}return t};var Vr=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Hr=function(e){var t=Wr(e);return 1==t.length&&t[0][2]?Vr(t[0][0],t[0][1]):function(n){return n===e||Lr(n,e,t)}},Gr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qr=/^\w*$/;var Xr=function(e,t){if(lt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cn(e))||(qr.test(e)||!Gr.test(e)||null!=t&&e in Object(t))};function Yr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Yr.Cache||Pe),n}Yr.Cache=Pe;var Kr=Yr;var $r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zr=/\\(\\)?/g,Jr=function(e){var t=Kr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($r,(function(e,n,r,a){t.push(r?a.replace(Zr,"$1"):n||e)})),t})),Qr=q?q.prototype:void 0,ea=Qr?Qr.toString:void 0;var ta=function e(t){if("string"==typeof t)return t;if(lt(t))return Kn(t,e)+"";if(cn(t))return ea?ea.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var na=function(e){return null==e?"":ta(e)};var ra=function(e,t){return lt(e)?e:Xr(e,t)?[e]:Jr(na(e))};var aa=function(e){if("string"==typeof e||cn(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var ia=function(e,t){for(var n=0,r=(t=ra(t,e)).length;null!=e&&n<r;)e=e[aa(t[n++])];return n&&n==r?e:void 0};var oa=function(e,t,n){var r=null==e?void 0:ia(e,t);return void 0===r?n:r};var ua=function(e,t){return null!=e&&t in Object(e)};var sa=function(e,t,n){for(var r=-1,a=(t=ra(t,e)).length,i=!1;++r<a;){var o=aa(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=a?i:!!(a=null==e?0:e.length)&&ft(a)&&It(o,a)&&(lt(e)||ct(e))};var ca=function(e,t){return null!=e&&sa(e,t,ua)};var la=function(e,t){return Xr(e)&&Ur(t)?Vr(aa(e),t):function(n){var r=oa(n,e);return void 0===r&&r===t?ca(n,e):Br(t,r,3)}};var fa=function(e){return function(t){return null==t?void 0:t[e]}};var da=function(e){return function(t){return ia(t,e)}};var ha=function(e){return Xr(e)?fa(aa(e)):da(e)};var pa=function(e){return"function"==typeof e?e:null==e?Vt:"object"==typeof e?lt(e)?la(e[0],e[1]):Hr(e):ha(e)};var va=function(e,t){var n=-1,r=dt(e)?Array(e.length):[];return Sn(e,(function(e,a,i){r[++n]=t(e,a,i)})),r};var ma=function(e,t){return(lt(e)?Kn:va)(e,pa(t,3))},ga=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,i=o()({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return a.a.createElement("div",{style:i.swatches},ma(t,(function(e){return a.a.createElement(Gn,{key:e,color:e,style:i.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),a.a.createElement("div",{style:i.clear}))},ba=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,u=e.width,s=e.triangle,c=e.styles,l=void 0===c?{}:c,f=e.className,h=void 0===f?"":f,p="transparent"===r,v=function(e,n){In(e)&&t({hex:e,source:"hex"},n)},m=o()(en({default:{card:{width:u,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Mn(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},l),{"hide-triangle":"hide"===s});return a.a.createElement("div",{style:m.card,className:"block-picker "+h},a.a.createElement("div",{style:m.triangle}),a.a.createElement("div",{style:m.head},p&&a.a.createElement(d,{borderRadius:"6px 6px 0 0"}),a.a.createElement("div",{style:m.label},r)),a.a.createElement("div",{style:m.body},a.a.createElement(ga,{colors:i,onClick:v,onSwatchHover:n}),a.a.createElement(O,{style:{input:m.input},value:r,onChange:v})))};ba.propTypes={width:N.a.oneOfType([N.a.string,N.a.number]),colors:N.a.arrayOf(N.a.string),triangle:N.a.oneOf(["top","hide"]),styles:N.a.object},ba.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};zn(ba);var ya={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},xa={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},wa={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Oa={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},ka={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},ja={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},_a={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Sa={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Ea={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Aa={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Ca={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Na={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Ta={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Da={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Ia={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Ma={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Fa={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Ra={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},Pa=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,i=e.hover,u=e.active,s=e.circleSize,c=e.circleSpacing,l=o()({default:{swatch:{width:s,height:s,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:i,active:u});return a.a.createElement("div",{style:l.swatch},a.a.createElement(Gn,{style:l.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:l.Swatch.boxShadow+", 0 0 5px "+t}}))};Pa.defaultProps={circleSize:28,circleSpacing:14};var za=Object(i.handleHover)(Pa),Ba=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,i=e.colors,u=e.hex,s=e.circleSize,c=e.styles,l=void 0===c?{}:c,f=e.circleSpacing,d=e.className,h=void 0===d?"":d,p=o()(en({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-f,marginBottom:-f}}},l)),v=function(e,t){return n({hex:e,source:"hex"},t)};return a.a.createElement("div",{style:p.card,className:"circle-picker "+h},ma(i,(function(e){return a.a.createElement(za,{key:e,color:e,onClick:v,onSwatchHover:r,active:u===e.toLowerCase(),circleSize:s,circleSpacing:f})})))};Ba.propTypes={width:N.a.oneOfType([N.a.string,N.a.number]),circleSize:N.a.number,circleSpacing:N.a.number,styles:N.a.object},Ba.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[ya[500],xa[500],wa[500],Oa[500],ka[500],ja[500],_a[500],Sa[500],Ea[500],Aa[500],Ca[500],Na[500],Ta[500],Da[500],Ia[500],Ma[500],Fa[500],Ra[500]],styles:{}};var La=zn(Ba);var Ua=function(e){return void 0===e},Wa=n(603),Va=n.n(Wa),Ha=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ga=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?In(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"===typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"===typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(Ua(e.s)?n.props.hsl.s:e.s),l:Number(Ua(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ha(t,[{key:"render",value:function(){var e=this,t=o()({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=a.a.createElement("div",{style:t.fields,className:"flexbox-fix"},a.a.createElement("div",{style:t.field},a.a.createElement(O,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=a.a.createElement("div",{style:t.fields,className:"flexbox-fix"},a.a.createElement("div",{style:t.field},a.a.createElement(O,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),a.a.createElement("div",{style:t.field},a.a.createElement(O,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),a.a.createElement("div",{style:t.field},a.a.createElement(O,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),a.a.createElement("div",{style:t.alpha},a.a.createElement(O,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=a.a.createElement("div",{style:t.fields,className:"flexbox-fix"},a.a.createElement("div",{style:t.field},a.a.createElement(O,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),a.a.createElement("div",{style:t.field},a.a.createElement(O,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),a.a.createElement("div",{style:t.field},a.a.createElement(O,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),a.a.createElement("div",{style:t.alpha},a.a.createElement(O,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),a.a.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,a.a.createElement("div",{style:t.toggle},a.a.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},a.a.createElement(Va.a,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(a.a.Component);Ga.defaultProps={view:"hex"};var qa=Ga,Xa=function(){var e=o()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return a.a.createElement("div",{style:e.picker})},Ya=function(){var e=o()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return a.a.createElement("div",{style:e.picker})},Ka=function(e){var t=e.width,n=e.onChange,r=e.disableAlpha,i=e.rgb,u=e.hsl,s=e.hsv,c=e.hex,l=e.renderers,f=e.styles,h=void 0===f?{}:f,p=e.className,v=void 0===p?"":p,m=e.defaultView,g=o()(en({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},h),{disableAlpha:r});return a.a.createElement("div",{style:g.picker,className:"chrome-picker "+v},a.a.createElement("div",{style:g.saturation},a.a.createElement(xn,{style:g.Saturation,hsl:u,hsv:s,pointer:Ya,onChange:n})),a.a.createElement("div",{style:g.body},a.a.createElement("div",{style:g.controls,className:"flexbox-fix"},a.a.createElement("div",{style:g.color},a.a.createElement("div",{style:g.swatch},a.a.createElement("div",{style:g.active}),a.a.createElement(d,{renderers:l}))),a.a.createElement("div",{style:g.toggles},a.a.createElement("div",{style:g.hue},a.a.createElement(A,{style:g.Hue,hsl:u,pointer:Xa,onChange:n})),a.a.createElement("div",{style:g.alpha},a.a.createElement(b,{style:g.Alpha,rgb:i,hsl:u,pointer:Xa,renderers:l,onChange:n})))),a.a.createElement(qa,{rgb:i,hsl:u,hex:c,view:m,onChange:n,disableAlpha:r})))};Ka.propTypes={width:N.a.oneOfType([N.a.string,N.a.number]),disableAlpha:N.a.bool,styles:N.a.object,defaultView:N.a.oneOf(["hex","rgb","hsl"])},Ka.defaultProps={width:225,disableAlpha:!1,styles:{}};zn(Ka);var $a=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,u=e.active,s=o()({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Mn(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:u,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return a.a.createElement(Gn,{style:s.color,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},a.a.createElement("div",{style:s.dot}))},Za=function(e){var t=e.hex,n=e.rgb,r=e.onChange,i=o()({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),u=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return a.a.createElement("div",{style:i.fields,className:"flexbox-fix"},a.a.createElement("div",{style:i.active}),a.a.createElement(O,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:t,onChange:u}),a.a.createElement(O,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:u}),a.a.createElement(O,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:u}),a.a.createElement(O,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:u}))},Ja=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,i=e.hex,u=e.rgb,s=e.styles,c=void 0===s?{}:s,l=e.className,f=void 0===l?"":l,d=o()(en({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},c)),h=function(e,n){e.hex?In(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return a.a.createElement(nn,{style:d.Compact,styles:c},a.a.createElement("div",{style:d.compact,className:"compact-picker "+f},a.a.createElement("div",null,ma(r,(function(e){return a.a.createElement($a,{key:e,color:e,active:e.toLowerCase()===i,onClick:h,onSwatchHover:n})})),a.a.createElement("div",{style:d.clear})),a.a.createElement(Za,{hex:i,rgb:u,onChange:h})))};Ja.propTypes={colors:N.a.arrayOf(N.a.string),styles:N.a.object},Ja.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};zn(Ja);var Qa=Object(i.handleHover)((function(e){var t=e.hover,n=e.color,r=e.onClick,i=e.onSwatchHover,u={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=o()({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:u}},{hover:t});return a.a.createElement("div",{style:s.swatch},a.a.createElement(Gn,{color:n,onClick:r,onHover:i,focusStyle:u}))})),ei=function(e){var t=e.width,n=e.colors,r=e.onChange,i=e.onSwatchHover,u=e.triangle,s=e.styles,c=void 0===s?{}:s,l=e.className,f=void 0===l?"":l,d=o()(en({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},c),{"hide-triangle":"hide"===u,"top-left-triangle":"top-left"===u,"top-right-triangle":"top-right"===u,"bottom-left-triangle":"bottom-left"===u,"bottom-right-triangle":"bottom-right"===u}),h=function(e,t){return r({hex:e,source:"hex"},t)};return a.a.createElement("div",{style:d.card,className:"github-picker "+f},a.a.createElement("div",{style:d.triangleShadow}),a.a.createElement("div",{style:d.triangle}),ma(n,(function(e){return a.a.createElement(Qa,{color:e,key:e,onClick:h,onSwatchHover:i})})))};ei.propTypes={width:N.a.oneOfType([N.a.string,N.a.number]),colors:N.a.arrayOf(N.a.string),triangle:N.a.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:N.a.object},ei.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};zn(ei);var ti=function(e){var t=e.direction,n=o()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return a.a.createElement("div",{style:n.picker})},ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ri=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.hsl,u=e.direction,s=e.pointer,c=e.styles,l=void 0===c?{}:c,f=e.className,d=void 0===f?"":f,h=o()(en({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},l));return a.a.createElement("div",{style:h.picker,className:"hue-picker "+d},a.a.createElement(A,ni({},h.hue,{hsl:i,pointer:s,onChange:function(e){return r({a:1,h:e.h,l:.5,s:1})},direction:u})))};ri.propTypes={styles:N.a.object},ri.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:ti,styles:{}};zn(ri),zn((function(e){var t=e.onChange,n=e.hex,r=e.rgb,i=e.styles,u=void 0===i?{}:i,s=e.className,c=void 0===s?"":s,l=o()(en({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},u)),f=function(e,n){e.hex?In(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return a.a.createElement(nn,{styles:u},a.a.createElement("div",{style:l.material,className:"material-picker "+c},a.a.createElement(O,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:n,onChange:f}),a.a.createElement("div",{style:l.split,className:"flexbox-fix"},a.a.createElement("div",{style:l.third},a.a.createElement(O,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:r.r,onChange:f})),a.a.createElement("div",{style:l.third},a.a.createElement(O,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:r.g,onChange:f})),a.a.createElement("div",{style:l.third},a.a.createElement(O,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:r.b,onChange:f})))))}));var ai=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,i=e.hex,u=o()({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(e,a){e["#"]?In(e["#"])&&t({hex:e["#"],source:"hex"},a):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},a):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},a)};return a.a.createElement("div",{style:u.fields},a.a.createElement(O,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"h",value:Math.round(r.h),onChange:s}),a.a.createElement(O,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:s}),a.a.createElement(O,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:s}),a.a.createElement("div",{style:u.divider}),a.a.createElement(O,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:n.r,onChange:s}),a.a.createElement(O,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:n.g,onChange:s}),a.a.createElement(O,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:n.b,onChange:s}),a.a.createElement("div",{style:u.divider}),a.a.createElement(O,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"#",value:i.replace("#",""),onChange:s}),a.a.createElement("div",{style:u.fieldSymbols},a.a.createElement("div",{style:u.symbol},"\xb0"),a.a.createElement("div",{style:u.symbol},"%"),a.a.createElement("div",{style:u.symbol},"%")))},ii=function(e){var t=e.hsl,n=o()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return a.a.createElement("div",{style:n.picker})},oi=function(){var e=o()({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return a.a.createElement("div",{style:e.pointer},a.a.createElement("div",{style:e.left},a.a.createElement("div",{style:e.leftInside})),a.a.createElement("div",{style:e.right},a.a.createElement("div",{style:e.rightInside})))},ui=function(e){var t=e.onClick,n=e.label,r=e.children,i=e.active,u=o()({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return a.a.createElement("div",{style:u.button,onClick:t},n||r)},si=function(e){var t=e.rgb,n=e.currentColor,r=o()({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return a.a.createElement("div",null,a.a.createElement("div",{style:r.label},"new"),a.a.createElement("div",{style:r.swatches},a.a.createElement("div",{style:r.new}),a.a.createElement("div",{style:r.current})),a.a.createElement("div",{style:r.label},"current"))},ci=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var li=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ci(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,i=void 0===r?"":r,u=o()(en({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return a.a.createElement("div",{style:u.picker,className:"photoshop-picker "+i},a.a.createElement("div",{style:u.head},this.props.header),a.a.createElement("div",{style:u.body,className:"flexbox-fix"},a.a.createElement("div",{style:u.saturation},a.a.createElement(xn,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:ii,onChange:this.props.onChange})),a.a.createElement("div",{style:u.hue},a.a.createElement(A,{direction:"vertical",hsl:this.props.hsl,pointer:oi,onChange:this.props.onChange})),a.a.createElement("div",{style:u.controls},a.a.createElement("div",{style:u.top,className:"flexbox-fix"},a.a.createElement("div",{style:u.previews},a.a.createElement(si,{rgb:this.props.rgb,currentColor:this.state.currentColor})),a.a.createElement("div",{style:u.actions},a.a.createElement(ui,{label:"OK",onClick:this.props.onAccept,active:!0}),a.a.createElement(ui,{label:"Cancel",onClick:this.props.onCancel}),a.a.createElement(ai,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(a.a.Component);li.propTypes={header:N.a.string,styles:N.a.object},li.defaultProps={header:"Color Picker",styles:{}};zn(li);var fi=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,u=e.disableAlpha,s=o()({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),c=function(e,a){e.hex?In(e.hex)&&t({hex:e.hex,source:"hex"},a):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},a):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},a))};return a.a.createElement("div",{style:s.fields,className:"flexbox-fix"},a.a.createElement("div",{style:s.double},a.a.createElement(O,{style:{input:s.input,label:s.label},label:"hex",value:i.replace("#",""),onChange:c})),a.a.createElement("div",{style:s.single},a.a.createElement(O,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:c,dragLabel:"true",dragMax:"255"})),a.a.createElement("div",{style:s.single},a.a.createElement(O,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:c,dragLabel:"true",dragMax:"255"})),a.a.createElement("div",{style:s.single},a.a.createElement(O,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:c,dragLabel:"true",dragMax:"255"})),a.a.createElement("div",{style:s.alpha},a.a.createElement(O,{style:{input:s.input,label:s.label},label:"a",value:Math.round(100*n.a),onChange:c,dragLabel:"true",dragMax:"100"})))},di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hi=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,u=o()({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),s=function(e,t){r({hex:e,source:"hex"},t)};return a.a.createElement("div",{style:u.colors,className:"flexbox-fix"},t.map((function(e){var t="string"===typeof e?{color:e}:e,n=""+t.color+(t.title||"");return a.a.createElement("div",{key:n,style:u.swatchWrap},a.a.createElement(Gn,di({},t,{style:u.swatch,onClick:s,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};hi.propTypes={colors:N.a.arrayOf(N.a.oneOfType([N.a.string,N.a.shape({color:N.a.string,title:N.a.string})])).isRequired};var pi=hi,vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mi=function(e){var t=e.width,n=e.rgb,r=e.hex,i=e.hsv,u=e.hsl,s=e.onChange,c=e.onSwatchHover,l=e.disableAlpha,f=e.presetColors,h=e.renderers,p=e.styles,v=void 0===p?{}:p,m=e.className,g=void 0===m?"":m,y=o()(en({default:vi({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},v),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},v),{disableAlpha:l});return a.a.createElement("div",{style:y.picker,className:"sketch-picker "+g},a.a.createElement("div",{style:y.saturation},a.a.createElement(xn,{style:y.Saturation,hsl:u,hsv:i,onChange:s})),a.a.createElement("div",{style:y.controls,className:"flexbox-fix"},a.a.createElement("div",{style:y.sliders},a.a.createElement("div",{style:y.hue},a.a.createElement(A,{style:y.Hue,hsl:u,onChange:s})),a.a.createElement("div",{style:y.alpha},a.a.createElement(b,{style:y.Alpha,rgb:n,hsl:u,renderers:h,onChange:s}))),a.a.createElement("div",{style:y.color},a.a.createElement(d,null),a.a.createElement("div",{style:y.activeColor}))),a.a.createElement(fi,{rgb:n,hsl:u,hex:r,onChange:s,disableAlpha:l}),a.a.createElement(pi,{colors:f,onClick:s,onSwatchHover:c}))};mi.propTypes={disableAlpha:N.a.bool,width:N.a.oneOfType([N.a.string,N.a.number]),styles:N.a.object},mi.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};zn(mi);var gi=function(e){var t=e.hsl,n=e.offset,r=e.onClick,i=void 0===r?function(){}:r,u=e.active,s=e.first,c=e.last,l=o()({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:u,first:s,last:c});return a.a.createElement("div",{style:l.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)}})},bi=function(e){var t=e.onClick,n=e.hsl,r=o()({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return a.a.createElement("div",{style:r.swatches},a.a.createElement("div",{style:r.swatch},a.a.createElement(gi,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<i&&Math.abs(n.s-.5)<i,onClick:t,first:!0})),a.a.createElement("div",{style:r.swatch},a.a.createElement(gi,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<i&&Math.abs(n.s-.5)<i,onClick:t})),a.a.createElement("div",{style:r.swatch},a.a.createElement(gi,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<i&&Math.abs(n.s-.5)<i,onClick:t})),a.a.createElement("div",{style:r.swatch},a.a.createElement(gi,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<i&&Math.abs(n.s-.5)<i,onClick:t})),a.a.createElement("div",{style:r.swatch},a.a.createElement(gi,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<i&&Math.abs(n.s-.5)<i,onClick:t,last:!0})),a.a.createElement("div",{style:r.clear}))},yi=function(){var e=o()({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return a.a.createElement("div",{style:e.picker})},xi=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,i=e.styles,u=void 0===i?{}:i,s=e.className,c=void 0===s?"":s,l=o()(en({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},u));return a.a.createElement("div",{style:l.wrap||{},className:"slider-picker "+c},a.a.createElement("div",{style:l.hue},a.a.createElement(A,{style:l.Hue,hsl:t,pointer:r,onChange:n})),a.a.createElement("div",{style:l.swatches},a.a.createElement(bi,{hsl:t,onClick:n})))};xi.propTypes={styles:N.a.object},xi.defaultProps={pointer:yi,styles:{}};zn(xi);var wi=n(604),Oi=n.n(wi),ki=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,u=e.first,s=e.last,c=e.active,l=o()({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:Mn(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:u,last:s,active:c,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return a.a.createElement(Gn,{color:t,style:l.color,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},a.a.createElement("div",{style:l.check},a.a.createElement(Oi.a,null)))},ji=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,i=e.active,u=o()({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return a.a.createElement("div",{style:u.group},ma(r,(function(e,o){return a.a.createElement(ki,{key:e,color:e,active:e.toLowerCase()===i,first:0===o,last:o===r.length-1,onClick:t,onSwatchHover:n})})))},_i=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.onSwatchHover,u=e.colors,s=e.hex,c=e.styles,l=void 0===c?{}:c,f=e.className,d=void 0===f?"":f,h=o()(en({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},l)),p=function(e,t){return r({hex:e,source:"hex"},t)};return a.a.createElement("div",{style:h.picker,className:"swatches-picker "+d},a.a.createElement(nn,null,a.a.createElement("div",{style:h.overflow},a.a.createElement("div",{style:h.body},ma(u,(function(e){return a.a.createElement(ji,{key:e.toString(),group:e,active:s,onClick:p,onSwatchHover:i})})),a.a.createElement("div",{style:h.clear})))))};_i.propTypes={width:N.a.oneOfType([N.a.string,N.a.number]),height:N.a.oneOfType([N.a.string,N.a.number]),colors:N.a.arrayOf(N.a.arrayOf(N.a.string)),styles:N.a.object},_i.defaultProps={width:320,height:240,colors:[[ya[900],ya[700],ya[500],ya[300],ya[100]],[xa[900],xa[700],xa[500],xa[300],xa[100]],[wa[900],wa[700],wa[500],wa[300],wa[100]],[Oa[900],Oa[700],Oa[500],Oa[300],Oa[100]],[ka[900],ka[700],ka[500],ka[300],ka[100]],[ja[900],ja[700],ja[500],ja[300],ja[100]],[_a[900],_a[700],_a[500],_a[300],_a[100]],[Sa[900],Sa[700],Sa[500],Sa[300],Sa[100]],[Ea[900],Ea[700],Ea[500],Ea[300],Ea[100]],["#194D33",Aa[700],Aa[500],Aa[300],Aa[100]],[Ca[900],Ca[700],Ca[500],Ca[300],Ca[100]],[Na[900],Na[700],Na[500],Na[300],Na[100]],[Ta[900],Ta[700],Ta[500],Ta[300],Ta[100]],[Da[900],Da[700],Da[500],Da[300],Da[100]],[Ia[900],Ia[700],Ia[500],Ia[300],Ia[100]],[Ma[900],Ma[700],Ma[500],Ma[300],Ma[100]],[Fa[900],Fa[700],Fa[500],Fa[300],Fa[100]],[Ra[900],Ra[700],Ra[500],Ra[300],Ra[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};zn(_i);var Si=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,u=e.width,s=e.triangle,c=e.styles,l=void 0===c?{}:c,f=e.className,d=void 0===f?"":f,h=o()(en({default:{card:{width:u,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},l),{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s}),p=function(e,n){In(e)&&t({hex:e,source:"hex"},n)};return a.a.createElement("div",{style:h.card,className:"twitter-picker "+d},a.a.createElement("div",{style:h.triangleShadow}),a.a.createElement("div",{style:h.triangle}),a.a.createElement("div",{style:h.body},ma(i,(function(e,t){return a.a.createElement(Gn,{key:t,color:e,hex:e,style:h.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),a.a.createElement("div",{style:h.hash},"#"),a.a.createElement(O,{label:null,style:{input:h.input},value:r.replace("#",""),onChange:p}),a.a.createElement("div",{style:h.clear})))};Si.propTypes={width:N.a.oneOfType([N.a.string,N.a.number]),triangle:N.a.oneOf(["hide","top-left","top-right"]),colors:N.a.arrayOf(N.a.string),styles:N.a.object},Si.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};zn(Si);var Ei=function(e){var t=o()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return a.a.createElement("div",{style:t.picker})};Ei.propTypes={hsl:N.a.shape({h:N.a.number,s:N.a.number,l:N.a.number,a:N.a.number})},Ei.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Ai=Ei,Ci=function(e){var t=o()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return a.a.createElement("div",{style:t.picker})};Ci.propTypes={hsl:N.a.shape({h:N.a.number,s:N.a.number,l:N.a.number,a:N.a.number})},Ci.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Ni=Ci,Ti=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,u=e.hsv,s=function(e,n){if(e.hex)In(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var r=e.rgb.split(",");Fn(e.rgb,"rgb")&&t({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(e.hsv){var a=e.hsv.split(",");Fn(e.hsv,"hsv")&&(a[2]=a[2].replace("%",""),a[1]=a[1].replace("%",""),a[0]=a[0].replace("\xb0",""),1==a[1]?a[1]=.01:1==a[2]&&(a[2]=.01),t({h:Number(a[0]),s:Number(a[1]),v:Number(a[2]),source:"hsv"},n))}else if(e.hsl){var i=e.hsl.split(",");Fn(e.hsl,"hsl")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("\xb0",""),1==d[1]?d[1]=.01:1==d[2]&&(d[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsl"},n))}},c=o()({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),l=n.r+", "+n.g+", "+n.b,f=Math.round(r.h)+"\xb0, "+Math.round(100*r.s)+"%, "+Math.round(100*r.l)+"%",d=Math.round(u.h)+"\xb0, "+Math.round(100*u.s)+"%, "+Math.round(100*u.v)+"%";return a.a.createElement("div",{style:c.wrap,className:"flexbox-fix"},a.a.createElement("div",{style:c.fields},a.a.createElement("div",{style:c.double},a.a.createElement(O,{style:{input:c.input,label:c.label},label:"hex",value:i,onChange:s})),a.a.createElement("div",{style:c.column},a.a.createElement("div",{style:c.single},a.a.createElement(O,{style:{input:c.input2,label:c.label2},label:"rgb",value:l,onChange:s})),a.a.createElement("div",{style:c.single},a.a.createElement(O,{style:{input:c.input2,label:c.label2},label:"hsv",value:d,onChange:s})),a.a.createElement("div",{style:c.single},a.a.createElement(O,{style:{input:c.input2,label:c.label2},label:"hsl",value:f,onChange:s})))))},Di=function(e){var t=e.width,n=e.onChange,r=e.rgb,i=e.hsl,u=e.hsv,s=e.hex,c=e.header,l=e.styles,f=void 0===l?{}:l,d=e.className,h=void 0===d?"":d,p=o()(en({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+r.r+", "+r.g+", "+r.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},f));return a.a.createElement("div",{style:p.picker,className:"google-picker "+h},a.a.createElement("div",{style:p.head},c),a.a.createElement("div",{style:p.swatch}),a.a.createElement("div",{style:p.saturation},a.a.createElement(xn,{hsl:i,hsv:u,pointer:Ai,onChange:n})),a.a.createElement("div",{style:p.body},a.a.createElement("div",{style:p.controls,className:"flexbox-fix"},a.a.createElement("div",{style:p.hue},a.a.createElement(A,{style:p.Hue,hsl:i,radius:"4px",pointer:Ni,onChange:n}))),a.a.createElement(Ti,{rgb:r,hsl:i,hex:s,hsv:u,onChange:n})))};Di.propTypes={width:N.a.oneOfType([N.a.string,N.a.number]),styles:N.a.object,header:N.a.string},Di.defaultProps={width:652,styles:{},header:"Color picker"};zn(Di)},function(e,t,n){"use strict";var r=n(15),a=n(11),i=n(26),o=n(304),u=n(930);function s(e,t,n){var i;return Object(a.a)({toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,e.up("sm"),{minHeight:64}),i)},n)}var c=n(401),l=n(914),f={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},h={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},b={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function O(e,t,n,r){var a=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(l.d)(e.main,a):"dark"===t&&(e.dark=Object(l.b)(e.main,i)))}function k(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,u=void 0===r?3:r,s=e.tonalOffset,k=void 0===s?.2:s,j=Object(i.a)(e,y),_=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(n),S=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h[200],light:h[50],dark:h[400]}:{main:h[500],light:h[300],dark:h[700]}}(n),E=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),A=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[700],light:g[500],dark:g[900]}}(n),C=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:b[800],light:b[500],dark:b[900]}}(n),N=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function T(e){return Object(l.c)(e,w.text.primary)>=u?w.text.primary:x.text.primary}var D=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,u=void 0===o?300:o,s=e.darkShade,l=void 0===s?700:s;if(!(t=Object(a.a)({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Object(c.a)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Object(c.a)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return O(t,"light",u,k),O(t,"dark",l,k),t.contrastText||(t.contrastText=T(t.main)),t},I={dark:w,light:x};return Object(o.a)(Object(a.a)({common:f,mode:n,primary:D({color:_,name:"primary"}),secondary:D({color:S,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:D({color:E,name:"error"}),warning:D({color:N,name:"warning"}),info:D({color:A,name:"info"}),success:D({color:C,name:"success"}),grey:d,contrastThreshold:u,getContrastText:T,augmentColor:D,tonalOffset:k},I[n]),j)}var j=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var _={textTransform:"uppercase"},S='"Roboto", "Helvetica", "Arial", sans-serif';function E(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,u=void 0===r?S:r,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,d=n.fontWeightRegular,h=void 0===d?400:d,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,g=void 0===m?700:m,b=n.htmlFontSize,y=void 0===b?16:b,x=n.allVariants,w=n.pxToRem,O=Object(i.a)(n,j);var k=c/14,E=w||function(e){return"".concat(e/y*k,"rem")},A=function(e,t,n,r,i){return Object(a.a)({fontFamily:u,fontWeight:e,fontSize:E(t),lineHeight:n},u===S?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},i,x);var o},C={h1:A(f,96,1.167,-1.5),h2:A(f,60,1.2,-.5),h3:A(h,48,1.167,0),h4:A(h,34,1.235,.25),h5:A(h,24,1.334,0),h6:A(v,20,1.6,.15),subtitle1:A(h,16,1.75,.15),subtitle2:A(v,14,1.57,.1),body1:A(h,16,1.5,.15),body2:A(h,14,1.43,.15),button:A(v,14,1.75,.4,_),caption:A(h,12,1.66,.4),overline:A(h,12,2.66,1,_)};return Object(o.a)(Object(a.a)({htmlFontSize:y,pxToRem:E,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:g},C),O,{clone:!1})}function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var C=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],N=n(96),T={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},D=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,c=void 0===r?{}:r,l=e.transitions,f=void 0===l?{}:l,d=e.typography,h=void 0===d?{}:d,p=Object(i.a)(e,D),v=k(c),m=Object(u.a)(e),g=Object(o.a)(m,{mixins:s(m.breakpoints,m.spacing,n),palette:v,shadows:C.slice(),typography:E(v,h),transitions:Object(N.a)(f),zIndex:Object(a.a)({},T)});g=Object(o.a)(g,p);for(var b=arguments.length,y=new Array(b>1?b-1:0),x=1;x<b;x++)y[x-1]=arguments[x];return g=y.reduce((function(e,t){return Object(o.a)(e,t)}),g)}t.a=I},function(e,t,n){"use strict";var r=n(71),a=n(11),i=n(26),o=n(57),u=n(31),s=n(108);function c(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var l=c,f=(n(366),[]),d=0;function h(e){try{m(),e()}finally{g()}}function p(e){f.push(e),d||(m(),b())}function v(e){try{return m(),e()}finally{b()}}function m(){d++}function g(){d--}function b(){var e;for(g();!d&&void 0!==(e=f.shift());)h(e)}var y=function(e){return function(t){return e.some((function(e){return j(e)(t)}))}},x=function(e){return function(t){return e(t)}},w=function(e){return function(t){return t.type===String(e)}},O=function(e){return function(t){return t.type===e}},k=function(){return u.H};function j(e){var t="*"===e?k:Object(o.k)(e)?w:Object(o.a)(e)?y:Object(o.l)(e)?w:Object(o.d)(e)?x:Object(o.m)(e)?O:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var _={type:r.b},S=function(e){return e&&e.type===r.b};function E(e){void 0===e&&(e=Object(u.B)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(_):e.isEmpty()?(n.push(r),r.cancel=function(){Object(u.O)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(_):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,a=e.length;r<a;r++){(0,e[r])(_)}}}}}function A(){var e=function(){var e,t=!1,n=[],a=n,i=function(){a===n&&(a=n.slice())},o=function(){t=!0;var e=n=a;a=[],e.forEach((function(e){e(_)}))};return(e={})[r.e]=!0,e.put=function(e){if(!t)if(S(e))o();else for(var i=n=a,u=0,s=i.length;u<s;u++){var c=i[u];c[r.d](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=k),t?e(_):(e[r.d]=n,i(),a.push(e),e.cancel=Object(u.L)((function(){i(),Object(u.O)(a,e)})))},e.close=o,e}(),t=e.put;return e.put=function(e){e[r.f]?t(e):p((function(){t(e)}))},e}function C(e,t){var n=e[r.a];Object(o.d)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var N,T=0,D=function(){return++T};function I(e){e.isRunning()&&e.cancel()}var M=((N={})[u.r]=function(e,t,n){var a=t.channel,i=void 0===a?e.channel:a,u=t.pattern,s=t.maybe,c=function(e){e instanceof Error?n(e,!0):!S(e)||s?n(e):n(r.k)};try{i.take(c,Object(o.g)(u)?j(u):null)}catch(l){return void n(l,!0)}n.cancel=c.cancel},N[u.n]=function(e,t,n){var r=t.channel,a=t.action,i=t.resolve;p((function(){var t;try{t=(r?r.put:e.dispatch)(a)}catch(u){return void n(u,!0)}i&&Object(o.j)(t)?C(t,n):n(t)}))},N[u.a]=function(e,t,n,r){var a=r.digestEffect,i=T,s=Object.keys(t);if(0!==s.length){var c=Object(u.I)(t,n);s.forEach((function(e){a(t[e],i,c[e],e)}))}else n(Object(o.a)(t)?[]:{})},N[u.p]=function(e,t,n,r){var a=r.digestEffect,i=T,s=Object.keys(t),c=Object(o.a)(t)?Object(u.J)(s.length):{},l={},f=!1;s.forEach((function(e){var t=function(t,r){f||(r||Object(u.P)(t)?(n.cancel(),n(t,r)):(n.cancel(),f=!0,c[e]=t,n(c)))};t.cancel=u.Q,l[e]=t})),n.cancel=function(){f||(f=!0,s.forEach((function(e){return l[e].cancel()})))},s.forEach((function(e){f||a(t[e],i,l[e],e)}))},N[u.c]=function(e,t,n,r){var a=t.context,i=t.fn,s=t.args,c=r.task;try{var l=i.apply(a,s);if(Object(o.j)(l))return void C(l,n);if(Object(o.e)(l))return void V(e,l,c.context,T,Object(u.G)(i),!1,n);n(l)}catch(f){n(f,!0)}},N[u.w]=function(e,t,n){var r=t.context,a=t.fn,i=t.args;try{var u=function(e,t){Object(o.n)(e)?n(t):n(e,!0)};a.apply(r,i.concat(u)),u.cancel&&(n.cancel=u.cancel)}catch(s){n(s,!0)}},N[u.f]=function(e,t,n,r){var a=t.context,i=t.fn,s=t.args,c=t.detached,l=r.task,f=function(e){var t=e.context,n=e.fn,r=e.args;try{var a=n.apply(t,r);if(Object(o.e)(a))return a;var i=!1;return Object(u.N)((function(e){return i?{value:e,done:!0}:(i=!0,{value:a,done:!Object(o.j)(a)})}))}catch(s){return Object(u.N)((function(){throw s}))}}({context:a,fn:i,args:s}),d=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Object(u.G)(t)}(f,i);v((function(){var t=V(e,f,l.context,T,d,c,void 0);c?n(t):t.isRunning()?(l.queue.addTask(t),n(t)):t.isAborted()?l.queue.abort(t.error()):n(t)}))},N[u.h]=function(e,t,n,r){var a=r.task,i=function(e,t){if(e.isRunning()){var n={task:a,cb:t};t.cancel=function(){e.isRunning()&&Object(u.O)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Object(o.a)(t)){if(0===t.length)return void n([]);var s=Object(u.I)(t,n);t.forEach((function(e,t){i(e,s[t])}))}else i(t,n)},N[u.y]=function(e,t,n,a){var i=a.task;t===r.h?I(i):Object(o.a)(t)?t.forEach(I):I(t),n()},N[u.q]=function(e,t,n){var r=t.selector,a=t.args;try{n(r.apply(void 0,[e.getState()].concat(a)))}catch(i){n(i,!0)}},N[u.A]=function(e,t,n){var r=t.pattern,a=E(t.buffer),i=j(r),o=function t(n){S(n)||e.channel.take(t,i),a.put(n)},u=a.close;a.close=function(){o.cancel(),u()},e.channel.take(o,i),n(a)},N[u.C]=function(e,t,n,r){n(r.task.isCancelled())},N[u.D]=function(e,t,n){t.flush(n)},N[u.g]=function(e,t,n,r){n(r.task.context[t])},N[u.E]=function(e,t,n,r){var a=r.task;Object(u.M)(a.context,t),n()},N);function F(e,t){return e+"?"+t}function R(e){var t=e.name,n=e.location;return n?t+"  "+F(n.fileName,n.lineNumber):t}function P(e){var t=Object(u.R)((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var z=null,B=[],L=function(){z=null,B.length=0},U=function(){var e=B[0],t=B.slice(1),n=e.crashedEffect?function(e){var t=Object(u.S)(e);return t?t.code+"  "+F(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+R(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+R(e.meta)})),[P(B)]).join("\n")};function W(e,t,n,a,i,o,s){var c;void 0===s&&(s=u.Q);var f,d,h=0,p=null,v=[],m=Object.create(n),g=function(e,t,n){var r,a=[],i=!1;function o(e){t(),c(),n(e,!0)}function s(t){a.push(t),t.cont=function(s,c){i||(Object(u.O)(a,t),t.cont=u.Q,c?o(s):(t===e&&(r=s),a.length||(i=!0,n(r))))}}function c(){i||(i=!0,a.forEach((function(e){e.cont=u.Q,e.cancel()})),a=[])}return s(e),{addTask:s,cancelAll:c,abort:o,getTasks:function(){return a}}}(t,(function(){v.push.apply(v,g.getTasks().map((function(e){return e.meta.name})))}),b);function b(t,n){if(n){if(h=2,(o={meta:i,cancelledTasks:v}).crashedEffect=z,B.push(o),y.isRoot){var a=U();L(),e.onError(t,{sagaStack:a})}d=t,p&&p.reject(t)}else t===r.j?h=1:1!==h&&(h=3),f=t,p&&p.resolve(t);var o;y.cont(t,n),y.joiners.forEach((function(e){e.cb(t,n)})),y.joiners=null}var y=((c={})[r.i]=!0,c.id=a,c.meta=i,c.isRoot=o,c.context=m,c.joiners=[],c.queue=g,c.cancel=function(){0===h&&(h=1,g.cancelAll(),b(r.j,!1))},c.cont=s,c.end=b,c.setContext=function(e){Object(u.M)(m,e)},c.toPromise=function(){return p||(p=l(),2===h?p.reject(d):0!==h&&p.resolve(f)),p.promise},c.isRunning=function(){return 0===h},c.isCancelled=function(){return 1===h||0===h&&1===t.status},c.isAborted=function(){return 2===h},c.result=function(){return f},c.error=function(){return d},c);return y}function V(e,t,n,a,i,s,c){var l=e.finalizeRunEffect((function(t,n,a){if(Object(o.j)(t))C(t,a);else if(Object(o.e)(t))V(e,t,d.context,n,i,!1,a);else if(t&&t[r.c]){(0,M[t.type])(e,t.payload,a,h)}else a(t)}));p.cancel=u.Q;var f={meta:i,cancel:function(){0===f.status&&(f.status=1,p(r.j))},status:0},d=W(e,f,n,a,i,s,c),h={task:d,digestEffect:v};return c&&(c.cancel=d.cancel),p(),d;function p(e,n){try{var i;n?(i=t.throw(e),L()):Object(u.T)(e)?(f.status=1,p.cancel(),i=Object(o.d)(t.return)?t.return(r.j):{done:!0,value:r.j}):i=Object(u.U)(e)?Object(o.d)(t.return)?t.return():{done:!0}:t.next(e),i.done?(1!==f.status&&(f.status=3),f.cont(i.value)):v(i.value,a,p)}catch(s){if(1===f.status)throw s;f.status=2,f.cont(s,!0)}}function v(t,n,r,a){void 0===a&&(a="");var i,o=D();function s(n,a){i||(i=!0,r.cancel=u.Q,e.sagaMonitor&&(a?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),a&&function(e){z=e}(t),r(n,a))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:a,effect:t}),s.cancel=u.Q,r.cancel=function(){i||(i=!0,s.cancel(),s.cancel=u.Q,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},l(t,o,s)}}function H(e,t){var n=e.channel,r=void 0===n?A():n,a=e.dispatch,i=e.getState,o=e.context,c=void 0===o?{}:o,l=e.sagaMonitor,f=e.effectMiddlewares,d=e.onError,h=void 0===d?u.b:d;for(var p=arguments.length,m=new Array(p>2?p-2:0),g=2;g<p;g++)m[g-2]=arguments[g];var b=t.apply(void 0,m);var y,x=D();if(l&&(l.rootSagaStarted=l.rootSagaStarted||u.Q,l.effectTriggered=l.effectTriggered||u.Q,l.effectResolved=l.effectResolved||u.Q,l.effectRejected=l.effectRejected||u.Q,l.effectCancelled=l.effectCancelled||u.Q,l.actionDispatched=l.actionDispatched||u.Q,l.rootSagaStarted({effectId:x,saga:t,args:m})),f){var w=s.c.apply(void 0,f);y=function(e){return function(t,n,r){return w((function(t){return e(t,n,r)}))(t)}}}else y=u.e;var O={channel:r,dispatch:Object(u.d)(a),getState:i,sagaMonitor:l,onError:h,finalizeRunEffect:y};return v((function(){var e=V(O,b,c,x,Object(u.G)(t),!0,void 0);return l&&l.effectResolved(x,e),e}))}var G=function(e){var t,n=void 0===e?{}:e,r=n.context,o=void 0===r?{}:r,s=n.channel,c=void 0===s?A():s,l=n.sagaMonitor,f=Object(i.a)(n,["context","channel","sagaMonitor"]);function d(e){var n=e.getState,r=e.dispatch;return t=H.bind(null,Object(a.a)({},f,{context:o,channel:c,dispatch:r,getState:n,sagaMonitor:l})),function(e){return function(t){l&&l.actionDispatched&&l.actionDispatched(t);var n=e(t);return c.put(t),n}}}return d.run=function(){return t.apply(void 0,arguments)},d.setContext=function(e){Object(u.M)(o,e)},d};t.a=G},function(e,t,n){"use strict";var r=n(11),a=n(26),i=n(1),o=(n(238),n(28)),u=n(274),s=n(1028),c=n(1022),l=n(1030),f=n(25),d=n(102),h=n(32),p=n(184),v=n(209);function m(e){return Object(p.a)("MuiMenu",e)}Object(v.a)("MuiMenu",["root","paper","list"]);var g=n(2),b=["onEntering"],y=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],x={vertical:"top",horizontal:"right"},w={vertical:"top",horizontal:"left"},O=Object(f.a)(l.a,{shouldForwardProp:function(e){return Object(f.b)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),k=Object(f.a)(c.a,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),j=Object(f.a)(s.a,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),_=i.forwardRef((function(e,t){var n=Object(h.a)({props:e,name:"MuiMenu"}),s=n.autoFocus,c=void 0===s||s,l=n.children,f=n.disableAutoFocusItem,p=void 0!==f&&f,v=n.MenuListProps,_=void 0===v?{}:v,S=n.onClose,E=n.open,A=n.PaperProps,C=void 0===A?{}:A,N=n.PopoverClasses,T=n.transitionDuration,D=void 0===T?"auto":T,I=n.TransitionProps,M=(I=void 0===I?{}:I).onEntering,F=n.variant,R=void 0===F?"selectedMenu":F,P=Object(a.a)(n.TransitionProps,b),z=Object(a.a)(n,y),B=Object(d.a)(),L="rtl"===B.direction,U=Object(r.a)({},n,{autoFocus:c,disableAutoFocusItem:p,MenuListProps:_,onEntering:M,PaperProps:C,transitionDuration:D,TransitionProps:P,variant:R}),W=function(e){var t=e.classes;return Object(u.a)({root:["root"],paper:["paper"],list:["list"]},m,t)}(U),V=c&&!p&&E,H=i.useRef(null),G=-1;return i.Children.map(l,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===R&&e.props.selected||-1===G)&&(G=t))})),Object(g.jsx)(O,Object(r.a)({classes:N,onClose:S,anchorOrigin:{vertical:"bottom",horizontal:L?"right":"left"},transformOrigin:L?x:w,PaperProps:Object(r.a)({component:k},C,{classes:Object(r.a)({},C.classes,{root:W.paper})}),className:W.root,open:E,ref:t,transitionDuration:D,TransitionProps:Object(r.a)({onEntering:function(e,t){H.current&&H.current.adjustStyleForScrollbar(e,B),M&&M(e,t)}},P),ownerState:U},z,{children:Object(g.jsx)(j,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),S&&S(e,"tabKeyDown"))},actions:H,autoFocus:c&&(-1===G||p),autoFocusItem:V,variant:R},_,{className:Object(o.a)(W.list,_.className),children:l}))}))}));t.a=_},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(401);function a(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),a=n(301);function i(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(a.a)(e,n),Object(a.a)(t,n)}}),[e,t])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r,a,i,o,u=n(469);o={thousands:",",grouping:[3],currency:["$",""]},r=Object(u.a)(o),a=r.format,i=r.formatPrefix},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(229),a=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;a=f("react.element"),i=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var y=b.prototype=new g;y.constructor=b,r(y,m.prototype),y.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,i={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:a,type:e,key:o,ref:u,props:i,_owner:x.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var _=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case i:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),E(o,t,n,"",(function(e){return e}))):null!=o&&(j(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=E(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=E(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function A(e,t,n){if(null==e)return e;var r=[],a=0;return E(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function T(){var e=N.current;if(null===e)throw Error(h(321));return e}var D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var i=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!O.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:u,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return T().useCallback(e,t)},t.useContext=function(e,t){return T().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return T().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return T().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return T().useLayoutEffect(e,t)},t.useMemo=function(e,t){return T().useMemo(e,t)},t.useReducer=function(e,t,n){return T().useReducer(e,t,n)},t.useRef=function(e){return T().useRef(e)},t.useState=function(e){return T().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(1),a=n(229),i=n(661);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=60103,k=60106,j=60107,_=60108,S=60114,E=60109,A=60110,C=60112,N=60113,T=60120,D=60115,I=60116,M=60121,F=60128,R=60129,P=60130,z=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;O=B("react.element"),k=B("react.portal"),j=B("react.fragment"),_=B("react.strict_mode"),S=B("react.profiler"),E=B("react.provider"),A=B("react.context"),C=B("react.forward_ref"),N=B("react.suspense"),T=B("react.suspense_list"),D=B("react.memo"),I=B("react.lazy"),M=B("react.block"),B("react.scope"),F=B("react.opaque.id"),R=B("react.debug_trace_mode"),P=B("react.offscreen"),z=B("react.legacy_hidden")}var L,U="function"===typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function V(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var H=!1;function G(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var a=s.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,u=i.length-1;1<=o&&0<=u&&a[o]!==i[u];)u--;for(;1<=o&&0<=u;o--,u--)if(a[o]!==i[u]){if(1!==o||1!==u)do{if(o--,0>--u||a[o]!==i[u])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function q(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function X(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case S:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return X(e.type);case M:return X(e._render);case I:t=e._payload,e=e._init;try{return X(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Oe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(ye).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var ke=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function je(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ae=null,Ce=null;function Ne(e){if(e=ra(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=ia(t),Ee(e.stateNode,e.type,t))}}function Te(e){Ae?Ce?Ce.push(e):Ce=[e]:Ae=e}function De(){if(Ae){var e=Ae,t=Ce;if(Ce=Ae=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ie(e,t){return e(t)}function Me(e,t,n,r,a){return e(t,n,r,a)}function Fe(){}var Re=Ie,Pe=!1,ze=!1;function Be(){null===Ae&&null===Ce||(Fe(),De())}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=ia(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ue=!1;if(f)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(me){Ue=!1}function Ve(e,t,n,r,a,i,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,Ge=null,qe=!1,Xe=null,Ye={onError:function(e){He=!0,Ge=e}};function Ke(e,t,n,r,a,i,o,u,s){He=!1,Ge=null,Ve.apply(Ye,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Je(a),e;if(i===r)return Je(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var u=!1,s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u){for(s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,at,it=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e=pt(t,n,r,a,i),null!==t&&(null!==(t=ra(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function gt(e){var t=na(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ra(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){bt(e)&&n.delete(t)}function xt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ra(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&bt(ut)&&(ut=null),null!==st&&bt(st)&&(st=null),null!==ct&&bt(ct)&&(ct=null),lt.forEach(yt),ft.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xt)))}function Ot(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jt={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},_t={},St={};function Et(e){if(_t[e])return _t[e];if(!jt[e])return e;var t,n=jt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return _t[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete jt.animationend.animation,delete jt.animationiteration.animation,delete jt.animationstart.animation),"TransitionEvent"in window||delete jt.transitionend.transition);var At=Et("animationend"),Ct=Et("animationiteration"),Nt=Et("animationstart"),Tt=Et("transitionend"),Dt=new Map,It=new Map,Mt=["abort","abort",At,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function Ft(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),It.set(r,t),Dt.set(r,a),c(a,[r])}}(0,i.unstable_now)();var Rt=8;function Pt(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function zt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,a=0,i=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==i)r=i,a=Rt=15;else if(0!==(i=134217727&n)){var s=i&~o;0!==s?(r=Pt(s),a=Rt):0!==(u&=i)&&(r=Pt(u),a=Rt)}else 0!==(i=n&~o)?(r=Pt(i),a=Rt):0!==u&&(r=Pt(u),a=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Pt(t),a<=Rt)return t;Rt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Ht(t)),r|=e[n],t&=~a;return r}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Lt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Lt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Lt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ut(e){return e&-e}function Wt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/qt|0)|0},Gt=Math.log,qt=Math.LN2;var Xt=i.unstable_UserBlockingPriority,Yt=i.unstable_runWithPriority,Kt=!0;function $t(e,t,n,r){Pe||Fe();var a=Jt,i=Pe;Pe=!0;try{Me(a,e,t,n,r)}finally{(Pe=i)||Be()}}function Zt(e,t,n,r){Yt(Xt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var a;if(Kt)if((a=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var i=Qt(e,t,n,r);if(null===i)a&&vt(e,r);else{if(a){if(-1<ht.indexOf(e))return e=pt(i,e,t,n,r),void ot.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,a),!0;case"dragenter":return st=mt(st,e,t,n,r,a),!0;case"mouseover":return ct=mt(ct,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return lt.set(i,mt(lt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ft.set(i,mt(ft.get(i)||null,e,t,n,r,a)),!0}return!1}(i,e,t,n,r))return;vt(e,r)}Fr(e,t,r,null,n)}}}function Qt(e,t,n,r){var a=Se(r);if(null!==(a=na(a))){var i=$e(a);if(null===i)a=null;else{var o=i.tag;if(13===o){if(null!==(a=Ze(i)))return a;a=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Fr(e,t,r,a,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,a="value"in en?en.value:en.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return nn=a.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?on:un,this.isPropagationStopped=un,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),pn=a({},dn,{view:0,detail:0}),vn=sn(pn),mn=a({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=sn(mn),bn=sn(a({},mn,{dataTransfer:0})),yn=sn(a({},pn,{relatedTarget:0})),xn=sn(a({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=a({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),On=sn(wn),kn=sn(a({},dn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function An(){return En}var Cn=a({},pn,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Cn),Tn=sn(a({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(a({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),In=sn(a({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=a({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=sn(Mn),Rn=[9,13,27,32],Pn=f&&"CompositionEvent"in window,zn=null;f&&"documentMode"in document&&(zn=document.documentMode);var Bn=f&&"TextEvent"in window&&!zn,Ln=f&&(!Pn||zn&&8<zn&&11>=zn),Un=String.fromCharCode(32),Wn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Yn(e,t,n,r){Te(r),0<(t=Pr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,$n=null;function Zn(e){Cr(e,0)}function Jn(e){if(Z(aa(e)))return e}function Qn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ar(){Kn&&(Kn.detachEvent("onpropertychange",ir),$n=Kn=null)}function ir(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Yn(t,$n,e,Se(e)),e=Zn,Pe)e(t);else{Pe=!0;try{Ie(e,t)}finally{Pe=!1,Be()}}}}function or(e,t,n){"focusin"===e?(ar(),$n=n,(Kn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&ar()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var br=f&&"documentMode"in document&&11>=document.documentMode,yr=null,xr=null,wr=null,Or=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Or||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Pr(xr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Ft("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ft("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ft(Mt,2);for(var jr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<jr.length;_r++)It.set(jr[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,u,s,c){if(Ke.apply(this,arguments),He){if(!He)throw Error(o(198));var l=Ge;He=!1,Ge=null,qe||(qe=!0,Xe=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==i&&a.isPropagationStopped())break e;Ar(a,u,c),i=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==i&&a.isPropagationStopped())break e;Ar(a,u,c),i=s}}}if(qe)throw e=Xe,qe=!1,Xe=null,e}function Nr(e,t){var n=oa(t),r=e+"__bubble";n.has(r)||(Mr(t,e,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Tr]||(e[Tr]=!0,u.forEach((function(t){Er.has(t)||Ir(t,!1,e,null),Ir(t,!0,e,null)})))}function Ir(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&Er.has(e)){if("scroll"!==e)return;a|=2,i=r}var o=oa(i),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(a|=4),Mr(i,e,a,t),o.add(u))}function Mr(e,t,n,r){var a=It.get(t);switch(void 0===a?2:a){case 0:a=$t;break;case 1:a=Zt;break;default:a=Jt}n=a.bind(null,t,n,e),a=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Fr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===a||8===u.nodeType&&u.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;o=o.return}for(;null!==u;){if(null===(o=na(u)))return;if(5===(s=o.tag)||6===s){r=i=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(ze)return e(t,n);ze=!0;try{Re(e,t,n)}finally{ze=!1,Be()}}((function(){var r=i,a=Se(n),o=[];e:{var u=Dt.get(e);if(void 0!==u){var s=hn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Dn;break;case At:case Ct:case Nt:s=xn;break;case Tt:s=In;break;case"scroll":s=vn;break;case"wheel":s=Fn;break;case"copy":case"cut":case"paste":s=On;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Le(p,d))&&l.push(Rr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,a),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!na(c)&&!c[ea])&&(s||u)&&(u=a.window===a?a:(u=a.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?na(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=gn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:aa(s),h=null==c?u:aa(c),(u=new l(v,p+"leave",s,n,a)).target=f,u.relatedTarget=h,v=null,na(a)===r&&((l=new l(d,p+"enter",c,n,a)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=zr(h))p++;for(h=0,v=d;v;v=zr(v))h++;for(;0<p-h;)l=zr(l),p--;for(;0<h-p;)d=zr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=zr(l),d=zr(d)}l=null}else l=null;null!==s&&Br(o,u,s,l,!1),null!==c&&null!==f&&Br(o,f,c,l,!0)}if("select"===(s=(u=r?aa(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(Xn(u))if(er)m=cr;else{m=ur;var g=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Yn(o,m,n,a):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ae(u,"number",u.value)),g=r?aa(r):window,e){case"focusin":(Xn(g)||"true"===g.contentEditable)&&(yr=g,xr=r,wr=null);break;case"focusout":wr=xr=yr=null;break;case"mousedown":Or=!0;break;case"contextmenu":case"mouseup":case"dragend":Or=!1,kr(o,n,a);break;case"selectionchange":if(br)break;case"keydown":case"keyup":kr(o,n,a)}var b;if(Pn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Gn?Vn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Ln&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Gn&&(b=rn()):(tn="value"in(en=a)?en.value:en.textContent,Gn=!0)),0<(g=Pr(r,y)).length&&(y=new kn(y,e,null,n,a),o.push({event:y,listeners:g}),b?y.data=b:null!==(b=Hn(n))&&(y.data=b))),(b=Bn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Wn=!0,Un);case"textInput":return(e=t.data)===Un&&Wn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=rn(),nn=tn=en=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Pr(r,"onBeforeInput")).length&&(a=new kn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=b))}Cr(o,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Le(e,n))&&r.unshift(Rr(e,i,a)),null!=(i=Le(e,t))&&r.push(Rr(e,i,a))),e=e.return}return r}function zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Br(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,a?null!=(s=Le(n,i))&&o.unshift(Rr(n,s,u)):a||null!=(s=Le(n,i))&&o.push(Rr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Lr(){}var Ur=null,Wr=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gr="function"===typeof setTimeout?setTimeout:void 0,qr="function"===typeof clearTimeout?clearTimeout:void 0;function Xr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Zr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Zr,Qr="__reactProps$"+Zr,ea="__reactContainer$"+Zr,ta="__reactEvents$"+Zr;function na(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ea]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Jr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ra(e){return!(e=e[Jr]||e[ea])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function aa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ia(e){return e[Qr]||null}function oa(e){var t=e[ta];return void 0===t&&(t=e[ta]=new Set),t}var ua=[],sa=-1;function ca(e){return{current:e}}function la(e){0>sa||(e.current=ua[sa],ua[sa]=null,sa--)}function fa(e,t){sa++,ua[sa]=e.current,e.current=t}var da={},ha=ca(da),pa=ca(!1),va=da;function ma(e,t){var n=e.type.contextTypes;if(!n)return da;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ga(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ba(){la(pa),la(ha)}function ya(e,t,n){if(ha.current!==da)throw Error(o(168));fa(ha,t),fa(pa,n)}function xa(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,X(t)||"Unknown",i));return a({},n,r)}function wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||da,va=ha.current,fa(ha,e),fa(pa,pa.current),!0}function Oa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xa(e,t,va),r.__reactInternalMemoizedMergedChildContext=e,la(pa),la(ha),fa(ha,e)):la(pa),fa(pa,n)}var ka=null,ja=null,_a=i.unstable_runWithPriority,Sa=i.unstable_scheduleCallback,Ea=i.unstable_cancelCallback,Aa=i.unstable_shouldYield,Ca=i.unstable_requestPaint,Na=i.unstable_now,Ta=i.unstable_getCurrentPriorityLevel,Da=i.unstable_ImmediatePriority,Ia=i.unstable_UserBlockingPriority,Ma=i.unstable_NormalPriority,Fa=i.unstable_LowPriority,Ra=i.unstable_IdlePriority,Pa={},za=void 0!==Ca?Ca:function(){},Ba=null,La=null,Ua=!1,Wa=Na(),Va=1e4>Wa?Na:function(){return Na()-Wa};function Ha(){switch(Ta()){case Da:return 99;case Ia:return 98;case Ma:return 97;case Fa:return 96;case Ra:return 95;default:throw Error(o(332))}}function Ga(e){switch(e){case 99:return Da;case 98:return Ia;case 97:return Ma;case 96:return Fa;case 95:return Ra;default:throw Error(o(332))}}function qa(e,t){return e=Ga(e),_a(e,t)}function Xa(e,t,n){return e=Ga(e),Sa(e,t,n)}function Ya(){if(null!==La){var e=La;La=null,Ea(e)}Ka()}function Ka(){if(!Ua&&null!==Ba){Ua=!0;var e=0;try{var t=Ba;qa(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ba=null}catch(n){throw null!==Ba&&(Ba=Ba.slice(e+1)),Sa(Da,Ya),n}finally{Ua=!1}}}var $a=w.ReactCurrentBatchConfig;function Za(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ja=ca(null),Qa=null,ei=null,ti=null;function ni(){ti=ei=Qa=null}function ri(e){var t=Ja.current;la(Ja),e.type._context._currentValue=t}function ai(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ii(e,t){Qa=e,ti=ei=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Po=!0),e.firstContext=null)}function oi(e,t){if(ti!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ti=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ei){if(null===Qa)throw Error(o(308));ei=t,Qa.dependencies={lanes:0,firstContext:t,responders:null}}else ei=ei.next=t;return e._currentValue}var ui=!1;function si(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ci(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fi(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function di(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hi(e,t,n,r){var i=e.updateQueue;ui=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(d=i.baseState,u=0,f=l=c=null;;){s=o.lane;var h=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,s);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(h,d,s):p)||void 0===s)break e;d=a({},d,s);break e;case 2:ui=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else h={eventTime:h,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,u|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===f&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,Uu|=u,e.lanes=u,e.memoizedState=d}}function pi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var vi=(new r.Component).refs;function mi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gi={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ds(),a=hs(e),i=li(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fi(e,i),ps(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ds(),a=hs(e),i=li(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fi(e,i),ps(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ds(),r=hs(e),a=li(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),fi(e,a),ps(e,r,n)}};function bi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(a,i))}function yi(e,t,n){var r=!1,a=da,i=t.contextType;return"object"===typeof i&&null!==i?i=oi(i):(a=ga(t)?va:ha.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?ma(e,a):da),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function xi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gi.enqueueReplaceState(t,t.state,null)}function wi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=vi,si(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=oi(i):(i=ga(t)?va:ha.current,a.context=ma(e,i)),hi(e,n,a,r),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(mi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&gi.enqueueReplaceState(a,a.state,null),hi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var Oi=Array.isArray;function ki(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===vi&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ji(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _i(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=qs(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$s(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=ki(e,t,n),r.return=e,r):((r=Xs(n.type,n.key,n.props,null,e.mode,r)).ref=ki(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zs(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Ys(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$s(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case O:return(n=Xs(t.type,t.key,t.props,null,e.mode,n)).ref=ki(e,null,t),n.return=e,n;case k:return(t=Zs(t,e.mode,n)).return=e,t}if(Oi(t)||W(t))return(t=Ys(t,e.mode,n,null)).return=e,t;ji(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case O:return n.key===a?n.type===j?f(e,t,n.props.children,r,a):c(e,t,n,r):null;case k:return n.key===a?l(e,t,n,r):null}if(Oi(n)||W(n))return null!==a?null:f(e,t,n,r,null);ji(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case O:return e=e.get(null===r.key?n:r.key)||null,r.type===j?f(t,e,r.props.children,a,r.key):c(t,e,r,a);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(Oi(r)||W(r))return f(t,e=e.get(n)||null,r,a,null);ji(t,r)}return null}function v(a,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(a,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(a,f),o=i(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===u.length)return n(a,f),c;if(null===f){for(;v<u.length;v++)null!==(f=d(a,u[v],s))&&(o=i(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(a,f);v<u.length;v++)null!==(m=p(f,a,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=i(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(a,e)})),c}function m(a,u,s,c){var l=W(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,g=null,b=s.next();null!==v&&!b.done;m++,b=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var y=h(a,v,b.value,c);if(null===y){null===v&&(v=g);break}e&&v&&null===y.alternate&&t(a,v),u=i(y,u,m),null===f?l=y:f.sibling=y,f=y,v=g}if(b.done)return n(a,v),l;if(null===v){for(;!b.done;m++,b=s.next())null!==(b=d(a,b.value,c))&&(u=i(b,u,m),null===f?l=b:f.sibling=b,f=b);return l}for(v=r(a,v);!b.done;m++,b=s.next())null!==(b=p(v,a,m,b.value,c))&&(e&&null!==b.alternate&&v.delete(null===b.key?m:b.key),u=i(b,u,m),null===f?l=b:f.sibling=b,f=b);return e&&v.forEach((function(e){return t(a,e)})),l}return function(e,r,i,s){var c="object"===typeof i&&null!==i&&i.type===j&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case O:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(i.type===j){n(e,c.sibling),(r=a(c,i.props.children)).return=e,e=r;break e}}else if(c.elementType===i.type){n(e,c.sibling),(r=a(c,i.props)).ref=ki(e,c,i),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===j?((r=Ys(i.props.children,e.mode,s,i.key)).return=e,e=r):((s=Xs(i.type,i.key,i.props,null,e.mode,s)).ref=ki(e,r,i),s.return=e,e=s)}return u(e);case k:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zs(i,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=$s(i,e.mode,s)).return=e,e=r),u(e);if(Oi(i))return v(e,r,i,s);if(W(i))return m(e,r,i,s);if(l&&ji(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,X(e.type)||"Component"))}return n(e,r)}}var Si=_i(!0),Ei=_i(!1),Ai={},Ci=ca(Ai),Ni=ca(Ai),Ti=ca(Ai);function Di(e){if(e===Ai)throw Error(o(174));return e}function Ii(e,t){switch(fa(Ti,t),fa(Ni,e),fa(Ci,Ai),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}la(Ci),fa(Ci,t)}function Mi(){la(Ci),la(Ni),la(Ti)}function Fi(e){Di(Ti.current);var t=Di(Ci.current),n=pe(t,e.type);t!==n&&(fa(Ni,e),fa(Ci,n))}function Ri(e){Ni.current===e&&(la(Ci),la(Ni))}var Pi=ca(0);function zi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bi=null,Li=null,Ui=!1;function Wi(e,t){var n=Hs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Hi(e){if(Ui){var t=Li;if(t){var n=t;if(!Vi(e,t)){if(!(t=Yr(n.nextSibling))||!Vi(e,t))return e.flags=-1025&e.flags|2,Ui=!1,void(Bi=e);Wi(Bi,n)}Bi=e,Li=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Ui=!1,Bi=e}}function Gi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bi=e}function qi(e){if(e!==Bi)return!1;if(!Ui)return Gi(e),Ui=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Li;t;)Wi(e,t),t=Yr(t.nextSibling);if(Gi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Li=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Li=null}}else Li=Bi?Yr(e.stateNode.nextSibling):null;return!0}function Xi(){Li=Bi=null,Ui=!1}var Yi=[];function Ki(){for(var e=0;e<Yi.length;e++)Yi[e]._workInProgressVersionPrimary=null;Yi.length=0}var $i=w.ReactCurrentDispatcher,Zi=w.ReactCurrentBatchConfig,Ji=0,Qi=null,eo=null,to=null,no=!1,ro=!1;function ao(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,a,i){if(Ji=i,Qi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$i.current=null===e||null===e.memoizedState?Io:Mo,e=n(r,a),ro){i=0;do{if(ro=!1,!(25>i))throw Error(o(301));i+=1,to=eo=null,t.updateQueue=null,$i.current=Fo,e=n(r,a)}while(ro)}if($i.current=Do,t=null!==eo&&null!==eo.next,Ji=0,to=eo=Qi=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Qi.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Qi.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Qi.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Qi.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var u=a.next;a.next=i.next,i.next=u}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var s=u=i=null,c=a;do{var l=c.lane;if((Ji&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,i=r):s=s.next=f,Qi.lanes|=l,Uu|=l}c=c.next}while(null!==c&&c!==a);null===s?i=r:s.next=u,lr(r,t.memoizedState)||(Po=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var u=a=a.next;do{i=e(i,u.action),u=u.next}while(u!==a);lr(i,t.memoizedState)||(Po=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Ji&e)===e)&&(t._workInProgressVersionPrimary=r,Yi.push(t))),e)return n(t._source);throw Yi.push(t),Error(o(350))}function po(e,t,n,r){var a=Iu;if(null===a)throw Error(o(349));var i=t._getVersion,u=i(t._source),s=$i.current,c=s.useState((function(){return ho(a,t,n)})),l=c[1],f=c[0];c=to;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var m=Qi;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=i(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=hs(m),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,o=e;0<o;){var s=31-Ht(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hs(m);a.mutableReadLanes|=r&a.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=To.bind(null,Qi,e),c.queue=e,c.baseQueue=null,f=ho(a,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=To.bind(null,Qi,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qi.updateQueue)?(t={lastEffect:null},Qi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function bo(e){return e={current:e},uo().memoizedState=e}function yo(){return so().memoizedState}function xo(e,t,n,r){var a=uo();Qi.flags|=e,a.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var a=so();r=void 0===r?null:r;var i=void 0;if(null!==eo){var o=eo.memoizedState;if(i=o.destroy,null!==r&&io(r,o.deps))return void go(t,n,i,r)}Qi.flags|=e,a.memoizedState=go(1|t,n,i,r)}function Oo(e,t){return xo(516,4,e,t)}function ko(e,t){return wo(516,4,e,t)}function jo(e,t){return wo(4,2,e,t)}function _o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,_o.bind(null,t,e),n)}function Eo(){}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Ha();qa(98>n?98:n,(function(){e(!0)})),qa(97<n?97:n,(function(){var n=Zi.transition;Zi.transition=1;try{e(!1),t()}finally{Zi.transition=n}}))}function To(e,t,n){var r=ds(),a=hs(e),i={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Qi||null!==o&&o===Qi)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(i.eagerReducer=o,i.eagerState=s,lr(s,u))return}catch(c){}ps(e,a,r)}}var Do={readContext:oi,useCallback:ao,useContext:ao,useEffect:ao,useImperativeHandle:ao,useLayoutEffect:ao,useMemo:ao,useReducer:ao,useRef:ao,useState:ao,useDebugValue:ao,useDeferredValue:ao,useTransition:ao,useMutableSource:ao,useOpaqueIdentifier:ao,unstable_isNewReconciler:!1},Io={readContext:oi,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oi,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xo(4,2,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=To.bind(null,Qi,e),[r.memoizedState,e]},useRef:bo,useState:mo,useDebugValue:Eo,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return Oo((function(){var t=Zi.transition;Zi.transition=1;try{r(e)}finally{Zi.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return bo(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ui){var e=!1,t=function(e){return{$$typeof:F,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Qi.mode)&&(Qi.flags|=516,go(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Mo={readContext:oi,useCallback:Ao,useContext:oi,useEffect:ko,useImperativeHandle:So,useLayoutEffect:jo,useMemo:Co,useReducer:lo,useRef:yo,useState:function(){return lo(co)},useDebugValue:Eo,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return ko((function(){var t=Zi.transition;Zi.transition=1;try{r(e)}finally{Zi.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[yo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Fo={readContext:oi,useCallback:Ao,useContext:oi,useEffect:ko,useImperativeHandle:So,useLayoutEffect:jo,useMemo:Co,useReducer:fo,useRef:yo,useState:function(){return fo(co)},useDebugValue:Eo,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return ko((function(){var t=Zi.transition;Zi.transition=1;try{r(e)}finally{Zi.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[yo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Ro=w.ReactCurrentOwner,Po=!1;function zo(e,t,n,r){t.child=null===e?Ei(t,null,n,r):Si(t,e.child,n,r)}function Bo(e,t,n,r,a){n=n.render;var i=t.ref;return ii(t,a),r=oo(e,t,n,r,i,a),null===e||Po?(t.flags|=1,zo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,iu(e,t,a))}function Lo(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||Gs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Xs(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Uo(e,t,o,r,a,i))}return o=e.child,0===(a&i)&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:dr)(a,r)&&e.ref===t.ref)?iu(e,t,i):(t.flags|=1,(e=qs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Uo(e,t,n,r,a,i){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Po=!1,0===(i&a))return t.lanes=e.lanes,iu(e,t,i);0!==(16384&e.flags)&&(Po=!0)}return Ho(e,t,n,r,i)}function Wo(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Os(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Os(t,e),null;t.memoizedState={baseLanes:0},Os(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Os(t,r);return zo(e,t,a,n),t.child}function Vo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,a){var i=ga(n)?va:ha.current;return i=ma(t,i),ii(t,a),n=oo(e,t,n,r,i,a),null===e||Po?(t.flags|=1,zo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,iu(e,t,a))}function Go(e,t,n,r,a){if(ga(n)){var i=!0;wa(t)}else i=!1;if(ii(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yi(t,n,r),wi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oi(c):c=ma(t,c=ga(n)?va:ha.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&xi(t,o,r,c),ui=!1;var d=t.memoizedState;o.state=d,hi(t,r,o,a),s=t.memoizedState,u!==r||d!==s||pa.current||ui?("function"===typeof l&&(mi(t,n,l,r),s=t.memoizedState),(u=ui||bi(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ci(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Za(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oi(s):s=ma(t,s=ga(n)?va:ha.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&xi(t,o,r,s),ui=!1,d=t.memoizedState,o.state=d,hi(t,r,o,a);var p=t.memoizedState;u!==f||d!==p||pa.current||ui?("function"===typeof h&&(mi(t,n,h,r),p=t.memoizedState),(c=ui||bi(t,n,c,r,d,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return qo(e,t,n,r,i,a)}function qo(e,t,n,r,a,i){Vo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return a&&Oa(t,n,!1),iu(e,t,i);r=t.stateNode,Ro.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Si(t,e.child,null,i),t.child=Si(t,null,u,i)):zo(e,t,u,i),t.memoizedState=r.state,a&&Oa(t,n,!0),t.child}function Xo(e){var t=e.stateNode;t.pendingContext?ya(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ya(0,t.context,!1),Ii(e,t.containerInfo)}var Yo,Ko,$o,Zo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,a=t.pendingProps,i=Pi.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),fa(Pi,1&i),null===e?(void 0!==a.fallback&&Hi(t),e=a.children,i=a.fallback,o?(e=Qo(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Zo,e):"number"===typeof a.unstable_expectedLoadTime?(e=Qo(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Zo,t.lanes=33554432,e):((n=Ks({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(a=tu(e,t,a.children,a.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Zo,a):(n=eu(e,t,a.children,n),t.memoizedState=null,n))}function Qo(e,t,n,r){var a=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=Ks(t,a,0,null),n=Ys(n,a,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function eu(e,t,n,r){var a=e.child;return e=a.sibling,n=qs(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,a){var i=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&i)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qs(o,u),null!==e?r=qs(e,r):(r=Ys(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ai(e.return,t)}function ru(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.lastEffect=i)}function au(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(zo(e,t,r.children,n),0!==(2&(r=Pi.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fa(Pi,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===zi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ru(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===zi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ru(t,!0,n,null,i,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function iu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=qs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ui)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ga(t.type)&&ba(),null;case 3:return Mi(),la(pa),la(ha),Ki(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ri(t);var i=Di(Ti.current);if(n=t.type,null!==e&&null!=t.stateNode)Ko(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Di(Ci.current),qi(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Qr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in je(n,u),e=null,u)u.hasOwnProperty(c)&&(i=u[c],"children"===c?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):s.hasOwnProperty(c)&&null!=i&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Lr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Qr]=r,Yo(e,t),t.stateNode=e,c=_e(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),i=r;break;case"iframe":case"object":case"embed":Nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Sr.length;i++)Nr(Sr[i],e);i=r;break;case"source":Nr("error",e),i=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),i=r;break;case"details":Nr("toggle",e),i=r;break;case"input":ee(e,r),i=Q(e,r),Nr("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=a({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),i=ue(e,r),Nr("invalid",e);break;default:i=r}je(n,i);var l=i;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?Oe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&be(e,f):"number"===typeof f&&be(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&x(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Lr)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Di(Ti.current),Di(Ci.current),qi(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return la(Pi),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qi(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Pi.current)?0===zu&&(zu=3):(0!==zu&&3!==zu||(zu=4),null===Iu||0===(134217727&Uu)&&0===(134217727&Wu)||bs(Iu,Fu))),(r||n)&&(t.flags|=4),null);case 4:return Mi(),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return ri(t),null;case 19:if(la(Pi),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==zu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=zi(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fa(Pi,1&Pi.current|2),t.child}e=e.sibling}null!==r.tail&&Va()>qu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=zi(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ui)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Va()-r.renderingStartTime>qu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Va(),n.sibling=null,t=Pi.current,fa(Pi,u?1&t|2:1&t),n):null;case 23:case 24:return ks(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:ga(e.type)&&ba();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Mi(),la(pa),la(ha),Ki(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ri(e),null;case 13:return la(Pi),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return la(Pi),null;case 4:return Mi(),null;case 10:return ri(e),null;case 23:case 24:return ks(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Yo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ko=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Di(Ci.current);var o,u=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),u=[];break;case"option":i=ie(e,i),r=ie(e,r),u=[];break;case"select":i=a({},i,{value:void 0}),r=a({},r,{value:void 0}),u=[];break;case"textarea":i=ue(e,i),r=ue(e,r),u=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Lr)}for(f in je(n,r),n=null,i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&null!=i[f])if("style"===f){var c=i[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=i?i[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===F?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function du(e,t,n){(n=li(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Zu=r),lu(0,t)},n}function hu(e,t,n){(n=li(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return lu(0,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ls(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Za(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Xr(t.stateNode.containerInfo))}throw Error(o(163))}function gu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Ps(n,e),Rs(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Za(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ot(n)))))}throw Error(o(163))}function bu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=we("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function yu(e,t){if(ja&&"function"===typeof ja.onCommitFiberUnmount)try{ja.onCommitFiberUnmount(ka,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))Ps(t,n);else{r=t;try{a()}catch(i){Ls(r,i)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Ls(t,i)}break;case 5:vu(t);break;case 4:_u(e,t)}}function xu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function Ou(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ku(e,n,t):ju(e,n,t)}function ku(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Lr));else if(4!==r&&null!==(e=e.child))for(ku(e,t,n),e=e.sibling;null!==e;)ku(e,t,n),e=e.sibling}function ju(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ju(e,t,n),e=e.sibling;null!==e;)ju(e,t,n),e=e.sibling}function _u(e,t){for(var n,r,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(o(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag){e:for(var u=e,s=a,c=s;;)if(yu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=a.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(yu(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,a),t=_e(e,r),a=0;a<i.length;a+=2){var u=i[a],s=i[a+1];"style"===u?Oe(n,s):"dangerouslySetInnerHTML"===u?ge(n,s):"children"===u?be(n,s):x(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?oe(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Ot(n.containerInfo)));case 13:return null!==t.memoizedState&&(Gu=Va(),bu(t.child,!0)),void Eu(t);case 19:return void Eu(t);case 23:case 24:return void bu(t,null!==t.memoizedState)}throw Error(o(163))}function Eu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Ws.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Au(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cu=Math.ceil,Nu=w.ReactCurrentDispatcher,Tu=w.ReactCurrentOwner,Du=0,Iu=null,Mu=null,Fu=0,Ru=0,Pu=ca(0),zu=0,Bu=null,Lu=0,Uu=0,Wu=0,Vu=0,Hu=null,Gu=0,qu=1/0;function Xu(){qu=Va()+500}var Yu,Ku=null,$u=!1,Zu=null,Ju=null,Qu=!1,es=null,ts=90,ns=[],rs=[],as=null,is=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function ds(){return 0!==(48&Du)?Va():-1!==us?us:us=Va()}function hs(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ha()?1:2;if(0===ss&&(ss=Lu),0!==$a.transition){0!==cs&&(cs=null!==Hu?Hu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ha(),0!==(4&Du)&&98===e?e=Lt(12,ss):e=Lt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<is)throw is=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;Vt(e,t,n),e===Iu&&(Wu|=t,4===zu&&bs(e,Fu));var r=Ha();1===t?0!==(8&Du)&&0===(48&Du)?ys(e):(ms(e,n),0===Du&&(Xu(),Ya())):(0===(4&Du)||98!==r&&99!==r||(null===as?as=new Set([e]):as.add(e)),ms(e,n)),Hu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Ht(u),c=1<<s,l=i[s];if(-1===l){if(0===(c&r)||0!==(c&a)){l=t,Pt(c);var f=Rt;i[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=zt(e,e===Iu?Fu:0),t=Rt,0===r)null!==n&&(n!==Pa&&Ea(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Pa&&Ea(n)}15===t?(n=ys.bind(null,e),null===Ba?(Ba=[n],La=Sa(Da,Ka)):Ba.push(n),n=Pa):14===t?n=Xa(99,ys.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Xa(n,gs.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gs(e){if(us=-1,cs=ss=0,0!==(48&Du))throw Error(o(327));var t=e.callbackNode;if(Fs()&&e.callbackNode!==t)return null;var n=zt(e,e===Iu?Fu:0);if(0===n)return null;var r=n,a=Du;Du|=16;var i=Ss();for(Iu===e&&Fu===r||(Xu(),js(e,r));;)try{Cs();break}catch(s){_s(e,s)}if(ni(),Nu.current=i,Du=a,null!==Mu?r=0:(Iu=null,Fu=0,r=zu),0!==(Lu&Wu))js(e,0);else if(0!==r){if(2===r&&(Du|=64,e.hydrate&&(e.hydrate=!1,Xr(e.containerInfo)),0!==(n=Bt(e))&&(r=Es(e,n))),1===r)throw t=Bu,js(e,0),bs(e,n),ms(e,Va()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ds(e);break;case 3:if(bs(e,n),(62914560&n)===n&&10<(r=Gu+500-Va())){if(0!==zt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ds(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Gr(Ds.bind(null,e),r);break}Ds(e);break;case 4:if(bs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var u=31-Ht(n);i=1<<u,(u=r[u])>a&&(a=u),n&=~i}if(n=a,10<(n=(120>(n=Va()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cu(n/1960))-n)){e.timeoutHandle=Gr(Ds.bind(null,e),n);break}Ds(e);break;default:throw Error(o(329))}}return ms(e,Va()),e.callbackNode===t?gs.bind(null,e):null}function bs(e,t){for(t&=~Vu,t&=~Wu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ys(e){if(0!==(48&Du))throw Error(o(327));if(Fs(),e===Iu&&0!==(e.expiredLanes&Fu)){var t=Fu,n=Es(e,t);0!==(Lu&Wu)&&(n=Es(e,t=zt(e,t)))}else n=Es(e,t=zt(e,0));if(0!==e.tag&&2===n&&(Du|=64,e.hydrate&&(e.hydrate=!1,Xr(e.containerInfo)),0!==(t=Bt(e))&&(n=Es(e,t))),1===n)throw n=Bu,js(e,0),bs(e,t),ms(e,Va()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ds(e),ms(e,Va()),null}function xs(e,t){var n=Du;Du|=1;try{return e(t)}finally{0===(Du=n)&&(Xu(),Ya())}}function ws(e,t){var n=Du;Du&=-2,Du|=8;try{return e(t)}finally{0===(Du=n)&&(Xu(),Ya())}}function Os(e,t){fa(Pu,Ru),Ru|=t,Lu|=t}function ks(){Ru=Pu.current,la(Pu)}function js(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Mu)for(n=Mu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ba();break;case 3:Mi(),la(pa),la(ha),Ki();break;case 5:Ri(r);break;case 4:Mi();break;case 13:case 19:la(Pi);break;case 10:ri(r);break;case 23:case 24:ks()}n=n.return}Iu=e,Mu=qs(e.current,null),Fu=Ru=Lu=t,zu=0,Bu=null,Vu=Wu=Uu=0}function _s(e,t){for(;;){var n=Mu;try{if(ni(),$i.current=Do,no){for(var r=Qi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}no=!1}if(Ji=0,to=eo=Qi=null,ro=!1,Tu.current=null,null===n||null===n.return){zu=1,Bu=t,Mu=null;break}e:{var i=e,o=n.return,u=n,s=t;if(t=Fu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Pi.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var b=li(-1,1);b.tag=2,fi(u,b)}u.lanes|=1;break e}s=void 0,u=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new fu,s=new Set,y.set(c,s)):void 0===(s=y.get(c))&&(s=new Set,y.set(c,s)),!s.has(u)){s.add(u);var x=Us.bind(null,i,c,u);c.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);s=Error((X(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==zu&&(zu=2),s=cu(s,u),d=o;do{switch(d.tag){case 3:i=s,d.flags|=4096,t&=-t,d.lanes|=t,di(d,du(0,i,t));break e;case 1:i=s;var w=d.type,O=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==O&&"function"===typeof O.componentDidCatch&&(null===Ju||!Ju.has(O)))){d.flags|=4096,t&=-t,d.lanes|=t,di(d,hu(d,i,t));break e}}d=d.return}while(null!==d)}Ts(n)}catch(k){t=k,Mu===n&&null!==n&&(Mu=n=n.return);continue}break}}function Ss(){var e=Nu.current;return Nu.current=Do,null===e?Do:e}function Es(e,t){var n=Du;Du|=16;var r=Ss();for(Iu===e&&Fu===t||js(e,t);;)try{As();break}catch(a){_s(e,a)}if(ni(),Du=n,Nu.current=r,null!==Mu)throw Error(o(261));return Iu=null,Fu=0,zu}function As(){for(;null!==Mu;)Ns(Mu)}function Cs(){for(;null!==Mu&&!Aa();)Ns(Mu)}function Ns(e){var t=Yu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?Ts(e):Mu=t,Tu.current=null}function Ts(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Ru)))return void(Mu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ru)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Mu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Mu=t);Mu=t=e}while(null!==t);0===zu&&(zu=5)}function Ds(e){var t=Ha();return qa(99,Is.bind(null,e,t)),null}function Is(e,t){do{Fs()}while(null!==es);if(0!==(48&Du))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,i=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<i;){var c=31-Ht(i),l=1<<c;a[c]=0,u[c]=-1,s[c]=-1,i&=~l}if(null!==as&&0===(24&r)&&as.has(e)&&as.delete(e),e===Iu&&(Mu=Iu=null,Fu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=Du,Du|=32,Tu.current=null,Ur=Kt,gr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,i=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,d=-1,h=-1,p=0,v=0,m=u,g=null;t:for(;;){for(var b;m!==s||0!==i&&3!==m.nodeType||(d=f+i),m!==c||0!==l&&3!==m.nodeType||(h=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(b=m.firstChild);)g=m,m=b;for(;;){if(m===u)break t;if(g===s&&++p===i&&(d=f),g===c&&++v===l&&(h=f),null!==(b=m.nextSibling))break;g=(m=g).parentNode}m=b}s=-1===d||-1===h?null:{start:d,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;Wr={focusedElem:u,selectionRange:s},Kt=!1,ls=null,fs=!1,Ku=r;do{try{Ms()}catch(S){if(null===Ku)throw Error(o(330));Ls(Ku,S),Ku=Ku.nextEffect}}while(null!==Ku);ls=null,Ku=r;do{try{for(u=e;null!==Ku;){var y=Ku.flags;if(16&y&&be(Ku.stateNode,""),128&y){var x=Ku.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&y){case 2:Ou(Ku),Ku.flags&=-3;break;case 6:Ou(Ku),Ku.flags&=-3,Su(Ku.alternate,Ku);break;case 1024:Ku.flags&=-1025;break;case 1028:Ku.flags&=-1025,Su(Ku.alternate,Ku);break;case 4:Su(Ku.alternate,Ku);break;case 8:_u(u,s=Ku);var O=s.alternate;xu(s),null!==O&&xu(O)}Ku=Ku.nextEffect}}catch(S){if(null===Ku)throw Error(o(330));Ls(Ku,S),Ku=Ku.nextEffect}}while(null!==Ku);if(w=Wr,x=mr(),y=w.focusedElem,u=w.selectionRange,x!==y&&y&&y.ownerDocument&&vr(y.ownerDocument.documentElement,y)){null!==u&&gr(y)&&(x=u.start,void 0===(w=u.end)&&(w=x),"selectionStart"in y?(y.selectionStart=x,y.selectionEnd=Math.min(w,y.value.length)):(w=(x=y.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),s=y.textContent.length,O=Math.min(u.start,s),u=void 0===u.end?O:Math.min(u.end,s),!w.extend&&O>u&&(s=u,u=O,O=s),s=pr(y,O),i=pr(y,u),s&&i&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==i.node||w.focusOffset!==i.offset)&&((x=x.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),O>u?(w.addRange(x),w.extend(i.node,i.offset)):(x.setEnd(i.node,i.offset),w.addRange(x))))),x=[];for(w=y;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<x.length;y++)(w=x[y]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Kt=!!Ur,Wr=Ur=null,e.current=n,Ku=r;do{try{for(y=e;null!==Ku;){var k=Ku.flags;if(36&k&&gu(y,Ku.alternate,Ku),128&k){x=void 0;var j=Ku.ref;if(null!==j){var _=Ku.stateNode;Ku.tag,x=_,"function"===typeof j?j(x):j.current=x}}Ku=Ku.nextEffect}}catch(S){if(null===Ku)throw Error(o(330));Ls(Ku,S),Ku=Ku.nextEffect}}while(null!==Ku);Ku=null,za(),Du=a}else e.current=n;if(Qu)Qu=!1,es=e,ts=t;else for(Ku=r;null!==Ku;)t=Ku.nextEffect,Ku.nextEffect=null,8&Ku.flags&&((k=Ku).sibling=null,k.stateNode=null),Ku=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?is++:(is=0,os=e):is=0,n=n.stateNode,ja&&"function"===typeof ja.onCommitFiberRoot)try{ja.onCommitFiberRoot(ka,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,Va()),$u)throw $u=!1,e=Zu,Zu=null,e;return 0!==(8&Du)||Ya(),null}function Ms(){for(;null!==Ku;){var e=Ku.alternate;fs||null===ls||(0!==(8&Ku.flags)?et(Ku,ls)&&(fs=!0):13===Ku.tag&&Au(e,Ku)&&et(Ku,ls)&&(fs=!0));var t=Ku.flags;0!==(256&t)&&mu(e,Ku),0===(512&t)||Qu||(Qu=!0,Xa(97,(function(){return Fs(),null}))),Ku=Ku.nextEffect}}function Fs(){if(90!==ts){var e=97<ts?97:ts;return ts=90,qa(e,zs)}return!1}function Rs(e,t){ns.push(t,e),Qu||(Qu=!0,Xa(97,(function(){return Fs(),null})))}function Ps(e,t){rs.push(t,e),Qu||(Qu=!0,Xa(97,(function(){return Fs(),null})))}function zs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Du))throw Error(o(331));var t=Du;Du|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var a=n[r],i=n[r+1],u=a.destroy;if(a.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===i)throw Error(o(330));Ls(i,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){a=n[r],i=n[r+1];try{var s=a.create;a.destroy=s()}catch(c){if(null===i)throw Error(o(330));Ls(i,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Du=t,Ya(),!0}function Bs(e,t,n){fi(e,t=du(0,t=cu(n,t),1)),t=ds(),null!==(e=vs(e,1))&&(Vt(e,1,t),ms(e,t))}function Ls(e,t){if(3===e.tag)Bs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var a=hu(n,e=cu(t,e),1);if(fi(n,a),a=ds(),null!==(n=vs(n,1)))Vt(n,1,a),ms(n,a);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function Us(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ds(),e.pingedLanes|=e.suspendedLanes&n,Iu===e&&(Fu&n)===n&&(4===zu||3===zu&&(62914560&Fu)===Fu&&500>Va()-Gu?js(e,0):Vu|=n),ms(e,t)}function Ws(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ha()?1:2:(0===ss&&(ss=Lu),0===(t=Ut(62914560&~ss))&&(t=4194304))),n=ds(),null!==(e=vs(e,t))&&(Vt(e,t,n),ms(e,n))}function Vs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(e,t,n,r){return new Vs(e,t,n,r)}function Gs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qs(e,t){var n=e.alternate;return null===n?((n=Hs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xs(e,t,n,r,a,i){var u=2;if(r=e,"function"===typeof e)Gs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case j:return Ys(n.children,a,i,t);case R:u=8,a|=16;break;case _:u=8,a|=1;break;case S:return(e=Hs(12,n,t,8|a)).elementType=S,e.type=S,e.lanes=i,e;case N:return(e=Hs(13,n,t,a)).type=N,e.elementType=N,e.lanes=i,e;case T:return(e=Hs(19,n,t,a)).elementType=T,e.lanes=i,e;case P:return Ks(n,a,i,t);case z:return(e=Hs(24,n,t,a)).elementType=z,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case A:u=9;break e;case C:u=11;break e;case D:u=14;break e;case I:u=16,r=null;break e;case M:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hs(u,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ys(e,t,n,r){return(e=Hs(7,e,r,t)).lanes=n,e}function Ks(e,t,n,r){return(e=Hs(23,e,r,t)).elementType=P,e.lanes=n,e}function $s(e,t,n){return(e=Hs(6,e,null,t)).lanes=n,e}function Zs(e,t,n){return(t=Hs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Wt(0),this.expirationTimes=Wt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.mutableSourceEagerHydrationData=null}function Qs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var a=t.current,i=ds(),u=hs(a);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(ga(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(ga(c)){n=xa(n,c,s);break e}}n=s}else n=da;return null===t.context?t.context=n:t.pendingContext=n,(t=li(i,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fi(a,t),ps(a,u,i),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ac(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Hs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,si(t),e[ea]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"===typeof a){var u=a;a=function(){var e=tc(o);u.call(e)}}ec(t,o,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ac(e,0,t?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"===typeof a){var s=a;a=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,a)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return Qs(e,t,null,n)}Yu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pa.current)Po=!0;else{if(0===(n&r)){switch(Po=!1,t.tag){case 3:Xo(t),Xi();break;case 5:Fi(t);break;case 1:ga(t.type)&&wa(t);break;case 4:Ii(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;fa(Ja,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fa(Pi,1&Pi.current),null!==(t=iu(e,t,n))?t.sibling:null);fa(Pi,1&Pi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return au(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),fa(Pi,Pi.current),r)break;return null;case 23:case 24:return t.lanes=0,Wo(e,t,n)}return iu(e,t,n)}Po=0!==(16384&e.flags)}else Po=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=ma(t,ha.current),ii(t,n),a=oo(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ga(r)){var i=!0;wa(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,si(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&mi(t,r,u,e),a.updater=gi,t.stateNode=a,a._reactInternals=t,wi(t,r,e,n),t=qo(null,t,r,!0,i,n)}else t.tag=0,zo(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return Gs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(a),e=Za(a,e),i){case 0:t=Ho(null,t,a,e,n);break e;case 1:t=Go(null,t,a,e,n);break e;case 11:t=Bo(null,t,a,e,n);break e;case 14:t=Lo(null,t,a,Za(a.type,e),r,n);break e}throw Error(o(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ho(e,t,r,a=t.elementType===r?a:Za(r,a),n);case 1:return r=t.type,a=t.pendingProps,Go(e,t,r,a=t.elementType===r?a:Za(r,a),n);case 3:if(Xo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,ci(e,t),hi(t,r,null,n),(r=t.memoizedState.element)===a)Xi(),t=iu(e,t,n);else{if((i=(a=t.stateNode).hydrate)&&(Li=Yr(t.stateNode.containerInfo.firstChild),Bi=t,i=Ui=!0),i){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(i=e[a])._workInProgressVersionPrimary=e[a+1],Yi.push(i);for(n=Ei(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else zo(e,t,r,n),Xi();t=t.child}return t;case 5:return Fi(t),null===e&&Hi(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,u=a.children,Hr(r,a)?u=null:null!==i&&Hr(r,i)&&(t.flags|=16),Vo(e,t),zo(e,t,u,n),t.child;case 6:return null===e&&Hi(t),null;case 13:return Jo(e,t,n);case 4:return Ii(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Si(t,null,r,n):zo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Bo(e,t,r,a=t.elementType===r?a:Za(r,a),n);case 7:return zo(e,t,t.pendingProps,n),t.child;case 8:case 12:return zo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,u=t.memoizedProps,i=a.value;var s=t.type._context;if(fa(Ja,s._currentValue),s._currentValue=i,null!==u)if(s=u.value,0===(i=lr(s,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,i):1073741823))){if(u.children===a.children&&!pa.current){t=iu(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===s.tag&&((l=li(-1,n&-n)).tag=2,fi(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ai(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}zo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,ii(t,n),r=r(a=oi(a,i.unstable_observedBits)),t.flags|=1,zo(e,t,r,n),t.child;case 14:return i=Za(a=t.type,t.pendingProps),Lo(e,t,a,i=Za(a.type,i),r,n);case 15:return Uo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Za(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ga(r)?(e=!0,wa(t)):e=!1,ii(t,n),yi(t,r,a),wi(t,r,a,n),qo(null,t,r,!0,e,n);case 19:return au(e,t,n);case 23:case 24:return Wo(e,t,n)}throw Error(o(156,t.tag))},ac.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ac.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ea]=null}))},tt=function(e){13===e.tag&&(ps(e,4,ds()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,ds()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=ds(),n=hs(e);ps(e,n,t),rc(e,n)}},at=function(e,t){return t()},Ee=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ia(r);if(!a)throw Error(o(90));Z(r),ne(r,a)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ie=xs,Me=function(e,t,n,r,a){var i=Du;Du|=4;try{return qa(98,e.bind(null,t,n,r,a))}finally{0===(Du=i)&&(Xu(),Ya())}},Fe=function(){0===(49&Du)&&(function(){if(null!==as){var e=as;as=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,Va())}))}Ya()}(),Fs())},Re=function(e,t){var n=Du;Du|=2;try{return e(t)}finally{0===(Du=n)&&(Xu(),Ya())}};var sc={Events:[ra,aa,ia,Te,De,Fs,{current:!1}]},cc={findFiberByHostInstance:na,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ka=fc.inject(lc),ja=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Du;if(0!==(48&n))return e(t);Du|=1;try{if(e)return qa(99,e.bind(null,t))}finally{Du=n,Ya()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ea]=null}))})),!0)},t.unstable_batchedUpdates=xs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(662)},function(e,t,n){"use strict";var r,a,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},a=function(e,t){f=setTimeout(e,t)},i=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,b=-1,y=5,x=0;t.unstable_shouldYield=function(){return t.unstable_now()>=x},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,O=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();x=e+y;try{g(!0,e)?O.postMessage(null):(m=!1,g=null)}catch(n){throw O.postMessage(null),n}}else m=!1},r=function(e){g=e,m||(m=!0,O.postMessage(null))},a=function(e,n){b=h((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<S(a,t)))break e;e[r]=t,e[n]=a,n=r}}function j(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,o=e[i],u=i+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[i]=n,r=i);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],A=[],C=1,N=null,T=3,D=!1,I=!1,M=!1;function F(e){for(var t=j(A);null!==t;){if(null===t.callback)_(A);else{if(!(t.startTime<=e))break;_(A),t.sortIndex=t.expirationTime,k(E,t)}t=j(A)}}function R(e){if(M=!1,F(e),!I)if(null!==j(E))I=!0,r(P);else{var t=j(A);null!==t&&a(R,t.startTime-e)}}function P(e,n){I=!1,M&&(M=!1,i()),D=!0;var r=T;try{for(F(n),N=j(E);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,T=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===j(E)&&_(E),F(n)}else _(E);N=j(E)}if(null!==N)var s=!0;else{var c=j(A);null!==c&&a(R,c.startTime-n),s=!1}return s}finally{N=null,T=r,D=!1}}var z=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||D||(I=!0,r(P))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return j(E)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},t.unstable_scheduleCallback=function(e,n,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:n,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,k(A,e),null===j(E)&&e===j(A)&&(M?i():M=!0,a(R,o-u))):(e.sortIndex=s,k(E,e),I||D||(I=!0,r(P))),e},t.unstable_wrapCallback=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}},function(e,t,n){"use strict";e.exports=n(664)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,x=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function O(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case f:case d:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case i:return t}}}function k(e){return O(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=a,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return k(e)||O(e)===f},t.isConcurrentMode=k,t.isContextConsumer=function(e){return O(e)===l},t.isContextProvider=function(e){return O(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return O(e)===h},t.isFragment=function(e){return O(e)===o},t.isLazy=function(e){return O(e)===g},t.isMemo=function(e){return O(e)===m},t.isPortal=function(e){return O(e)===i},t.isProfiler=function(e){return O(e)===s},t.isStrictMode=function(e){return O(e)===u},t.isSuspense=function(e){return O(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===x||e.$$typeof===w||e.$$typeof===b)},t.typeOf=O},function(e,t,n){"use strict";var r=60103,a=60106,i=60107,o=60108,u=60114,s=60109,c=60110,l=60112,f=60113,d=60120,h=60115,p=60116,v=60121,m=60122,g=60117,b=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;r=x("react.element"),a=x("react.portal"),i=x("react.fragment"),o=x("react.strict_mode"),u=x("react.profiler"),s=x("react.provider"),c=x("react.context"),l=x("react.forward_ref"),f=x("react.suspense"),d=x("react.suspense_list"),h=x("react.memo"),p=x("react.lazy"),v=x("react.block"),m=x("react.server.block"),g=x("react.fundamental"),b=x("react.debug_trace_mode"),y=x("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case u:case o:case f:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case h:case s:return e;default:return t}}case a:return t}}}var O=s,k=r,j=l,_=i,S=p,E=h,A=a,C=u,N=o,T=f;t.ContextConsumer=c,t.ContextProvider=O,t.Element=k,t.ForwardRef=j,t.Fragment=_,t.Lazy=S,t.Memo=E,t.Portal=A,t.Profiler=C,t.StrictMode=N,t.Suspense=T,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===l},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===p},t.isMemo=function(e){return w(e)===h},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===u||e===b||e===o||e===f||e===d||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===s||e.$$typeof===c||e.$$typeof===l||e.$$typeof===g||e.$$typeof===v||e[0]===m)},t.typeOf=w},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),o=new A(r||[]);return i._invoke=function(e,t,n){var r=f;return function(a,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function m(){}function g(){}function b(){}var y={};s(y,i,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(C([])));w&&w!==n&&r.call(w,i)&&(y=w);var O=b.prototype=m.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(a,i,o,u){var s=l(e[a],e,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return g.prototype=b,s(O,"constructor",b),s(b,"constructor",g),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},k(j.prototype),s(j.prototype,o,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new j(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(O),s(O,u,"Generator"),s(O,i,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return u.type="throw",u.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(a){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";for(var r=n(668),a=n(673),i=[],o=0;o<=8;o++)i.push(255<<o);e.exports=function(e){if(1!==e.bitDepth)throw new Error("Only bitDepth of 1 is supported");if(!e.height||!e.width)throw new Error("ImageData width and height are required");if(1!==e.components)throw new Error("Only 1 component is supported");if(1!==e.channels)throw new Error("Only 1 channel is supported");var t=new r;t.skip(14),function(e,t){e.writeUint32(124).writeInt32(t.width).writeInt32(t.height).writeUint16(1).writeUint16(t.bitDepth).writeUint32(a.BITMAPV5HEADER.Compression.BI_RGB).writeUint32(t.width*t.height*t.bitDepth).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,t.bitDepth)).writeUint32(Math.pow(2,t.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(a.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(a.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}(t,e),function(e,t){if(t.bitDepth>8)return;e.writeUint32(0).writeUint32(16777215)}(t,e);var n=t.offset;return function(e,t){var n,a,o=4*Math.floor((t.bitDepth*t.width+31)/32),u=Math.ceil(t.bitDepth*t.width/8),s=o-u,c=t.bitDepth*t.width%8,l=0===c?0:8-c,f=o*t.height,d=new r(t.data),h=0,p=0,v=8;e.mark(),a=d.readUint8();for(var m=t.height-1;m>=0;m--){var g=0===m;e.reset(),e.skip(m*o);for(var b=0;b<u;b++){var y=b===u-1;p<=l&&y?(e.writeByte(a<<p),0!==l&&l!==p||g||(n=a,a=d.readByte())):0===p?(n=a,a=d.readUint8(),e.writeByte(n)):(n=a,a=d.readUint8(),e.writeByte(n<<p&i[p]|a>>v)),y?(h+=c||8,e.skip(s),v=8-(p=h%8)):h+=8}}o>u&&(e.reset(),e.skip(f-1),e.writeUint8(0))}(t,e),t.rewind(),function(e,t){e.writeChars("BM"),e.writeInt32(e._lastWrittenByte),e.writeUint16(0),e.writeUint16(0),e.writeUint32(t)}(t,n),t.getBuffer()}},function(e,t,n){"use strict";(function(t){var r=n(73).default,a=n(74).default,i=n(672),o=[],u=function(){function e(t,n){r(this,e),n=n||{};var a=!1;void 0===t&&(t=8192),"number"===typeof t?t=new ArrayBuffer(t):(a=!0,this._lastWrittenByte=t.byteLength);var i=n.offset?n.offset>>>0:0,o=t.byteLength-i,u=i;t.buffer&&(t.byteLength!==t.buffer.byteLength&&(u=t.byteOffset+i),t=t.buffer),this._lastWrittenByte=a?o:0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}return a(e,[{key:"available",value:function(e){return void 0===e&&(e=1),this.offset+e<=this.length}},{key:"isLittleEndian",value:function(){return this.littleEndian}},{key:"setLittleEndian",value:function(){return this.littleEndian=!0,this}},{key:"isBigEndian",value:function(){return!this.littleEndian}},{key:"setBigEndian",value:function(){return this.littleEndian=!1,this}},{key:"skip",value:function(e){return void 0===e&&(e=1),this.offset+=e,this}},{key:"seek",value:function(e){return this.offset=e,this}},{key:"mark",value:function(){return this._mark=this.offset,this}},{key:"reset",value:function(){return this.offset=this._mark,this}},{key:"pushMark",value:function(){return this._marks.push(this.offset),this}},{key:"popMark",value:function(){var e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}},{key:"rewind",value:function(){return this.offset=0,this}},{key:"ensureAvailable",value:function(e){if(void 0===e&&(e=1),!this.available(e)){var t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=t,this._data=new DataView(this.buffer)}return this}},{key:"readBoolean",value:function(){return 0!==this.readUint8()}},{key:"readInt8",value:function(){return this._data.getInt8(this.offset++)}},{key:"readUint8",value:function(){return this._data.getUint8(this.offset++)}},{key:"readByte",value:function(){return this.readUint8()}},{key:"readBytes",value:function(e){void 0===e&&(e=1);for(var t=new Uint8Array(e),n=0;n<e;n++)t[n]=this.readByte();return t}},{key:"readInt16",value:function(){var e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}},{key:"readUint16",value:function(){var e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}},{key:"readInt32",value:function(){var e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"readUint32",value:function(){var e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"readFloat32",value:function(){var e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"readFloat64",value:function(){var e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}},{key:"readChar",value:function(){return String.fromCharCode(this.readInt8())}},{key:"readChars",value:function(e){void 0===e&&(e=1),o.length=e;for(var t=0;t<e;t++)o[t]=this.readChar();return o.join("")}},{key:"readUtf8",value:function(e){void 0===e&&(e=1);var t=this.readChars(e);return i.decode(t)}},{key:"writeBoolean",value:function(e){return this.writeUint8(e?255:0),this}},{key:"writeInt8",value:function(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}},{key:"writeUint8",value:function(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}},{key:"writeByte",value:function(e){return this.writeUint8(e)}},{key:"writeBytes",value:function(e){this.ensureAvailable(e.length);for(var t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}},{key:"writeInt16",value:function(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeUint16",value:function(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeInt32",value:function(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeUint32",value:function(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat32",value:function(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat64",value:function(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeChar",value:function(e){return this.writeUint8(e.charCodeAt(0))}},{key:"writeChars",value:function(e){for(var t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}},{key:"writeUtf8",value:function(e){var t=i.encode(e);return this.writeChars(t)}},{key:"toArray",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)}},{key:"getBuffer",value:function(){return"undefined"!==typeof t?t.from(this.toArray()):this.toArray()}},{key:"_updateLastWrittenByte",value:function(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)}}]),e}();e.exports=u}).call(this,n(175).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),o=r[0],u=r[1],s=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,u)),l=0,f=u>0?o-4:o;for(n=0;n<f;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===u&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,s[l++]=255&t);1===u&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,a=n%3,i=[],o=16383,u=0,s=n-a;u<s;u+=o)i.push(l(e,u,u+o>s?s:u+o));1===a?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===a&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],a=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=o.length;u<s;++u)r[u]=o[u],a[o.charCodeAt(u)]=u;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var a,i,o=[],u=t;u<n;u+=3)a=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),o.push(r[(i=a)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,a){var i,o,u=8*a-r-1,s=(1<<u)-1,c=s>>1,l=-7,f=n?a-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=u;l>0;i=256*i+e[t+f],f+=d,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=r;l>0;o=256*o+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===s)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),i-=c}return(h?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var o,u,s,c=8*i-a-1,l=(1<<c)-1,f=l>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-o))<1&&(o--,s*=2),(t+=o+f>=1?d/s:d*Math.pow(2,1-f))*s>=2&&(o++,s/=2),o+f>=l?(u=0,o=l):o+f>=1?(u=(t*s-1)*Math.pow(2,a),o+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;e[n+h]=255&u,h+=p,u/=256,a-=8);for(o=o<<a|u,c+=a;c>0;e[n+h]=255&o,h+=p,o/=256,c-=8);e[n+h-p]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e,r){var a;!function(i){var o=t,u=(e&&e.exports,"object"==typeof r&&r);u.global!==u&&u.window;var s,c,l,f=String.fromCharCode;function d(e){for(var t,n,r=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function h(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function p(e,t){return f(e>>t&63|128)}function v(e){if(0==(4294967168&e))return f(e);var t="";return 0==(4294965248&e)?t=f(e>>6&31|192):0==(4294901760&e)?(h(e),t=f(e>>12&15|224),t+=p(e,6)):0==(4292870144&e)&&(t=f(e>>18&7|240),t+=p(e,12),t+=p(e,6)),t+=f(63&e|128)}function m(){if(l>=c)throw Error("Invalid byte index");var e=255&s[l];if(l++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function g(){var e,t;if(l>c)throw Error("Invalid byte index");if(l==c)return!1;if(e=255&s[l],l++,0==(128&e))return e;if(192==(224&e)){if((t=(31&e)<<6|m())>=128)return t;throw Error("Invalid continuation byte")}if(224==(240&e)){if((t=(15&e)<<12|m()<<6|m())>=2048)return h(t),t;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=(7&e)<<18|m()<<12|m()<<6|m())>=65536&&t<=1114111)return t;throw Error("Invalid UTF-8 detected")}var b={version:"2.1.2",encode:function(e){for(var t=d(e),n=t.length,r=-1,a="";++r<n;)a+=v(t[r]);return a},decode:function(e){s=d(e),c=s.length,l=0;for(var t,n=[];!1!==(t=g());)n.push(t);return function(e){for(var t,n=e.length,r=-1,a="";++r<n;)(t=e[r])>65535&&(a+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),a+=f(t);return a}(n)}};void 0===(a=function(){return b}.call(t,n,t,e))||(e.exports=a)}()}).call(this,n(146)(e),n(116))},function(e,t,n){"use strict";e.exports={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}}},function(e,t,n){"use strict";!function(e){if(e.TextEncoder&&e.TextDecoder)return!1;function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8";if("utf-8"!==e)throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('".concat(e,"') is invalid."))}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fatal:!1};if("utf-8"!==e)throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('".concat(e,"') is invalid."));if(t.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1};if(t.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");for(var n=0,r=e.length,a=0,i=Math.max(32,r+(r>>1)+7),o=new Uint8Array(i>>3<<3);n<r;){var u=e.charCodeAt(n++);if(u>=55296&&u<=56319){if(n<r){var s=e.charCodeAt(n);56320===(64512&s)&&(++n,u=((1023&u)<<10)+(1023&s)+65536)}if(u>=55296&&u<=56319)continue}if(a+4>o.length){i+=8,i=(i*=1+n/e.length*2)>>3<<3;var c=new Uint8Array(i);c.set(o),o=c}if(0!==(4294967168&u)){if(0===(4294965248&u))o[a++]=u>>6&31|192;else if(0===(4294901760&u))o[a++]=u>>12&15|224,o[a++]=u>>6&63|128;else{if(0!==(4292870144&u))continue;o[a++]=u>>18&7|240,o[a++]=u>>12&63|128,o[a++]=u>>6&63|128}o[a++]=63&u|128}else o[a++]=u}return o.slice(0,a)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1}),n.prototype.decode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1};if(t.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");for(var n=new Uint8Array(e),r=0,a=n.length,i=[];r<a;){var o=n[r++];if(0===o)break;if(0===(128&o))i.push(o);else if(192===(224&o)){var u=63&n[r++];i.push((31&o)<<6|u)}else if(224===(240&o)){var s=63&n[r++],c=63&n[r++];i.push((31&o)<<12|s<<6|c)}else if(240===(248&o)){var l=63&n[r++],f=63&n[r++],d=63&n[r++],h=(7&o)<<18|l<<12|f<<6|d;h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h)}}return String.fromCharCode.apply(null,i)},e.TextEncoder=t,e.TextDecoder=n}("undefined"!==typeof window?window:"undefined"!==typeof self?self:this)},function(e,t,n){(function(t){function n(e){Math.round;var n,r,a,i,o,u=Math.floor,s=new Array(64),c=new Array(64),l=new Array(64),f=new Array(64),d=new Array(65535),h=new Array(65535),p=new Array(64),v=new Array(64),m=[],g=0,b=7,y=new Array(64),x=new Array(64),w=new Array(64),O=new Array(256),k=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],D=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(e,t){for(var n=0,r=0,a=new Array,i=1;i<=16;i++){for(var o=1;o<=e[i];o++)a[t[r]]=[],a[t[r]][0]=n,a[t[r]][1]=i,r++,n++;n*=2}return a}function M(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<b),n--,--b<0&&(255==g?(F(255),F(0)):F(g),b=7,g=0)}function F(e){m.push(e)}function R(e){F(e>>8&255),F(255&e)}function P(e,t,n,r,a){for(var i,o=a[0],u=a[240],s=function(e,t){var n,r,a,i,o,u,s,c,l,f,d=0;for(l=0;l<8;++l){n=e[d],r=e[d+1],a=e[d+2],i=e[d+3],o=e[d+4],u=e[d+5],s=e[d+6];var h=n+(c=e[d+7]),v=n-c,m=r+s,g=r-s,b=a+u,y=a-u,x=i+o,w=i-o,O=h+x,k=h-x,j=m+b,_=m-b;e[d]=O+j,e[d+4]=O-j;var S=.707106781*(_+k);e[d+2]=k+S,e[d+6]=k-S;var E=.382683433*((O=w+y)-(_=g+v)),A=.5411961*O+E,C=1.306562965*_+E,N=.707106781*(j=y+g),T=v+N,D=v-N;e[d+5]=D+A,e[d+3]=D-A,e[d+1]=T+C,e[d+7]=T-C,d+=8}for(d=0,l=0;l<8;++l){n=e[d],r=e[d+8],a=e[d+16],i=e[d+24],o=e[d+32],u=e[d+40],s=e[d+48];var I=n+(c=e[d+56]),M=n-c,F=r+s,R=r-s,P=a+u,z=a-u,B=i+o,L=i-o,U=I+B,W=I-B,V=F+P,H=F-P;e[d]=U+V,e[d+32]=U-V;var G=.707106781*(H+W);e[d+16]=W+G,e[d+48]=W-G;var q=.382683433*((U=L+z)-(H=R+M)),X=.5411961*U+q,Y=1.306562965*H+q,K=.707106781*(V=z+R),$=M+K,Z=M-K;e[d+40]=Z+X,e[d+24]=Z-X,e[d+8]=$+Y,e[d+56]=$-Y,d++}for(l=0;l<64;++l)f=e[l]*t[l],p[l]=f>0?f+.5|0:f-.5|0;return p}(e,t),c=0;c<64;++c)v[j[c]]=s[c];var l=v[0]-n;n=v[0],0==l?M(r[0]):(M(r[h[i=32767+l]]),M(d[i]));for(var f=63;f>0&&0==v[f];f--);if(0==f)return M(o),n;for(var m,g=1;g<=f;){for(var b=g;0==v[g]&&g<=f;++g);var y=g-b;if(y>=16){m=y>>4;for(var x=1;x<=m;++x)M(u);y&=15}i=32767+v[g],M(a[(y<<4)+h[i]]),M(d[i]),g++}return 63!=f&&M(o),n}function z(e){if(e<=0&&(e=1),e>100&&(e=100),o!=e){(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=u((t[n]*e+50)/100);r<1?r=1:r>255&&(r=255),s[j[n]]=r}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var o=u((a[i]*e+50)/100);o<1?o=1:o>255&&(o=255),c[j[i]]=o}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,p=0;p<8;p++)for(var v=0;v<8;v++)l[h]=1/(s[j[h]]*d[p]*d[v]*8),f[h]=1/(c[j[h]]*d[p]*d[v]*8),h++})(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e}}this.encode=function(e,o){(new Date).getTime();o&&z(o),m=new Array,g=0,b=7,R(65496),R(65504),R(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),R(1),R(1),F(0),F(0),function(e){if(e){R(65505),69===e[0]&&120===e[1]&&105===e[2]&&102===e[3]?R(e.length+2):(R(e.length+5+2),F(69),F(120),F(105),F(102),F(0));for(var t=0;t<e.length;t++)F(e[t])}}(e.exifBuffer),function(){R(65499),R(132),F(0);for(var e=0;e<64;e++)F(s[e]);F(1);for(var t=0;t<64;t++)F(c[t])}(),function(e,t){R(65472),R(17),F(8),R(t),R(e),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)}(e.width,e.height),function(){R(65476),R(418),F(0);for(var e=0;e<16;e++)F(_[e+1]);for(var t=0;t<=11;t++)F(S[t]);F(16);for(var n=0;n<16;n++)F(E[n+1]);for(var r=0;r<=161;r++)F(A[r]);F(1);for(var a=0;a<16;a++)F(C[a+1]);for(var i=0;i<=11;i++)F(N[i]);F(17);for(var o=0;o<16;o++)F(T[o+1]);for(var u=0;u<=161;u++)F(D[u])}(),R(65498),R(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var u=0,d=0,h=0;g=0,b=7,this.encode.displayName="_encode_";for(var p,v,O,j,I,B,L,U,W,V=e.data,H=e.width,G=e.height,q=4*H,X=0;X<G;){for(p=0;p<q;){for(B=I=q*X+p,L=-1,U=0,W=0;W<64;W++)B=I+(U=W>>3)*q+(L=4*(7&W)),X+U>=G&&(B-=q*(X+1+U-G)),p+L>=q&&(B-=p+L-q+4),v=V[B++],O=V[B++],j=V[B++],y[W]=(k[v]+k[O+256>>0]+k[j+512>>0]>>16)-128,x[W]=(k[v+768>>0]+k[O+1024>>0]+k[j+1280>>0]>>16)-128,w[W]=(k[v+1280>>0]+k[O+1536>>0]+k[j+1792>>0]>>16)-128;u=P(y,l,u,n,a),d=P(x,f,d,r,i),h=P(w,f,h,r,i),p+=32}X+=8}if(b>=0){var Y=[];Y[1]=b+1,Y[0]=(1<<b+1)-1,M(Y)}return R(65497),t.from(m)},function(){(new Date).getTime();e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)O[t]=e(t)}(),n=I(_,S),r=I(C,N),a=I(E,A),i=I(T,D),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=r;for(var a=-(t-1);a<=-e;a++)h[32767+a]=n,d[32767+a]=[],d[32767+a][1]=n,d[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)k[e]=19595*e,k[e+256>>0]=38470*e,k[e+512>>0]=7471*e+32768,k[e+768>>0]=-11059*e,k[e+1024>>0]=-21709*e,k[e+1280>>0]=32768*e+8421375,k[e+1536>>0]=-27439*e,k[e+1792>>0]=-5329*e}(),z(e),(new Date).getTime()}()}e.exports=function(e,t){"undefined"===typeof t&&(t=50);return{data:new n(t).encode(e,t),width:e.width,height:e.height}}}).call(this,n(175).Buffer)},function(e,t,n){(function(t){var r=n(677).default,a=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,n=799,r=3406,a=2276,i=1567,o=3784,u=5793,s=2896;function c(){}function l(e,t){for(var n,r,a=0,i=[],o=16;o>0&&!e[o-1];)o--;i.push({children:[],index:0});var u,s=i[0];for(n=0;n<o;n++){for(r=0;r<e[n];r++){for((s=i.pop()).children[s.index]=t[a];s.index>0;){if(0===i.length)throw new Error("Could not recreate Huffman Table");s=i.pop()}for(s.index++,i.push(s);i.length<=n;)i.push(u={children:[],index:0}),s.children[s.index]=u.children,s=u;a++}n+1<o&&(i.push(u={children:[],index:0}),s.children[s.index]=u.children,s=u)}return i[0].children}function f(t,n,r,a,i,o,u,s,c,l){r.precision,r.samplesPerLine,r.scanLines;var f=r.mcusPerLine,d=r.progressive,h=(r.maxH,r.maxV,n),p=0,v=0;function m(){if(v>0)return v--,p>>v&1;if(255==(p=t[n++])){var e=t[n++];if(e)throw new Error("unexpected marker: "+(p<<8|e).toString(16))}return v=7,p>>>7}function g(e){for(var t,n=e;null!==(t=m());){if("number"===typeof(n=n[t]))return n;if("object"!==typeof n)throw new Error("invalid huffman sequence")}return null}function b(e){for(var t=0;e>0;){var n=m();if(null===n)return;t=t<<1|n,e--}return t}function y(e){var t=b(e);return t>=1<<e-1?t:t+(-1<<e)+1}var x=0;var w,O=0;function k(e,t,n,r,a){var i=n%f,o=(n/f|0)*e.v+r,u=i*e.h+a;void 0===e.blocks[o]&&l.tolerantDecoding||t(e,e.blocks[o][u])}function j(e,t,n){var r=n/e.blocksPerLine|0,a=n%e.blocksPerLine;void 0===e.blocks[r]&&l.tolerantDecoding||t(e,e.blocks[r][a])}var _,S,E,A,C,N,T=a.length;N=d?0===o?0===s?function(e,t){var n=g(e.huffmanTableDC),r=0===n?0:y(n)<<c;t[0]=e.pred+=r}:function(e,t){t[0]|=m()<<c}:0===s?function(t,n){if(x>0)x--;else for(var r=o,a=u;r<=a;){var i=g(t.huffmanTableAC),s=15&i,l=i>>4;if(0!==s)n[e[r+=l]]=y(s)*(1<<c),r++;else{if(l<15){x=b(l)+(1<<l)-1;break}r+=16}}}:function(t,n){for(var r=o,a=u,i=0;r<=a;){var s=e[r],l=n[s]<0?-1:1;switch(O){case 0:var f=g(t.huffmanTableAC),d=15&f;if(i=f>>4,0===d)i<15?(x=b(i)+(1<<i),O=4):(i=16,O=1);else{if(1!==d)throw new Error("invalid ACn encoding");w=y(d),O=i?2:3}continue;case 1:case 2:n[s]?n[s]+=(m()<<c)*l:0===--i&&(O=2==O?3:0);break;case 3:n[s]?n[s]+=(m()<<c)*l:(n[s]=w<<c,O=0);break;case 4:n[s]&&(n[s]+=(m()<<c)*l)}r++}4===O&&0===--x&&(O=0)}:function(t,n){var r=g(t.huffmanTableDC),a=0===r?0:y(r);n[0]=t.pred+=a;for(var i=1;i<64;){var o=g(t.huffmanTableAC),u=15&o,s=o>>4;if(0!==u)n[e[i+=s]]=y(u),i++;else{if(s<15)break;i+=16}}};var D,I,M,F,R=0;for(I=1==T?a[0].blocksPerLine*a[0].blocksPerColumn:f*r.mcusPerColumn,i||(i=I);R<I;){for(S=0;S<T;S++)a[S].pred=0;if(x=0,1==T)for(_=a[0],C=0;C<i;C++)j(_,N,R),R++;else for(C=0;C<i;C++){for(S=0;S<T;S++)for(M=(_=a[S]).h,F=_.v,E=0;E<F;E++)for(A=0;A<M;A++)k(_,N,R,E,A);if(++R===I)break}if(R===I)do{if(255===t[n]&&0!==t[n+1])break;n+=1}while(n<t.length-2);if(v=0,(D=t[n]<<8|t[n+1])<65280)throw new Error("marker was not found");if(!(D>=65488&&D<=65495))break;n+=2}return n-h}function d(e,c){var l,f,d=[],h=c.blocksPerLine,p=c.blocksPerColumn,v=h<<3,g=new Int32Array(64),b=new Uint8Array(64);function y(e,l,f){var d,h,p,v,m,g,b,y,x,w,O=c.quantizationTable,k=f;for(w=0;w<64;w++)k[w]=e[w]*O[w];for(w=0;w<8;++w){var j=8*w;0!=k[1+j]||0!=k[2+j]||0!=k[3+j]||0!=k[4+j]||0!=k[5+j]||0!=k[6+j]||0!=k[7+j]?(d=u*k[0+j]+128>>8,h=u*k[4+j]+128>>8,p=k[2+j],v=k[6+j],m=s*(k[1+j]-k[7+j])+128>>8,y=s*(k[1+j]+k[7+j])+128>>8,g=k[3+j]<<4,b=k[5+j]<<4,x=d-h+1>>1,d=d+h+1>>1,h=x,x=p*o+v*i+128>>8,p=p*i-v*o+128>>8,v=x,x=m-b+1>>1,m=m+b+1>>1,b=x,x=y+g+1>>1,g=y-g+1>>1,y=x,x=d-v+1>>1,d=d+v+1>>1,v=x,x=h-p+1>>1,h=h+p+1>>1,p=x,x=m*a+y*r+2048>>12,m=m*r-y*a+2048>>12,y=x,x=g*n+b*t+2048>>12,g=g*t-b*n+2048>>12,b=x,k[0+j]=d+y,k[7+j]=d-y,k[1+j]=h+b,k[6+j]=h-b,k[2+j]=p+g,k[5+j]=p-g,k[3+j]=v+m,k[4+j]=v-m):(x=u*k[0+j]+512>>10,k[0+j]=x,k[1+j]=x,k[2+j]=x,k[3+j]=x,k[4+j]=x,k[5+j]=x,k[6+j]=x,k[7+j]=x)}for(w=0;w<8;++w){var _=w;0!=k[8+_]||0!=k[16+_]||0!=k[24+_]||0!=k[32+_]||0!=k[40+_]||0!=k[48+_]||0!=k[56+_]?(d=u*k[0+_]+2048>>12,h=u*k[32+_]+2048>>12,p=k[16+_],v=k[48+_],m=s*(k[8+_]-k[56+_])+2048>>12,y=s*(k[8+_]+k[56+_])+2048>>12,g=k[24+_],b=k[40+_],x=d-h+1>>1,d=d+h+1>>1,h=x,x=p*o+v*i+2048>>12,p=p*i-v*o+2048>>12,v=x,x=m-b+1>>1,m=m+b+1>>1,b=x,x=y+g+1>>1,g=y-g+1>>1,y=x,x=d-v+1>>1,d=d+v+1>>1,v=x,x=h-p+1>>1,h=h+p+1>>1,p=x,x=m*a+y*r+2048>>12,m=m*r-y*a+2048>>12,y=x,x=g*n+b*t+2048>>12,g=g*t-b*n+2048>>12,b=x,k[0+_]=d+y,k[56+_]=d-y,k[8+_]=h+b,k[48+_]=h-b,k[16+_]=p+g,k[40+_]=p-g,k[24+_]=v+m,k[32+_]=v-m):(x=u*f[w+0]+8192>>14,k[0+_]=x,k[8+_]=x,k[16+_]=x,k[24+_]=x,k[32+_]=x,k[40+_]=x,k[48+_]=x,k[56+_]=x)}for(w=0;w<64;++w){var S=128+(k[w]+8>>4);l[w]=S<0?0:S>255?255:S}}m(v*p*8);for(var x=0;x<p;x++){var w=x<<3;for(l=0;l<8;l++)d.push(new Uint8Array(v));for(var O=0;O<h;O++){y(c.blocks[x][O],b,g);var k=0,j=O<<3;for(f=0;f<8;f++){var _=d[w+f];for(l=0;l<8;l++)_[j+l]=b[k++]}}}return d}function h(e){return e<0?0:e>255?255:e}c.prototype={load:function(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){var e=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),t.send(null)},parse:function(t){var n=1e3*this.opts.maxResolutionInMP*1e3,r=0;t.length;function a(){var e=t[r]<<8|t[r+1];return r+=2,e}function i(){var e=a(),n=t.subarray(r,r+e-2);return r+=n.length,n}function o(e){var t,n,r=0,a=0;for(n in e.components)e.components.hasOwnProperty(n)&&(r<(t=e.components[n]).h&&(r=t.h),a<t.v&&(a=t.v));var i=Math.ceil(e.samplesPerLine/8/r),o=Math.ceil(e.scanLines/8/a);for(n in e.components)if(e.components.hasOwnProperty(n)){t=e.components[n];var u=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/r),s=Math.ceil(Math.ceil(e.scanLines/8)*t.v/a),c=i*t.h,l=o*t.v,f=[];m(256*(l*c));for(var d=0;d<l;d++){for(var h=[],p=0;p<c;p++)h.push(new Int32Array(64));f.push(h)}t.blocksPerLine=u,t.blocksPerColumn=s,t.blocks=f}e.maxH=r,e.maxV=a,e.mcusPerLine=i,e.mcusPerColumn=o}var u,s,c=null,h=null,p=[],v=[],g=[],b=[],y=a(),x=-1;if(this.comments=[],65496!=y)throw new Error("SOI not found");for(y=a();65497!=y;){switch(y){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var w=i();if(65534===y){var O=String.fromCharCode.apply(null,w);this.comments.push(O)}65504===y&&74===w[0]&&70===w[1]&&73===w[2]&&70===w[3]&&0===w[4]&&(c={version:{major:w[5],minor:w[6]},densityUnits:w[7],xDensity:w[8]<<8|w[9],yDensity:w[10]<<8|w[11],thumbWidth:w[12],thumbHeight:w[13],thumbData:w.subarray(14,14+3*w[12]*w[13])}),65505===y&&69===w[0]&&120===w[1]&&105===w[2]&&102===w[3]&&0===w[4]&&(this.exifBuffer=w.subarray(5,w.length)),65518===y&&65===w[0]&&100===w[1]&&111===w[2]&&98===w[3]&&101===w[4]&&0===w[5]&&(h={version:w[6],flags0:w[7]<<8|w[8],flags1:w[9]<<8|w[10],transformCode:w[11]});break;case 65499:for(var k=a()+r-2;r<k;){var j=t[r++];m(256);var _=new Int32Array(64);if(j>>4===0)for(Y=0;Y<64;Y++){_[e[Y]]=t[r++]}else{if(j>>4!==1)throw new Error("DQT: invalid table spec");for(Y=0;Y<64;Y++){_[e[Y]]=a()}}p[15&j]=_}break;case 65472:case 65473:case 65474:a(),(u={}).extended=65473===y,u.progressive=65474===y,u.precision=t[r++],u.scanLines=a(),u.samplesPerLine=a(),u.components={},u.componentsOrder=[];var S=u.scanLines*u.samplesPerLine;if(S>n){var E=Math.ceil((S-n)/1e6);throw new Error("maxResolutionInMP limit exceeded by ".concat(E,"MP"))}var A,C=t[r++];for(q=0;q<C;q++){A=t[r];var N=t[r+1]>>4,T=15&t[r+1],D=t[r+2];u.componentsOrder.push(A),u.components[A]={h:N,v:T,quantizationIdx:D},r+=3}o(u),v.push(u);break;case 65476:var I=a();for(q=2;q<I;){var M=t[r++],F=new Uint8Array(16),R=0;for(Y=0;Y<16;Y++,r++)R+=F[Y]=t[r];m(16+R);var P=new Uint8Array(R);for(Y=0;Y<R;Y++,r++)P[Y]=t[r];q+=17+R,(M>>4===0?b:g)[15&M]=l(F,P)}break;case 65501:a(),s=a();break;case 65500:a(),a();break;case 65498:a();var z=t[r++],B=[];for(q=0;q<z;q++){K=u.components[t[r++]];var L=t[r++];K.huffmanTableDC=b[L>>4],K.huffmanTableAC=g[15&L],B.push(K)}var U=t[r++],W=t[r++],V=t[r++],H=f(t,r,u,B,s,U,W,V>>4,15&V,this.opts);r+=H;break;case 65535:255!==t[r]&&r--;break;default:if(255==t[r-3]&&t[r-2]>=192&&t[r-2]<=254){r-=3;break}if(224===y||225==y){if(-1!==x)throw new Error("first unknown JPEG marker at offset ".concat(x.toString(16),", second unknown JPEG marker ").concat(y.toString(16)," at offset ").concat((r-1).toString(16)));x=r-1;var G=a();if(255===t[r+G-2]){r+=G-2;break}}throw new Error("unknown JPEG marker "+y.toString(16))}y=a()}if(1!=v.length)throw new Error("only single frame JPEGs supported");for(var q=0;q<v.length;q++){var X=v[q].components;for(var Y in X)X[Y].quantizationTable=p[X[Y].quantizationIdx],delete X[Y].quantizationIdx}this.width=u.samplesPerLine,this.height=u.scanLines,this.jfif=c,this.adobe=h,this.components=[];for(q=0;q<u.componentsOrder.length;q++){var K=u.components[u.componentsOrder[q]];this.components.push({lines:d(0,K),scaleX:K.h/u.maxH,scaleY:K.v/u.maxV})}},getData:function(e,t){var n,r,a,i,o,u,s,c,l,f,d,p,v,g,b,y,x,w,O,k,j,_=this.width/e,S=this.height/t,E=0,A=e*t*this.components.length;m(A);var C=new Uint8Array(A);switch(this.components.length){case 1:for(n=this.components[0],f=0;f<t;f++)for(o=n.lines[0|f*n.scaleY*S],l=0;l<e;l++)d=o[0|l*n.scaleX*_],C[E++]=d;break;case 2:for(n=this.components[0],r=this.components[1],f=0;f<t;f++)for(o=n.lines[0|f*n.scaleY*S],u=r.lines[0|f*r.scaleY*S],l=0;l<e;l++)d=o[0|l*n.scaleX*_],C[E++]=d,d=u[0|l*r.scaleX*_],C[E++]=d;break;case 3:for(j=!0,this.adobe&&this.adobe.transformCode?j=!0:"undefined"!==typeof this.opts.colorTransform&&(j=!!this.opts.colorTransform),n=this.components[0],r=this.components[1],a=this.components[2],f=0;f<t;f++)for(o=n.lines[0|f*n.scaleY*S],u=r.lines[0|f*r.scaleY*S],s=a.lines[0|f*a.scaleY*S],l=0;l<e;l++)j?(d=o[0|l*n.scaleX*_],p=u[0|l*r.scaleX*_],w=h(d+1.402*((v=s[0|l*a.scaleX*_])-128)),O=h(d-.3441363*(p-128)-.71413636*(v-128)),k=h(d+1.772*(p-128))):(w=o[0|l*n.scaleX*_],O=u[0|l*r.scaleX*_],k=s[0|l*a.scaleX*_]),C[E++]=w,C[E++]=O,C[E++]=k;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(j=!1,this.adobe&&this.adobe.transformCode?j=!0:"undefined"!==typeof this.opts.colorTransform&&(j=!!this.opts.colorTransform),n=this.components[0],r=this.components[1],a=this.components[2],i=this.components[3],f=0;f<t;f++)for(o=n.lines[0|f*n.scaleY*S],u=r.lines[0|f*r.scaleY*S],s=a.lines[0|f*a.scaleY*S],c=i.lines[0|f*i.scaleY*S],l=0;l<e;l++)j?(d=o[0|l*n.scaleX*_],p=u[0|l*r.scaleX*_],v=s[0|l*a.scaleX*_],g=c[0|l*i.scaleX*_],b=255-h(d+1.402*(v-128)),y=255-h(d-.3441363*(p-128)-.71413636*(v-128)),x=255-h(d+1.772*(p-128))):(b=o[0|l*n.scaleX*_],y=u[0|l*r.scaleX*_],x=s[0|l*a.scaleX*_],g=c[0|l*i.scaleX*_]),C[E++]=255-b,C[E++]=255-y,C[E++]=255-x,C[E++]=255-g;break;default:throw new Error("Unsupported color mode")}return C},copyToImageData:function(e,t){var n,r,a,i,o,u,s,c,l,f=e.width,d=e.height,p=e.data,v=this.getData(f,d),m=0,g=0;switch(this.components.length){case 1:for(r=0;r<d;r++)for(n=0;n<f;n++)a=v[m++],p[g++]=a,p[g++]=a,p[g++]=a,t&&(p[g++]=255);break;case 3:for(r=0;r<d;r++)for(n=0;n<f;n++)s=v[m++],c=v[m++],l=v[m++],p[g++]=s,p[g++]=c,p[g++]=l,t&&(p[g++]=255);break;case 4:for(r=0;r<d;r++)for(n=0;n<f;n++)o=v[m++],u=v[m++],a=v[m++],s=255-h(o*(1-(i=v[m++])/255)+i),c=255-h(u*(1-i/255)+i),l=255-h(a*(1-i/255)+i),p[g++]=s,p[g++]=c,p[g++]=l,t&&(p[g++]=255);break;default:throw new Error("Unsupported color mode")}}};var p=0,v=0;function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=p+e;if(t>v){var n=Math.ceil((t-v)/1024/1024);throw new Error("maxMemoryUsageInMB limit exceeded by at least ".concat(n,"MB"))}p=t}return c.resetMaxMemoryUsage=function(e){p=0,v=e},c.getBytesAllocated=function(){return p},c.requestMemoryAllocation=m,c}();e.exports=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},o=r(r({},i),n),u=new Uint8Array(e),s=new a;s.opts=o,a.resetMaxMemoryUsage(1024*o.maxMemoryUsageInMB*1024),s.parse(u);var c=o.formatAsRGBA?4:3,l=s.width*s.height*c;try{a.requestMemoryAllocation(l);var f={width:s.width,height:s.height,exifBuffer:s.exifBuffer,data:o.useTArray?new Uint8Array(l):t.alloc(l)};s.comments.length>0&&(f.comments=s.comments)}catch(d){throw d instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+l):d}return s.copyToImageData(f,o.formatAsRGBA),f}}).call(this,n(175).Buffer)},function(e,t,n){var r=n(308);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e){e.exports=JSON.parse('{"name":"has-own","version":"1.0.1","description":"A safer .hasOwnProperty() - hasOwn(name, obj)","main":"index.js","scripts":{"test":"make test"},"author":"Aaron Heckmann <aaron.heckmann+github@gmail.com>","license":"MIT","repository":{"type":"git","url":"git://github.com/aheckmann/has-own.git"},"homepage":"https://github.com/aheckmann/has-own/","devDependencies":{"mocha":"^6.2.2"}}')},function(e,t,n){"use strict";var r=n(483),a=n(680);e.exports=function(e){var t=new r(e),n={};if(t.setBigEndian(),65496!==t.readUint16())throw new Error("SOI marker not found. Not a valid JPEG file");if(65505===t.readUint16()){t.readUint16();var i=t.readBytes(6);if(69===i[0]&&120===i[1]&&105===i[2]&&102===i[3]&&0===i[4]&&0===i[5]){var o=a.decode(t,{onlyFirst:!0,ignoreImageData:!0,offset:t.offset});n.exif=o}}return n}},function(e,t,n){"use strict";t.decode=n(681)},function(e,t,n){"use strict";var r=n(682);e.exports=function(e,t){return new r(e,t).decode(t)}},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=n(230).default,o=n(279).default,u=n(483),s=n(486),c=n(688),l=n(689),f={ignoreImageData:!1,onlyFirst:!1},d=function(e){i(n,e);var t=o(n);function n(e,a){var i;return r(this,n),(i=t.call(this,e,a))._nextIFD=0,i}return a(n,[{key:"decode",value:function(e){e=Object.assign({},f,e);var t=[];for(this.decodeHeader();this._nextIFD;)if(t.push(this.decodeIFD(e)),e.onlyFirst)return t[0];return t}},{key:"decodeHeader",value:function(){var e=this.readUint16();if(18761===e)this.setLittleEndian();else{if(19789!==e)throw new Error("invalid byte order: 0x"+e.toString(16));this.setBigEndian()}if(42!==(e=this.readUint16()))throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}},{key:"decodeIFD",value:function(e){var t;this.seek(this._nextIFD),t=e.kind?new s(e.kind):new c;for(var n=this.readUint16(),r=0;r<n;r++)this.decodeIFDEntry(t);return e.ignoreImageData||this.decodeImageData(t),this._nextIFD=this.readUint32(),t}},{key:"decodeIFDEntry",value:function(e){var t=this.offset,n=this.readUint16(),r=this.readUint16(),a=this.readUint32();if(r<1||r>12)this.skip(4);else{l.getByteLength(r,a)>4&&this.seek(this.readUint32());var i=l.readData(this,r,a);if(e.fields.set(n,i),34665===n||34853===n){var o,u=this.offset;34665===n?o="exif":34853===n&&(o="gps"),this._nextIFD=i,e[o]=this.decodeIFD({kind:o,ignoreImageData:!0}),this.offset=u}this.seek(t),this.skip(12)}}},{key:"decodeImageData",value:function(e){var t=e.orientation;switch(t&&1!==t&&m("orientation",t),e.type){case 1:case 2:this.readStripData(e);break;default:m("image type",e.type)}}},{key:"readStripData",value:function(e){for(var t=e.width,n=e.height,r=function(e){if(e.length){var t=e;e=t[0];for(var n=0;n<t.length;n++)t[n]!==e&&m("bit depth",t)}return e}(e.bitsPerSample),a=e.sampleFormat,i=t*n,o=function(e,t,n,r){return 8===n?new Uint8Array(e*t):16===n?new Uint16Array(e*t):32===n&&3===r?new Float32Array(e*t):m("bit depth / sample format",n+" / "+r)}(i,1,r,a),u=e.compression,s=e.rowsPerStrip*t,c=e.stripOffsets,l=e.stripByteCounts,f=0,d=0;d<c.length;d++){var g=this.getStripData(u,c[d],l[d]),b=i>s?s:i;i-=b,8===r?f=h(o,g,f,b):16===r?f=p(o,g,f,b,this.isLittleEndian()):32===r&&3===a?f=v(o,g,f,b,this.isLittleEndian()):m("bitDepth",r)}e.data=o}},{key:"getStripData",value:function(e,t,n){switch(e){case 1:return new DataView(this.buffer,t,n);case 2:case 32773:return m("Compression",e);default:throw new Error("invalid compression: "+e)}}}]),n}(u);function h(e,t,n,r){for(var a=0;a<r;a++)e[n++]=t.getUint8(a);return n}function p(e,t,n,r,a){for(var i=0;i<2*r;i+=2)e[n++]=t.getUint16(i,a);return n}function v(e,t,n,r,a){for(var i=0;i<4*r;i+=4)e[n++]=t.getFloat32(i,a);return n}function m(e,t){throw new Error("Unsupported "+e+": "+t)}e.exports=d},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},a={};for(var i in r)a[r[i]]=i;e.exports={tagsById:r,tagsByName:a}},function(e,t,n){"use strict";var r={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},a={};for(var i in r)a[r[i]]=i;e.exports={tagsById:r,tagsByName:a}},function(e,t,n){"use strict";var r={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},a={};for(var i in r)a[r[i]]=i;e.exports={tagsById:r,tagsByName:a}},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=n(230).default,o=n(279).default,u=n(486),s=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/,c=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.call(this,"standard")}return a(n,[{key:"size",get:function(){return this.width*this.height}},{key:"width",get:function(){return this.imageWidth}},{key:"height",get:function(){return this.imageLength}},{key:"components",get:function(){return this.samplesPerPixel}},{key:"date",get:function(){var e=new Date,t=s.exec(this.dateTime);return e.setFullYear(t[1],t[2]-1,t[3]),e.setHours(t[4],t[5],t[6]),e}},{key:"newSubfileType",get:function(){return this.get(254)}},{key:"imageWidth",get:function(){return this.get(256)}},{key:"imageLength",get:function(){return this.get(257)}},{key:"bitsPerSample",get:function(){return this.get(258)}},{key:"compression",get:function(){return this.get(259)||1}},{key:"type",get:function(){return this.get(262)}},{key:"fillOrder",get:function(){return this.get(266)||1}},{key:"documentName",get:function(){return this.get(269)}},{key:"imageDescription",get:function(){return this.get(270)}},{key:"stripOffsets",get:function(){return l(this.get(273))}},{key:"orientation",get:function(){return this.get(274)}},{key:"samplesPerPixel",get:function(){return this.get(277)}},{key:"rowsPerStrip",get:function(){return this.get(278)}},{key:"stripByteCounts",get:function(){return l(this.get(279))}},{key:"minSampleValue",get:function(){return this.get(280)||0}},{key:"maxSampleValue",get:function(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}},{key:"xResolution",get:function(){return this.get(282)}},{key:"yResolution",get:function(){return this.get(283)}},{key:"planarConfiguration",get:function(){return this.get(284)||1}},{key:"resolutionUnit",get:function(){return this.get(296)||2}},{key:"dateTime",get:function(){return this.get(306)}},{key:"predictor",get:function(){return this.get(317)||1}},{key:"sampleFormat",get:function(){return this.get(339)||1}},{key:"sMinSampleValue",get:function(){return this.get(340)||this.minSampleValue}},{key:"sMaxSampleValue",get:function(){return this.get(341)||this.maxSampleValue}}]),n}(u);function l(e){return"number"===typeof e?[e]:e}e.exports=c},function(e,t,n){"use strict";var r=new Map([[1,[1,a]],[2,[1,function(e,t){for(var n=[],r="",a=0;a<t;a++){var i=String.fromCharCode(e.readUint8());"\0"===i?(n.push(r),r=""):r+=i}return 1===n.length?n[0]:n}]],[3,[2,function(e,t){if(1===t)return e.readUint16();for(var n=new Uint16Array(t),r=0;r<t;r++)n[r]=e.readUint16();return n}]],[4,[4,function(e,t){if(1===t)return e.readUint32();for(var n=new Uint32Array(t),r=0;r<t;r++)n[r]=e.readUint32();return n}]],[5,[8,function(e,t){if(1===t)return e.readUint32()/e.readUint32();for(var n=new Array(t),r=0;r<t;r++)n[r]=e.readUint32()/e.readUint32();return n}]],[6,[1,function(e,t){if(1===t)return e.readInt8();for(var n=new Int8Array(t),r=0;r<t;r++)n[r]=e.readInt8();return n}]],[7,[1,a]],[8,[2,function(e,t){if(1===t)return e.readInt16();for(var n=new Int16Array(t),r=0;r<t;r++)n[r]=e.readInt16();return n}]],[9,[4,function(e,t){if(1===t)return e.readInt32();for(var n=new Int32Array(t),r=0;r<t;r++)n[r]=e.readInt32();return n}]],[10,[8,function(e,t){if(1===t)return e.readInt32()/e.readInt32();for(var n=new Array(t),r=0;r<t;r++)n[r]=e.readInt32()/e.readInt32();return n}]],[11,[4,function(e,t){if(1===t)return e.readFloat32();for(var n=new Float32Array(t),r=0;r<t;r++)n[r]=e.readFloat32();return n}]],[12,[8,function(e,t){if(1===t)return e.readFloat64();for(var n=new Float64Array(t),r=0;r<t;r++)n[r]=e.readFloat64();return n}]]]);function a(e,t){if(1===t)return e.readUint8();for(var n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.readUint8();return n}t.getByteLength=function(e,t){return r.get(e)[0]*t},t.readData=function(e,t,n){return r.get(t)[1](e,n)}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var _toConsumableArray=__webpack_require__(310).default,toBytes=function(e){return _toConsumableArray(e).map((function(e){return e.charCodeAt(0)}))},xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e[t],r=1,a=0;++a<8;)r*=256,n+=e[t+a]*r;return n}var fileType=function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError("Expected the `input` argument to be of type `Uint8Array` or `Buffer` or `ArrayBuffer`, got `".concat(typeof e,"`"));var t=e instanceof Uint8Array?e:new Uint8Array(e);if(!(t&&t.length>1))return null;var n=function(e,n){n=Object.assign({offset:0},n);for(var r=0;r<e.length;r++)if(n.mask){if(e[r]!==(n.mask[r]&t[r+n.offset]))return!1}else if(e[r]!==t[r+n.offset])return!1;return!0},r=function(e,t){return n(toBytes(e),t)};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(n([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((n([73,73,42,0])||n([77,77,0,42]))&&n([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n([73,73,42,0])||n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n([80,75,3,4])){if(n([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(n(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(r("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(r("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(r("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.findIndex((function(e,n,r){return n>=t&&80===r[n]&&75===r[n+1]&&3===r[n+2]&&4===r[n+3]}))},i=0,o=!1,u=null;do{var s=i+30;if(o||(o=n(oxmlContentTypes,{offset:s})||n(oxmlRels,{offset:s})),u||(r("word/",{offset:s})?u={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:r("ppt/",{offset:s})?u={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:r("xl/",{offset:s})&&(u={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),o&&u)return u;i=a(t,s)}while(i>=0);if(u)return u}if(n([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(n([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(n([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([51,103,112,53])||n([0,0,0])&&n([102,116,121,112],{offset:4})&&(n([109,112,52,49],{offset:8})||n([109,112,52,50],{offset:8})||n([105,115,111,109],{offset:8})||n([105,115,111,50],{offset:8})||n([109,109,112,52],{offset:8})||n([77,52,86],{offset:8})||n([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(n([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(n([26,69,223,163])){var c=t.subarray(4,4100),l=c.findIndex((function(e,t,n){return 66===n[t]&&130===n[t+1]}));if(-1!==l){var f=l+3,d=function(e){return _toConsumableArray(e).every((function(e,t){return c[f+t]===e.charCodeAt(0)}))};if(d("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(d("webm"))return{ext:"webm",mime:"video/webm"}}}if(n([0,0,0,20,102,116,121,112,113,116,32,32])||n([102,114,101,101],{offset:4})||n([102,116,121,112,113,116,32,32],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n([48,38,178,117,142,102,207,17,166,217])){var h=30;do{var p=readUInt64LE(t,h+16);if(n([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:h})){if(n([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:h+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(n([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:h+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}h+=p}while(h+24<=t.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var v=0;v<2&&v<t.length-16;v++){if(n([73,68,51],{offset:v})||n([255,226],{offset:v,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([255,228],{offset:v,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,248],{offset:v,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,240],{offset:v,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(n([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(n([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(n([79,103,103,83]))return n([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:n([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:n([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:n([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:n([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(n([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(n([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(n([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(n([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(n([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===t[0]||70===t[0])&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([119,79,70,70])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(n([119,79,70,50])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n([37,33]))return{ext:"ps",mime:"application/postscript"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n([77,83,67,70])||n([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(n([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(n([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n([0,0,0,12,106,80,32,32,13,10,135,10])){if(n([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(n([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(n([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(n([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(n([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(r("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([102,116,121,112],{offset:4})){if(n([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(n([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(n([104,101,105,99],{offset:8})||n([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(n([104,101,118,99],{offset:8})||n([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return n([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:n([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:n([77,80,43])||n([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:n([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:n([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:n([212,195,178,161])||n([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=function(readableStream){return new Promise((function(resolve,reject){var stream=eval("require")("stream");readableStream.once("readable",(function(){var e=new stream.PassThrough,t=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{e.fileType=fileType(t)}catch(n){reject(n)}readableStream.unshift(t),stream.pipeline?resolve(stream.pipeline(readableStream,e,(function(){}))):resolve(readableStream.pipe(e))}))}))}}).call(this,__webpack_require__(175).Buffer)},function(e,t,n){var r=n(487);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";!function(e){if(e.TextEncoder&&e.TextDecoder)return!1;function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8";if("utf-8"!==e)throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('".concat(e,"') is invalid."))}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fatal:!1};if("utf-8"!==e)throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('".concat(e,"') is invalid."));if(t.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1};if(t.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");for(var n=0,r=e.length,a=0,i=Math.max(32,r+(r>>1)+7),o=new Uint8Array(i>>3<<3);n<r;){var u=e.charCodeAt(n++);if(u>=55296&&u<=56319){if(n<r){var s=e.charCodeAt(n);56320===(64512&s)&&(++n,u=((1023&u)<<10)+(1023&s)+65536)}if(u>=55296&&u<=56319)continue}if(a+4>o.length){i+=8,i=(i*=1+n/e.length*2)>>3<<3;var c=new Uint8Array(i);c.set(o),o=c}if(0!==(4294967168&u)){if(0===(4294965248&u))o[a++]=u>>6&31|192;else if(0===(4294901760&u))o[a++]=u>>12&15|224,o[a++]=u>>6&63|128;else{if(0!==(4292870144&u))continue;o[a++]=u>>18&7|240,o[a++]=u>>12&63|128,o[a++]=u>>6&63|128}o[a++]=63&u|128}else o[a++]=u}return o.slice(0,a)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1}),n.prototype.decode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1};if(t.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");for(var n=new Uint8Array(e),r=0,a=n.length,i=[];r<a;){var o=n[r++];if(0===o)break;if(0===(128&o))i.push(o);else if(192===(224&o)){var u=63&n[r++];i.push((31&o)<<6|u)}else if(224===(240&o)){var s=63&n[r++],c=63&n[r++];i.push((31&o)<<12|s<<6|c)}else if(240===(248&o)){var l=63&n[r++],f=63&n[r++],d=63&n[r++],h=(7&o)<<18|l<<12|f<<6|d;h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h)}}return String.fromCharCode.apply(null,i)},e.TextEncoder=t,e.TextDecoder=n}("undefined"!==typeof window?window:"undefined"!==typeof self?self:this)},function(e,t,n){"use strict";t.FFTUtils=n(696),t.FFT=n(488)},function(e,t,n){"use strict";var r=n(488),a={DEBUG:!1,ifft2DArray:function(e,t,n){var a=new Array(t*n),i=t/2,o=2*(n-1);r.init(i);for(var u={re:new Array(i),im:new Array(i)},s=0;s<n;s++){for(var c=i-1;c>=0;c--)u.re[c]=e[2*c*n+s],u.im[c]=e[(2*c+1)*n+s];r.bt(u.re,u.im);for(c=i-1;c>=0;c--)a[2*c*n+s]=u.re[c],a[(2*c+1)*n+s]=u.im[c]}var l=new Array(i*o);r.init(o);var f={re:new Array(o),im:new Array(o)},d=o*i;for(c=0;c<t;c+=2){f.re[0]=a[c*n],f.im[0]=a[(c+1)*n];for(s=1;s<n;s++)f.re[s]=a[c*n+s],f.im[s]=a[(c+1)*n+s],f.re[o-s]=a[c*n+s],f.im[o-s]=-a[(c+1)*n+s];r.bt(f.re,f.im);var h=c/2*o;for(s=o-1;s>=0;s--)l[h+s]=f.re[s]/d}return l},fft2DArray:function(e,t,n,a){Object.assign({},{inplace:!0});var i=n/2+1,o=2*t,u=new Array(o*i);r.init(n);for(var s,c,l,f,d,h={re:new Array(n),im:new Array(n)},p={re:new Array(n),im:new Array(n)},v={re:new Array(n),im:new Array(n)},m=0;m<t/2;m++){s=2*m*n,h.re=e.slice(s,s+n),s=(2*m+1)*n,h.im=e.slice(s,s+n),r.fft1d(h.re,h.im),this.reconstructTwoRealFFT(h,p,v),c=4*m*i,l=(4*m+1)*i,f=(4*m+2)*i,d=(4*m+3)*i;for(var g=i-1;g>=0;g--)u[c+g]=p.re[g],u[l+g]=p.im[g],u[f+g]=v.re[g],u[d+g]=v.im[g]}p=null,v=null;var b=new Array(o*i);r.init(t);for(var y={re:new Array(t),im:new Array(t)},x=i-1;x>=0;x--){for(m=t-1;m>=0;m--)y.re[m]=u[2*m*i+x],y.im[m]=u[(2*m+1)*i+x],isNaN(y.re[m])&&(y.re[m]=0),isNaN(y.im[m])&&(y.im[m]=0);r.fft1d(y.re,y.im);for(m=t-1;m>=0;m--)b[2*m*i+x]=y.re[m],b[(2*m+1)*i+x]=y.im[m]}return b},reconstructTwoRealFFT:function(e,t,n){var r,a,i,o,u,s=e.re.length;t.re[0]=e.re[0],t.im[0]=0,n.re[0]=e.im[0],n.im[0]=0;for(var c=s/2;c>0;c--)u=s-c,r=.5*(e.re[c]-e.re[u]),a=.5*(e.re[c]+e.re[u]),i=.5*(e.im[c]-e.im[u]),o=.5*(e.im[c]+e.im[u]),t.re[c]=a,t.im[c]=i,t.re[u]=a,t.im[u]=-i,n.re[c]=o,n.im[c]=-r,n.re[u]=o,n.im[u]=r},convolute2DI:function(e,t,n,r){for(var a,i,o=0;o<n/2;o++)for(var u=0;u<r;u++)a=e[2*o*r+u]*t[2*o*r+u]-e[(2*o+1)*r+u]*t[(2*o+1)*r+u],i=e[2*o*r+u]*t[(2*o+1)*r+u]+e[(2*o+1)*r+u]*t[2*o*r+u],e[2*o*r+u]=a,e[(2*o+1)*r+u]=i},convolute:function(e,t,n,r,a){for(var i=new Array(r*n),o=0;o<n*r;o++)i[o]=e[o];i=this.fft2DArray(i,n,r);var u,s=t.length,c=t[0].length,l=new Array(r*n);for(o=0;o<r*n;o++)l[o]=0;for(var f=Math.floor((s-1)/2),d=Math.floor((c-1)/2),h=0;h<s;h++){u=(h-f+n)%n;for(var p=0;p<c;p++)l[u*r+(p-d+r)%r]=t[h][p]}l=this.fft2DArray(l,n,r);var v=2*n,m=r/2+1;return this.convolute2DI(i,l,v,m),this.ifft2DArray(i,v,m)},toRadix2:function(e,t,n){var r,a,i,o,u=n,s=t;if(0===n||0!==(n&n-1)){for(u=0;n>>++u!=0;);(u=1<<u)-n}if(0===t||0!==(t&t-1)){for(s=0;t>>++s!=0;);((s=1<<s)-t)*u}if(s==t&&u==n)return{data:e,rows:t,cols:n};var c=new Array(s*u),l=Math.floor((s-t)/2)-t,f=Math.floor((u-n)/2)-n;for(r=0;r<s;r++)for(i=r*u,o=(r-l)%t*n,a=0;a<u;a++)c[i+a]=e[o+(a-f)%n];return{data:c,rows:s,cols:u}},crop:function(e,t,n,r,a,i){if(t==r&&n==a)return e;Object.assign({},i);var o,u,s,c,l=new Array(a*r),f=Math.floor((t-r)/2),d=Math.floor((n-a)/2);for(s=0;s<r;s++)for(o=s*a,u=(s+f)*n,c=0;c<a;c++)l[o+c]=e[u+(c+d)];return l}};e.exports=a},function(e,t,n){"use strict";e.exports=Number.isFinite||function(e){return!("number"!==typeof e||e!==e||e===1/0||e===-1/0)}},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=n(231).squaredEuclidean,o={sigma:1},u=function(){function e(t){r(this,e),t=Object.assign({},o,t),this.sigma=t.sigma,this.divisor=2*t.sigma*t.sigma}return a(e,[{key:"compute",value:function(e,t){var n=i(e,t);return Math.exp(-n/this.divisor)}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i={degree:1,constant:1,scale:1},o=function(){function e(t){r(this,e),t=Object.assign({},i,t),this.degree=t.degree,this.constant=t.constant,this.scale=t.scale}return a(e,[{key:"compute",value:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return Math.pow(this.scale*n+this.constant,this.degree)}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i={alpha:.01,constant:-Math.E},o=function(){function e(t){r(this,e),t=Object.assign({},i,t),this.alpha=t.alpha,this.constant=t.constant}return a(e,[{key:"compute",value:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return Math.tanh(this.alpha*n+this.constant)}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i={sigma:1,degree:1},o=function(){function e(t){r(this,e),t=Object.assign({},i,t),this.sigma=t.sigma,this.degree=t.degree}return a(e,[{key:"compute",value:function(e,t){for(var n=0,r=Math.min(e.length,t.length),a=1;a<=r;++a)n+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(e[a-1],a)-Math.pow(t[a-1],a),2)),this.degree);return n}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=n(231).squaredEuclidean,o={sigma:1},u=function(){function e(t){r(this,e),t=Object.assign({},o,t),this.sigma=t.sigma}return a(e,[{key:"compute",value:function(e,t){return 1/(1+i(e,t)/(this.sigma*this.sigma))}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=n(231).euclidean,o={sigma:1},u=function(){function e(t){r(this,e),t=Object.assign({},o,t),this.sigma=t.sigma,this.divisor=2*t.sigma*t.sigma}return a(e,[{key:"compute",value:function(e,t){var n=i(e,t);return Math.exp(-n/this.divisor)}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=function(){function e(){r(this,e)}return a(e,[{key:"compute",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0,a=0;a<n;++a)r+=Math.min(e[a],t[a]);return r}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=n(231).euclidean,o={sigma:1},u=function(){function e(t){r(this,e),t=Object.assign({},o,t),this.sigma=t.sigma}return a(e,[{key:"compute",value:function(e,t){var n=i(e,t);return Math.exp(-n/this.sigma)}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=n(231).squaredEuclidean,o={constant:1},u=function(){function e(t){r(this,e),t=Object.assign({},o,t),this.constant=t.constant}return a(e,[{key:"compute",value:function(e,t){return Math.sqrt(i(e,t)+this.constant*this.constant)}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=n(231).squaredEuclidean,o={constant:1},u=function(){function e(t){r(this,e),t=Object.assign({},o,t),this.constant=t.constant}return a(e,[{key:"compute",value:function(e,t){var n=i(e,t);return 1-n/(n+this.constant)}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=n(490),a=n(709),i=n(710),o=n(712);function u(e,t,n,r){return function(n,a,i){var o=e(e(t(a[1],i[0]),t(-i[1],a[0])),e(t(n[1],a[0]),t(-a[1],n[0]))),u=e(t(n[1],i[0]),t(-i[1],n[0])),s=r(o,u);return s[s.length-1]}}function s(e,t,n,r){return function(a,i,o,u){var s=e(e(n(e(t(o[1],u[0]),t(-u[1],o[0])),i[2]),e(n(e(t(i[1],u[0]),t(-u[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),u[2]))),e(n(e(t(i[1],u[0]),t(-u[1],i[0])),a[2]),e(n(e(t(a[1],u[0]),t(-u[1],a[0])),-i[2]),n(e(t(a[1],i[0]),t(-i[1],a[0])),u[2])))),c=e(e(n(e(t(o[1],u[0]),t(-u[1],o[0])),a[2]),e(n(e(t(a[1],u[0]),t(-u[1],a[0])),-o[2]),n(e(t(a[1],o[0]),t(-o[1],a[0])),u[2]))),e(n(e(t(i[1],o[0]),t(-o[1],i[0])),a[2]),e(n(e(t(a[1],o[0]),t(-o[1],a[0])),-i[2]),n(e(t(a[1],i[0]),t(-i[1],a[0])),o[2])))),l=r(s,c);return l[l.length-1]}}function c(e,t,n,r){return function(a,i,o,u,s){var c=e(e(e(n(e(n(e(t(u[1],s[0]),t(-s[1],u[0])),o[2]),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),-u[2]),n(e(t(o[1],u[0]),t(-u[1],o[0])),s[2]))),i[3]),e(n(e(n(e(t(u[1],s[0]),t(-s[1],u[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-u[2]),n(e(t(i[1],u[0]),t(-u[1],i[0])),s[2]))),-o[3]),n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2]))),u[3]))),e(n(e(n(e(t(o[1],u[0]),t(-u[1],o[0])),i[2]),e(n(e(t(i[1],u[0]),t(-u[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),u[2]))),-s[3]),e(n(e(n(e(t(u[1],s[0]),t(-s[1],u[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-u[2]),n(e(t(i[1],u[0]),t(-u[1],i[0])),s[2]))),a[3]),n(e(n(e(t(u[1],s[0]),t(-s[1],u[0])),a[2]),e(n(e(t(a[1],s[0]),t(-s[1],a[0])),-u[2]),n(e(t(a[1],u[0]),t(-u[1],a[0])),s[2]))),-i[3])))),e(e(n(e(n(e(t(i[1],s[0]),t(-s[1],i[0])),a[2]),e(n(e(t(a[1],s[0]),t(-s[1],a[0])),-i[2]),n(e(t(a[1],i[0]),t(-i[1],a[0])),s[2]))),u[3]),e(n(e(n(e(t(i[1],u[0]),t(-u[1],i[0])),a[2]),e(n(e(t(a[1],u[0]),t(-u[1],a[0])),-i[2]),n(e(t(a[1],i[0]),t(-i[1],a[0])),u[2]))),-s[3]),n(e(n(e(t(o[1],u[0]),t(-u[1],o[0])),i[2]),e(n(e(t(i[1],u[0]),t(-u[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),u[2]))),a[3]))),e(n(e(n(e(t(o[1],u[0]),t(-u[1],o[0])),a[2]),e(n(e(t(a[1],u[0]),t(-u[1],a[0])),-o[2]),n(e(t(a[1],o[0]),t(-o[1],a[0])),u[2]))),-i[3]),e(n(e(n(e(t(i[1],u[0]),t(-u[1],i[0])),a[2]),e(n(e(t(a[1],u[0]),t(-u[1],a[0])),-i[2]),n(e(t(a[1],i[0]),t(-i[1],a[0])),u[2]))),o[3]),n(e(n(e(t(i[1],o[0]),t(-o[1],i[0])),a[2]),e(n(e(t(a[1],o[0]),t(-o[1],a[0])),-i[2]),n(e(t(a[1],i[0]),t(-i[1],a[0])),o[2]))),-u[3]))))),l=e(e(e(n(e(n(e(t(u[1],s[0]),t(-s[1],u[0])),o[2]),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),-u[2]),n(e(t(o[1],u[0]),t(-u[1],o[0])),s[2]))),a[3]),n(e(n(e(t(u[1],s[0]),t(-s[1],u[0])),a[2]),e(n(e(t(a[1],s[0]),t(-s[1],a[0])),-u[2]),n(e(t(a[1],u[0]),t(-u[1],a[0])),s[2]))),-o[3])),e(n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),a[2]),e(n(e(t(a[1],s[0]),t(-s[1],a[0])),-o[2]),n(e(t(a[1],o[0]),t(-o[1],a[0])),s[2]))),u[3]),n(e(n(e(t(o[1],u[0]),t(-u[1],o[0])),a[2]),e(n(e(t(a[1],u[0]),t(-u[1],a[0])),-o[2]),n(e(t(a[1],o[0]),t(-o[1],a[0])),u[2]))),-s[3]))),e(e(n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2]))),a[3]),n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),a[2]),e(n(e(t(a[1],s[0]),t(-s[1],a[0])),-o[2]),n(e(t(a[1],o[0]),t(-o[1],a[0])),s[2]))),-i[3])),e(n(e(n(e(t(i[1],s[0]),t(-s[1],i[0])),a[2]),e(n(e(t(a[1],s[0]),t(-s[1],a[0])),-i[2]),n(e(t(a[1],i[0]),t(-i[1],a[0])),s[2]))),o[3]),n(e(n(e(t(i[1],o[0]),t(-o[1],i[0])),a[2]),e(n(e(t(a[1],o[0]),t(-o[1],a[0])),-i[2]),n(e(t(a[1],i[0]),t(-i[1],a[0])),o[2]))),-s[3])))),f=r(c,l);return f[f.length-1]}}function l(e){return(3===e?u:4===e?s:c)(a,r,i,o)}var f=l(3),d=l(4),h=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,a=(e[1]-n[1])*(t[0]-n[0]),i=(e[0]-n[0])*(t[1]-n[1]),o=a-i;if(a>0){if(i<=0)return o;r=a+i}else{if(!(a<0))return o;if(i>=0)return o;r=-(a+i)}var u=33306690738754716e-32*r;return o>=u||o<=-u?o:f(e,t,n)},function(e,t,n,r){var a=e[0]-r[0],i=t[0]-r[0],o=n[0]-r[0],u=e[1]-r[1],s=t[1]-r[1],c=n[1]-r[1],l=e[2]-r[2],f=t[2]-r[2],h=n[2]-r[2],p=i*c,v=o*s,m=o*u,g=a*c,b=a*s,y=i*u,x=l*(p-v)+f*(m-g)+h*(b-y),w=7771561172376103e-31*((Math.abs(p)+Math.abs(v))*Math.abs(l)+(Math.abs(m)+Math.abs(g))*Math.abs(f)+(Math.abs(b)+Math.abs(y))*Math.abs(h));return x>w||-x>w?x:d(e,t,n,r)}];function p(e){var t=h[e.length];return t||(t=h[e.length]=l(e.length)),t.apply(void 0,e)}function v(e,t,n,r,a,i,o){return function(t,n,u,s,c){switch(arguments.length){case 0:case 1:return 0;case 2:return r(t,n);case 3:return a(t,n,u);case 4:return i(t,n,u,s);case 5:return o(t,n,u,s,c)}for(var l=new Array(arguments.length),f=0;f<arguments.length;++f)l[f]=arguments[f];return e(l)}}!function(){for(;h.length<=5;)h.push(l(h.length));e.exports=v.apply(void 0,[p].concat(h));for(var t=0;t<=5;++t)e.exports[t]=h[t]}()},function(e,t,n){"use strict";e.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,a=e-(n-r)+(t-r);if(a)return[a,n];return[n]}(e[0],t[0]);var a,i,o=new Array(n+r),u=0,s=0,c=0,l=Math.abs,f=e[s],d=l(f),h=t[c],p=l(h);d<p?(i=f,(s+=1)<n&&(f=e[s],d=l(f))):(i=h,(c+=1)<r&&(h=t[c],p=l(h)));s<n&&d<p||c>=r?(a=f,(s+=1)<n&&(f=e[s],d=l(f))):(a=h,(c+=1)<r&&(h=t[c],p=l(h)));var v,m,g=a+i,b=g-a,y=i-b,x=y,w=g;for(;s<n&&c<r;)d<p?(a=f,(s+=1)<n&&(f=e[s],d=l(f))):(a=h,(c+=1)<r&&(h=t[c],p=l(h))),(y=(i=x)-(b=(g=a+i)-a))&&(o[u++]=y),x=w-((v=w+g)-(m=v-w))+(g-m),w=v;for(;s<n;)(y=(i=x)-(b=(g=(a=f)+i)-a))&&(o[u++]=y),x=w-((v=w+g)-(m=v-w))+(g-m),w=v,(s+=1)<n&&(f=e[s]);for(;c<r;)(y=(i=x)-(b=(g=(a=h)+i)-a))&&(o[u++]=y),x=w-((v=w+g)-(m=v-w))+(g-m),w=v,(c+=1)<r&&(h=t[c]);x&&(o[u++]=x);w&&(o[u++]=w);u||(o[u++]=0);return o.length=u,o}},function(e,t,n){"use strict";var r=n(490),a=n(711);e.exports=function(e,t){var n=e.length;if(1===n){var i=r(e[0],t);return i[0]?i:[i[1]]}var o=new Array(2*n),u=[.1,.1],s=[.1,.1],c=0;r(e[0],t,u),u[0]&&(o[c++]=u[0]);for(var l=1;l<n;++l){r(e[l],t,s);var f=u[1];a(f,s[0],u),u[0]&&(o[c++]=u[0]);var d=s[1],h=u[1],p=d+h,v=h-(p-d);u[1]=p,v&&(o[c++]=v)}u[1]&&(o[c++]=u[1]);0===c&&(o[c++]=0);return o.length=c,o}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=e+t,a=r-e,i=t-a,o=e-(r-a);if(n)return n[0]=o+i,n[1]=r,n;return[o+i,r]}},function(e,t,n){"use strict";e.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,a=e-(n-r)+(t-r);if(a)return[a,n];return[n]}(e[0],-t[0]);var a,i,o=new Array(n+r),u=0,s=0,c=0,l=Math.abs,f=e[s],d=l(f),h=-t[c],p=l(h);d<p?(i=f,(s+=1)<n&&(f=e[s],d=l(f))):(i=h,(c+=1)<r&&(h=-t[c],p=l(h)));s<n&&d<p||c>=r?(a=f,(s+=1)<n&&(f=e[s],d=l(f))):(a=h,(c+=1)<r&&(h=-t[c],p=l(h)));var v,m,g=a+i,b=g-a,y=i-b,x=y,w=g;for(;s<n&&c<r;)d<p?(a=f,(s+=1)<n&&(f=e[s],d=l(f))):(a=h,(c+=1)<r&&(h=-t[c],p=l(h))),(y=(i=x)-(b=(g=a+i)-a))&&(o[u++]=y),x=w-((v=w+g)-(m=v-w))+(g-m),w=v;for(;s<n;)(y=(i=x)-(b=(g=(a=f)+i)-a))&&(o[u++]=y),x=w-((v=w+g)-(m=v-w))+(g-m),w=v,(s+=1)<n&&(f=e[s]);for(;c<r;)(y=(i=x)-(b=(g=(a=h)+i)-a))&&(o[u++]=y),x=w-((v=w+g)-(m=v-w))+(g-m),w=v,(c+=1)<r&&(h=-t[c]);x&&(o[u++]=x);w&&(o[u++]=w);u||(o[u++]=0);return o.length=u,o}},function(e,t,n){"use strict";var r=function(){self.window=self;function e(){this._listeners={}}e.prototype.on=function(e,t){if(this._listeners[e])throw new RangeError("there is already a listener for "+e);if("function"!==typeof t)throw new TypeError("callback argument must be a function");this._listeners[e]=t},e.prototype._send=function(e,t,n){void 0===n?n=[]:Array.isArray(n)||(n=[n]),self.postMessage({id:e,data:t},n)},e.prototype._trigger=function(e,t){if(!this._listeners[e])throw new Error("event "+e+" is not defined");this._listeners[e].apply(null,t)};var t=new e;self.onmessage=function(e){switch(e.data.action){case"exec":e.data.args.unshift((function(n,r){t._send(e.data.id,n,r)})),t._trigger(e.data.event,e.data.args);break;case"ping":t._send(e.data.id,"pong");break;default:throw new Error("unexpected action: "+e.data.action)}}}.toString().split('"CODE";');t.newWorkerURL=function(e,t){var n=new Blob(["(",r[0],"importScripts.apply(self, "+JSON.stringify(t)+");\n","(",e,")();",r[1],")();"],{type:"application/javascript"});return URL.createObjectURL(n)}},function(e,t,n){"use strict";n(229);var r=n(1),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;a=i("react.element"),t.Fragment=i("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:l,props:i,_owner:o.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";(function(e){var t,r=n(4),a=n(5),i=n(52),o=function(){return n(716)};var u=function(){function u(){Object(r.a)(this,u),this.util=n(717),this.textEncoder=new this.util.TextEncoder}return Object(a.a)(u,[{key:"fetch",value:function(e,n){return null!=Object(i.c)().global.fetch?Object(i.c)().global.fetch(e,n):(null==t&&(t=o()),t(e,n))}},{key:"now",value:function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}]),u}();Object(i.c)().get("IS_NODE")&&Object(i.c)().setPlatform("node",new u)}).call(this,n(232))},,,function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function u(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new o(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n(131)&&n(233)?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.alea=s}(0,e,n(131))}).call(this,n(146)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n(131)&&n(233)?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor128=s}(0,e,n(131))}).call(this,n(146)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n(131)&&n(233)?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorwow=s}(0,e,n(131))}).call(this,n(146)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function u(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n(131)&&n(233)?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorshift7=s}(0,e,n(131))}).call(this,n(146)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,o,u=[],s=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,s=Math.max(s,t.length)),a=0,i=-32;i<s;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,a=0==(n=u[127&i]^=r+o)?a+1:0);for(a>=128&&(u[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=u[a+34&127],n=u[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,u[a]=r^n;e.w=o,e.X=u,e.i=a}(t,e)}function u(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n(131)&&n(233)?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor4096=s}(0,e,n(131))}).call(this,n(146)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n(131)&&n(233)?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.tychei=s}(0,e,n(131))}).call(this,n(146)(e))},function(e,t,n){var r;!function(a,i){var o,u=this,s=256,c=i.pow(s,6),l=i.pow(2,52),f=2*l,d=255;function h(e,t,n){var r=[],d=g(m((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(a)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(s):(e=new Uint8Array(s),(u.crypto||u.msCrypto).getRandomValues(e)),b(e)}catch(r){var t=u.navigator,n=t&&t.plugins;return[+new Date,u,n,u.screen,b(a)]}}():e,3),r),h=new p(r),y=function(){for(var e=h.g(6),t=c,n=0;e<l;)e=(e+n)*s,t*=s,n=h.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|h.g(4)},y.quick=function(){return h.g(4)/4294967296},y.double=y,g(b(h.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&v(r,h),e.state=function(){return v(h,{})}),n?(i.random=e,t):e})(y,d,"global"in t?t.global:this==i,t.state)}function p(e){var t,n=e.length,r=this,a=0,i=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<s;)o[a]=a++;for(a=0;a<s;a++)o[a]=o[i=d&i+e[a%n]+(t=o[a])],o[i]=t;(r.g=function(e){for(var t,n=0,a=r.i,i=r.j,o=r.S;e--;)t=o[a=d&a+1],n=n*s+o[d&(o[a]=o[i=d&i+t])+(o[i]=t)];return r.i=a,r.j=i,n})(s)}function v(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(m(e[n],t-1))}catch(i){}return r.length?r:"string"==a?e:e+"\0"}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[d&a]=d&(n^=19*t[d&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(i.seedrandom=h,g(i.random(),a),e.exports){e.exports=h;try{o=n(725)}catch(y){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}([],Math)},,function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(727),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(116))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,a=1,i={},o=!1,u=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return i[a]=o,r(a),a++},s.clearImmediate=c}function c(e){delete i[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=i[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{c(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(116),n(232))},,,,function(e,t,n){"use strict";var r=n(73).default,a=n(74).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(732),o=function(){function e(t){r(this,e),this._length=0,this._length=t.initialValues?t.initialValues.length:0,this.strategy=new i.default(t)}return a(e,[{key:"length",get:function(){return this._length}},{key:"queue",value:function(e){this._length++,this.strategy.queue(e)}},{key:"dequeue",value:function(){if(!this._length)throw new Error("Empty queue");return this._length--,this.strategy.dequeue()}},{key:"peek",value:function(){if(!this._length)throw new Error("Empty queue");return this.strategy.peek()}},{key:"clear",value:function(){this._length=0,this.strategy.clear()}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default;Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t){r(this,e),this.comparator=t.comparator,this.data=t.initialValues?t.initialValues.slice(0):[],this._heapify()}return a(e,[{key:"_heapify",value:function(){if(this.data.length>0)for(var e=0;e<this.data.length;e++)this._bubbleUp(e)}},{key:"queue",value:function(e){this.data.push(e),this._bubbleUp(this.data.length-1)}},{key:"dequeue",value:function(){var e=this.data[0],t=this.data.pop();return this.data.length>0&&void 0!==t&&(this.data[0]=t,this._bubbleDown(0)),e}},{key:"peek",value:function(){return this.data[0]}},{key:"clear",value:function(){this.data.length=0}},{key:"_bubbleUp",value:function(e){for(;e>0;){var t=e-1>>>1;if(!(this.comparator(this.data[e],this.data[t])<0))break;var n=this.data[t];this.data[t]=this.data[e],this.data[e]=n,e=t}}},{key:"_bubbleDown",value:function(e){for(var t=this.data.length-1;;){var n=1+(e<<1),r=n+1,a=e;if(n<=t&&this.comparator(this.data[n],this.data[a])<0&&(a=n),r<=t&&this.comparator(this.data[r],this.data[a])<0&&(a=r),a===e)break;var i=this.data[a];this.data[a]=this.data[e],this.data[e]=i,e=a}}}]),e}();t.default=i},function(e,t){e.exports=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(n,r,a){if("function"!==typeof r)throw new Error("callback is expected to be a function");var i=t[n];return i||(i=t[n]=[]),i.push({callback:r,ctx:a}),e},off:function(n,r){if("undefined"===typeof n)return t=Object.create(null),e;if(t[n])if("function"!==typeof r)delete t[n];else for(var a=t[n],i=0;i<a.length;++i)a[i].callback===r&&a.splice(i,1);return e},fire:function(n){var r,a=t[n];if(!a)return e;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var i=0;i<a.length;++i){var o=a[i];o.callback.apply(o.ctx,r)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}},function(e,t,n){"use strict";var r=n(735);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(77),a=n(309);Object.defineProperty(t,"__esModule",{value:!0}),t.createPopupState=function(e){var t=e.state,n=e.setState,r=e.parentPopupState,a=e.popupId,i=e.variant,o=e.disableAutoFocus,u=t.isOpen,f=t.setAnchorElUsed,d=t.anchorEl,h=t.hovered,p=t.focused,v=t._childPopupState,m=t._deferNextOpen,g=t._deferNextClose,b=t,y=function(e){(function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(e,n)&&e[n]!==t[n])return!0;return!1})(b,e)&&n(b=s(s({},b),e))},x=function(e){var t=e&&e.type,n=e&&e.currentTarget;if("touchstart"!==t){var a=function(){if(e||f||function(e,t){if(c[e])return;c[e]=!0,console.error("[material-ui-popup-state] WARNING",t)}("missingEventOrAnchorEl","eventOrAnchorEl should be defined if setAnchorEl is not used"),r){if(!r.isOpen)return;r._setChildPopupState(O)}var a={isOpen:!0,hovered:"mouseover"===t,focused:"focus"===t};n?f||(a.anchorEl=n):e&&(a.anchorEl=e),y(a)};m?(y({_deferNextOpen:!1}),setTimeout(a,0)):a()}else y({_deferNextOpen:!0})},w=function(e){switch(e&&e.type){case"touchstart":return void y({_deferNextClose:!0});case"blur":if(l(null===e||void 0===e?void 0:e.relatedTarget,O))return}var t=function(){v&&v.close(),r&&r._setChildPopupState(null),y({isOpen:!1,hovered:!1,focused:!1})};g?(y({_deferNextClose:!1}),setTimeout(t,0)):t()},O={anchorEl:d,setAnchorEl:function(e){y({setAnchorElUsed:!0,anchorEl:e})},setAnchorElUsed:f,popupId:a,variant:i,isOpen:u,open:x,close:w,toggle:function(e){u?w(e):x(e)},setOpen:function(e,t){e?x(t):w(t)},onMouseLeave:function(e){var t=e.relatedTarget;h&&!l(t,O)&&w(e)},disableAutoFocus:null!==o&&void 0!==o?o:Boolean(h||p),_childPopupState:v,_setChildPopupState:function(e){return y({_childPopupState:e})}};return O},t.anchorRef=function(e){var t=e.setAnchorEl;return function(e){e&&t(e)}},t.bindTrigger=function(e){var t,n=e.isOpen,r=e.open,a=e.popupId,o=e.variant;return t={},(0,i.default)(t,"popover"===o?"aria-controls":"aria-describedby",n?a:null),(0,i.default)(t,"aria-haspopup","popover"===o||void 0),(0,i.default)(t,"onClick",r),(0,i.default)(t,"onTouchStart",r),t},t.bindContextMenu=function(e){var t,n=e.isOpen,r=e.open,a=e.popupId,o=e.variant;return t={},(0,i.default)(t,"popover"===o?"aria-controls":"aria-describedby",n?a:null),(0,i.default)(t,"aria-haspopup","popover"===o||void 0),(0,i.default)(t,"onContextMenu",(function(e){e.preventDefault(),r(e)})),t},t.bindToggle=function(e){var t,n=e.isOpen,r=e.toggle,a=e.popupId,o=e.variant;return t={},(0,i.default)(t,"popover"===o?"aria-controls":"aria-describedby",n?a:null),(0,i.default)(t,"aria-haspopup","popover"===o||void 0),(0,i.default)(t,"onClick",r),(0,i.default)(t,"onTouchStart",r),t},t.bindHover=function(e){var t,n=e.isOpen,r=e.open,a=e.onMouseLeave,o=e.popupId,u=e.variant;return t={},(0,i.default)(t,"popover"===u?"aria-controls":"aria-describedby",n?o:null),(0,i.default)(t,"aria-haspopup","popover"===u||void 0),(0,i.default)(t,"onTouchStart",r),(0,i.default)(t,"onMouseOver",r),(0,i.default)(t,"onMouseLeave",a),t},t.bindFocus=function(e){var t,n=e.isOpen,r=e.open,a=e.close,o=e.popupId,u=e.variant;return t={},(0,i.default)(t,"popover"===u?"aria-controls":"aria-describedby",n?o:null),(0,i.default)(t,"aria-haspopup","popover"===u||void 0),(0,i.default)(t,"onFocus",r),(0,i.default)(t,"onBlur",a),t},t.bindPopover=function(e){var t=e.isOpen,n=e.anchorEl,r=e.close,a=e.popupId,i=e.onMouseLeave,o=e.disableAutoFocus;return s({id:a,anchorEl:n,open:t,onClose:r,onMouseLeave:i},o&&{disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0})},t.bindMenu=function(e){var t=e.isOpen,n=e.anchorEl,r=e.close,a=e.popupId,i=e.onMouseLeave,o=e.disableAutoFocus;return s({id:a,anchorEl:n,open:t,onClose:r,onMouseLeave:i},o&&{autoFocus:!1,disableAutoFocusItem:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0})},t.bindPopper=function(e){var t=e.isOpen,n=e.anchorEl,r=e.popupId,a=e.onMouseLeave;return{id:r,anchorEl:n,open:t,onMouseLeave:a}},t.initCoreState=void 0;var i=r(n(308));!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=i?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(r,u,s):r[u]=e[u]}r.default=e,n&&n.set(e,r)}(n(1));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={};function l(e,t){var n=t.anchorEl,r=t._childPopupState;return f(n,e)||f(function(e){var t=e.popupId;return t&&"undefined"!==typeof document?document.getElementById(t):null}(t),e)||null!=r&&l(e,r)}function f(e,t){if(!e)return!1;for(;t;){if(t===e)return!0;t=t.parentElement}return!1}t.initCoreState={isOpen:!1,setAnchorElUsed:!1,anchorEl:null,hovered:!1,focused:!1,_childPopupState:null,_deferNextOpen:!1,_deferNextClose:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=u(n(738)),a=u(n(420)),i=u(n(750)),o=u(n(751));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,o.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,i.default)(t)?(0,a.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=s},function(e,t,n){var r=n(211),a=n(147),i=n(176);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(281),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var a=o.call(e);return r&&(t?e[u]=n:delete e[u]),a}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(742)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++a];if(!1===n(i[s],s,i))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(211),a=n(176);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(211),a=n(422),i=n(176),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},function(e,t,n){var r=n(425),a=n(748),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(533)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(535);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(211),a=n(426),i=n(176),o=Function.prototype,u=Object.prototype,s=o.toString,c=u.hasOwnProperty,l=s.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==l}},function(e,t,n){var r=n(536),a=n(752),i=n(810),o=n(147);e.exports=function(e,t){return(o(e)?r:i)(e,a(t,3))}},function(e,t,n){var r=n(753),a=n(797),i=n(535),o=n(147),u=n(807);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):u(e)}},function(e,t,n){var r=n(754),a=n(796),i=n(546);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(427),a=n(538);e.exports=function(e,t,n,i){var o=n.length,u=o,s=!i;if(null==e)return!u;for(e=Object(e);o--;){var c=n[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<u;){var l=(c=n[o])[0],f=e[l],d=c[1];if(s&&c[2]){if(void 0===f&&!(l in e))return!1}else{var h=new r;if(i)var p=i(f,d,l,e,t,h);if(!(void 0===p?a(d,f,3,i,h):p))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(313),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(313);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(313);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(313);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},function(e,t,n){var r=n(312);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(312),a=n(429),i=n(430);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(534),a=n(766),i=n(234),o=n(537),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?d:u).test(o(e))}},function(e,t,n){var r=n(767),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(155)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(770),a=n(312),i=n(429);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},function(e,t,n){var r=n(771),a=n(772),i=n(773),o=n(774),u=n(775);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(314);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(314),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(314),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},function(e,t,n){var r=n(314);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(315);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(315);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(315);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(315);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},function(e,t,n){var r=n(427),a=n(539),i=n(787),o=n(790),u=n(316),s=n(147),c=n(421),l=n(532),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,g){var b=s(e),y=s(t),x=b?d:u(e),w=y?d:u(t),O=(x=x==f?h:x)==h,k=(w=w==f?h:w)==h,j=x==w;if(j&&c(e)){if(!c(t))return!1;b=!0,O=!1}if(j&&!O)return g||(g=new r),b||l(e)?a(e,t,n,v,m,g):i(e,t,x,n,v,m,g);if(!(1&n)){var _=O&&p.call(e,"__wrapped__"),S=k&&p.call(t,"__wrapped__");if(_||S){var E=_?e.value():e,A=S?t.value():t;return g||(g=new r),m(E,A,n,v,g)}}return!!j&&(g||(g=new r),o(e,t,n,v,m,g))}},function(e,t,n){var r=n(430),a=n(783),i=n(784);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(281),a=n(540),i=n(428),o=n(539),u=n(788),s=n(789),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=u;case"[object Set]":var p=1&r;if(h||(h=s),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var m=o(h(e),h(t),r,c,f,d);return d.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(541),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var d=c[f];if(!(s?d in t:a.call(t,d)))return!1}var h=u.get(e),p=u.get(t);if(h&&p)return h==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var m=s;++f<l;){var g=e[d=c[f]],b=t[d];if(i)var y=s?i(b,g,d,t,e,u):i(g,b,d,e,t,u);if(!(void 0===y?g===b||o(g,b,n,i,u):y)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(e),u.delete(t),v}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},function(e,t,n){var r=n(212)(n(155),"DataView");e.exports=r},function(e,t,n){var r=n(212)(n(155),"Promise");e.exports=r},function(e,t,n){var r=n(212)(n(155),"Set");e.exports=r},function(e,t,n){var r=n(212)(n(155),"WeakMap");e.exports=r},function(e,t,n){var r=n(545),a=n(282);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,r(o)]}return t}},function(e,t,n){var r=n(538),a=n(798),i=n(804),o=n(432),u=n(545),s=n(546),c=n(317);e.exports=function(e,t){return o(e)&&u(t)?s(c(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?i(n,e):r(t,o,3)}}},function(e,t,n){var r=n(547);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},function(e,t,n){var r=n(800),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(i,"$1"):n||e)})),t}));e.exports=o},function(e,t,n){var r=n(801);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(430);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},function(e,t,n){var r=n(803);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(281),a=n(536),i=n(147),o=n(433),u=r?r.prototype:void 0,s=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},function(e,t,n){var r=n(805),a=n(806);e.exports=function(e,t){return null!=e&&a(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(548),a=n(530),i=n(147),o=n(531),u=n(422),s=n(317);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var d=s(t[c]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&u(l)&&o(d,l)&&(i(e)||a(e))}},function(e,t,n){var r=n(808),a=n(809),i=n(432),o=n(317);e.exports=function(e){return i(e)?r(o(e)):a(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(547);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(811),a=n(311);e.exports=function(e,t){var n=-1,i=a(e)?Array(e.length):[];return r(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}},function(e,t,n){var r=n(528),a=n(812)(r);e.exports=a},function(e,t,n){var r=n(311);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var i=n.length,o=t?i:-1,u=Object(n);(t?o--:++o<i)&&!1!==a(u[o],o,u););return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=o(n(420)),a=o(n(814)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){return e&&e.__esModule?e:{default:e}}var u=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,a.default)(e.default)||{};return t.map((function(t){var a=e[t];return a&&(0,r.default)(a,(function(e,t){n[t]||(n[t]={}),n[t]=i({},n[t],a[t])})),t})),n};t.default=u},function(e,t,n){var r=n(815);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(427),a=n(816),i=n(549),o=n(818),u=n(819),s=n(822),c=n(823),l=n(824),f=n(825),d=n(541),h=n(826),p=n(316),v=n(827),m=n(828),g=n(833),b=n(147),y=n(421),x=n(835),w=n(234),O=n(837),k=n(282),j=n(434),_="[object Arguments]",S="[object Function]",E="[object Object]",A={};A[_]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[E]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[S]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,C,N,T,D){var I,M=1&n,F=2&n,R=4&n;if(C&&(I=T?C(t,N,T,D):C(t)),void 0!==I)return I;if(!w(t))return t;var P=b(t);if(P){if(I=v(t),!M)return c(t,I)}else{var z=p(t),B=z==S||"[object GeneratorFunction]"==z;if(y(t))return s(t,M);if(z==E||z==_||B&&!T){if(I=F||B?{}:g(t),!M)return F?f(t,u(I,t)):l(t,o(I,t))}else{if(!A[z])return T?t:{};I=m(t,z,M)}}D||(D=new r);var L=D.get(t);if(L)return L;D.set(t,I),O(t)?t.forEach((function(r){I.add(e(r,n,C,r,t,D))})):x(t)&&t.forEach((function(r,a){I.set(a,e(r,n,C,a,t,D))}));var U=P?void 0:(R?F?h:d:F?j:k)(t);return a(U||t,(function(r,a){U&&(r=t[a=r]),i(I,a,e(r,n,C,a,t,D))})),I}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(212),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},function(e,t,n){var r=n(318),a=n(282);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(318),a=n(434);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(234),a=n(425),i=n(821),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=a(e),n=[];for(var u in e)("constructor"!=u||!t&&o.call(e,u))&&n.push(u);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(155),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a?r.Buffer:void 0,u=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(146)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(318),a=n(431);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t,n){var r=n(318),a=n(551);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t,n){var r=n(542),a=n(551),i=n(434);e.exports=function(e){return r(e,i,a)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(435),a=n(829),i=n(830),o=n(831),u=n(832);e.exports=function(e,t,n){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(e,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return i(e);case"[object Symbol]":return o(e)}}},function(e,t,n){var r=n(435);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(281),a=r?r.prototype:void 0,i=a?a.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(435);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(834),a=n(426),i=n(425);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(a(e))}},function(e,t,n){var r=n(234),a=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(836),a=n(423),i=n(424),o=i&&i.isMap,u=o?a(o):r;e.exports=u},function(e,t,n){var r=n(316),a=n(176);e.exports=function(e){return a(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(838),a=n(423),i=n(424),o=i&&i.isSet,u=o?a(o):r;e.exports=u},function(e,t,n){var r=n(316),a=n(176);e.exports=function(e){return a(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,a=n(420),i=(r=a)&&r.__esModule?r:{default:r},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var u={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,i.default)(e,(function(e,n){var r={};(0,i.default)(e,(function(e,t){var n=u[t];n?r=o({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,c;u(this,r);for(var l=arguments.length,f=Array(l),d=0;d<l;d++)f[d]=arguments[d];return i=c=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return o.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},o.default.createElement(e,a({},c.props,c.state)))},s(c,i)}return c(r,n),r}(o.default.Component)};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,c;u(this,r);for(var l=arguments.length,f=Array(l),d=0;d<l;d++)f[d]=arguments[d];return i=c=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return o.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},o.default.createElement(e,a({},c.props,c.state)))},s(c,i)}return c(r,n),r}(o.default.Component)};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},function(e,t,n){"use strict";var r=n(7),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(237)),u=n(186),s=n(150);t.barchart=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(this,void 0,void 0,r.mark((function a(){var i,f,d,h,p,v,m,g,b,y,x,w,O,k,j,_;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=s.getDrawArea(e),f=t,d=Object.assign({},c,n),!l.has(i)){r.next=13;break}if(h=l.get(i),!s.shallowEquals(d,h.lastOptions)){r.next=13;break}return r.next=8,s.nextFrame();case 8:return p=h.view,v=p.changeset().remove((function(){return!0})).insert(f),r.next=12,p.change("values",v).runAsync();case 12:return r.abrupt("return");case 13:return m=d.xLabel,g=d.yLabel,b=d.xType,y=d.yType,x=null,null!=m&&(x={title:m}),w=null,null!=g&&(w={title:g}),O={actions:!1,mode:"vega-lite",defaultStyle:!1},k=null!=d.color?Array.isArray(d.color)?{field:"index",type:"nominal",scale:{range:d.color}}:{value:d.color}:{value:"#4C78A0"},j={width:d.width||u.getDefaultWidth(i),height:d.height||u.getDefaultHeight(i),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:d.fontSize,titleFontSize:d.fontSize},text:{fontSize:d.fontSize},legend:{labelFontSize:d.fontSize,titleFontSize:d.fontSize}},data:{values:f,name:"values"},mark:{type:"bar",tooltip:!0},encoding:{x:{field:"index",type:b,axis:x},y:{field:"value",type:y,axis:w},color:k}},r.next=23,s.nextFrame();case 23:return r.next=25,o.default(i,j,O);case 25:_=r.sent,l.set(i,{view:_.view,lastOptions:d});case 27:case"end":return r.stop()}}),a)})))};var c={xLabel:"",yLabel:"",xType:"ordinal",yType:"quantitative",fontSize:11},l=new Map},function(e,t,n){var r=n(236);e.exports=function(e,t){var n=r(e,t);return n?n.version:null}},function(e,t,n){var r=n(236);e.exports=function(e,t){var n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},function(e,t,n){var r=n(110);e.exports=function(e,t,n,a){"string"===typeof n&&(a=n,n=void 0);try{return new r(e,n).inc(t,a).version}catch(i){return null}}},function(e,t,n){var r=n(236),a=n(437);e.exports=function(e,t){if(a(e,t))return null;var n=r(e),i=r(t),o=n.prerelease.length||i.prerelease.length,u=o?"pre":"",s=o?"prerelease":"";for(var c in n)if(("major"===c||"minor"===c||"patch"===c)&&n[c]!==i[c])return u+c;return s}},function(e,t,n){var r=n(110);e.exports=function(e,t){return new r(e,t).major}},function(e,t,n){var r=n(110);e.exports=function(e,t){return new r(e,t).minor}},function(e,t,n){var r=n(110);e.exports=function(e,t){return new r(e,t).patch}},function(e,t,n){var r=n(236);e.exports=function(e,t){var n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},function(e,t,n){var r=n(148);e.exports=function(e,t,n){return r(t,e,n)}},function(e,t,n){var r=n(148);e.exports=function(e,t){return r(e,t,!0)}},function(e,t,n){var r=n(438);e.exports=function(e,t){return e.sort((function(e,n){return r(e,n,t)}))}},function(e,t,n){var r=n(438);e.exports=function(e,t){return e.sort((function(e,n){return r(n,e,t)}))}},function(e,t,n){var r=n(110),a=n(236),i=n(235),o=i.re,u=i.t;e.exports=function(e,t){if(e instanceof r)return e;if("number"===typeof e&&(e=String(e)),"string"!==typeof e)return null;var n=null;if((t=t||{}).rtl){for(var i;(i=o[u.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&i.index+i[0].length===n.index+n[0].length||(n=i),o[u.COERCERTL].lastIndex=i.index+i[1].length+i[2].length;o[u.COERCERTL].lastIndex=-1}else n=e.match(o[u.COERCE]);return null===n?null:a("".concat(n[2],".").concat(n[3]||"0",".").concat(n[4]||"0"),t)}},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=n(858),o=Symbol("max"),u=Symbol("length"),s=Symbol("lengthCalculator"),c=Symbol("allowStale"),l=Symbol("maxAge"),f=Symbol("dispose"),d=Symbol("noDisposeOnSet"),h=Symbol("lruList"),p=Symbol("cache"),v=Symbol("updateAgeOnGet"),m=function(){return 1},g=function(){function e(t){if(r(this,e),"number"===typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!==typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[o]=t.max||1/0;var n=t.length||m;if(this[s]="function"!==typeof n?m:n,this[c]=t.stale||!1,t.maxAge&&"number"!==typeof t.maxAge)throw new TypeError("maxAge must be a number");this[l]=t.maxAge||0,this[f]=t.dispose,this[d]=t.noDisposeOnSet||!1,this[v]=t.updateAgeOnGet||!1,this.reset()}return a(e,[{key:"max",get:function(){return this[o]},set:function(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,x(this)}},{key:"allowStale",get:function(){return this[c]},set:function(e){this[c]=!!e}},{key:"maxAge",get:function(){return this[l]},set:function(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,x(this)}},{key:"lengthCalculator",get:function(){return this[s]},set:function(e){var t=this;"function"!==typeof e&&(e=m),e!==this[s]&&(this[s]=e,this[u]=0,this[h].forEach((function(e){e.length=t[s](e.value,e.key),t[u]+=e.length}))),x(this)}},{key:"length",get:function(){return this[u]}},{key:"itemCount",get:function(){return this[h].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var n=this[h].tail;null!==n;){var r=n.prev;k(this,e,n,t),n=r}}},{key:"forEach",value:function(e,t){t=t||this;for(var n=this[h].head;null!==n;){var r=n.next;k(this,e,n,t),n=r}}},{key:"keys",value:function(){return this[h].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[h].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[f]&&this[h]&&this[h].length&&this[h].forEach((function(t){return e[f](t.key,t.value)})),this[p]=new Map,this[h]=new i,this[u]=0}},{key:"dump",value:function(){var e=this;return this[h].map((function(t){return!y(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[h]}},{key:"set",value:function(e,t,n){if((n=n||this[l])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");var r=n?Date.now():0,a=this[s](t,e);if(this[p].has(e)){if(a>this[o])return w(this,this[p].get(e)),!1;var i=this[p].get(e).value;return this[f]&&(this[d]||this[f](e,i.value)),i.now=r,i.maxAge=n,i.value=t,this[u]+=a-i.length,i.length=a,this.get(e),x(this),!0}var c=new O(e,t,a,r,n);return c.length>this[o]?(this[f]&&this[f](e,t),!1):(this[u]+=c.length,this[h].unshift(c),this[p].set(e,this[h].head),x(this),!0)}},{key:"has",value:function(e){if(!this[p].has(e))return!1;var t=this[p].get(e).value;return!y(this,t)}},{key:"get",value:function(e){return b(this,e,!0)}},{key:"peek",value:function(e){return b(this,e,!1)}},{key:"pop",value:function(){var e=this[h].tail;return e?(w(this,e),e.value):null}},{key:"del",value:function(e){w(this,this[p].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n],a=r.e||0;if(0===a)this.set(r.k,r.v);else{var i=a-t;i>0&&this.set(r.k,r.v,i)}}}},{key:"prune",value:function(){var e=this;this[p].forEach((function(t,n){return b(e,n,!1)}))}}]),e}(),b=function(e,t,n){var r=e[p].get(t);if(r){var a=r.value;if(y(e,a)){if(w(e,r),!e[c])return}else n&&(e[v]&&(r.value.now=Date.now()),e[h].unshiftNode(r));return a.value}},y=function(e,t){if(!t||!t.maxAge&&!e[l])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},x=function(e){if(e[u]>e[o])for(var t=e[h].tail;e[u]>e[o]&&null!==t;){var n=t.prev;w(e,t),t=n}},w=function(e,t){if(t){var n=t.value;e[f]&&e[f](n.key,n.value),e[u]-=n.length,e[p].delete(n.key),e[h].removeNode(t)}},O=a((function e(t,n,a,i,o){r(this,e),this.key=t,this.value=n,this.length=a,this.now=i,this.maxAge=o||0})),k=function(e,t,n,r){var a=n.value;y(e,a)&&(w(e,n),e[c]||(a=void 0)),a&&t.call(r,a.value,a.key,e)};e.exports=g},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,a=arguments.length;n<a;n++)t.push(arguments[n]);return t}function a(e,t,n){var r=t===e.head?new u(n,null,t,e):new u(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function i(e,t){e.tail=new u(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new u(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function u(e,t,n,r){if(!(this instanceof u))return new u(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=u,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,a=this.head;null!==a;)n.push(e.call(t,a.value,this)),a=a.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,a=this.tail;null!==a;)n.push(e.call(t,a.value,this)),a=a.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var a=0;null!==r;a++)n=e(n,r.value,a),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var a=this.length-1;null!==r;a--)n=e(n,r.value,a),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=0,i=this.head;null!==i&&a<e;a++)i=i.next;for(;null!==i&&a<t;a++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=this.length,i=this.tail;null!==i&&a>t;a--)i=i.prev;for(;null!==i&&a>e;a--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var i=[];for(n=0;r&&n<t;n++)i.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=a(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return i},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(859)(r)}catch(s){}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e){e.prototype[Symbol.iterator]=r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}},function(e,t,n){var r=n(149);e.exports=function(e,t){return new r(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))}},function(e,t,n){var r=n(110),a=n(149);e.exports=function(e,t,n){var i=null,o=null,u=null;try{u=new a(t,n)}catch(s){return null}return e.forEach((function(e){u.test(e)&&(i&&-1!==o.compare(e)||(o=new r(i=e,n)))})),i}},function(e,t,n){var r=n(110),a=n(149);e.exports=function(e,t,n){var i=null,o=null,u=null;try{u=new a(t,n)}catch(s){return null}return e.forEach((function(e){u.test(e)&&(i&&1!==o.compare(e)||(o=new r(i=e,n)))})),i}},function(e,t,n){var r=n(110),a=n(149),i=n(322);e.exports=function(e,t){e=new a(e,t);var n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(var o=function(t){var a=e.set[t],o=null;a.forEach((function(e){var t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!i(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(e.operator))}})),!o||n&&!i(n,o)||(n=o)},u=0;u<e.set.length;++u)o(u);return n&&e.test(n)?n:null}},function(e,t,n){var r=n(149);e.exports=function(e,t){try{return new r(e,t).range||"*"}catch(n){return null}}},function(e,t,n){var r=n(442);e.exports=function(e,t,n){return r(e,t,">",n)}},function(e,t,n){var r=n(442);e.exports=function(e,t,n){return r(e,t,"<",n)}},function(e,t,n){var r=n(149);e.exports=function(e,t,n){return e=new r(e,n),t=new r(t,n),e.intersects(t)}},function(e,t,n){var r=n(443).default,a=n(185).default,i=n(324),o=n(148);e.exports=function(e,t,n){var u,s=[],c=null,l=null,f=e.sort((function(e,t){return o(e,t,n)})),d=a(f);try{for(d.s();!(u=d.n()).done;){var h=u.value;i(h,t,n)?(l=h,c||(c=h)):(l&&s.push([c,l]),l=null,c=null)}}catch(O){d.e(O)}finally{d.f()}c&&s.push([c,null]);for(var p=[],v=0,m=s;v<m.length;v++){var g=r(m[v],2),b=g[0],y=g[1];b===y?p.push(b):y||b!==f[0]?y?b===f[0]?p.push("<=".concat(y)):p.push("".concat(b," - ").concat(y)):p.push(">=".concat(b)):p.push("*")}var x=p.join(" || "),w="string"===typeof t.raw?t.raw:String(t);return x.length<w.length?x:t}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){u=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(185).default,a=n(149),i=n(323),o=i.ANY,u=n(324),s=n(148),c=function(e,t,n){if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=n.includePrerelease?[new i(">=0.0.0-0")]:[new i(">=0.0.0")]}if(1===t.length&&t[0].semver===o){if(n.includePrerelease)return!0;t=[new i(">=0.0.0")]}var a,c,d,h,p=new Set,v=r(e);try{for(v.s();!(d=v.n()).done;){var m=d.value;">"===m.operator||">="===m.operator?a=l(a,m,n):"<"===m.operator||"<="===m.operator?c=f(c,m,n):p.add(m.semver)}}catch(D){v.e(D)}finally{v.f()}if(p.size>1)return null;if(a&&c){if((h=s(a.semver,c.semver,n))>0)return null;if(0===h&&(">="!==a.operator||"<="!==c.operator))return null}var g,b,y,x,w,O=r(p);try{for(O.s();!(g=O.n()).done;){var k=g.value;if(a&&!u(k,String(a),n))return null;if(c&&!u(k,String(c),n))return null;var j,_=r(t);try{for(_.s();!(j=_.n()).done;){var S=j.value;if(!u(k,String(S),n))return!1}}catch(D){_.e(D)}finally{_.f()}return!0}}catch(D){O.e(D)}finally{O.f()}var E=!(!c||n.includePrerelease||!c.semver.prerelease.length)&&c.semver,A=!(!a||n.includePrerelease||!a.semver.prerelease.length)&&a.semver;E&&1===E.prerelease.length&&"<"===c.operator&&0===E.prerelease[0]&&(E=!1);var C,N=r(t);try{for(N.s();!(C=N.n()).done;){var T=C.value;if(w=w||">"===T.operator||">="===T.operator,x=x||"<"===T.operator||"<="===T.operator,a)if(A&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===A.major&&T.semver.minor===A.minor&&T.semver.patch===A.patch&&(A=!1),">"===T.operator||">="===T.operator){if((b=l(a,T,n))===T&&b!==a)return!1}else if(">="===a.operator&&!u(a.semver,String(T),n))return!1;if(c)if(E&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===E.major&&T.semver.minor===E.minor&&T.semver.patch===E.patch&&(E=!1),"<"===T.operator||"<="===T.operator){if((y=f(c,T,n))===T&&y!==c)return!1}else if("<="===c.operator&&!u(c.semver,String(T),n))return!1;if(!T.operator&&(c||a)&&0!==h)return!1}}catch(D){N.e(D)}finally{N.f()}return!(a&&x&&!c&&0!==h)&&(!(c&&w&&!a&&0!==h)&&(!A&&!E))},l=function(e,t,n){if(!e)return t;var r=s(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},f=function(e,t,n){if(!e)return t;var r=s(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;e=new a(e,n),t=new a(t,n);var i,o=!1,u=r(e.set);try{e:for(u.s();!(i=u.n()).done;){var s,l=i.value,f=r(t.set);try{for(f.s();!(s=f.n()).done;){var d=s.value,h=c(l,d,n);if(o=o||null!==h,h)continue e}}catch(p){f.e(p)}finally{f.f()}if(o)return!1}}catch(p){u.e(p)}finally{u.f()}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleSheet=d;var r,a=n(229),i=(r=a)&&r.__esModule?r:{default:r};function o(e){return e[e.length-1]}function u(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}var s="undefined"!==typeof window,c=!1,l=function(){if(s){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length}}();function f(){var e=document.createElement("style");return e.type="text/css",e.setAttribute("data-glamor",""),e.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(e),e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.speedy,n=void 0===t||t,r=e.maxLength,a=void 0===r?s&&l?4e3:65e3:r;this.isSpeedy=n,this.sheet=void 0,this.tags=[],this.maxLength=a,this.ctr=0}(0,i.default)(d.prototype,{getSheet:function(){return u(o(this.tags))},inject:function(){var e=this;if(this.injected)throw new Error("already injected stylesheet!");s?this.tags[0]=f():this.sheet={cssRules:[],insertRule:function(t){e.sheet.cssRules.push({cssText:t})}},this.injected=!0},speedy:function(e){if(0!==this.ctr)throw new Error("cannot change speedy mode after inserting any rule to sheet. Either call speedy("+e+") earlier in your app, or call flush() before speedy("+e+")");this.isSpeedy=!!e},_insert:function(e){try{var t=this.getSheet();t.insertRule(e,-1!==e.indexOf("@import")?0:t.cssRules.length)}catch(n){c}},insert:function(e){if(s)if(this.isSpeedy&&this.getSheet().insertRule)this._insert(e);else if(-1!==e.indexOf("@import")){var t=o(this.tags);t.insertBefore(document.createTextNode(e),t.firstChild)}else o(this.tags).appendChild(document.createTextNode(e));else this.sheet.insertRule(e,-1!==e.indexOf("@import")?0:this.sheet.cssRules.length);return this.ctr++,s&&this.ctr%this.maxLength===0&&this.tags.push(f()),this.ctr-1},delete:function(e){return this.replace(e,"")},flush:function(){s?(this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.sheet=null,this.ctr=0):this.sheet.cssRules=[],this.injected=!1},rules:function(){if(!s)return this.sheet.cssRules;var e=[];return this.tags.forEach((function(t){return e.splice.apply(e,[e.length,0].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array.from(u(t).cssRules))))})),e}})},function(e,t,n){"use strict";var r=n(875),a=/^-ms-/;e.exports=function(e){return r(e.replace(a,"ms-"))}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(877));a(n(555));function a(e){return e&&e.__esModule?e:{default:e}}var i=r.default.isUnitlessNumber;t.default=function(e,t,n){return null==t||"boolean"===typeof t||""===t?"":isNaN(t)||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"===typeof t&&(t=t.trim()),t+"px")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowStart:!0,gridRowEnd:!0,gridColumn:!0,gridColumnStart:!0,gridColumnEnd:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var a=["Webkit","ms","Moz","O"];Object.keys(r).forEach((function(e){a.forEach((function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]}))}));var i={isUnitlessNumber:r,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};t.default=i},function(e,t,n){"use strict";function r(e){return function(){return e}}var a=function(){};a.thatReturns=r,a.thatReturnsFalse=r(!1),a.thatReturnsTrue=r(!0),a.thatReturnsNull=r(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,n){"use strict";var r=n(880),a=/^ms-/;e.exports=function(e){return r(e).replace(a,"-ms-")}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(function(e){return null===e||void 0===e||!1===e||"object"===("undefined"===typeof e?"undefined":r(e))&&0===Object.keys(e).length}(e))return null;if("object"!==("undefined"===typeof e?"undefined":r(e)))return e;for(var t={},n=Object.keys(e),a=!1,o=0;o<n.length;o++){var u=e[n[o]],s=i(u);null!==s&&s===u||(a=!0),null!==s&&(t[n[o]]=s)}return 0===Object.keys(t).length?null:a?t:e}function i(e){return Array.isArray(e)?function(e){var t=!1,n=[];return e.forEach((function(e){var r=i(e);null!==r&&r===e||(t=!0),null!==r&&n.push(r)})),0==n.length?null:t?n:e}(e):a(e)}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.PluginSet=s,t.fallbacks=function(e){if(Object.keys(e.style).map((function(t){return Array.isArray(e.style[t])})).indexOf(!0)>=0){var t=e.style,n=Object.keys(t).reduce((function(e,n){return e[n]=Array.isArray(t[n])?t[n].join("; "+(0,i.processStyleName)(n)+": "):t[n],e}),{});return(0,a.default)({},e,{style:n})}return e},t.contentWrap=function(e){if(e.style.content){var t=e.style.content;return c.indexOf(t)>=0||/^(attr|calc|counters?|url)\(/.test(t)?e:t.charAt(0)!==t.charAt(t.length-1)||'"'!==t.charAt(0)&&"'"!==t.charAt(0)?r({},e,{style:r({},e.style,{content:'"'+t+'"'})}):e}return e},t.prefixes=function(e){return(0,a.default)({},e,{style:(0,o.default)(r({},e.style))})};var a=u(n(229)),i=n(554),o=u(n(884));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){this.fns=e||[]}(0,a.default)(s.prototype,{add:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.fns.indexOf(t)>=0||(e.fns=[t].concat(e.fns))}))},remove:function(e){this.fns=this.fns.filter((function(t){return t!==e}))},clear:function(){this.fns=[]},transform:function(e){return this.fns.reduce((function(e,t){return t(e)}),e)}});var c=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t in e){var n=e[t],r=(0,i.default)(g,t,n,e,b);r&&(e[t]=r),(0,a.default)(b,t,e)}return e};var r=m(n(885)),a=m(n(886)),i=m(n(887)),o=m(n(888)),u=m(n(889)),s=m(n(890)),c=m(n(891)),l=m(n(892)),f=m(n(893)),d=m(n(894)),h=m(n(895)),p=m(n(896)),v=m(n(897));function m(e){return e&&e.__esModule?e:{default:e}}var g=[u.default,o.default,s.default,l.default,f.default,d.default,h.default,p.default,v.default,c.default],b=r.default.prefixMap},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["Webkit"],a=["Moz"],i=["ms"],o=["Webkit","Moz"],u=["Webkit","ms"],s=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:o,userSelect:s,textEmphasisPosition:r,textEmphasis:r,textEmphasisStyle:r,textEmphasisColor:r,boxDecorationBreak:r,clipPath:r,maskImage:r,maskMode:r,maskRepeat:r,maskPosition:r,maskClip:r,maskOrigin:r,maskSize:r,maskComposite:r,mask:r,maskBorderSource:r,maskBorderMode:r,maskBorderSlice:r,maskBorderWidth:r,maskBorderOutset:r,maskBorderRepeat:r,maskBorder:r,maskType:r,textDecorationStyle:r,textDecorationSkip:r,textDecorationLine:r,textDecorationColor:r,filter:r,fontFeatureSettings:r,breakAfter:s,breakBefore:s,breakInside:s,columnCount:o,columnFill:o,columnGap:o,columnRule:o,columnRuleColor:o,columnRuleStyle:o,columnRuleWidth:o,columns:o,columnSpan:o,columnWidth:o,writingMode:u,flex:r,flexBasis:r,flexDirection:r,flexGrow:r,flexFlow:r,flexShrink:r,flexWrap:r,alignContent:r,alignItems:r,alignSelf:r,justifyContent:r,order:r,transform:r,transformOrigin:r,transformOriginX:r,transformOriginY:r,backfaceVisibility:r,perspective:r,perspectiveOrigin:r,transformStyle:r,transformOriginZ:r,animation:r,animationDelay:r,animationDirection:r,animationFillMode:r,animationDuration:r,animationIterationCount:r,animationName:r,animationPlayState:r,animationTimingFunction:r,backdropFilter:r,fontKerning:r,scrollSnapType:u,scrollSnapPointsX:u,scrollSnapPointsY:u,scrollSnapDestination:u,scrollSnapCoordinate:u,shapeImageThreshold:r,shapeImageMargin:r,shapeImageOutside:r,hyphens:s,flowInto:u,flowFrom:u,regionFragment:u,textAlignLast:a,tabSize:a,wrapFlow:i,wrapThrough:i,wrapMargin:i,gridTemplateColumns:i,gridTemplateRows:i,gridTemplateAreas:i,gridTemplate:i,gridAutoColumns:i,gridAutoRows:i,gridAutoFlow:i,grid:i,gridRowStart:i,gridColumnStart:i,gridRowEnd:i,gridRow:i,gridColumn:i,gridColumnEnd:i,gridColumnGap:i,gridRowGap:i,gridArea:i,gridGap:i,textSizeAdjust:u,borderImage:r,borderImageOutset:r,borderImageRepeat:r,borderImageSlice:r,borderImageSource:r,borderImageWidth:r,transitionDelay:r,transitionDuration:r,transitionProperty:r,transitionTimingFunction:r}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t))for(var r=e[t],a=0,o=r.length;a<o;++a)n[r[a]+(0,i.default)(t)]=n[t]};var r,a=n(556),i=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,a){for(var i=0,o=e.length;i<o;++i){var u=e[i](t,n,r,a);if(u)return u}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&a.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],a={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,i.default)(t)&&t.indexOf("cross-fade(")>-1)return o.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,a=n(285),i=(r=a)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,i.default)(t)&&t.indexOf("filter(")>-1)return o.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,a=n(285),i=(r=a)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]};var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal");a.hasOwnProperty(e)&&(n[a[e]]=r[t]||t)};var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},a={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,i.default)(t)&&u.test(t))return o.map((function(e){return e+t}))};var r,a=n(285),i=(r=a)&&r.__esModule?r:{default:r};var o=["-webkit-","-moz-",""],u=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,i.default)(t)&&t.indexOf("image-set(")>-1)return o.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,a=n(285),i=(r=a)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(a.hasOwnProperty(e)&&i.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],a={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){if("string"===typeof t&&u.hasOwnProperty(e)){var c=function(e,t){if((0,a.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),i=0,o=n.length;i<o;++i){var u=n[i],c=[u];for(var l in t){var f=(0,r.default)(l);if(u.indexOf(f)>-1&&"order"!==f)for(var d=t[l],h=0,p=d.length;h<p;++h)c.unshift(u.replace(f,s[d[h]]+f))}n[i]=c.join(",")}return n.join(",")}(t,o),l=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return l;var f=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?f:(n["Webkit"+(0,i.default)(e)]=l,n["Moz"+(0,i.default)(e)]=f,c)}};var r=o(n(898)),a=o(n(285)),i=o(n(556));function o(e){return e&&e.__esModule?e:{default:e}}var u={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},s={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)};var r,a=n(899),i=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,a=/^ms-/,i={};function o(e){return"-"+e.toLowerCase()}t.default=function(e){if(i.hasOwnProperty(e))return i[e];var t=e.replace(r,o);return i[e]=a.test(t)?"-"+t:t}},function(e,t,n){"use strict";function r(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)+(e.charCodeAt(t++)<<16)+(e.charCodeAt(t)<<24)}function a(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)}function i(e,t){return(65535&(e|=0))*(t|=0)+(((e>>>16)*t&65535)<<16)|0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=1540483477,o=t^e.length,u=e.length,s=0;for(;u>=4;){var c=r(e,s);c=i(c,n),c=i(c^=c>>>24,n),o=i(o,n),o^=c,s+=4,u-=4}switch(u){case 3:o^=a(e,s),o=i(o^=e.charCodeAt(s+2)<<16,n);break;case 2:o=i(o^=a(e,s),n);break;case 1:o=i(o^=e.charCodeAt(s),n)}return o=i(o^=o>>>13,n),(o^=o>>>15)>>>0}},function(e,t,n){"use strict";var r=n(185).default,a=n(73).default,i=n(74).default,o=n(417).default,u=n(230).default,s=n(279).default;Object.defineProperty(t,"__esModule",{value:!0});var c=n(444),l=n(284),f=n(902),d=n(903),h=function(e){u(n,e);var t=s(n);function n(e){var r;a(this,n),(r=t.call(this,e)).surfaces=new Map;var i=null==e.startOpen||e.startOpen;return r.state={isOpen:i,isFullscreen:!1,activeTab:null,tabs:new Set},r.keyHandler=r.keyHandler.bind(o(r)),r}return i(n,[{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"toggleFullScreen",value:function(){this.setState({isFullscreen:!this.state.isFullscreen})}},{key:"isOpen",value:function(){return this.state.isOpen}},{key:"isFullscreen",value:function(){return this.state.isFullscreen}},{key:"getSurface",value:function(e,t){var n,r=this.surfaceId(e,t);if(!this.surfaces.has(r))throw Error("Surface not found with id: ".concat(r));return{container:(n=this.surfaces.get(r)).container,label:n.label,drawArea:n.drawArea}}},{key:"bindKeys",value:function(){document.addEventListener("keydown",this.keyHandler,!1)}},{key:"unbindKeys",value:function(){document.removeEventListener("keydown",this.keyHandler)}},{key:"surfaceId",value:function(e,t){return e+t}},{key:"setTabs",value:function(e){var t,n,a=e.map((function(e){return e.tab})),i=this.state.tabs,o=r(a);try{for(o.s();!(n=o.n()).done;){var u=n.value;i.has(u)||(i.add(u),t=u)}}catch(s){o.e(s)}finally{o.f()}null!=t&&this.setState({tabs:i,activeTab:t})}},{key:"getTabs",value:function(){return this.state.tabs}},{key:"registerSurface",value:function(e,t,n){var r=this.surfaceId(e,t);this.surfaces.set(r,n)}},{key:"keyHandler",value:function(e){192===e.keyCode&&(e.shiftKey?this.toggleFullScreen():this.toggle())}},{key:"setActiveTab",value:function(e){this.setState({activeTab:e})}},{key:"componentDidMount",value:function(){this.bindKeys()}},{key:"componentWillMount",value:function(){this.setTabs(this.props.surfaceList)}},{key:"componentWillReceiveProps",value:function(e){this.setTabs(e.surfaceList)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isOpen,r=t.isFullscreen,a=t.activeTab,i=this.props.surfaceList,o=Array.from(this.getTabs().values()),u=r?"90vw":"550px",s=l.css({width:u,height:"100%",backgroundColor:"#fafafa",boxSizing:"border-box",padding:"10px",position:"fixed",top:"0px",transition:"right 0.5s cubic-bezier(0.645, 0.045, 0.355, 1), width 0.5s cubic-bezier(0.645, 0.045, 0.355, 1)",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.12), 0 2px 5px rgba(0, 0, 0, 0.24)",overflow:"auto",fontFamily:"sans-serif",fontSize:"14px",zIndex:1e3}),h=l.css({right:"0"}),v=l.css({right:"calc(-".concat(u," - 10px)")}),m=n?h:v,g=l.css({});return c.h("div",{className:"".concat(s," ").concat(m," visor"),"data-isopen":n,"data-isfullscreen":r},c.h(p,{fullScreenHandler:this.toggleFullScreen.bind(this),closeHandler:this.close.bind(this),isFullScreen:r}),c.h(d.Tabs,{tabNames:o,activeTab:a,handleClick:this.setActiveTab.bind(this)}),c.h("div",{className:"".concat(g," visor-surfaces")},i.map((function(t){return c.h(f.SurfaceComponent,{key:t.name+t.tab,name:t.name,tab:t.tab,styles:t.styles,registerSurface:e.registerSurface.bind(e),visible:a===t.tab})}))))}}],[{key:"render",value:function(e,t,r){return c.render(c.h(n,Object.assign({},r)),e,t)}}]),n}(c.Component);function p(e){var t=e.isFullScreen,n=e.fullScreenHandler,r=e.closeHandler,a=l.css({display:"flex",backgroundColor:"white",border:"1px solid white",padding:"6px",paddingTop:"10px",marginBottom:"10px",borderRadius:"6px",marginTop:"-16px"}),i=l.css({fontSize:".875rem",borderRadius:".25rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:".5rem",paddingBottom:".5rem",textDecoration:"none",transition:"color .15s ease-in",color:"#111"}),o=l.css({marginLeft:"auto"});return c.h("div",{className:"".concat(a," visor-controls")},c.h("button",{className:"".concat(i),onClick:n},t?"Minimize":"Maximize"),c.h("button",{className:"".concat(i," ").concat(o),onClick:r},"Hide"))}t.VisorComponent=h},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=n(230).default,o=n(279).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(444),s=n(284),c=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,n=e.tab;this.props.registerSurface(t,n,this)}},{key:"componentDidUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this,t=this.props,r=t.name,a=t.visible,i=t.styles,o=Object.assign({},n.defaultStyles,i),c=o.width,l=o.height,f=o.maxHeight,d=o.maxWidth;f=l===n.defaultStyles.height?f:l,d=c===n.defaultStyles.width?d:c;var h=s.css({display:a?"block":"none",backgroundColor:"white",marginTop:"10px",marginBottom:"10px",boxShadow:"0 0 6px -3px #777",padding:"10px !important",height:l,width:c,maxHeight:f,maxWidth:d,overflow:"auto"}),p=s.css({backgroundColor:"white",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",marginBottom:"20px",fontWeight:"600",textAlign:"center"}),v=s.css({boxSizing:"border-box"});return u.h("div",{className:"".concat(h," tf-surface"),ref:function(t){return e.container=t},"data-visible":a},u.h("div",{className:"".concat(p," tf-label"),ref:function(t){return e.label=t}},r),u.h("div",{className:"".concat(v," tf-draw-area"),ref:function(t){return e.drawArea=t}}))}}]),n}(u.Component);c.defaultStyles={maxWidth:"550px",maxHeight:"580px",height:"auto",width:"auto"},t.SurfaceComponent=c},function(e,t,n){"use strict";var r=n(73).default,a=n(74).default,i=n(230).default,o=n(279).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(444),s=n(284),c=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){var e=this.props,t=e.tabNames,n=e.activeTab,r=e.handleClick,a=t.length>0?t.map((function(e){return u.h(l,{key:e,id:e,handleClick:r,isActive:e===n},e)})):null,i=s.css({overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"#eee",paddingBottom:"1rem",marginTop:"1rem"});return u.h("div",{className:"".concat(i," visor-tabs")},a)}}]),n}(u.Component);t.Tabs=c;var l=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isActive,r=e.handleClick,a=e.id,i=s.css({borderBottomColor:n?"#357EDD":"#AAAAAA",borderBottomWidth:"1px",borderBottomStyle:"solid",cursor:"pointer",":hover":{color:"#357EDD"},display:"inline-block",marginRight:"1rem",padding:".5rem",fontSize:"1rem",fontWeight:"bold"});return u.h("a",{className:"".concat(i," tf-tab"),"data-isactive":n,onClick:function(){return r(a)}},t)}}]),n}(u.Component)},function(e,t,n){"use strict";var r=n(7),a=n(185).default,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(237)),s=n(186),c=n(150);t.confusionMatrix=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,void 0,void 0,r.mark((function i(){var o,f,d,h,p,v,m,g,b,y,x,w,O,k,j,_,S,E;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(o=Object.assign({},l,n),f=c.getDrawArea(e),d=[],h=t.values,p=t.tickLabels||[],v=0===p.length,m=!0,g=0;g<h.length;g++)for(b=v?"Class ".concat(g):p[g],v&&p.push(b),y=0;y<h[g].length;y++)x=v?"Class ".concat(y):p[y],w=h[g][y],g!==y||o.shadeDiagonal?(d.push({label:b,prediction:x,count:w,scaleCount:w}),0!==w&&(m=!1)):d.push({label:b,prediction:x,count:w,noFill:!0});if(!o.shadeDiagonal&&m){O=a(d);try{for(O.s();!(k=O.n()).done;)!0===(j=k.value).noFill&&(j.noFill=!1,j.scaleCount=j.count)}catch(i){O.e(i)}finally{O.f()}}return _={actions:!1,mode:"vega-lite",defaultStyle:!1},S={width:o.width||s.getDefaultWidth(f),height:o.height||s.getDefaultHeight(f),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:o.fontSize,titleFontSize:o.fontSize},text:{fontSize:o.fontSize},legend:{labelFontSize:o.fontSize,titleFontSize:o.fontSize}},data:{values:d},encoding:{x:{field:"prediction",type:"ordinal",title:o.xLabel||"prediction",scale:{domain:p}},y:{field:"label",type:"ordinal",title:o.yLabel||"label",scale:{domain:p}}},layer:[{transform:[{filter:"datum.noFill != true"}],mark:{type:"rect"},encoding:{color:{field:"scaleCount",type:"quantitative",scale:{range:o.colorMap}},tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}]},!1===o.shadeDiagonal&&S.layer.push({transform:[{filter:"datum.noFill == true"}],mark:{type:"rect",fill:"white"},encoding:{tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}),o.showTextOverlay&&S.layer.push({mark:{type:"text",baseline:"middle"},encoding:{text:{field:"count",type:"nominal"}}}),E="string"===typeof o.colorMap?{scheme:o.colorMap}:o.colorMap,S.layer[0].encoding.color.scale.range=E,r.next=17,u.default(f,S,_);case 17:case"end":return r.stop()}}),i)})))};var l={xLabel:null,yLabel:null,xType:"nominal",yType:"nominal",shadeDiagonal:!0,fontSize:12,showTextOverlay:!0,height:400,colorMap:["#f7fbff","#4292c6"]}},function(e,t,n){"use strict";var r=n(7),a=n(443).default,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),c=u(n(237)),l=n(186),f=n(325),d=n(150);function h(e){return i(this,void 0,void 0,r.mark((function t(){var n,a,i,o;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e instanceof s.Tensor?(n=e.shape,a=e.transpose()):(n=[e.length,e[0].length],a=s.tidy((function(){return s.tensor2d(e).transpose()}))),f.assert(2===a.rank,"Input to renderHeatmap must be a 2d array or Tensor2d"),t.next=4,a.array();case 4:return i=t.sent,a.dispose(),o=[i.length,i[0].length],f.assert(n[0]===o[1]&&n[1]===o[0],"Unexpected transposed shape. Original ".concat(n," : Transposed ").concat(o)),t.abrupt("return",i);case 9:case"end":return t.stop()}}),t)})))}function p(e,t,n){var r=e instanceof s.Tensor?e.shape:[e.length,e[0].length];0===n?f.assert(r[0]===t.length,"Length of xTickLabels (".concat(t.length,") must match number of rows")+" (".concat(r[0],")")):1===n&&f.assert(r[1]===t.length,"Length of yTickLabels (".concat(t.length,") must match number of columns (").concat(r[1],")"))}t.heatmap=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,void 0,void 0,r.mark((function i(){var o,u,m,g,b,y,x,w,O,k,j,_,S,E,A,C,N,T,D,I,M,F,R,P,z,B,L,U;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=Object.assign({},v,n),u=d.getDrawArea(e),m=t.values,!o.rowMajor){r.next=7;break}return r.next=6,h(t.values);case 6:m=r.sent;case 7:if(g=t.xTickLabels,b=t.yTickLabels,null!=g&&(0,p(m,g,0)),null!=b&&(1,p(m,b,1)),y="@tfidx@",x=[],!(m instanceof s.Tensor)){r.next=21;break}return f.assert(2===m.rank,"Input to renderHeatmap must be a 2d array or Tensor2d"),r.next=16,m.data();case 16:for(w=r.sent,O=a(m.shape,2),k=O[0],j=O[1],_=0;_<k;_++)for(S=g?"".concat(g[_]).concat(y).concat(_):_,E=0;E<j;E++)A=b?"".concat(b[E]).concat(y).concat(E):E,C=w[_*j+E],x.push({x:S,y:A,value:C});r.next=23;break;case 21:for(N=m,T=0;T<N.length;T++)for(D=g?"".concat(g[T]).concat(y).concat(T):T,I=0;I<N[T].length;I++)M=b?"".concat(b[I]).concat(y).concat(I):I,F=N[T][I],x.push({x:D,y:M,value:F});case 23:R={actions:!1,mode:"vega-lite",defaultStyle:!1},P={width:o.width||l.getDefaultWidth(u),height:o.height||l.getDefaultHeight(u),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:o.fontSize,titleFontSize:o.fontSize},text:{fontSize:o.fontSize},legend:{labelFontSize:o.fontSize,titleFontSize:o.fontSize},scale:{bandPaddingInner:0,bandPaddingOuter:0}},data:{values:x},mark:{type:"rect",tooltip:!0},encoding:{x:{field:"x",type:o.xType,title:o.xLabel,sort:!1},y:{field:"y",type:o.yType,title:o.yLabel,sort:!1},fill:{field:"value",type:"quantitative"}}},z="".concat(y,"\\d+$"),B=new RegExp(z),g&&(P.encoding.x.axis={labelExpr:"replace(datum.value, regexp(/".concat(z,"/), '')")}),b&&(P.encoding.y.axis={labelExpr:"replace(datum.value, regexp(/".concat(z,"/), '')")}),(g||b)&&(R.tooltip={sanitize:function(e){return String(e).replace(B,"")}}),r.t0=o.colorMap,r.next="blues"===r.t0?33:"greyscale"===r.t0?35:(r.t0,37);break;case 33:return L=["#f7fbff","#4292c6"],r.abrupt("break",39);case 35:return L=["#000000","#ffffff"],r.abrupt("break",39);case 37:return L="viridis",r.abrupt("break",39);case 39:return"viridis"!==L&&(P.encoding.fill.scale={range:L}),o.domain&&(null!=(U=P.encoding.fill).scale?U.scale=Object.assign({},U.scale,{domain:o.domain}):U.scale={domain:o.domain}),r.next=43,c.default(u,P,R);case 43:case"end":return r.stop()}}),i)})))};var v={xLabel:null,yLabel:null,xType:"ordinal",yType:"ordinal",colorMap:"viridis",fontSize:12,domain:null,rowMajor:!1}},function(e,t,n){"use strict";var r=n(7),a=n(310).default,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(237)),s=n(186),c=n(325),l=n(150);t.scatterplot=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,void 0,void 0,r.mark((function i(){var o,d,h,p,v,m,g,b,y;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.values,d=null==t.series?[]:t.series,o=Array.isArray(o[0])?o:[o],h=[],o.forEach((function(e,t){var n=null!=d[t]?d[t]:"Series ".concat(t+1),r=e.map((function(e){return Object.assign({},e,{series:n})}));h.push.apply(h,a(r))})),null!=n.seriesColors&&c.assert(n.seriesColors.length===o.length,"Must have an equal number of series colors as there are data series"),p=l.getDrawArea(e),v=Object.assign({},f,n),m={actions:!1,mode:"vega-lite",defaultStyle:!1},g=function(){return v.zoomToFit?{zero:!1}:null!=v.xAxisDomain?{domain:v.xAxisDomain}:void 0},b=function(){return v.zoomToFit?{zero:!1}:null!=v.yAxisDomain?{domain:v.yAxisDomain}:void 0},y={width:v.width||s.getDefaultWidth(p),height:v.height||s.getDefaultHeight(p),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:v.fontSize,titleFontSize:v.fontSize},text:{fontSize:v.fontSize},legend:{labelFontSize:v.fontSize,titleFontSize:v.fontSize}},data:{values:h},mark:{type:"point",clip:!0,tooltip:{content:"data"}},encoding:{x:{field:"x",type:v.xType,title:v.xLabel,scale:g()},y:{field:"y",type:v.yType,title:v.yLabel,scale:b()},color:{field:"series",type:"nominal",scale:{range:v.seriesColors}},shape:{field:"series",type:"nominal"}}},r.next=14,u.default(p,y,m);case 14:return r.abrupt("return",Promise.resolve());case 15:case"end":return r.stop()}}),i)})))};var f={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11}},function(e,t,n){"use strict";var r=n(308).default,a=n(7),i=n(185).default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(559),s=n(150),c=n(186);function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o(this,void 0,void 0,a.mark((function o(){var l,h,p,v,m,g,b,y,x,w,O,k,j,_,S,E,A,C;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l=s.getDrawArea(e),h={},p=i(n);try{for(p.s();!(v=p.n()).done;)m=v.value,/val_/.test(m)?(b=m.replace("val_",""),f(h,b),y=d(t,m,n.indexOf(m)),h[b].series.push(m),h[b].values.push(y)):(g=d(t,m,n.indexOf(m)),f(h,m),h[m].series.push(m),h[m].values.push(g))}catch(o){p.e(o)}finally{p.f()}for(x=Object.keys(h),w=Object.assign({},{xLabel:"Iteration",yLabel:"Value"},r),O=[],k=0,j=x;k<j.length;k++)_=j[k],S=c.subSurface(l,_),E=h[_].series,A=h[_].values,E.every((function(e){return Boolean(e.match("acc"))}))&&(w.zoomToFitAccuracy?w.zoomToFit=!0:(w.yAxisDomain=[0,1],delete w.zoomToFit)),C=u.linechart(S,{values:A,series:E},w),O.push(C);return a.next=10,Promise.all(O);case 10:case"end":return a.stop()}}),o)})))}function f(e,t){null==e[t]&&(e[t]={series:[],values:[]})}function d(e,t,n){if(Array.isArray(e)){for(var r=Array.isArray(e[0])?e[n]:e,a=[],i=0;i<r.length;i++){var o=r[i];a.push({x:i,y:o[t]})}return a}return e.history[t].map((function(e,t){return{x:t,y:e}}))}function h(e,t,n){return null==e[t]&&(e[t]={}),null==e[t][n]&&(e[t][n]=[]),e[t][n]}t.history=l,t.fitCallbacks=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u={},f=n.callbacks||["onEpochEnd","onBatchEnd"],d=s.getDrawArea(e),p=Object.assign({},n);function v(e){var n=this;return function(f,v){return o(n,void 0,void 0,a.mark((function n(){var o,f,m,g,b,y;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:/batch/i.test(e)?p.xLabel="Batch":/epoch/i.test(e)&&(p.xLabel="Epoch"),o=[],f=[],m=i(t);try{for(m.s();!(g=m.n()).done;)b=g.value,null!=v[b]&&(f.push(b),(y=h(u,e,b)).push(r({},b,v[b])),o.push(y))}catch(a){m.e(a)}finally{m.f()}return l(c.subSurface(d,e,{title:e}),o,f,p),n.next=9,s.nextFrame();case 9:case"end":return n.stop()}}),n)})))}}delete p.callbacks;var m={};return f.forEach((function(e){m[e]=v(e)})),m}},function(e,t,n){"use strict";var r=n(7),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(445),o=n(150),u=n(327),s=n(186),c=n(326);function l(e){return{layers:e.layers.map(f)}}function f(e){var t;if(Array.isArray(e.outputShape[0])){var n=e.outputShape.map((function(e){return h(e)}));t="[".concat(n.join(", "),"]")}else t=h(e.outputShape);return{name:e.name,trainable:e.trainable,parameters:e.countParams(),outputShape:t}}function d(e){return a(this,void 0,void 0,r.mark((function t(){var n,a,i,o,u;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getWeights(),a=e.weights,i=n.map(c.tensorStats),t.next=5,Promise.all(i);case 5:return o=t.sent,u=n.map((function(e){return e.shape})),t.abrupt("return",n.map((function(e,t){return{name:a[t].name,stats:o[t],shape:h(u[t]),weight:e}})));case 8:case"end":return t.stop()}}),t)})))}function h(e){var t=e.slice();return 0===t.length?"Scalar":(null===t[0]&&(t[0]="batch"),"[".concat(t.join(","),"]"))}function p(e,t,n){var r="\n    <select>\n      ".concat(e.map((function(e){return"<option value=".concat(e,">").concat(e,"</option>")})),"\n    </select>\n  "),a="<div>".concat("<button>Show Values Distribution for:</button>").concat(r,"</div>");t.innerHTML=a;var i=t.querySelector("button"),o=t.querySelector("select");i.addEventListener("click",(function(){n(o.selectedOptions[0].label)}))}t.modelSummary=function(e,t){return a(this,void 0,void 0,r.mark((function n(){var a,i,s,c;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=o.getDrawArea(e),i=l(t),s=["Layer Name","Output Shape","# Of Params","Trainable"],c=i.layers.map((function(e){return[e.name,e.outputShape,e.parameters,e.trainable]})),u.table(a,{headers:s,values:c});case 5:case"end":return n.stop()}}),n)})))},t.layer=function(e,t){return a(this,void 0,void 0,r.mark((function n(){var c,l,f,h,v,m,g,b,y=this;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o.getDrawArea(e),n.next=3,d(t);case 3:l=n.sent,f=["Weight Name","Shape","Min","Max","# Params","# Zeros","# NaNs","# Infinity"],h=s.subSurface(c,"layer-weights-info"),v=l.map((function(e){return[e.name,e.shape,e.stats.min,e.stats.max,e.weight.size,e.stats.numZeros,e.stats.numNans,e.stats.numInfs]})),u.table(h,{headers:f,values:v}),m=s.subSurface(c,"select-layer"),g=s.subSurface(c,"param-distribution"),b=function(e){return a(y,void 0,void 0,r.mark((function t(){var n,a;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.filter((function(t){return t.name===e}))[0],t.next=3,n.weight.data();case 3:a=t.sent,i.histogram(g,a,{height:150,width:460,stats:!1});case 5:case"end":return t.stop()}}),t)})))},p(l.map((function(e){return e.name})),m,b);case 12:case"end":return n.stop()}}),n)})))}},function(e,t,n){"use strict";var r=n(7),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(150),o=n(327);t.perClassAccuracy=function(e,t,n){return a(this,void 0,void 0,r.mark((function a(){var u,s,c,l,f,d;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(u=i.getDrawArea(e),s=["Class","Accuracy","# Samples"],c=[],l=0;l<t.length;l++)f=n?n[l]:l.toString(),d=t[l],c.push([f,d.accuracy,d.count]);return r.abrupt("return",o.table(u,{headers:s,values:c}));case 5:case"end":return r.stop()}}),a)})))}},function(e,t,n){"use strict";var r=n(7),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(445),o=n(150),u=n(326);t.valuesDistribution=function(e,t){return a(this,void 0,void 0,r.mark((function n(){var a,s,c;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=o.getDrawArea(e),n.next=3,u.tensorStats(t);case 3:return s=n.sent,n.next=6,t.data();case 6:c=n.sent,i.histogram(a,c,{height:150,stats:s});case 8:case"end":return n.stop()}}),n)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.version="1.5.1"},,function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return be})),n.d(t,"creator",(function(){return s})),n.d(t,"local",(function(){return xe})),n.d(t,"matcher",(function(){return m})),n.d(t,"mouse",(function(){return je})),n.d(t,"namespace",(function(){return i})),n.d(t,"namespaces",(function(){return a})),n.d(t,"clientPoint",(function(){return ke})),n.d(t,"select",(function(){return ge})),n.d(t,"selectAll",(function(){return _e})),n.d(t,"selection",(function(){return me})),n.d(t,"selector",(function(){return l})),n.d(t,"selectorAll",(function(){return d})),n.d(t,"style",(function(){return D})),n.d(t,"touch",(function(){return Se})),n.d(t,"touches",(function(){return Ee})),n.d(t,"window",(function(){return A})),n.d(t,"event",(function(){return re})),n.d(t,"customEvent",(function(){return ce}));var r="http://www.w3.org/1999/xhtml",a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},i=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),a.hasOwnProperty(t)?{space:a[t],local:e}:e};function o(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===r&&t.documentElement.namespaceURI===r?t.createElement(e):t.createElementNS(n,e)}}function u(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var s=function(e){var t=i(e);return(t.local?u:o)(t)};function c(){}var l=function(e){return null==e?c:function(){return this.querySelector(e)}};function f(){return[]}var d=function(e){return null==e?f:function(){return this.querySelectorAll(e)}},h=function(e){return function(){return this.matches(e)}};if("undefined"!==typeof document){var p=document.documentElement;if(!p.matches){var v=p.webkitMatchesSelector||p.msMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector;h=function(e){return function(){return v.call(this,e)}}}}var m=h,g=function(e){return new Array(e.length)};function b(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}b.prototype={constructor:b,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function y(e,t,n,r,a,i){for(var o,u=0,s=t.length,c=i.length;u<c;++u)(o=t[u])?(o.__data__=i[u],r[u]=o):n[u]=new b(e,i[u]);for(;u<s;++u)(o=t[u])&&(a[u]=o)}function x(e,t,n,r,a,i,o){var u,s,c,l={},f=t.length,d=i.length,h=new Array(f);for(u=0;u<f;++u)(s=t[u])&&(h[u]=c="$"+o.call(s,s.__data__,u,t),c in l?a[u]=s:l[c]=s);for(u=0;u<d;++u)(s=l[c="$"+o.call(e,i[u],u,i)])?(r[u]=s,s.__data__=i[u],l[c]=null):n[u]=new b(e,i[u]);for(u=0;u<f;++u)(s=t[u])&&l[h[u]]===s&&(a[u]=s)}function w(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function O(e){return function(){this.removeAttribute(e)}}function k(e){return function(){this.removeAttributeNS(e.space,e.local)}}function j(e,t){return function(){this.setAttribute(e,t)}}function _(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function S(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function E(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var A=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function C(e){return function(){this.style.removeProperty(e)}}function N(e,t,n){return function(){this.style.setProperty(e,t,n)}}function T(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function D(e,t){return e.style.getPropertyValue(t)||A(e).getComputedStyle(e,null).getPropertyValue(t)}function I(e){return function(){delete this[e]}}function M(e,t){return function(){this[e]=t}}function F(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function R(e){return e.trim().split(/^|\s+/)}function P(e){return e.classList||new z(e)}function z(e){this._node=e,this._names=R(e.getAttribute("class")||"")}function B(e,t){for(var n=P(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function L(e,t){for(var n=P(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function U(e){return function(){B(this,e)}}function W(e){return function(){L(this,e)}}function V(e,t){return function(){(t.apply(this,arguments)?B:L)(this,e)}}z.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function H(){this.textContent=""}function G(e){return function(){this.textContent=e}}function q(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function X(){this.innerHTML=""}function Y(e){return function(){this.innerHTML=e}}function K(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function $(){this.nextSibling&&this.parentNode.appendChild(this)}function Z(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function J(){return null}function Q(){var e=this.parentNode;e&&e.removeChild(this)}function ee(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function te(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var ne={},re=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(ne={mouseenter:"mouseover",mouseleave:"mouseout"}));function ae(e,t,n){return e=ie(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function ie(e,t,n){return function(r){var a=re;re=r;try{e.call(this,this.__data__,t,n)}finally{re=a}}}function oe(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function ue(e){return function(){var t=this.__on;if(t){for(var n,r=0,a=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++a]=n:this.removeEventListener(n.type,n.listener,n.capture);++a?t.length=a:delete this.__on}}}function se(e,t,n){var r=ne.hasOwnProperty(e.type)?ae:ie;return function(a,i,o){var u,s=this.__on,c=r(t,i,o);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===e.type&&u.name===e.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=n),void(u.value=t);this.addEventListener(e.type,c,n),u={type:e.type,name:e.name,value:t,listener:c,capture:n},s?s.push(u):this.__on=[u]}}function ce(e,t,n,r){var a=re;e.sourceEvent=re,re=e;try{return t.apply(n,r)}finally{re=a}}function le(e,t,n){var r=A(e),a=r.CustomEvent;"function"===typeof a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function fe(e,t){return function(){return le(this,e,t)}}function de(e,t){return function(){return le(this,e,t.apply(this,arguments))}}var he=[null];function pe(e,t){this._groups=e,this._parents=t}function ve(){return new pe([[document.documentElement]],he)}pe.prototype=ve.prototype={constructor:pe,select:function(e){"function"!==typeof e&&(e=l(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,o,u=t[a],s=u.length,c=r[a]=new Array(s),f=0;f<s;++f)(i=u[f])&&(o=e.call(i,i.__data__,f,u))&&("__data__"in i&&(o.__data__=i.__data__),c[f]=o);return new pe(r,this._parents)},selectAll:function(e){"function"!==typeof e&&(e=d(e));for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o,u=t[i],s=u.length,c=0;c<s;++c)(o=u[c])&&(r.push(e.call(o,o.__data__,c,u)),a.push(o));return new pe(r,a)},filter:function(e){"function"!==typeof e&&(e=m(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,o=t[a],u=o.length,s=r[a]=[],c=0;c<u;++c)(i=o[c])&&e.call(i,i.__data__,c,o)&&s.push(i);return new pe(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),l=-1,this.each((function(e){p[++l]=e})),p;var n,r=t?x:y,a=this._parents,i=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var o=i.length,u=new Array(o),s=new Array(o),c=new Array(o),l=0;l<o;++l){var f=a[l],d=i[l],h=d.length,p=e.call(f,f&&f.__data__,l,a),v=p.length,m=s[l]=new Array(v),g=u[l]=new Array(v);r(f,d,m,g,c[l]=new Array(h),p,t);for(var b,w,O=0,k=0;O<v;++O)if(b=m[O]){for(O>=k&&(k=O+1);!(w=g[k])&&++k<v;);b._next=w||null}}return(u=new pe(u,a))._enter=s,u._exit=c,u},enter:function(){return new pe(this._enter||this._groups.map(g),this._parents)},exit:function(){return new pe(this._exit||this._groups.map(g),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),u=0;u<i;++u)for(var s,c=t[u],l=n[u],f=c.length,d=o[u]=new Array(f),h=0;h<f;++h)(s=c[h]||l[h])&&(d[h]=s);for(;u<r;++u)o[u]=t[u];return new pe(o,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,a=e[t],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=w);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o,u=n[i],s=u.length,c=a[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(c[l]=o);c.sort(t)}return new pe(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,i=t[n],o=0,u=i.length;o<u;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this},attr:function(e,t){var n=i(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?k:O:"function"===typeof t?n.local?E:S:n.local?_:j)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?C:"function"===typeof t?T:N)(e,t,null==n?"":n)):D(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?I:"function"===typeof t?F:M)(e,t)):this.node()[e]},classed:function(e,t){var n=R(e+"");if(arguments.length<2){for(var r=P(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"===typeof t?V:t?U:W)(n,t))},text:function(e){return arguments.length?this.each(null==e?H:("function"===typeof e?q:G)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?X:("function"===typeof e?K:Y)(e)):this.node().innerHTML},raise:function(){return this.each($)},lower:function(){return this.each(Z)},append:function(e){var t="function"===typeof e?e:s(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:s(e),r=null==t?J:"function"===typeof t?t:l(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Q)},clone:function(e){return this.select(e?te:ee)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,a,i=oe(e+""),o=i.length;if(!(arguments.length<2)){for(u=t?se:ue,null==n&&(n=!1),r=0;r<o;++r)this.each(u(i[r],t,n));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<o;++r)if((a=i[r]).type===s.type&&a.name===s.name)return s.value},dispatch:function(e,t){return this.each(("function"===typeof t?de:fe)(e,t))}};var me=ve,ge=function(e){return"string"===typeof e?new pe([[document.querySelector(e)]],[document.documentElement]):new pe([[e]],he)},be=function(e){return ge(s(e).call(document.documentElement))},ye=0;function xe(){return new we}function we(){this._="@"+(++ye).toString(36)}we.prototype=xe.prototype={constructor:we,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var Oe=function(){for(var e,t=re;e=t.sourceEvent;)t=e;return t},ke=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]},je=function(e){var t=Oe();return t.changedTouches&&(t=t.changedTouches[0]),ke(e,t)},_e=function(e){return"string"===typeof e?new pe([document.querySelectorAll(e)],[document.documentElement]):new pe([null==e?[]:e],he)},Se=function(e,t,n){arguments.length<3&&(n=t,t=Oe().changedTouches);for(var r,a=0,i=t?t.length:0;a<i;++a)if((r=t[a]).identifier===n)return ke(e,r);return null},Ee=function(e,t){null==t&&(t=Oe().touches);for(var n=0,r=t?t.length:0,a=new Array(r);n<r;++n)a[n]=ke(e,t[n]);return a}},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return f}));var r=n(401);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Object(r.a)(9,e));var a,o=e.substring(t+1,e.length-1);if("color"===n){if(a=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a))throw new Error(Object(r.a)(10,a))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:a}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=i(e)).type?i(function(e){var t=(e=i(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,u=r*Math.min(a,1-a),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=i(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=i(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=i(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),a=n(378);function i(){return r.useContext(a.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11);function a(e,t){var n=Object(r.a)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,a=n(1),i=!0,o=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function c(){i=!1}function l(){"hidden"===this.visibilityState&&o&&(i=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function d(){var e=a.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))}),[]),t=a.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),a=n(300);function i(e){var t=r.useRef(e);return Object(a.a)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(457);function a(e){return Object(r.a)(e).defaultView||window}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=n(1),i=0;function o(e){var t=a.useState(e),n=Object(r.a)(t,2),o=n[0],u=n[1],s=e||o;return a.useEffect((function(){null==o&&u("mui-".concat(i+=1))}),[o]),s}},function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var u=function(){e.apply(r,i)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),a=n(1);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,a.useRef(void 0!==t).current),o=a.useState(n),u=Object(r.a)(o,2),s=u[0],c=u[1];return[i?t:s,a.useCallback((function(e){i||c(e)}),[])]}},function(e,t,n){"use strict";var r=n(11),a=(n(1),n(924)),i=n(201),o=n(2);t.a=function(e){return Object(o.jsx)(a.a,Object(r.a)({},e,{defaultTheme:i.a}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(1);var r=n(187),a=n(2);function i(e){var t=e.styles,n=e.defaultTheme,i=void 0===n?{}:n,o="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?i:e);var n}:t;return Object(a.jsx)(r.a,{styles:o})}},function(e,t,n){"use strict";var r=n(171);t.a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(t)/3)))-Object(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(171);t.a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Object(r.a)(t)-Object(r.a)(e))+1}},function(e,t,n){"use strict";var r=n(171);t.a=function(e){return Math.max(0,-Object(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r={},a={};function i(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function o(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function u(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function s(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),a=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+u(-t,6):t>9999?"+"+u(t,6):u(t,4))+"-"+u(e.getUTCMonth()+1,2)+"-"+u(e.getUTCDate(),2)+(i?"T"+u(n,2)+":"+u(r,2)+":"+u(a,2)+"."+u(i,3)+"Z":a?"T"+u(n,2)+":"+u(r,2)+":"+u(a,2)+"Z":r||n?"T"+u(n,2)+":"+u(r,2)+"Z":"")}t.a=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function u(e,t){var i,o=[],u=e.length,s=0,c=0,l=u<=0,f=!1;function d(){if(l)return a;if(f)return f=!1,r;var t,i,o=s;if(34===e.charCodeAt(o)){for(;s++<u&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(t=s)>=u?l=!0:10===(i=e.charCodeAt(s++))?f=!0:13===i&&(f=!0,10===e.charCodeAt(s)&&++s),e.slice(o+1,t-1).replace(/""/g,'"')}for(;s<u;){if(10===(i=e.charCodeAt(t=s++)))f=!0;else if(13===i)f=!0,10===e.charCodeAt(s)&&++s;else if(i!==n)continue;return e.slice(o,t)}return l=!0,e.slice(o,u)}for(10===e.charCodeAt(u-1)&&--u,13===e.charCodeAt(u-1)&&--u;(i=d())!==a;){for(var h=[];i!==r&&i!==a;)h.push(i),i=d();t&&null==(h=t(h,c++))||o.push(h)}return o}function c(t,n){return t.map((function(t){return n.map((function(e){return f(t[e])})).join(e)}))}function l(t){return t.map(f).join(e)}function f(e){return null==e?"":e instanceof Date?s(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,a=u(e,(function(e,a){if(n)return n(e,a-1);r=e,n=t?function(e,t){var n=i(e);return function(r,a){return t(n(r),a,e)}}(e,t):i(e)}));return a.columns=r||[],a},parseRows:u,format:function(t,n){return null==n&&(n=o(t)),[n.map(f).join(e)].concat(c(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=o(e)),c(e,t).join("\n")},formatRows:function(e){return e.map(l).join("\n")},formatRow:l,formatValue:f}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Re}));var r=n(59),a="dnd-core/INIT_COORDS",i="dnd-core/BEGIN_DRAG",o="dnd-core/PUBLISH_DRAG_SOURCE",u="dnd-core/HOVER",s="dnd-core/DROP",c="dnd-core/END_DRAG";function l(e,t){return{type:a,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function h(e,t){return e.filter((function(e){return e!==t}))}function p(e){return"object"===f(e)}function v(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var a=[];return n.forEach((function(e,t){1===e&&a.push(t)})),a}var m={type:a,payload:{clientOffset:null,sourceClientOffset:null}};function g(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,a=void 0===r||r,o=n.clientOffset,u=n.getSourceClientOffset,s=e.getMonitor(),c=e.getRegistry();e.dispatch(l(o)),b(t,s,c);var f=w(t,s);if(null!==f){var d=null;if(o){if(!u)throw new Error("getSourceClientOffset must be defined");y(u),d=u(f)}e.dispatch(l(o,d));var h=c.getSource(f),p=h.beginDrag(s,f);if(null!=p){x(p),c.pinSource(f);var v=c.getSourceType(f);return{type:i,payload:{itemType:v,item:p,sourceId:f,clientOffset:o||null,sourceClientOffset:d||null,isSourcePublic:!!a}}}}else e.dispatch(m)}}function b(e,t,n){Object(r.a)(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Object(r.a)(n.getSource(e),"Expected sourceIds to be registered.")}))}function y(e){Object(r.a)("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function x(e){Object(r.a)(p(e),"Item must be an object.")}function w(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function O(e){return function(){if(e.getMonitor().isDragging())return{type:o}}}function k(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function j(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;_(t);var a=t.slice(0),i=e.getMonitor(),o=e.getRegistry();S(a,i,o);var s=i.getItemType();return E(a,o,s),A(a,i,o),{type:u,payload:{targetIds:a,clientOffset:r||null}}}}function _(e){Object(r.a)(Array.isArray(e),"Expected targetIds to be an array.")}function S(e,t,n){Object(r.a)(t.isDragging(),"Cannot call hover while not dragging."),Object(r.a)(!t.didDrop(),"Cannot call hover after drop.");for(var a=0;a<e.length;a++){var i=e[a];Object(r.a)(e.lastIndexOf(i)===a,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(i);Object(r.a)(o,"Expected targetIds to be registered.")}}function E(e,t,n){for(var r=e.length-1;r>=0;r--){var a=e[r];k(t.getTargetType(a),n)||e.splice(r,1)}}function A(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();I(n);var a=F(n);a.forEach((function(a,i){var o=M(a,i,r,n),u={type:s,payload:{dropResult:N(N({},t),o)}};e.dispatch(u)}))}}function I(e){Object(r.a)(e.isDragging(),"Cannot call drop while not dragging."),Object(r.a)(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function M(e,t,n,a){var i=n.getTarget(e),o=i?i.drop(a,e):void 0;return function(e){Object(r.a)("undefined"===typeof e||p(e),"Drop result must either be an object or undefined.")}(o),"undefined"===typeof o&&(o=0===t?{}:a.getDropResult()),o}function F(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function R(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){Object(r.a)(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var a=t.getSourceId();null!=a&&(n.getSource(a,!0).endDrag(t,a),n.unpinSource());return{type:c}}}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),z(this,"store",void 0),z(this,"monitor",void 0),z(this,"backend",void 0),z(this,"isSetUp",!1),z(this,"handleRefCountChange",(function(){var e=r.store.getState().refCount>0;r.backend&&(e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))})),this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:g(e),publishDragSource:O(e),hover:j(e),drop:D(e),endDrag:R(e)}}(this);return Object.keys(n).reduce((function(r,a){var i,o=n[a];return r[a]=(i=o,function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=i.apply(e,r);"undefined"!==typeof o&&t(o)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],n&&P(t.prototype,n),r&&P(t,r),e}(),L=n(108),U=function(e,t){return e===t};function W(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case a:case i:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case u:return W(e.clientOffset,n.clientOffset)?e:G(G({},e),{},{clientOffset:n.clientOffset});case c:case s:return X;default:return e}}var K="dnd-core/ADD_SOURCE",$="dnd-core/ADD_TARGET",Z="dnd-core/REMOVE_SOURCE",J="dnd-core/REMOVE_TARGET";function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case i:return ee(ee({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case o:return ee(ee({},e),{},{isSourcePublic:!0});case u:return ee(ee({},e),{},{targetIds:n.targetIds});case J:return-1===e.targetIds.indexOf(n.targetId)?e:ee(ee({},e),{},{targetIds:h(e.targetIds,n.targetId)});case s:return ee(ee({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case c:return ee(ee({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:case $:return e+1;case Z:case J:return e-1;default:return e}}var ie=[],oe=[];function ue(e,t){return e!==ie&&(e===oe||"undefined"===typeof t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function se(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:break;case K:case $:case J:case Z:return ie;default:return oe}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,a=t.prevTargetIds,i=void 0===a?[]:a,o=v(r,i),s=o.length>0||!V(r,i);if(!s)return ie;var c=i[i.length-1],l=r[r.length-1];return c!==l&&(c&&o.push(c),l&&o.push(l)),o}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:se(e.dirtyHandlerIds,{type:t.type,payload:fe(fe({},t.payload),{},{prevTargetIds:d(e,"dragOperation.targetIds",[])})}),dragOffset:Y(e.dragOffset,t),refCount:ae(e.refCount,t),dragOperation:re(e.dragOperation,t),stateId:ce(e.stateId)}}function pe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ie.__IS_NONE__=!0,oe.__IS_ALL__=!0;var ge,be=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),me(this,"store",void 0),me(this,"registry",void 0),this.store=t,this.registry=n}var t,n,a;return t=e,n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},a=n.handlerIds;Object(r.a)("function"===typeof e,"listener must be a function."),Object(r.a)("undefined"===typeof a||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId,o=function(){var n=t.store.getState(),r=n.stateId;try{r===i||r===i+1&&!ue(n.dirtyHandlerIds,a)||e()}finally{i=r}};return this.store.subscribe(o)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;Object(r.a)("function"===typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Object(r.a)(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Object(r.a)(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&k(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Object(r.a)(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),a=this.getItemType();if(a&&!k(r,a))return!1;var i=this.getTargetIds();if(!i.length)return!1;var o=i.indexOf(e);return n?o===i.length-1:o>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return function(e){var t,n,r=e.clientOffset,a=e.initialClientOffset,i=e.initialSourceClientOffset;return r&&a&&i?pe((n=i,{x:(t=r).x+n.x,y:t.y+n.y}),a):null}(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?pe(t,n):null}(this.store.getState().dragOffset)}}],n&&ve(t.prototype,n),a&&ve(t,a),e}(),ye=0;function xe(e){return xe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function we(e,t){t&&Array.isArray(e)?e.forEach((function(e){return we(e,!1)})):Object(r.a)("string"===typeof e||"symbol"===xe(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(ge||(ge={}));var Oe=n(467),ke=[],je=[],_e=Oe.a.makeRequestCallFromTimer((function(){if(je.length)throw je.shift()}));function Se(e){var t;(t=ke.length?ke.pop():new Ee).task=e,Object(Oe.a)(t)}var Ee=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){Se.onerror?Se.onerror(e):(je.push(e),_e())}finally{this.task=null,ke[ke.length]=this}},e}();function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){u=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e){var t=(ye++).toString();switch(e){case ge.SOURCE:return"S".concat(t);case ge.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function Ie(e){switch(e[0]){case"S":return ge.SOURCE;case"T":return ge.TARGET;default:Object(r.a)(!1,"Cannot parse handler ID: ".concat(e))}}function Me(e,t){var n=e.entries(),r=!1;do{var a=n.next(),i=a.done;if(Ne(a.value,2)[1]===t)return!0;r=!!i}while(!r);return!1}var Fe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ce(this,"types",new Map),Ce(this,"dragSources",new Map),Ce(this,"dropTargets",new Map),Ce(this,"pinnedSourceId",null),Ce(this,"pinnedSource",null),Ce(this,"store",void 0),this.store=t}var t,n,a;return t=e,n=[{key:"addSource",value:function(e,t){we(e),function(e){Object(r.a)("function"===typeof e.canDrag,"Expected canDrag to be a function."),Object(r.a)("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),Object(r.a)("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(ge.SOURCE,e,t);return this.store.dispatch(function(e){return{type:K,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){we(e,!0),function(e){Object(r.a)("function"===typeof e.canDrop,"Expected canDrop to be a function."),Object(r.a)("function"===typeof e.hover,"Expected hover to be a function."),Object(r.a)("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(ge.TARGET,e,t);return this.store.dispatch(function(e){return{type:$,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return Me(this.dragSources,e)||Me(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(r.a)(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,a=n?this.pinnedSource:this.dragSources.get(e);return a}},{key:"getTarget",value:function(e){return Object(r.a)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return Object(r.a)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return Object(r.a)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return Ie(e)===ge.SOURCE}},{key:"isTargetId",value:function(e){return Ie(e)===ge.TARGET}},{key:"removeSource",value:function(e){var t=this;Object(r.a)(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Z,payload:{sourceId:e}}}(e)),Se((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){Object(r.a)(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:J,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);Object(r.a)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){Object(r.a)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=De(e);return this.types.set(r,t),e===ge.SOURCE?this.dragSources.set(r,n):e===ge.TARGET&&this.dropTargets.set(r,n),r}}],n&&Ae(t.prototype,n),a&&Ae(t,a),e}();function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Pe(r),i=new be(a,new Fe(a)),o=new B(a,i),u=e(o,t,n);return o.receiveBackend(u),o}function Pe(e){var t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Object(L.d)(he,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}},function(e,t,n){"use strict";var r=n(11),a=n(26),i=n(304),o=["values","unit","step"];function u(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,i=e.unit,u=void 0===i?"px":i,s=e.step,c=void 0===s?5:s,l=Object(a.a)(e,o),f=Object.keys(n);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(u,")")}function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-c/100).concat(u,")")}function p(e,t){var r=f.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(u,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[f[r]]?n[f[r]]:t)-c/100).concat(u,")")}return Object(r.a)({keys:f,values:n,up:d,down:h,between:p,only:function(e){return f.indexOf(e)+1<f.length?p(e,f[f.indexOf(e)+1]):d(e)},not:function(e){var t=f.indexOf(e);return 0===t?d(f[1]):t===f.length-1?h(f[t]):p(e,f[f.indexOf(e)+1]).replace("@media","@media not all and")},unit:u},l)}var s={borderRadius:4},c=n(115);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(c.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=0===n.length?[1]:n;return a.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var f=["breakpoints","palette","spacing","shape"];t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,c=void 0===o?{}:o,d=e.spacing,h=e.shape,p=void 0===h?{}:h,v=Object(a.a)(e,f),m=u(n),g=l(d),b=Object(i.a)({breakpoints:m,direction:"ltr",components:{},palette:Object(r.a)({mode:"light"},c),spacing:g,shape:Object(r.a)({},s,p)},v),y=arguments.length,x=new Array(y>1?y-1:0),w=1;w<y;w++)x[w-1]=arguments[w];return b=x.reduce((function(e,t){return Object(i.a)(e,t)}),b)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(15),a=n(168),i=n(273),o=n(105);function u(e){var t=e||{},n=t.sx,s=t.theme,c=void 0===s?{}:s;if(!n)return null;function l(e){var t=e;if("function"===typeof e)t=e(c);else if("object"!==typeof e)return e;var n=Object(o.a)(c.breakpoints),s=Object.keys(n),l=n;return Object.keys(t).forEach((function(e){var n,s,f=(n=t[e],s=c,"function"===typeof n?n(s):n);if(null!==f&&void 0!==f)if("object"===typeof f)if(i.b[e])l=Object(a.a)(l,Object(i.a)(e,f,c));else{var d=Object(o.b)({theme:c},f,(function(t){return Object(r.a)({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),a=new Set(r);return t.every((function(e){return a.size===Object.keys(e).length}))}(d,f)?l=Object(a.a)(l,d):l[e]=u({sx:f,theme:c})}else l=Object(a.a)(l,Object(i.a)(e,f,c))})),Object(o.c)(s,l)}return Array.isArray(n)?n.map(l):l(n)}u.filterProps=["sx"],t.a=u},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(305),l=n(103),f=n(32),d=n(25),h=n(402),p=n(2),v=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],m=Object(d.a)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(r.a)({},"& .".concat(h.a.primary),t.primary),Object(r.a)({},"& .".concat(h.a.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return Object(i.a)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),g=o.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiListItemText"}),r=n.children,d=n.className,g=n.disableTypography,b=void 0!==g&&g,y=n.inset,x=void 0!==y&&y,w=n.primary,O=n.primaryTypographyProps,k=n.secondary,j=n.secondaryTypographyProps,_=Object(a.a)(n,v),S=o.useContext(l.a).dense,E=null!=w?w:r,A=k,C=Object(i.a)({},n,{disableTypography:b,inset:x,primary:!!E,secondary:!!A,dense:S}),N=function(e){var t=e.classes,n=e.inset,r=e.primary,a=e.secondary,i={root:["root",n&&"inset",e.dense&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]};return Object(s.a)(i,h.b,t)}(C);return null==E||E.type===c.a||b||(E=Object(p.jsx)(c.a,Object(i.a)({variant:S?"body2":"body1",className:N.primary,component:"span",display:"block"},O,{children:E}))),null==A||A.type===c.a||b||(A=Object(p.jsx)(c.a,Object(i.a)({variant:"body2",className:N.secondary,color:"text.secondary",display:"block"},j,{children:A}))),Object(p.jsxs)(m,Object(i.a)({className:Object(u.a)(N.root,d),ownerState:C,ref:t},_,{children:[E,A]}))}));t.a=g},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(16),a=n(11),i=n(26),o=n(304),u=n(273),s=["sx"];function c(e){var t,n=e.sx,c=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){u.b[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(Object(i.a)(e,s)),l=c.systemProps,f=c.otherProps;return t=Array.isArray(n)?[l].concat(Object(r.a)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return Object(o.b)(e)?Object(a.a)({},l,e):l}:Object(a.a)({},l,n),Object(a.a)({},f,{sx:t})}},function(e,t,n){"use strict";var r=n(11),a=n(26),i=n(1),o=n(471),u=n(96),s=n(102),c=n(113),l=n(70),f=n(2),d=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],h={entering:{opacity:1},entered:{opacity:1}},p={enter:u.b.enteringScreen,exit:u.b.leavingScreen},v=i.forwardRef((function(e,t){var n=e.addEndListener,u=e.appear,v=void 0===u||u,m=e.children,g=e.easing,b=e.in,y=e.onEnter,x=e.onEntered,w=e.onEntering,O=e.onExit,k=e.onExited,j=e.onExiting,_=e.style,S=e.timeout,E=void 0===S?p:S,A=e.TransitionComponent,C=void 0===A?o.a:A,N=Object(a.a)(e,d),T=Object(s.a)(),D=i.useRef(null),I=Object(l.a)(m.ref,t),M=Object(l.a)(D,I),F=function(e){return function(t){if(e){var n=D.current;void 0===t?e(n):e(n,t)}}},R=F(w),P=F((function(e,t){Object(c.b)(e);var n=Object(c.a)({style:_,timeout:E,easing:g},{mode:"enter"});e.style.webkitTransition=T.transitions.create("opacity",n),e.style.transition=T.transitions.create("opacity",n),y&&y(e,t)})),z=F(x),B=F(j),L=F((function(e){var t=Object(c.a)({style:_,timeout:E,easing:g},{mode:"exit"});e.style.webkitTransition=T.transitions.create("opacity",t),e.style.transition=T.transitions.create("opacity",t),O&&O(e)})),U=F(k);return Object(f.jsx)(C,Object(r.a)({appear:v,in:b,nodeRef:D,onEnter:P,onEntered:z,onEntering:R,onExit:L,onExited:U,onExiting:B,addEndListener:function(e){n&&n(D.current,e)},timeout:E},N,{children:function(e,t){return i.cloneElement(m,Object(r.a)({style:Object(r.a)({opacity:0,visibility:"exited"!==e||b?void 0:"hidden"},h[e],_,m.props.style),ref:M},t))}}))}));t.a=v},function(e,t,n){"use strict";function r(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(6),a=n(1),i=n(163),o=n(632),u=n(300),s=n(301);var c=a.forwardRef((function(e,t){var n=e.children,c=e.container,l=e.disablePortal,f=void 0!==l&&l,d=a.useState(null),h=Object(r.a)(d,2),p=h[0],v=h[1],m=Object(o.a)(a.isValidElement(n)?n.ref:null,t);return Object(u.a)((function(){f||v(function(e){return"function"===typeof e?e():e}(c)||document.body)}),[c,f]),Object(u.a)((function(){if(p&&!f)return Object(s.a)(t,p),function(){Object(s.a)(t,null)}}),[t,p,f]),f?a.isValidElement(n)?a.cloneElement(n,{ref:m}):n:p?i.createPortal(n,p):p}));t.a=c},function(e,t,n){"use strict";var r=n(11),a=n(26),i=n(1),o=n(28),u=n(274),s=n(305),c=n(25),l=n(32),f=n(386),d=n(385),h=n(2),p=["className","id"],v=Object(c.a)(s.a,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),m=i.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiDialogTitle"}),s=n.className,c=n.id,m=Object(a.a)(n,p),g=n,b=function(e){var t=e.classes;return Object(u.a)({root:["root"]},f.b,t)}(g),y=i.useContext(d.a).titleId,x=void 0===y?c:y;return Object(h.jsx)(v,Object(r.a)({component:"h2",className:Object(o.a)(b.root,s),ownerState:g,ref:t,variant:"h6",id:x},m))}));t.a=m},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(28),u=n(274),s=n(25),c=n(32),l=n(574),f=n(103),d=n(2),h=["className"],p=Object(s.a)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({minWidth:56,color:t.palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),v=i.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiListItemIcon"}),s=n.className,v=Object(r.a)(n,h),m=i.useContext(f.a),g=Object(a.a)({},n,{alignItems:m.alignItems}),b=function(e){var t=e.alignItems,n=e.classes,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return Object(u.a)(r,l.b,n)}(g);return Object(d.jsx)(p,Object(a.a)({className:Object(o.a)(b.root,s),ownerState:g,ref:t},v))}));t.a=v},function(e,t,n){"use strict";var r=n(11),a=n(26),i=n(1),o=n(471),u=n(102),s=n(113),c=n(70),l=n(2),f=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function d(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var h={entering:{opacity:1,transform:d(1)},entered:{opacity:1,transform:"none"}},p=i.forwardRef((function(e,t){var n=e.addEndListener,p=e.appear,v=void 0===p||p,m=e.children,g=e.easing,b=e.in,y=e.onEnter,x=e.onEntered,w=e.onEntering,O=e.onExit,k=e.onExited,j=e.onExiting,_=e.style,S=e.timeout,E=void 0===S?"auto":S,A=e.TransitionComponent,C=void 0===A?o.a:A,N=Object(a.a)(e,f),T=i.useRef(),D=i.useRef(),I=Object(u.a)(),M=i.useRef(null),F=Object(c.a)(m.ref,t),R=Object(c.a)(M,F),P=function(e){return function(t){if(e){var n=M.current;void 0===t?e(n):e(n,t)}}},z=P(w),B=P((function(e,t){Object(s.b)(e);var n,r=Object(s.a)({style:_,timeout:E,easing:g},{mode:"enter"}),a=r.duration,i=r.delay,o=r.easing;"auto"===E?(n=I.transitions.getAutoHeightDuration(e.clientHeight),D.current=n):n=a,e.style.transition=[I.transitions.create("opacity",{duration:n,delay:i}),I.transitions.create("transform",{duration:.666*n,delay:i,easing:o})].join(","),y&&y(e,t)})),L=P(x),U=P(j),W=P((function(e){var t,n=Object(s.a)({style:_,timeout:E,easing:g},{mode:"exit"}),r=n.duration,a=n.delay,i=n.easing;"auto"===E?(t=I.transitions.getAutoHeightDuration(e.clientHeight),D.current=t):t=r,e.style.transition=[I.transitions.create("opacity",{duration:t,delay:a}),I.transitions.create("transform",{duration:.666*t,delay:a||.333*t,easing:i})].join(","),e.style.opacity="0",e.style.transform=d(.75),O&&O(e)})),V=P(k);return i.useEffect((function(){return function(){clearTimeout(T.current)}}),[]),Object(l.jsx)(C,Object(r.a)({appear:v,in:b,nodeRef:M,onEnter:B,onEntered:L,onEntering:z,onExit:W,onExited:V,onExiting:U,addEndListener:function(e){"auto"===E&&(T.current=setTimeout(e,D.current||0)),n&&n(M.current,e)},timeout:"auto"===E?null:E},N,{children:function(e,t){return i.cloneElement(m,Object(r.a)({style:Object(r.a)({opacity:0,transform:d(.75),visibility:"exited"!==e||b?void 0:"hidden"},h[e],_,m.props.style),ref:R},t))}}))}));p.muiSupportAuto=!0,t.a=p},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(28),u=n(274),s=n(914),c=n(25),l=n(32),f=n(573),d=n(2),h=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],p=Object(c.a)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:t.palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:Object(s.a)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({},n.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat(t.palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat(t.palette.divider),transform:"translateX(0%)"}})}),(function(e){var t=e.ownerState;return Object(a.a)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),v=Object(c.a)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var n=e.ownerState;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),m=i.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiDivider"}),i=n.absolute,s=void 0!==i&&i,c=n.children,m=n.className,g=n.component,b=void 0===g?c?"div":"hr":g,y=n.flexItem,x=void 0!==y&&y,w=n.light,O=void 0!==w&&w,k=n.orientation,j=void 0===k?"horizontal":k,_=n.role,S=void 0===_?"hr"!==b?"separator":void 0:_,E=n.textAlign,A=void 0===E?"center":E,C=n.variant,N=void 0===C?"fullWidth":C,T=Object(r.a)(n,h),D=Object(a.a)({},n,{absolute:s,component:b,flexItem:x,light:O,orientation:j,role:S,textAlign:A,variant:N}),I=function(e){var t=e.absolute,n=e.children,r=e.classes,a=e.flexItem,i=e.light,o=e.orientation,s=e.textAlign,c={root:["root",t&&"absolute",e.variant,i&&"light","vertical"===o&&"vertical",a&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===s&&"vertical"!==o&&"textAlignRight","left"===s&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return Object(u.a)(c,f.b,r)}(D);return Object(d.jsx)(p,Object(a.a)({as:b,className:Object(o.a)(I.root,m),role:S,ref:t,ownerState:D},T,{children:c?Object(d.jsx)(v,{className:I.wrapper,ownerState:D,children:c}):null}))}));t.a=m},function(e,t,n){"use strict";var r=n(15),a=n(16),i=n(26),o=n(11),u=n(1),s=n(274),c=n(304),l=n(98),f=n(25),d=n(32),h=n(173),p=n(2),v=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],m=Object(f.a)(l.b,{shouldForwardProp:function(e){return Object(f.b)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(Object(a.a)(Object(l.e)(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,a=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return Object(o.a)({position:"relative"},a.formControl&&{"label + &":{marginTop:16}},!a.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[a.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},Object(r.a)(t,"&.".concat(h.a.focused,":after"),{transform:"scaleX(1)"}),Object(r.a)(t,"&.".concat(h.a.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),Object(r.a)(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),Object(r.a)(t,"&:hover:not(.".concat(h.a.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),Object(r.a)(t,"&.".concat(h.a.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),g=Object(f.a)(l.a,{name:"MuiInput",slot:"Input",overridesResolver:l.d})({}),b=u.forwardRef((function(e,t){var n=Object(d.a)({props:e,name:"MuiInput"}),r=n.disableUnderline,a=n.components,u=void 0===a?{}:a,f=n.componentsProps,b=n.fullWidth,y=void 0!==b&&b,x=n.inputComponent,w=void 0===x?"input":x,O=n.multiline,k=void 0!==O&&O,j=n.type,_=void 0===j?"text":j,S=Object(i.a)(n,v),E=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=Object(s.a)(n,h.b,t);return Object(o.a)({},t,r)}(n),A={root:{ownerState:{disableUnderline:r}}},C=f?Object(c.a)(f,A):A;return Object(p.jsx)(l.c,Object(o.a)({components:Object(o.a)({Root:m,Input:g},u),componentsProps:C,fullWidth:y,inputComponent:w,multiline:k,ref:t,type:_},S,{classes:E}))}));b.muiName="Input",t.a=b},function(e,t,n){"use strict";var r=n(15),a=n(16),i=n(26),o=n(11),u=n(1),s=n(304),c=n(274),l=n(98),f=n(25),d=n(32),h=n(127),p=n(2),v=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],m=Object(f.a)(l.b,{shouldForwardProp:function(e){return Object(f.b)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(Object(a.a)(Object(l.e)(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,a=e.theme,i=e.ownerState,u="light"===a.palette.mode,s=u?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",c=u?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return Object(o.a)((t={position:"relative",backgroundColor:c,borderTopLeftRadius:a.shape.borderRadius,borderTopRightRadius:a.shape.borderRadius,transition:a.transitions.create("background-color",{duration:a.transitions.duration.shorter,easing:a.transitions.easing.easeOut}),"&:hover":{backgroundColor:u?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:c}}},Object(r.a)(t,"&.".concat(h.a.focused),{backgroundColor:c}),Object(r.a)(t,"&.".concat(h.a.disabled),{backgroundColor:u?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!i.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(a.palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:a.transitions.create("transform",{duration:a.transitions.duration.shorter,easing:a.transitions.easing.easeOut}),pointerEvents:"none"}},Object(r.a)(n,"&.".concat(h.a.focused,":after"),{transform:"scaleX(1)"}),Object(r.a)(n,"&.".concat(h.a.error,":after"),{borderBottomColor:a.palette.error.main,transform:"scaleX(1)"}),Object(r.a)(n,"&:before",{borderBottom:"1px solid ".concat(s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:a.transitions.create("border-bottom-color",{duration:a.transitions.duration.shorter}),pointerEvents:"none"}),Object(r.a)(n,"&:hover:not(.".concat(h.a.disabled,"):before"),{borderBottom:"1px solid ".concat(a.palette.text.primary)}),Object(r.a)(n,"&.".concat(h.a.disabled,":before"),{borderBottomStyle:"dotted"}),n),i.startAdornment&&{paddingLeft:12},i.endAdornment&&{paddingRight:12},i.multiline&&Object(o.a)({padding:"25px 12px 8px"},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),g=Object(f.a)(l.a,{name:"MuiFilledInput",slot:"Input",overridesResolver:l.d})((function(e){var t=e.theme,n=e.ownerState;return Object(o.a)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),b=u.forwardRef((function(e,t){var n=Object(d.a)({props:e,name:"MuiFilledInput"}),r=n.components,a=void 0===r?{}:r,u=n.componentsProps,f=n.fullWidth,b=void 0!==f&&f,y=n.inputComponent,x=void 0===y?"input":y,w=n.multiline,O=void 0!==w&&w,k=n.type,j=void 0===k?"text":k,_=Object(i.a)(n,v),S=Object(o.a)({},n,{fullWidth:b,inputComponent:x,multiline:O,type:j}),E=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=Object(c.a)(n,h.b,t);return Object(o.a)({},t,r)}(n),A={root:{ownerState:S},input:{ownerState:S}},C=u?Object(s.a)(u,A):A;return Object(p.jsx)(l.c,Object(o.a)({components:Object(o.a)({Root:m,Input:g},a),componentsProps:C,fullWidth:b,inputComponent:x,multiline:O,ref:t,type:j},_,{classes:E}))}));b.muiName="Input",t.a=b},function(e,t,n){"use strict";var r=n(76),a=n(2);t.a=Object(r.a)(Object(a.jsx)("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"}),"Label")},function(e,t,n){"use strict";var r=n(76),a=n(2);t.a=Object(r.a)(Object(a.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack")},function(e,t,n){"use strict";var r=n(76),a=n(2);t.a=Object(r.a)(Object(a.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PlayCircleOutline")},function(e,t,n){"use strict";var r=n(76),a=n(2);t.a=Object(r.a)(Object(a.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop")},function(e,t,n){"use strict";var r=n(11),a=n(26),i=n(1),o=n(471),u=n(263),s=n(70),c=n(102),l=n(96),f=n(113),d=n(221),h=n(2),p=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function v(e,t,n){var r,a=function(e,t,n){var r,a=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=Object(d.a)(t);if(t.fakeTransform)r=t.fakeTransform;else{var u=o.getComputedStyle(t);r=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}var s=0,c=0;if(r&&"none"!==r&&"string"===typeof r){var l=r.split("(")[1].split(")")[0].split(",");s=parseInt(l[4],10),c=parseInt(l[5],10)}return"left"===e?"translateX(".concat(i?i.right+s-a.left:o.innerWidth+s-a.left,"px)"):"right"===e?"translateX(-".concat(i?a.right-i.left-s:a.left+a.width-s,"px)"):"up"===e?"translateY(".concat(i?i.bottom+c-a.top:o.innerHeight+c-a.top,"px)"):"translateY(-".concat(i?a.top-i.top+a.height-c:a.top+a.height-c,"px)")}(e,t,"function"===typeof(r=n)?r():r);a&&(t.style.webkitTransform=a,t.style.transform=a)}var m={enter:l.c.easeOut,exit:l.c.sharp},g={enter:l.b.enteringScreen,exit:l.b.leavingScreen},b=i.forwardRef((function(e,t){var n=e.addEndListener,l=e.appear,b=void 0===l||l,y=e.children,x=e.container,w=e.direction,O=void 0===w?"down":w,k=e.easing,j=void 0===k?m:k,_=e.in,S=e.onEnter,E=e.onEntered,A=e.onEntering,C=e.onExit,N=e.onExited,T=e.onExiting,D=e.style,I=e.timeout,M=void 0===I?g:I,F=e.TransitionComponent,R=void 0===F?o.a:F,P=Object(a.a)(e,p),z=Object(c.a)(),B=i.useRef(null),L=Object(s.a)(y.ref,B),U=Object(s.a)(L,t),W=function(e){return function(t){e&&(void 0===t?e(B.current):e(B.current,t))}},V=W((function(e,t){v(O,e,x),Object(f.b)(e),S&&S(e,t)})),H=W((function(e,t){var n=Object(f.a)({timeout:M,style:D,easing:j},{mode:"enter"});e.style.webkitTransition=z.transitions.create("-webkit-transform",Object(r.a)({},n)),e.style.transition=z.transitions.create("transform",Object(r.a)({},n)),e.style.webkitTransform="none",e.style.transform="none",A&&A(e,t)})),G=W(E),q=W(T),X=W((function(e){var t=Object(f.a)({timeout:M,style:D,easing:j},{mode:"exit"});e.style.webkitTransition=z.transitions.create("-webkit-transform",t),e.style.transition=z.transitions.create("transform",t),v(O,e,x),C&&C(e)})),Y=W((function(e){e.style.webkitTransition="",e.style.transition="",N&&N(e)})),K=i.useCallback((function(){B.current&&v(O,B.current,x)}),[O,x]);return i.useEffect((function(){if(!_&&"down"!==O&&"right"!==O){var e=Object(u.a)((function(){B.current&&v(O,B.current,x)})),t=Object(d.a)(B.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[O,_,x]),i.useEffect((function(){_||K()}),[_,K]),Object(h.jsx)(R,Object(r.a)({nodeRef:B,onEnter:V,onEntered:G,onEntering:H,onExit:X,onExited:Y,onExiting:q,addEndListener:function(e){n&&n(B.current,e)},appear:b,in:_,timeout:M},P,{children:function(e,t){return i.cloneElement(y,Object(r.a)({ref:U,style:Object(r.a)({visibility:"exited"!==e||_?void 0:"hidden"},D,y.props.style)},t))}}))}));t.a=b},function(e,t,n){"use strict";var r=n(11),a=n(1),i=n(32),o=n(923),u=n(2),s=function(e,t){return Object(r.a)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&{colorScheme:e.palette.mode})},c=function(e){return Object(r.a)({color:e.palette.text.primary},e.typography.body1,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};t.a=function(e){var t=Object(i.a)({props:e,name:"MuiCssBaseline"}),n=t.children,l=t.enableColorScheme,f=void 0!==l&&l;return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)(o.a,{styles:function(e){return function(e){var t,n,a={html:s(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(r.a)({margin:0},c(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})},i=null==(t=e.components)||null==(n=t.MuiCssBaseline)?void 0:n.styleOverrides;return i&&(a=[a,i]),a}(e,f)}}),n]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),a=n(1),i=n(454),o=n(455),u=n(133);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(i.a)(),s="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,c=Object(o.a)({name:"MuiUseMediaQuery",props:t,theme:n}),l=c.defaultMatches,f=void 0!==l&&l,d=c.matchMedia,h=void 0===d?s?window.matchMedia:null:d,p=c.noSsr,v=void 0!==p&&p,m=c.ssrMatchMedia,g=void 0===m?null:m;var b="function"===typeof e?e(n):e;b=b.replace(/^@media( ?)/m,"");var y=a.useState((function(){return v&&s?h(b).matches:g?g(b).matches:f})),x=Object(r.a)(y,2),w=x[0],O=x[1];return Object(u.a)((function(){var e=!0;if(s){var t=h(b),n=function(){e&&O(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}}),[b,h,s]),w}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(1);var r=n(99),a=n(294),i=n(2),o=Object(a.a)({key:"css",prepend:!0});function u(e){var t=e.injectFirst,n=e.children;return t?Object(i.jsx)(r.a,{value:o,children:n}):n}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(172),a=n(299),i={nowSeconds:function(){return Date.now()/1e3}};var o=Object(a.b)()?function(){try{return Object(a.a)(e,"perf_hooks").performance}catch(t){return}}():function(){var e=Object(r.a)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),u=void 0===o?i:{nowSeconds:function(){return(o.timeOrigin+o.now())/1e3}},s=i.nowSeconds.bind(i),c=u.nowSeconds.bind(u);!function(){var e=Object(r.a)().performance;if(e&&e.now){var t=36e5,n=e.now(),a=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-a):t,o=i<t,u=e.timing&&e.timing.navigationStart,s="number"===typeof u?Math.abs(u+n-a):t;return o||s<t?i<=s?("timeOrigin",e.timeOrigin):("navigationStart",u):("dateNow",a)}"none"}()}).call(this,n(283)(e))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(47),a=(n(466),n(97));n(626),n(625),n(225);function i(e){var t,n;if(Object(a.e)(e)){var o=e,u={};try{for(var s=Object(r.c)(Object.keys(o)),c=s.next();!c.done;c=s.next()){var l=c.value;"undefined"!==typeof o[l]&&(u[l]=i(o[l]))}}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return u}return Array.isArray(e)?e.map(i):e}}).call(this,n(116))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(2),a=n(1),i=n(929),o=n(615),u=["children"];function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){u=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var f=0,d=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),h=Object(a.memo)((function(e){var t=e.children,n=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=t;a[d]||(a[d]={dragDropManager:Object(i.a)(e,t,n,r)});return a[d]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(l(e,u)),c=s(n,2),h=c[0],v=c[1];return Object(a.useEffect)((function(){if(v){var e=p();return++f,function(){0===--f&&(e[d]=null)}}}),[]),Object(r.jsx)(o.a.Provider,Object.assign({value:h},{children:t}),void 0)}));function p(){return"undefined"!==typeof e?e:window}}).call(this,n(116))},function(e,t,n){"use strict";var r=n(11),a=n(1),i=n(6),o=n(26),u=n(632),s=n(300),c=n(457);function l(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function f(e){return e instanceof l(e).Element||e instanceof Element}function d(e){return e instanceof l(e).HTMLElement||e instanceof HTMLElement}function h(e){return"undefined"!==typeof ShadowRoot&&(e instanceof l(e).ShadowRoot||e instanceof ShadowRoot)}var p=Math.max,v=Math.min,m=Math.round;function g(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,a=1;if(d(e)&&t){var i=e.offsetHeight,o=e.offsetWidth;o>0&&(r=m(n.width)/o||1),i>0&&(a=m(n.height)/i||1)}return{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}function b(e){var t=l(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function y(e){return e?(e.nodeName||"").toLowerCase():null}function x(e){return((f(e)?e.ownerDocument:e.document)||window.document).documentElement}function w(e){return g(x(e)).left+b(e).scrollLeft}function O(e){return l(e).getComputedStyle(e)}function k(e){var t=O(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function j(e,t,n){void 0===n&&(n=!1);var r=d(t),a=d(t)&&function(e){var t=e.getBoundingClientRect(),n=m(t.width)/e.offsetWidth||1,r=m(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=x(t),o=g(e,a),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==y(t)||k(i))&&(u=function(e){return e!==l(e)&&d(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:b(e);var t}(t)),d(t)?((s=g(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):i&&(s.x=w(i))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function _(e){var t=g(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function S(e){return"html"===y(e)?e:e.assignedSlot||e.parentNode||(h(e)?e.host:null)||x(e)}function E(e){return["html","body","#document"].indexOf(y(e))>=0?e.ownerDocument.body:d(e)&&k(e)?e:E(S(e))}function A(e,t){var n;void 0===t&&(t=[]);var r=E(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),i=l(r),o=a?[i].concat(i.visualViewport||[],k(r)?r:[]):r,u=t.concat(o);return a?u:u.concat(A(S(o)))}function C(e){return["table","td","th"].indexOf(y(e))>=0}function N(e){return d(e)&&"fixed"!==O(e).position?e.offsetParent:null}function T(e){for(var t=l(e),n=N(e);n&&C(n)&&"static"===O(n).position;)n=N(n);return n&&("html"===y(n)||"body"===y(n)&&"static"===O(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&d(e)&&"fixed"===O(e).position)return null;for(var n=S(e);d(n)&&["html","body"].indexOf(y(n))<0;){var r=O(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var D="top",I="bottom",M="right",F="left",R="auto",P=[D,I,M,F],z="start",B="end",L="viewport",U="popper",W=P.reduce((function(e,t){return e.concat([t+"-"+z,t+"-"+B])}),[]),V=[].concat(P,[R]).reduce((function(e,t){return e.concat([t,t+"-"+z,t+"-"+B])}),[]),H=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function G(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}function q(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var X={placement:"bottom",modifiers:[],strategy:"absolute"};function Y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function K(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,i=void 0===a?X:a;return function(e,t,n){void 0===n&&(n=i);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},X,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:a,setOptions:function(n){var u="function"===typeof n?n(a.options):n;c(),a.options=Object.assign({},i,a.options,u),a.scrollParents={reference:f(e)?A(e):e.contextElement?A(e.contextElement):[],popper:A(t)};var l=function(e){var t=G(e);return H.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=l.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var u=i({state:a,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=a.elements,t=e.reference,n=e.popper;if(Y(t,n)){a.rects={reference:j(t,T(n),"fixed"===a.options.strategy),popper:_(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var i=a.orderedModifiers[r],o=i.fn,c=i.options,l=void 0===c?{}:c,f=i.name;"function"===typeof o&&(a=o({state:a,options:l,name:f,instance:s})||a)}else a.reset=!1,r=-1}}},update:q((function(){return new Promise((function(e){s.forceUpdate(),e(a)}))})),destroy:function(){c(),u=!0}};if(!Y(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var $={passive:!0};function Z(e){return e.split("-")[0]}function J(e){return e.split("-")[1]}function Q(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ee(e){var t,n=e.reference,r=e.element,a=e.placement,i=a?Z(a):null,o=a?J(a):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(i){case D:t={x:u,y:n.y-r.height};break;case I:t={x:u,y:n.y+n.height};break;case M:t={x:n.x+n.width,y:s};break;case F:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=i?Q(i):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case z:t[c]=t[c]-(n[l]/2-r[l]/2);break;case B:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var te={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ne(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,h=o.x,p=void 0===h?0:h,v=o.y,g=void 0===v?0:v,b="function"===typeof f?f({x:p,y:g}):{x:p,y:g};p=b.x,g=b.y;var y=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),k=F,j=D,_=window;if(c){var S=T(n),E="clientHeight",A="clientWidth";if(S===l(n)&&"static"!==O(S=x(n)).position&&"absolute"===u&&(E="scrollHeight",A="scrollWidth"),S=S,a===D||(a===F||a===M)&&i===B)j=I,g-=(d&&_.visualViewport?_.visualViewport.height:S[E])-r.height,g*=s?1:-1;if(a===F||(a===D||a===I)&&i===B)k=M,p-=(d&&_.visualViewport?_.visualViewport.width:S[A])-r.width,p*=s?1:-1}var C,N=Object.assign({position:u},c&&te),R=!0===f?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:m(t*r)/r||0,y:m(n*r)/r||0}}({x:p,y:g}):{x:p,y:g};return p=R.x,g=R.y,s?Object.assign({},N,((C={})[j]=w?"0":"",C[k]=y?"0":"",C.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",C)):Object.assign({},N,((t={})[j]=w?g+"px":"",t[k]=y?p+"px":"",t.transform="",t))}var re={left:"right",right:"left",bottom:"top",top:"bottom"};function ae(e){return e.replace(/left|right|bottom|top/g,(function(e){return re[e]}))}var ie={start:"end",end:"start"};function oe(e){return e.replace(/start|end/g,(function(e){return ie[e]}))}function ue(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&h(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function se(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ce(e,t){return t===L?se(function(e){var t=l(e),n=x(e),r=t.visualViewport,a=n.clientWidth,i=n.clientHeight,o=0,u=0;return r&&(a=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,u=r.offsetTop)),{width:a,height:i,x:o+w(e),y:u}}(e)):f(t)?function(e){var t=g(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):se(function(e){var t,n=x(e),r=b(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=p(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=p(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-r.scrollLeft+w(e),s=-r.scrollTop;return"rtl"===O(a||n).direction&&(u+=p(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:u,y:s}}(x(e)))}function le(e,t,n){var r="clippingParents"===t?function(e){var t=A(S(e)),n=["absolute","fixed"].indexOf(O(e).position)>=0&&d(e)?T(e):e;return f(n)?t.filter((function(e){return f(e)&&ue(e,n)&&"body"!==y(e)})):[]}(e):[].concat(t),a=[].concat(r,[n]),i=a[0],o=a.reduce((function(t,n){var r=ce(e,n);return t.top=p(r.top,t.top),t.right=v(r.right,t.right),t.bottom=v(r.bottom,t.bottom),t.left=p(r.left,t.left),t}),ce(e,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function fe(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function de(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function he(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,i=n.boundary,o=void 0===i?"clippingParents":i,u=n.rootBoundary,s=void 0===u?L:u,c=n.elementContext,l=void 0===c?U:c,d=n.altBoundary,h=void 0!==d&&d,p=n.padding,v=void 0===p?0:p,m=fe("number"!==typeof v?v:de(v,P)),b=l===U?"reference":U,y=e.rects.popper,w=e.elements[h?b:l],O=le(f(w)?w:w.contextElement||x(e.elements.popper),o,s),k=g(e.elements.reference),j=ee({reference:k,element:y,strategy:"absolute",placement:a}),_=se(Object.assign({},y,j)),S=l===U?_:k,E={top:O.top-S.top+m.top,bottom:S.bottom-O.bottom+m.bottom,left:O.left-S.left+m.left,right:S.right-O.right+m.right},A=e.modifiersData.offset;if(l===U&&A){var C=A[a];Object.keys(E).forEach((function(e){var t=[M,I].indexOf(e)>=0?1:-1,n=[D,I].indexOf(e)>=0?"y":"x";E[e]+=C[n]*t}))}return E}function pe(e,t,n){return p(e,v(t,n))}function ve(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function me(e){return[D,M,I,F].some((function(t){return e[t]>=0}))}var ge=K({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=void 0===a||a,o=r.resize,u=void 0===o||o,s=l(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,$)})),u&&s.addEventListener("resize",n.update,$),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,$)})),u&&s.removeEventListener("resize",n.update,$)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ee({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,i=n.adaptive,o=void 0===i||i,u=n.roundOffsets,s=void 0===u||u,c={placement:Z(t.placement),variation:J(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ne(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ne(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];d(a)&&y(a)&&(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});d(r)&&y(r)&&(Object.assign(r.style,i),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=void 0===a?[0,0]:a,o=V.reduce((function(e,n){return e[n]=function(e,t,n){var r=Z(e),a=[F,D].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=i[0],u=i[1];return o=o||0,u=(u||0)*a,[F,M].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,i),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=void 0===a||a,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=t.options.placement,g=Z(m),b=s||(g===m||!p?[ae(m)]:function(e){if(Z(e)===R)return[];var t=ae(e);return[oe(e),t,oe(t)]}(m)),y=[m].concat(b).reduce((function(e,n){return e.concat(Z(n)===R?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?V:s,l=J(r),f=l?u?W:W.filter((function(e){return J(e)===l})):P,d=f.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=f);var h=d.reduce((function(t,n){return t[n]=he(e,{placement:n,boundary:a,rootBoundary:i,padding:o})[Z(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),x=t.rects.reference,w=t.rects.popper,O=new Map,k=!0,j=y[0],_=0;_<y.length;_++){var S=y[_],E=Z(S),A=J(S)===z,C=[D,I].indexOf(E)>=0,N=C?"width":"height",T=he(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),B=C?A?M:F:A?I:D;x[N]>w[N]&&(B=ae(B));var L=ae(B),U=[];if(i&&U.push(T[E]<=0),u&&U.push(T[B]<=0,T[L]<=0),U.every((function(e){return e}))){j=S,k=!1;break}O.set(S,U)}if(k)for(var H=function(e){var t=y.find((function(t){var n=O.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},G=p?3:1;G>0;G--){if("break"===H(G))break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=void 0===a||a,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,m=n.tetherOffset,g=void 0===m?0:m,b=he(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=Z(t.placement),x=J(t.placement),w=!x,O=Q(y),k="x"===O?"y":"x",j=t.modifiersData.popperOffsets,S=t.rects.reference,E=t.rects.popper,A="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,C="number"===typeof A?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(j){if(i){var P,B="y"===O?D:F,L="y"===O?I:M,U="y"===O?"height":"width",W=j[O],V=W+b[B],H=W-b[L],G=h?-E[U]/2:0,q=x===z?S[U]:E[U],X=x===z?-E[U]:-S[U],Y=t.elements.arrow,K=h&&Y?_(Y):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=$[B],te=$[L],ne=pe(0,S[U],K[U]),re=w?S[U]/2-G-ne-ee-C.mainAxis:q-ne-ee-C.mainAxis,ae=w?-S[U]/2+G+ne+te+C.mainAxis:X+ne+te+C.mainAxis,ie=t.elements.arrow&&T(t.elements.arrow),oe=ie?"y"===O?ie.clientTop||0:ie.clientLeft||0:0,ue=null!=(P=null==N?void 0:N[O])?P:0,se=W+ae-ue,ce=pe(h?v(V,W+re-ue-oe):V,W,h?p(H,se):H);j[O]=ce,R[O]=ce-W}if(u){var le,fe="x"===O?D:F,de="x"===O?I:M,ve=j[k],me="y"===k?"height":"width",ge=ve+b[fe],be=ve-b[de],ye=-1!==[D,F].indexOf(y),xe=null!=(le=null==N?void 0:N[k])?le:0,we=ye?ge:ve-S[me]-E[me]-xe+C.altAxis,Oe=ye?ve+S[me]+E[me]-xe-C.altAxis:be,ke=h&&ye?function(e,t,n){var r=pe(e,t,n);return r>n?n:r}(we,ve,Oe):pe(h?we:ge,ve,h?Oe:be);j[k]=ke,R[k]=ke-ve}t.modifiersData[r]=R}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,u=Z(n.placement),s=Q(u),c=[F,M].indexOf(u)>=0?"height":"width";if(i&&o){var l=function(e,t){return fe("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:de(e,P))}(a.padding,n),f=_(i),d="y"===s?D:F,h="y"===s?I:M,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=T(i),g=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,b=p/2-v/2,y=l[d],x=g-f[c]-l[h],w=g/2-f[c]/2+b,O=pe(y,w,x),k=s;n.modifiersData[r]=((t={})[k]=O,t.centerOffset=O-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&ue(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=he(t,{elementContext:"reference"}),u=he(t,{altBoundary:!0}),s=ve(o,r),c=ve(u,a,i),l=me(s),f=me(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}),be=n(982),ye=n(2),xe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","TransitionProps"],we=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function Oe(e){return"function"===typeof e?e():e}var ke={},je=a.forwardRef((function(e,t){var n=e.anchorEl,c=e.children,l=e.direction,f=e.disablePortal,d=e.modifiers,h=e.open,p=e.placement,v=e.popperOptions,m=e.popperRef,g=e.TransitionProps,b=Object(o.a)(e,xe),y=a.useRef(null),x=Object(u.a)(y,t),w=a.useRef(null),O=Object(u.a)(w,m),k=a.useRef(O);Object(s.a)((function(){k.current=O}),[O]),a.useImperativeHandle(m,(function(){return w.current}),[]);var j=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(p,l),_=a.useState(j),S=Object(i.a)(_,2),E=S[0],A=S[1];a.useEffect((function(){w.current&&w.current.forceUpdate()})),Object(s.a)((function(){if(n&&h){Oe(n);var e=[{name:"preventOverflow",options:{altBoundary:f}},{name:"flip",options:{altBoundary:f}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;A(t.placement)}}];null!=d&&(e=e.concat(d)),v&&null!=v.modifiers&&(e=e.concat(v.modifiers));var t=ge(Oe(n),y.current,Object(r.a)({placement:j},v,{modifiers:e}));return k.current(t),function(){t.destroy(),k.current(null)}}}),[n,f,d,h,v,j]);var C={placement:E};return null!==g&&(C.TransitionProps=g),Object(ye.jsx)("div",Object(r.a)({ref:x,role:"tooltip"},b,{children:"function"===typeof c?c(C):c}))})),_e=a.forwardRef((function(e,t){var n=e.anchorEl,u=e.children,s=e.container,l=e.direction,f=void 0===l?"ltr":l,d=e.disablePortal,h=void 0!==d&&d,p=e.keepMounted,v=void 0!==p&&p,m=e.modifiers,g=e.open,b=e.placement,y=void 0===b?"bottom":b,x=e.popperOptions,w=void 0===x?ke:x,O=e.popperRef,k=e.style,j=e.transition,_=void 0!==j&&j,S=Object(o.a)(e,we),E=a.useState(!0),A=Object(i.a)(E,2),C=A[0],N=A[1];if(!v&&!g&&(!_||C))return null;var T=s||(n?Object(c.a)(Oe(n)).body:void 0);return Object(ye.jsx)(be.a,{disablePortal:h,container:T,children:Object(ye.jsx)(je,Object(r.a)({anchorEl:n,direction:f,disablePortal:h,modifiers:m,ref:t,open:_?!C:g,placement:y,popperOptions:w,popperRef:O},S,{style:Object(r.a)({position:"fixed",top:0,left:0,display:g||!v||_&&!C?null:"none"},k),TransitionProps:_?{in:g,onEnter:function(){N(!1)},onExited:function(){N(!0)}}:null,children:u}))})})),Se=n(454),Ee=a.forwardRef((function(e,t){var n=Object(Se.a)();return Object(ye.jsx)(_e,Object(r.a)({direction:null==n?void 0:n.direction},e,{ref:t}))}));t.a=Ee},function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n(1),a=n(59),i=n(615);function o(){var e=Object(r.useContext)(i.a).dragDropManager;return Object(a.a)(null!=e,"Expected drag drop context"),e}var u="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"spec",void 0),c(this,"monitor",void 0),this.spec=t,this.monitor=n}var t,n,r;return t=e,(n=[{key:"canDrop",value:function(){var e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}},{key:"hover",value:function(){var e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}},{key:"drop",value:function(){var e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}}])&&s(t.prototype,n),r&&s(t,r),e}();function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){u=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){var i=o(),s=function(e,t){var n=Object(r.useMemo)((function(){return new l(e,t)}),[t]);return Object(r.useEffect)((function(){n.spec=e}),[e]),n}(e,t),c=function(e){var t=e.accept;return Object(r.useMemo)((function(){return Object(a.a)(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t]}),[t])}(e);u((function(){var e=function(e,t,n){var r=n.getRegistry(),a=r.addTarget(e,t);return[a,function(){return r.removeTarget(a)}]}(c,s,i),r=f(e,2),a=r[0],o=r[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),o}),[i,t,s,n,c.map((function(e){return e.toString()})).join("|")])}function p(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=!1,y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"internalMonitor",void 0),g(this,"targetId",null),this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;Object(a.a)(!b,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return b=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{b=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&m(t.prototype,n),r&&m(t,r),e}();function x(e){if("string"!==typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function w(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var i=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(r.isValidElement)(t)){var a=t;return e(a,n),a}var i=t;x(i);var o=n?function(t){return e(t,n)}:e;return k(i,o)}}(a);t[n]=function(){return i}}})),t}function O(e,t){"function"===typeof e?e(t):e.current=t}function k(e,t){var n=e.ref;return Object(a.a)("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?Object(r.cloneElement)(e,{ref:function(e){O(n,e),O(t,e)}}):Object(r.cloneElement)(e,{ref:t})}function j(e){return j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),S(this,"hooks",w({dropTarget:function(e,t){var r;n.clearDropTarget(),n.dropTargetOptions=t,null!==(r=e)&&"object"===j(r)&&Object.prototype.hasOwnProperty.call(r,"current")?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}})),S(this,"handlerId",null),S(this,"dropTargetRef",null),S(this,"dropTargetNode",void 0),S(this,"dropTargetOptionsInternal",null),S(this,"unsubscribeDropTarget",void 0),S(this,"lastConnectedHandlerId",null),S(this,"lastConnectedDropTarget",null),S(this,"lastConnectedDropTargetOptions",null),S(this,"backend",void 0),this.backend=t}var t,n,r;return t=e,(n=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<i.length;s++){var c=i[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(a=n?n.call(r,l,f,c):void 0)||void 0===a&&l!==f)return!1}return!0}(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}])&&_(t.prototype,n),r&&_(t,r),e}();var A=n(395),C=n.n(A);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){u=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){u=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n){var a=function(e,t,n){var a=N(Object(r.useState)((function(){return t(e)})),2),i=a[0],o=a[1],s=Object(r.useCallback)((function(){var r=t(e);C()(i,r)||(o(r),n&&n())}),[i,e,n]);return u(s),[i,s]}(e,t,n),i=D(a,2),o=i[0],s=i[1];return u((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(s,{handlerIds:[t]})}),[e,s]),o}function F(e,t,n){return M(t,e||function(){return{}},(function(){return n.reconnect()}))}function R(e){return Object(r.useMemo)((function(){return e.hooks.dropTarget()}),[e])}function P(e,t){var n=function(e,t){var n=p(t||[]);return null==t&&"function"!==typeof e&&n.push(e),Object(r.useMemo)((function(){return"function"===typeof e?e():e}),n)}(e,t),a=function(){var e=o();return Object(r.useMemo)((function(){return new y(e)}),[e])}(),i=function(e){var t=o(),n=Object(r.useMemo)((function(){return new E(t.getBackend())}),[t]);return u((function(){return n.dropTargetOptions=e||null,n.reconnect(),function(){return n.disconnectDropTarget()}}),[e]),n}(n.options);return h(n,a,i),[F(n.collect,a,i),R(i)]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r,a,i=n(47);!function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(r||(r={})),function(e){e.Ok="ok",e.Errored="errored",e.Crashed="crashed"}(a||(a={}));var o=n(172);n(225);function u(){var e=Object(o.a)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var s=n(997),c=Object(o.a)(),l="Sentry Logger ";function f(e){var t=Object(o.a)();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)}));var a=e();return Object.keys(r).forEach((function(e){n[e]=r[e]})),a}var d=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&f((function(){c.console.log(l+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&f((function(){c.console.warn(l+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&f((function(){c.console.error(l+"[Error]: "+e.join(" "))}))},e}();c.__SENTRY__=c.__SENTRY__||{};var h=c.__SENTRY__.logger||(c.__SENTRY__.logger=new d),p=n(299),v=n(97),m=function(){function e(e){var t=this;this._state="PENDING",this._handlers=[],this._resolve=function(e){t._setResult("RESOLVED",e)},this._reject=function(e){t._setResult("REJECTED",e)},this._setResult=function(e,n){"PENDING"===t._state&&(Object(v.j)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if("PENDING"!==t._state){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e.done||("RESOLVED"===t._state&&e.onfulfilled&&e.onfulfilled(t._value),"REJECTED"===t._state&&e.onrejected&&e.onrejected(t._value),e.done=!0)}))}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(n,r){if(Array.isArray(t))if(0!==t.length){var a=t.length,i=[];t.forEach((function(t,o){e.resolve(t).then((function(e){i[o]=e,0===(a-=1)&&n(i)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,n){var r=this;return new e((function(e,a){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(r){return void a(r)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(r){return void a(r)}else a(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var a,i;return n.then((function(e){i=!1,a=e,t&&t()}),(function(e){i=!0,a=e,t&&t()})).then((function(){i?r(a):e(a)}))}))},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),g=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=Object(i.b)(t._breadcrumbs),n._tags=Object(i.a)({},t._tags),n._extra=Object(i.a)({},t._extra),n._contexts=Object(i.a)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=Object(i.b)(t._eventProcessors),n._requestSession=t._requestSession),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(e){return this._requestSession=e,this},e.prototype.setTags=function(e){return this._tags=Object(i.a)(Object(i.a)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=Object(i.a)(Object(i.a)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=Object(i.a)(Object(i.a)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=Object(i.a)(Object(i.a)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=Object(i.a)(Object(i.a)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t,n,r,a=this.getSpan();return(null===(e=a)||void 0===e?void 0:e.transaction)?null===(t=a)||void 0===t?void 0:t.transaction:(null===(r=null===(n=a)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?a.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"===typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=Object(i.a)(Object(i.a)({},this._tags),t._tags),this._extra=Object(i.a)(Object(i.a)({},this._extra),t._extra),this._contexts=Object(i.a)(Object(i.a)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):Object(v.e)(t)&&(t=t,this._tags=Object(i.a)(Object(i.a)({},this._tags),t.tags),this._extra=Object(i.a)(Object(i.a)({},this._extra),t.extra),this._contexts=Object(i.a)(Object(i.a)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n="number"===typeof t?Math.min(t,100):100;if(n<=0)return this;var r=Object(i.a)({timestamp:Object(s.a)()},e);return this._breadcrumbs=Object(i.b)(this._breadcrumbs,[r]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=Object(i.a)(Object(i.a)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=Object(i.a)(Object(i.a)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=Object(i.a)(Object(i.a)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=Object(i.a)(Object(i.a)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=Object(i.a)({trace:this._span.getTraceContext()},e.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(e.tags=Object(i.a)({transaction:r},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=Object(i.b)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(Object(i.b)(b(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,n,r){var a=this;return void 0===r&&(r=0),new m((function(o,u){var s=e[r];if(null===t||"function"!==typeof s)o(t);else{var c=s(Object(i.a)({},t),n);Object(v.j)(c)?c.then((function(t){return a._notifyEventProcessors(e,t,n,r+1).then(o)})).then(null,u):a._notifyEventProcessors(e,c,n,r+1).then(o).then(null,u)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function b(){var e=Object(o.a)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}var y=n(998),x=function(){function e(e){this.errors=0,this.sid=u(),this.duration=0,this.status=r.Ok,this.init=!0,this.ignoreDuration=!1;var t=Object(s.b)();this.timestamp=t,this.started=t,e&&this.update(e)}return e.prototype.update=function(e){if(void 0===e&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),this.did||e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Object(s.b)(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=32===e.sid.length?e.sid:u()),void 0!==e.init&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),"number"===typeof e.started&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if("number"===typeof e.duration)this.duration=e.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),"number"===typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===r.Ok?this.update({status:r.Exited}):this.update()},e.prototype.toJSON=function(){return Object(y.a)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"===typeof this.did||"string"===typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(y.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),w=function(){function e(e,t,n){void 0===t&&(t=new g),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=t,e&&this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=g.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=u(),r=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(e){a=e}r={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,Object(i.a)(Object(i.a)({},r),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var r=this._lastEventId=u(),a=n;if(!n){var o=void 0;try{throw new Error(e)}catch(s){o=s}a={originalException:e,syntheticException:o}}return this._invokeClient("captureMessage",e,t,Object(i.a)(Object(i.a)({},a),{event_id:r})),r},e.prototype.captureEvent=function(e,t){var n=u();return"transaction"!==e.type&&(this._lastEventId=n),this._invokeClient("captureEvent",e,Object(i.a)(Object(i.a)({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),r=n.scope,a=n.client;if(r&&a){var o=a.getOptions&&a.getOptions()||{},u=o.beforeBreadcrumb,c=void 0===u?null:u,l=o.maxBreadcrumbs,d=void 0===l?100:l;if(!(d<=0)){var h=Object(s.a)(),p=Object(i.a)({timestamp:h},e),v=c?f((function(){return c(p,t)})):p;null!==v&&r.addBreadcrumb(v,d)}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=k(this);try{e(this)}finally{k(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return h.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var e,t,n,r,a;null===(n=null===(t=null===(e=this.getStackTop())||void 0===e?void 0:e.scope)||void 0===t?void 0:t.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(a=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===a||a.setSession()},e.prototype.startSession=function(e){var t=this.getStackTop(),n=t.scope,a=t.client,u=a&&a.getOptions()||{},s=u.release,c=u.environment,l=(Object(o.a)().navigator||{}).userAgent,f=new x(Object(i.a)(Object(i.a)(Object(i.a)({release:s,environment:c},n&&{user:n.getUser()}),l&&{userAgent:l}),e));if(n){var d=n.getSession&&n.getSession();d&&d.status===r.Ok&&d.update({status:r.Exited}),this.endSession(),n.setSession(f)}return f},e.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},e.prototype._invokeClient=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=this.getStackTop(),o=a.scope,u=a.client;u&&u[e]&&(t=u)[e].apply(t,Object(i.b)(n,[o]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=O(),a=r.__SENTRY__;if(a&&a.extensions&&"function"===typeof a.extensions[e])return a.extensions[e].apply(this,t);h.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function O(){var e=Object(o.a)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function k(e){var t=O(),n=S(t);return E(t,e),n}function j(){var e=O();return _(e)&&!S(e).isOlderThan(4)||E(e,new w),Object(p.b)()?function(e){var t,n,r;try{var a=null===(r=null===(n=null===(t=O().__SENTRY__)||void 0===t?void 0:t.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;if(!a)return S(e);if(!_(a)||S(a).isOlderThan(4)){var i=S(e).getStackTop();E(a,new w(i.client,g.clone(i.scope)))}return S(a)}catch(o){return S(e)}}(e):S(e)}function _(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function S(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new w),e.__SENTRY__.hub}function E(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}function A(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=j();if(r&&r[e])return r[e].apply(r,Object(i.b)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}var C="redux.state",N={actionTransformer:function(e){return e},stateTransformer:function(e){return e||null}};function T(e){var t=Object(i.a)(Object(i.a)({},N),e);return function(e){return function(n,r){return e((function(e,r){var a=n(e,r);return A("configureScope",(function(e){var n=t.actionTransformer(r);"undefined"!==typeof n&&null!==n&&e.addBreadcrumb({category:"redux.action",data:n,type:"info"});var i=t.stateTransformer(a);"undefined"!==typeof i&&null!==i?e.setContext(C,i):e.setContext(C,null);var o=t.configureScopeWithState;"function"===typeof o&&o(e,a)})),a}),r)}}}},function(e,t,n){"use strict";var r=n(6),a=n(15),i=n(11),o=n(26),u=n(1),s=n.n(u),c=n(28),l=n(274),f=n(25),d=n(32),h=n(70),p=n(179),v=n(241),m=n(16);function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var b=n(67),y=n(379),x=n(272);function w(e,t){var n=Object.create(null);return e&&u.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(u.isValidElement)(e)?t(e):e}(e)})),n}function O(e,t,n){return null!=n[t]?n[t]:e.props[t]}function k(e,t,n){var r=w(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),i=[];for(var o in e)o in t?i.length&&(a[o]=i,i=[]):i.push(o);var u={};for(var s in t){if(a[s])for(r=0;r<a[s].length;r++){var c=a[s][r];u[a[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<i.length;r++)u[i[r]]=n(i[r]);return u}(t,r);return Object.keys(a).forEach((function(i){var o=a[i];if(Object(u.isValidElement)(o)){var s=i in t,c=i in r,l=t[i],f=Object(u.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&Object(u.isValidElement)(l)&&(a[i]=Object(u.cloneElement)(o,{onExited:n.bind(null,o),in:l.props.in,exit:O(o,"exit",e),enter:O(o,"enter",e)})):a[i]=Object(u.cloneElement)(o,{in:!1}):a[i]=Object(u.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:O(o,"exit",e),enter:O(o,"enter",e)})}})),a}var j=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},_=function(e){function t(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(Object(b.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}Object(y.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,r=i,w(n.children,(function(e){return Object(u.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:O(e,"appear",n),enter:O(e,"enter",n),exit:O(e,"exit",n)})}))):k(e,a,i),firstRender:!1}},n.handleExited=function(e,t){var n=w(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(i.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(o.a)(e,["component","childFactory"]),a=this.state.contextValue,i=j(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?s.a.createElement(x.a.Provider,{value:a},i):s.a.createElement(x.a.Provider,{value:a},s.a.createElement(t,r,i))},t}(s.a.Component);_.propTypes={},_.defaultProps={component:"div",childFactory:function(e){return e}};var S=_,E=n(187),A=n(2);var C=function(e){var t=e.className,n=e.classes,a=e.pulsate,i=void 0!==a&&a,o=e.rippleX,s=e.rippleY,l=e.rippleSize,f=e.in,d=e.onExited,h=e.timeout,p=u.useState(!1),v=Object(r.a)(p,2),m=v[0],g=v[1],b=Object(c.a)(t,n.ripple,n.rippleVisible,i&&n.ripplePulsate),y={width:l,height:l,top:-l/2+s,left:-l/2+o},x=Object(c.a)(n.child,m&&n.childLeaving,i&&n.childPulsate);return f||m||g(!0),u.useEffect((function(){if(!f&&null!=d){var e=setTimeout(d,h);return function(){clearTimeout(e)}}}),[d,f,h]),Object(A.jsx)("span",{className:b,style:y,children:Object(A.jsx)("span",{className:x})})},N=n(184),T=n(209);var D,I,M,F,R,P,z,B,L=Object(T.a)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),U=["center","classes","className"],W=Object(E.b)(R||(R=D||(D=g(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),V=Object(E.b)(P||(P=I||(I=g(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),H=Object(E.b)(z||(z=M||(M=g(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),G=Object(f.a)("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),q=Object(f.a)(C,{name:"MuiTouchRipple",slot:"Ripple"})(B||(B=F||(F=g(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),L.rippleVisible,W,550,(function(e){return e.theme.transitions.easing.easeInOut}),L.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),L.child,L.childLeaving,V,550,(function(e){return e.theme.transitions.easing.easeInOut}),L.childPulsate,H,(function(e){return e.theme.transitions.easing.easeInOut})),X=u.forwardRef((function(e,t){var n=Object(d.a)({props:e,name:"MuiTouchRipple"}),a=n.center,s=void 0!==a&&a,l=n.classes,f=void 0===l?{}:l,h=n.className,p=Object(o.a)(n,U),v=u.useState([]),g=Object(r.a)(v,2),b=g[0],y=g[1],x=u.useRef(0),w=u.useRef(null);u.useEffect((function(){w.current&&(w.current(),w.current=null)}),[b]);var O=u.useRef(!1),k=u.useRef(null),j=u.useRef(null),_=u.useRef(null);u.useEffect((function(){return function(){clearTimeout(k.current)}}),[]);var E=u.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,a=e.rippleSize,i=e.cb;y((function(e){return[].concat(Object(m.a)(e),[Object(A.jsx)(q,{classes:{ripple:Object(c.a)(f.ripple,L.ripple),rippleVisible:Object(c.a)(f.rippleVisible,L.rippleVisible),ripplePulsate:Object(c.a)(f.ripplePulsate,L.ripplePulsate),child:Object(c.a)(f.child,L.child),childLeaving:Object(c.a)(f.childLeaving,L.childLeaving),childPulsate:Object(c.a)(f.childPulsate,L.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a},x.current)])})),x.current+=1,w.current=i}),[f]),C=u.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,i=t.center,o=void 0===i?s||t.pulsate:i,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&O.current)O.current=!1;else{"touchstart"===e.type&&(O.current=!0);var l,f,d,h=c?null:_.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,g=v.clientY;l=Math.round(m-p.left),f=Math.round(g-p.top)}if(o)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var b=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,y=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(b,2)+Math.pow(y,2))}e.touches?null===j.current&&(j.current=function(){E({pulsate:a,rippleX:l,rippleY:f,rippleSize:d,cb:n})},k.current=setTimeout((function(){j.current&&(j.current(),j.current=null)}),80)):E({pulsate:a,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[s,E]),N=u.useCallback((function(){C({},{pulsate:!0})}),[C]),T=u.useCallback((function(e,t){if(clearTimeout(k.current),"touchend"===e.type&&j.current)return j.current(),j.current=null,void(k.current=setTimeout((function(){T(e,t)})));j.current=null,y((function(e){return e.length>0?e.slice(1):e})),w.current=t}),[]);return u.useImperativeHandle(t,(function(){return{pulsate:N,start:C,stop:T}}),[N,C,T]),Object(A.jsx)(G,Object(i.a)({className:Object(c.a)(f.root,L.root,h),ref:_},p,{children:Object(A.jsx)(S,{component:null,exit:!0,children:b})}))})),Y=X;function K(e){return Object(N.a)("MuiButtonBase",e)}var $,Z=Object(T.a)("MuiButtonBase",["root","disabled","focusVisible"]),J=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],Q=Object(f.a)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})(($={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},Object(a.a)($,"&.".concat(Z.disabled),{pointerEvents:"none",cursor:"default"}),Object(a.a)($,"@media print",{colorAdjust:"exact"}),$)),ee=u.forwardRef((function(e,t){var n=Object(d.a)({props:e,name:"MuiButtonBase"}),a=n.action,s=n.centerRipple,f=void 0!==s&&s,m=n.children,g=n.className,b=n.component,y=void 0===b?"button":b,x=n.disabled,w=void 0!==x&&x,O=n.disableRipple,k=void 0!==O&&O,j=n.disableTouchRipple,_=void 0!==j&&j,S=n.focusRipple,E=void 0!==S&&S,C=n.LinkComponent,N=void 0===C?"a":C,T=n.onBlur,D=n.onClick,I=n.onContextMenu,M=n.onDragLeave,F=n.onFocus,R=n.onFocusVisible,P=n.onKeyDown,z=n.onKeyUp,B=n.onMouseDown,L=n.onMouseLeave,U=n.onMouseUp,W=n.onTouchEnd,V=n.onTouchMove,H=n.onTouchStart,G=n.tabIndex,q=void 0===G?0:G,X=n.TouchRippleProps,$=n.type,Z=Object(o.a)(n,J),ee=u.useRef(null),te=u.useRef(null),ne=Object(v.a)(),re=ne.isFocusVisibleRef,ae=ne.onFocus,ie=ne.onBlur,oe=ne.ref,ue=u.useState(!1),se=Object(r.a)(ue,2),ce=se[0],le=se[1];function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return Object(p.a)((function(r){return t&&t(r),!n&&te.current&&te.current[e](r),!0}))}w&&ce&&le(!1),u.useImperativeHandle(a,(function(){return{focusVisible:function(){le(!0),ee.current.focus()}}}),[]),u.useEffect((function(){ce&&E&&!k&&te.current.pulsate()}),[k,E,ce]);var de=fe("start",B),he=fe("stop",I),pe=fe("stop",M),ve=fe("stop",U),me=fe("stop",(function(e){ce&&e.preventDefault(),L&&L(e)})),ge=fe("start",H),be=fe("stop",W),ye=fe("stop",V),xe=fe("stop",(function(e){ie(e),!1===re.current&&le(!1),T&&T(e)}),!1),we=Object(p.a)((function(e){ee.current||(ee.current=e.currentTarget),ae(e),!0===re.current&&(le(!0),R&&R(e)),F&&F(e)})),Oe=function(){var e=ee.current;return y&&"button"!==y&&!("A"===e.tagName&&e.href)},ke=u.useRef(!1),je=Object(p.a)((function(e){E&&!ke.current&&ce&&te.current&&" "===e.key&&(ke.current=!0,te.current.stop(e,(function(){te.current.start(e)}))),e.target===e.currentTarget&&Oe()&&" "===e.key&&e.preventDefault(),P&&P(e),e.target===e.currentTarget&&Oe()&&"Enter"===e.key&&!w&&(e.preventDefault(),D&&D(e))})),_e=Object(p.a)((function(e){E&&" "===e.key&&te.current&&ce&&!e.defaultPrevented&&(ke.current=!1,te.current.stop(e,(function(){te.current.pulsate(e)}))),z&&z(e),D&&e.target===e.currentTarget&&Oe()&&" "===e.key&&!e.defaultPrevented&&D(e)})),Se=y;"button"===Se&&(Z.href||Z.to)&&(Se=N);var Ee={};"button"===Se?(Ee.type=void 0===$?"button":$,Ee.disabled=w):(Z.href||Z.to||(Ee.role="button"),w&&(Ee["aria-disabled"]=w));var Ae=Object(h.a)(oe,ee),Ce=Object(h.a)(t,Ae),Ne=u.useState(!1),Te=Object(r.a)(Ne,2),De=Te[0],Ie=Te[1];u.useEffect((function(){Ie(!0)}),[]);var Me=De&&!k&&!w;var Fe=Object(i.a)({},n,{centerRipple:f,component:y,disabled:w,disableRipple:k,disableTouchRipple:_,focusRipple:E,tabIndex:q,focusVisible:ce}),Re=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,a=e.classes,i={root:["root",t&&"disabled",n&&"focusVisible"]},o=Object(l.a)(i,K,a);return n&&r&&(o.root+=" ".concat(r)),o}(Fe);return Object(A.jsxs)(Q,Object(i.a)({as:Se,className:Object(c.a)(Re.root,g),ownerState:Fe,onBlur:xe,onClick:D,onContextMenu:he,onFocus:we,onKeyDown:je,onKeyUp:_e,onMouseDown:de,onMouseLeave:me,onMouseUp:ve,onDragLeave:pe,onTouchEnd:be,onTouchMove:ye,onTouchStart:ge,ref:Ce,tabIndex:w?-1:q,type:$},Ee,Z,{children:[m,Me?Object(A.jsx)(Y,Object(i.a)({ref:te,center:f},X)):null]}))}));t.a=ee},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(914),l=n(25),f=n(32),d=n(29),h=n(1022),p=n(184),v=n(209);function m(e){return Object(p.a)("MuiAlert",e)}var g,b=Object(v.a)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),y=n(1024),x=n(76),w=n(2),O=Object(x.a)(Object(w.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),k=Object(x.a)(Object(w.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),j=Object(x.a)(Object(w.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),_=Object(x.a)(Object(w.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),S=n(387),E=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],A=Object(l.a)(h.a,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Object(d.a)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,a="light"===t.palette.mode?c.b:c.d,o="light"===t.palette.mode?c.d:c.b,u=n.color||n.severity;return Object(i.a)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},u&&"standard"===n.variant&&Object(r.a)({color:a(t.palette[u].light,.6),backgroundColor:o(t.palette[u].light,.9)},"& .".concat(b.icon),{color:"dark"===t.palette.mode?t.palette[u].main:t.palette[u].light}),u&&"outlined"===n.variant&&Object(r.a)({color:a(t.palette[u].light,.6),border:"1px solid ".concat(t.palette[u].light)},"& .".concat(b.icon),{color:"dark"===t.palette.mode?t.palette[u].main:t.palette[u].light}),u&&"filled"===n.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[u].dark:t.palette[u].main})})),C=Object(l.a)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),N=Object(l.a)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),T=Object(l.a)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),D={success:Object(w.jsx)(O,{fontSize:"inherit"}),warning:Object(w.jsx)(k,{fontSize:"inherit"}),error:Object(w.jsx)(j,{fontSize:"inherit"}),info:Object(w.jsx)(_,{fontSize:"inherit"})},I=o.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiAlert"}),r=n.action,o=n.children,c=n.className,l=n.closeText,h=void 0===l?"Close":l,p=n.color,v=n.icon,b=n.iconMapping,x=void 0===b?D:b,O=n.onClose,k=n.role,j=void 0===k?"alert":k,_=n.severity,I=void 0===_?"success":_,M=n.variant,F=void 0===M?"standard":M,R=Object(a.a)(n,E),P=Object(i.a)({},n,{color:p,severity:I,variant:F}),z=function(e){var t=e.variant,n=e.color,r=e.severity,a=e.classes,i={root:["root","".concat(t).concat(Object(d.a)(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return Object(s.a)(i,m,a)}(P);return Object(w.jsxs)(A,Object(i.a)({role:j,elevation:0,ownerState:P,className:Object(u.a)(z.root,c),ref:t},R,{children:[!1!==v?Object(w.jsx)(C,{ownerState:P,className:z.icon,children:v||x[I]||D[I]}):null,Object(w.jsx)(N,{ownerState:P,className:z.message,children:o}),null!=r?Object(w.jsx)(T,{className:z.action,children:r}):null,null==r&&O?Object(w.jsx)(T,{ownerState:P,className:z.action,children:Object(w.jsx)(y.a,{size:"small","aria-label":h,title:h,color:"inherit",onClick:O,children:g||(g=Object(w.jsx)(S.a,{fontSize:"small"}))})}):null]}))}));t.a=I},function(e,t,n){"use strict";var r=n(11),a=n(26),i=n(1),o=n(28),u=n(274),s=n(920),c=n(25),l=n(32),f=n(987),d=n(988),h=n(1031),p=n(15),v=n(140),m=n(119),g=n(29),b=n(184),y=n(209);function x(e){return Object(b.a)("MuiFormLabel",e)}var w=Object(y.a)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),O=n(2),k=["children","className","color","component","disabled","error","filled","focused","required"],j=Object(c.a)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Object(r.a)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,a=e.ownerState;return Object(r.a)({color:n.palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},Object(p.a)(t,"&.".concat(w.focused),{color:n.palette[a.color].main}),Object(p.a)(t,"&.".concat(w.disabled),{color:n.palette.text.disabled}),Object(p.a)(t,"&.".concat(w.error),{color:n.palette.error.main}),t))})),_=Object(c.a)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return Object(p.a)({},"&.".concat(w.error),{color:t.palette.error.main})})),S=i.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiFormLabel"}),i=n.children,s=n.className,c=n.component,f=void 0===c?"label":c,d=Object(a.a)(n,k),h=Object(m.a)(),p=Object(v.a)({props:n,muiFormControl:h,states:["color","required","focused","disabled","error","filled"]}),b=Object(r.a)({},n,{color:p.color||"primary",component:f,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required}),y=function(e){var t=e.classes,n=e.color,r=e.focused,a=e.disabled,i=e.error,o=e.filled,s=e.required,c={root:["root","color".concat(Object(g.a)(n)),a&&"disabled",i&&"error",o&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",i&&"error"]};return Object(u.a)(c,x,t)}(b);return Object(O.jsxs)(j,Object(r.a)({as:f,ownerState:b,className:Object(o.a)(y.root,s),ref:t},d,{children:[i,p.required&&Object(O.jsxs)(_,{ownerState:b,"aria-hidden":!0,className:y.asterisk,children:["\u2009","*"]})]}))}));function E(e){return Object(b.a)("MuiInputLabel",e)}Object(y.a)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var A=["disableAnimation","margin","shrink","variant"],C=Object(c.a)(S,{shouldForwardProp:function(e){return Object(c.b)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(p.a)({},"& .".concat(w.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&Object(r.a)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&Object(r.a)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&Object(r.a)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),N=i.forwardRef((function(e,t){var n=Object(l.a)({name:"MuiInputLabel",props:e}),i=n.disableAnimation,o=void 0!==i&&i,s=n.shrink,c=Object(a.a)(n,A),f=Object(m.a)(),d=s;"undefined"===typeof d&&f&&(d=f.filled||f.focused||f.adornedStart);var h=Object(v.a)({props:n,muiFormControl:f,states:["size","variant","required"]}),p=Object(r.a)({},n,{disableAnimation:o,formControl:f,shrink:d,size:h.size,variant:h.variant,required:h.required}),g=function(e){var t=e.classes,n=e.formControl,a=e.size,i=e.shrink,o={root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===a&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},s=Object(u.a)(o,E,t);return Object(r.a)({},t,s)}(p);return Object(O.jsx)(C,Object(r.a)({"data-shrink":d,ownerState:p,ref:t},c,{classes:g}))})),T=n(1032),D=n(1033),I=n(1008);function M(e){return Object(b.a)("MuiTextField",e)}Object(y.a)("MuiTextField",["root"]);var F=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],R={standard:f.a,filled:d.a,outlined:h.a},P=Object(c.a)(T.a,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),z=i.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiTextField"}),i=n.autoComplete,c=n.autoFocus,f=void 0!==c&&c,d=n.children,h=n.className,p=n.color,v=void 0===p?"primary":p,m=n.defaultValue,g=n.disabled,b=void 0!==g&&g,y=n.error,x=void 0!==y&&y,w=n.FormHelperTextProps,k=n.fullWidth,j=void 0!==k&&k,_=n.helperText,S=n.id,E=n.InputLabelProps,A=n.inputProps,C=n.InputProps,T=n.inputRef,z=n.label,B=n.maxRows,L=n.minRows,U=n.multiline,W=void 0!==U&&U,V=n.name,H=n.onBlur,G=n.onChange,q=n.onFocus,X=n.placeholder,Y=n.required,K=void 0!==Y&&Y,$=n.rows,Z=n.select,J=void 0!==Z&&Z,Q=n.SelectProps,ee=n.type,te=n.value,ne=n.variant,re=void 0===ne?"outlined":ne,ae=Object(a.a)(n,F),ie=Object(r.a)({},n,{autoFocus:f,color:v,disabled:b,error:x,fullWidth:j,multiline:W,required:K,select:J,variant:re}),oe=function(e){var t=e.classes;return Object(u.a)({root:["root"]},M,t)}(ie);var ue={};"outlined"===re&&(E&&"undefined"!==typeof E.shrink&&(ue.notched=E.shrink),ue.label=z),J&&(Q&&Q.native||(ue.id=void 0),ue["aria-describedby"]=void 0);var se=Object(s.a)(S),ce=_&&se?"".concat(se,"-helper-text"):void 0,le=z&&se?"".concat(se,"-label"):void 0,fe=R[re],de=Object(O.jsx)(fe,Object(r.a)({"aria-describedby":ce,autoComplete:i,autoFocus:f,defaultValue:m,fullWidth:j,multiline:W,name:V,rows:$,maxRows:B,minRows:L,type:ee,value:te,id:se,inputRef:T,onBlur:H,onChange:G,onFocus:q,placeholder:X,inputProps:A},ue,C));return Object(O.jsxs)(P,Object(r.a)({className:Object(o.a)(oe.root,h),disabled:b,error:x,fullWidth:j,ref:t,required:K,color:v,variant:re,ownerState:ie},ae,{children:[z&&Object(O.jsx)(N,Object(r.a)({htmlFor:se,id:le},E,{children:z})),J?Object(O.jsx)(I.a,Object(r.a)({"aria-describedby":ce,id:se,labelId:le,value:te,input:de},Q,{children:d})):de,_&&Object(O.jsx)(D.a,Object(r.a)({id:ce},w,{children:_}))]}))}));t.a=z},function(e,t,n){"use strict";var r,a=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var u=function(e){return"string"===typeof e&&o.test(e)},s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n};t.a=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return l(r)}},function(e,t,n){"use strict";var r=n(6),a=n(26),i=n(11),o=n(1),u=n(114),s=n(209),c=n(184);function l(e){return Object(c.a)("MuiModal",e)}Object(s.a)("MuiModal",["root","hidden"]);var f=n(28),d=n(632),h=n(457),p=n(918),v=n(981),m=n(274),g=n(982),b=n(4),y=n(5),x=n(16),w=n(919),O=n(980);function k(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function j(e){return parseInt(Object(w.a)(e).getComputedStyle(e).paddingRight,10)||0}function _(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0,i=[t,n].concat(Object(x.a)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===i.indexOf(e)&&-1===o.indexOf(e.tagName)&&k(e,a)}))}function S(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function E(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(h.a)(e);return t.body===e?Object(w.a)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var a=Object(O.a)(Object(h.a)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(j(r)+a,"px");var i=Object(h.a)(r).querySelectorAll(".mui-fixed");[].forEach.call(i,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(j(e)+a,"px")}))}var o=r.parentElement,u=Object(w.a)(r),s="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===u.getComputedStyle(o).overflowY?o:r;n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var A=function(){function e(){Object(b.a)(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return Object(y.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&k(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);_(t,e.mount,e.modalRef,r,!0);var a=S(this.containers,(function(e){return e.container===t}));return-1!==a?(this.containers[a].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=S(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=E(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=S(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&k(e.modalRef,!0),_(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var a=r.modals[r.modals.length-1];a.modalRef&&k(a.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),C=n(2),N=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function T(e){var t=[],n=[];return Array.from(e.querySelectorAll(N)).forEach((function(e,r){var a=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==a&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===a?t.push(e):n.push({documentOrder:r,tabIndex:a,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function D(){return!0}var I=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,a=e.disableEnforceFocus,i=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?T:c,f=e.isEnabled,p=void 0===f?D:f,v=e.open,m=o.useRef(),g=o.useRef(null),b=o.useRef(null),y=o.useRef(null),x=o.useRef(null),w=o.useRef(!1),O=o.useRef(null),k=Object(d.a)(t.ref,O),j=o.useRef(null);o.useEffect((function(){v&&O.current&&(w.current=!r)}),[r,v]),o.useEffect((function(){if(v&&O.current){var e=Object(h.a)(O.current);return O.current.contains(e.activeElement)||(O.current.hasAttribute("tabIndex")||O.current.setAttribute("tabIndex",-1),w.current&&O.current.focus()),function(){s||(y.current&&y.current.focus&&(m.current=!0,y.current.focus()),y.current=null)}}}),[v]),o.useEffect((function(){if(v&&O.current){var e=Object(h.a)(O.current),t=function(t){var n=O.current;if(null!==n)if(e.hasFocus()&&!i&&p()&&!m.current){if(!n.contains(e.activeElement)){if(t&&x.current!==t.target||e.activeElement!==x.current)x.current=null;else if(null!==x.current)return;if(!w.current)return;var r=[];if(e.activeElement!==g.current&&e.activeElement!==b.current||(r=l(O.current)),r.length>0){var a,o,u=Boolean((null==(a=j.current)?void 0:a.shiftKey)&&"Tab"===(null==(o=j.current)?void 0:o.key)),s=r[0],c=r[r.length-1];u?c.focus():s.focus()}else n.focus()}}else m.current=!1},n=function(t){j.current=t,!i&&p()&&"Tab"===t.key&&e.activeElement===O.current&&t.shiftKey&&(m.current=!0,b.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[r,i,s,p,v,l]);var _=function(e){null===y.current&&(y.current=e.relatedTarget),w.current=!0};return Object(C.jsxs)(o.Fragment,{children:[Object(C.jsx)("div",{tabIndex:0,onFocus:_,ref:g,"data-test":"sentinelStart"}),o.cloneElement(t,{ref:k,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),w.current=!0,x.current=e.target;var n=t.props.onFocus;n&&n(e)}}),Object(C.jsx)("div",{tabIndex:0,onFocus:_,ref:b,"data-test":"sentinelEnd"})]})},M=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var F=new A,R=o.forwardRef((function(e,t){var n=e.BackdropComponent,s=e.BackdropProps,c=e.children,b=e.classes,y=e.className,x=e.closeAfterTransition,w=void 0!==x&&x,O=e.component,j=void 0===O?"div":O,_=e.components,S=void 0===_?{}:_,E=e.componentsProps,A=void 0===E?{}:E,N=e.container,T=e.disableAutoFocus,D=void 0!==T&&T,R=e.disableEnforceFocus,P=void 0!==R&&R,z=e.disableEscapeKeyDown,B=void 0!==z&&z,L=e.disablePortal,U=void 0!==L&&L,W=e.disableRestoreFocus,V=void 0!==W&&W,H=e.disableScrollLock,G=void 0!==H&&H,q=e.hideBackdrop,X=void 0!==q&&q,Y=e.keepMounted,K=void 0!==Y&&Y,$=e.manager,Z=void 0===$?F:$,J=e.onBackdropClick,Q=e.onClose,ee=e.onKeyDown,te=e.open,ne=e.theme,re=e.onTransitionEnter,ae=e.onTransitionExited,ie=Object(a.a)(e,M),oe=o.useState(!0),ue=Object(r.a)(oe,2),se=ue[0],ce=ue[1],le=o.useRef({}),fe=o.useRef(null),de=o.useRef(null),he=Object(d.a)(de,t),pe=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),ve=function(){return le.current.modalRef=de.current,le.current.mountNode=fe.current,le.current},me=function(){Z.mount(ve(),{disableScrollLock:G}),de.current.scrollTop=0},ge=Object(p.a)((function(){var e=function(e){return"function"===typeof e?e():e}(N)||Object(h.a)(fe.current).body;Z.add(ve(),e),de.current&&me()})),be=o.useCallback((function(){return Z.isTopModal(ve())}),[Z]),ye=Object(p.a)((function(e){fe.current=e,e&&(te&&be()?me():k(de.current,!0))})),xe=o.useCallback((function(){Z.remove(ve())}),[Z]);o.useEffect((function(){return function(){xe()}}),[xe]),o.useEffect((function(){te?ge():pe&&w||xe()}),[te,xe,pe,w,ge]);var we=Object(i.a)({},e,{classes:b,closeAfterTransition:w,disableAutoFocus:D,disableEnforceFocus:P,disableEscapeKeyDown:B,disablePortal:U,disableRestoreFocus:V,disableScrollLock:G,exited:se,hideBackdrop:X,keepMounted:K}),Oe=function(e){var t=e.open,n=e.exited,r=e.classes,a={root:["root",!t&&n&&"hidden"]};return Object(m.a)(a,l,r)}(we);if(!K&&!te&&(!pe||se))return null;var ke={};void 0===c.props.tabIndex&&(ke.tabIndex="-1"),pe&&(ke.onEnter=Object(v.a)((function(){ce(!1),re&&re()}),c.props.onEnter),ke.onExited=Object(v.a)((function(){ce(!0),ae&&ae(),w&&xe()}),c.props.onExited));var je=S.Root||j,_e=A.root||{};return Object(C.jsx)(g.a,{ref:ye,container:N,disablePortal:U,children:Object(C.jsxs)(je,Object(i.a)({role:"presentation"},_e,!Object(u.a)(je)&&{as:j,ownerState:Object(i.a)({},we,_e.ownerState),theme:ne},ie,{ref:he,onKeyDown:function(e){ee&&ee(e),"Escape"===e.key&&be()&&(B||(e.stopPropagation(),Q&&Q(e,"escapeKeyDown")))},className:Object(f.a)(Oe.root,_e.className,y),children:[!X&&n?Object(C.jsx)(n,Object(i.a)({open:te,onClick:function(e){e.target===e.currentTarget&&(J&&J(e),Q&&Q(e,"backdropClick"))}},s)):null,Object(C.jsx)(I,{disableEnforceFocus:P,disableAutoFocus:D,disableRestoreFocus:V,isEnabled:be,open:te,children:o.cloneElement(c,ke)})]}))})})),P=n(25),z=n(32),B=n(1012),L=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],U=Object(P.a)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),W=Object(P.a)(B.a,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),V=o.forwardRef((function(e,t){var n,s=Object(z.a)({name:"MuiModal",props:e}),c=s.BackdropComponent,l=void 0===c?W:c,f=s.closeAfterTransition,d=void 0!==f&&f,h=s.children,p=s.components,v=void 0===p?{}:p,m=s.componentsProps,g=void 0===m?{}:m,b=s.disableAutoFocus,y=void 0!==b&&b,x=s.disableEnforceFocus,w=void 0!==x&&x,O=s.disableEscapeKeyDown,k=void 0!==O&&O,j=s.disablePortal,_=void 0!==j&&j,S=s.disableRestoreFocus,E=void 0!==S&&S,A=s.disableScrollLock,N=void 0!==A&&A,T=s.hideBackdrop,D=void 0!==T&&T,I=s.keepMounted,M=void 0!==I&&I,F=Object(a.a)(s,L),P=o.useState(!0),B=Object(r.a)(P,2),V=B[0],H=B[1],G={closeAfterTransition:d,disableAutoFocus:y,disableEnforceFocus:w,disableEscapeKeyDown:k,disablePortal:_,disableRestoreFocus:E,disableScrollLock:N,hideBackdrop:D,keepMounted:M},q=function(e){return e.classes}(Object(i.a)({},s,G,{exited:V}));return Object(C.jsx)(R,Object(i.a)({components:Object(i.a)({Root:U},v),componentsProps:{root:Object(i.a)({},g.root,(!v.Root||!Object(u.a)(v.Root))&&{ownerState:Object(i.a)({},null==(n=g.root)?void 0:n.ownerState)})},BackdropComponent:l,onTransitionEnter:function(){return H(!1)},onTransitionExited:function(){return H(!0)},ref:t},F,{classes:q},G,{children:h}))}));t.a=V},function(e,t,n){"use strict";var r=n(11),a=n(26),i=n(1),o=n(28),u=n(304),s=n(6),c=n(15),l=n(401),f=(n(238),n(274)),d=n(166),h=n(29),p=n(630),v=n(184),m=n(209);function g(e){return Object(v.a)("MuiNativeSelect",e)}var b=Object(m.a)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),y=n(25),x=n(2),w=["className","disabled","IconComponent","inputRef","variant"],O=function(e){var t,n=e.ownerState,a=e.theme;return Object(r.a)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===a.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},Object(c.a)(t,"&.".concat(b.disabled),{cursor:"default"}),Object(c.a)(t,"&[multiple]",{height:"auto"}),Object(c.a)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:a.palette.background.paper}),Object(c.a)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:a.shape.borderRadius,"&:focus":{borderRadius:a.shape.borderRadius},"&&&":{paddingRight:32}})},k=Object(y.a)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:y.b,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],Object(c.a)({},"&.".concat(b.multiple),t.multiple)]}})(O),j=function(e){var t=e.ownerState,n=e.theme;return Object(r.a)(Object(c.a)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(b.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},_=Object(y.a)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Object(h.a)(n.variant))],n.open&&t.iconOpen]}})(j),S=i.forwardRef((function(e,t){var n=e.className,u=e.disabled,s=e.IconComponent,c=e.inputRef,l=e.variant,d=void 0===l?"standard":l,p=Object(a.a)(e,w),v=Object(r.a)({},e,{disabled:u,variant:d}),m=function(e){var t=e.classes,n=e.variant,r=e.disabled,a=e.multiple,i=e.open,o={select:["select",n,r&&"disabled",a&&"multiple"],icon:["icon","icon".concat(Object(h.a)(n)),i&&"iconOpen",r&&"disabled"]};return Object(f.a)(o,g,t)}(v);return Object(x.jsxs)(i.Fragment,{children:[Object(x.jsx)(k,Object(r.a)({ownerState:v,className:Object(o.a)(m.select,n),disabled:u,ref:c||t},p)),e.multiple?null:Object(x.jsx)(_,{as:s,ownerState:v,className:m.icon})]})})),E=n(222),A=n(70),C=n(198);function N(e){return Object(v.a)("MuiSelect",e)}var T=Object(m.a)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),D=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],I=Object(y.a)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[Object(c.a)({},"&.".concat(T.select),t.select),Object(c.a)({},"&.".concat(T.select),t[n.variant]),Object(c.a)({},"&.".concat(T.multiple),t.multiple)]}})(O,Object(c.a)({},"&.".concat(T.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),M=Object(y.a)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Object(h.a)(n.variant))],n.open&&t.iconOpen]}})(j),F=Object(y.a)("input",{shouldForwardProp:function(e){return Object(y.c)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function R(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function P(e){return null==e||"string"===typeof e&&!e.trim()}var z,B,L=i.forwardRef((function(e,t){var n=e["aria-describedby"],u=e["aria-label"],c=e.autoFocus,v=e.autoWidth,m=e.children,g=e.className,b=e.defaultValue,y=e.disabled,w=e.displayEmpty,O=e.IconComponent,k=e.inputRef,j=e.labelId,_=e.MenuProps,S=void 0===_?{}:_,T=e.multiple,z=e.name,B=e.onBlur,L=e.onChange,U=e.onClose,W=e.onFocus,V=e.onOpen,H=e.open,G=e.readOnly,q=e.renderValue,X=e.SelectDisplayProps,Y=void 0===X?{}:X,K=e.tabIndex,$=e.value,Z=e.variant,J=void 0===Z?"standard":Z,Q=Object(a.a)(e,D),ee=Object(C.a)({controlled:$,default:b,name:"Select"}),te=Object(s.a)(ee,2),ne=te[0],re=te[1],ae=i.useRef(null),ie=i.useRef(null),oe=i.useState(null),ue=Object(s.a)(oe,2),se=ue[0],ce=ue[1],le=i.useRef(null!=H).current,fe=i.useState(),de=Object(s.a)(fe,2),he=de[0],pe=de[1],ve=i.useState(!1),me=Object(s.a)(ve,2),ge=me[0],be=me[1],ye=Object(A.a)(t,k),xe=i.useCallback((function(e){ie.current=e,e&&ce(e)}),[]);i.useImperativeHandle(ye,(function(){return{focus:function(){ie.current.focus()},node:ae.current,value:ne}}),[ne]),i.useEffect((function(){c&&ie.current.focus()}),[c]),i.useEffect((function(){var e=Object(d.a)(ie.current).getElementById(j);if(e){var t=function(){getSelection().isCollapsed&&ie.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}),[j]);var we,Oe,ke=function(e,t){e?V&&V(t):U&&U(t),le||(pe(v?null:se.clientWidth),be(e))},je=i.Children.toArray(m),_e=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(T){n=Array.isArray(ne)?ne.slice():[];var r=ne.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),ne!==n&&(re(n),L)){var a=t.nativeEvent||t,i=new a.constructor(a.type,a);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:z}}),L(i,e)}T||ke(!1,t)}}},Se=null!==se&&(le?H:ge);delete Q["aria-invalid"];var Ee=[],Ae=!1;(Object(E.b)({value:ne})||w)&&(q?we=q(ne):Ae=!0);var Ce=je.map((function(e){if(!i.isValidElement(e))return null;var t;if(T){if(!Array.isArray(ne))throw new Error(Object(l.a)(2));(t=ne.some((function(t){return R(t,e.props.value)})))&&Ae&&Ee.push(e.props.children)}else(t=R(ne,e.props.value))&&Ae&&(Oe=e.props.children);return t&&!0,i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:_e(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));Ae&&(we=T?0===Ee.length?null:Ee.reduce((function(e,t,n){return e.push(t),n<Ee.length-1&&e.push(", "),e}),[]):Oe);var Ne,Te=he;!v&&le&&se&&(Te=se.clientWidth),Ne="undefined"!==typeof K?K:y?null:0;var De=Y.id||(z?"mui-component-select-".concat(z):void 0),Ie=Object(r.a)({},e,{variant:J,value:ne,open:Se}),Me=function(e){var t=e.classes,n=e.variant,r=e.disabled,a=e.multiple,i=e.open,o={select:["select",n,r&&"disabled",a&&"multiple"],icon:["icon","icon".concat(Object(h.a)(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Object(f.a)(o,N,t)}(Ie);return Object(x.jsxs)(i.Fragment,{children:[Object(x.jsx)(I,Object(r.a)({ref:xe,tabIndex:Ne,role:"button","aria-disabled":y?"true":void 0,"aria-expanded":Se?"true":"false","aria-haspopup":"listbox","aria-label":u,"aria-labelledby":[j,De].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!G){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ke(!0,e))}},onMouseDown:y||G?null:function(e){0===e.button&&(e.preventDefault(),ie.current.focus(),ke(!0,e))},onBlur:function(e){!Se&&B&&(Object.defineProperty(e,"target",{writable:!0,value:{value:ne,name:z}}),B(e))},onFocus:W},Y,{ownerState:Ie,className:Object(o.a)(Me.select,g,Y.className),id:De,children:P(we)?Object(x.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):we})),Object(x.jsx)(F,Object(r.a)({value:Array.isArray(ne)?ne.join(","):ne,name:z,ref:ae,"aria-hidden":!0,onChange:function(e){var t=je.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=je[t];re(n.props.value),L&&L(e,n)}},tabIndex:-1,disabled:y,className:Me.nativeInput,autoFocus:c,ownerState:Ie},Q)),Object(x.jsx)(M,{as:O,className:Me.icon,ownerState:Ie}),Object(x.jsx)(p.a,Object(r.a)({id:"menu-".concat(z||""),anchorEl:se,open:Se,onClose:function(e){ke(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},S,{MenuListProps:Object(r.a)({"aria-labelledby":j,role:"listbox",disableListWrap:!0},S.MenuListProps),PaperProps:Object(r.a)({},S.PaperProps,{style:Object(r.a)({minWidth:Te},null!=S.PaperProps?S.PaperProps.style:null)}),children:Ce}))]})})),U=n(140),W=n(119),V=n(389),H=n(987),G=n(988),q=n(1031),X=n(32),Y=["autoWidth","children","classes","className","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],K=i.forwardRef((function(e,t){var n=Object(X.a)({name:"MuiSelect",props:e}),s=n.autoWidth,c=void 0!==s&&s,l=n.children,f=n.classes,d=void 0===f?{}:f,h=n.className,p=n.displayEmpty,v=void 0!==p&&p,m=n.IconComponent,g=void 0===m?V.a:m,b=n.id,y=n.input,w=n.inputProps,O=n.label,k=n.labelId,j=n.MenuProps,_=n.multiple,E=void 0!==_&&_,C=n.native,N=void 0!==C&&C,T=n.onClose,D=n.onOpen,I=n.open,M=n.renderValue,F=n.SelectDisplayProps,R=n.variant,P=void 0===R?"outlined":R,K=Object(a.a)(n,Y),$=N?S:L,Z=Object(W.a)(),J=Object(U.a)({props:n,muiFormControl:Z,states:["variant"]}).variant||P,Q=y||{standard:z||(z=Object(x.jsx)(H.a,{})),outlined:Object(x.jsx)(q.a,{label:O}),filled:B||(B=Object(x.jsx)(G.a,{}))}[J],ee=function(e){return e.classes}(Object(r.a)({},n,{classes:d})),te=Object(A.a)(t,Q.ref);return i.cloneElement(Q,Object(r.a)({inputComponent:$,inputProps:Object(r.a)({children:l,IconComponent:g,variant:J,type:void 0,multiple:E},N?{id:b}:{autoWidth:c,displayEmpty:v,labelId:k,MenuProps:j,onClose:T,onOpen:D,open:I,renderValue:M,SelectDisplayProps:Object(r.a)({id:b},F)},w,{classes:w?Object(u.a)(ee,w.classes):ee},y?y.props.inputProps:{})},E&&N&&"outlined"===J?{notched:!0}:{},{ref:te,className:Object(o.a)(Q.props.className,h)},K))}));K.muiName="Select";t.a=K},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(274),s=n(914),c=n(399),l=n(76),f=n(2),d=Object(l.a)(Object(f.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),h=Object(l.a)(Object(f.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=Object(l.a)(Object(f.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),v=n(29),m=n(32),g=n(25),b=n(184),y=n(209);function x(e){return Object(b.a)("MuiCheckbox",e)}var w=Object(y.a)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),O=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],k=Object(g.a)(c.a,{shouldForwardProp:function(e){return Object(g.b)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat(Object(v.a)(n.color))]]}})((function(e){var t,n=e.theme,a=e.ownerState;return Object(i.a)({color:n.palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:Object(s.a)("default"===a.color?n.palette.action.active:n.palette[a.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&(t={},Object(r.a)(t,"&.".concat(w.checked,", &.").concat(w.indeterminate),{color:n.palette[a.color].main}),Object(r.a)(t,"&.".concat(w.disabled),{color:n.palette.action.disabled}),t))})),j=Object(f.jsx)(h,{}),_=Object(f.jsx)(d,{}),S=Object(f.jsx)(p,{}),E=o.forwardRef((function(e,t){var n,r,s=Object(m.a)({props:e,name:"MuiCheckbox"}),c=s.checkedIcon,l=void 0===c?j:c,d=s.color,h=void 0===d?"primary":d,p=s.icon,g=void 0===p?_:p,b=s.indeterminate,y=void 0!==b&&b,w=s.indeterminateIcon,E=void 0===w?S:w,A=s.inputProps,C=s.size,N=void 0===C?"medium":C,T=Object(a.a)(s,O),D=y?E:g,I=y?E:l,M=Object(i.a)({},s,{color:h,indeterminate:y,size:N}),F=function(e){var t=e.classes,n=e.indeterminate,r=e.color,a={root:["root",n&&"indeterminate","color".concat(Object(v.a)(r))]},o=Object(u.a)(a,x,t);return Object(i.a)({},t,o)}(M);return Object(f.jsx)(k,Object(i.a)({type:"checkbox",inputProps:Object(i.a)({"data-indeterminate":y},A),icon:o.cloneElement(D,{fontSize:null!=(n=D.props.fontSize)?n:N}),checkedIcon:o.cloneElement(I,{fontSize:null!=(r=I.props.fontSize)?r:N}),ownerState:M,ref:t},T,{classes:F}))}));t.a=E},function(e,t,n){"use strict";var r=n(15),a=n(16),i=n(26),o=n(11),u=n(1),s=n(22),c=n.n(s),l=n(28),f=n(209),d=n(114),h=n(184);function p(e){return Object(h.a)("MuiSlider",e)}var v=Object(f.a)("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel"]),m=n(2);var g=function(e){var t=e.children,n=e.className,r=e.value,a=e.theme,i=function(e){var t=e.open;return{offset:Object(l.a)(t&&v.valueLabelOpen),circle:v.valueLabelCircle,label:v.valueLabelLabel}}(e);return u.cloneElement(t,{className:Object(l.a)(t.props.className)},Object(m.jsxs)(u.Fragment,{children:[t.props.children,Object(m.jsx)("span",{className:Object(l.a)(i.offset,n),theme:a,"aria-hidden":!0,children:Object(m.jsx)("span",{className:i.circle,children:Object(m.jsx)("span",{className:i.label,children:r})})})]}))},b=n(6),y=n(457),x=n(922),w=n(917),O=n(632),k=n(918),j=n(300),_={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},S=n(274),E=["aria-label","aria-labelledby","aria-valuetext","className","component","classes","defaultValue","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","tabIndex","track","value","valueLabelDisplay","valueLabelFormat","isRtl","components","componentsProps"];function A(e,t){return e-t}function C(e,t,n){return null==e?t:Math.min(Math.max(t,e),n)}function N(e,t){return e.reduce((function(e,n,r){var a=Math.abs(t-n);return null===e||a<e.distance||a===e.distance?{distance:a,index:r}:e}),null).index}function T(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function D(e,t,n){return 100*(e-t)/(n-t)}function I(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function M(e){var t=e.values,n=e.newValue,r=e.index,a=t.slice();return a[r]=n,a.sort(A)}function F(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive,a=Object(y.a)(t.current);t.current.contains(a.activeElement)&&Number(a.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[type="range"][data-index="'.concat(n,'"]')).focus(),r&&r(n)}var R,P={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},z=function(e){return e};function B(){return void 0===R&&(R="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),R}var L=function(e){return e.children},U=u.forwardRef((function(e,t){var n=e["aria-label"],r=e["aria-labelledby"],s=e["aria-valuetext"],c=e.className,f=e.component,h=void 0===f?"span":f,v=e.classes,R=e.defaultValue,U=e.disableSwap,W=void 0!==U&&U,V=e.disabled,H=void 0!==V&&V,G=e.getAriaLabel,q=e.getAriaValueText,X=e.marks,Y=void 0!==X&&X,K=e.max,$=void 0===K?100:K,Z=e.min,J=void 0===Z?0:Z,Q=e.name,ee=e.onChange,te=e.onChangeCommitted,ne=e.onMouseDown,re=e.orientation,ae=void 0===re?"horizontal":re,ie=e.scale,oe=void 0===ie?z:ie,ue=e.step,se=void 0===ue?1:ue,ce=e.tabIndex,le=e.track,fe=void 0===le?"normal":le,de=e.value,he=e.valueLabelDisplay,pe=void 0===he?"off":he,ve=e.valueLabelFormat,me=void 0===ve?z:ve,ge=e.isRtl,be=void 0!==ge&&ge,ye=e.components,xe=void 0===ye?{}:ye,we=e.componentsProps,Oe=void 0===we?{}:we,ke=Object(i.a)(e,E),je=u.useRef(),_e=u.useState(-1),Se=Object(b.a)(_e,2),Ee=Se[0],Ae=Se[1],Ce=u.useState(-1),Ne=Object(b.a)(Ce,2),Te=Ne[0],De=Ne[1],Ie=u.useState(!1),Me=Object(b.a)(Ie,2),Fe=Me[0],Re=Me[1],Pe=u.useRef(0),ze=Object(x.a)({controlled:de,default:null!=R?R:J,name:"Slider"}),Be=Object(b.a)(ze,2),Le=Be[0],Ue=Be[1],We=ee&&function(e,t,n){var r=e.nativeEvent||e,a=new r.constructor(r.type,r);Object.defineProperty(a,"target",{writable:!0,value:{value:t,name:Q}}),ee(a,t,n)},Ve=Array.isArray(Le),He=Ve?Le.slice().sort(A):[Le];He=He.map((function(e){return C(e,J,$)}));var Ge=!0===Y&&null!==se?Object(a.a)(Array(Math.floor(($-J)/se)+1)).map((function(e,t){return{value:J+se*t}})):Y||[],qe=Object(w.a)(),Xe=qe.isFocusVisibleRef,Ye=qe.onBlur,Ke=qe.onFocus,$e=qe.ref,Ze=u.useState(-1),Je=Object(b.a)(Ze,2),Qe=Je[0],et=Je[1],tt=u.useRef(),nt=Object(O.a)($e,tt),rt=Object(O.a)(t,nt),at=function(e){var t=Number(e.currentTarget.getAttribute("data-index"));Ke(e),!0===Xe.current&&et(t),De(t)},it=function(e){Ye(e),!1===Xe.current&&et(-1),De(-1)},ot=Object(k.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));De(t)})),ut=Object(k.a)((function(){De(-1)}));Object(j.a)((function(){H&&tt.current.contains(document.activeElement)&&document.activeElement.blur()}),[H]),H&&-1!==Ee&&Ae(-1),H&&-1!==Qe&&et(-1);var st=function(e){var t=Number(e.currentTarget.getAttribute("data-index")),n=He[t],r=Ge.map((function(e){return e.value})),a=r.indexOf(n),i=e.target.valueAsNumber;if(Ge&&null==se&&(i=i<n?r[a-1]:r[a+1]),i=C(i,J,$),Ge&&null==se){var o=Ge.map((function(e){return e.value})),u=o.indexOf(He[t]);i=i<He[t]?o[u-1]:o[u+1]}if(Ve){W&&(i=C(i,He[t-1]||-1/0,He[t+1]||1/0));var s=i;i=M({values:He,newValue:i,index:t});var c=t;W||(c=i.indexOf(s)),F({sliderRef:tt,activeIndex:c})}Ue(i),et(t),We&&We(e,i,t),te&&te(e,i)},ct=u.useRef(),lt=ae;be&&"vertical"!==ae&&(lt+="-reverse");var ft=function(e){var t,n,r=e.finger,a=e.move,i=void 0!==a&&a,o=e.values,u=tt.current.getBoundingClientRect(),s=u.width,c=u.height,l=u.bottom,f=u.left;if(t=0===lt.indexOf("vertical")?(l-r.y)/c:(r.x-f)/s,-1!==lt.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,J,$),se)n=I(n,se,J);else{var d=Ge.map((function(e){return e.value}));n=d[N(d,n)]}n=C(n,J,$);var h=0;if(Ve){h=i?ct.current:N(o,n),W&&(n=C(n,o[h-1]||-1/0,o[h+1]||1/0));var p=n;n=M({values:o,newValue:n,index:h}),W&&i||(h=n.indexOf(p),ct.current=h)}return{newValue:n,activeIndex:h}},dt=Object(k.a)((function(e){var t=T(e,je);if(t)if(Pe.current+=1,"mousemove"!==e.type||0!==e.buttons){var n=ft({finger:t,move:!0,values:He}),r=n.newValue,a=n.activeIndex;F({sliderRef:tt,activeIndex:a,setActive:Ae}),Ue(r),!Fe&&Pe.current>2&&Re(!0),We&&We(e,r,a)}else ht(e)})),ht=Object(k.a)((function(e){var t=T(e,je);if(Re(!1),t){var n=ft({finger:t,values:He}).newValue;Ae(-1),"touchend"===e.type&&De(-1),te&&te(e,n),je.current=void 0,vt()}})),pt=Object(k.a)((function(e){B()||e.preventDefault();var t=e.changedTouches[0];null!=t&&(je.current=t.identifier);var n=T(e,je),r=ft({finger:n,values:He}),a=r.newValue,i=r.activeIndex;F({sliderRef:tt,activeIndex:i,setActive:Ae}),Ue(a),We&&We(e,a,i),Pe.current=0;var o=Object(y.a)(tt.current);o.addEventListener("touchmove",dt),o.addEventListener("touchend",ht)})),vt=u.useCallback((function(){var e=Object(y.a)(tt.current);e.removeEventListener("mousemove",dt),e.removeEventListener("mouseup",ht),e.removeEventListener("touchmove",dt),e.removeEventListener("touchend",ht)}),[ht,dt]);u.useEffect((function(){var e=tt.current;return e.addEventListener("touchstart",pt,{passive:B()}),function(){e.removeEventListener("touchstart",pt,{passive:B()}),vt()}}),[vt,pt]),u.useEffect((function(){H&&vt()}),[H,vt]);var mt=Object(k.a)((function(e){if(ne&&ne(e),0===e.button){e.preventDefault();var t=T(e,je),n=ft({finger:t,values:He}),r=n.newValue,a=n.activeIndex;F({sliderRef:tt,activeIndex:a,setActive:Ae}),Ue(r),We&&We(e,r,a),Pe.current=0;var i=Object(y.a)(tt.current);i.addEventListener("mousemove",dt),i.addEventListener("mouseup",ht)}})),gt=D(Ve?He[0]:J,J,$),bt=D(He[He.length-1],J,$)-gt,yt=Object(o.a)({},P[lt].offset(gt),P[lt].leap(bt)),xt=xe.Root||h,wt=Oe.root||{},Ot=xe.Rail||"span",kt=Oe.rail||{},jt=xe.Track||"span",_t=Oe.track||{},St=xe.Thumb||"span",Et=Oe.thumb||{},At=xe.ValueLabel||g,Ct=Oe.valueLabel||{},Nt=xe.Mark||"span",Tt=Oe.mark||{},Dt=xe.MarkLabel||"span",It=Oe.markLabel||{},Mt=xe.Input||"input",Ft=Oe.input||{},Rt=Object(o.a)({},e,{classes:v,disabled:H,dragging:Fe,isRtl:be,marked:Ge.length>0&&Ge.some((function(e){return e.label})),max:$,min:J,orientation:ae,scale:oe,step:se,track:fe,valueLabelDisplay:pe,valueLabelFormat:me}),Pt=function(e){var t=e.disabled,n=e.dragging,r=e.marked,a=e.orientation,i=e.track,o=e.classes,u={root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===a&&"vertical","inverted"===i&&"trackInverted",!1===i&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Object(S.a)(u,p,o)}(Rt);return Object(m.jsxs)(xt,Object(o.a)({ref:rt,onMouseDown:mt},wt,!Object(d.a)(xt)&&{as:h,ownerState:Object(o.a)({},Rt,wt.ownerState)},ke,{className:Object(l.a)(Pt.root,wt.className,c),children:[Object(m.jsx)(Ot,Object(o.a)({},kt,!Object(d.a)(Ot)&&{ownerState:Object(o.a)({},Rt,kt.ownerState)},{className:Object(l.a)(Pt.rail,kt.className)})),Object(m.jsx)(jt,Object(o.a)({},_t,!Object(d.a)(jt)&&{ownerState:Object(o.a)({},Rt,_t.ownerState)},{className:Object(l.a)(Pt.track,_t.className),style:Object(o.a)({},yt,_t.style)})),Ge.map((function(e,t){var n,r=D(e.value,J,$),a=P[lt].offset(r);return n=!1===fe?-1!==He.indexOf(e.value):"normal"===fe&&(Ve?e.value>=He[0]&&e.value<=He[He.length-1]:e.value<=He[0])||"inverted"===fe&&(Ve?e.value<=He[0]||e.value>=He[He.length-1]:e.value>=He[0]),Object(m.jsxs)(u.Fragment,{children:[Object(m.jsx)(Nt,Object(o.a)({"data-index":t},Tt,!Object(d.a)(Nt)&&{ownerState:Object(o.a)({},Rt,Tt.ownerState),markActive:n},{style:Object(o.a)({},a,Tt.style),className:Object(l.a)(Pt.mark,Tt.className,n&&Pt.markActive)})),null!=e.label?Object(m.jsx)(Dt,Object(o.a)({"aria-hidden":!0,"data-index":t},It,!Object(d.a)(Dt)&&{ownerState:Object(o.a)({},Rt,It.ownerState)},{markLabelActive:n,style:Object(o.a)({},a,It.style),className:Object(l.a)(Pt.markLabel,It.className,n&&Pt.markLabelActive),children:e.label})):null]},e.value)})),He.map((function(t,a){var i=D(t,J,$),c=P[lt].offset(i),f="off"===pe?L:At;return Object(m.jsx)(u.Fragment,{children:Object(m.jsx)(f,Object(o.a)({valueLabelFormat:me,valueLabelDisplay:pe,value:"function"===typeof me?me(oe(t),a):me,index:a,open:Te===a||Ee===a||"on"===pe,disabled:H},Ct,{className:Object(l.a)(Pt.valueLabel,Ct.className)},!Object(d.a)(At)&&{ownerState:Object(o.a)({},Rt,Ct.ownerState)},{children:Object(m.jsx)(St,Object(o.a)({"data-index":a,onMouseOver:ot,onMouseLeave:ut},Et,{className:Object(l.a)(Pt.thumb,Et.className,Ee===a&&Pt.active,Qe===a&&Pt.focusVisible)},!Object(d.a)(St)&&{ownerState:Object(o.a)({},Rt,Et.ownerState)},{style:Object(o.a)({},c,{pointerEvents:W&&Ee!==a?"none":void 0},Et.style),children:Object(m.jsx)(Mt,Object(o.a)({tabIndex:ce,"data-index":a,"aria-label":G?G(a):n,"aria-labelledby":r,"aria-orientation":ae,"aria-valuemax":oe($),"aria-valuemin":oe(J),"aria-valuenow":oe(t),"aria-valuetext":q?q(oe(t),a):s,onFocus:at,onBlur:it,name:Q,type:"range",min:e.min,max:e.max,step:e.step,disabled:H,value:He[a],onChange:st,style:Object(o.a)({},_,{direction:be?"rtl":"ltr",width:"100%",height:"100%"},Ft.style)},!Object(d.a)(Mt)&&{ownerState:Object(o.a)({},Rt,Ft.ownerState)},Ft))}))}))},a)}))]}))})),W=n(914),V=n(32),H=n(25),G=n(102),q=n(29),X=["components","componentsProps","color","size"],Y=Object(o.a)({},v,Object(f.a)("MuiSlider",["colorPrimary","colorSecondary","thumbColorPrimary","thumbColorSecondary","sizeSmall","thumbSizeSmall"])),K=Object(H.a)("span",{name:"MuiSlider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=!0===n.marksProp&&null!==n.step?Object(a.a)(Array(Math.floor((n.max-n.min)/n.step)+1)).map((function(e,t){return{value:n.min+n.step*t}})):n.marksProp||[],i=r.length>0&&r.some((function(e){return e.label}));return[t.root,t["color".concat(Object(q.a)(n.color))],"medium"!==n.size&&t["size".concat(Object(q.a)(n.size))],i&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})((function(e){var t,n=e.theme,a=e.ownerState;return Object(o.a)({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:n.palette[a.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===a.orientation&&Object(o.a)({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===a.size&&{height:2},a.marked&&{marginBottom:20}),"vertical"===a.orientation&&Object(o.a)({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===a.size&&{width:2},a.marked&&{marginRight:44}),(t={"@media print":{colorAdjust:"exact"}},Object(r.a)(t,"&.".concat(Y.disabled),{pointerEvents:"none",cursor:"default",color:n.palette.grey[400]}),Object(r.a)(t,"&.".concat(Y.dragging),Object(r.a)({},"& .".concat(Y.thumb,", & .").concat(Y.track),{transition:"none"})),t))})),$=Object(H.a)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:function(e,t){return t.rail}})((function(e){var t=e.ownerState;return Object(o.a)({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===t.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===t.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===t.track&&{opacity:1})})),Z=Object(H.a)("span",{name:"MuiSlider",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?Object(W.d)(t.palette[n.color].main,.62):Object(W.b)(t.palette[n.color].main,.5);return Object(o.a)({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},"small"===n.size&&{border:"none"},"horizontal"===n.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===n.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===n.track&&{display:"none"},"inverted"===n.track&&{backgroundColor:r,borderColor:r})})),J=Object(H.a)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:function(e,t){var n=e.ownerState;return[t.thumb,t["thumbColor".concat(Object(q.a)(n.color))],"medium"!==n.size&&t["thumbSize".concat(Object(q.a)(n.size))]]}})((function(e){var t,n=e.theme,a=e.ownerState;return Object(o.a)({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest})},"small"===a.size&&{width:12,height:12},"horizontal"===a.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===a.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},(t={"&:before":Object(o.a)({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:n.shadows[2]},"small"===a.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},Object(r.a)(t,"&:hover, &.".concat(Y.focusVisible),{boxShadow:"0px 0px 0px 8px ".concat(Object(W.a)(n.palette[a.color].main,.16)),"@media (hover: none)":{boxShadow:"none"}}),Object(r.a)(t,"&.".concat(Y.active),{boxShadow:"0px 0px 0px 14px ".concat(Object(W.a)(n.palette[a.color].main,.16))}),Object(r.a)(t,"&.".concat(Y.disabled),{"&:hover":{boxShadow:"none"}}),t))})),Q=Object(H.a)(g,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:function(e,t){return t.valueLabel}})((function(e){var t,n=e.theme,a=e.ownerState;return Object(o.a)((t={},Object(r.a)(t,"&.".concat(Y.valueLabelOpen),{transform:"translateY(-100%) scale(1)"}),Object(r.a)(t,"zIndex",1),Object(r.a)(t,"whiteSpace","nowrap"),t),n.typography.body2,{fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),top:-10,transformOrigin:"bottom center",transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:n.palette.grey[600],borderRadius:2,color:n.palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"small"===a.size&&{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"},{"&:before":{position:"absolute",content:'""',width:8,height:8,bottom:0,left:"50%",transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit"}})})),ee=Object(H.a)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:function(e){return Object(H.c)(e)&&"markActive"!==e},overridesResolver:function(e,t){return t.mark}})((function(e){var t=e.theme,n=e.ownerState,r=e.markActive;return Object(o.a)({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===n.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===n.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:t.palette.background.paper,opacity:.8})})),te=Object(H.a)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:function(e){return Object(H.c)(e)&&"markLabelActive"!==e},overridesResolver:function(e,t){return t.markLabel}})((function(e){var t=e.theme,n=e.ownerState,r=e.markLabelActive;return Object(o.a)({},t.typography.body2,{color:t.palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===n.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===n.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:t.palette.text.primary})}));K.propTypes={children:c.a.node,ownerState:c.a.shape({"aria-label":c.a.string,"aria-labelledby":c.a.string,"aria-valuetext":c.a.string,classes:c.a.object,color:c.a.oneOf(["primary","secondary"]),defaultValue:c.a.oneOfType([c.a.arrayOf(c.a.number),c.a.number]),disabled:c.a.bool,getAriaLabel:c.a.func,getAriaValueText:c.a.func,isRtl:c.a.bool,marks:c.a.oneOfType([c.a.arrayOf(c.a.shape({label:c.a.node,value:c.a.number.isRequired})),c.a.bool]),max:c.a.number,min:c.a.number,name:c.a.string,onChange:c.a.func,onChangeCommitted:c.a.func,orientation:c.a.oneOf(["horizontal","vertical"]),scale:c.a.func,step:c.a.number,track:c.a.oneOf(["inverted","normal",!1]),value:c.a.oneOfType([c.a.arrayOf(c.a.number),c.a.number]),valueLabelDisplay:c.a.oneOf(["auto","off","on"]),valueLabelFormat:c.a.oneOfType([c.a.func,c.a.string])})};var ne=function(e){return!e||!Object(d.a)(e)},re=u.forwardRef((function(e,t){var n,r,a,u,s=Object(V.a)({props:e,name:"MuiSlider"}),c="rtl"===Object(G.a)().direction,f=s.components,d=void 0===f?{}:f,h=s.componentsProps,v=void 0===h?{}:h,g=s.color,b=void 0===g?"primary":g,y=s.size,x=void 0===y?"medium":y,w=Object(i.a)(s,X),O=function(e){var t=e.color,n=e.size,r=e.classes,a=void 0===r?{}:r;return Object(o.a)({},a,{root:Object(l.a)(a.root,p("color".concat(Object(q.a)(t))),a["color".concat(Object(q.a)(t))],n&&[p("size".concat(Object(q.a)(n))),a["size".concat(Object(q.a)(n))]]),thumb:Object(l.a)(a.thumb,p("thumbColor".concat(Object(q.a)(t))),a["thumbColor".concat(Object(q.a)(t))],n&&[p("thumbSize".concat(Object(q.a)(n))),a["thumbSize".concat(Object(q.a)(n))]])})}(Object(o.a)({},s,{color:b,size:x}));return Object(m.jsx)(U,Object(o.a)({},w,{isRtl:c,components:Object(o.a)({Root:K,Rail:$,Track:Z,Thumb:J,ValueLabel:Q,Mark:ee,MarkLabel:te},d),componentsProps:Object(o.a)({},v,{root:Object(o.a)({},v.root,ne(d.Root)&&{ownerState:Object(o.a)({},null==(n=v.root)?void 0:n.ownerState,{color:b,size:x})}),thumb:Object(o.a)({},v.thumb,ne(d.Thumb)&&{ownerState:Object(o.a)({},null==(r=v.thumb)?void 0:r.ownerState,{color:b,size:x})}),track:Object(o.a)({},v.track,ne(d.Track)&&{ownerState:Object(o.a)({},null==(a=v.track)?void 0:a.ownerState,{color:b,size:x})}),valueLabel:Object(o.a)({},v.valueLabel,ne(d.ValueLabel)&&{ownerState:Object(o.a)({},null==(u=v.valueLabel)?void 0:u.ownerState,{color:b,size:x})})}),classes:O,ref:t}))}));t.a=re},function(e,t,n){"use strict";var r=n(1),a=n(11),i=n(378),o=n(915),u="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",s=n(2);var c=function(e){var t=e.children,n=e.theme,c=Object(o.a)(),l=r.useMemo((function(){var e=null===c?n:function(e,t){return"function"===typeof t?t(e):Object(a.a)({},e,t)}(c,n);return null!=e&&(e[u]=null!==c),e}),[n,c]);return Object(s.jsx)(i.a.Provider,{value:l,children:t})},l=n(99),f=n(219);function d(e){var t=Object(f.a)();return Object(s.jsx)(l.c.Provider,{value:"object"===typeof t?t:{},children:e.children})}t.a=function(e){var t=e.children,n=e.theme;return Object(s.jsx)(c,{theme:n,children:Object(s.jsx)(d,{children:t})})}},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(114),u=n(209),s=n(184);function c(e){return Object(s.a)("MuiBackdrop",e)}Object(u.a)("MuiBackdrop",["root","invisible"]);var l=n(28),f=n(274),d=n(2),h=["classes","className","invisible","component","components","componentsProps","theme"],p=i.forwardRef((function(e,t){var n=e.classes,i=e.className,u=e.invisible,s=void 0!==u&&u,p=e.component,v=void 0===p?"div":p,m=e.components,g=void 0===m?{}:m,b=e.componentsProps,y=void 0===b?{}:b,x=e.theme,w=Object(r.a)(e,h),O=Object(a.a)({},e,{classes:n,invisible:s}),k=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return Object(f.a)(n,c,t)}(O),j=g.Root||v,_=y.root||{};return Object(d.jsx)(j,Object(a.a)({"aria-hidden":!0},_,!Object(o.a)(j)&&{as:v,ownerState:Object(a.a)({},O,_.ownerState),theme:x},{ref:t},w,{className:Object(l.a)(k.root,_.className,i)}))})),v=n(25),m=n(32),g=n(979),b=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],y=Object(v.a)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return Object(a.a)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),x=i.forwardRef((function(e,t){var n,i=Object(m.a)({props:e,name:"MuiBackdrop"}),u=i.children,s=i.components,c=void 0===s?{}:s,l=i.componentsProps,f=void 0===l?{}:l,h=i.className,v=i.invisible,x=void 0!==v&&v,w=i.open,O=i.transitionDuration,k=i.TransitionComponent,j=void 0===k?g.a:k,_=Object(r.a)(i,b),S=function(e){return e.classes}(Object(a.a)({},i,{invisible:x}));return Object(d.jsx)(j,Object(a.a)({in:w,timeout:O},_,{children:Object(d.jsx)(p,{className:h,invisible:x,components:Object(a.a)({Root:y},c),componentsProps:{root:Object(a.a)({},f.root,(!c.Root||!Object(o.a)(c.Root))&&{ownerState:Object(a.a)({},null==(n=f.root)?void 0:n.ownerState)})},classes:S,ref:t,children:u})}))}));t.a=x},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(916),c=n(274),l=n(914),f=n(25),d=n(32),h=n(1003),p=n(29),v=n(184),m=n(209);function g(e){return Object(v.a)("MuiButton",e)}var b=Object(m.a)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var y=o.createContext({}),x=n(2),w=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],O=function(e){return Object(i.a)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},k=Object(f.a)(h.a,{shouldForwardProp:function(e){return Object(f.b)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Object(p.a)(n.color))],t["size".concat(Object(p.a)(n.size))],t["".concat(n.variant,"Size").concat(Object(p.a)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,a=e.ownerState;return Object(i.a)({},n.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":Object(i.a)({textDecoration:"none",backgroundColor:Object(l.a)(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:Object(l.a)(n.palette[a.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat(n.palette[a.color].main),backgroundColor:Object(l.a)(n.palette[a.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:n.palette[a.color].dark,"@media (hover: none)":{backgroundColor:n.palette[a.color].main}}),"&:active":Object(i.a)({},"contained"===a.variant&&{boxShadow:n.shadows[8]})},Object(r.a)(t,"&.".concat(b.focusVisible),Object(i.a)({},"contained"===a.variant&&{boxShadow:n.shadows[6]})),Object(r.a)(t,"&.".concat(b.disabled),Object(i.a)({color:n.palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===a.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:n.palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===a.variant&&"inherit"!==a.color&&{color:n.palette[a.color].main,border:"1px solid ".concat(Object(l.a)(n.palette[a.color].main,.5))},"contained"===a.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:n.palette[a.color].contrastText,backgroundColor:n.palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},Object(r.a)(t,"&.".concat(b.focusVisible),{boxShadow:"none"}),Object(r.a)(t,"&:active",{boxShadow:"none"}),Object(r.a)(t,"&.".concat(b.disabled),{boxShadow:"none"}),t)})),j=Object(f.a)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Object(p.a)(n.size))]]}})((function(e){var t=e.ownerState;return Object(i.a)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},O(t))})),_=Object(f.a)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Object(p.a)(n.size))]]}})((function(e){var t=e.ownerState;return Object(i.a)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},O(t))})),S=o.forwardRef((function(e,t){var n=o.useContext(y),r=Object(s.a)(n,e),l=Object(d.a)({props:r,name:"MuiButton"}),f=l.children,h=l.color,v=void 0===h?"primary":h,m=l.component,b=void 0===m?"button":m,O=l.className,S=l.disabled,E=void 0!==S&&S,A=l.disableElevation,C=void 0!==A&&A,N=l.disableFocusRipple,T=void 0!==N&&N,D=l.endIcon,I=l.focusVisibleClassName,M=l.fullWidth,F=void 0!==M&&M,R=l.size,P=void 0===R?"medium":R,z=l.startIcon,B=l.type,L=l.variant,U=void 0===L?"text":L,W=Object(a.a)(l,w),V=Object(i.a)({},l,{color:v,component:b,disabled:E,disableElevation:C,disableFocusRipple:T,fullWidth:F,size:P,type:B,variant:U}),H=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,a=e.size,o=e.variant,u=e.classes,s={root:["root",o,"".concat(o).concat(Object(p.a)(t)),"size".concat(Object(p.a)(a)),"".concat(o,"Size").concat(Object(p.a)(a)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Object(p.a)(a))],endIcon:["endIcon","iconSize".concat(Object(p.a)(a))]},l=Object(c.a)(s,g,u);return Object(i.a)({},u,l)}(V),G=z&&Object(x.jsx)(j,{className:H.startIcon,ownerState:V,children:z}),q=D&&Object(x.jsx)(_,{className:H.endIcon,ownerState:V,children:D});return Object(x.jsxs)(k,Object(i.a)({ownerState:V,className:Object(u.a)(O,n.className),component:b,disabled:E,focusRipple:!T,focusVisibleClassName:Object(u.a)(H.focusVisible,I),ref:t,type:B},W,{classes:H,children:[G,f,q]}))}));t.a=S},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(114),l=n(914),f=n(25),d=n(32),h=n(1003),p=n(167),v=n(133),m=n(70),g=n(103),b=n(184),y=n(209);function x(e){return Object(b.a)("MuiListItem",e)}var w=Object(y.a)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var O=Object(y.a)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),k=n(1026),j=n(2),_=["className"],S=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],E=Object(f.a)("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,a=e.ownerState;return Object(i.a)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!a.disablePadding&&Object(i.a)({paddingTop:8,paddingBottom:8},a.dense&&{paddingTop:4,paddingBottom:4},!a.disableGutters&&{paddingLeft:16,paddingRight:16},!!a.secondaryAction&&{paddingRight:48}),!!a.secondaryAction&&Object(r.a)({},"& > .".concat(O.root),{paddingRight:48}),(t={},Object(r.a)(t,"&.".concat(w.focusVisible),{backgroundColor:n.palette.action.focus}),Object(r.a)(t,"&.".concat(w.selected),Object(r.a)({backgroundColor:Object(l.a)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(w.focusVisible),{backgroundColor:Object(l.a)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),Object(r.a)(t,"&.".concat(w.disabled),{opacity:n.palette.action.disabledOpacity}),t),"flex-start"===a.alignItems&&{alignItems:"flex-start"},a.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},a.button&&Object(r.a)({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(w.selected,":hover"),{backgroundColor:Object(l.a)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Object(l.a)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),a.hasSecondaryAction&&{paddingRight:48})})),A=Object(f.a)("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),C=o.forwardRef((function(e,t){var n=Object(d.a)({props:e,name:"MuiListItem"}),r=n.alignItems,l=void 0===r?"center":r,f=n.autoFocus,b=void 0!==f&&f,y=n.button,O=void 0!==y&&y,C=n.children,N=n.className,T=n.component,D=n.components,I=void 0===D?{}:D,M=n.componentsProps,F=void 0===M?{}:M,R=n.ContainerComponent,P=void 0===R?"li":R,z=n.ContainerProps,B=(z=void 0===z?{}:z).className,L=n.dense,U=void 0!==L&&L,W=n.disabled,V=void 0!==W&&W,H=n.disableGutters,G=void 0!==H&&H,q=n.disablePadding,X=void 0!==q&&q,Y=n.divider,K=void 0!==Y&&Y,$=n.focusVisibleClassName,Z=n.secondaryAction,J=n.selected,Q=void 0!==J&&J,ee=Object(a.a)(n.ContainerProps,_),te=Object(a.a)(n,S),ne=o.useContext(g.a),re={dense:U||ne.dense||!1,alignItems:l,disableGutters:G},ae=o.useRef(null);Object(v.a)((function(){b&&ae.current&&ae.current.focus()}),[b]);var ie=o.Children.toArray(C),oe=ie.length&&Object(p.a)(ie[ie.length-1],["ListItemSecondaryAction"]),ue=Object(i.a)({},n,{alignItems:l,autoFocus:b,button:O,dense:re.dense,disabled:V,disableGutters:G,disablePadding:X,divider:K,hasSecondaryAction:oe,selected:Q}),se=function(e){var t=e.alignItems,n=e.button,r=e.classes,a=e.dense,i=e.disabled,o={root:["root",a&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]};return Object(s.a)(o,x,r)}(ue),ce=Object(m.a)(ae,t),le=I.Root||E,fe=F.root||{},de=Object(i.a)({className:Object(u.a)(se.root,fe.className,N),disabled:V},te),he=T||"li";return O&&(de.component=T||"div",de.focusVisibleClassName=Object(u.a)(w.focusVisible,$),he=h.a),oe?(he=de.component||T?he:"div","li"===P&&("li"===he?he="div":"li"===de.component&&(de.component="div")),Object(j.jsx)(g.a.Provider,{value:re,children:Object(j.jsxs)(A,Object(i.a)({as:P,className:Object(u.a)(se.container,B),ref:ce,ownerState:ue},ee,{children:[Object(j.jsx)(le,Object(i.a)({},fe,!Object(c.a)(le)&&{as:he,ownerState:Object(i.a)({},ue,fe.ownerState)},de,{children:ie})),ie.pop()]}))})):Object(j.jsx)(g.a.Provider,{value:re,children:Object(j.jsxs)(le,Object(i.a)({},fe,{as:he,ref:ce,ownerState:ue},!Object(c.a)(le)&&{ownerState:Object(i.a)({},ue,fe.ownerState)},de,{children:[ie,Z&&Object(j.jsx)(k.a,{children:Z})]}))})}));t.a=C},function(e,t,n){"use strict";var r=n(6),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(25),l=n(32),f=n(76),d=n(2),h=Object(f.a)(Object(d.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),p=n(184),v=n(209);function m(e){return Object(p.a)("MuiAvatar",e)}Object(v.a)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var g=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],b=Object(c.a)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:t.shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),y=Object(c.a)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),x=Object(c.a)(h,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var w=o.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiAvatar"}),c=n.alt,f=n.children,h=n.className,p=n.component,v=void 0===p?"div":p,w=n.imgProps,O=n.sizes,k=n.src,j=n.srcSet,_=n.variant,S=void 0===_?"circular":_,E=Object(a.a)(n,g),A=null,C=function(e){var t=e.crossOrigin,n=e.referrerPolicy,a=e.src,i=e.srcSet,u=o.useState(!1),s=Object(r.a)(u,2),c=s[0],l=s[1];return o.useEffect((function(){if(a||i){l(!1);var e=!0,r=new Image;return r.onload=function(){e&&l("loaded")},r.onerror=function(){e&&l("error")},r.crossOrigin=t,r.referrerPolicy=n,r.src=a,i&&(r.srcset=i),function(){e=!1}}}),[t,n,a,i]),c}(Object(i.a)({},w,{src:k,srcSet:j})),N=k||j,T=N&&"error"!==C,D=Object(i.a)({},n,{colorDefault:!T,component:v,variant:S}),I=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return Object(s.a)(n,m,t)}(D);return A=T?Object(d.jsx)(y,Object(i.a)({alt:c,src:k,srcSet:j,sizes:O,ownerState:D,className:I.img},w)):null!=f?f:N&&c?c[0]:Object(d.jsx)(x,{className:I.fallback}),Object(d.jsx)(b,Object(i.a)({as:v,ownerState:D,className:Object(u.a)(I.root,h),ref:t},E,{children:A}))}));t.a=w},function(e,t,n){"use strict";var r=n(16),a=n(15),i=n(26),o=n(11),u=n(1),s=n(28),c=n(105),l=n(978),f=n(274),d=n(25),h=n(32);var p=u.createContext(),v=n(184),m=n(209);function g(e){return Object(v.a)("MuiGrid",e)}var b=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],y=Object(m.a)("MuiGrid",["root","container","item","zeroMinWidth"].concat(Object(r.a)([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),Object(r.a)(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),Object(r.a)(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),Object(r.a)(b.map((function(e){return"grid-xs-".concat(e)}))),Object(r.a)(b.map((function(e){return"grid-sm-".concat(e)}))),Object(r.a)(b.map((function(e){return"grid-md-".concat(e)}))),Object(r.a)(b.map((function(e){return"grid-lg-".concat(e)}))),Object(r.a)(b.map((function(e){return"grid-xl-".concat(e)}))))),x=n(2),w=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function O(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]||"spacing-xs-".concat(String(e))];var r=e.xs,a=e.sm,i=e.md,o=e.lg,u=e.xl;return[Number(r)>0&&(n["spacing-xs-".concat(String(r))]||"spacing-xs-".concat(String(r))),Number(a)>0&&(n["spacing-sm-".concat(String(a))]||"spacing-sm-".concat(String(a))),Number(i)>0&&(n["spacing-md-".concat(String(i))]||"spacing-md-".concat(String(i))),Number(o)>0&&(n["spacing-lg-".concat(String(o))]||"spacing-lg-".concat(String(o))),Number(u)>0&&(n["spacing-xl-".concat(String(u))]||"spacing-xl-".concat(String(u)))]}var j=Object(d.a)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,a=n.container,i=n.direction,o=n.item,u=n.lg,s=n.md,c=n.sm,l=n.spacing,f=n.wrap,d=n.xl,h=n.xs,p=n.zeroMinWidth;return[t.root,a&&t.container,o&&t.item,p&&t.zeroMinWidth].concat(Object(r.a)(k(l,a,t)),["row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==f&&t["wrap-xs-".concat(String(f))],!1!==h&&t["grid-xs-".concat(String(h))],!1!==c&&t["grid-sm-".concat(String(c))],!1!==s&&t["grid-md-".concat(String(s))],!1!==u&&t["grid-lg-".concat(String(u))],!1!==d&&t["grid-xl-".concat(String(d))]])}})((function(e){var t=e.ownerState;return Object(o.a)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"nowrap"===t.wrap&&{flexWrap:"nowrap"},"reverse"===t.wrap&&{flexWrap:"wrap-reverse"})}),(function(e){var t=e.theme,n=e.ownerState,r=Object(c.d)({values:n.direction,breakpoints:t.breakpoints.values});return Object(c.b)({theme:t},r,(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(y.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,o={};if(r&&0!==i){var u=Object(c.d)({values:i,breakpoints:t.breakpoints.values});o=Object(c.b)({theme:t},u,(function(e){var n=t.spacing(e);return"0px"!==n?Object(a.a)({marginTop:"-".concat(O(n))},"& > .".concat(y.item),{paddingTop:O(n)}):{}}))}return o}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,o={};if(r&&0!==i){var u=Object(c.d)({values:i,breakpoints:t.breakpoints.values});o=Object(c.b)({theme:t},u,(function(e){var n=t.spacing(e);return"0px"!==n?Object(a.a)({width:"calc(100% + ".concat(O(n),")"),marginLeft:"-".concat(O(n))},"& > .".concat(y.item),{paddingLeft:O(n)}):{}}))}return o}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,a){var i={};if(r[a]&&(t=r[a]),!t)return e;if(!0===t)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var u=Object(c.d)({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof u?u[a]:u;if(void 0===s||null===s)return e;var l="".concat(Math.round(t/s*1e8)/1e6,"%"),f={};if(r.container&&r.item&&0!==r.columnSpacing){var d=n.spacing(r.columnSpacing);if("0px"!==d){var h="calc(".concat(l," + ").concat(O(d),")");f={flexBasis:h,maxWidth:h}}}i=Object(o.a)({flexBasis:l,flexGrow:0,maxWidth:l},f)}return 0===n.breakpoints.values[a]?Object.assign(e,i):e[n.breakpoints.up(a)]=i,e}),{})})),_=u.forwardRef((function(e,t){var n,a=Object(h.a)({props:e,name:"MuiGrid"}),c=Object(l.a)(a),d=c.className,v=c.columns,m=c.columnSpacing,b=c.component,y=void 0===b?"div":b,O=c.container,_=void 0!==O&&O,S=c.direction,E=void 0===S?"row":S,A=c.item,C=void 0!==A&&A,N=c.lg,T=void 0!==N&&N,D=c.md,I=void 0!==D&&D,M=c.rowSpacing,F=c.sm,R=void 0!==F&&F,P=c.spacing,z=void 0===P?0:P,B=c.wrap,L=void 0===B?"wrap":B,U=c.xl,W=void 0!==U&&U,V=c.xs,H=void 0!==V&&V,G=c.zeroMinWidth,q=void 0!==G&&G,X=Object(i.a)(c,w),Y=M||z,K=m||z,$=u.useContext(p),Z=v||$||12,J=Object(o.a)({},c,{columns:Z,container:_,direction:E,item:C,lg:T,md:I,sm:R,rowSpacing:Y,columnSpacing:K,wrap:L,xl:W,xs:H,zeroMinWidth:q}),Q=function(e){var t=e.classes,n=e.container,a=e.direction,i=e.item,o=e.lg,u=e.md,s=e.sm,c=e.spacing,l=e.wrap,d=e.xl,h=e.xs,p={root:["root",n&&"container",i&&"item",e.zeroMinWidth&&"zeroMinWidth"].concat(Object(r.a)(k(c,n)),["row"!==a&&"direction-xs-".concat(String(a)),"wrap"!==l&&"wrap-xs-".concat(String(l)),!1!==h&&"grid-xs-".concat(String(h)),!1!==s&&"grid-sm-".concat(String(s)),!1!==u&&"grid-md-".concat(String(u)),!1!==o&&"grid-lg-".concat(String(o)),!1!==d&&"grid-xl-".concat(String(d))])};return Object(f.a)(p,g,t)}(J);return n=Object(x.jsx)(j,Object(o.a)({ownerState:J,className:Object(s.a)(Q.root,d),as:y,ref:t},X)),12!==Z?Object(x.jsx)(p.Provider,{value:Z,children:n}):n}));t.a=_},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(914),l=n(76),f=n(2),d=Object(l.a)(Object(f.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),h=n(70),p=n(29),v=n(1003),m=n(32),g=n(25),b=n(184),y=n(209);function x(e){return Object(b.a)("MuiChip",e)}var w=Object(y.a)("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]),O=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],k=Object(g.a)("div",{name:"MuiChip",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,a=n.color,i=n.clickable,o=n.onDelete,u=n.size,s=n.variant;return[Object(r.a)({},"& .".concat(w.avatar),t.avatar),Object(r.a)({},"& .".concat(w.avatar),t["avatar".concat(Object(p.a)(u))]),Object(r.a)({},"& .".concat(w.avatar),t["avatarColor".concat(Object(p.a)(a))]),Object(r.a)({},"& .".concat(w.icon),t.icon),Object(r.a)({},"& .".concat(w.icon),t["icon".concat(Object(p.a)(u))]),Object(r.a)({},"& .".concat(w.icon),t["iconColor".concat(Object(p.a)(a))]),Object(r.a)({},"& .".concat(w.deleteIcon),t.deleteIcon),Object(r.a)({},"& .".concat(w.deleteIcon),t["deleteIcon".concat(Object(p.a)(u))]),Object(r.a)({},"& .".concat(w.deleteIcon),t["deleteIconColor".concat(Object(p.a)(a))]),Object(r.a)({},"& .".concat(w.deleteIcon),t["deleteIconOutlinedColor".concat(Object(p.a)(a))]),t.root,t["size".concat(Object(p.a)(u))],t["color".concat(Object(p.a)(a))],i&&t.clickable,i&&"default"!==a&&t["clickableColor".concat(Object(p.a)(a),")")],o&&t.deletable,o&&"default"!==a&&t["deletableColor".concat(Object(p.a)(a))],t[s],"outlined"===s&&t["outlined".concat(Object(p.a)(a))]]}})((function(e){var t,n=e.theme,a=e.ownerState,o=Object(c.a)(n.palette.text.primary,.26);return Object(i.a)((t={fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:n.palette.text.primary,backgroundColor:n.palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box"},Object(r.a)(t,"&.".concat(w.disabled),{opacity:n.palette.action.disabledOpacity,pointerEvents:"none"}),Object(r.a)(t,"& .".concat(w.avatar),{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300],fontSize:n.typography.pxToRem(12)}),Object(r.a)(t,"& .".concat(w.avatarColorPrimary),{color:n.palette.primary.contrastText,backgroundColor:n.palette.primary.dark}),Object(r.a)(t,"& .".concat(w.avatarColorSecondary),{color:n.palette.secondary.contrastText,backgroundColor:n.palette.secondary.dark}),Object(r.a)(t,"& .".concat(w.avatarSmall),{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)}),Object(r.a)(t,"& .".concat(w.icon),Object(i.a)({color:"light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300],marginLeft:5,marginRight:-6},"small"===a.size&&{fontSize:18,marginLeft:4,marginRight:-4},"default"!==a.color&&{color:"inherit"})),Object(r.a)(t,"& .".concat(w.deleteIcon),Object(i.a)({WebkitTapHighlightColor:"transparent",color:o,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(c.a)(o,.4)}},"small"===a.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==a.color&&{color:Object(c.a)(n.palette[a.color].contrastText,.7),"&:hover, &:active":{color:n.palette[a.color].contrastText}})),t),"small"===a.size&&{height:24},"default"!==a.color&&{backgroundColor:n.palette[a.color].main,color:n.palette[a.color].contrastText},a.onDelete&&Object(r.a)({},"&.".concat(w.focusVisible),{backgroundColor:Object(c.a)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),a.onDelete&&"default"!==a.color&&Object(r.a)({},"&.".concat(w.focusVisible),{backgroundColor:n.palette[a.color].dark}))}),(function(e){var t,n=e.theme,a=e.ownerState;return Object(i.a)({},a.clickable&&(t={userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:Object(c.a)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}},Object(r.a)(t,"&.".concat(w.focusVisible),{backgroundColor:Object(c.a)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),Object(r.a)(t,"&:active",{boxShadow:n.shadows[1]}),t),a.clickable&&"default"!==a.color&&Object(r.a)({},"&:hover, &.".concat(w.focusVisible),{backgroundColor:n.palette[a.color].dark}))}),(function(e){var t,n,a=e.theme,o=e.ownerState;return Object(i.a)({},"outlined"===o.variant&&(t={backgroundColor:"transparent",border:"1px solid ".concat("light"===a.palette.mode?a.palette.grey[400]:a.palette.grey[700])},Object(r.a)(t,"&.".concat(w.clickable,":hover"),{backgroundColor:a.palette.action.hover}),Object(r.a)(t,"&.".concat(w.focusVisible),{backgroundColor:a.palette.action.focus}),Object(r.a)(t,"& .".concat(w.avatar),{marginLeft:4}),Object(r.a)(t,"& .".concat(w.avatarSmall),{marginLeft:2}),Object(r.a)(t,"& .".concat(w.icon),{marginLeft:4}),Object(r.a)(t,"& .".concat(w.iconSmall),{marginLeft:2}),Object(r.a)(t,"& .".concat(w.deleteIcon),{marginRight:5}),Object(r.a)(t,"& .".concat(w.deleteIconSmall),{marginRight:3}),t),"outlined"===o.variant&&"default"!==o.color&&(n={color:a.palette[o.color].main,border:"1px solid ".concat(Object(c.a)(a.palette[o.color].main,.7))},Object(r.a)(n,"&.".concat(w.clickable,":hover"),{backgroundColor:Object(c.a)(a.palette[o.color].main,a.palette.action.hoverOpacity)}),Object(r.a)(n,"&.".concat(w.focusVisible),{backgroundColor:Object(c.a)(a.palette[o.color].main,a.palette.action.focusOpacity)}),Object(r.a)(n,"& .".concat(w.deleteIcon),{color:Object(c.a)(a.palette[o.color].main,.7),"&:hover, &:active":{color:a.palette[o.color].main}}),n))})),j=Object(g.a)("span",{name:"MuiChip",slot:"Label",overridesResolver:function(e,t){var n=e.ownerState.size;return[t.label,t["label".concat(Object(p.a)(n))]]}})((function(e){var t=e.ownerState;return Object(i.a)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===t.size&&{paddingLeft:8,paddingRight:8})}));function _(e){return"Backspace"===e.key||"Delete"===e.key}var S=o.forwardRef((function(e,t){var n=Object(m.a)({props:e,name:"MuiChip"}),r=n.avatar,c=n.className,l=n.clickable,g=n.color,b=void 0===g?"default":g,y=n.component,w=n.deleteIcon,S=n.disabled,E=void 0!==S&&S,A=n.icon,C=n.label,N=n.onClick,T=n.onDelete,D=n.onKeyDown,I=n.onKeyUp,M=n.size,F=void 0===M?"medium":M,R=n.variant,P=void 0===R?"filled":R,z=Object(a.a)(n,O),B=o.useRef(null),L=Object(h.a)(B,t),U=function(e){e.stopPropagation(),T&&T(e)},W=!(!1===l||!N)||l,V="small"===F,H=W||T?v.a:y||"div",G=Object(i.a)({},n,{component:H,disabled:E,size:F,color:b,onDelete:!!T,clickable:W,variant:P}),q=function(e){var t=e.classes,n=e.disabled,r=e.size,a=e.color,i=e.onDelete,o=e.clickable,u=e.variant,c={root:["root",u,n&&"disabled","size".concat(Object(p.a)(r)),"color".concat(Object(p.a)(a)),o&&"clickable",o&&"clickableColor".concat(Object(p.a)(a)),i&&"deletable",i&&"deletableColor".concat(Object(p.a)(a)),"".concat(u).concat(Object(p.a)(a))],label:["label","label".concat(Object(p.a)(r))],avatar:["avatar","avatar".concat(Object(p.a)(r)),"avatarColor".concat(Object(p.a)(a))],icon:["icon","icon".concat(Object(p.a)(r)),"iconColor".concat(Object(p.a)(a))],deleteIcon:["deleteIcon","deleteIcon".concat(Object(p.a)(r)),"deleteIconColor".concat(Object(p.a)(a)),"deleteIconOutlinedColor".concat(Object(p.a)(a))]};return Object(s.a)(c,x,t)}(G),X=H===v.a?Object(i.a)({component:y||"div",focusVisibleClassName:q.focusVisible},T&&{disableRipple:!0}):{},Y=null;if(T){var K=Object(u.a)("default"!==b&&("outlined"===P?q["deleteIconOutlinedColor".concat(Object(p.a)(b))]:q["deleteIconColor".concat(Object(p.a)(b))]),V&&q.deleteIconSmall);Y=w&&o.isValidElement(w)?o.cloneElement(w,{className:Object(u.a)(w.props.className,q.deleteIcon,K),onClick:U}):Object(f.jsx)(d,{className:Object(u.a)(q.deleteIcon,K),onClick:U})}var $=null;r&&o.isValidElement(r)&&($=o.cloneElement(r,{className:Object(u.a)(q.avatar,r.props.className)}));var Z=null;return A&&o.isValidElement(A)&&(Z=o.cloneElement(A,{className:Object(u.a)(q.icon,A.props.className)})),Object(f.jsxs)(k,Object(i.a)({as:H,className:Object(u.a)(q.root,c),disabled:!(!W||!E)||void 0,onClick:N,onKeyDown:function(e){e.currentTarget===e.target&&_(e)&&e.preventDefault(),D&&D(e)},onKeyUp:function(e){e.currentTarget===e.target&&(T&&_(e)?T(e):"Escape"===e.key&&B.current&&B.current.blur()),I&&I(e)},ref:L,ownerState:G},X,z,{children:[$||Z,Object(f.jsx)(j,{className:Object(u.a)(q.label),ownerState:G,children:C}),Y]}))}));t.a=S},function(e,t,n){"use strict";var r=n(6),a=n(15),i=n(26),o=n(11),u=n(1),s=n(28),c=n(274),l=n(114);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Object(l.a)(e)?t:Object(o.a)({},t,{ownerState:Object(o.a)({},t.ownerState,n)})}var d=n(914),h=n(25),p=n(102),v=n(32),m=n(29),g=n(985),b=n(1e3),y=n(179),x=n(70),w=n(365),O=n(241),k=n(198),j=n(184),_=n(209);function S(e){return Object(j.a)("MuiTooltip",e)}var E=Object(_.a)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),A=n(2),C=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];var N=Object(h.a)(b.a,{name:"MuiTooltip",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((function(e){var t,n=e.theme,r=e.ownerState,i=e.open;return Object(o.a)({zIndex:n.zIndex.tooltip,pointerEvents:"none"},!r.disableInteractive&&{pointerEvents:"auto"},!i&&{pointerEvents:"none"},r.arrow&&(t={},Object(a.a)(t,'&[data-popper-placement*="bottom"] .'.concat(E.arrow),{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}}),Object(a.a)(t,'&[data-popper-placement*="top"] .'.concat(E.arrow),{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}}),Object(a.a)(t,'&[data-popper-placement*="right"] .'.concat(E.arrow),Object(o.a)({},r.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}})),Object(a.a)(t,'&[data-popper-placement*="left"] .'.concat(E.arrow),Object(o.a)({},r.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})),t))})),T=Object(h.a)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:function(e,t){var n=e.ownerState;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(Object(m.a)(n.placement.split("-")[0]))]]}})((function(e){var t,n,r=e.theme,i=e.ownerState;return Object(o.a)({backgroundColor:Object(d.a)(r.palette.grey[700],.92),borderRadius:r.shape.borderRadius,color:r.palette.common.white,fontFamily:r.typography.fontFamily,padding:"4px 8px",fontSize:r.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:r.typography.fontWeightMedium},i.arrow&&{position:"relative",margin:0},i.touch&&{padding:"8px 16px",fontSize:r.typography.pxToRem(14),lineHeight:"".concat((n=16/14,Math.round(1e5*n)/1e5),"em"),fontWeight:r.typography.fontWeightRegular},(t={},Object(a.a)(t,".".concat(E.popper,'[data-popper-placement*="left"] &'),Object(o.a)({transformOrigin:"right center"},i.isRtl?Object(o.a)({marginLeft:"14px"},i.touch&&{marginLeft:"24px"}):Object(o.a)({marginRight:"14px"},i.touch&&{marginRight:"24px"}))),Object(a.a)(t,".".concat(E.popper,'[data-popper-placement*="right"] &'),Object(o.a)({transformOrigin:"left center"},i.isRtl?Object(o.a)({marginRight:"14px"},i.touch&&{marginRight:"24px"}):Object(o.a)({marginLeft:"14px"},i.touch&&{marginLeft:"24px"}))),Object(a.a)(t,".".concat(E.popper,'[data-popper-placement*="top"] &'),Object(o.a)({transformOrigin:"center bottom",marginBottom:"14px"},i.touch&&{marginBottom:"24px"})),Object(a.a)(t,".".concat(E.popper,'[data-popper-placement*="bottom"] &'),Object(o.a)({transformOrigin:"center top",marginTop:"14px"},i.touch&&{marginTop:"24px"})),t))})),D=Object(h.a)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:function(e,t){return t.arrow}})((function(e){var t=e.theme;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:Object(d.a)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})),I=!1,M=null;function F(e,t){return function(n){t&&t(n),e(n)}}var R=u.forwardRef((function(e,t){var n,a,l,d,h,j,_=Object(v.a)({props:e,name:"MuiTooltip"}),E=_.arrow,R=void 0!==E&&E,P=_.children,z=_.components,B=void 0===z?{}:z,L=_.componentsProps,U=void 0===L?{}:L,W=_.describeChild,V=void 0!==W&&W,H=_.disableFocusListener,G=void 0!==H&&H,q=_.disableHoverListener,X=void 0!==q&&q,Y=_.disableInteractive,K=void 0!==Y&&Y,$=_.disableTouchListener,Z=void 0!==$&&$,J=_.enterDelay,Q=void 0===J?100:J,ee=_.enterNextDelay,te=void 0===ee?0:ee,ne=_.enterTouchDelay,re=void 0===ne?700:ne,ae=_.followCursor,ie=void 0!==ae&&ae,oe=_.id,ue=_.leaveDelay,se=void 0===ue?0:ue,ce=_.leaveTouchDelay,le=void 0===ce?1500:ce,fe=_.onClose,de=_.onOpen,he=_.open,pe=_.placement,ve=void 0===pe?"bottom":pe,me=_.PopperComponent,ge=_.PopperProps,be=void 0===ge?{}:ge,ye=_.title,xe=_.TransitionComponent,we=void 0===xe?g.a:xe,Oe=_.TransitionProps,ke=Object(i.a)(_,C),je=Object(p.a)(),_e="rtl"===je.direction,Se=u.useState(),Ee=Object(r.a)(Se,2),Ae=Ee[0],Ce=Ee[1],Ne=u.useState(null),Te=Object(r.a)(Ne,2),De=Te[0],Ie=Te[1],Me=u.useRef(!1),Fe=K||ie,Re=u.useRef(),Pe=u.useRef(),ze=u.useRef(),Be=u.useRef(),Le=Object(k.a)({controlled:he,default:!1,name:"Tooltip",state:"open"}),Ue=Object(r.a)(Le,2),We=Ue[0],Ve=Ue[1],He=We,Ge=Object(w.a)(oe),qe=u.useRef(),Xe=u.useCallback((function(){void 0!==qe.current&&(document.body.style.WebkitUserSelect=qe.current,qe.current=void 0),clearTimeout(Be.current)}),[]);u.useEffect((function(){return function(){clearTimeout(Re.current),clearTimeout(Pe.current),clearTimeout(ze.current),Xe()}}),[Xe]);var Ye=function(e){clearTimeout(M),I=!0,Ve(!0),de&&!He&&de(e)},Ke=Object(y.a)((function(e){clearTimeout(M),M=setTimeout((function(){I=!1}),800+se),Ve(!1),fe&&He&&fe(e),clearTimeout(Re.current),Re.current=setTimeout((function(){Me.current=!1}),je.transitions.duration.shortest)})),$e=function(e){Me.current&&"touchstart"!==e.type||(Ae&&Ae.removeAttribute("title"),clearTimeout(Pe.current),clearTimeout(ze.current),Q||I&&te?Pe.current=setTimeout((function(){Ye(e)}),I?te:Q):Ye(e))},Ze=function(e){clearTimeout(Pe.current),clearTimeout(ze.current),ze.current=setTimeout((function(){Ke(e)}),se)},Je=Object(O.a)(),Qe=Je.isFocusVisibleRef,et=Je.onBlur,tt=Je.onFocus,nt=Je.ref,rt=u.useState(!1),at=Object(r.a)(rt,2)[1],it=function(e){et(e),!1===Qe.current&&(at(!1),Ze(e))},ot=function(e){Ae||Ce(e.currentTarget),tt(e),!0===Qe.current&&(at(!0),$e(e))},ut=function(e){Me.current=!0;var t=P.props;t.onTouchStart&&t.onTouchStart(e)},st=$e,ct=Ze;u.useEffect((function(){if(He)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Ke(e)}}),[Ke,He]);var lt=Object(x.a)(Ce,t),ft=Object(x.a)(nt,lt),dt=Object(x.a)(P.ref,ft);""===ye&&(He=!1);var ht=u.useRef({x:0,y:0}),pt=u.useRef(),vt={},mt="string"===typeof ye;V?(vt.title=He||!mt||X?null:ye,vt["aria-describedby"]=He?Ge:null):(vt["aria-label"]=mt?ye:null,vt["aria-labelledby"]=He&&!mt?Ge:null);var gt=Object(o.a)({},vt,ke,P.props,{className:Object(s.a)(ke.className,P.props.className),onTouchStart:ut,ref:dt},ie?{onMouseMove:function(e){var t=P.props;t.onMouseMove&&t.onMouseMove(e),ht.current={x:e.clientX,y:e.clientY},pt.current&&pt.current.update()}}:{});var bt={};Z||(gt.onTouchStart=function(e){ut(e),clearTimeout(ze.current),clearTimeout(Re.current),Xe(),qe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Be.current=setTimeout((function(){document.body.style.WebkitUserSelect=qe.current,$e(e)}),re)},gt.onTouchEnd=function(e){P.props.onTouchEnd&&P.props.onTouchEnd(e),Xe(),clearTimeout(ze.current),ze.current=setTimeout((function(){Ke(e)}),le)}),X||(gt.onMouseOver=F(st,gt.onMouseOver),gt.onMouseLeave=F(ct,gt.onMouseLeave),Fe||(bt.onMouseOver=st,bt.onMouseLeave=ct)),G||(gt.onFocus=F(ot,gt.onFocus),gt.onBlur=F(it,gt.onBlur),Fe||(bt.onFocus=ot,bt.onBlur=it));var yt=u.useMemo((function(){var e,t=[{name:"arrow",enabled:Boolean(De),options:{element:De,padding:4}}];return null!=(e=be.popperOptions)&&e.modifiers&&(t=t.concat(be.popperOptions.modifiers)),Object(o.a)({},be.popperOptions,{modifiers:t})}),[De,be]),xt=Object(o.a)({},_,{isRtl:_e,arrow:R,disableInteractive:Fe,placement:ve,PopperComponentProp:me,touch:Me.current}),wt=function(e){var t=e.classes,n=e.disableInteractive,r=e.arrow,a=e.touch,i=e.placement,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",a&&"touch","tooltipPlacement".concat(Object(m.a)(i.split("-")[0]))],arrow:["arrow"]};return Object(c.a)(o,S,t)}(xt),Ot=null!=(n=B.Popper)?n:N,kt=null!=(a=null!=(l=B.Transition)?l:we)?a:g.a,jt=null!=(d=B.Tooltip)?d:T,_t=null!=(h=B.Arrow)?h:D,St=f(Ot,Object(o.a)({},be,U.popper),xt),Et=f(kt,Object(o.a)({},Oe,U.transition),xt),At=f(jt,Object(o.a)({},U.tooltip),xt),Ct=f(_t,Object(o.a)({},U.arrow),xt);return Object(A.jsxs)(u.Fragment,{children:[u.cloneElement(P,gt),Object(A.jsx)(Ot,Object(o.a)({as:null!=me?me:b.a,placement:ve,anchorEl:ie?{getBoundingClientRect:function(){return{top:ht.current.y,left:ht.current.x,right:ht.current.x,bottom:ht.current.y,width:0,height:0}}}:Ae,popperRef:pt,open:!!Ae&&He,id:Ge,transition:!0},bt,St,{className:Object(s.a)(wt.popper,null==be?void 0:be.className,null==(j=U.popper)?void 0:j.className),popperOptions:yt,children:function(e){var t,n,r=e.TransitionProps;return Object(A.jsx)(kt,Object(o.a)({timeout:je.transitions.duration.shorter},r,Et,{children:Object(A.jsxs)(jt,Object(o.a)({},At,{className:Object(s.a)(wt.tooltip,null==(t=U.tooltip)?void 0:t.className),children:[ye,R?Object(A.jsx)(_t,Object(o.a)({},Ct,{className:Object(s.a)(wt.arrow,null==(n=U.arrow)?void 0:n.className),ref:Ie})):null]}))}))}}))]})}));t.a=R},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(6),l=n(920),f=n(922),d=n(918),h=n(301);function p(e){return"undefined"!==typeof e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function v(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignoreAccents,n=void 0===t||t,r=e.ignoreCase,a=void 0===r||r,i=e.limit,o=e.matchFrom,u=void 0===o?"any":o,s=e.stringify,c=e.trim,l=void 0!==c&&c;return function(e,t){var r=t.inputValue,o=t.getOptionLabel,c=l?r.trim():r;a&&(c=c.toLowerCase()),n&&(c=p(c));var f=e.filter((function(e){var t=(s||o)(e);return a&&(t=t.toLowerCase()),n&&(t=p(t)),"start"===u?0===t.indexOf(c):t.indexOf(c)>-1}));return"number"===typeof i?f.slice(0,i):f}}();function g(e){var t,n=e.autoComplete,r=void 0!==n&&n,a=e.autoHighlight,u=void 0!==a&&a,s=e.autoSelect,p=void 0!==s&&s,g=e.blurOnSelect,b=void 0!==g&&g,y=e.disabled,x=e.clearOnBlur,w=void 0===x?!e.freeSolo:x,O=e.clearOnEscape,k=void 0!==O&&O,j=e.componentName,_=void 0===j?"useAutocomplete":j,S=e.defaultValue,E=void 0===S?e.multiple?[]:null:S,A=e.disableClearable,C=void 0!==A&&A,N=e.disableCloseOnSelect,T=void 0!==N&&N,D=e.disabledItemsFocusable,I=void 0!==D&&D,M=e.disableListWrap,F=void 0!==M&&M,R=e.filterOptions,P=void 0===R?m:R,z=e.filterSelectedOptions,B=void 0!==z&&z,L=e.freeSolo,U=void 0!==L&&L,W=e.getOptionDisabled,V=e.getOptionLabel,H=void 0===V?function(e){var t;return null!=(t=e.label)?t:e}:V,G=e.isOptionEqualToValue,q=void 0===G?function(e,t){return e===t}:G,X=e.groupBy,Y=e.handleHomeEndKeys,K=void 0===Y?!e.freeSolo:Y,$=e.id,Z=e.includeInputInList,J=void 0!==Z&&Z,Q=e.inputValue,ee=e.multiple,te=void 0!==ee&&ee,ne=e.onChange,re=e.onClose,ae=e.onHighlightChange,ie=e.onInputChange,oe=e.onOpen,ue=e.open,se=e.openOnFocus,ce=void 0!==se&&se,le=e.options,fe=e.selectOnFocus,de=void 0===fe?!e.freeSolo:fe,he=e.value,pe=Object(l.a)($);t=function(e){var t=H(e);return"string"!==typeof t?String(t):t};var ve=o.useRef(!1),me=o.useRef(!0),ge=o.useRef(null),be=o.useRef(null),ye=o.useState(null),xe=Object(c.a)(ye,2),we=xe[0],Oe=xe[1],ke=o.useState(-1),je=Object(c.a)(ke,2),_e=je[0],Se=je[1],Ee=u?0:-1,Ae=o.useRef(Ee),Ce=Object(f.a)({controlled:he,default:E,name:_}),Ne=Object(c.a)(Ce,2),Te=Ne[0],De=Ne[1],Ie=Object(f.a)({controlled:Q,default:"",name:_,state:"inputValue"}),Me=Object(c.a)(Ie,2),Fe=Me[0],Re=Me[1],Pe=o.useState(!1),ze=Object(c.a)(Pe,2),Be=ze[0],Le=ze[1],Ue=o.useCallback((function(e,n){if((te?Te.length<n.length:null!==n)||w){var r;if(te)r="";else if(null==n)r="";else{var a=t(n);r="string"===typeof a?a:""}Fe!==r&&(Re(r),ie&&ie(e,r,"reset"))}}),[t,Fe,te,ie,Re,w,Te]),We=o.useRef();o.useEffect((function(){var e=Te!==We.current;We.current=Te,Be&&!e||U&&!e||Ue(null,Te)}),[Te,Ue,Be,We,U]);var Ve=Object(f.a)({controlled:ue,default:!1,name:_,state:"open"}),He=Object(c.a)(Ve,2),Ge=He[0],qe=He[1],Xe=o.useState(!0),Ye=Object(c.a)(Xe,2),Ke=Ye[0],$e=Ye[1],Ze=!te&&null!=Te&&Fe===t(Te),Je=Ge,Qe=Je?P(le.filter((function(e){return!B||!(te?Te:[Te]).some((function(t){return null!==t&&q(e,t)}))})),{inputValue:Ze&&Ke?"":Fe,getOptionLabel:t}):[],et=Ge&&Qe.length>0,tt=Object(d.a)((function(e){-1===e?ge.current.focus():we.querySelector('[data-tag-index="'.concat(e,'"]')).focus()}));o.useEffect((function(){te&&_e>Te.length-1&&(Se(-1),tt(-1))}),[Te,te,_e,tt]);var nt=Object(d.a)((function(e){var t=e.event,n=e.index,r=e.reason,a=void 0===r?"auto":r;if(Ae.current=n,-1===n?ge.current.removeAttribute("aria-activedescendant"):ge.current.setAttribute("aria-activedescendant","".concat(pe,"-option-").concat(n)),ae&&ae(t,-1===n?null:Qe[n],a),be.current){var i=be.current.querySelector('[role="option"].Mui-focused');i&&(i.classList.remove("Mui-focused"),i.classList.remove("Mui-focusVisible"));var o=be.current.parentElement.querySelector('[role="listbox"]');if(o)if(-1!==n){var u=be.current.querySelector('[data-option-index="'.concat(n,'"]'));if(u&&(u.classList.add("Mui-focused"),"keyboard"===a&&u.classList.add("Mui-focusVisible"),o.scrollHeight>o.clientHeight&&"mouse"!==a)){var s=u,c=o.clientHeight+o.scrollTop,l=s.offsetTop+s.offsetHeight;l>c?o.scrollTop=l-o.clientHeight:s.offsetTop-s.offsetHeight*(X?1.3:0)<o.scrollTop&&(o.scrollTop=s.offsetTop-s.offsetHeight*(X?1.3:0))}}else o.scrollTop=0}})),rt=Object(d.a)((function(e){var n=e.event,a=e.diff,i=e.direction,o=void 0===i?"next":i,u=e.reason,s=void 0===u?"auto":u;if(Je){var c=function(e,t){if(!be.current||-1===e)return-1;for(var n=e;;){if("next"===t&&n===Qe.length||"previous"===t&&-1===n)return-1;var r=be.current.querySelector('[data-option-index="'.concat(n,'"]')),a=!I&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(!(r&&!r.hasAttribute("tabindex")||a))return n;n+="next"===t?1:-1}}(function(){var e=Qe.length-1;if("reset"===a)return Ee;if("start"===a)return 0;if("end"===a)return e;var t=Ae.current+a;return t<0?-1===t&&J?-1:F&&-1!==Ae.current||Math.abs(a)>1?0:e:t>e?t===e+1&&J?-1:F||Math.abs(a)>1?e:0:t}(),o);if(nt({index:c,reason:s,event:n}),r&&"reset"!==a)if(-1===c)ge.current.value=Fe;else{var l=t(Qe[c]);ge.current.value=l,0===l.toLowerCase().indexOf(Fe.toLowerCase())&&Fe.length>0&&ge.current.setSelectionRange(Fe.length,l.length)}}})),at=o.useCallback((function(){if(Je){var e=te?Te[0]:Te;if(0!==Qe.length&&null!=e){if(be.current)if(null==e)Ae.current>=Qe.length-1?nt({index:Qe.length-1}):nt({index:Ae.current});else{var t=Qe[Ae.current];if(te&&t&&-1!==v(Te,(function(e){return q(t,e)})))return;var n=v(Qe,(function(t){return q(t,e)}));-1===n?rt({diff:"reset"}):nt({index:n})}}else rt({diff:"reset"})}}),[Qe.length,!te&&Te,B,rt,nt,Je,Fe,te]),it=Object(d.a)((function(e){Object(h.a)(be,e),e&&at()}));o.useEffect((function(){at()}),[at]);var ot=function(e){Ge||(qe(!0),$e(!0),oe&&oe(e))},ut=function(e,t){Ge&&(qe(!1),re&&re(e,t))},st=function(e,t,n,r){if(Array.isArray(Te)){if(Te.length===t.length&&Te.every((function(e,n){return e===t[n]})))return}else if(Te===t)return;ne&&ne(e,t,n,r),De(t)},ct=o.useRef(!1),lt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",a=n,i=t;if(te){var o=v(i=Array.isArray(Te)?Te.slice():[],(function(e){return q(t,e)}));-1===o?i.push(t):"freeSolo"!==r&&(i.splice(o,1),a="removeOption")}Ue(e,i),st(e,i,a,{option:t}),T||e.ctrlKey||e.metaKey||ut(e,a),(!0===b||"touch"===b&&ct.current||"mouse"===b&&!ct.current)&&ge.current.blur()};var ft=function(e,t){if(te){ut(e,"toggleInput");var n=_e;-1===_e?""===Fe&&"previous"===t&&(n=Te.length-1):((n+="next"===t?1:-1)<0&&(n=0),n===Te.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;for(var n=e;;){if("next"===t&&n===Te.length||"previous"===t&&-1===n)return-1;var r=we.querySelector('[data-tag-index="'.concat(n,'"]'));if(r&&r.hasAttribute("tabindex")&&!r.disabled&&"true"!==r.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),Se(n),tt(n)}},dt=function(e){ve.current=!0,Re(""),ie&&ie(e,"","clear"),st(e,te?[]:null,"clear")},ht=function(e){return function(t){if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==_e&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(Se(-1),tt(-1)),229!==t.which))switch(t.key){case"Home":Je&&K&&(t.preventDefault(),rt({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":Je&&K&&(t.preventDefault(),rt({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),rt({diff:-5,direction:"previous",reason:"keyboard",event:t}),ot(t);break;case"PageDown":t.preventDefault(),rt({diff:5,direction:"next",reason:"keyboard",event:t}),ot(t);break;case"ArrowDown":t.preventDefault(),rt({diff:1,direction:"next",reason:"keyboard",event:t}),ot(t);break;case"ArrowUp":t.preventDefault(),rt({diff:-1,direction:"previous",reason:"keyboard",event:t}),ot(t);break;case"ArrowLeft":ft(t,"previous");break;case"ArrowRight":ft(t,"next");break;case"Enter":if(-1!==Ae.current&&Je){var n=Qe[Ae.current],a=!!W&&W(n);if(t.preventDefault(),a)return;lt(t,n,"selectOption"),r&&ge.current.setSelectionRange(ge.current.value.length,ge.current.value.length)}else U&&""!==Fe&&!1===Ze&&(te&&t.preventDefault(),lt(t,Fe,"createOption","freeSolo"));break;case"Escape":Je?(t.preventDefault(),t.stopPropagation(),ut(t,"escape")):k&&(""!==Fe||te&&Te.length>0)&&(t.preventDefault(),t.stopPropagation(),dt(t));break;case"Backspace":if(te&&""===Fe&&Te.length>0){var i=-1===_e?Te.length-1:_e,o=Te.slice();o.splice(i,1),st(t,o,"removeOption",{option:Te[i]})}}}},pt=function(e){Le(!0),ce&&!ve.current&&ot(e)},vt=function(e){null!==be.current&&be.current.parentElement.contains(document.activeElement)?ge.current.focus():(Le(!1),me.current=!0,ve.current=!1,p&&-1!==Ae.current&&Je?lt(e,Qe[Ae.current],"blur"):p&&U&&""!==Fe?lt(e,Fe,"blur","freeSolo"):w&&Ue(e,Te),ut(e,"blur"))},mt=function(e){var t=e.target.value;Fe!==t&&(Re(t),$e(!1),ie&&ie(e,t,"input")),""===t?C||te||st(e,null,"clear"):ot(e)},gt=function(e){nt({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},bt=function(){ct.current=!0},yt=function(e){var t=Number(e.currentTarget.getAttribute("data-option-index"));lt(e,Qe[t],"selectOption"),ct.current=!1},xt=function(e){return function(t){var n=Te.slice();n.splice(e,1),st(t,n,"removeOption",{option:Te[e]})}},wt=function(e){Ge?ut(e,"toggleInput"):ot(e)},Ot=function(e){e.target.getAttribute("id")!==pe&&e.preventDefault()},kt=function(){ge.current.focus(),de&&me.current&&ge.current.selectionEnd-ge.current.selectionStart===0&&ge.current.select(),me.current=!1},jt=function(e){""!==Fe&&Ge||wt(e)},_t=U&&Fe.length>0;_t=_t||(te?Te.length>0:null!==Te);var St=Qe;if(X){new Map;St=Qe.reduce((function(e,t,n){var r=X(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return y&&Be&&vt(),{getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)({"aria-owns":et?"".concat(pe,"-listbox"):null,role:"combobox","aria-expanded":et},e,{onKeyDown:ht(e),onMouseDown:Ot,onClick:kt})},getInputLabelProps:function(){return{id:"".concat(pe,"-label"),htmlFor:pe}},getInputProps:function(){return{id:pe,value:Fe,onBlur:vt,onFocus:pt,onChange:mt,onMouseDown:jt,"aria-activedescendant":Je?"":null,"aria-autocomplete":r?"both":"list","aria-controls":et?"".concat(pe,"-listbox"):void 0,autoComplete:"off",ref:ge,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:dt}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:wt}},getTagProps:function(e){var t=e.index;return{key:t,"data-tag-index":t,tabIndex:-1,onDelete:xt(t)}},getListboxProps:function(){return{role:"listbox",id:"".concat(pe,"-listbox"),"aria-labelledby":"".concat(pe,"-label"),ref:it,onMouseDown:function(e){e.preventDefault()}}},getOptionProps:function(e){var n=e.index,r=e.option,a=(te?Te:[Te]).some((function(e){return null!=e&&q(r,e)})),i=!!W&&W(r);return{key:t(r),tabIndex:-1,role:"option",id:"".concat(pe,"-option-").concat(n),onMouseOver:gt,onClick:yt,onTouchStart:bt,"data-option-index":n,"aria-disabled":i,"aria-selected":a}},id:pe,inputValue:Fe,value:Te,dirty:_t,popupOpen:Je,focused:Be||-1!==_e,anchorEl:we,setAnchorEl:Oe,focusedTag:_e,groupedOptions:St}}var b=n(914),y=n(1e3),x=n(1038),w=n(1022),O=n(1024),k=n(1017),j=n(173),_=n(174),S=n(128),E=n(127),A=n(387),C=n(389),N=n(32),T=n(25),D=n(184),I=n(209);function M(e){return Object(D.a)("MuiAutocomplete",e)}var F,R,P=Object(I.a)("MuiAutocomplete",["root","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),z=n(29),B=n(2),L=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"],U=Object(T.a)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,a=n.fullWidth,i=n.hasClearIcon,o=n.hasPopupIcon,u=n.inputFocused,s=n.size;return[Object(r.a)({},"& .".concat(P.tag),t.tag),Object(r.a)({},"& .".concat(P.tag),t["tagSize".concat(Object(z.a)(s))]),Object(r.a)({},"& .".concat(P.inputRoot),t.inputRoot),Object(r.a)({},"& .".concat(P.input),t.input),Object(r.a)({},"& .".concat(P.input),u&&t.inputFocused),t.root,a&&t.fullWidth,o&&t.hasPopupIcon,i&&t.hasClearIcon]}})((function(e){var t,n,a,o,u,s=e.ownerState;return Object(i.a)((t={},Object(r.a)(t,"&.".concat(P.focused," .").concat(P.clearIndicator),{visibility:"visible"}),Object(r.a)(t,"@media (pointer: fine)",Object(r.a)({},"&:hover .".concat(P.clearIndicator),{visibility:"visible"})),t),s.fullWidth&&{width:"100%"},(u={},Object(r.a)(u,"& .".concat(P.tag),Object(i.a)({margin:3,maxWidth:"calc(100% - 6px)"},"small"===s.size&&{margin:2,maxWidth:"calc(100% - 4px)"})),Object(r.a)(u,"& .".concat(P.inputRoot),(n={flexWrap:"wrap"},Object(r.a)(n,".".concat(P.hasPopupIcon,"&, .").concat(P.hasClearIcon,"&"),{paddingRight:30}),Object(r.a)(n,".".concat(P.hasPopupIcon,".").concat(P.hasClearIcon,"&"),{paddingRight:56}),Object(r.a)(n,"& .".concat(P.input),{width:0,minWidth:30}),n)),Object(r.a)(u,"& .".concat(j.a.root),{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}}),Object(r.a)(u,"& .".concat(j.a.root,".").concat(_.a.sizeSmall),Object(r.a)({},"& .".concat(j.a.input),{padding:"2px 4px 3px 0"})),Object(r.a)(u,"& .".concat(S.a.root),(a={padding:9},Object(r.a)(a,".".concat(P.hasPopupIcon,"&, .").concat(P.hasClearIcon,"&"),{paddingRight:39}),Object(r.a)(a,".".concat(P.hasPopupIcon,".").concat(P.hasClearIcon,"&"),{paddingRight:65}),Object(r.a)(a,"& .".concat(P.input),{padding:"7.5px 4px 7.5px 6px"}),Object(r.a)(a,"& .".concat(P.endAdornment),{right:9}),a)),Object(r.a)(u,"& .".concat(S.a.root,".").concat(_.a.sizeSmall),Object(r.a)({padding:6},"& .".concat(P.input),{padding:"2.5px 4px 2.5px 6px"})),Object(r.a)(u,"& .".concat(E.a.root),(o={paddingTop:19,paddingLeft:8},Object(r.a)(o,".".concat(P.hasPopupIcon,"&, .").concat(P.hasClearIcon,"&"),{paddingRight:39}),Object(r.a)(o,".".concat(P.hasPopupIcon,".").concat(P.hasClearIcon,"&"),{paddingRight:65}),Object(r.a)(o,"& .".concat(E.a.input),{padding:"7px 4px"}),Object(r.a)(o,"& .".concat(P.endAdornment),{right:9}),o)),Object(r.a)(u,"& .".concat(E.a.root,".").concat(_.a.sizeSmall),Object(r.a)({paddingBottom:1},"& .".concat(E.a.input),{padding:"2.5px 4px"})),Object(r.a)(u,"& .".concat(_.a.hiddenLabel),{paddingTop:8}),Object(r.a)(u,"& .".concat(P.input),Object(i.a)({flexGrow:1,textOverflow:"ellipsis",opacity:0},s.inputFocused&&{opacity:1})),u))})),W=Object(T.a)("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:function(e,t){return t.endAdornment}})({position:"absolute",right:0,top:"calc(50% - 14px)"}),V=Object(T.a)(O.a,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:function(e,t){return t.clearIndicator}})({marginRight:-2,padding:4,visibility:"hidden"}),H=Object(T.a)(O.a,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:function(e,t){var n=e.ownerState;return Object(i.a)({},t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen)}})((function(e){var t=e.ownerState;return Object(i.a)({padding:2,marginRight:-2},t.popupOpen&&{transform:"rotate(180deg)"})})),G=Object(T.a)(y.a,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[Object(r.a)({},"& .".concat(P.option),t.option),t.popper,n.disablePortal&&t.popperDisablePortal]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({zIndex:t.zIndex.modal},n.disablePortal&&{position:"absolute"})})),q=Object(T.a)(w.a,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:function(e,t){return t.paper}})((function(e){var t=e.theme;return Object(i.a)({},t.typography.body1,{overflow:"auto"})})),X=Object(T.a)("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:function(e,t){return t.loading}})((function(e){return{color:e.theme.palette.text.secondary,padding:"14px 16px"}})),Y=Object(T.a)("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:function(e,t){return t.noOptions}})((function(e){return{color:e.theme.palette.text.secondary,padding:"14px 16px"}})),K=Object(T.a)("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:function(e,t){return t.listbox}})((function(e){var t,n,a=e.theme;return Object(r.a)({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},"& .".concat(P.option),(n={minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},Object(r.a)(n,a.breakpoints.up("sm"),{minHeight:"auto"}),Object(r.a)(n,"&.".concat(P.focused),{backgroundColor:a.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}),Object(r.a)(n,'&[aria-disabled="true"]',{opacity:a.palette.action.disabledOpacity,pointerEvents:"none"}),Object(r.a)(n,"&.".concat(P.focusVisible),{backgroundColor:a.palette.action.focus}),Object(r.a)(n,'&[aria-selected="true"]',(t={backgroundColor:Object(b.a)(a.palette.primary.main,a.palette.action.selectedOpacity)},Object(r.a)(t,"&.".concat(P.focused),{backgroundColor:Object(b.a)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.palette.action.selected}}),Object(r.a)(t,"&.".concat(P.focusVisible),{backgroundColor:Object(b.a)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}),t)),n))})),$=Object(T.a)(x.a,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:function(e,t){return t.groupLabel}})((function(e){return{backgroundColor:e.theme.palette.background.paper,top:-8}})),Z=Object(T.a)("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:function(e,t){return t.groupUl}})(Object(r.a)({padding:0},"& .".concat(P.option),{paddingLeft:24})),J=o.forwardRef((function(e,t){var n,r,c=Object(N.a)({props:e,name:"MuiAutocomplete"}),l=(c.autoComplete,c.autoHighlight,c.autoSelect,c.blurOnSelect,c.ChipProps),f=c.className,d=c.clearIcon,h=void 0===d?F||(F=Object(B.jsx)(A.a,{fontSize:"small"})):d,p=c.clearOnBlur,v=(void 0===p&&c.freeSolo,c.clearOnEscape,c.clearText),m=void 0===v?"Clear":v,b=c.closeText,x=void 0===b?"Close":b,O=c.componentsProps,j=void 0===O?{}:O,_=c.defaultValue,S=(void 0===_&&c.multiple,c.disableClearable),E=void 0!==S&&S,T=(c.disableCloseOnSelect,c.disabled),D=void 0!==T&&T,I=(c.disabledItemsFocusable,c.disableListWrap,c.disablePortal),P=void 0!==I&&I,J=(c.filterSelectedOptions,c.forcePopupIcon),Q=void 0===J?"auto":J,ee=c.freeSolo,te=void 0!==ee&&ee,ne=c.fullWidth,re=void 0!==ne&&ne,ae=c.getLimitTagsText,ie=void 0===ae?function(e){return"+".concat(e)}:ae,oe=c.getOptionLabel,ue=void 0===oe?function(e){var t;return null!=(t=e.label)?t:e}:oe,se=c.groupBy,ce=c.handleHomeEndKeys,le=(void 0===ce&&c.freeSolo,c.includeInputInList,c.limitTags),fe=void 0===le?-1:le,de=c.ListboxComponent,he=void 0===de?"ul":de,pe=c.ListboxProps,ve=c.loading,me=void 0!==ve&&ve,ge=c.loadingText,be=void 0===ge?"Loading\u2026":ge,ye=c.multiple,xe=void 0!==ye&&ye,we=c.noOptionsText,Oe=void 0===we?"No options":we,ke=(c.openOnFocus,c.openText),je=void 0===ke?"Open":ke,_e=c.PaperComponent,Se=void 0===_e?w.a:_e,Ee=c.PopperComponent,Ae=void 0===Ee?y.a:Ee,Ce=c.popupIcon,Ne=void 0===Ce?R||(R=Object(B.jsx)(C.a,{})):Ce,Te=c.renderGroup,De=c.renderInput,Ie=c.renderOption,Me=c.renderTags,Fe=c.selectOnFocus,Re=(void 0===Fe&&c.freeSolo,c.size),Pe=void 0===Re?"medium":Re,ze=Object(a.a)(c,L),Be=g(Object(i.a)({},c,{componentName:"Autocomplete"})),Le=Be.getRootProps,Ue=Be.getInputProps,We=Be.getInputLabelProps,Ve=Be.getPopupIndicatorProps,He=Be.getClearProps,Ge=Be.getTagProps,qe=Be.getListboxProps,Xe=Be.getOptionProps,Ye=Be.value,Ke=Be.dirty,$e=Be.id,Ze=Be.popupOpen,Je=Be.focused,Qe=Be.focusedTag,et=Be.anchorEl,tt=Be.setAnchorEl,nt=Be.inputValue,rt=Be.groupedOptions,at=!E&&!D&&Ke,it=(!te||!0===Q)&&!1!==Q,ot=Object(i.a)({},c,{disablePortal:P,focused:Je,fullWidth:re,hasClearIcon:at,hasPopupIcon:it,inputFocused:-1===Qe,popupOpen:Ze,size:Pe}),ut=function(e){var t=e.classes,n=e.disablePortal,r=e.focused,a=e.fullWidth,i=e.hasClearIcon,o=e.hasPopupIcon,u=e.inputFocused,c=e.popupOpen,l=e.size,f={root:["root",r&&"focused",a&&"fullWidth",i&&"hasClearIcon",o&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",u&&"inputFocused"],tag:["tag","tagSize".concat(Object(z.a)(l))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Object(s.a)(f,M,t)}(ot);if(xe&&Ye.length>0){var st=function(e){return Object(i.a)({className:Object(u.a)(ut.tag),disabled:D},Ge(e))};r=Me?Me(Ye,st):Ye.map((function(e,t){return Object(B.jsx)(k.a,Object(i.a)({label:ue(e),size:Pe},st({index:t}),l))}))}if(fe>-1&&Array.isArray(r)){var ct=r.length-fe;!Je&&ct>0&&(r=r.splice(0,fe)).push(Object(B.jsx)("span",{className:ut.tag,children:ie(ct)},r.length))}var lt=Te||function(e){return Object(B.jsxs)("li",{children:[Object(B.jsx)($,{className:ut.groupLabel,ownerState:ot,component:"div",children:e.group}),Object(B.jsx)(Z,{className:ut.groupUl,ownerState:ot,children:e.children})]},e.key)},ft=Ie||function(e,t){return Object(B.jsx)("li",Object(i.a)({},e,{children:ue(t)}))},dt=function(e,t){var n=Xe({option:e,index:t});return ft(Object(i.a)({},n,{className:ut.option}),e,{selected:n["aria-selected"],inputValue:nt})};return Object(B.jsxs)(o.Fragment,{children:[Object(B.jsx)(U,Object(i.a)({ref:t,className:Object(u.a)(ut.root,f),ownerState:ot},Le(ze),{children:De({id:$e,disabled:D,fullWidth:!0,size:"small"===Pe?"small":void 0,InputLabelProps:We(),InputProps:{ref:tt,className:ut.inputRoot,startAdornment:r,endAdornment:Object(B.jsxs)(W,{className:ut.endAdornment,ownerState:ot,children:[at?Object(B.jsx)(V,Object(i.a)({},He(),{"aria-label":m,title:m,ownerState:ot},j.clearIndicator,{className:Object(u.a)(ut.clearIndicator,null==(n=j.clearIndicator)?void 0:n.className),children:h})):null,it?Object(B.jsx)(H,Object(i.a)({},Ve(),{disabled:D,"aria-label":Ze?x:je,title:Ze?x:je,className:Object(u.a)(ut.popupIndicator),ownerState:ot,children:Ne})):null]})},inputProps:Object(i.a)({className:Object(u.a)(ut.input),disabled:D},Ue())})})),Ze&&et?Object(B.jsx)(G,{as:Ae,className:Object(u.a)(ut.popper),disablePortal:P,style:{width:et?et.clientWidth:null},ownerState:ot,role:"presentation",anchorEl:et,open:!0,children:Object(B.jsxs)(q,{as:Se,className:ut.paper,ownerState:ot,children:[me&&0===rt.length?Object(B.jsx)(X,{className:ut.loading,ownerState:ot,children:be}):null,0!==rt.length||te||me?null:Object(B.jsx)(Y,{className:ut.noOptions,ownerState:ot,role:"presentation",onMouseDown:function(e){e.preventDefault()},children:Oe}),rt.length>0?Object(B.jsx)(K,Object(i.a)({as:he,className:ut.listbox,ownerState:ot},qe(),pe,{children:rt.map((function(e,t){return se?lt({key:e.key,group:e.group,children:e.options.map((function(t,n){return dt(t,e.index+n)}))}):dt(e,t)}))})):null]})}):null]})}));t.a=J},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(914),l=n(25),f=n(32),d=n(103),h=n(1003),p=n(133),v=n(70),m=n(573),g=n(574),b=n(402),y=n(184),x=n(209);function w(e){return Object(y.a)("MuiMenuItem",e)}var O=Object(x.a)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),k=n(2),j=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],_=Object(l.a)(h.a,{shouldForwardProp:function(e){return Object(l.b)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,a=e.ownerState;return Object(i.a)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},Object(r.a)(t,"&.".concat(O.selected),Object(r.a)({backgroundColor:Object(c.a)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(O.focusVisible),{backgroundColor:Object(c.a)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),Object(r.a)(t,"&.".concat(O.selected,":hover"),{backgroundColor:Object(c.a)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Object(c.a)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),Object(r.a)(t,"&.".concat(O.focusVisible),{backgroundColor:n.palette.action.focus}),Object(r.a)(t,"&.".concat(O.disabled),{opacity:n.palette.action.disabledOpacity}),Object(r.a)(t,"& + .".concat(m.a.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),Object(r.a)(t,"& + .".concat(m.a.inset),{marginLeft:52}),Object(r.a)(t,"& .".concat(b.a.root),{marginTop:0,marginBottom:0}),Object(r.a)(t,"& .".concat(b.a.inset),{paddingLeft:36}),Object(r.a)(t,"& .".concat(g.a.root),{minWidth:36}),t),!a.dense&&Object(r.a)({},n.breakpoints.up("sm"),{minHeight:"auto"}),a.dense&&Object(i.a)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,Object(r.a)({},"& .".concat(g.a.root," svg"),{fontSize:"1.25rem"})))})),S=o.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiMenuItem"}),r=n.autoFocus,c=void 0!==r&&r,l=n.component,h=void 0===l?"li":l,m=n.dense,g=void 0!==m&&m,b=n.divider,y=void 0!==b&&b,x=n.disableGutters,O=void 0!==x&&x,S=n.focusVisibleClassName,E=n.role,A=void 0===E?"menuitem":E,C=n.tabIndex,N=Object(a.a)(n,j),T=o.useContext(d.a),D={dense:g||T.dense||!1,disableGutters:O},I=o.useRef(null);Object(p.a)((function(){c&&I.current&&I.current.focus()}),[c]);var M,F=Object(i.a)({},n,{dense:D.dense,divider:y,disableGutters:O}),R=function(e){var t=e.disabled,n=e.dense,r=e.divider,a=e.disableGutters,o=e.selected,u=e.classes,c={root:["root",n&&"dense",t&&"disabled",!a&&"gutters",r&&"divider",o&&"selected"]},l=Object(s.a)(c,w,u);return Object(i.a)({},u,l)}(n),P=Object(v.a)(I,t);return n.disabled||(M=void 0!==C?C:-1),Object(k.jsx)(d.a.Provider,{value:D,children:Object(k.jsx)(_,Object(i.a)({ref:P,role:A,tabIndex:M,component:h,focusVisibleClassName:Object(u.a)(R.focusVisible,S)},N,{ownerState:F,classes:R}))})}));t.a=S},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(920),l=n(29),f=n(1007),d=n(979),h=n(96),p=n(1022),v=n(32),m=n(25),g=n(184),b=n(209);function y(e){return Object(g.a)("MuiDialog",e)}var x=Object(b.a)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),w=n(385),O=n(1012),k=n(2),j=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],_=Object(m.a)(O.a,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),S=Object(m.a)(f.a,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),E=Object(m.a)("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat(Object(l.a)(n.scroll))]]}})((function(e){var t=e.ownerState;return Object(i.a)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),A=Object(m.a)(p.a,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat(Object(l.a)(n.scroll))],t["paperWidth".concat(Object(l.a)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&Object(r.a)({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit)},"&.".concat(x.paperScrollBody),Object(r.a)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),"xs"!==n.maxWidth&&Object(r.a)({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(x.paperScrollBody),Object(r.a)({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&Object(r.a)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(x.paperScrollBody),{margin:0,maxWidth:"100%"}))})),C={enter:h.b.enteringScreen,exit:h.b.leavingScreen},N=o.forwardRef((function(e,t){var n=Object(v.a)({props:e,name:"MuiDialog"}),r=n["aria-describedby"],f=n["aria-labelledby"],h=n.BackdropComponent,m=n.BackdropProps,g=n.children,b=n.className,x=n.disableEscapeKeyDown,O=void 0!==x&&x,N=n.fullScreen,T=void 0!==N&&N,D=n.fullWidth,I=void 0!==D&&D,M=n.maxWidth,F=void 0===M?"sm":M,R=n.onBackdropClick,P=n.onClose,z=n.open,B=n.PaperComponent,L=void 0===B?p.a:B,U=n.PaperProps,W=void 0===U?{}:U,V=n.scroll,H=void 0===V?"paper":V,G=n.TransitionComponent,q=void 0===G?d.a:G,X=n.transitionDuration,Y=void 0===X?C:X,K=n.TransitionProps,$=Object(a.a)(n,j),Z=Object(i.a)({},n,{disableEscapeKeyDown:O,fullScreen:T,fullWidth:I,maxWidth:F,scroll:H}),J=function(e){var t=e.classes,n=e.scroll,r=e.maxWidth,a=e.fullWidth,i=e.fullScreen,o={root:["root"],container:["container","scroll".concat(Object(l.a)(n))],paper:["paper","paperScroll".concat(Object(l.a)(n)),"paperWidth".concat(Object(l.a)(String(r))),a&&"paperFullWidth",i&&"paperFullScreen"]};return Object(s.a)(o,y,t)}(Z),Q=o.useRef(),ee=Object(c.a)(f),te=o.useMemo((function(){return{titleId:ee}}),[ee]);return Object(k.jsx)(S,Object(i.a)({className:Object(u.a)(J.root,b),BackdropProps:Object(i.a)({transitionDuration:Y,as:h},m),closeAfterTransition:!0,BackdropComponent:_,disableEscapeKeyDown:O,onClose:P,open:z,ref:t,onClick:function(e){Q.current&&(Q.current=null,R&&R(e),P&&P(e,"backdropClick"))},ownerState:Z},$,{children:Object(k.jsx)(q,Object(i.a)({appear:!0,in:z,timeout:Y,role:"presentation"},K,{children:Object(k.jsx)(E,{className:Object(u.a)(J.container),onMouseDown:function(e){Q.current=e.target===e.currentTarget},ownerState:Z,children:Object(k.jsx)(A,Object(i.a)({as:L,elevation:24,role:"dialog","aria-describedby":r,"aria-labelledby":ee},W,{className:Object(u.a)(J.paper,W.className),ownerState:Z,children:Object(k.jsx)(w.a.Provider,{value:te,children:g})}))})}))}))}));t.a=N},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(28),u=n(274),s=n(914),c=n(25),l=n(32),f=n(184),d=n(209);function h(e){return Object(f.a)("MuiPaper",e)}Object(d.a)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var p=n(2),v=["className","component","elevation","square","variant"],m=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},g=Object(c.a)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&Object(a.a)({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(Object(s.a)("#fff",m(n.elevation)),", ").concat(Object(s.a)("#fff",m(n.elevation)),")")}))})),b=i.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiPaper"}),i=n.className,s=n.component,c=void 0===s?"div":s,f=n.elevation,d=void 0===f?1:f,m=n.square,b=void 0!==m&&m,y=n.variant,x=void 0===y?"elevation":y,w=Object(r.a)(n,v),O=Object(a.a)({},n,{component:c,elevation:d,square:b,variant:x}),k=function(e){var t=e.square,n=e.elevation,r=e.variant,a=e.classes,i={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return Object(u.a)(i,h,a)}(O);return Object(p.jsx)(g,Object(a.a)({as:c,ownerState:O,className:Object(o.a)(k.root,i),ref:t},w))}));t.a=b},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(25),l=n(32),f=n(184),d=n(209);function h(e){return Object(f.a)("MuiDialogContent",e)}Object(d.a)("MuiDialogContent",["root","dividers"]);var p=n(386),v=n(2),m=["className","dividers"],g=Object(c.a)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat(t.palette.divider),borderBottom:"1px solid ".concat(t.palette.divider)}:Object(r.a)({},".".concat(p.a.root," + &"),{paddingTop:0}))})),b=o.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiDialogContent"}),r=n.className,o=n.dividers,c=void 0!==o&&o,f=Object(a.a)(n,m),d=Object(i.a)({},n,{dividers:c}),p=function(e){var t=e.classes,n={root:["root",e.dividers&&"dividers"]};return Object(s.a)(n,h,t)}(d);return Object(v.jsx)(g,Object(i.a)({className:Object(u.a)(p.root,r),ownerState:d,ref:t},f))}));t.a=b},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(914),l=n(25),f=n(32),d=n(1003),h=n(29),p=n(184),v=n(209);function m(e){return Object(p.a)("MuiIconButton",e)}var g=Object(v.a)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),b=n(2),y=["edge","children","className","color","disabled","disableFocusRipple","size"],x=Object(l.a)(d.a,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(Object(h.a)(n.color))],n.edge&&t["edge".concat(Object(h.a)(n.edge))],t["size".concat(Object(h.a)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:Object(c.a)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&Object(i.a)({color:t.palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:Object(c.a)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},Object(r.a)({},"&.".concat(g.disabled),{backgroundColor:"transparent",color:t.palette.action.disabled}))})),w=o.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiIconButton"}),r=n.edge,o=void 0!==r&&r,c=n.children,l=n.className,d=n.color,p=void 0===d?"default":d,v=n.disabled,g=void 0!==v&&v,w=n.disableFocusRipple,O=void 0!==w&&w,k=n.size,j=void 0===k?"medium":k,_=Object(a.a)(n,y),S=Object(i.a)({},n,{edge:o,color:p,disabled:g,disableFocusRipple:O,size:j}),E=function(e){var t=e.classes,n=e.disabled,r=e.color,a=e.edge,i=e.size,o={root:["root",n&&"disabled","default"!==r&&"color".concat(Object(h.a)(r)),a&&"edge".concat(Object(h.a)(a)),"size".concat(Object(h.a)(i))]};return Object(s.a)(o,m,t)}(S);return Object(b.jsx)(x,Object(i.a)({className:Object(u.a)(E.root,l),centerRipple:!0,focusRipple:!O,disabled:g,ref:t,ownerState:S},_,{children:c}))}));t.a=w},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(28),u=n(274),s=n(25),c=n(32),l=n(184),f=n(209);function d(e){return Object(l.a)("MuiDialogActions",e)}Object(f.a)("MuiDialogActions",["root","spacing"]);var h=n(2),p=["className","disableSpacing"],v=Object(s.a)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return Object(a.a)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),m=i.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiDialogActions"}),i=n.className,s=n.disableSpacing,l=void 0!==s&&s,f=Object(r.a)(n,p),m=Object(a.a)({},n,{disableSpacing:l}),g=function(e){var t=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return Object(u.a)(n,d,t)}(m);return Object(h.jsx)(v,Object(a.a)({className:Object(o.a)(g.root,i),ownerState:m,ref:t},f))}));t.a=m},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(28),u=n(274),s=n(25),c=n(32),l=n(103),f=n(184),d=n(209);function h(e){return Object(f.a)("MuiListItemSecondaryAction",e)}Object(d.a)("MuiListItemSecondaryAction",["root","disableGutters"]);var p=n(2),v=["className"],m=Object(s.a)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.ownerState;return Object(a.a)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),g=i.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiListItemSecondaryAction"}),s=n.className,f=Object(r.a)(n,v),d=i.useContext(l.a),g=Object(a.a)({},n,{disableGutters:d.disableGutters}),b=function(e){var t=e.disableGutters,n=e.classes,r={root:["root",t&&"disableGutters"]};return Object(u.a)(r,h,n)}(g);return Object(p.jsx)(m,Object(a.a)({className:Object(o.a)(b.root,s),ownerState:g,ref:t},f))}));g.muiName="ListItemSecondaryAction";t.a=g},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(28),u=n(274),s=n(103),c=n(25),l=n(32),f=n(184),d=n(209);function h(e){return Object(f.a)("MuiListItemAvatar",e)}Object(d.a)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var p=n(2),v=["className"],m=Object(c.a)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.ownerState;return Object(a.a)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),g=i.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiListItemAvatar"}),c=n.className,f=Object(r.a)(n,v),d=i.useContext(s.a),g=Object(a.a)({},n,{alignItems:d.alignItems}),b=function(e){var t=e.alignItems,n=e.classes,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return Object(u.a)(r,h,n)}(g);return Object(p.jsx)(m,Object(a.a)({className:Object(o.a)(b.root,c),ownerState:g,ref:t},f))}));t.a=g},function(e,t,n){"use strict";var r=n(11),a=n(26),i=n(1),o=(n(238),n(166)),u=n(1029),s=n(980).a,c=n(70),l=n(133),f=n(2),d=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function h(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function p(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function v(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function m(e,t,n,r,a,i){for(var o=!1,u=a(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return!1;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&v(u,i)&&!s)return u.focus(),!0;u=a(e,u,n)}return!1}var g=i.forwardRef((function(e,t){var n=e.actions,g=e.autoFocus,b=void 0!==g&&g,y=e.autoFocusItem,x=void 0!==y&&y,w=e.children,O=e.className,k=e.disabledItemsFocusable,j=void 0!==k&&k,_=e.disableListWrap,S=void 0!==_&&_,E=e.onKeyDown,A=e.variant,C=void 0===A?"selectedMenu":A,N=Object(a.a)(e,d),T=i.useRef(null),D=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Object(l.a)((function(){b&&T.current.focus()}),[b]),i.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!T.current.style.width;if(e.clientHeight<T.current.clientHeight&&n){var r="".concat(s(Object(o.a)(e)),"px");T.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,T.current.style.width="calc(100% + ".concat(r,")")}return T.current}}}),[]);var I=Object(c.a)(T,t),M=-1;i.Children.forEach(w,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===C&&e.props.selected||-1===M)&&(M=t))}));var F=i.Children.map(w,(function(e,t){if(t===M){var n={};return x&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===C&&(n.tabIndex=0),i.cloneElement(e,n)}return e}));return Object(f.jsx)(u.a,Object(r.a)({role:"menu",ref:I,className:O,onKeyDown:function(e){var t=T.current,n=e.key,r=Object(o.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),m(t,r,S,j,h);else if("ArrowUp"===n)e.preventDefault(),m(t,r,S,j,p);else if("Home"===n)e.preventDefault(),m(t,null,S,j,h);else if("End"===n)e.preventDefault(),m(t,null,S,j,p);else if(1===n.length){var a=D.current,i=n.toLowerCase(),u=performance.now();a.keys.length>0&&(u-a.lastTime>500?(a.keys=[],a.repeating=!0,a.previousKeyMatched=!0):a.repeating&&i!==a.keys[0]&&(a.repeating=!1)),a.lastTime=u,a.keys.push(i);var s=r&&!a.repeating&&v(r,a);a.previousKeyMatched&&(s||m(t,r,!1,j,h,a))?e.preventDefault():a.previousKeyMatched=!1}E&&E(e)},tabIndex:b?0:-1},N,{children:F}))}));t.a=g},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(28),u=n(274),s=n(25),c=n(32),l=n(103),f=n(184),d=n(209);function h(e){return Object(f.a)("MuiList",e)}Object(d.a)("MuiList",["root","padding","dense","subheader"]);var p=n(2),v=["children","className","component","dense","disablePadding","subheader"],m=Object(s.a)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return Object(a.a)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),g=i.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiList"}),s=n.children,f=n.className,d=n.component,g=void 0===d?"ul":d,b=n.dense,y=void 0!==b&&b,x=n.disablePadding,w=void 0!==x&&x,O=n.subheader,k=Object(r.a)(n,v),j=i.useMemo((function(){return{dense:y}}),[y]),_=Object(a.a)({},n,{component:g,dense:y,disablePadding:w}),S=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return Object(u.a)(n,h,t)}(_);return Object(p.jsx)(l.a.Provider,{value:j,children:Object(p.jsxs)(m,Object(a.a)({as:g,className:Object(o.a)(S.root,f),ref:t,ownerState:_},k,{children:[O,s]}))})}));t.a=g},function(e,t,n){"use strict";var r=n(11),a=n(26),i=n(1),o=n(28),u=n(274),s=n(25),c=n(32),l=n(263),f=n(166),d=n(221),h=n(70),p=n(985),v=n(1007),m=n(1022),g=n(184),b=n(209);function y(e){return Object(g.a)("MuiPopover",e)}Object(b.a)("MuiPopover",["root","paper"]);var x=n(2),w=["onEntering"],O=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function k(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function j(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function _(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function S(e){return"function"===typeof e?e():e}var E=Object(s.a)(v.a,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),A=Object(s.a)(m.a,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),C=i.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiPopover"}),s=n.action,v=n.anchorEl,m=n.anchorOrigin,g=void 0===m?{vertical:"top",horizontal:"left"}:m,b=n.anchorPosition,C=n.anchorReference,N=void 0===C?"anchorEl":C,T=n.children,D=n.className,I=n.container,M=n.elevation,F=void 0===M?8:M,R=n.marginThreshold,P=void 0===R?16:R,z=n.open,B=n.PaperProps,L=void 0===B?{}:B,U=n.transformOrigin,W=void 0===U?{vertical:"top",horizontal:"left"}:U,V=n.TransitionComponent,H=void 0===V?p.a:V,G=n.transitionDuration,q=void 0===G?"auto":G,X=n.TransitionProps,Y=(X=void 0===X?{}:X).onEntering,K=Object(a.a)(n.TransitionProps,w),$=Object(a.a)(n,O),Z=i.useRef(),J=Object(h.a)(Z,L.ref),Q=Object(r.a)({},n,{anchorOrigin:g,anchorReference:N,elevation:F,marginThreshold:P,PaperProps:L,transformOrigin:W,TransitionComponent:H,transitionDuration:q,TransitionProps:K}),ee=function(e){var t=e.classes;return Object(u.a)({root:["root"],paper:["paper"]},y,t)}(Q),te=i.useCallback((function(){if("anchorPosition"===N)return b;var e=S(v),t=(e&&1===e.nodeType?e:Object(f.a)(Z.current).body).getBoundingClientRect();return{top:t.top+k(t,g.vertical),left:t.left+j(t,g.horizontal)}}),[v,g.horizontal,g.vertical,b,N]),ne=i.useCallback((function(e){return{vertical:k(e,W.vertical),horizontal:j(e,W.horizontal)}}),[W.horizontal,W.vertical]),re=i.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=ne(t);if("none"===N)return{top:null,left:null,transformOrigin:_(n)};var r=te(),a=r.top-n.vertical,i=r.left-n.horizontal,o=a+t.height,u=i+t.width,s=Object(d.a)(S(v)),c=s.innerHeight-P,l=s.innerWidth-P;if(a<P){var f=a-P;a-=f,n.vertical+=f}else if(o>c){var h=o-c;a-=h,n.vertical+=h}if(i<P){var p=i-P;i-=p,n.horizontal+=p}else if(u>l){var m=u-l;i-=m,n.horizontal+=m}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:_(n)}}),[v,N,te,ne,P]),ae=i.useCallback((function(){var e=Z.current;if(e){var t=re(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[re]);i.useEffect((function(){z&&ae()})),i.useImperativeHandle(s,(function(){return z?{updatePosition:function(){ae()}}:null}),[z,ae]),i.useEffect((function(){if(z){var e=Object(l.a)((function(){ae()})),t=Object(d.a)(v);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[v,z,ae]);var ie=q;"auto"!==q||H.muiSupportAuto||(ie=void 0);var oe=I||(v?Object(f.a)(S(v)).body:void 0);return Object(x.jsx)(E,Object(r.a)({BackdropProps:{invisible:!0},className:Object(o.a)(ee.root,D),container:oe,open:z,ref:t,ownerState:Q},$,{children:Object(x.jsx)(H,Object(r.a)({appear:!0,in:z,onEntering:function(e,t){Y&&Y(e,t),ae()},timeout:ie},K,{children:Object(x.jsx)(A,Object(r.a)({elevation:F},L,{ref:J,className:Object(o.a)(ee.paper,L.className),children:T}))}))}))}));t.a=C},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(274),s=n(25),c=n(2),l=["children","classes","className","label","notched"],f=Object(s.a)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),d=Object(s.a)("legend",{skipSx:!0})((function(e){var t=e.ownerState,n=e.theme;return Object(i.a)({float:"unset"},void 0===t.label&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},void 0!==t.label&&Object(i.a)({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));var h=n(119),p=n(140),v=n(128),m=n(98),g=n(32),b=["components","fullWidth","inputComponent","label","multiline","notched","type"],y=Object(s.a)(m.b,{shouldForwardProp:function(e){return Object(s.b)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:m.e})((function(e){var t,n=e.theme,a=e.ownerState,o="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Object(i.a)((t={position:"relative",borderRadius:n.shape.borderRadius},Object(r.a)(t,"&:hover .".concat(v.a.notchedOutline),{borderColor:n.palette.text.primary}),Object(r.a)(t,"@media (hover: none)",Object(r.a)({},"&:hover .".concat(v.a.notchedOutline),{borderColor:o})),Object(r.a)(t,"&.".concat(v.a.focused," .").concat(v.a.notchedOutline),{borderColor:n.palette[a.color].main,borderWidth:2}),Object(r.a)(t,"&.".concat(v.a.error," .").concat(v.a.notchedOutline),{borderColor:n.palette.error.main}),Object(r.a)(t,"&.".concat(v.a.disabled," .").concat(v.a.notchedOutline),{borderColor:n.palette.action.disabled}),t),a.startAdornment&&{paddingLeft:14},a.endAdornment&&{paddingRight:14},a.multiline&&Object(i.a)({padding:"16.5px 14px"},"small"===a.size&&{padding:"8.5px 14px"}))})),x=Object(s.a)((function(e){var t=e.className,n=e.label,r=e.notched,o=Object(a.a)(e,l),u=Object(i.a)({},e,{notched:r,label:n});return Object(c.jsx)(f,Object(i.a)({"aria-hidden":!0,className:t,ownerState:u},o,{children:Object(c.jsx)(d,{ownerState:u,children:n?Object(c.jsx)("span",{children:n}):Object(c.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}})})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),w=Object(s.a)(m.a,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:m.d})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),O=o.forwardRef((function(e,t){var n,r=Object(g.a)({props:e,name:"MuiOutlinedInput"}),s=r.components,l=void 0===s?{}:s,f=r.fullWidth,d=void 0!==f&&f,O=r.inputComponent,k=void 0===O?"input":O,j=r.label,_=r.multiline,S=void 0!==_&&_,E=r.notched,A=r.type,C=void 0===A?"text":A,N=Object(a.a)(r,b),T=function(e){var t=e.classes,n=Object(u.a)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},v.b,t);return Object(i.a)({},t,n)}(r),D=Object(h.a)(),I=Object(p.a)({props:r,muiFormControl:D,states:["required"]});return Object(c.jsx)(m.c,Object(i.a)({components:Object(i.a)({Root:y,Input:w},l),renderSuffix:function(e){return Object(c.jsx)(x,{className:T.notchedOutline,label:j&&I.required?n||(n=Object(c.jsxs)(o.Fragment,{children:[j,"\xa0","*"]})):j,notched:"undefined"!==typeof E?E:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:d,inputComponent:k,multiline:S,ref:t,type:C},N,{classes:Object(i.a)({},T,{notchedOutline:null})}))}));O.muiName="Input";t.a=O},function(e,t,n){"use strict";var r=n(6),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(32),l=n(25),f=n(222),d=n(29),h=n(167),p=n(269),v=n(184),m=n(209);function g(e){return Object(v.a)("MuiFormControl",e)}Object(m.a)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var b=n(2),y=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],x=Object(l.a)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Object(i.a)({},t.root,t["margin".concat(Object(d.a)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return Object(i.a)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),w=o.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiFormControl"}),l=n.children,v=n.className,m=n.color,w=void 0===m?"primary":m,O=n.component,k=void 0===O?"div":O,j=n.disabled,_=void 0!==j&&j,S=n.error,E=void 0!==S&&S,A=n.focused,C=n.fullWidth,N=void 0!==C&&C,T=n.hiddenLabel,D=void 0!==T&&T,I=n.margin,M=void 0===I?"none":I,F=n.required,R=void 0!==F&&F,P=n.size,z=void 0===P?"medium":P,B=n.variant,L=void 0===B?"outlined":B,U=Object(a.a)(n,y),W=Object(i.a)({},n,{color:w,component:k,disabled:_,error:E,fullWidth:N,hiddenLabel:D,margin:M,required:R,size:z,variant:L}),V=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,a={root:["root","none"!==n&&"margin".concat(Object(d.a)(n)),r&&"fullWidth"]};return Object(s.a)(a,g,t)}(W),H=o.useState((function(){var e=!1;return l&&o.Children.forEach(l,(function(t){if(Object(h.a)(t,["Input","Select"])){var n=Object(h.a)(t,["Select"])?t.props.input:t;n&&Object(f.a)(n.props)&&(e=!0)}})),e})),G=Object(r.a)(H,2),q=G[0],X=G[1],Y=o.useState((function(){var e=!1;return l&&o.Children.forEach(l,(function(t){Object(h.a)(t,["Input","Select"])&&Object(f.b)(t.props,!0)&&(e=!0)})),e})),K=Object(r.a)(Y,2),$=K[0],Z=K[1],J=o.useState(!1),Q=Object(r.a)(J,2),ee=Q[0],te=Q[1];_&&ee&&te(!1);var ne=void 0===A||_?ee:A,re=o.useCallback((function(){Z(!0)}),[]),ae={adornedStart:q,setAdornedStart:X,color:w,disabled:_,error:E,filled:$,focused:ne,fullWidth:N,hiddenLabel:D,size:z,onBlur:function(){te(!1)},onEmpty:o.useCallback((function(){Z(!1)}),[]),onFilled:re,onFocus:function(){te(!0)},registerEffect:undefined,required:R,variant:L};return Object(b.jsx)(p.a.Provider,{value:ae,children:Object(b.jsx)(x,Object(i.a)({as:k,ownerState:W,className:Object(u.a)(V.root,v),ref:t},U,{children:l}))})}));t.a=w},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(140),l=n(119),f=n(25),d=n(29),h=n(184),p=n(209);function v(e){return Object(h.a)("MuiFormHelperText",e)}var m=Object(p.a)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),g=n(32),b=n(2),y=["children","className","component","disabled","error","filled","focused","margin","required","variant"],x=Object(f.a)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(Object(d.a)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,a=e.ownerState;return Object(i.a)({color:n.palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},Object(r.a)(t,"&.".concat(m.disabled),{color:n.palette.text.disabled}),Object(r.a)(t,"&.".concat(m.error),{color:n.palette.error.main}),t),"small"===a.size&&{marginTop:4},a.contained&&{marginLeft:14,marginRight:14})})),w=o.forwardRef((function(e,t){var n=Object(g.a)({props:e,name:"MuiFormHelperText"}),r=n.children,o=n.className,f=n.component,h=void 0===f?"p":f,p=Object(a.a)(n,y),m=Object(l.a)(),w=Object(c.a)({props:n,muiFormControl:m,states:["variant","size","disabled","error","filled","focused","required"]}),O=Object(i.a)({},n,{component:h,contained:"filled"===w.variant||"outlined"===w.variant,variant:w.variant,size:w.size,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required}),k=function(e){var t=e.classes,n=e.contained,r=e.size,a=e.disabled,i=e.error,o=e.filled,u=e.focused,c=e.required,l={root:["root",a&&"disabled",i&&"error",r&&"size".concat(Object(d.a)(r)),n&&"contained",u&&"focused",o&&"filled",c&&"required"]};return Object(s.a)(l,v,t)}(O);return Object(b.jsx)(x,Object(i.a)({as:h,ownerState:O,className:Object(u.a)(k.root,o),ref:t},p,{children:" "===r?Object(b.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):r}))}));t.a=w},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(471),c=n(274),l=n(25),f=n(32),d=n(96),h=n(113),p=n(102),v=n(70),m=n(184),g=n(209);function b(e){return Object(m.a)("MuiCollapse",e)}Object(g.a)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var y=n(2),x=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],w=Object(l.a)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===n.state&&Object(i.a)({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"})})),O=Object(l.a)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:function(e,t){return t.wrapper}})((function(e){var t=e.ownerState;return Object(i.a)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),k=Object(l.a)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:function(e,t){return t.wrapperInner}})((function(e){var t=e.ownerState;return Object(i.a)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),j=o.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiCollapse"}),l=n.addEndListener,m=n.children,g=n.className,j=n.collapsedSize,_=void 0===j?"0px":j,S=n.component,E=n.easing,A=n.in,C=n.onEnter,N=n.onEntered,T=n.onEntering,D=n.onExit,I=n.onExited,M=n.onExiting,F=n.orientation,R=void 0===F?"vertical":F,P=n.style,z=n.timeout,B=void 0===z?d.b.standard:z,L=n.TransitionComponent,U=void 0===L?s.a:L,W=Object(a.a)(n,x),V=Object(i.a)({},n,{orientation:R,collapsedSize:_}),H=function(e){var t=e.orientation,n=e.classes,r={root:["root","".concat(t)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(t)],wrapperInner:["wrapperInner","".concat(t)]};return Object(c.a)(r,b,n)}(V),G=Object(p.a)(),q=o.useRef(),X=o.useRef(null),Y=o.useRef(),K="number"===typeof _?"".concat(_,"px"):_,$="horizontal"===R,Z=$?"width":"height";o.useEffect((function(){return function(){clearTimeout(q.current)}}),[]);var J=o.useRef(null),Q=Object(v.a)(t,J),ee=function(e){return function(t){if(e){var n=J.current;void 0===t?e(n):e(n,t)}}},te=function(){return X.current?X.current[$?"clientWidth":"clientHeight"]:0},ne=ee((function(e,t){X.current&&$&&(X.current.style.position="absolute"),e.style[Z]=K,C&&C(e,t)})),re=ee((function(e,t){var n=te();X.current&&$&&(X.current.style.position="");var r=Object(h.a)({style:P,timeout:B,easing:E},{mode:"enter"}),a=r.duration,i=r.easing;if("auto"===B){var o=G.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(o,"ms"),Y.current=o}else e.style.transitionDuration="string"===typeof a?a:"".concat(a,"ms");e.style[Z]="".concat(n,"px"),e.style.transitionTimingFunction=i,T&&T(e,t)})),ae=ee((function(e,t){e.style[Z]="auto",N&&N(e,t)})),ie=ee((function(e){e.style[Z]="".concat(te(),"px"),D&&D(e)})),oe=ee(I),ue=ee((function(e){var t=te(),n=Object(h.a)({style:P,timeout:B,easing:E},{mode:"exit"}),r=n.duration,a=n.easing;if("auto"===B){var i=G.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(i,"ms"),Y.current=i}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style[Z]=K,e.style.transitionTimingFunction=a,M&&M(e)}));return Object(y.jsx)(U,Object(i.a)({in:A,onEnter:ne,onEntered:ae,onEntering:re,onExit:ie,onExited:oe,onExiting:ue,addEndListener:function(e){"auto"===B&&(q.current=setTimeout(e,Y.current||0)),l&&l(J.current,e)},nodeRef:J,timeout:"auto"===B?null:B},W,{children:function(e,t){return Object(y.jsx)(w,Object(i.a)({as:S,className:Object(u.a)(H.root,g,{entered:H.entered,exited:!A&&"0px"===K&&H.hidden}[e]),style:Object(i.a)(Object(r.a)({},$?"minWidth":"minHeight",K),P),ownerState:Object(i.a)({},V,{state:e}),ref:Q},t,{children:Object(y.jsx)(O,{ownerState:Object(i.a)({},V,{state:e}),className:H.wrapper,ref:X,children:Object(y.jsx)(k,{ownerState:Object(i.a)({},V,{state:e}),className:H.wrapperInner,children:m})})}))}}))}));j.muiSupportAuto=!0;t.a=j},function(e,t,n){"use strict";var r=n(11),a=n(26),i=n(1),o=n(28),u=n(293),s=n(976),c=n(978),l=n(219),f=n(2),d=["className","component"];var h=n(572),p=n(628),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=e.defaultClassName,h=void 0===n?"MuiBox-root":n,p=e.generateClassName,v=Object(u.a)("div")(s.a),m=i.forwardRef((function(e,n){var i=Object(l.a)(t),u=Object(c.a)(e),s=u.className,m=u.component,g=void 0===m?"div":m,b=Object(a.a)(u,d);return Object(f.jsx)(v,Object(r.a)({as:g,ref:n,className:Object(o.a)(s,p?p(h):h),theme:i},b))}));return m}({defaultTheme:Object(p.a)(),defaultClassName:"MuiBox-root",generateClassName:h.a.generate});t.a=v},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(28),u=n(274),s=n(25),c=n(32),l=n(29),f=n(1022),d=n(184),h=n(209);function p(e){return Object(d.a)("MuiAppBar",e)}Object(h.a)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var v=n(2),m=["className","color","enableColorOnDark","position"],g=Object(s.a)(f.a,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat(Object(l.a)(n.position))],t["color".concat(Object(l.a)(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return Object(a.a)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&Object(a.a)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"}))})),b=i.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiAppBar"}),i=n.className,s=n.color,f=void 0===s?"primary":s,d=n.enableColorOnDark,h=void 0!==d&&d,b=n.position,y=void 0===b?"fixed":b,x=Object(r.a)(n,m),w=Object(a.a)({},n,{color:f,position:y,enableColorOnDark:h}),O=function(e){var t=e.color,n=e.position,r=e.classes,a={root:["root","color".concat(Object(l.a)(t)),"position".concat(Object(l.a)(n))]};return Object(u.a)(a,p,r)}(w);return Object(v.jsx)(g,Object(a.a)({square:!0,component:"header",ownerState:w,elevation:4,className:Object(o.a)(O.root,i,"fixed"===y&&"mui-fixed"),ref:t},x))}));t.a=b},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(32),l=n(25),f=n(184),d=n(209);function h(e){return Object(f.a)("MuiToolbar",e)}Object(d.a)("MuiToolbar",["root","gutters","regular","dense"]);var p=n(2),v=["className","component","disableGutters","variant"],m=Object(l.a)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&Object(r.a)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),g=o.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiToolbar"}),r=n.className,o=n.component,l=void 0===o?"div":o,f=n.disableGutters,d=void 0!==f&&f,g=n.variant,b=void 0===g?"regular":g,y=Object(a.a)(n,v),x=Object(i.a)({},n,{component:l,disableGutters:d,variant:b}),w=function(e){var t=e.classes,n={root:["root",!e.disableGutters&&"gutters",e.variant]};return Object(s.a)(n,h,t)}(x);return Object(p.jsx)(m,Object(i.a)({as:l,className:Object(u.a)(w.root,r),ref:t,ownerState:x},y))}));t.a=g},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(28),u=n(274),s=n(25),c=n(32),l=n(29),f=n(184),d=n(209);function h(e){return Object(f.a)("MuiListSubheader",e)}Object(d.a)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var p=n(2),v=["className","color","component","disableGutters","disableSticky","inset"],m=Object(s.a)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(Object(l.a)(n.color))],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:t.palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},"primary"===n.color&&{color:t.palette.primary.main},"inherit"===n.color&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:t.palette.background.paper})})),g=i.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiListSubheader"}),i=n.className,s=n.color,f=void 0===s?"default":s,d=n.component,g=void 0===d?"li":d,b=n.disableGutters,y=void 0!==b&&b,x=n.disableSticky,w=void 0!==x&&x,O=n.inset,k=void 0!==O&&O,j=Object(r.a)(n,v),_=Object(a.a)({},n,{color:f,component:g,disableGutters:y,disableSticky:w,inset:k}),S=function(e){var t=e.classes,n=e.color,r=e.disableGutters,a=e.inset,i=e.disableSticky,o={root:["root","default"!==n&&"color".concat(Object(l.a)(n)),!r&&"gutters",a&&"inset",!i&&"sticky"]};return Object(u.a)(o,h,t)}(_);return Object(p.jsx)(m,Object(a.a)({as:g,className:Object(o.a)(S.root,i),ref:t,ownerState:_},j))}));t.a=g},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(119),l=n(305),f=n(29),d=n(25),h=n(32),p=n(184),v=n(209);function m(e){return Object(p.a)("MuiFormControlLabel",e)}var g=Object(v.a)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label"]),b=n(2),y=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],x=Object(d.a)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(r.a)({},"& .".concat(g.label),t.label),t.root,t["labelPlacement".concat(Object(f.a)(n.labelPlacement))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)(Object(r.a)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(g.disabled),{cursor:"default"}),"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},Object(r.a)({},"& .".concat(g.label),Object(r.a)({},"&.".concat(g.disabled),{color:t.palette.text.disabled})))})),w=o.forwardRef((function(e,t){var n=Object(h.a)({props:e,name:"MuiFormControlLabel"}),r=n.className,d=n.componentsProps,p=void 0===d?{}:d,v=n.control,g=n.disabled,w=n.disableTypography,O=n.label,k=n.labelPlacement,j=void 0===k?"end":k,_=Object(a.a)(n,y),S=Object(c.a)(),E=g;"undefined"===typeof E&&"undefined"!==typeof v.props.disabled&&(E=v.props.disabled),"undefined"===typeof E&&S&&(E=S.disabled);var A={disabled:E};["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof v.props[e]&&"undefined"!==typeof n[e]&&(A[e]=n[e])}));var C=Object(i.a)({},n,{disabled:E,label:O,labelPlacement:j}),N=function(e){var t=e.classes,n=e.disabled,r=e.labelPlacement,a={root:["root",n&&"disabled","labelPlacement".concat(Object(f.a)(r))],label:["label",n&&"disabled"]};return Object(s.a)(a,m,t)}(C);return Object(b.jsxs)(x,Object(i.a)({className:Object(u.a)(N.root,r),ownerState:C,ref:t},_,{children:[o.cloneElement(v,A),O.type===l.a||w?O:Object(b.jsx)(l.a,Object(i.a)({component:"span",className:N.label},p.typography,{children:O}))]}))}));t.a=w},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(28),u=n(274),s=n(25),c=n(32),l=n(184),f=n(209);function d(e){return Object(l.a)("MuiFormGroup",e)}Object(f.a)("MuiFormGroup",["root","row"]);var h=n(2),p=["className","row"],v=Object(s.a)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.row&&t.row]}})((function(e){var t=e.ownerState;return Object(a.a)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),m=i.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiFormGroup"}),i=n.className,s=n.row,l=void 0!==s&&s,f=Object(r.a)(n,p),m=Object(a.a)({},n,{row:l}),g=function(e){var t=e.classes,n={root:["root",e.row&&"row"]};return Object(u.a)(n,d,t)}(m);return Object(h.jsx)(v,Object(a.a)({className:Object(o.a)(g.root,i),ownerState:m,ref:t},f))}));t.a=m},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(32),l=n(25),f=n(184),d=n(209);function h(e){return Object(f.a)("MuiContainer",e)}Object(d.a)("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var p=n(29),v=n(2),m=["className","component","disableGutters","fixed","maxWidth"],g=Object(l.a)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat(Object(p.a)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&Object(r.a)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var r=t.breakpoints.values[n];return 0!==r&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(r).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({},"xs"===n.maxWidth&&Object(r.a)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&Object(r.a)({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))})),b=o.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiContainer"}),r=n.className,o=n.component,l=void 0===o?"div":o,f=n.disableGutters,d=void 0!==f&&f,b=n.fixed,y=void 0!==b&&b,x=n.maxWidth,w=void 0===x?"lg":x,O=Object(a.a)(n,m),k=Object(i.a)({},n,{component:l,disableGutters:d,fixed:y,maxWidth:w}),j=function(e){var t=e.classes,n=e.fixed,r=e.disableGutters,a=e.maxWidth,i={root:["root",a&&"maxWidth".concat(Object(p.a)(String(a))),n&&"fixed",r&&"disableGutters"]};return Object(s.a)(i,h,t)}(k);return Object(v.jsx)(g,Object(i.a)({as:l,ownerState:k,className:Object(u.a)(j.root,r),ref:t},O))}));t.a=b},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(1),u=n(28),s=n(274),c=n(914),l=n(29),f=n(399),d=n(32),h=n(25),p=n(184),v=n(209);function m(e){return Object(p.a)("MuiSwitch",e)}var g=Object(v.a)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),b=n(2),y=["className","color","edge","size","sx"],x=Object(h.a)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.edge&&t["edge".concat(Object(l.a)(n.edge))],t["size".concat(Object(l.a)(n.size))]]}})((function(e){var t,n=e.ownerState;return Object(i.a)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===n.edge&&{marginLeft:-8},"end"===n.edge&&{marginRight:-8},"small"===n.size&&(t={width:40,height:24,padding:7},Object(r.a)(t,"& .".concat(g.thumb),{width:16,height:16}),Object(r.a)(t,"& .".concat(g.switchBase),Object(r.a)({padding:4},"&.".concat(g.checked),{transform:"translateX(16px)"})),t))})),w=Object(h.a)(f.a,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,t){var n=e.ownerState;return[t.switchBase,Object(r.a)({},"& .".concat(g.input),t.input),"default"!==n.color&&t["color".concat(Object(l.a)(n.color))]]}})((function(e){var t,n=e.theme;return t={position:"absolute",top:0,left:0,zIndex:1,color:"light"===n.palette.mode?n.palette.common.white:n.palette.grey[300],transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest})},Object(r.a)(t,"&.".concat(g.checked),{transform:"translateX(20px)"}),Object(r.a)(t,"&.".concat(g.disabled),{color:"light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600]}),Object(r.a)(t,"&.".concat(g.checked," + .").concat(g.track),{opacity:.5}),Object(r.a)(t,"&.".concat(g.disabled," + .").concat(g.track),{opacity:"light"===n.palette.mode?.12:.2}),Object(r.a)(t,"& .".concat(g.input),{left:"-100%",width:"300%"}),t}),(function(e){var t,n=e.theme,a=e.ownerState;return Object(i.a)({"&:hover":{backgroundColor:Object(c.a)(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&(t={},Object(r.a)(t,"&.".concat(g.checked),Object(r.a)({color:n.palette[a.color].main,"&:hover":{backgroundColor:Object(c.a)(n.palette[a.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(g.disabled),{color:"light"===n.palette.mode?Object(c.d)(n.palette[a.color].main,.62):Object(c.b)(n.palette[a.color].main,.55)})),Object(r.a)(t,"&.".concat(g.checked," + .").concat(g.track),{backgroundColor:n.palette[a.color].main}),t))})),O=Object(h.a)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:"light"===t.palette.mode?t.palette.common.black:t.palette.common.white,opacity:"light"===t.palette.mode?.38:.3}})),k=Object(h.a)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,t){return t.thumb}})((function(e){return{boxShadow:e.theme.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),j=o.forwardRef((function(e,t){var n=Object(d.a)({props:e,name:"MuiSwitch"}),r=n.className,o=n.color,c=void 0===o?"primary":o,f=n.edge,h=void 0!==f&&f,p=n.size,v=void 0===p?"medium":p,g=n.sx,j=Object(a.a)(n,y),_=Object(i.a)({},n,{color:c,edge:h,size:v}),S=function(e){var t=e.classes,n=e.edge,r=e.size,a=e.color,o=e.checked,u=e.disabled,c={root:["root",n&&"edge".concat(Object(l.a)(n)),"size".concat(Object(l.a)(r))],switchBase:["switchBase","color".concat(Object(l.a)(a)),o&&"checked",u&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},f=Object(s.a)(c,m,t);return Object(i.a)({},t,f)}(_),E=Object(b.jsx)(k,{className:S.thumb,ownerState:_});return Object(b.jsxs)(x,{className:Object(u.a)(S.root,r),sx:g,ownerState:_,children:[Object(b.jsx)(w,Object(i.a)({type:"checkbox",icon:E,checkedIcon:E,ref:t,ownerState:_},j,{classes:Object(i.a)({},S,{root:S.switchBase})})),Object(b.jsx)(O,{className:S.track,ownerState:_})]})}));t.a=j},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(1),o=n(28),u=n(274),s=n(1007),c=n(993),l=n(1022),f=n(29),d=n(96),h=n(102),p=n(32),v=n(25),m=n(184),g=n(209);function b(e){return Object(m.a)("MuiDrawer",e)}Object(g.a)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var y=n(2),x=["BackdropProps"],w=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],O=function(e,t){var n=e.ownerState;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},k=Object(v.a)(s.a,{name:"MuiDrawer",slot:"Root",overridesResolver:O})((function(e){return{zIndex:e.theme.zIndex.drawer}})),j=Object(v.a)("div",{shouldForwardProp:v.b,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:O})({flex:"0 0 auto"}),_=Object(v.a)(l.a,{name:"MuiDrawer",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["paperAnchor".concat(Object(f.a)(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat(Object(f.a)(n.anchor))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:t.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat(t.palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat(t.palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat(t.palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat(t.palette.divider)})})),S={left:"right",right:"left",top:"down",bottom:"up"};var E={enter:d.b.enteringScreen,exit:d.b.leavingScreen},A=i.forwardRef((function(e,t){var n=Object(p.a)({props:e,name:"MuiDrawer"}),s=n.anchor,l=void 0===s?"left":s,d=n.BackdropProps,v=n.children,m=n.className,g=n.elevation,O=void 0===g?16:g,A=n.hideBackdrop,C=void 0!==A&&A,N=n.ModalProps,T=(N=void 0===N?{}:N).BackdropProps,D=n.onClose,I=n.open,M=void 0!==I&&I,F=n.PaperProps,R=void 0===F?{}:F,P=n.SlideProps,z=n.TransitionComponent,B=void 0===z?c.a:z,L=n.transitionDuration,U=void 0===L?E:L,W=n.variant,V=void 0===W?"temporary":W,H=Object(r.a)(n.ModalProps,x),G=Object(r.a)(n,w),q=Object(h.a)(),X=i.useRef(!1);i.useEffect((function(){X.current=!0}),[]);var Y=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?S[t]:t}(q,l),K=l,$=Object(a.a)({},n,{anchor:K,elevation:O,open:M,variant:V},G),Z=function(e){var t=e.classes,n=e.anchor,r=e.variant,a={root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(Object(f.a)(n)),"temporary"!==r&&"paperAnchorDocked".concat(Object(f.a)(n))]};return Object(u.a)(a,b,t)}($),J=Object(y.jsx)(_,Object(a.a)({elevation:"temporary"===V?O:0,square:!0},R,{className:Object(o.a)(Z.paper,R.className),ownerState:$,children:v}));if("permanent"===V)return Object(y.jsx)(j,Object(a.a)({className:Object(o.a)(Z.root,Z.docked,m),ownerState:$,ref:t},G,{children:J}));var Q=Object(y.jsx)(B,Object(a.a)({in:M,direction:S[Y],timeout:U,appear:X.current},P,{children:J}));return"persistent"===V?Object(y.jsx)(j,Object(a.a)({className:Object(o.a)(Z.root,Z.docked,m),ownerState:$,ref:t},G,{children:Q})):Object(y.jsx)(k,Object(a.a)({BackdropProps:Object(a.a)({},d,T,{transitionDuration:U}),className:Object(o.a)(Z.root,Z.modal,m),open:M,ownerState:$,onClose:D,hideBackdrop:C,ref:t},G,H,{children:Q}))}));t.a=A},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(274),o=n(28),u=n(1),s=n(25),c=n(32),l=n(184),f=n(209);function d(e){return Object(l.a)("MuiImageList",e)}Object(f.a)("MuiImageList",["root","masonry","quilted","standard","woven"]);var h=n(396),p=n(2),v=["children","className","cols","component","rowHeight","gap","style","variant"],m=Object(s.a)("ul",{name:"MuiImageList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant]]}})((function(e){var t=e.ownerState;return Object(a.a)({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},"masonry"===t.variant&&{display:"block"})})),g=u.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiImageList"}),s=n.children,l=n.className,f=n.cols,g=void 0===f?2:f,b=n.component,y=void 0===b?"ul":b,x=n.rowHeight,w=void 0===x?"auto":x,O=n.gap,k=void 0===O?4:O,j=n.style,_=n.variant,S=void 0===_?"standard":_,E=Object(r.a)(n,v),A=u.useMemo((function(){return{rowHeight:w,gap:k,variant:S}}),[w,k,S]);u.useEffect((function(){0}),[]);var C="masonry"===S?Object(a.a)({columnCount:g,columnGap:k},j):Object(a.a)({gridTemplateColumns:"repeat(".concat(g,", 1fr)"),gap:k},j),N=Object(a.a)({},n,{component:y,gap:k,rowHeight:w,variant:S}),T=function(e){var t=e.classes,n={root:["root",e.variant]};return Object(i.a)(n,d,t)}(N);return Object(p.jsx)(m,Object(a.a)({as:y,className:Object(o.a)(T.root,T[S],l),ref:t,style:C,ownerState:N},E,{children:Object(p.jsx)(h.a.Provider,{value:A,children:s})}))}));t.a=g},function(e,t,n){"use strict";var r=n(15),a=n(26),i=n(11),o=n(274),u=n(28),s=n(1),c=(n(238),n(396)),l=n(25),f=n(32),d=n(167),h=n(184),p=n(209);function v(e){return Object(h.a)("MuiImageListItem",e)}var m=Object(p.a)("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),g=n(2),b=["children","className","cols","component","rows","style"],y=Object(l.a)("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(r.a)({},"& .".concat(m.img),t.img),t.root,t[n.variant]]}})((function(e){var t=e.ownerState;return Object(i.a)({display:"inline-block",position:"relative",lineHeight:0},"standard"===t.variant&&{display:"flex",flexDirection:"column"},"woven"===t.variant&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},Object(r.a)({},"& .".concat(m.img),Object(i.a)({objectFit:"cover",width:"100%",height:"100%"},"standard"===t.variant&&{height:"auto",flexGrow:1})))})),x=s.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiImageListItem"}),r=n.children,l=n.className,h=n.cols,p=void 0===h?1:h,m=n.component,x=void 0===m?"li":m,w=n.rows,O=void 0===w?1:w,k=n.style,j=Object(a.a)(n,b),_=s.useContext(c.a),S=_.rowHeight,E=void 0===S?"auto":S,A=_.gap,C=_.variant,N="auto";"woven"===C?N=void 0:"auto"!==E&&(N=E*O+A*(O-1));var T=Object(i.a)({},n,{cols:p,component:x,gap:A,rowHeight:E,rows:O,variant:C}),D=function(e){var t=e.classes,n={root:["root",e.variant],img:["img"]};return Object(o.a)(n,v,t)}(T);return Object(g.jsx)(y,Object(i.a)({as:x,className:Object(u.a)(D.root,D[C],l),ref:t,style:Object(i.a)({height:N,gridColumnEnd:"masonry"!==C?"span ".concat(p):void 0,gridRowEnd:"masonry"!==C?"span ".concat(O):void 0,marginBottom:"masonry"===C?A:void 0},k),ownerState:T},j,{children:s.Children.map(r,(function(e){return s.isValidElement(e)?"img"===e.type||Object(d.a)(e,["Image"])?s.cloneElement(e,{className:Object(u.a)(D.img,e.props.className)}):e:null}))}))}));t.a=x},function(e,t,n){"use strict";var r=n(26),a=n(11),i=n(274),o=n(28),u=n(1),s=n(25),c=n(32),l=n(29),f=n(184),d=n(209);function h(e){return Object(f.a)("MuiImageListItemBar",e)}Object(d.a)("MuiImageListItemBar",["root","positionBottom","positionTop","positionBelow","titleWrap","titleWrapBottom","titleWrapTop","titleWrapBelow","titleWrapActionPosLeft","titleWrapActionPosRight","title","subtitle","actionIcon","actionIconActionPosLeft","actionIconActionPosRight"]);var p=n(2),v=["actionIcon","actionPosition","className","subtitle","title","position"],m=Object(s.a)("div",{name:"MuiImageListItemBar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat(Object(l.a)(n.position))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({position:"absolute",left:0,right:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:t.typography.fontFamily},"bottom"===n.position&&{bottom:0},"top"===n.position&&{top:0},"below"===n.position&&{position:"relative",background:"transparent",alignItems:"normal"})})),g=Object(s.a)("div",{name:"MuiImageListItemBar",slot:"TitleWrap",overridesResolver:function(e,t){var n=e.ownerState;return[t.titleWrap,t["titleWrap".concat(Object(l.a)(n.position))],n.actionIcon&&t["titleWrapActionPos".concat(Object(l.a)(n.actionPosition))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({flexGrow:1,padding:"12px 16px",color:t.palette.common.white,overflow:"hidden"},"below"===n.position&&{padding:"6px 0 12px",color:"inherit"},n.actionIcon&&"left"===n.actionPosition&&{paddingLeft:0},n.actionIcon&&"right"===n.actionPosition&&{paddingRight:0})})),b=Object(s.a)("div",{name:"MuiImageListItemBar",slot:"Title",overridesResolver:function(e,t){return t.title}})((function(e){return{fontSize:e.theme.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}})),y=Object(s.a)("div",{name:"MuiImageListItemBar",slot:"Subtitle",overridesResolver:function(e,t){return t.subtitle}})((function(e){return{fontSize:e.theme.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}})),x=Object(s.a)("div",{name:"MuiImageListItemBar",slot:"ActionIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.actionIcon,t["actionIconActionPos".concat(Object(l.a)(n.actionPosition))]]}})((function(e){var t=e.ownerState;return Object(a.a)({},"left"===t.actionPosition&&{order:-1})})),w=u.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiImageListItemBar"}),u=n.actionIcon,s=n.actionPosition,f=void 0===s?"right":s,d=n.className,w=n.subtitle,O=n.title,k=n.position,j=void 0===k?"bottom":k,_=Object(r.a)(n,v),S=Object(a.a)({},n,{position:j,actionPosition:f}),E=function(e){var t=e.classes,n=e.position,r=e.actionIcon,a=e.actionPosition,o={root:["root","position".concat(Object(l.a)(n))],titleWrap:["titleWrap","titleWrap".concat(Object(l.a)(n)),r&&"titleWrapActionPos".concat(Object(l.a)(a))],title:["title"],subtitle:["subtitle"],actionIcon:["actionIcon","actionIconActionPos".concat(Object(l.a)(a))]};return Object(i.a)(o,h,t)}(S);return Object(p.jsxs)(m,Object(a.a)({ownerState:S,className:Object(o.a)(E.root,d),ref:t},_,{children:[Object(p.jsxs)(g,{ownerState:S,className:E.titleWrap,children:[Object(p.jsx)(b,{className:E.title,children:O}),w?Object(p.jsx)(y,{className:E.subtitle,children:w}):null]}),u?Object(p.jsx)(x,{ownerState:S,className:E.actionIcon,children:u}):null]}))}));t.a=w}]]);
//# sourceMappingURL=2.0fdfdf2a.chunk.js.map